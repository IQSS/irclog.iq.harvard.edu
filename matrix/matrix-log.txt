Wed, May 26, 2021, 12:42:20 - @bjonnh:matrix.org joined the room
Wed, May 26, 2021, 12:42:20 - @bjonnh:matrix.org set the main address for this room to #dataverse:matrix.org.
Wed, May 26, 2021, 12:42:20 - @bjonnh:matrix.org made the room public to whoever knows the link.
Wed, May 26, 2021, 12:42:21 - @bjonnh:matrix.org made future room history visible to all room members.
Wed, May 26, 2021, 12:42:21 - @bjonnh:matrix.org changed the room name to dataverse.
Wed, May 26, 2021, 12:42:21 - @bjonnh:matrix.org changed the topic to "Dataverse is open source research data repository software: http://dataverse.org".
Wed, May 26, 2021, 12:42:38 - poikilotherm joined the room
Wed, May 26, 2021, 12:43:15 - @bjonnh:matrix.org changed the room avatar.
Wed, May 26, 2021, 12:43:38 - poikilotherm: This will be the first message ever logged in this chat. It's all about the Dataverse project.
Wed, May 26, 2021, 12:44:09 - @bjonnh:matrix.org made future room history visible to anyone.
Wed, May 26, 2021, 12:45:18 - poikilotherm: Now this will be the first public message... So instead of the previous one, this will be the first ever logged üôàüôâüôä
Wed, May 26, 2021, 12:46:29 - poikilotherm: We should replace the room icon with the Dataverse favicon to be more eye catching ü§ó
Wed, May 26, 2021, 12:46:48 - @bjonnh:matrix.org changed the power level of poikilotherm from Default to Admin.
Wed, May 26, 2021, 12:46:55 - @bjonnh:matrix.org: go ahead
Wed, May 26, 2021, 12:50:01 - poikilotherm: Uh any idea how to get the room ID to watch the logs at view.matrix.org?
Wed, May 26, 2021, 12:58:45 - @bjonnh:matrix.org: its main address is #dataverse:matrix.org
Wed, May 26, 2021, 13:18:19 - poikilotherm: Aye. View.matrix.org need some UUID 
Wed, May 26, 2021, 13:22:36 - poikilotherm: Uh looks like view.matrix.org isn't quite ready for small rooms. Lots of 500 errors when trying to access some of the publogs
Wed, May 26, 2021, 13:22:47 - poikilotherm: Not sure what's the cause
Wed, May 26, 2021, 13:23:10 - poikilotherm: And couldn't find dataverse in the list üòî
Wed, May 26, 2021, 13:32:40 - poikilotherm: Pdurbin to the rescue. https://view.matrix.org/alias/%23dataverse:matrix.org
Wed, May 26, 2021, 13:33:10 - poikilotherm changed the topic to "Dataverse is open source research data repository software: http://dataverse.org

Public logs at https://view.matrix.org/alias/%23dataverse:matrix.org".
Wed, May 26, 2021, 16:59:23 - pdurbin joined the room
Wed, May 26, 2021, 17:00:07 - pdurbin: So this is the matrix.
Wed, May 26, 2021, 17:02:03 - poikilotherm: Neo: I know you're out there. I can feel you now. ... 
Wed, May 26, 2021, 17:03:02 - poikilotherm: Welcome Philip Durbin 
Wed, May 26, 2021, 17:26:25 - @bjonnh:matrix.org: hey you here
Thu, May 27, 2021, 06:33:20 - poikilotherm changed the room avatar.
Thu, May 27, 2021, 06:33:27 - poikilotherm changed the topic to "Dataverse is open source research data repository software: http://dataverse.org

Public logs at https://view.matrix.org/alias/#dataverse:matrix.org".
Thu, May 27, 2021, 06:34:43 - poikilotherm changed the topic to "Dataverse is open source research data repository software: http://dataverse.org

Public logs at https://view.matrix.org/alias/%23dataverse:matrix.org".
Thu, May 27, 2021, 10:14:54 - pdurbin: It's weird that Element didn't remember I was in this room. I wonder if I have to subscribe or something.
Thu, May 27, 2021, 10:15:07 - @bjonnh:matrix.org: weird
Thu, May 27, 2021, 10:17:13 - pdurbin: Ok. I quit and relaunched a couple times and now it works as expected.
Thu, May 27, 2021, 10:18:41 - pdurbin: I'm still really pleased that logs are automatically at on the "view" site in the topic. Was that hard to set up?
Thu, May 27, 2021, 12:13:46 - poikilotherm: No setup required, just find out the right link.
Thu, May 27, 2021, 12:14:26 - poikilotherm: Ah, marvelous - finally one can edit messages here :-D
Thu, May 27, 2021, 12:15:50 - poikilotherm: Philip Durbin: how about a URL shortener based on gdcc.io? https://github.com/storbukas/url-shortener
Thu, May 27, 2021, 12:16:11 - poikilotherm: We have so many Google Docs to share, short links easy to remember would be great
Thu, May 27, 2021, 14:13:56 - pdurbin: Oh. I assumed this is what turned on the logging: bjonnh changed the history visibility to "world_readable" from "shared".
Thu, May 27, 2021, 14:15:11 - pdurbin: poikilotherm: if you'd like to run a URL shortener, go for it. üòÉ
Thu, May 27, 2021, 14:20:33 - poikilotherm: <@pdurbin:matrix.org "Oh. I assumed this is what turne..."> True. That was needed. But no service setup or similar.
Thu, May 27, 2021, 14:20:57 - pdurbin: Ok. And for all we know other places are logging it.
Thu, May 27, 2021, 14:22:08 - pdurbin: I'm still interested in data liberation, if possible. How can I download an archive of a Matrix channel's messages?
Thu, May 27, 2021, 14:23:25 - pdurbin: This is the first hit I came across: https://github.com/osteele/matrix-archive
Thu, May 27, 2021, 14:24:30 - pdurbin: Of course, we don't do this with GitHub Issues. Or Google Groups. Or other services. If the service goes away the data is gone.
Thu, May 27, 2021, 14:25:20 - pdurbin: Here's a question. Where are the messages stored? On the homeserver?
Thu, May 27, 2021, 14:49:03 - pdurbin: It seems that indeed messages are stored on the homeserver. Our channel is on the default homeserver, which is matrix.org. If this server has any kind of quota or message limit, I can't find it.
Thu, May 27, 2021, 15:04:22 - pdurbin: https://matrix.org/faq/#where-do-my-conversations-get-stored%3F - "Each replicated across all of the homeservers whose users are participating in a given room."
Thu, May 27, 2021, 15:56:11 - poikilotherm: We need to take a vacuum cleaner and eat all the messages and events that happen, preferably once a day
Thu, May 27, 2021, 15:56:40 - poikilotherm: I know that you can configure how many messages should be kept by the homeserver before discarding older 
Thu, May 27, 2021, 15:57:10 - poikilotherm: I dunno the config of matrix.org, but we may ask in the channels for that
Thu, May 27, 2021, 15:57:36 - poikilotherm: Philip Durbin you might be interested in taking a closer look at the matrix recorder
Thu, May 27, 2021, 15:58:10 - poikilotherm: It uses a Sqlite DB to store the records and you can export 'em
Thu, May 27, 2021, 15:58:48 - poikilotherm: As this channel is likely to be quite low traffic, we might store the sqlite in git on GitHub 
Thu, May 27, 2021, 15:59:16 - poikilotherm: And if that is becoming to huge to handle, we can store it some place else
Thu, May 27, 2021, 15:59:44 - poikilotherm: https://gitlab.com/argit/matrix-recorder
Thu, May 27, 2021, 16:02:00 - poikilotherm: Of course we could also run our own bot
Thu, May 27, 2021, 16:02:48 - pdurbin: Or even our own homeserver, like you suggested.
Thu, May 27, 2021, 16:04:28 - poikilotherm: There's also https://github.com/8go/matrix-commander/ which seems like a very simple client. Looks like using a shell script and a cronjob would do the trick
Thu, May 27, 2021, 16:05:07 - poikilotherm: IIRC messages are queued to be sent to you if you're not online
Thu, May 27, 2021, 16:05:55 - pdurbin: Right. Something like that.
Thu, May 27, 2021, 16:07:27 - pdurbin: Oh. I found this on the Wikipedia page about Matrix. I thought it was interesting:

In October 2020 Element acquired Gitter from GitLab.[39] This meant that all Gitter users would be transitioned over to Matrix.[40] 
Fri, May 28, 2021, 09:43:26 - poikilotherm: Philip Durbin: I just pushed https://github.com/IQSS/dataverse/pull/7911 It would be superb to make such automated PR reviews happen...
Fri, May 28, 2021, 10:35:40 - pdurbin: Right, the barky dog. üê∂
Fri, May 28, 2021, 11:11:30 - pdurbin: I moved it into QA. Thanks!
Fri, May 28, 2021, 11:24:13 - pdurbin set a profile picture
Fri, May 28, 2021, 11:38:23 - pdurbin: poikilotherm: merged!
Fri, May 28, 2021, 11:50:42 - pdurbin: Let's give reviewdog something to bark at: https://github.com/IQSS/dataverse/pull/7912
Fri, May 28, 2021, 11:52:42 - pdurbin: It works! https://github.com/IQSS/dataverse/pull/7912#pullrequestreview-671439100
Fri, May 28, 2021, 11:52:59 - pdurbin: [reviewdog] reported by reviewdog üê∂
File contains tab characters (this is the first instance).
Fri, May 28, 2021, 12:51:09 - poikilotherm: Nice! 
Fri, May 28, 2021, 12:51:36 - poikilotherm: Do you think we should try to add some more checkstyle rules?
Fri, May 28, 2021, 12:52:22 - poikilotherm: IIRC you folks disliked the * imports. There's plenty of options to disallow some or all of those.
Fri, May 28, 2021, 13:52:02 - pdurbin: Sure, that might be an easy one.
Fri, May 28, 2021, 13:52:18 - pdurbin: I wonder how hard it would be implement any of these rules: https://guides.dataverse.org/en/5.5/developers/coding-style.html#braces-placement
Fri, May 28, 2021, 13:53:11 - pdurbin: Favoring `int i = 1` over `int i=1` (no spaces) for example.
Fri, May 28, 2021, 15:34:38 - pdurbin: Another shout out to reviewdog üê∂ - https://github.com/IQSS/dataverse/pull/7901#pullrequestreview-671591103 . What fun!
Sat, May 29, 2021, 12:30:24 - poikilotherm: <@pdurbin:matrix.org "Favoring `int i = 1` over `int i..."> https://checkstyle.sourceforge.io/config_whitespace.html#WhitespaceAround
Mon, May 31, 2021, 07:28:45 - poikilotherm: https://github.com/curl/curl/issues/7150
Mon, May 31, 2021, 07:28:56 - poikilotherm: Looks like this will hit us soonish
Mon, May 31, 2021, 19:31:10 - poikilotherm: That's basically tomorrow. üôà
Mon, May 31, 2021, 21:18:43 - @bjonnh:matrix.org: bintray, now that... we are living good times
Tue, Jun 1, 2021, 05:52:42 - poikilotherm: At least there are alternatives.
Tue, Jun 1, 2021, 05:53:51 - poikilotherm: pdurbin BTW I'm on "vacation" this week. üî©üß∞üîßüî®üõ†Ô∏è
Wed, Jun 2, 2021, 11:15:39 - pdurbin: Plenty of site deaths: https://indieweb.org/site-deaths
Thu, Jun 3, 2021, 08:26:41 - @bjonnh:matrix.org: https://news.ycombinator.com/item?id=27365755
Thu, Jun 3, 2021, 10:18:32 - pdurbin: <@bjonnh:matrix.org "https://news.ycombinator.com/ite..."> nice to see both Harvard Dataverse and QDR on the list
Thu, Jun 3, 2021, 10:33:07 - pdurbin: This "set up secure backup" prompt in Element is going to drive people crazy: https://github.com/vector-im/element-web/issues/9256#issuecomment-853916491
Thu, Jun 3, 2021, 14:28:25 - pdurbin: Huh, Matrix doesn't have threads: https://github.com/vector-im/roadmap/issues/8
Thu, Jun 3, 2021, 15:05:57 - pdurbin: Oh well. I guess IRC doesn't have threads either. üòÉ
Thu, Jun 3, 2021, 15:06:14 - pdurbin: Whoa! I can edit my message!
Thu, Jun 3, 2021, 15:06:51 - pdurbin: Ah, but the log shows my typo. As it should, I guess. üòÉ
Thu, Jun 3, 2021, 15:11:57 - @bjonnh:matrix.org: you can't hide
Thu, Jun 3, 2021, 18:27:38 - poikilotherm: <@pdurbin:matrix.org "Oh well. I guess IRC doesn't hav..."> IIRC they are working on that. Saw some discussion on the protocol support some time ago. 
Thu, Jun 3, 2021, 18:28:54 - poikilotherm: Oh oh pdurbin looks like Merce is leaving for real. https://twitter.com/mercecrosas/status/1400579737903325185?s=19
Thu, Jun 3, 2021, 18:29:35 - @bjonnh:matrix.org: yes people have kept promising IRC v3
Thu, Jun 3, 2021, 18:29:46 - @bjonnh:matrix.org: it would also provide history for when you were not online
Thu, Jun 3, 2021, 18:29:58 - @bjonnh:matrix.org: but it has been in discussions for years and nothing has been happening
Fri, Jun 4, 2021, 10:24:59 - pdurbin: poikilotherm: yeah. She will be missed.
Fri, Jun 4, 2021, 10:25:55 - pdurbin: bjonnh: I keep hearing that IRCv3 is not dead but Matrix seems fine so far.
Fri, Jun 4, 2021, 10:40:48 - @bjonnh:matrix.org: I'll believe it when I see it implemented properly in clients 
Fri, Jun 4, 2021, 10:41:59 - pdurbin: I'm not aware of any projects that are on IRCv3 and proud of it. üòÄ
Fri, Jun 4, 2021, 11:31:31 - pdurbin: Here's a question. Once we're fully on Matrix, what should https://chat.dataverse.org look like? Right now it shows a preview of messages and provides a way to log in and start chatting. How would we do something similar with Matrix?
Fri, Jun 4, 2021, 13:06:42 - @bjonnh:matrix.org: we could bridge matrix and irc
Fri, Jun 4, 2021, 13:06:42 - @bjonnh:matrix.org: and not have to worry about that
Fri, Jun 4, 2021, 13:06:42 - @bjonnh:matrix.org: everything would be shared between both
Fri, Jun 4, 2021, 13:46:03 - pdurbin: I've heard of such bridging but the problem I'm trying to solve is what to do with chat.dataverse.org. I guess you're saying we could keep it the same. But I think I'm ok with saying goodbye to IRC for Dataverse. At the very least, I could just have a static page explaining the situation. Better would be an iframe (or whatever) of recent Matrix messages and an explanation of how to join the conversation.
Fri, Jun 4, 2021, 14:11:37 - @bjonnh:matrix.org: if we bridge it we have both anyway and that's free
Fri, Jun 4, 2021, 14:11:49 - @bjonnh:matrix.org: so we can have matrix for users that don't know what IRC¬†is
Fri, Jun 4, 2021, 14:12:01 - @bjonnh:matrix.org: and IRC for the old crooks that don't want new things :D
Fri, Jun 4, 2021, 14:48:23 - pdurbin: bjonnh: which IRC network would we bridge to? That new one you mentioned?
Fri, Jun 4, 2021, 14:50:30 - pdurbin: Anyway, I just announced in IRC that we've moved to Matrix, kicked the logging bot out, left the channel, and updated chat.dataverse.org to say that we're on Matrix. I'm currently turning the IRC logs into a static site so those URLs don't go dead.
Fri, Jun 4, 2021, 14:51:31 - pdurbin: That chat site is still running on the VM that I need to power off so I'll either move it to a static site (probably GitHub Pages) or use the new VM that was set up for me.
Fri, Jun 4, 2021, 14:59:19 - @bjonnh:matrix.org: yes libera eventually
Fri, Jun 4, 2021, 14:59:25 - @bjonnh:matrix.org: but lets see
Fri, Jun 4, 2021, 14:59:31 - @bjonnh:matrix.org: maybe nobody want IRC
Fri, Jun 4, 2021, 15:00:16 - @bjonnh:matrix.org: the bridge is on matrix servers anyway no need to host anything ourselves
Fri, Jun 4, 2021, 15:36:56 - pdurbin: My guess is that nobody wants IRC. But yes, let's see. üòÄ
Fri, Jun 4, 2021, 17:17:03 - pdurbin: Ok, I set up two GitHub Pages sites. One is for the old IRC logs at http://irclog.iq.harvard.edu . The other is for https://chat.dataverse.org which is just an HTML file. Pull requests welcome for the latter at https://github.com/IQSS/chat.dataverse.org
Fri, Jun 4, 2021, 17:17:24 - pdurbin: Have a good weekend!
Mon, Jun 7, 2021, 05:18:55 - juancorr joined the room
Mon, Jun 7, 2021, 07:52:25 - Genevieve MICHAUD joined the room
Mon, Jun 7, 2021, 10:03:07 - @lincoln_5054:matrix.org joined the room
Mon, Jun 7, 2021, 10:06:50 - pdurbin: juancorr Genevieve MICHAUD Lincoln Sherpa welcome! I'm glad you were able to join ok. üòÄ I hope it wasn't too confusing. I'm thinking about posting some additional instructions. üòÄ
Mon, Jun 7, 2021, 10:08:08 - @lincoln_5054:matrix.org: Hi @pdurbin.  The new chatroom looks cool
Mon, Jun 7, 2021, 10:09:06 - pdurbin: We have bjonnh and poikilotherm to thank for leading us into The Matrix. üòÄ
Mon, Jun 7, 2021, 10:09:47 - Genevieve MICHAUD: thank you all guys!
Mon, Jun 7, 2021, 10:11:19 - poikilotherm: Good things come to those who are patient. I pushed for moving from IRC for a long time üòá
Mon, Jun 7, 2021, 10:11:36 - poikilotherm: Welcome @all
Mon, Jun 7, 2021, 10:13:08 - pdurbin: poikilotherm: yep. You might even remember creating this issue: https://github.com/IQSS/chat.dataverse.org/issues/12 üòÄ
Mon, Jun 7, 2021, 10:14:30 - pdurbin: I'm planning on going through issues in that repo soon to better reflect the switch from IRC to Matrix.
Mon, Jun 7, 2021, 11:07:48 - pdurbin: I just announced the move from IRC to Matrix: https://groups.google.com/g/dataverse-community/c/KU0FDNb8ckM/m/bO8ZXv2WAQAJ
Mon, Jun 7, 2021, 11:33:37 - poikilotherm: I just left the bridged IRC room
Mon, Jun 7, 2021, 11:34:52 - pdurbin: From Matrix you were connected to #dataverse on Freenode IRC? Is that what you mean?
Mon, Jun 7, 2021, 11:43:17 - Danny Brooke joined the room
Mon, Jun 7, 2021, 11:51:20 - Danny Brooke: I just tested the sign up process, really easy, no problems. üëçÔ∏è
Mon, Jun 7, 2021, 11:52:29 - pdurbin: phew üòÄ welcome aboard!
Mon, Jun 7, 2021, 11:53:37 - pdurbin: I wondered if it's important to say that most people end up with an account on matrix.org (as opposed to some other home server) but it felt confusing to explain. I think all people care about is if they used Google or Facebook (or whatever) to sign up.
Mon, Jun 7, 2021, 12:55:14 - Don Sizemore joined the room
Mon, Jun 7, 2021, 12:55:25 - Don Sizemore: *yawn* did I miss anything?
Mon, Jun 7, 2021, 13:30:55 - pdurbin: Don Sizemore: when you weren't here we signed you up to make another hundred pull requests. üòÄ
Mon, Jun 7, 2021, 13:31:24 - Don Sizemore: I had one approved this afternoon! 99 to go
Mon, Jun 7, 2021, 15:22:02 - @lincoln_5054:matrix.org left the room
Mon, Jun 7, 2021, 15:36:15 - Lincoln joined the room
Mon, Jun 7, 2021, 16:38:06 - poikilotherm: Great to see more people here that newer visited us on IRC. Seems like the move was worth the effort üôÇ
Mon, Jun 7, 2021, 16:45:08 - pdurbin: Yeah, so far so good. One thing I've been thinking about is metrics. I used to run a SQL query to see how many IRC messages or unique users we had in a year. I have no idea how to do that with Matrix.
Mon, Jun 7, 2021, 16:47:09 - pdurbin: I suspect we'd have to run our own homeserver. With its own database. Or something.
Tue, Jun 8, 2021, 03:19:13 - dataversebot joined the room
Tue, Jun 8, 2021, 03:23:28 - dataversebot set a profile picture
Tue, Jun 8, 2021, 03:24:51 - dataversebot: Hi, I'm https://github.com/dataversebot. poikilotherm created me. If you would like to use me for a task here on Matrix, please ask him for details.
Tue, Jun 8, 2021, 03:26:51 - poikilotherm: <@dataversebot:matrix.org "Hi, I'm https://github.com/datav..."> Welcome to the channel ;-)
Tue, Jun 8, 2021, 03:27:51 - Vyacheslav Tikhonov joined the room
Tue, Jun 8, 2021, 03:28:27 - dataversebot: pdurbin: you might use me with https://gitlab.com/argit/matrix-recorder to fetch the message logs to a SQLite DB and store those on GitHub.
Tue, Jun 8, 2021, 03:42:50 - Lincoln: I am currently attempting to add auxiliary file ( https://guides.dataverse.org/en/latest/developers/aux-file-support.html) on a simple datafile (still a draft) and get message "API endpoint does not exist on this server"
Tue, Jun 8, 2021, 04:04:29 - Lincoln: i am using dataverse-5.3
Tue, Jun 8, 2021, 05:21:44 - Lincoln: <@lincoln55:matrix.org "i am using dataverse-5.3"> now i switched to 5.5 and it says "not a tabular datafile"
Tue, Jun 8, 2021, 06:20:05 - Lincoln: is it (aux file support) only meant for tab files ?
Tue, Jun 8, 2021, 06:24:05 - Lincoln: <@lincoln55:matrix.org "now i switched to 5.5 and it say..."> This is solved!
Tue, Jun 8, 2021, 09:29:06 - pdurbin: Lincoln: yes, tabular only. There's a check in Access.java if you look for "aux". I think it could easily be removed if you want to open an issue.
Tue, Jun 8, 2021, 09:29:29 - poikilotherm: Nice, Lincoln
Tue, Jun 8, 2021, 09:29:29 - poikilotherm: pdurbin reviewdog just barked at me. Good doggo!
Tue, Jun 8, 2021, 09:50:18 - Lincoln: <@pdurbin:matrix.org "Lincoln: yes, tabular only. Ther..."> pdurbin: what could be removed?.. i did not understand üôÇ sorry
Tue, Jun 8, 2021, 10:09:15 - pdurbin: Lincoln: 
Tue, Jun 8, 2021, 10:09:28 - pdurbin: this would be the "if" to remove: https://github.com/IQSS/dataverse/blob/v5.5/src/main/java/edu/harvard/iq/dataverse/api/Access.java#L566-L568
Tue, Jun 8, 2021, 10:15:47 - Lincoln: i was wondering  if aux file for other data file formats (example image) be included in next version..
Tue, Jun 8, 2021, 10:28:01 - pdurbin: Lincoln: well, it would start with an issue. So if you create one, that will indicate interest.
Tue, Jun 8, 2021, 10:33:43 - Lincoln: For my usecase "customized datafile metadata"feature  > aux file feature
Tue, Jun 8, 2021, 10:33:49 - Lincoln: but thanks
Tue, Jun 8, 2021, 10:34:56 - pdurbin: Ah, you're using aux files as a work around because files don't have much metadata apart from description,  tags, etc.
Tue, Jun 8, 2021, 10:35:34 - Lincoln: yeah
Tue, Jun 8, 2021, 10:37:35 - pdurbin: Is there an issue you're tracking for what you want? The file-level metadata?
Tue, Jun 8, 2021, 10:41:32 - Lincoln: all i could find is https://github.com/IQSS/dataverse/issues/3252
Tue, Jun 8, 2021, 10:47:39 - Lincoln: https://github.com/IQSS/dataverse/issues/6455#issuecomment-566101320
Tue, Jun 8, 2021, 10:48:36 - pdurbin: Hmm, #3252 seems to be focused on tabular data, given that they talked to our data science folks (DSS).
Tue, Jun 8, 2021, 10:49:48 - pdurbin: Yeah, that comment of mine in #6455 has links to older (three digit!) issues I had in mind.
Tue, Jun 8, 2021, 10:50:57 - pdurbin: Lincoln: we would probably benefit from a fresh issue with a laser focus on your use case, if you'd like to create one. Do you want more file metadata for certain file types? Which ones?
Tue, Jun 8, 2021, 10:51:52 - Lincoln: currently it focuses on image files
Tue, Jun 8, 2021, 10:52:45 - Lincoln: I will raise an issue then
Tue, Jun 8, 2021, 10:53:52 - pdurbin: Sounds good. Thanks.
Tue, Jun 8, 2021, 11:05:57 - Lincoln: <@pdurbin:matrix.org "Sounds good. Thanks."> https://github.com/IQSS/dataverse/issues/7930#issue-915153123
Tue, Jun 8, 2021, 11:07:52 - pdurbin: Lincoln: looks great. Thanks!
Tue, Jun 8, 2021, 12:08:31 - pdurbin: Interesting that OSF suggests running a fork: https://github.com/CenterForOpenScience/osf.io/issues/8748#issuecomment-856800143 (see also a half baked idea of mine in an earlier comment üòÄ )
Tue, Jun 8, 2021, 12:34:50 - Genevieve MICHAUD: Hi all, an extremely naive question here: when upgrading from 4.20 to 5.x, what's the most efficient / neat way of upcycling domain.xml?
Tue, Jun 8, 2021, 13:17:31 - pdurbin: Genevieve MICHAUD: I would think the most neat way is to start with a fresh install of Dataverse on top of a fresh domain.xml from Payara and then add in any values from your existing installation.
Tue, Jun 8, 2021, 13:17:57 - pdurbin: Don Sizemore might have some thoughts on this. I think he's looking at a similar upgrade now.
Tue, Jun 8, 2021, 14:13:17 - poikilotherm: pdurbin: you around?
Tue, Jun 8, 2021, 14:13:37 - pdurbin: Yep. What's up?
Tue, Jun 8, 2021, 14:13:50 - poikilotherm: Got a minute or two?
Tue, Jun 8, 2021, 14:14:08 - pdurbin: For you? Always.
Tue, Jun 8, 2021, 14:14:27 - poikilotherm: If so, would love an opinion on creating a noisy PR with https://github.com/IQSS/dataverse/pull/7739
Tue, Jun 8, 2021, 14:15:24 - poikilotherm: As Payara 5.2021.4 is about to be requested during the next update, now is a good time to make improvments with MPCONFIG
Tue, Jun 8, 2021, 14:17:02 - pdurbin: I've seen noisier pull requests. Yeah, it's nice that we're upgrading Payara. Thanks for that. This PR would need some docs of course. And you could take out the @Deprecated edits to make it smaller.
Tue, Jun 8, 2021, 14:17:21 - poikilotherm: Beware this is not ready yet
Tue, Jun 8, 2021, 14:17:26 - poikilotherm: I need to do more work
Tue, Jun 8, 2021, 14:17:51 - poikilotherm: Actually what would be necessary is a proper caching facade bean for the settings.
Tue, Jun 8, 2021, 14:18:19 - poikilotherm: Removing the SettingsWrapper, cleaning up SettingsServiceBean and maybe inlining SystemConfig
Tue, Jun 8, 2021, 14:18:34 - poikilotherm: That will create lots of noise
Tue, Jun 8, 2021, 14:18:43 - poikilotherm: s/will/would/
Tue, Jun 8, 2021, 14:18:56 - pdurbin: right
Tue, Jun 8, 2021, 14:19:34 - poikilotherm: Sometimes you gotta make some noise
Tue, Jun 8, 2021, 14:20:16 - pdurbin: Yeah. You'll get Gustavo's attention if you tell him you want to remove SettingsWrapper (and you should). That's his baby.
Tue, Jun 8, 2021, 14:23:14 - pdurbin: I'm not sure the best way to sell these changes. I guess I'm thinking about what the end state might be. A bright glorious future. What does it look like? Right now people installing Dataverse can put some config values in a file. But that's not enough, right? We want fancier.
Tue, Jun 8, 2021, 14:25:43 - pdurbin: I'm looking at your slides again (linked from #7639, thank you). I though we were going to refactor the email stuff as a next step.
Tue, Jun 8, 2021, 14:26:06 - poikilotherm: Well this PR is about fixing the non-working DBSettingsSource
Tue, Jun 8, 2021, 14:26:26 - poikilotherm: Which is already included in Dataverse today
Tue, Jun 8, 2021, 14:26:59 - poikilotherm: Not in use, but endangering like a zombie
Tue, Jun 8, 2021, 14:27:15 - poikilotherm: So I thought better fix broken stuff first
Tue, Jun 8, 2021, 14:27:47 - poikilotherm: And no one wants to go for primary usage of MPCONFIG now
Tue, Jun 8, 2021, 14:27:48 - pdurbin: I see. But the broken stuff is off to the side not bothering anybody. üòÄ
Tue, Jun 8, 2021, 14:28:03 - poikilotherm: Lot's of people DEMAND the db settings
Tue, Jun 8, 2021, 14:28:17 - poikilotherm: So better not break their workflow
Tue, Jun 8, 2021, 14:28:54 - pdurbin: Sure, the current db settings are expected to work.
Tue, Jun 8, 2021, 14:29:22 - poikilotherm: Oh Slava said they rely on it. They have some tooling to configure instances from some webservice
Tue, Jun 8, 2021, 14:29:40 - poikilotherm: (By using the DB Settings API)
Tue, Jun 8, 2021, 14:30:19 - poikilotherm: So the idea was to invert control. Make DB Settings overridable with MPCONFIG
Tue, Jun 8, 2021, 14:30:41 - poikilotherm: But SettingsWrapper is making that somewhat impossible
Tue, Jun 8, 2021, 14:30:51 - pdurbin: I see.
Tue, Jun 8, 2021, 14:31:50 - poikilotherm: And a ViewScoped Bean doesn't seem the best fit, too. A proper caching facade, used for all of the config would make things much more inlined
Tue, Jun 8, 2021, 14:32:26 - poikilotherm: Today we have SystemConfig, then SettingServiceBean and SettingsWrapper specially crafted for JSF
Tue, Jun 8, 2021, 14:32:53 - pdurbin: Yes, we are heavily oriented toward and influenced by JSF.
Tue, Jun 8, 2021, 14:33:43 - poikilotherm: So maybe it would be a good idea to create a unified approach. An internal settings API usable for all cases, also replacing all the System.getProperties() in the long run
Tue, Jun 8, 2021, 14:33:57 - poikilotherm: Hiding away the MPCONFIG complexity
Tue, Jun 8, 2021, 14:34:12 - poikilotherm: Payara does the same internally BTW
Tue, Jun 8, 2021, 14:34:23 - poikilotherm: They have a TransposedConfigView
Tue, Jun 8, 2021, 14:34:55 - pdurbin: I mean, the biggest problem from your perspective is that you can't use MPCONFIG, right? But back when we wrote this code, it didn't exist. üòÉ
Tue, Jun 8, 2021, 14:35:10 - poikilotherm: Yes
Tue, Jun 8, 2021, 14:35:25 - poikilotherm: Now I need to make everyone happy :-D
Tue, Jun 8, 2021, 14:35:32 - pdurbin: So the task is to adapt our old code to use the new shiny.
Tue, Jun 8, 2021, 14:36:13 - poikilotherm: Yeah. Plus maybe cleanup some old architecture decisions that didn't age well. Pay back some tech debt
Tue, Jun 8, 2021, 14:36:48 - poikilotherm: SettingsWrapper dates to 2015. The world changed quite a bit since then
Tue, Jun 8, 2021, 14:38:16 - pdurbin: Yeah. Hey, I gotta run to an appointment. Talk more soon.
Tue, Jun 8, 2021, 14:38:29 - poikilotherm: Nice talking :-) See ya
Tue, Jun 8, 2021, 14:39:54 - pdurbin: One final thing. It would be kinda nice to see a small app that does things the right way in 2021. Maybe it would even work on Quarkus or some other modern framework. Let's rewrite dataversebot or something. üòÄ
Tue, Jun 8, 2021, 14:40:27 - poikilotherm: I have some sideproject that will use those goodies. But it's non-OSS
Tue, Jun 8, 2021, 15:51:55 - pdurbin: Gotcha.
Tue, Jun 8, 2021, 15:57:03 - Virgile Jarrige joined the room
Tue, Jun 8, 2021, 15:57:10 - Virgile Jarrige: Hey there :)
Tue, Jun 8, 2021, 15:57:37 - Virgile Jarrige: I go on holidays and you guys switch of chat system ^^
Tue, Jun 8, 2021, 15:57:56 - pdurbin: Whoops! Did we leave you behind on IRC?!? Sorry! üòÄ
Tue, Jun 8, 2021, 15:58:02 - Virgile Jarrige: you thought you would get rid of me so easily ;)
Tue, Jun 8, 2021, 15:58:14 - Virgile Jarrige: haha np Phil ;)
Tue, Jun 8, 2021, 15:58:34 - Virgile Jarrige: you left enough little rocks behind so I could find my way back with you
Tue, Jun 8, 2021, 15:58:58 - pdurbin: Phew. üòå
Tue, Jun 8, 2021, 16:00:04 - Virgile Jarrige: I don't know if you got the chance to follow this... but Dataverse is going even more viral in France ;o
Tue, Jun 8, 2021, 16:00:15 - pdurbin: orly
Tue, Jun 8, 2021, 16:00:30 - pdurbin: I think Genevieve MICHAUD may have tweeted something.
Tue, Jun 8, 2021, 16:00:44 - Virgile Jarrige: A national Dataverse should pop in marsh 2022
Tue, Jun 8, 2021, 16:01:28 - Virgile Jarrige: and 3 (if not 4) universities are working on their local dataverses
Tue, Jun 8, 2021, 16:01:47 - Virgile Jarrige: and that's all i know from my university
Tue, Jun 8, 2021, 16:02:02 - Virgile Jarrige: we'll see
Tue, Jun 8, 2021, 16:02:30 - Virgile Jarrige: here in Strasbourg the politics are not sure we should build our own Dataverse as the national one is coming soon
Tue, Jun 8, 2021, 16:03:10 - pdurbin: Ah. That makes sense. In Canada there has been some consolidation. Smaller installations got folded into the national one.
Tue, Jun 8, 2021, 16:03:22 - Virgile Jarrige: it's a bit sad because we went pretty far ;o
https://dataverse5-dev.app.unistra.fr/
Tue, Jun 8, 2021, 16:03:55 - pdurbin: Looks nice! And it's better for our numbers if you have your own. üòÄ
Tue, Jun 8, 2021, 16:04:15 - Virgile Jarrige: and we even started researchers to do betatests here
Tue, Jun 8, 2021, 16:04:15 - Virgile Jarrige: https://dataverse-pprd.unistra.fr/
Tue, Jun 8, 2021, 16:04:36 - Virgile Jarrige: hehe
Tue, Jun 8, 2021, 16:05:30 - Virgile Jarrige: From these betatests i will probably open a few issues on github üòá
Tue, Jun 8, 2021, 16:06:00 - pdurbin: Please do. Feedback is a gift.
Tue, Jun 8, 2021, 16:06:20 - Virgile Jarrige: and so far, the most waited feature from our people is multi licencing
Tue, Jun 8, 2021, 16:06:41 - Virgile Jarrige: and embargo comes second ^^
Tue, Jun 8, 2021, 16:07:02 - pdurbin: Both features that Jim is actively working on. Perfect.
Tue, Jun 8, 2021, 16:07:17 - pdurbin: I hope you've given feedback on those google docs if you have any.
Tue, Jun 8, 2021, 16:08:18 - Virgile Jarrige: As soon as our first wave of betatest is done, i will surely do. :)
Tue, Jun 8, 2021, 16:10:22 - Virgile Jarrige: well, it's 10pm here. Big day tomorrow. 
Great that you guys switched to this tool, it looks really good and seems pretty operational.
Take care!
Tue, Jun 8, 2021, 16:10:43 - pdurbin: I'm glad you like it. Take care.
Tue, Jun 8, 2021, 16:11:05 - Virgile Jarrige: üëã
Wed, Jun 9, 2021, 03:49:41 - Genevieve MICHAUD: <@pdurbin:matrix.org "Genevieve MICHAUD: I would think..."> Thanks Phil! 
Wed, Jun 9, 2021, 04:17:27 - Lincoln: @pdurbin is there a way to enable multple description on datafile ( editing the source code)like as in some dataset fields, so as to store variables as array .
Wed, Jun 9, 2021, 10:17:56 - pdurbin: Lincoln: we like to say that anything is possible with code. üòÄ In this case we would need to take the description field from the filemetadata table (see https://guides.dataverse.org/en/5.4/schemaspy/tables/filemetadata.html ) and move it to its own table.
Wed, Jun 9, 2021, 10:19:06 - pdurbin: Thanks again to Don Sizemore for bringing SchemaSpy back to life. üòÉ
Wed, Jun 9, 2021, 10:34:02 - pdurbin: Vyacheslav Tikhonov: I just gave Jan some more feedback on his Signposting pull request: https://github.com/IQSS/dataverse/pull/7919
Wed, Jun 9, 2021, 10:34:35 - pdurbin: Also, welcome to Matrix. Or The Matrix. I'm not sure what to call this thing. üòÄ
Wed, Jun 9, 2021, 11:39:16 - sennin joined the room
Wed, Jun 9, 2021, 11:39:48 - sennin: Hello :)
Wed, Jun 9, 2021, 11:40:48 - * pdurbin waves at stefankasberger 
Fri, Jun 11, 2021, 08:41:48 - Virgile Jarrige: Hi there
I have another harvest that is in progress and won't stop... Last time it totally crashed the server but now I can try something before it does.
Fri, Jun 11, 2021, 08:42:05 - Virgile Jarrige: any idea?
Fri, Jun 11, 2021, 08:43:53 - Virgile Jarrige: I found something! https://groups.google.com/g/dataverse-community/c/O-NdDtgFrI0/m/os_KjdLxAQAJ
Fri, Jun 11, 2021, 10:01:27 - pdurbin: Virgile Jarrige: you used that UPDATE to reset your stuck harvest?
Fri, Jun 11, 2021, 10:03:38 - Virgile Jarrige: yes and it worked :)
Fri, Jun 11, 2021, 10:03:58 - Virgile Jarrige: had to restart payara just in case
Fri, Jun 11, 2021, 10:04:53 - pdurbin: Great! If you feel like it, please go ahead and create a GitHub issue called something like "API to reset stuck harvest". It would be better to call an API than to run manual SQL statements.
Fri, Jun 11, 2021, 10:14:24 - Virgile Jarrige: done! :)
Fri, Jun 11, 2021, 10:15:20 - pdurbin: https://github.com/IQSS/dataverse/issues/7940 looks great. Thanks!
Fri, Jun 11, 2021, 10:31:14 - pdurbin: Hmm, I bet poikilotherm would like this: "If the code you pushed includes one of the configured keywords (defaults are @todo and TODO), then the app will create a new issue for you using the comment you wrote in your code!" https://github.com/marketplace/todo
Fri, Jun 11, 2021, 10:33:20 - poikilotherm: > <@pdurbin:matrix.org> Hmm, I bet poikilotherm would like this: "If the code you pushed includes one of the configured keywords (defaults are @todo and TODO), then the app will create a new issue for you using the comment you wrote in your code!" https://github.com/marketplace/todo

Better don't use with Dataverse. The codebase is pestered with TODOs üòã
Fri, Jun 11, 2021, 10:33:47 - pdurbin: And 1077 open issues.
Fri, Jun 11, 2021, 11:01:38 - pdurbin: 4911 closed issues. I have to remind myself of that. üòÄ
Fri, Jun 11, 2021, 11:06:09 - pdurbin: Happy Maintainer Week, by the way: https://github.com/github/maintainerweek
Fri, Jun 11, 2021, 15:32:09 - pdurbin: Have a good weekend, everybody. Rest up for the 7th annual Dataverse Community Meeting next week! https://projects.iq.harvard.edu/dcm2021
Sat, Jun 12, 2021, 06:15:50 - Philipp joined the room
Sat, Jun 12, 2021, 06:18:41 - Philipp set a profile picture
Mon, Jun 14, 2021, 05:23:08 - Lincoln: if I know the Ids of datafile(multiple files) (in this case of same dataset). Is it possible to download all of then as zip via API?
Mon, Jun 14, 2021, 07:52:13 - pdurbin: Lincoln: yes, you can call this "datafiles" (plural) version and pass the IDs of the files as a comma-separated list: https://guides.dataverse.org/en/5.5/api/dataaccess.html#multiple-file-bundle-download
Mon, Jun 14, 2021, 07:54:05 - pdurbin: I hope everyone is excited about "Automated CI/CD Testing, Installation and Deployment of a Dataverse Installation on a Cloud", the first session, featuring Vyacheslav Tikhonov Don Sizemore stefankasberger and others in about 5 minutes! https://projects.iq.harvard.edu/dcm2021/agenda
Mon, Jun 14, 2021, 09:31:31 - pdurbin: Great session! Here are the notes: https://docs.google.com/document/d/13rYY103Rd8jMgP7c8TdiKe_nqEMoeJu72hxgLh0UTO4/edit?usp=sharing
Mon, Jun 14, 2021, 11:12:53 - poikilotherm: Someone please merge some code to IQSS:develop. Let's see if wei/pull does it's job. https://github.com/gdcc/dataverse
Mon, Jun 14, 2021, 11:32:22 - pdurbin: We were all at an all hands meeting just now. Well, not Danny and Sonia, who just gave a talk. But I'm sure we'll merge something eventually. üòÉ
Mon, Jun 14, 2021, 11:49:45 - pdurbin: Pull request #7929 is nice and small. Docs only.
Mon, Jun 14, 2021, 14:00:49 - pdurbin: poikilotherm: a pull request just got merged (#7941). Did it work?
Mon, Jun 14, 2021, 14:01:30 - poikilotherm: Usually it takes some time before the PR appears.
Mon, Jun 14, 2021, 14:01:37 - poikilotherm: We can trigger it manually 
Mon, Jun 14, 2021, 14:03:23 - poikilotherm: Ok triggered
Mon, Jun 14, 2021, 14:05:19 - poikilotherm: https://github.com/gdcc/dataverse/pull/1
Mon, Jun 14, 2021, 14:06:50 - poikilotherm: Let's see if it merges the feature branch one https://github.com/gdcc/dataverse/pull/2
Mon, Jun 14, 2021, 14:07:38 - poikilotherm: The non-feature-branch one has been merged already... üòé
Mon, Jun 14, 2021, 14:08:34 - pdurbin: yep
Mon, Jun 14, 2021, 14:09:36 - poikilotherm: Hmm the other stayed open 
Mon, Jun 14, 2021, 14:10:04 - poikilotherm: I experienced that some PRs stay open for some time in the past
Mon, Jun 14, 2021, 14:10:13 - poikilotherm: So let's give it some time
Mon, Jun 14, 2021, 14:10:28 - pdurbin: ok
Mon, Jun 14, 2021, 14:11:24 - poikilotherm: Would be pretty nice if automated merging works. It assignes people when conflicts appear.
Mon, Jun 14, 2021, 14:12:25 - poikilotherm: My hope is to leave out the container stuff from the main repo. More flexibility. No headache about processes at IQSS.
Mon, Jun 14, 2021, 14:12:50 - pdurbin: interesting
Mon, Jun 14, 2021, 14:13:19 - poikilotherm: If this doesn't work, there's barely a way around this
Mon, Jun 14, 2021, 14:13:31 - poikilotherm: But let's give it a shot
Mon, Jun 14, 2021, 14:14:22 - poikilotherm: Maybe this can be useful for other things, too. Like non-upstream features, maintained by community but always inline with the main branch
Mon, Jun 14, 2021, 14:16:06 - pdurbin: I guess that's the beauty of open source, that you can set up stuff like that.
Tue, Jun 15, 2021, 04:24:10 - poikilotherm: pdurbin: when you had some coffee later, maybe you could be a nice admin and add the Coveralls Token to the secret variable config of IQSS/dataverse? https://github.com/IQSS/dataverse/pull/7944
Tue, Jun 15, 2021, 09:56:02 - pdurbin: poikilotherm: I just assigned it to myself to remind me to take a look. Thanks!
Tue, Jun 15, 2021, 10:06:49 - pdurbin: We're starting day 2 of #dataverse2021 - https://projects.iq.harvard.edu/dcm2021/agenda
Tue, Jun 15, 2021, 15:49:41 - pdurbin: poikilotherm: I finally got around to replying to you on that pull request.
Tue, Jun 15, 2021, 15:54:58 - poikilotherm: Thx for looking into this. Just answered
Tue, Jun 15, 2021, 16:09:11 - pdurbin: poikilotherm: sure, and I just added the secret on the GitHub side. Now what? Do you want to make another demo pull request?
Tue, Jun 15, 2021, 16:19:04 - poikilotherm: Let's see what happens when we retrigger the build
Tue, Jun 15, 2021, 16:19:29 - pdurbin: Ok. I assume you're doing that but let me know if I should do something.
Tue, Jun 15, 2021, 16:35:49 - poikilotherm: Meh. Looks like simply rerunning did not pull the secret
Tue, Jun 15, 2021, 16:35:59 - pdurbin: Bah.
Tue, Jun 15, 2021, 16:36:10 - poikilotherm: Maybe, as this a PR from a forked repo, the secret could not be revealed
Tue, Jun 15, 2021, 16:36:18 - poikilotherm: I stumbled over this before
Tue, Jun 15, 2021, 16:36:46 - poikilotherm: As long as the workflow is not part of the target repo, no way to get that secret. 
Tue, Jun 15, 2021, 16:37:02 - poikilotherm: Seen this with reviewdog, too
Tue, Jun 15, 2021, 16:37:29 - poikilotherm: Usually people need the GIthub token to write comments etc from ci
Tue, Jun 15, 2021, 16:38:25 - poikilotherm: I fetched the coveralls config from another java project after searching for a work around in the coveralls maven plugin issue tracker
Tue, Jun 15, 2021, 16:38:33 - poikilotherm: So I'm quite confident this will work
Tue, Jun 15, 2021, 16:38:52 - poikilotherm: We might go the way of merging and fixing coveralls if necessary.
Tue, Jun 15, 2021, 16:38:57 - poikilotherm: Would that be OK?
Tue, Jun 15, 2021, 16:41:06 - pdurbin: Ok with me. But that pull request is still in code review. Could you please summarize the situation there?
Tue, Jun 15, 2021, 16:42:00 - pdurbin: And thanks for helping get us off Travis! All good things must come to an end. üò¢
Tue, Jun 15, 2021, 16:48:58 - poikilotherm: Yes Sir right away
Tue, Jun 15, 2021, 16:49:11 - pdurbin: üòÄ
Tue, Jun 15, 2021, 16:49:15 - pdurbin: thanks!
Tue, Jun 15, 2021, 16:53:22 - poikilotherm: https://github.com/IQSS/dataverse/pull/7944#issuecomment-861823590
Tue, Jun 15, 2021, 16:54:16 - poikilotherm: Do you want to approve and pass along to QA?
Tue, Jun 15, 2021, 16:54:34 - poikilotherm: Or does this need more discussion in the team?
Tue, Jun 15, 2021, 16:55:52 - pdurbin: I'm assigned to it. Let me think about it some more.
Tue, Jun 15, 2021, 16:56:32 - poikilotherm sent an image. (Media omitted)
Tue, Jun 15, 2021, 16:56:36 - poikilotherm: Right on time
Tue, Jun 15, 2021, 17:00:43 - pdurbin sent an image. (Media omitted)
Tue, Jun 15, 2021, 17:01:03 - pdurbin: Our buttons are still ok but I guess you're saying some of them will go red soon.
Tue, Jun 15, 2021, 17:01:31 - poikilotherm: Yeah. Just in this second I wanted to write about those.
Tue, Jun 15, 2021, 17:01:40 - poikilotherm: I didn't change these.
Tue, Jun 15, 2021, 17:01:50 - poikilotherm: This is pretty much in scope for the PR
Tue, Jun 15, 2021, 17:02:00 - poikilotherm: Let me figure that stuff out tomorrow.
Tue, Jun 15, 2021, 17:02:09 - poikilotherm: Gives you lot some more time to talk 
Tue, Jun 15, 2021, 17:02:21 - pdurbin: Sounds fine. Thanks again.
Tue, Jun 15, 2021, 17:02:58 - pdurbin: It's a bummer that we can't write "as discussed on Matrix" and leave a link that works without login.
Tue, Jun 15, 2021, 17:03:06 - poikilotherm: We can 
Tue, Jun 15, 2021, 17:03:50 - pdurbin: For me it's a "matrix to" link and you have to log in.
Tue, Jun 15, 2021, 17:04:46 - pdurbin: Like this: https://matrix.to/#/!AmypvmJtUjBesRrnLM:matrix.org/$RTNmQNEv91RLIss5jXxT-IzcK50Nh1Evv5dAp-FfcMw?via=matrix.org&via=bertuch.name
Tue, Jun 15, 2021, 17:05:03 - poikilotherm: Oh. Right. The timestamp on view.matrix.org is a link to matrix.to
Tue, Jun 15, 2021, 17:05:23 - pdurbin: And from Element as well. (Share Message).
Tue, Jun 15, 2021, 17:06:08 - poikilotherm: Aye, permalink is a matrix.to too
Tue, Jun 15, 2021, 17:13:39 - poikilotherm: After scraping some issues about this lack of functionality: looks like it's not a common use case. There had been some attempts, but did have a huge prio
Tue, Jun 15, 2021, 17:16:04 - poikilotherm: Lol. Windows 11. üôà
Tue, Jun 15, 2021, 17:17:01 - poikilotherm: Let's quote CERN after discovering Myons: who ordered that?
Wed, Jun 16, 2021, 08:23:58 - pdurbin: poikilotherm: are there any issues that are close?
Wed, Jun 16, 2021, 08:24:33 - poikilotherm: ???
Wed, Jun 16, 2021, 08:25:26 - pdurbin: <@oliver:bertuch.name "After scraping some issues about..."> It sounded like you found some related issues. No big deal. I'll probably have to make a new one.
Wed, Jun 16, 2021, 08:25:59 - poikilotherm: Oh I'd need to redig for those
Wed, Jun 16, 2021, 08:26:08 - pdurbin: It's basically the Gitter user case. And Gitter is being folded into Matrix.
Wed, Jun 16, 2021, 08:26:35 - pdurbin: Matrix (Element) plans to implement various Gitter features such as threads.
Wed, Jun 16, 2021, 08:27:59 - pdurbin: According to https://changelog.com/podcast/414
Wed, Jun 16, 2021, 08:28:37 - pdurbin: "Well, as I said, we‚Äôre gonna take Gitter‚Äôs specific features and try to get parity in Element. The most important ones there is threading."
Wed, Jun 16, 2021, 08:29:02 - pdurbin: To me, an important feature of Gitter is public links.
Wed, Jun 16, 2021, 08:36:05 - poikilotherm: Just scrolled through the transcript. Nice nice nice. Let's see how long it takes to get there 
Wed, Jun 16, 2021, 08:37:39 - pdurbin: For now, I created an issue here: https://github.com/IQSS/chat.dataverse.org/issues/15
Wed, Jun 16, 2021, 08:48:11 - pdurbin: Anyway, we're well underway in our 12-hour day of Dataverse Community Meeting sessions: https://projects.iq.harvard.edu/dcm2021/agenda#widget-1
Wed, Jun 16, 2021, 08:48:42 - pdurbin: A nice presentation by Philipp @UiT/DataverseNO about CoreTrustSeal just now. Well done.
Thu, Jun 17, 2021, 04:37:19 - hossamzalabany joined the room
Thu, Jun 17, 2021, 05:08:15 - hossamzalabany: Dear community, I have a quick question regarding Dataverse deployment, in the prerequisites manual, there is a recommended step to change the encryption method for localhost connection in pg_hba.conf to md5 instead sha256, is that obligatory? or it can work with both metods? 
Thu, Jun 17, 2021, 05:08:52 - hossamzalabany: * for the postgresql setup*
Thu, Jun 17, 2021, 07:10:01 - poikilotherm: hossamzalabany: Can you link to the docs?
Thu, Jun 17, 2021, 07:10:17 - poikilotherm: It sounds like a mistake - no one should be using MD5 these days
Thu, Jun 17, 2021, 07:37:35 - pdurbin: hossamzalabany: you're making me want to run a `git blame` to see when that docs was edited. Let me walk my kid to school and I'll take a look.
Thu, Jun 17, 2021, 08:40:17 - pdurbin: hossamzalabany: is sha256 used in newer versions of postgres? I'm using 9.6 on my laptop and it still uses md5 (in pg_hba.conf).
Thu, Jun 17, 2021, 09:15:39 - Don Sizemore: 9.6 and earlier versions of postgres always used md5. 13 supports scram-sha-256 assuming the JDBC driver is new enough to be compatible?
Fri, Jun 18, 2021, 10:22:50 - Kacper Kowalik joined the room
Fri, Jun 18, 2021, 10:23:38 - Kacper Kowalik: pdurbin: hey! Has anything changed recently with dataverse.harvard.edu API access? It seems to be blocking a particular python client (urllib.request)
Fri, Jun 18, 2021, 10:24:07 - Kacper Kowalik: from urllib.request import urlopen; urlopen("https://dataverse.harvard.edu/api/datasets/3035124")
Fri, Jun 18, 2021, 10:24:10 - Kacper Kowalik: gives me 403
Fri, Jun 18, 2021, 10:24:27 - Kacper Kowalik: whereas requests.get("https://dataverse.harvard.edu/api/datasets/3035124") works just fine
Fri, Jun 18, 2021, 10:26:34 - Kacper Kowalik: I assume it something along the lines of https://github.com/IQSS/dataverse/issues/5322
Fri, Jun 18, 2021, 11:47:04 - Kacper Kowalik: also searching by entityId:<id> doesn't seem to work anymore :(
Mon, Jun 21, 2021, 09:56:17 - pdurbin: Kacper Kowalik: 
Mon, Jun 21, 2021, 09:57:16 - pdurbin: Hey, sorry, we were out on Friday for Juneteenth. Sounds like you've got two issues and I'm afraid I don't immediately know what the cause of either could be.
Mon, Jun 21, 2021, 09:58:10 - pdurbin: We have had some stability issues with Harvard Dataverse so it wouldn't surprise me if we now block some IP addresses here and there but that should change how the APIs work.
Mon, Jun 21, 2021, 09:59:00 - pdurbin: I guess I would suggest testing a bit on https://demo.dataverse.org and emailing support@dataverse.harvard.edu about the issues you're seeing.
Mon, Jun 21, 2021, 11:08:44 - Kacper Kowalik: pdurbin: for the first issue I have a workaround
Mon, Jun 21, 2021, 11:11:29 - Kacper Kowalik: 2nd issue seems to be only affecting harvard's dv
Mon, Jun 21, 2021, 11:14:14 - pdurbin: I'm glad you found a workaround but I sure hope APIs aren't changing. I don't know about that search issue either. We always index entityId.
Mon, Jun 21, 2021, 11:21:51 - Kacper Kowalik: I sent a ticket to support for the 2nd one
Mon, Jun 21, 2021, 11:26:55 - pdurbin: Ah. 305230. Thanks.
Mon, Jun 21, 2021, 11:31:49 - pdurbin: Oh! https://dataverse.harvard.edu/file.xhtml?fileId=3040230 is my file!
Mon, Jun 21, 2021, 11:32:43 - Kacper Kowalik: these are always your files. It may have something to do with the fact that I query your name when I look for testing data ;)
Mon, Jun 21, 2021, 11:58:21 - pdurbin: üòÄ Now we're talking about doing a Solr upgrade, which we should do at some point anyway. Hopefully it'll get fixed as part of that.
Mon, Jun 21, 2021, 11:58:54 - pdurbin: Kacper Kowalik: thanks for brining this to our attention!
Mon, Jun 21, 2021, 14:06:15 - pdurbin: poikilotherm: I'm still quite happy with reviewdog barking about misplaced curlies. Thanks again. üê∂
Tue, Jun 22, 2021, 11:08:45 - Kacper Kowalik: pdurbin: problems continue... https://github.com/IQSS/dataverse/issues/7962  Seems like a lot of breakage went unnoticed solely due to the fact that we are using "prerecorded" responses from Dataverse in our test suite. We do that to make tests faster and avoid straining public DV instances, but it's clearly wrong approach...
Tue, Jun 22, 2021, 12:44:57 - pdurbin: Kacper Kowalik: hmm. Thanks for the heads up about that too.
Wed, Jun 23, 2021, 03:59:26 - vbernabe joined the room
Wed, Jun 23, 2021, 03:59:59 - vbernabe: Hi there. Is there any documentation for backup and restore? We need to shutdown our server and re-create our Dataverse installation. 
Wed, Jun 23, 2021, 04:00:25 - vbernabe: We installed the same version to the new server, copied the old datafilee and import the database but it seems like the Datasets are not showing up.
Wed, Jun 23, 2021, 10:16:45 - pdurbin: vbernabe: hi. During a session on data preservation in the Dataverse Community Meeting last week we talked about how we don't have a lot of docs on backups. This page is quite short: https://guides.dataverse.org/en/5.5/admin/backups.html
Wed, Jun 23, 2021, 10:17:18 - pdurbin: If datasets aren't showing up, you might need to reindex Solr.
Wed, Jun 23, 2021, 11:37:56 - pdurbin: Kacper Kowalik: so! Searching by entityId does work BUT we only index files from the latest published version of the dataset (plus drafts but don't worry about that). So the behavior you found is expected.
Wed, Jun 23, 2021, 11:38:16 - pdurbin: Here's how I put it just now in Slack: 3040230 is in v2 of the dataset but there‚Äôs a v3 that doesn‚Äôt have that file (it was replaced). So it‚Äôs expected that the file isn‚Äôt in the index.
Wed, Jun 23, 2021, 13:59:27 - pdurbin: Kacper Kowalik: the thing we're wondering is... when did the search for that file stop working for you? It should have stopped working in 2017. üòÄ
Thu, Jun 24, 2021, 08:54:03 - poikilotherm: pdurbin: Look who just got merged. https://github.com/gdcc/dataverse/pull/6#event-4933611438
Thu, Jun 24, 2021, 08:54:12 - poikilotherm: It works automatically :-)
Thu, Jun 24, 2021, 08:54:34 - poikilotherm: (It took some time, don't know why. Maybe waiting for Travis?)
Thu, Jun 24, 2021, 10:00:38 - pdurbin: poikilotherm: cool. So you'll get all the commits from IQSS automatically plus some merge commits from the pull bot.
Thu, Jun 24, 2021, 10:00:53 - poikilotherm: Yeah
Thu, Jun 24, 2021, 10:01:32 - poikilotherm: Until someone feels like adding the container stuff to upstream
Thu, Jun 24, 2021, 10:35:13 - poikilotherm: pdurbin: got Docker?
Thu, Jun 24, 2021, 11:30:41 - pdurbin: poikilotherm: yep
Thu, Jun 24, 2021, 11:32:13 - poikilotherm: You might be interested in experimenting with Maven controlled container build & execution
Thu, Jun 24, 2021, 11:33:19 - poikilotherm: After checking out the branch, it's a oneliner and some waiting until you can open a dev snapshot at localhost:8080
Thu, Jun 24, 2021, 11:34:00 - pdurbin: Nice. I know you've had this in a branch for a whlie.
Thu, Jun 24, 2021, 11:36:52 - pdurbin: Oh, I see. You put a bunch of detail in Slack. How non-SLOPI of you. üòÄ
Thu, Jun 24, 2021, 11:37:54 - poikilotherm: Hey devops peeps... I invested some time into a Maven controlled build of container images for Dataverse and a derived Solr image.
Feel free to checkout https://github.com/gdcc/dataverse/tree/develop+ct
It get's the latest and hottest commits from upstream develop automatically
And if you have Docker installed, just use Maven to build and run a containerized dev version of Dataverse
It's just `mvn -Pct clean package docker:build docker:run`
(You'll need to add the gdcc fork as a remote first and then checkout the branch)
It takes some time to build when there is no cache around, but at least it does not download the internet, reusing your local Maven packages.
The container image for Dataverse is highly optimized for production usage, but can be used for development, too.
If you folks wanna schedule a demo of what can be done with this, hit me
(I could do a little YT screencast video, too) (bearbeitet) 
BTW scripts and Dockerfiles are checked for PRs with hadolint and shellcheck.
Things to come:
- I want to add proper LABELS following https://github.com/opencontainers/image-spec/blob/master/annotations.md and push to Github Container Registry...
- Before pushing, I want to execute some basic tests if deployments work etc. This is mostly about securing that the images work, not so much about Dataverse itself
Thu, Jun 24, 2021, 11:39:58 - poikilotherm: Don Sizemore pdurbin you peeps might be interested in https://github.com/poikilotherm/dataverse/commit/624636992e4a27f0b52e430f0d54c983770a1b5c
Thu, Jun 24, 2021, 11:40:12 - poikilotherm: Works with 5.2021.4
Thu, Jun 24, 2021, 11:44:27 - pdurbin: poikilotherm: that's better. Thanks!
Thu, Jun 24, 2021, 11:45:02 - pdurbin: Don Sizemore: now that is a good use of MPCONFIG!
Thu, Jun 24, 2021, 11:46:01 - pdurbin: Just seen in #dv-tech: clean index on new perf env took 27.76 hrs (99941356 milliseconds).
Thu, Jun 24, 2021, 11:46:21 - pdurbin: perf env being something close to Harvard Dataverse
Thu, Jun 24, 2021, 11:46:44 - poikilotherm: Sounds like someone should have a look :-D
Thu, Jun 24, 2021, 11:47:16 - pdurbin: Last I checked (years ago) indexing permissions took forever.
Thu, Jun 24, 2021, 11:48:03 - poikilotherm: üôÉ
Thu, Jun 24, 2021, 11:48:33 - poikilotherm: I know you folks are busy with DCM aftermath, but maybe we can push https://github.com/IQSS/dataverse/pull/7944 some time soon
Thu, Jun 24, 2021, 11:49:19 - pdurbin: Absolutely. I just picked up something else but I'll make noise about that soon.
Thu, Jun 24, 2021, 11:49:23 - poikilotherm: It looks like they silently migrated the old travis.org build to travis.com
Thu, Jun 24, 2021, 11:49:32 - pdurbin: orly
Thu, Jun 24, 2021, 11:49:38 - poikilotherm: https://travis-ci.com/github/gdcc/dataverse/builds/230741050
Thu, Jun 24, 2021, 11:49:45 - poikilotherm: I didn't do anything to enable that
Thu, Jun 24, 2021, 11:50:05 - poikilotherm: OK it might have been someone else by installing in the gdcc org
Thu, Jun 24, 2021, 11:50:28 - poikilotherm: Still I think we should streamline things a bit more.
Thu, Jun 24, 2021, 11:50:45 - poikilotherm: Now that there are GH actions, those look quite promising
Thu, Jun 24, 2021, 11:50:54 - poikilotherm: Starting to like 'em :-D
Thu, Jun 24, 2021, 11:51:44 - pdurbin: Me too. This is the only project I can find on the .com side for IQSS: https://travis-ci.com/github/IQSS/datafest-project
Thu, Jun 24, 2021, 11:52:29 - pdurbin: But yeah, I think I'm done with Travis. Thanks for the replacement using GitHub Actions. I'll try to dig in soon.
Thu, Jun 24, 2021, 14:08:08 - poikilotherm: Looks like we finally made it. Docker for production, #4665 is closed.
Thu, Jun 24, 2021, 14:15:33 - pdurbin: \o/
Fri, Jun 25, 2021, 10:59:02 - pdurbin: poikilotherm: "It's huge. It's noisy. It's hacky." That's how I feel some days. üòÄ
Fri, Jun 25, 2021, 10:59:44 - poikilotherm: Yeah...
Fri, Jun 25, 2021, 11:00:09 - poikilotherm: I just couldn't let that PR be merged. Small steps... üòá
Fri, Jun 25, 2021, 11:02:58 - pdurbin: :smile:
Fri, Jun 25, 2021, 11:03:29 - pdurbin: I'm sad that Element doesn't support :smile:. I use it all the time on GitHub and Slack.
Fri, Jun 25, 2021, 11:21:16 - pdurbin: Neat that Scholars Portal shared their css: https://github.com/scholarsportal/dataverse-css
Fri, Jun 25, 2021, 11:21:35 - pdurbin: via https://groups.google.com/g/dataverse-community/c/4UHxHgb2ULg/m/N0msGuXVAAAJ
Fri, Jun 25, 2021, 11:47:48 - pdurbin: poikilotherm: I finally got around to leaving a comment (at least) on your Travis PR: https://github.com/IQSS/dataverse/pull/7944#pullrequestreview-692958571
Fri, Jun 25, 2021, 11:51:00 - poikilotherm: Great
Fri, Jun 25, 2021, 11:51:13 - poikilotherm: Do you think we will use more than these 2000hours?
Fri, Jun 25, 2021, 11:51:41 - poikilotherm: 30 days * 24h = 720
Fri, Jun 25, 2021, 11:52:04 - poikilotherm: So it would mean 3 VMs running all month long to exceed that free limit
Fri, Jun 25, 2021, 11:52:13 - poikilotherm: Quite unlikely, isn't it?
Fri, Jun 25, 2021, 11:57:33 - poikilotherm: Oh. It's minutes, not hours
Fri, Jun 25, 2021, 11:57:47 - pdurbin: Oh, did I write hours?
Fri, Jun 25, 2021, 11:57:59 - poikilotherm: Yeah üòÇ
Fri, Jun 25, 2021, 11:58:18 - pdurbin: Whoops. Just fixed my comment. Sorry about that.
Fri, Jun 25, 2021, 11:58:50 - poikilotherm: It took 5m 11s for a complete run
Fri, Jun 25, 2021, 11:58:54 - pdurbin: Anyway, from my perspective, the big difference is that Travis never had our credit card but GitHub does. üòÄ
Fri, Jun 25, 2021, 11:59:12 - poikilotherm: https://github.com/IQSS/dataverse/actions/runs/938570057
Fri, Jun 25, 2021, 11:59:32 - poikilotherm: But it downloaded the internet as no cache yet
Fri, Jun 25, 2021, 12:00:31 - poikilotherm: The build with cached deps and unit tests should be somewhere around a minute
Fri, Jun 25, 2021, 12:00:55 - poikilotherm: That would be 2000 checks for free per month
Fri, Jun 25, 2021, 12:01:29 - poikilotherm: Let's say we have 10 pushes per PR that need CI, that would be 200 PRs 
Fri, Jun 25, 2021, 12:01:35 - poikilotherm: Seems ok
Fri, Jun 25, 2021, 12:14:16 - pdurbin: Cool. I just moved it to QA.
Fri, Jun 25, 2021, 12:14:19 - pdurbin: Thanks again!
Fri, Jun 25, 2021, 12:20:00 - poikilotherm: If things break üíî I'll be there to fix 
Fri, Jun 25, 2021, 15:34:15 - pdurbin: poikilotherm: any ideas about "Initialization failed for Singleton DbSettingConfigHelper"? https://groups.google.com/g/dataverse-community/c/_OrD00evJLE/m/vI00zFmQAAAJ
Fri, Jun 25, 2021, 15:35:00 - poikilotherm: Yeah that class going to fade away soon
Fri, Jun 25, 2021, 15:35:15 - poikilotherm: There are some existing issues
Fri, Jun 25, 2021, 15:35:52 - pdurbin: Ok, but meanwhile, what should this poor fellow who's trying to upgrade to 5.3 do? üòÄ
Fri, Jun 25, 2021, 15:35:52 - poikilotherm: Don't know the issue numbers from the top.of my head
Fri, Jun 25, 2021, 15:36:14 - poikilotherm: Uhm need to read more of it
Fri, Jun 25, 2021, 15:36:21 - poikilotherm: Just saw the headline
Fri, Jun 25, 2021, 15:36:44 - pdurbin: Please take your time. üòÉ
Fri, Jun 25, 2021, 15:37:09 - pdurbin: :glad is shorter than :gleeful but I like the latter a little better
Fri, Jun 25, 2021, 15:37:15 - poikilotherm: Hmm not sure why this is happening... ü§î
Fri, Jun 25, 2021, 15:37:36 - poikilotherm: That error description is not very narrative
Fri, Jun 25, 2021, 15:38:03 - poikilotherm: Thinking about how to create a reproducer
Fri, Jun 25, 2021, 15:38:28 - pdurbin: I mean, I think lots of people have upgraded to 5.3 ok.
Fri, Jun 25, 2021, 15:38:36 - pdurbin: Not sure why this person is having trouble.
Fri, Jun 25, 2021, 15:38:40 - poikilotherm: Yeah
Fri, Jun 25, 2021, 15:38:44 - poikilotherm: Same here
Fri, Jun 25, 2021, 15:38:51 - pdurbin: And I'm just picking on you because you added that class. üòÄ
Fri, Jun 25, 2021, 15:39:10 - poikilotherm: Didn't Jim add some tweaks to that config source a while ago?
Fri, Jun 25, 2021, 15:39:23 - pdurbin: Hmm, not sure.
Fri, Jun 25, 2021, 15:39:39 - poikilotherm: Need to dig into that. But not on my mobile 
Fri, Jun 25, 2021, 15:39:55 - pdurbin: manana (next week)
Fri, Jun 25, 2021, 16:12:03 - pdurbin: Have a good weekend, everyone.
Mon, Jun 28, 2021, 11:13:44 - pdurbin: I ended up just saying to try removing the "generated" directory: https://groups.google.com/g/dataverse-community/c/_OrD00evJLE/m/_QIxbzRuAQAJ
Mon, Jun 28, 2021, 11:48:38 - poikilotherm: Nice :-)
Mon, Jun 28, 2021, 11:48:42 - poikilotherm sent an image. (Media omitted)
Mon, Jun 28, 2021, 11:49:00 - poikilotherm: Images generated and pushed via automation
Mon, Jun 28, 2021, 11:49:21 - poikilotherm: Waiting for a new pull from upstream to see if changes are incorporated ;-)
Mon, Jun 28, 2021, 11:49:29 - poikilotherm: (Into the images)
Mon, Jun 28, 2021, 11:49:38 - pdurbin: Neat. I haven't used that "packages" feature yet.
Mon, Jun 28, 2021, 11:49:51 - poikilotherm: It's nice.
Mon, Jun 28, 2021, 11:50:01 - poikilotherm: Maybe we can store some of the old packages there
Mon, Jun 28, 2021, 11:50:16 - poikilotherm: Instead of letting them live inside the git repo... :-D
Mon, Jun 28, 2021, 11:51:23 - pdurbin: Old packages? Do you mean this stuff? https://github.com/IQSS/dataverse/tree/v5.5/local_lib
Mon, Jun 28, 2021, 11:51:32 - poikilotherm: Yeah
Mon, Jun 28, 2021, 11:52:07 - poikilotherm: I know that Peter etc are talking about a SonaType instance / cloud use
Mon, Jun 28, 2021, 11:52:21 - poikilotherm: Also a nice package repo :-)
Mon, Jun 28, 2021, 11:53:28 - poikilotherm: But as long as no one wants to make automated release processes and noone actually starts using the "-SNAPSHOT" versioning of Maven... Maybe that's less important
Mon, Jun 28, 2021, 11:55:21 - pdurbin: Those packages are old but they're still used. üòÄ I hear what you're saying. Probably cleaner to put them in a proper place. Nexus or GitHub Packages or whatever.
Mon, Jun 28, 2021, 11:59:16 - poikilotherm: Alright folks. I was successfull with pushing the container images, now up to more manual work...
Mon, Jun 28, 2021, 12:00:09 - poikilotherm: C ya lata üëã
Mon, Jun 28, 2021, 14:36:05 - pdurbin: poikilotherm: "disable travis" just got merged
Mon, Jun 28, 2021, 15:03:21 - poikilotherm: Great
Mon, Jun 28, 2021, 15:03:29 - poikilotherm: Code coverage working again?
Mon, Jun 28, 2021, 15:08:06 - pdurbin: I don't see it running at https://github.com/IQSS/dataverse/actions
Mon, Jun 28, 2021, 15:09:15 - pdurbin: My guess is that it isn't working.
Mon, Jun 28, 2021, 15:57:15 - pdurbin: Error:  Failed to execute goal org.eluder.coveralls:coveralls-maven-plugin:4.3.0:report (default-cli) on project dataverse: Processing of input or output data failed: Report submission to Coveralls API failed with HTTP status 422: Unprocessable Entity (Couldn't find a repository matching this job.) -> [Help 1]
Mon, Jun 28, 2021, 15:57:27 - pdurbin: That's from https://github.com/IQSS/dataverse/runs/2935576356?check_suite_focus=true
Mon, Jun 28, 2021, 15:57:53 - pdurbin: So at least the action is running.
Mon, Jun 28, 2021, 15:58:11 - pdurbin: But I'm not sure why we're getting that 422.
Mon, Jun 28, 2021, 16:46:16 - pdurbin: That's funny. Michael Bar-Sinai of Dataverse fame had this problem too: https://stackoverflow.com/questions/41433800/travis-ci-org-project-cannot-submit-code-coverage-report-to-coveralls-io
Tue, Jun 29, 2021, 10:02:58 - pdurbin: poikilotherm: any thoughts on how to fix it? I'm thinking about opening an issue. Internally, I just got a question about it. A failure at https://github.com/IQSS/dataverse/actions/runs/980308839
Tue, Jun 29, 2021, 10:15:00 - poikilotherm: pdurbin: I had no time yet to take a look
Tue, Jun 29, 2021, 10:15:07 - poikilotherm: Busy day
Tue, Jun 29, 2021, 10:15:08 - poikilotherm: :-(
Tue, Jun 29, 2021, 10:15:17 - poikilotherm: It's on my list, pinky promise!
Tue, Jun 29, 2021, 10:19:03 - poikilotherm: https://github.com/trautonen/coveralls-maven-plugin/issues/136#issuecomment-797322126 looks promising
Tue, Jun 29, 2021, 10:23:16 - poikilotherm: And this project seems to have a working coverage report https://github.com/common-workflow-language/cwlviewer/blob/main/.github/workflows/ci-build.yml
Tue, Jun 29, 2021, 10:24:44 - pdurbin: Ok, I'm fairly convinced we should be doing something like -DrepoToken=$COVERALLS_SECRET instead of -DrepoToken=${{ secrets.COVERALLS_TOKEN }}
Tue, Jun 29, 2021, 10:26:54 - pdurbin: I just opened https://github.com/IQSS/dataverse/issues/7977
Tue, Jun 29, 2021, 11:09:29 - poikilotherm: Thanks pdurbin for opening the issue, so I have an issue number for the branch. 
Tue, Jun 29, 2021, 11:09:32 - poikilotherm: üòá
Tue, Jun 29, 2021, 11:14:17 - pdurbin: It's the least I could do. :)
Tue, Jun 29, 2021, 15:46:05 - poikilotherm: I love deploying with containers
Tue, Jun 29, 2021, 15:46:15 - poikilotherm: Looks like it's so much easier and cleaner
Tue, Jun 29, 2021, 15:46:48 - poikilotherm: Kevin ran into troubles I've never seen before üò¨
Tue, Jun 29, 2021, 15:52:50 - pdurbin: yeah
Tue, Jun 29, 2021, 15:53:20 - pdurbin: He's right that most users will need to go through an upgrade.
Tue, Jun 29, 2021, 16:15:54 - poikilotherm: Yeah. Also it looks like that for some reason his DB settings vanished
Tue, Jun 29, 2021, 16:16:17 - pdurbin: Huh. Weird.
Tue, Jun 29, 2021, 16:16:40 - poikilotherm: WDYT https://github.com/IQSS/dataverse/pull/7701#issuecomment-870881755
Tue, Jun 29, 2021, 16:18:56 - pdurbin: Well, I'm a little confused. Are you suggesting changing

dataverse.db.host=localhost

to

dataverse.db.host=postgresql?
Tue, Jun 29, 2021, 16:19:52 - poikilotherm: No.
Tue, Jun 29, 2021, 16:20:21 - poikilotherm: I'm saying change this line: http://github.com/IQSS/dataverse/blob/4c7d0afd7a9a643e4e79888e5a0feae9275f400f/src/main/java/edu/harvard/iq/dataverse/util/DataSourceProducer.java#L21-L21
Tue, Jun 29, 2021, 16:21:08 - poikilotherm: From
```
url = "jdbc:postgresql://${MPCONFIG=dataverse.db.host}:${MPCONFIG=dataverse.db.port}/${MPCONFIG=dataverse.db.name}",
```
to
```
url = "jdbc:postgresql://${MPCONFIG=dataverse.db.host:postgresql}:${MPCONFIG=dataverse.db.port:5432}/${MPCONFIG=dataverse.db.name:dataverse}",
```
Tue, Jun 29, 2021, 16:21:21 - poikilotherm: That will apply defaults
Tue, Jun 29, 2021, 16:21:51 - poikilotherm: (Defaults cannot be picked up from microprofile-config.properties at the time that resource is gonna be created)
Tue, Jun 29, 2021, 16:21:52 - pdurbin: Oh, I see.
Tue, Jun 29, 2021, 16:22:13 - pdurbin: The same trick we want to use for the JSF fix.
Tue, Jun 29, 2021, 16:22:20 - poikilotherm: Just like I did for https://github.com/IQSS/dataverse/pull/7695
Tue, Jun 29, 2021, 16:22:22 - poikilotherm: Message deleted
Tue, Jun 29, 2021, 16:22:50 - pdurbin: Would we still need microprofile-config.properties?
Tue, Jun 29, 2021, 16:22:55 - poikilotherm: <@pdurbin:matrix.org "The same trick we want to use fo..."> Aye
Tue, Jun 29, 2021, 16:23:26 - poikilotherm: <@pdurbin:matrix.org "Would we still need microprofile..."> It can serve defaults for any settings we need at runtime, after the app has been deployed
Tue, Jun 29, 2021, 16:23:49 - poikilotherm: (Or used in any @PostConstruct areas for startup beans)
Tue, Jun 29, 2021, 16:24:17 - poikilotherm: But we should delete the irrelevant, nonworking defaults from there...
Tue, Jun 29, 2021, 16:25:00 - pdurbin: It might be nice to only have the defaults in one place, microprofile-config.properties.
Tue, Jun 29, 2021, 16:25:21 - pdurbin: And that file is more readable than the Java code.
Tue, Jun 29, 2021, 16:25:23 - poikilotherm: Sure. But that will not work for resources deployed by the app server.
Tue, Jun 29, 2021, 16:25:41 - pdurbin: ü§î
Tue, Jun 29, 2021, 16:26:09 - poikilotherm: The app server is never going to respect the web app deployed microprofile-config.properties file BEFORE the deployment / cdi context init has been done
Tue, Jun 29, 2021, 16:26:49 - poikilotherm: JSF is loaded by the web container, living in the app server context. Way before deployment is done.
Tue, Jun 29, 2021, 16:26:57 - poikilotherm: Data sources: same.
Tue, Jun 29, 2021, 16:27:16 - poikilotherm: The timing is a little tricky
Tue, Jun 29, 2021, 16:27:46 - poikilotherm: And currently, there is no filebased source for mpconfig baked into the appserver, like a YAML file or similar.
Tue, Jun 29, 2021, 16:28:19 - poikilotherm: (There is the dir config source contributed by me, but that is for a different scenario and not very usable for a single file full of defaults)
Tue, Jun 29, 2021, 16:28:49 - pdurbin: I thought you were going to make our config LESS confusing. üòâ
Tue, Jun 29, 2021, 16:29:24 - poikilotherm: If you want defaults in annotations, the only way to go is via that Payara propietary syntax.
Tue, Jun 29, 2021, 16:30:09 - poikilotherm: OK to be fair: annotations and other stuff that gets done before the application starts
Tue, Jun 29, 2021, 16:31:04 - pdurbin: In the future, when all this is merged someone will ask "How is my db host defined as foobar?"

And we'll say, "Well, there are 6 places to check."
Tue, Jun 29, 2021, 16:31:17 - poikilotherm: No
Tue, Jun 29, 2021, 16:31:21 - poikilotherm: That's not true
Tue, Jun 29, 2021, 16:31:28 - pdurbin: Phew.
Tue, Jun 29, 2021, 16:31:53 - poikilotherm: The db thing is completely tied to the @DataSourceDefinition
Tue, Jun 29, 2021, 16:32:09 - poikilotherm: The JSF properties are tied to that XML file
Tue, Jun 29, 2021, 16:32:31 - poikilotherm: (Could be done with an annotation, BTW)
Tue, Jun 29, 2021, 16:32:46 - poikilotherm: But all of this will be documented
Tue, Jun 29, 2021, 16:33:38 - poikilotherm: The config docs sucks (I'll be honest with this and don't hold back with strong opinions here), but they are available. And the defaults will be documented.
Tue, Jun 29, 2021, 16:34:23 - pdurbin: Yeah, they've grown organically. Too bad spring cleaning is over.
Tue, Jun 29, 2021, 16:34:48 - poikilotherm: You wanna know what really makes me mad about config?
Tue, Jun 29, 2021, 16:35:05 - pdurbin: I'm thinking.
Tue, Jun 29, 2021, 16:35:30 - pdurbin: No single page to Ctrl-F on.
Tue, Jun 29, 2021, 16:35:54 - poikilotherm: Oh - not mad about the docs. Mad about how config works in the code base
Tue, Jun 29, 2021, 16:36:52 - pdurbin: Oh. Well, JSON in various places is pretty weird. And the auth config isn't true JSON. There's a string in there that should be broken out.
Tue, Jun 29, 2021, 16:38:05 - poikilotherm: Why for gods sake are we still letting people add more config options with weird values, that will make it worse to untangle the whole "situation" with config?
Tue, Jun 29, 2021, 16:39:28 - poikilotherm: I'm really thinking about giving up. It's just too much to do as a single dev. And when touching one end, you'll get trapped by Ariadne, wrapping you in interdependency-hell-thread
Tue, Jun 29, 2021, 16:39:38 - pdurbin: It's like you're untangling the Christmas lights and the guy next to you is tangling them up again.
Tue, Jun 29, 2021, 16:41:11 - pdurbin: I think the problem is that not enough people are bought into the vision, despite a nice talk on YouTube.
Tue, Jun 29, 2021, 16:43:29 - pdurbin: Anyway, to go back to your original question, I think it makes sense to keep that PR focused on just the Payara upgrade, without adding or changing config defaults.
Tue, Jun 29, 2021, 16:46:16 - pdurbin: I do still really want the ability to configure JSF differently in dev to fix https://github.com/IQSS/dataverse/issues/6953 either with your stuff or some older, dumber way.
Tue, Jun 29, 2021, 16:47:03 - poikilotherm: <@pdurbin:matrix.org "Anyway, to go back to your origi..."> https://github.com/IQSS/dataverse/pull/7701#issuecomment-870905422
Tue, Jun 29, 2021, 16:47:40 - pdurbin: Thanks. I wouldn't want to interrupt you two. üòÄ
Tue, Jun 29, 2021, 16:51:00 - pdurbin: Who else in the community would support or even get excited about your config efforts? They must be out there.
Tue, Jun 29, 2021, 16:52:54 - poikilotherm: Ah maybe just no one
Tue, Jun 29, 2021, 16:53:08 - poikilotherm: Maybe people just like it the way it is
Tue, Jun 29, 2021, 16:53:15 - poikilotherm: The made their peace with it
Tue, Jun 29, 2021, 16:53:41 - pdurbin: Have you sent your YouTube video to the mailing list?
Tue, Jun 29, 2021, 16:53:43 - poikilotherm: Most admins out there aren't in a position to change it. So they just adapt.
Tue, Jun 29, 2021, 16:53:53 - poikilotherm: I think so
Tue, Jun 29, 2021, 16:54:22 - pdurbin: We should have played it again on the DevOps day of #dataverse2021.
Tue, Jun 29, 2021, 16:55:54 - pdurbin: Here you link to an issue that has a link to your video: https://groups.google.com/g/dataverse-community/c/ojEIbZzk-gU/m/CU2c4Ur8AQAJ
Tue, Jun 29, 2021, 16:56:48 - pdurbin: Anyway, if you have more support, you can move mountains.
Tue, Jun 29, 2021, 16:57:47 - poikilotherm: Yeah. But why bother investing energy into this. If it takes a lot of energy to even open up people minds and forming support, there'll be no energy left for executing
Tue, Jun 29, 2021, 16:58:49 - pdurbin: I gotta run but let's think more on this. At the very least let's get your video up on https://dataverse.org/dataversetv
Wed, Jun 30, 2021, 10:36:37 - pdurbin: poikilotherm: again, the main thing I want is to be able to configure that one JSF option in dev.
Wed, Jun 30, 2021, 10:36:58 - poikilotherm: üëã
Wed, Jun 30, 2021, 10:37:16 - pdurbin: I'm trying to think of what else I want. In general dataverse-ansible provides a very nice abstraction over all of this. So I just configure what I want in a YAML file.
Wed, Jun 30, 2021, 10:37:40 - pdurbin: And when I need a new config option, I beg Don Sizemore to add it for me. üòÄ
Wed, Jun 30, 2021, 10:42:00 - pdurbin: I guess you could say he hides the ugliness having to configure everything.
Wed, Jun 30, 2021, 10:42:55 - poikilotherm: :-D
Wed, Jun 30, 2021, 10:43:07 - poikilotherm: Yeah, convention over configuration
Wed, Jun 30, 2021, 10:58:34 - pdurbin: If we can put a pin in the config for a second, I just looked at your Coveralls PR. Is the variable name right?
Wed, Jun 30, 2021, 11:03:37 - poikilotherm: Yeah
Wed, Jun 30, 2021, 11:03:59 - poikilotherm: That env var is used to protect the token
Wed, Jun 30, 2021, 11:04:35 - poikilotherm: The commandline might get logged. If we use direct variable expansion, it might get busted
Wed, Jun 30, 2021, 11:05:10 - poikilotherm: Pushing it to an env var first, then using it from there protects it
Wed, Jun 30, 2021, 11:05:42 - pdurbin: Right but there's a mismatch (screenshots in my comment). COVERALLS_SECRET vs COVERALLS_TOKEN: https://github.com/IQSS/dataverse/pull/7981#pullrequestreview-696269994
Wed, Jun 30, 2021, 11:06:52 - poikilotherm: Ah
Wed, Jun 30, 2021, 11:07:05 - poikilotherm: We can delete that secret
Wed, Jun 30, 2021, 11:07:12 - poikilotherm: It's not used.
Wed, Jun 30, 2021, 11:07:16 - pdurbin: Oh!
Wed, Jun 30, 2021, 11:07:42 - poikilotherm: Coveralls needs the GH token
Wed, Jun 30, 2021, 11:07:51 - poikilotherm: Not the coveralls token ;-)
Wed, Jun 30, 2021, 11:08:19 - pdurbin: Oh, I just deleted COVERALLS_TOKEN from https://github.com/IQSS/dataverse/settings/secrets
Wed, Jun 30, 2021, 11:08:27 - poikilotherm: Nice
Wed, Jun 30, 2021, 11:08:34 - poikilotherm: That's fine :-)
Wed, Jun 30, 2021, 11:14:16 - poikilotherm: Should we trigger kcondon and be a bit pushy on getting this merged? There was a first-time contributor confused today due to the "failing" unit tests
Wed, Jun 30, 2021, 11:18:15 - poikilotherm: Thx for the post
Wed, Jun 30, 2021, 11:18:21 - pdurbin: Hmm, I haven't caught up to the first timer yet but I'd say there's no need to get pushy. üòÄ I just moved the PR to QA.
Wed, Jun 30, 2021, 11:18:24 - poikilotherm: Was about to answer when your's popped up :-D
Wed, Jun 30, 2021, 11:18:51 - pdurbin: Easier to talk here than a bunch of back and forth in a PR or issue. üòÄ
Wed, Jun 30, 2021, 11:42:29 - poikilotherm: I'm about to write docs for https://github.com/IQSS/dataverse/pull/7983
Wed, Jun 30, 2021, 11:42:52 - poikilotherm: And it's killing me to put this in the config docs
Wed, Jun 30, 2021, 11:44:47 - pdurbin: Just more technical debt, I guess.
Wed, Jun 30, 2021, 11:45:32 - poikilotherm: üòí
Wed, Jun 30, 2021, 11:45:49 - poikilotherm: Another small stone to put on my grave
Wed, Jun 30, 2021, 11:47:23 - pdurbin: Let's pair you up with someone who's interested in improving the situation. You shouldn't have to go this alone.
Wed, Jun 30, 2021, 11:50:43 - pdurbin: poikilotherm: oh good, you already replied to the first timer and... that fix was just merged.
Wed, Jun 30, 2021, 12:04:55 - poikilotherm: Looks like we are doing a good job here :-D
Wed, Jun 30, 2021, 12:13:36 - poikilotherm: Oh oh
Wed, Jun 30, 2021, 12:13:42 - poikilotherm: Danny is collecting PRs for 5.6
Wed, Jun 30, 2021, 12:14:29 - poikilotherm: Looks like we need to hurry with https://github.com/IQSS/dataverse/pull/7695 and https://github.com/IQSS/dataverse/pull/7983
Wed, Jun 30, 2021, 12:25:14 - poikilotherm: pdurbin: what do you think about creating a section inside the config docs about db options?
Wed, Jun 30, 2021, 12:25:46 - poikilotherm: There are lot's of em now...
Wed, Jun 30, 2021, 12:30:29 - pdurbin: A reorg of the config page? Sounds ok but I think it would be best to plan in a Google doc a bit first. That's how we handled the last rewrite of the Installation Guide (which was quite a while ago).
Wed, Jun 30, 2021, 12:31:43 - pdurbin: And yeah, it was mentioned in yesterday's community call that 5.6 will come out sometime soonish.
Wed, Jun 30, 2021, 12:32:07 - pdurbin: "5.6 in next few weeks - focus continues to be on performance"
Wed, Jun 30, 2021, 13:32:32 - poikilotherm: <@pdurbin:matrix.org "A reorg of the config page? Soun..."> Not the whole page - just for the database settings
Wed, Jun 30, 2021, 13:46:39 - pdurbin: You're small chunking me. üòÄ
Wed, Jun 30, 2021, 14:00:04 - poikilotherm sent an image. (Media omitted)
Wed, Jun 30, 2021, 14:00:17 - poikilotherm: WDYT pdurbin 
Wed, Jun 30, 2021, 14:01:36 - poikilotherm: It's in https://github.com/IQSS/dataverse/pull/7983/files#diff-618707003786b24e13bfefd16a45053ba610018723b3688d5edadf89fd49ce56 if you wanna leave a comment
Wed, Jun 30, 2021, 14:10:19 - pdurbin: It looks nice but are we starting to document settings that no one in the community has ever used?
Wed, Jun 30, 2021, 14:11:18 - poikilotherm: That's not completely true. Harvard used to do it
Wed, Jun 30, 2021, 14:11:26 - poikilotherm: And it might help people experiencing problems
Wed, Jun 30, 2021, 14:11:40 - poikilotherm: (With fading database connections)
Wed, Jun 30, 2021, 14:11:57 - poikilotherm: And it's great for monitoring in production
Wed, Jun 30, 2021, 14:12:07 - pdurbin: Harvard used all these?
Wed, Jun 30, 2021, 14:12:12 - poikilotherm: No
Wed, Jun 30, 2021, 14:12:19 - poikilotherm: IIRC the connection validation
Wed, Jun 30, 2021, 14:12:33 - poikilotherm: But you folks look into performance issues sometimes
Wed, Jun 30, 2021, 14:12:46 - poikilotherm: You can log slow queries with this...
Wed, Jun 30, 2021, 14:13:09 - poikilotherm: DYT we should offer less options?
Wed, Jun 30, 2021, 14:13:21 - poikilotherm: Maybe validation and key monitoring aspects like logs?
Wed, Jun 30, 2021, 14:13:29 - pdurbin: It just seems a little overwhelming.
Wed, Jun 30, 2021, 14:13:44 - pdurbin: I mean, the whole config page is overwhelming already. üòÄ
Wed, Jun 30, 2021, 14:14:05 - pdurbin: The way I think of it is that we suggest several config options before "going live".
Wed, Jun 30, 2021, 14:14:22 - poikilotherm: Sure
Wed, Jun 30, 2021, 14:14:27 - poikilotherm: But we need a reference
Wed, Jun 30, 2021, 14:14:46 - poikilotherm: Like you mentioned yesterday: a place to run to to lookup all possible options
Wed, Jun 30, 2021, 14:14:47 - pdurbin: I'm not sure how "BagIt Export" snuck in there before "going live" by the way. üòÉ
Wed, Jun 30, 2021, 14:15:33 - poikilotherm: We could create a shortlist
Wed, Jun 30, 2021, 14:15:40 - poikilotherm: Make it less overwhelming
Wed, Jun 30, 2021, 14:15:41 - pdurbin: Yeah, sometimes it's nice to Ctrl-F and look for what you want.
Wed, Jun 30, 2021, 14:16:20 - pdurbin: I dunno. Maybe we should get some more opinions either from people in here or the devops channel in Slack.
Wed, Jun 30, 2021, 14:16:57 - * poikilotherm sends pdurbin a LOL-cookie
Wed, Jun 30, 2021, 14:17:34 - poikilotherm: As if anybody is interested in this stuff as long as they don't have any problems. Prevention paradox
Wed, Jun 30, 2021, 14:17:48 - pdurbin: :)
Wed, Jun 30, 2021, 14:19:30 - poikilotherm: I guess I could shorten this to 6 options
Wed, Jun 30, 2021, 14:19:58 - poikilotherm sent an image. (Media omitted)
Wed, Jun 30, 2021, 14:21:18 - pdurbin: Sounds good. Less is more.
Wed, Jun 30, 2021, 14:21:43 - poikilotherm: Also leak detection is a fine fish
Wed, Jun 30, 2021, 14:21:53 - poikilotherm: https://docs.payara.fish/community/docs/documentation/user-guides/connection-pools/leak-detection.html
Wed, Jun 30, 2021, 14:25:02 - pdurbin: I mean, leave in anything you think is useful. But people can configure some of the more exotic options in Payara rather than Dataverse, right?
Wed, Jun 30, 2021, 14:26:20 - poikilotherm: Nope
Wed, Jun 30, 2021, 14:26:36 - poikilotherm: Everything needs to flow through that annotation
Wed, Jun 30, 2021, 14:26:51 - poikilotherm: It defines the shape of the DataSource
Wed, Jun 30, 2021, 14:26:56 - pdurbin: I can't just hack on domain.xml and put in whatever I want?
Wed, Jun 30, 2021, 14:27:16 - poikilotherm: Sure. As long as you use a system property (JVM option)
Wed, Jun 30, 2021, 14:27:38 - poikilotherm: The connection pool is not defined inside domain.xml
Wed, Jun 30, 2021, 14:27:48 - poikilotherm: We had this discussion before :-D
Wed, Jun 30, 2021, 14:28:16 - pdurbin: Sorry, I'm thinking more about this regression than the config stuff: https://github.com/IQSS/dataverse/issues/7986
Wed, Jun 30, 2021, 14:28:48 - poikilotherm: No worries
Wed, Jun 30, 2021, 14:29:13 - poikilotherm: Guess what. I'll leave all the stuff in there. But reshape from a single list into more chewable items
Wed, Jun 30, 2021, 14:31:10 - pdurbin: Are you making available all 20 options? Or are you making available 20 out of 100?
Wed, Jun 30, 2021, 14:36:45 - poikilotherm: It will now be 14 out of ~30
Wed, Jun 30, 2021, 14:39:36 - pdurbin: Gotcha.
Wed, Jun 30, 2021, 14:39:49 - pdurbin: So we can always add more if people ask for them.
Wed, Jun 30, 2021, 14:40:06 - pdurbin: You've narrowed it down to 14 that you think are useful.
Wed, Jun 30, 2021, 14:40:50 - poikilotherm: Actually 12. Removed  the caching stuff. That's a tricky beast
Wed, Jun 30, 2021, 14:43:03 - pdurbin: Fine fish and tricky beasts.
Wed, Jun 30, 2021, 14:43:18 - poikilotherm sent an image. (Media omitted)
Wed, Jun 30, 2021, 14:44:06 - pdurbin: The section headers help a lot. Ship it!
Wed, Jun 30, 2021, 14:44:10 - pdurbin: üöÄ
Wed, Jun 30, 2021, 14:46:00 - poikilotherm: Coveralls on  Github CI does not leave notes about coverage anymore. But adds a success / fail check :-)
Wed, Jun 30, 2021, 14:50:22 - pdurbin: It's working? Great! I haven't circled back to look..
Wed, Jun 30, 2021, 14:51:28 - pdurbin: I still see a note: Coverage decreased (-0.001%) to 19.314% when pulling 375bf82 on 7975-remind into 5fab3f1 on develop.
Wed, Jun 30, 2021, 14:51:38 - pdurbin: That's at https://github.com/IQSS/dataverse/pull/7985#issuecomment-871598293
Wed, Jun 30, 2021, 14:51:44 - pdurbin: Which is good, I think.
Wed, Jun 30, 2021, 14:59:02 - poikilotherm: O rly
Wed, Jun 30, 2021, 14:59:09 - poikilotherm: Maybe it does if coverage drops
Wed, Jun 30, 2021, 14:59:39 - pdurbin: no news is good news
Wed, Jun 30, 2021, 15:04:09 - poikilotherm: At least it's working again :-D
Wed, Jun 30, 2021, 15:17:22 - pdurbin: Yes! Thanks for fixing it!
Wed, Jun 30, 2021, 15:20:14 - poikilotherm: Sure.
Wed, Jun 30, 2021, 15:20:31 - poikilotherm: Looks like I'm running into troubles with my URL string :-(
Wed, Jun 30, 2021, 16:38:44 - pdurbin: :(
Wed, Jun 30, 2021, 19:24:13 - poikilotherm: Well, I invested some time and learned a lot again about Arquillian. https://github.com/payara/Payara/issues/5322
Thu, Jul 1, 2021, 09:37:43 - pdurbin: Sounds like a legit bug. üêû
Thu, Jul 1, 2021, 11:39:43 - korvv joined the room
Thu, Jul 1, 2021, 16:52:06 - pdurbin: It's a long weekend for Harvard. Most of us are getting back on Tuesday. Have a good weekend!
Fri, Jul 2, 2021, 04:04:59 - Virgile Jarrige: Take a good and well deserved rest! :)
Tue, Jul 6, 2021, 10:33:13 - pdurbin: Thanks! What did I miss? üòÄ
Tue, Jul 6, 2021, 13:34:20 - poikilotherm: Nothing.
Tue, Jul 6, 2021, 13:34:30 - poikilotherm: Welcome back
Tue, Jul 6, 2021, 13:34:46 - pdurbin: Some chatter on the mailing list. üòÉ
Tue, Jul 6, 2021, 14:04:46 - pdurbin: poikilotherm: with Shib and OAuth, we provide a GUI to let users convert their builtin account to a Shib or OAuth account. Do we have a GUI like this for OIDC too?
Tue, Jul 6, 2021, 14:19:19 - poikilotherm: U sure u got a UI for that?
Tue, Jul 6, 2021, 14:19:30 - poikilotherm: (local to/from remote auth)
Tue, Jul 6, 2021, 14:20:55 - poikilotherm: https://guides.dataverse.org/en/latest/user/account.html#convert-your-dataverse-installation-account-to-use-your-institutional-log-in that one?
Tue, Jul 6, 2021, 14:21:48 - poikilotherm: Is that limited to Shib sourced accounts?
Tue, Jul 6, 2021, 14:22:06 - poikilotherm: I'm limited to mobile so can't look into code right now
Tue, Jul 6, 2021, 14:22:43 - poikilotherm: (Can, but not for researching/digging deeper)
Tue, Jul 6, 2021, 14:26:26 - pdurbin: Thanks. In my reply I said I'm not sure if there's a GUI to convert: https://groups.google.com/g/dataverse-community/c/qjVPne385QA/m/-huHO0TRAgAJ
Tue, Jul 6, 2021, 14:26:45 - pdurbin: We have GUIs for Shib and OAuth. They work a little differently.
Tue, Jul 6, 2021, 14:27:23 - pdurbin: I looked at your OIDC pull request again and it seems like it might use the OAuth convert GUI.
Tue, Jul 6, 2021, 14:28:16 - pdurbin: We probably should have updated that "account.html" page to talk a bit about OIDC. Oh well.
Wed, Jul 7, 2021, 05:10:31 - hossamzalabany: Morning. I think there is a missing part in the command of activating the fake DOI here https://guides.dataverse.org/en/5.3/installation/config.html#id163
Wed, Jul 7, 2021, 05:11:26 - hossamzalabany: shouldn't it be 'curl -X PUT -d FAKE http://localhost:8080/api/admin/settings/:DoiProvider'  ?? i Think 'FAKE' is missing 
Wed, Jul 7, 2021, 10:09:50 - pdurbin: hossamzalabany: let me try uploading a picture of those docs.
Wed, Jul 7, 2021, 10:10:02 - pdurbin sent an image. (Media omitted)
Wed, Jul 7, 2021, 10:11:09 - pdurbin: The curl example is showing one of the three options: DataCite. It looks ok to me. You have to read paragraph above the curl example to see that the other two options are "EZID" and "FAKE".
Wed, Jul 7, 2021, 10:11:52 - pdurbin: Of course, if you'd like to suggest a different way of wording it, you are very welcome to make a pull request.
Thu, Jul 8, 2021, 06:14:59 - Benjamin (SODHA) joined the room
Thu, Jul 8, 2021, 06:16:16 - Benjamin (SODHA): Greetings!
Thu, Jul 8, 2021, 06:16:49 - Benjamin (SODHA): I've been trying to get the JSON representation of a draft, unpublished dataset, as per the procedure detailed here: https://guides.dataverse.org/en/latest/api/native-api.html#get-json-representation-of-a-dataset
Thu, Jul 8, 2021, 06:17:23 - Benjamin (SODHA): But whenever I punch in the following command:

export API_TOKEN=[redacted]
export SERVER_URL=https://www.sodha.be/
export PERSISTENT_IDENTIFIER=doi:10.34934/DVN/UZODLQ

curl https://www.sodha.be/api/datasets/:persistentId/versions/:draft?persistentId=doi:10.34934/DVN/UZODLQ
Thu, Jul 8, 2021, 06:17:45 - Benjamin (SODHA): I get the following error message:

{"status":"ERROR","message":"User :guest is not permitted to perform requested action."}
Thu, Jul 8, 2021, 06:17:59 - Benjamin (SODHA): Even though I did type "sudo bash" earlier on, so I guess I should have admin rights?
Thu, Jul 8, 2021, 06:18:01 - Benjamin (SODHA): Please help :'(
Thu, Jul 8, 2021, 06:19:06 - Lincoln: Sorry for misunderstanding before,
instead of :
curl https://www.sodha.be/api/datasets/:persistentId/versions/:draft?persistentId=doi:10.34934/DVN/UZODLQ

you can try:
curl -H "X-Dataverse-key:$API_KEY" https://www.sodha.be/api/datasets/:persistentId/?persistentId=doi:10.34934/DVN/UZODLQ


Thu, Jul 8, 2021, 06:29:19 - Benjamin (SODHA): But what if the dataset does not have files?
Thu, Jul 8, 2021, 06:31:48 - Lincoln: <@benjamin_peuch:matrix.org "But what if the dataset does not..."> sorry for misunderstanding before...could you please try above
Thu, Jul 8, 2021, 06:32:00 - Lincoln: <@lincoln55:matrix.org "Sorry for misunderstanding befor..."> this one
Thu, Jul 8, 2021, 06:33:39 - Benjamin (SODHA): It worked!
Thu, Jul 8, 2021, 06:33:44 - Benjamin (SODHA): Thank you very much, Lincoln :)
Thu, Jul 8, 2021, 06:33:48 - Lincoln: no probs
Thu, Jul 8, 2021, 06:34:16 - Benjamin (SODHA): Maybe I should open an issue to suggest replacing the current command with yours
Thu, Jul 8, 2021, 06:36:42 - Lincoln: sure.I wont mind
Thu, Jul 8, 2021, 09:56:56 - pdurbin: benjamin_peuch: it doesn't hurt to always send the API token. In some cases, the token isn't required, such as when getting the JSON for a published version.
Thu, Jul 8, 2021, 09:57:09 - pdurbin: Lincoln: thanks for helping. üòÄ
Thu, Jul 8, 2021, 10:14:53 - Benjamin (SODHA): But here even with the token in declarations prior to the curl command it didn't work ü§î
Thu, Jul 8, 2021, 10:32:04 - pdurbin: Hmm, in that case it probably didn't say something like "guest cannot access". The API at least knows who you are.
Thu, Jul 8, 2021, 10:32:37 - pdurbin: Anyway, I'm probably confused. I saw "it worked!" and thought you were all set. üòÄ
Thu, Jul 8, 2021, 10:50:34 - Benjamin (SODHA): And there we go: https://github.com/IQSS/dataverse/issues/7993
Thu, Jul 8, 2021, 10:55:39 - pdurbin: Thanks.
Thu, Jul 8, 2021, 10:56:00 - pdurbin: "Getting its draft version:" should have the API token, at least.
Thu, Jul 8, 2021, 11:10:48 - pdurbin: poikilotherm: "I am leaning toward advising the IT Department to use SAML/Shibboleth because a GUI interface allows me to convert current accounts to shib post-installation." Do you know if OIDC supports this? From https://groups.google.com/g/dataverse-community/c/qjVPne385QA/m/EcrR3D9uAQAJ
Thu, Jul 8, 2021, 11:22:11 - poikilotherm: OIDC uses the same flow as OAuth2 in the codebase. You can convert from local to ORCID, so you should be able to convert from local to OIDC.
Thu, Jul 8, 2021, 11:22:22 - poikilotherm: (The docs have it with ORCID)
Thu, Jul 8, 2021, 11:27:36 - poikilotherm: It's based on the username, though. Not the email attribute.
Thu, Jul 8, 2021, 11:27:47 - poikilotherm: For whatever reason...
Thu, Jul 8, 2021, 11:29:05 - poikilotherm: Maybe one can insert the existing local username when authenticating via OAuth2/ORCID. This will then fail with sth like a "username taken" message. A link is provided to the conversion UI
Thu, Jul 8, 2021, 11:29:17 - poikilotherm: Not sure I like how this code works... :-D
Thu, Jul 8, 2021, 11:29:22 - pdurbin: heh.
Thu, Jul 8, 2021, 11:29:28 - pdurbin: based on the username. ok, thanks!
Thu, Jul 8, 2021, 11:30:02 - poikilotherm: It's all very undocumented... The control/data flow is not explained in the code nor in  the docs
Thu, Jul 8, 2021, 11:30:40 - pdurbin: Well, for Oauth it's documented: https://guides.dataverse.org/en/5.5/user/account.html#convert-your-dataverse-installation-account-to-use-orcid-for-log-in
Thu, Jul 8, 2021, 11:30:48 - pdurbin: > After you put in your ORCID credentials successfully, you will be brought back to the Dataverse installation. Click the ‚Äúconvert your account‚Äù link.
Thu, Jul 8, 2021, 11:31:23 - pdurbin: Maybe we should add "or OIDC" to this:

> You can also convert your Dataverse installation account to use authentication provided by GitHub, Microsoft, or Google. 
Thu, Jul 8, 2021, 11:44:33 - pdurbin sent an image. (Media omitted)
Thu, Jul 8, 2021, 11:44:57 - pdurbin: It looks like OIDC does have a "convert your account" link. ^^ From https://github.com/IQSS/dataverse/issues/6701
Thu, Jul 8, 2021, 12:09:59 - poikilotherm: Of course.
Thu, Jul 8, 2021, 12:13:43 - pdurbin: I forgot how long the workflow is. üòÄ
Thu, Jul 8, 2021, 12:13:51 - pdurbin: But it worked!
Thu, Jul 8, 2021, 14:09:02 - Lincoln:  i have completed all the steps for DCM module but 
have one little question. From which file do we replace  "https://dcm.example.edu "  on the following step.
https://guides.dataverse.org/en/latest/installation/config.html#id216
Thu, Jul 8, 2021, 14:28:25 - pdurbin: Lincoln: I'm not sure I understand the question. DCM is a service you need to install on a server somewhere. I'm not sure where "which file" comes in.
Thu, Jul 8, 2021, 15:20:52 - Lincoln: <@pdurbin:matrix.org "Lincoln: I'm not sure I understa..."> oh 
Thu, Jul 8, 2021, 15:23:33 - pdurbin: Does that make sense? DCM is written in Python.
Thu, Jul 8, 2021, 15:24:41 - Lincoln: thank you pdurbin 
Thu, Jul 8, 2021, 15:24:58 - pdurbin: sure!
Thu, Jul 8, 2021, 15:26:10 - Lincoln: the steps are a bit lengthy
Thu, Jul 8, 2021, 15:26:45 - Lincoln: Is integration of Globus coming closer? :)
Thu, Jul 8, 2021, 15:27:27 - pdurbin: :)
Thu, Jul 8, 2021, 15:27:43 - pdurbin: Have you been on any of the recent Globus calls with Scholars Portal?
Thu, Jul 8, 2021, 15:27:53 - pdurbin: Or did you see the demo at #dataverse2021?
Thu, Jul 8, 2021, 15:28:56 - Lincoln: i was in workshop dataverse2021
Thu, Jul 8, 2021, 15:29:43 - pdurbin: Ok, so you saw the demo. It seems to be coming along!
Thu, Jul 8, 2021, 15:30:32 - Lincoln: <@pdurbin:matrix.org "Ok, so you saw the demo. It seem..."> Sounds good..üòá
Thu, Jul 8, 2021, 15:33:04 - pdurbin: There's also direct upload (and download) with S3. That's working well for Harvard Dataverse.
Thu, Jul 8, 2021, 15:34:03 - Lincoln: yeah I have also integrated Ceph s3 with my dataverse installation
Thu, Jul 8, 2021, 15:34:46 - Lincoln: (a quick question , can we upload large files from gui to s3)
Thu, Jul 8, 2021, 15:35:05 - Lincoln: its because I have not tested yet
Thu, Jul 8, 2021, 15:35:36 - pdurbin: Yes, you can upload from the GUI to S3.
Thu, Jul 8, 2021, 15:37:05 - Lincoln: And my other main concern  is in deletion ? will it also delete file from bucket ..
Thu, Jul 8, 2021, 15:37:08 - Lincoln: ?
Thu, Jul 8, 2021, 15:43:01 - pdurbin: Yep! Should work. If it's not, it's a bug. üòÄ
Thu, Jul 8, 2021, 15:43:34 - Lincoln: <@pdurbin:matrix.org "Yep! Should work. If it's not, i..."> 
thank you pdurbin 
Thu, Jul 8, 2021, 15:43:59 - pdurbin: Of course, sometimes people forget how Dataverse works. Old files from old versions are not deleted. They're still there on purpose in case a researcher needs to go back to version 1.0 to reproduce a result.
Fri, Jul 9, 2021, 05:51:42 - pacian joined the room
Fri, Jul 9, 2021, 05:52:23 - pacian: Is there anyone in chat who can help me with SSO (OIDC)?
Fri, Jul 9, 2021, 08:13:29 - poikilotherm: Hi pacian . What's up with OIDC for ya?
Fri, Jul 9, 2021, 09:16:33 - pacian: Hello again, 
Fri, Jul 9, 2021, 09:17:22 - pacian: We are doing some onboarding for OIDC and the IT Department is asking for an redirect link, I have no clue what they are looking for.
Fri, Jul 9, 2021, 09:17:45 - pacian: poikilotherm: We are doing some onboarding for OIDC and the IT Department is asking for an redirect link, I have no clue what they are looking for.
Fri, Jul 9, 2021, 09:20:01 - poikilotherm: You're right, that info is missing from the OIDC docs page. https://guides.dataverse.org/en/latest/installation/oidc.html
Fri, Jul 9, 2021, 09:20:13 - poikilotherm: Please open an issue and/or pull request
Fri, Jul 9, 2021, 09:20:36 - poikilotherm: The callback / redirect URL is the same as for OAuth2. See https://guides.dataverse.org/en/latest/installation/oauth2.html#obtain-client-id-and-client-secret
Fri, Jul 9, 2021, 09:20:44 - poikilotherm: https://dataverse.example.edu/oauth2/callback.xhtml
Fri, Jul 9, 2021, 09:21:06 - poikilotherm: You'd need to replace dataverse.example.edu with your FQDN
Fri, Jul 9, 2021, 09:22:03 - poikilotherm: Pro tip: add http://localhost:8080/oauth2/callback.xhtml and maybe other staging / dev environments to the allowed redirect URLs
Fri, Jul 9, 2021, 09:22:05 - pacian: Okay, they want us to provide the redirect link before anything has been done or implemented 
Fri, Jul 9, 2021, 09:22:11 - poikilotherm: Sure
Fri, Jul 9, 2021, 09:22:32 - poikilotherm: Most OIDC (and OAuth2) needs to know what are any allowed redirect URLs
Fri, Jul 9, 2021, 09:22:46 - poikilotherm: You might want to create a development set of OIDC client credentials
Fri, Jul 9, 2021, 09:22:55 - poikilotherm: And add those URLs there, too
Fri, Jul 9, 2021, 09:23:02 - poikilotherm: You might want to test things
Fri, Jul 9, 2021, 09:23:29 - poikilotherm: And it's always a good idea to make your auth flow testable ;-)
Fri, Jul 9, 2021, 09:23:39 - poikilotherm: And not test in production :-D
Fri, Jul 9, 2021, 09:24:37 - pacian: This is beyond my scope of understanding, I installed Dataverse (barely) No one in IT understands Dataverse and I have to comply with SSO requirements and I have never done this before.
Fri, Jul 9, 2021, 09:25:04 - poikilotherm: Sure
Fri, Jul 9, 2021, 09:25:28 - poikilotherm: Believe me, it's way easier than setting up Shibboleth as your service provider ;-)
Fri, Jul 9, 2021, 09:25:49 - poikilotherm: Are you peeps using an identity management system?
Fri, Jul 9, 2021, 09:26:08 - poikilotherm: Some of those allow signing in with ORCID, Github and you institutional mail
Fri, Jul 9, 2021, 09:26:14 - pacian: Yes they are
Fri, Jul 9, 2021, 09:26:49 - poikilotherm: That way it becomes much easier to integrate other providers with Dataverse (you don't have to) and to enable multi-account auth, yet using the same account/profile inside Dataverse
Fri, Jul 9, 2021, 09:27:16 - poikilotherm: (Dataverse does not support multiway auth on its own)
Fri, Jul 9, 2021, 09:27:30 - pacian: We are currently using a test environment.
Fri, Jul 9, 2021, 09:27:48 - poikilotherm: For Dataverse or the IDM?
Fri, Jul 9, 2021, 09:28:08 - pacian: for Dataverse
Fri, Jul 9, 2021, 09:28:51 - poikilotherm: Nice
Fri, Jul 9, 2021, 09:29:44 - poikilotherm: So all you need to do is give them the redirect URL like I said above. With the resulting client credentials you can then create the JSON file to configure the Auth provider in Dataverse
Fri, Jul 9, 2021, 09:30:25 - pacian: You refer to You might want to create a development set of OIDC client credentials And it's always a good idea to make your auth flow testable , what do you mean...Understand, I am so green to this  Dataverse.
Fri, Jul 9, 2021, 09:30:53 - pacian: https://dataverse-test.ku.dk/
Fri, Jul 9, 2021, 09:31:35 - poikilotherm: It's just a web app. Won't bite, I promise. üôà
Fri, Jul 9, 2021, 09:32:13 - poikilotherm: We configured J√ºlich DATA with OIDC, too.
Fri, Jul 9, 2021, 09:32:18 - pacian: easy for you to say, you are the master...
Fri, Jul 9, 2021, 09:32:21 - poikilotherm: https://data.fz-juelich.de/
Fri, Jul 9, 2021, 09:32:43 - poikilotherm: We do not allow for local signups, anyone shall go through Helmholtz AAI
Fri, Jul 9, 2021, 09:32:50 - pacian: we are using microfocus
Fri, Jul 9, 2021, 09:33:01 - poikilotherm: That AAI is hooked to eduGain, ORCID and GIthub
Fri, Jul 9, 2021, 09:33:28 - poikilotherm: Ah good 'ol Netware times
Fri, Jul 9, 2021, 09:36:33 - pacian: okay... so this is where we stand. I Dataverse 5.0 running with currently register users. My IT Department needs an redirect url for OIDC, what are the steps in order that I must follow to fulfilled that requirement. This the first step, all others don't matter just yet, that redirect url is what they need and I need to figure out how to get it.  I am an old CNE version 5
Fri, Jul 9, 2021, 09:37:15 - poikilotherm: 5.0? Sure it's not 5.5?
Fri, Jul 9, 2021, 09:38:31 - pacian: No, 5.0 
Fri, Jul 9, 2021, 09:38:48 - poikilotherm: Oh. Why?
Fri, Jul 9, 2021, 09:39:03 - pacian: we will go into production with 5.5 but testing with 5.0 
Fri, Jul 9, 2021, 09:39:39 - poikilotherm: <@pacian:matrix.org "we will go into production with ..."> OK. Whatever works for you folks :-)
Fri, Jul 9, 2021, 09:40:19 - poikilotherm: Your redirect URL would be https://dataverse-test.ku.dk/oauth2/callback.xhtml
Fri, Jul 9, 2021, 09:40:27 - pacian: we went with 5.0 because I was the idiot who volunteer to installed it.. I had issues with 5.3 and decided to go back to 5.0 
Fri, Jul 9, 2021, 09:42:07 - pacian: I am literally learning Dataverse on the fly. I first installed it in a Linode and then I convinced IT to allow a librarian to install it in a test environment..
Fri, Jul 9, 2021, 09:43:10 - pacian: I am that librarian.. so I am learning as we go. No sys admin experience at all and I managed to get it up and running 
Fri, Jul 9, 2021, 09:44:27 - poikilotherm: Never hesitate to ask questions here. Usually there are some peeps around with different timezones. Answers may not be real time, but usually there'll be an update ;-)
Fri, Jul 9, 2021, 09:45:34 - pacian: thank you thank thank you !!!!! As a FYI, my girlfriend is German from Hannover.. 
Fri, Jul 9, 2021, 09:48:33 - poikilotherm: TIB librarian girlfriend by chance? :-D
Fri, Jul 9, 2021, 09:49:40 - poikilotherm: Fun fact: DataCite, our famous DOI provider, is a german non-profit association located in Hannover... Many of their personel work at TIB
Fri, Jul 9, 2021, 09:50:14 - poikilotherm: "many" would be 3, actually. 
Fri, Jul 9, 2021, 09:53:44 - pacian: No she works at Continental. she is trying to get me to move to Hannover and I am trying to get her to move to Copenhagen.
Fri, Jul 9, 2021, 09:54:32 - pacian: <@oliver:bertuch.name "Fun fact: DataCite, our famous D..."> I didn't know DataCite was German, I honestly thought it was Danish, go figure !
Fri, Jul 9, 2021, 09:55:13 - poikilotherm: https://datacite.org/imprint.html
Fri, Jul 9, 2021, 09:56:10 - poikilotherm: Compare the addresses :-D https://www.tib.eu/en/service/imprint
Fri, Jul 9, 2021, 10:01:00 - pacian: Okay, now I am informed. Another reason to move to Hannover
Fri, Jul 9, 2021, 10:05:17 - pdurbin: pacian: nice to see you here. üòÄ
Fri, Jul 9, 2021, 10:08:26 - pacian: nice to see you too as well. 
Fri, Jul 9, 2021, 10:09:23 - poikilotherm: You might wanna ROR with Paul Vierkant :-D
Fri, Jul 9, 2021, 10:09:32 - pacian: I should come to ask my questions here instead of the Google Groups.. it's more effective and efficient to get answers here
Fri, Jul 9, 2021, 10:10:34 - poikilotherm: I tend to not look at what happens on the mailing list. Chatting here is more like talking, very convinient for these more complex questions
Fri, Jul 9, 2021, 10:11:09 - poikilotherm: Maybe it's just me, not being a Usenet kid... ;-)
Fri, Jul 9, 2021, 10:12:38 - * pdurbin used NNTP back in the day
Fri, Jul 9, 2021, 10:14:12 - pacian: I remember Usenet
Fri, Jul 9, 2021, 10:14:36 - pacian: I use to run PCBoard before this Internet
Fri, Jul 9, 2021, 10:14:44 - pacian: I remember BITnet
Fri, Jul 9, 2021, 10:15:09 - pacian: 
that's how ancient I am 
Fri, Jul 9, 2021, 10:15:42 - poikilotherm: When I was young, ICQ was a thing. https://en.wikipedia.org/wiki/ICQ It still exists today :-D
Fri, Jul 9, 2021, 10:16:08 - pacian: I remember ICQ--- hello !!
Fri, Jul 9, 2021, 10:16:09 - poikilotherm: So I socialized with chatting, no mailbox fetching ;-)
Fri, Jul 9, 2021, 10:16:45 - pdurbin: It's good to have both. Mailing lists are good for announcements, for example.
Fri, Jul 9, 2021, 10:16:45 - pacian: FIDONet . RIME all that fun stuff
Fri, Jul 9, 2021, 10:17:25 - pacian: I like the mailing list too but I don't think I will go back..
Fri, Jul 9, 2021, 10:17:50 - poikilotherm: <@pdurbin:matrix.org "It's good to have both. Mailing ..."> True!
Fri, Jul 9, 2021, 10:18:35 - poikilotherm: Also I tend to use broadcast chat channels for those these days... üòè
Fri, Jul 9, 2021, 10:19:50 - pacian set a profile picture
Fri, Jul 9, 2021, 10:20:18 - pdurbin: Has anyone played with Mumble? Is it useful at all? Seems kind of weird to have background (?) audio of people talking.
Fri, Jul 9, 2021, 10:21:07 - poikilotherm: During the pandemic a few colleagues used this to simulate an office.
Fri, Jul 9, 2021, 10:21:54 - poikilotherm: IIRC I read somewhere that people struggling with mental health have benefited from such services, as it felt less like being all alone
Fri, Jul 9, 2021, 10:22:55 - pacian: I'm not a gamer so I have not used it
Fri, Jul 9, 2021, 10:23:40 - pdurbin: Probably better just to schedule a meeting if you want to talk.
Fri, Jul 9, 2021, 10:25:02 - pdurbin: poikilotherm: out of curiosity, is yours the only Dataverse installation that you know of using OIDC? I feel like I heard of at least one other using it.
Fri, Jul 9, 2021, 10:25:25 - pdurbin: pacian: OIDC support is much newer. Lots of installations use Shibboleth/SAML.
Fri, Jul 9, 2021, 10:26:25 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: out of curiosity, ..."> No idea. Sorry
Fri, Jul 9, 2021, 10:27:10 - poikilotherm sent an image. (Media omitted)
Fri, Jul 9, 2021, 10:27:48 - pacian: Actually I am not married to either SAML or OIDC, I want to use the easiest solution is that is to implement 
Fri, Jul 9, 2021, 10:28:14 - pacian: Our IT supports both so they really don't care
Fri, Jul 9, 2021, 10:28:19 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: out of curiosity, ..."> I know that lots of European services move towards OpenID Connect. All the stuff around EOSC / EUDAT is using lots of the OIDC stuff, but most of 'em with some sort of proxy/IDM/... that creates bridges towards eduGain which is purely SAML based
Fri, Jul 9, 2021, 10:28:38 - pdurbin: At Harvard OIDC isn't supported. Our choices are SAML or CAS.
Fri, Jul 9, 2021, 10:29:14 - poikilotherm: Same here - our institutional IDP is classic Shibboleth.
Fri, Jul 9, 2021, 10:30:07 - poikilotherm: But we provide https://www.eudat.eu/services/b2access and https://aai.helmholtz.de/
Fri, Jul 9, 2021, 10:30:40 - poikilotherm: And there had been discussion around EOSC to reuse these existing services for EOSC services.
Fri, Jul 9, 2021, 10:31:52 - pacian: which is he easiest to implement with Dataverse?
Fri, Jul 9, 2021, 10:33:50 - pdurbin: I expect poikilotherm would say OIDC is easier and I would say SAML is easier. üòÄ But that's just based on familiarity. üòÄ
Fri, Jul 9, 2021, 10:34:18 - poikilotherm: Well for SAML you will need to run Shibboleth and Apache with mod_ajp in parallel
Fri, Jul 9, 2021, 10:35:05 - poikilotherm: With OpenID Connect, that isn't necessary and you might go for Apache or NGINX for your reverse proxy.
Fri, Jul 9, 2021, 10:36:59 - poikilotherm: To be fair: Shib login might feel more comfortable to users. During OIDC login, you will need to fill in your details, as they can't be reused within the first login mask. I didn't have the time yet to make that feature matching with SAML ;-)
Fri, Jul 9, 2021, 10:37:41 - poikilotherm: That reminds me that there is an open issue with this and I should give this another shot... :-D
Fri, Jul 9, 2021, 10:38:25 - pacian: Well to be very honest here, I am the only person in Denmark to get Dataverse to run in an Research Institution (laptops don't count). So I aim for what is the easiest it sounds as though OIDC is the easiest because I don't have to make to many changes to Apache. 
Fri, Jul 9, 2021, 10:39:15 - pacian: Remember I am just a librarian with no technical skills
Fri, Jul 9, 2021, 10:41:57 - pdurbin: I think poikilotherm and I would agree that no matter if you pick SAML or OIDC, you can switch to the other (with some effort) if you need to. The supported way would be to convert all your remote users (SAML or OIDC) to local users and then have them go through the "convert account" process. It would be a pain but it's possible.
Fri, Jul 9, 2021, 10:42:55 - poikilotherm: <@pdurbin:matrix.org "I think poikilotherm and I would..."> "A pain" indeed üôà üôâ üôä
Fri, Jul 9, 2021, 10:43:13 - pacian: the good thing is that we are going through this entire process in a Test Server environment
Fri, Jul 9, 2021, 10:43:51 - pacian: we are gathering quite a bit of intelligence and will apply best practices when we get to production.
Fri, Jul 9, 2021, 10:45:45 - pdurbin: Right. Pretty low risk right now.
Fri, Jul 9, 2021, 10:45:58 - pdurbin: You could try both. üòÄ
Fri, Jul 9, 2021, 10:48:19 - pdurbin: pacian: I see "University of Copenhagen" on the list at https://demo.dataverse.org if you want to try SAML. Under "Your Institution" on the Log In page.
Fri, Jul 9, 2021, 10:48:46 - pdurbin: poikilotherm: I wonder if we could configure the demo server for OIDC somehow.
Fri, Jul 9, 2021, 10:49:52 - pacian: I have a personal demo server that I use and will test it...
Fri, Jul 9, 2021, 10:50:15 - pacian: http://research.paciandev.com:8080/
Fri, Jul 9, 2021, 10:51:26 - pdurbin: That's cool. I'm just saying the the demo server should "just work" if you want to see what the user experience is like.
Fri, Jul 9, 2021, 10:53:21 - pacian: Understood,  I just want to know what to expect in the way of questions and also what the user experience will be .. i.e. I need to know what this all means ... I am still learning ...
Fri, Jul 9, 2021, 10:54:10 - pdurbin: Sure. Please keep the questions coming. üòÄ
Fri, Jul 9, 2021, 10:55:23 - poikilotherm: Did I find a bug in Github Actions? https://github.community/t/possible-bug-workflow-not-executed-for-pushes-to-pr-branch-when-base-branch-contains/189446 Hopefully it's just me doing sth wrong.
Fri, Jul 9, 2021, 10:55:46 - pdurbin: There are a few differences from Shib compared to other accounts. This is mostly because Shib was implemented first (before OAuth, before OIDC). Shib users can't change their email or name, for example. The idea is that this info comes from the IdP.
Fri, Jul 9, 2021, 10:59:14 - poikilotherm: Those features mentioned by pdurbin where exactly the tasks left open for https://github.com/IQSS/dataverse/issues/5974. (This is an epic, sub-issues are mentioned at the end of that one). But then the JSON thing hitand derailed my dev efforts with this. I should simply revive those. This is still needed :-D
Fri, Jul 9, 2021, 11:02:17 - pdurbin: poikilotherm: yes, good, but I'm starting to worry that we're going to scare off poor pacian  üòÄ
Fri, Jul 9, 2021, 11:02:54 - poikilotherm: Oh I just thought it would be good to let him make informed decisions :-D
Fri, Jul 9, 2021, 11:03:01 - pacian: You have.
Fri, Jul 9, 2021, 11:03:42 - pacian: I am saying to myself, I think it is time I go back to putting books back on the library shelf.. less stressful.
Fri, Jul 9, 2021, 11:05:23 - pdurbin: Heh. It'll be fine. We'll help you get it working. üòÄ
Fri, Jul 9, 2021, 11:09:05 - pacian: Thanks, it's been a tough journey just to get it here. From that Linode Cloud Test Server to the KU IT Test Server to almost Production.. it's been tough. Of course I am more than a Librarian I am a educated (Masters) so this is kind of all new to me. Building the clode solution took quite a bit of effort. I think I installed DV 100 times before I go it right.
Fri, Jul 9, 2021, 11:11:13 - pacian: Okay it's 1710 in Copenhagen and my weekend has officially started. Enjoy your weekend when you get there and many many thanks for all the great help. Be assured, I will be back
Fri, Jul 9, 2021, 11:12:36 - pdurbin: Have a good weekend!
Fri, Jul 9, 2021, 11:23:48 - pacian: Another question just came in from IT, where can they find a Standard architectural diagram of a Dataverse installation that will support 150 users per year with an installation on just 1 VMWare Server?
Fri, Jul 9, 2021, 11:25:13 - pdurbin: I thought your weekend was starting. üòÄ I'm afraid the only diagram in the guides is this one for a more advanced installation on multiple servers: https://guides.dataverse.org/en/5.5/installation/prep.html#advanced-installation
Fri, Jul 9, 2021, 11:25:26 - pacian: Last question from IT, where can I find a technical description of Dataverse that describe how has been developed? Sorry, I don't create these questions they just ask me them.
Fri, Jul 9, 2021, 11:26:12 - pdurbin: How it has been developed? Uh. By typing Java, mostly. üòÄ
Fri, Jul 9, 2021, 11:26:53 - pacian: <@pdurbin:matrix.org "I thought your weekend was start..."> I gave them this drawing and they said it is an unrealistic drawing because the usage will never reach that level where they will use that kind of design. 
Fri, Jul 9, 2021, 11:28:03 - pdurbin: Ah, ok. Well, the components are the same if it's on one box. Payara, PostgreSQL, Solr, Apache. Maybe Rserve (I think it's optional).
Fri, Jul 9, 2021, 11:29:04 - pdurbin: You need Rserve if you want this: "It will allow you to ingest R (.RData) files as tabular data and to export tabular data as .RData files." From https://guides.dataverse.org/en/5.5/installation/prerequisites.html
Fri, Jul 9, 2021, 11:29:16 - pacian sent an image. (Media omitted)
Fri, Jul 9, 2021, 11:29:22 - pacian: this is what I provided:
Fri, Jul 9, 2021, 11:29:57 - pdurbin: Oh right, I was looking for that diagram. I think it's in the guides somewhere!
Fri, Jul 9, 2021, 11:30:49 - pacian: I have provided IT with this description  in yellow unfortunately it was not enough...see comments to the side
Fri, Jul 9, 2021, 11:31:29 - pacian: I found this diagram while searching in Google Images...
Fri, Jul 9, 2021, 11:32:23 - pdurbin: Ah, here it is: https://github.com/IQSS/dataverse/blob/v5.5/doc/Architecture/dataflow.png
Fri, Jul 9, 2021, 11:33:24 - pdurbin: The comment on the side is a little cut off.
Fri, Jul 9, 2021, 11:35:34 - pdurbin: Here's a pretty good list: https://guides.dataverse.org/en/5.5/installation/prep.html#required-components
Fri, Jul 9, 2021, 11:35:35 - pacian sent an image. (Media omitted)
Fri, Jul 9, 2021, 11:37:35 - pdurbin: Thanks.
Fri, Jul 9, 2021, 11:38:01 - pdurbin: Is all you want a diagram of the "Required Components" list for a single server?
Fri, Jul 9, 2021, 11:40:06 - pacian: Actually, the diagram works for them, they want a more technical (in words) what Dataverse is  they know it is an open source application  for FAIR... yada yada yada.. they want a more technical ( IT ) description..
Fri, Jul 9, 2021, 11:40:47 - pdurbin: Maybe https://guides.dataverse.org/en/5.5/developers/intro.html#core-technologies would help:

> The Dataverse Software is a Jakarta EE application that is compiled into a WAR file and deployed to an application server (app server) which is configured to work with a relational database (PostgreSQL) and a search engine (Solr).
Fri, Jul 9, 2021, 11:41:51 - pacian: <@pdurbin:matrix.org "Maybe https://guides.dataverse.o..."> Bingo, that's what I need. Thanks
Fri, Jul 9, 2021, 11:41:51 - poikilotherm: Message deleted
Fri, Jul 9, 2021, 11:42:17 - poikilotherm: @pacian please do not call it a microservice or SOA architecture. It isn't.
Fri, Jul 9, 2021, 11:43:17 - pdurbin: Yeah, good point. It's a monolith. üòÄ
Fri, Jul 9, 2021, 11:43:20 - pacian: <@oliver:bertuch.name "@pacian please do not call it a ..."> I didn't the IT person helping us called it that... I wouldn't know what a SOA is from SOAP or a wash cloth
Fri, Jul 9, 2021, 11:43:46 - poikilotherm: Oh my... So many buzzwords, so little meaning. 
Fri, Jul 9, 2021, 11:44:06 - poikilotherm: Sorry to say this, but this came across a few times for me now.
Fri, Jul 9, 2021, 11:44:40 - poikilotherm: It's often used to sell costly upgrades to management :-D
Fri, Jul 9, 2021, 11:45:38 - poikilotherm: It might be fine to call it "service oriented architecture" (depends on what definition you use), but it certainly is NOT a microservice architecture :-D
Fri, Jul 9, 2021, 11:46:41 - pacian: We are doing what is called an Architectural Assessment and this is a 15 page document that require answers to their question. They gave us an IT Architect, who is as green as I am, in fact I look like a season veteran compared to her.   
Fri, Jul 9, 2021, 11:47:09 - poikilotherm: üò≥
Fri, Jul 9, 2021, 11:47:42 - poikilotherm: One day pdurbin we might provide people a proper C4 diagram of Dataverse software.
Fri, Jul 9, 2021, 11:47:59 - poikilotherm: Gotta go folks. Read y'all later
Fri, Jul 9, 2021, 11:48:02 - pacian: I can send it to you in email and you can look at it and comment if you wish.
Fri, Jul 9, 2021, 11:49:57 - poikilotherm: Sry no time for that üòú 
Fri, Jul 9, 2021, 11:50:13 - poikilotherm: Some day there might be a consulting agency for Dataverse
Fri, Jul 9, 2021, 11:50:31 - pdurbin: Wow, 15 pages.
Fri, Jul 9, 2021, 11:51:12 - pdurbin: I think you should go enjoy your weekend. üòÄ
Fri, Jul 9, 2021, 11:52:09 - pacian: I sent you poikilotherm the document without the appendix
Fri, Jul 9, 2021, 16:23:51 - pdurbin: Ok, folks. Have a good weekend!
Fri, Jul 9, 2021, 16:58:03 - poikilotherm: <@oliver:bertuch.name "Did I find a bug in Github Actio..."> Sometimes things hide in plain sight. Can't see the forest because too many trees. https://github.community/t/possible-bug-workflow-not-executed-for-pushes-to-pr-branch-when-base-branch-contains/189446/2
Fri, Jul 9, 2021, 16:59:57 - poikilotherm: <@pdurbin:matrix.org "Ok, folks. Have a good weekend!"> See ya! Enjoy
Sat, Jul 10, 2021, 12:22:30 - @bjonnh:matrix.org changed their profile picture
Mon, Jul 12, 2021, 04:59:56 - TumTumTumTumTum joined the room
Mon, Jul 12, 2021, 10:15:56 - es3 joined the room
Mon, Jul 12, 2021, 10:21:35 - es3: Hello I need help trying to determine if a dataset that's been published within Harvard Dataverse sight meets its Best Practices for Data Citation.


Mon, Jul 12, 2021, 10:22:38 - pdurbin: This? https://dataverse.org/best-practices/data-citation
Mon, Jul 12, 2021, 10:22:55 - es3: Correct Sir. 
Mon, Jul 12, 2021, 10:24:23 - es3: Here is the publications dataset location and it current uploaded info.

 https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/FFLQUK
Mon, Jul 12, 2021, 10:26:08 - es3: The dataset in question is the status ID tab with one variable with 53k rows.

I would expect that this data set will be comprehensive however I might be mistaken
Mon, Jul 12, 2021, 10:29:43 - pdurbin: I guess these are the IDs of tweets?
Mon, Jul 12, 2021, 10:31:24 - es3: Agreed

However I would think for post analysis of a publication the data set would be comprehensive and not just provide the IDs.

I see a number of queries used to analyze a data set which I would like to verify however this data set does not provide that capability. 
Mon, Jul 12, 2021, 10:31:57 - pdurbin: Dunno if you saw this:

#' Script to use the Twitter API to rehydrate (get full data of) tweets for 
#' which (only) the status_id is known. This requires setup of a Twitter 
#' Developer account and an API key. See rtweet documentation. 
Mon, Jul 12, 2021, 10:32:12 - pdurbin: The "rehydrate" script: https://dataverse.harvard.edu/file.xhtml?fileId=4300091&version=1.0
Mon, Jul 12, 2021, 10:33:57 - es3: Thank you I didn't understand the code as it was written apparently
Mon, Jul 12, 2021, 10:34:54 - pdurbin: Sure. I mean, it's not my data. You should use the "Contact Owner" button to read the authors of the dataset.
Mon, Jul 12, 2021, 10:37:35 - es3: Thank you

Have been trying to reach authors but have been unsuccessful. So I've been trying to just learn R on my own. 
Mon, Jul 12, 2021, 10:39:32 - pdurbin: Ok, sounds like you're doing everything right. üòÄ
Mon, Jul 12, 2021, 10:41:10 - es3:  Thank you again
Mon, Jul 12, 2021, 10:41:28 - pdurbin: Oh sure. Come by anytime.
Mon, Jul 12, 2021, 12:09:19 - nightowlasu joined the room
Mon, Jul 12, 2021, 12:17:09 - nightowlasu: anyone know if it would be possible to set up a "private store" in dataverse ... so that if we chose that store for a particular sub-dataverse, we could somehow set permissions on it so that only specific IP addresses could access those files? (ie: if anyone else clicked the file link in the dataset, it would just give a 403/4 error or something)? I know we can set file permissions to specific users/groups, but we are still trying to find a way to make certain datasets private based on IP address/firewall rules. I think in dataverse the store has to be public, but if we had a separate subnet in aws that was only available to certain IP addresses, would that somehow work? 
Mon, Jul 12, 2021, 12:17:59 - pdurbin: Dataverse supports IP Groups: https://guides.dataverse.org/en/5.5/admin/ip-groups.html
Mon, Jul 12, 2021, 12:18:40 - pdurbin: I believe the original use case (from Scholars Portal) is that if you walk into one of their libraries, you should have access to data they've licensed.
Mon, Jul 12, 2021, 12:19:17 - nightowlasu: omg thanks .. it seems like every time I ask a question, the answer is something that I missed in the guides! sorry
Mon, Jul 12, 2021, 12:19:42 - nightowlasu: that is exactly what we need to do ... limit to on-campus users
Mon, Jul 12, 2021, 12:20:07 - pdurbin: No worries. It's a feature we almost dropped from Dataverse 4.0. I guess I'm glad we kept it. üòÄ
Mon, Jul 12, 2021, 12:20:43 - nightowlasu: i'm very glad! i had no idea this was available and we've been talking about it for months
Mon, Jul 12, 2021, 13:15:51 - poikilotherm: nightowlasu you might also note the ability to use mail domain based groups
Mon, Jul 12, 2021, 13:16:12 - poikilotherm: Sometimes, especially during pandemic times, people might not access data with campus based IPs
Mon, Jul 12, 2021, 13:16:57 - poikilotherm: Then mail domain might come in handy. It has been added with 5.0 IIRC (contributed by me)
Mon, Jul 12, 2021, 13:21:16 - nightowlasu: well, that is cool! So we can restrict files to only @asu.edu domains? yes!
Mon, Jul 12, 2021, 13:34:01 - poikilotherm: Yes we can! ü§£
Mon, Jul 12, 2021, 13:34:08 - poikilotherm: Ah wait
Mon, Jul 12, 2021, 13:34:15 - poikilotherm: Not so sure about files
Mon, Jul 12, 2021, 13:34:38 - poikilotherm: Dunno if files permissions are tied into the Dataverse/dataset permission system at all 
Mon, Jul 12, 2021, 13:34:52 - poikilotherm: (So IP groups might not help with that, too)
Mon, Jul 12, 2021, 13:35:04 - poikilotherm: pdurbin do you know that by chance?
Mon, Jul 12, 2021, 13:36:21 - nightowlasu: would the domain/IP group restrict access to viewing the dataset? or, can you just set the existing permissions based on IP/domain?
Mon, Jul 12, 2021, 13:37:02 - poikilotherm: Just looked at the docs - seems like you can grant file level permissions to users and groups
Mon, Jul 12, 2021, 13:37:30 - poikilotherm: And of course this is available for different roles on the dataset level
Mon, Jul 12, 2021, 13:37:45 - nightowlasu: so we just need to create the IP group and set the file permissions to it.. so it would work per files?
Mon, Jul 12, 2021, 13:38:24 - poikilotherm: There ya go https://guides.dataverse.org/en/latest/user/dataset-management.html#file-level
Mon, Jul 12, 2021, 13:38:48 - nightowlasu: i understand the file permissions, but just didn't realize we could do it per IP
Mon, Jul 12, 2021, 13:38:51 - nightowlasu: or IP range
Mon, Jul 12, 2021, 13:38:52 - poikilotherm: No matter where the groups come from. Explicit, global, IP, Maildomain, .........
Mon, Jul 12, 2021, 13:39:36 - poikilotherm: You'll need to configure the groups before using them. Either as an IP range or via other groups mechanisms
Mon, Jul 12, 2021, 13:39:42 - nightowlasu: perfect! 
Mon, Jul 12, 2021, 13:40:02 - poikilotherm: You could create a group with a single IP
Mon, Jul 12, 2021, 13:40:13 - poikilotherm: Not sure this is what you need or want
Mon, Jul 12, 2021, 13:40:53 - poikilotherm: Beware that you properly setup handing over the client IP when using a proxy and IP groups...
Mon, Jul 12, 2021, 13:41:07 - nightowlasu: i think it is ... ultimately we just want to be able to restrict the files in a particular dataset to an IP range ... or our asu.edu mail domain ... but if we could do it at the dataset level (ie: only certain IP ranges can even view the dataset) that would be even better
Mon, Jul 12, 2021, 13:41:19 - poikilotherm: Jim and I discussed this a while ago and he made a change to the way this works.
Mon, Jul 12, 2021, 13:42:14 - poikilotherm: Sure, just create the proper configs and set them up. Remember that IP groups are global, not Dataverse Collection specific. 
Mon, Jul 12, 2021, 13:42:31 - poikilotherm: So you might want to make sure to give those recognisable names
Mon, Jul 12, 2021, 13:42:52 - poikilotherm: IIRC you cannot see the group details from the UI.
Mon, Jul 12, 2021, 13:45:00 - nightowlasu: for sure .. and we will document it ... this will be very helpful for our research computing department who want a "private" dataset .. that is private to only ASU campus IPs and/or mail domain .. thanks for clarifying it for me ... we will do lots of testing
Mon, Jul 12, 2021, 14:20:47 - nightowlasu: Message deleted
Mon, Jul 12, 2021, 14:22:10 - nightowlasu: one more question, since the groups are per the permissions available, there is no way to actually restrict viewing of a dataset's metadata based on IP address (or any other user/group)? I don't know of a permissions that restricts viewing of a dataset in any way if it is published
Mon, Jul 12, 2021, 15:04:49 - nightowlasu: ^ just talking dataset landing page w/metadata displayed .. that is always public if published, right? there is not way to limit access other than a separate installation with firewall rules limiting the entire dataverse installation (i know we determined above we can limit file access per IP, domain, which is great!)
Mon, Jul 12, 2021, 15:11:14 - poikilotherm: Yes. Publish or perish üòã Once published means public metadata. You might create rules restrict access on the reverse proxy. But maybe just is not a good idea. It's not very FAIR. Public metadata is a pretty smart thing, even if you're just using the registry use case of Dataverse.
Mon, Jul 12, 2021, 15:11:44 - poikilotherm: As soon as the DOI is made available, much metadata is public anyway
Mon, Jul 12, 2021, 15:12:05 - poikilotherm: I don't think there is a way to hide the metadata of a resolvable DOI.
Mon, Jul 12, 2021, 15:12:25 - poikilotherm: You could go for unpublished items with reserved DOIs though
Mon, Jul 12, 2021, 15:12:33 - poikilotherm: But those will not be resolvable
Mon, Jul 12, 2021, 15:13:01 - nightowlasu: i was 99% sure that was the case, but I seem to miss things so just wanted to verify! =D that makes sense, and I know is really the purpose of dataverse to make things findable!
Mon, Jul 12, 2021, 15:13:30 - nightowlasu: yes, the answer to some of these requests may be just to keep unpublished  .. but being able to at least restrict files to ASU will be very helpful
Mon, Jul 12, 2021, 15:13:31 - poikilotherm: I would really love to see a valid use case for a hidden dataset... I don't think it's a good idea for the purpose of RDM, but there might be reasons out there...
Mon, Jul 12, 2021, 15:15:16 - poikilotherm: <@nightowlasu:matrix.org "yes, the answer to some of these..."> One of the reasons why we wanted mail domain groups for J√ºlich DATA (for datasets and collections, though). See and access unpublished ones.
Mon, Jul 12, 2021, 15:18:34 - nightowlasu: so you have unpublished datasets with files restricted to domain groups?
Mon, Jul 12, 2021, 15:19:18 - nightowlasu: which are shared with specific people via the reserved URL?
Mon, Jul 12, 2021, 15:29:04 - poikilotherm: Most likely not. There are some unpublished datasets, but those seem just to be lying around...
Mon, Jul 12, 2021, 15:29:26 - poikilotherm: We encourage people not to upload data in our repo, as we want to be a registry on purpose.
Mon, Jul 12, 2021, 15:30:07 - poikilotherm: Scientists are oblieged to register their datasets they might publish elsewhere in J√ºlich DATA, so we can one day generate statistics...
Mon, Jul 12, 2021, 15:30:26 - poikilotherm: And of course we might act as a last resort...
Mon, Jul 12, 2021, 15:30:58 - poikilotherm: Many of our scientists are having a hard time to actually share their data, but at least show the will to make them FAIR.
Mon, Jul 12, 2021, 15:31:58 - poikilotherm: (Aside from the immovable state of multi TB datasets)
Mon, Jul 12, 2021, 15:32:50 - poikilotherm: Historically grown and diverse structures and strategies how our old and young institutes deal with data makes this beast complicated... 
Mon, Jul 12, 2021, 15:35:43 - nightowlasu: same ... funny how we all are dealing with similar issues/challenges ... which is part of what makes this such an awesome community! 
Mon, Jul 12, 2021, 15:37:11 - pdurbin: poikilotherm: yes, file permissions are tied in with the rest of permissions.
Mon, Jul 12, 2021, 15:39:06 - nightowlasu: thanks again both of you for the info ... i think i get it ... now to go read through the admin and user guides again to make sure I haven't missed anything else! =D
Mon, Jul 12, 2021, 15:45:47 - pdurbin: poikilotherm: this issue has a bit about use cases for restricted metadata: https://github.com/IQSS/dataverse/issues/902
Mon, Jul 12, 2021, 15:45:55 - pdurbin: But yeah, not supported.
Mon, Jul 12, 2021, 16:08:41 - nightowlasu: thank you, that is helpful, and basically the same conversation we've been having! we did also discuss the possibility of putting sensitive metadata into text files and restricting those files, so may do that in some cases, but ultimately we want to consider if there is another platform for some things :-)
Mon, Jul 12, 2021, 16:09:51 - pdurbin: Sensitive metadata in text files sounds good to me, for now. üëçÔ∏è
Mon, Jul 12, 2021, 16:10:33 - nightowlasu: üëçÔ∏è
Mon, Jul 12, 2021, 16:17:46 - nightowlasu: one of the use cases brought up in reference to sensitive data had something to do with terrorist investigations, and my first thought was "do we want that in our dataverse"? it was just an example, but i do think there may be some cases where there MAY be a better platform (maybe not though) =D
Mon, Jul 12, 2021, 16:30:14 - pdurbin: üòÄ
Mon, Jul 12, 2021, 16:32:02 - poikilotherm: I see the use case and it seems pretty legit. 
Mon, Jul 12, 2021, 16:32:46 - poikilotherm: Also I have to admit that we completely avoided this type of data nor metadata: we do not permit depositing sensitive data, as we can't provide enough guarantees for such things...
Mon, Jul 12, 2021, 16:33:27 - poikilotherm: Any sensitive data should not just be hidden - it should be stored encrypted...
Mon, Jul 12, 2021, 16:34:02 - poikilotherm: Ideally with some zero knowledge crypto and maybe in the future with differential privacy...
Mon, Jul 12, 2021, 16:34:56 - poikilotherm: It's a tough topic though
Mon, Jul 12, 2021, 16:37:09 - nightowlasu: agreed .. i don't think we want to make it a practice but it was a department within ASU that requested a solution ... we are leaning towards storing all of the sensitve data external to dataverse and just giving information to approved requestors (maybe via terms of use) to the location and just use the dataset for metadata, but wanted to at least have an option for some files within DV if needed
Mon, Jul 12, 2021, 16:39:17 - nightowlasu: oops, no I guess we would would still need restrictions of some sort on just giving the location of the data  .. still yet to figure this all out
Mon, Jul 12, 2021, 16:40:47 - nightowlasu: maybe that would be the sensitive protected text file! or, we would just keep the metadata with an email address to contact for location of the actual data 
Mon, Jul 12, 2021, 16:40:57 - nightowlasu: so many things to consider
Tue, Jul 13, 2021, 06:12:44 - poikilotherm: Hi fellow Dataverse peeps...
Tue, Jul 13, 2021, 06:13:08 - poikilotherm: pdurbin: a question for your knowledge about ancient history of Dataverse
Tue, Jul 13, 2021, 06:13:19 - poikilotherm: I see https://github.com/IQSS/dataverse/commit/f6327610f5b152b59eadd328ce46a5e92e7efbf5
Tue, Jul 13, 2021, 06:13:35 - poikilotherm: But where is this vocabulary for "subject" coming from?
Tue, Jul 13, 2021, 06:14:24 - poikilotherm: In https://github.com/IQSS/dataverse/commit/2948e6710b2c9a9dcae216bdcb0d9f1798f09a60 there is a reference to a redmine ticket "3900", but this has never been moved to Github, right?
Tue, Jul 13, 2021, 06:17:17 - poikilotherm: What was the source for this list?
Tue, Jul 13, 2021, 07:42:44 - poikilotherm: Sherry pointed me to https://groups.google.com/g/dataverse-community/c/rpkfWoid-bw?hl=en
Tue, Jul 13, 2021, 07:42:59 - poikilotherm: What a coincidence... üòä
Tue, Jul 13, 2021, 11:01:32 - Lincoln: i am dealing with eERROR: S3accessio- failed to look up bucket <bucket-name> .Unable to execute HTTP request: s3.dataverse.amazonaws.com.

Meanwhile command aws s3 ls --recursive <bucketname> is working..
Tue, Jul 13, 2021, 11:08:06 - poikilotherm: That Amazon URL looks weird
Tue, Jul 13, 2021, 11:08:58 - poikilotherm: Usually these URLs follow https://bucket-name.s3.Region.amazonaws.com/key name
Tue, Jul 13, 2021, 11:09:03 - poikilotherm: See https://docs.aws.amazon.com/AmazonS3/latest/userguide/VirtualHosting.html
Tue, Jul 13, 2021, 11:09:41 - poikilotherm: You sure you setup your "region" correctly?
Tue, Jul 13, 2021, 11:11:16 - Lincoln: i am using Ceph cluster s3 so the same works for my virtual machine but the same doesnot work in cloud
Tue, Jul 13, 2021, 11:11:41 - Lincoln: (PS. I have dataverse both in my VM and cloud (separate))
Tue, Jul 13, 2021, 11:13:37 - poikilotherm: Looks like a misconfig  inside the AWS cloud
Tue, Jul 13, 2021, 11:13:49 - poikilotherm: (Also using a Ceph S3 cluster here)
Tue, Jul 13, 2021, 11:15:26 - Lincoln: ill check again. thank you 
Tue, Jul 13, 2021, 11:15:54 - poikilotherm: If you scramble the secrets, you might share the config here
Tue, Jul 13, 2021, 11:16:44 - poikilotherm: (All properties with dataverse.files.xxxx)
Tue, Jul 13, 2021, 11:17:01 - Lincoln: sure
Tue, Jul 13, 2021, 11:20:39 - Lincoln sent an image. (Media omitted)
Tue, Jul 13, 2021, 11:21:12 - Lincoln: this is the config set for  s3 in file domain.xml 
Tue, Jul 13, 2021, 11:47:56 - poikilotherm: There is a typo in the endpoint url param
Tue, Jul 13, 2021, 11:48:18 - poikilotherm: Btw Greetz From J√ºlich to Dresden üëã
Tue, Jul 13, 2021, 11:55:20 - Lincoln: aaaaah
Tue, Jul 13, 2021, 11:55:28 - Lincoln: thank you. @poikilotherm and it worked!
Tue, Jul 13, 2021, 12:24:33 - nightowlasu: Message deleted
Tue, Jul 13, 2021, 12:24:36 - nightowlasu: hi all .. got another crazy question ... i have custom branding enabled on our dataverse ... have a custom header, footer, and stylesheet and have the appropriate options set to enable it. The branding is working great for the site pages .. however when I type a URL that doesn't exist on our site (ie: https://<siteURL>/test) I get an HTML error: 
Tue, Jul 13, 2021, 12:25:03 - nightowlasu: Message deleted
Tue, Jul 13, 2021, 12:26:53 - nightowlasu: (our dev site) ... if I remove either custom html file that fixes it, so I think I have something configured incorrectly but not sure what ... i just placed the files in the appropriate dirs and set the config
Tue, Jul 13, 2021, 12:30:31 - nightowlasu: sorry, i would post on the google group, but I really don't like the public-ness of it 
Tue, Jul 13, 2021, 12:36:05 - nightowlasu: sorry, i mean if i remove both custom files .. if one is there it is broken, so it is not a particular one that is breaking it
Tue, Jul 13, 2021, 12:47:34 - nightowlasu: if i remove both files, it generates the default "Page Not Found" error message in dataverse, but if either file is present, I get the XML error
Tue, Jul 13, 2021, 14:05:35 - Sherry Lake joined the room
Tue, Jul 13, 2021, 14:06:33 - Sherry Lake: trying to upgrade to V5.3 stuck on  Payara upgrade part. getting errors when (re)deploy 5.2
Tue, Jul 13, 2021, 14:06:38 - Sherry Lake: Authentication failed with password from login store: /root/.gfclient/pass
Enter admin password for user "admin"> 
remote failure: Error occurred during deployment: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Class name is wrong or classpath is not set for : org.postgresql.ds.PGPoolingDataSource
Error Code: 0. Please see server.log for more details.
Command deploy failed.
Tue, Jul 13, 2021, 14:24:44 - pdurbin: Sherry Lake: huh. That's a new one on me. Can you please send server.log to support@dataverse.org?
Tue, Jul 13, 2021, 14:30:27 - pdurbin: Sherry Lake: It looks like we got a report of "Error in allocating a connection" at https://groups.google.com/g/dataverse-community/c/hpfJ-jqnst8/m/1fFigx2yBAAJ
Tue, Jul 13, 2021, 14:31:00 - pdurbin: And the fix was editing jdbc-connection-pool in domain.xml
Tue, Jul 13, 2021, 14:37:31 - Sherry Lake: Message deleted
Tue, Jul 13, 2021, 14:40:06 - Sherry Lake: pdurbin: We have that edit in our domain.xml. Am waiting for my sysadmin to try Don Sizemore 's suggestion - updating the PG JDBC driver in 5.2. (isn't standard with Payara - and we "lost it" ;-). 
Tue, Jul 13, 2021, 14:41:54 - Sherry Lake: Good news. re-deploy of 5.2 is now working (after updated JDBC driver)
Tue, Jul 13, 2021, 14:42:27 - pdurbin: Ah, yes, a missing driver could cause it too. We saw that at https://groups.google.com/g/dataverse-community/c/z8ZOAaVeW5o/m/_qqVfyApCAAJ
Tue, Jul 13, 2021, 14:43:24 - pdurbin: Sherry Lake: Great! While this is fresh in your mind, would you be able to comment on an issue for me? This one with "Error in allocating a connection" - https://github.com/IQSS/dataverse/issues/7495
Tue, Jul 13, 2021, 14:44:57 - pdurbin: poikilotherm: you were asking about issue 3900 from Redmine. It was migrated to https://github.com/IQSS/dataverse/issues/485
Tue, Jul 13, 2021, 14:54:28 - Sherry Lake: <@pdurbin:matrix.org "Sherry Lake: Great! While this i..."> Done.
Tue, Jul 13, 2021, 14:54:55 - pdurbin: Sherry Lake: thanks! Looks great.
Tue, Jul 13, 2021, 15:03:09 - Sherry Lake: Ok, now how do I figure out what are our database connection details are (DB_USER, DB_HOST, etc.)?
Tue, Jul 13, 2021, 15:04:00 - pdurbin: Did you set them while running the installer? Or did you copy them over? Or are they the defaults?
Tue, Jul 13, 2021, 15:04:59 - pdurbin: (We're having our weekly tech hours meeting now. Sorry for any delays. üòÄ)
Tue, Jul 13, 2021, 15:05:23 - Sherry Lake: We are at step 3 w/ upgrade https://github.com/IQSS/dataverse/releases/tag/v5.3
Tue, Jul 13, 2021, 15:06:05 - Sherry Lake: sorry, when would we have set them?? Way -back when we first installed? (that would have been 2016 - need more brain power ;-) ?
Tue, Jul 13, 2021, 15:39:15 - pdurbin: Sherry Lake: hmm. Can you grab the values from your old domain.xml?
Tue, Jul 13, 2021, 15:48:59 - Sherry Lake: I found them there, but am now wondering about the password.... So is the password in that file the real password? I assumed the password would not be in plain text in the domain.xml file.
Tue, Jul 13, 2021, 15:49:53 - pdurbin: In the early 4.0 days the password was in domain.xml in plain text. Then we switched to the "alias" feature so that it doesn't appear there.
Tue, Jul 13, 2021, 15:50:24 - Sherry Lake: OK, then we have the password, thanks.
Tue, Jul 13, 2021, 15:53:56 - pdurbin: <@nightowlasu:matrix.org "sorry, i would post on the googl..."> This chat is also public. Please see the topic which links to the logs at https://view.matrix.org/alias/%23dataverse:matrix.org . The logs are also linked from https://chat.dataverse.org
Tue, Jul 13, 2021, 15:59:33 - nightowlasu: yea i know, i look through the logs here and in the old chat, but on google groups i've accidentally posted and included my signature (my fault) and the email address appears in responses in google groups .. I think I will join using a different email
Tue, Jul 13, 2021, 16:00:49 - pdurbin: Ah ok. üòÄ Did you figure out the branding files? If you post them somewhere I could at least try to replicate the issue.
Tue, Jul 13, 2021, 16:05:36 - nightowlasu: it looks like it is my fault üòÄ (of course) ... i realized that I had removed the "custom-footer" and "custom-header" divs in the default files that are provided, and I had a couple other bad/tags .. still trying to track one down related to an input form but I think it is all my issue!
Tue, Jul 13, 2021, 16:06:22 - pdurbin: Glad to hear you're making progress. üòÄ
Tue, Jul 13, 2021, 16:08:20 - nightowlasu: thanks! lots of things happening here at asu with dataverse and just trying to keep up with them all! üòÉ
Tue, Jul 13, 2021, 16:09:27 - pdurbin: Great!
Tue, Jul 13, 2021, 16:11:20 - poikilotherm: So lovely to see all the chatter here! ü§©
Tue, Jul 13, 2021, 16:14:37 - pdurbin: Yeah. We probably should have switched years ago. Oh well. üòÄ
Tue, Jul 13, 2021, 16:21:30 - poikilotherm: I'm still baffled by this postgres driver thing. On all the containers I deploy, a missing driver never has been an issue. Missing config, failing connects etc yes, but not a driver not getting loaded from the WAR.
Tue, Jul 13, 2021, 16:23:29 - poikilotherm: Sherry Lake  I hope you did go for Payara 5.2021.4 instead if doing all the intermediate steps. Otherwise you need to update the appserver again once 5.6 is released üôà
Tue, Jul 13, 2021, 16:24:50 - pdurbin: I think it makes sense because Sherry was having trouble with 5.2 and it's not until 5.3 that the driver is in the war file (thanks to you in https://github.com/IQSS/dataverse/pull/7420 ).
Tue, Jul 13, 2021, 16:25:30 - poikilotherm: I did not remember that this was in 5.3 not 5.2
Tue, Jul 13, 2021, 16:26:20 - poikilotherm: That explains a lot of trouble üôà
Tue, Jul 13, 2021, 16:27:01 - Sherry Lake: Thanks, poikilotherm , yes we have 5.2021.4 installed now.
Tue, Jul 13, 2021, 16:29:33 - poikilotherm: pdurbin with all the sec troubles around... Should we add a GitHub action to main repo scanning on a regular basis + pull requests?
Tue, Jul 13, 2021, 16:30:43 - poikilotherm: And maybe we need to look into automated sec update PRs again... Dependabot has been quiet on 'em
Tue, Jul 13, 2021, 16:35:56 - pdurbin: Hmm, it's worth an issue at least, I'd say, if you don't mind creating one.
Tue, Jul 13, 2021, 16:36:14 - pdurbin: I think mostly we rely on Dependabot.
Tue, Jul 13, 2021, 16:36:40 - pdurbin: And people like Don Sizemore manually creating issues. And yourself, of course.
Tue, Jul 13, 2021, 16:45:19 - pdurbin: Anyway, I'm off tomorrow but I'll see you all on Thursday.
Tue, Jul 13, 2021, 18:40:30 - @metamattj:matrix.org joined the room
Tue, Jul 13, 2021, 18:45:23 - @metamattj:matrix.org set a profile picture
Wed, Jul 14, 2021, 05:44:35 - pacian: question should Payara and Dataverse have the same version number?
Wed, Jul 14, 2021, 05:46:17 - pacian: I have an old test version of Dataverse I have not touched in 1 year and I don't remember the version of dataverse I installed and I changed the footers so Ican not see the actual version I have installed
Wed, Jul 14, 2021, 05:48:48 - Lincoln: you can go to your (usr/local)/payara/bin folder then try  ./asadmin list-applications
Wed, Jul 14, 2021, 05:49:23 - Lincoln: to check if dataverse is associated  and if yes the version too
Wed, Jul 14, 2021, 06:16:10 - pacian: thank you for your response
Wed, Jul 14, 2021, 06:25:56 - Lincoln: did it work?
Wed, Jul 14, 2021, 06:50:43 - poikilotherm: pacian Lincoln IIRC you will not see the version number via list-applications, when the WAR file had no version number attached. Put you may open the WAR file (it's basically a ZIP) or look at the exploded files after deployment. `META-INF/maven/edu.harvard.iq/dataverse/pom.properties` helps
Wed, Jul 14, 2021, 08:34:11 - pacian: thank poikilotherm I was able to sort it all out though.
Wed, Jul 14, 2021, 11:57:04 - poikilotherm: I've done it again... #8000 is mine :-D
Wed, Jul 14, 2021, 11:57:14 - poikilotherm: (as #7000 and #6000 :-D )
Wed, Jul 14, 2021, 14:36:40 - Sherry Lake: UVa upgrading to 5.4 - with solr upgrade, says 8.8.1, there is now 8.9.0 which to use?
Wed, Jul 14, 2021, 14:37:18 - Sherry Lake: And do we have to follow all the steps in https://guides.dataverse.org/en/5.4/installation/prerequisites.html#installing-solr to do the upgrade if we already have solr running for dv 5.3?
Wed, Jul 14, 2021, 14:55:49 - Lincoln: https://github.com/IQSS/dataverse/releases/tag/v5.4.1
Wed, Jul 14, 2021, 14:56:03 - Lincoln: i would refer this
Wed, Jul 14, 2021, 14:56:46 - Sherry Lake: Yes, but we have to do V5.4 before installing v5.4.1, right?
Wed, Jul 14, 2021, 14:57:47 - Lincoln: At direct installation of 5.4.1. i am actually not sure... But i mean this link

https://github.com/IQSS/dataverse/releases/tag/v5.4
Wed, Jul 14, 2021, 14:59:15 - Sherry Lake: Yes, that has 8.8.1, but since that release there is an update to solr 8.9.0, so was wondering if the new one was best, OR stick with the v5.4  instructions and do 8.8.1
Wed, Jul 14, 2021, 16:14:05 - poikilotherm: You better not go for 8.9.0
Wed, Jul 14, 2021, 16:14:15 - poikilotherm: Haven't looked into the changelog yet
Wed, Jul 14, 2021, 16:14:38 - poikilotherm: Yet SolrJ is on 8.8.1
Wed, Jul 14, 2021, 16:14:55 - poikilotherm: The client and the server side should match
Wed, Jul 14, 2021, 16:15:06 - poikilotherm: Going for 8.8.2 should be safe
Wed, Jul 14, 2021, 16:15:45 - poikilotherm: Most likely going for 8.9 should be safe too, but better safe than sorry
Wed, Jul 14, 2021, 16:16:59 - poikilotherm: As long as you follow all the steps regarding updating schemas etc, from a database perspective it should be just fine going from 5.0 to 5.5 in one go. The migrations are being taken care of via flyway for y'all
Wed, Jul 14, 2021, 16:17:37 - poikilotherm: Anything the release notes state about manual steps during upgrade need to be followed of course...
Wed, Jul 14, 2021, 16:19:57 - poikilotherm: You'll need to do a reindex of all datasets after the Solr Upgrades anyway, so no need to do that multiple times
Wed, Jul 14, 2021, 16:30:06 - Sherry Lake: Am assuming that "reindex" is the same thing as "index all"? They are both used in different parts of the release notes, and I was confused at 1st.
Wed, Jul 14, 2021, 17:01:53 - poikilotherm: https://guides.dataverse.org/en/latest/admin/solr-search-index.html#full-reindex
Wed, Jul 14, 2021, 17:02:15 - poikilotherm: Sherry L    ake  as long as the release notes don't state to do a clean full index an inplace reindex should be fine
Wed, Jul 14, 2021, 17:03:34 - poikilotherm: Sorry that upgrading is such a wild experience for y'all
Wed, Jul 14, 2021, 17:03:50 - poikilotherm: It's a bumpy road sometimes
Wed, Jul 14, 2021, 17:04:45 - poikilotherm: Some of this would be easier by using containers, but you'd be trading in current for other problems. And another (steep?) learning curve...
Thu, Jul 15, 2021, 09:59:45 - pacian: I have a question about PostgreSQL
Thu, Jul 15, 2021, 10:02:59 - pacian: All logins, including dataverseAdmin,  has a timestamp recorded for logging into the GUI  

In the database there is a table called "actionlogrecord" that records all the commands that have been executed (publish dataset, etc.) I am not a DB expert, how do I find this and what tool would I use to access this information.

Thu, Jul 15, 2021, 10:34:50 - nightowlasu: hi all .. if anyone is available ... I am trying to upgrade dataverse to 5.5 and ran into this error (this is prod, all went fine in dev):
Thu, Jul 15, 2021, 10:35:06 - nightowlasu sent an image. (Media omitted)
Thu, Jul 15, 2021, 10:36:50 - nightowlasu: redeployed 5.4.1 and all is well, but wondering why it is seeing a duplicate key
Thu, Jul 15, 2021, 10:46:32 - nightowlasu: didn't happen in dev and we try to keep them identical
Thu, Jul 15, 2021, 11:10:13 - Sherry Lake: OK, UVa still working on V5.4 upgrade (actually we successfully upgraded to V5.4) BUT then we upgraded Postgres and now we are getting the "Your server is now running" page and not our dataverse home page.
Thu, Jul 15, 2021, 11:37:30 - pdurbin: Does `asadmin list-applications` show that the Dataverse war file has been deployed?
Thu, Jul 15, 2021, 11:54:09 - Sherry Lake: We went back to V9.6 and are up and working.    The dataverse war file had been deployed - V5.4, before Postgres was "upgraded", did we have to re-deploy V5.4 after the Postgres upgrade?
Thu, Jul 15, 2021, 11:55:49 - Sherry Lake: Since I have more eyes here now ;-)
Thu, Jul 15, 2021, 11:56:10 - Sherry Lake: one more question about this statement in 5.5 release notes: 
Installations with no custom metadata blocks can simply replace their current schema.xml file for Solr, restart Solr, and run a 'Reindex in Place' as described in the guides.
Thu, Jul 15, 2021, 11:56:26 - Sherry Lake: What does "replace current schema.xml file" mean?
Thu, Jul 15, 2021, 11:58:00 - pdurbin: schema.xml is probably in a directory like this: /usr/local/solr/solr-8.8.1/server/solr/collection1/conf
Thu, Jul 15, 2021, 11:58:11 - pdurbin: From https://guides.dataverse.org/en/5.5/installation/prerequisites.html#solr
Thu, Jul 15, 2021, 11:59:05 - pdurbin: And yes, if you switch out your database I imagine you'd need to redeploy the war file. Or at least stop Payara while you're upgrading the database.
Thu, Jul 15, 2021, 12:00:14 - Sherry Lake: OK, that's where "schema.xml" lives, but what am I replacing it with - is this the cp command from dvinstall?
I mean like this command: cp /tmp/dvinstall/schema.xml /usr/local/solr/solr-8.8.1/server/solr/collection1/conf
Thu, Jul 15, 2021, 12:02:07 - pdurbin: Yes, schema.xml should be in dvinstall.zip but for convenience we try to include is a separately downloadable "asset" as part of the release. You can find the assets at the bottom of https://github.com/IQSS/dataverse/releases/tag/v5.5
Thu, Jul 15, 2021, 12:02:23 - pdurbin: I feel like GitHub used to call these "artifacts" but whatever. üòÄ
Thu, Jul 15, 2021, 12:03:07 - pdurbin: But yeah, that "cp" command assumes you've unzipped dvinstall.zip.
Thu, Jul 15, 2021, 14:08:51 - TumTumTumTumTum set a profile picture
Thu, Jul 15, 2021, 15:00:50 - pdurbin: <@pacian:matrix.org "All logins, including dataverseA..."> I use `psql` from the command line and pgAdmin from my Mac.
Thu, Jul 15, 2021, 15:02:19 - pdurbin: nightowlasu: not sure why you were seeing that duplicate key on one of your servers. Strange.
Thu, Jul 15, 2021, 15:45:47 - Lincoln: <@pdurbin:matrix.org "I use `psql` from the command li..."> i use Datagrip to link with postgres, ,much user friendly
https://www.jetbrains.com/datagrip/
Thu, Jul 15, 2021, 15:47:16 - pdurbin: looks nice
Thu, Jul 15, 2021, 15:49:43 - Lincoln: <@pdurbin:matrix.org "looks nice"> yeah..this features steals the show ..(in my case)
https://www.jetbrains.com/help/datagrip/creating-diagrams.html
Thu, Jul 15, 2021, 15:57:00 - pdurbin: Ah, that is nice. Have you seen https://guides.dataverse.org/en/5.4/schemaspy/relationships.html ?
Thu, Jul 15, 2021, 16:06:39 - Lincoln: Question: is there an easy way to install two Raven just like dataverse-ansible
Thu, Jul 15, 2021, 16:13:41 - pdurbin: I think there's an old Perl script to install it.
Thu, Jul 15, 2021, 16:16:31 - pdurbin: "A scripted, interactive installer is provided at the top level of the TwoRavens distribution."
Thu, Jul 15, 2021, 16:43:22 - Lincoln: <@pdurbin:matrix.org ""A scripted, interactive install..."> can you please provide  me link here.
Thu, Jul 15, 2021, 16:44:00 - pdurbin: https://guides.dataverse.org/en/5.5/installation/r-rapache-tworavens.html#c-run-the-installer
Thu, Jul 15, 2021, 16:44:57 - pdurbin: and here's a link to the distribution: https://github.com/IQSS/TwoRavens/archive/dataverse-distribution.zip
Thu, Jul 15, 2021, 16:45:04 - pdurbin: (from earlier on that page)
Thu, Jul 15, 2021, 16:45:10 - Lincoln: <@pdurbin:matrix.org "https://guides.dataverse.org/en/..."> WOW...thanks üòáüëçÔ∏è
Thu, Jul 15, 2021, 16:45:55 - pdurbin: Sure. I never know what to say about TwoRavens. In the end, Harvard Dataverse switched to Data Explorer instead but I think it should work.
Thu, Jul 15, 2021, 16:47:09 - Lincoln: ill try and give you the feedback later
Thu, Jul 15, 2021, 16:47:54 - pdurbin: Sounds good.
Thu, Jul 15, 2021, 16:50:07 - pdurbin: nightowlasu: I don't know if this helps but I'm seeing a similar sequence_pkey error here: https://github.com/IQSS/dataverse/issues/7692
Thu, Jul 15, 2021, 16:54:10 - nightowlasu: Thanks for that link! We installed 5.0 fresh for these instances (our DV is pretty new) and I believe I have gone through installing each upgrade (5.1, 5.2, 5.3, 5.4, 5.4.1). However, I did attempt to upgrade to 5.4.1 and had to roll back so wonder if that caused something to be out of whack. Not sure what or how to fix ...  
Thu, Jul 15, 2021, 16:57:01 - pdurbin: Well, the SQL scripts are run when the war file is deployed. I'm not sure how you'd roll them back.
Thu, Jul 15, 2021, 16:58:38 - nightowlasu: sorry i mean ... i actually had to restore the volume that dataverse was running on ... so it actually was using the new db
Thu, Jul 15, 2021, 17:01:40 - pdurbin: Oh. Hmm. Not sure then.
Thu, Jul 15, 2021, 17:02:43 - nightowlasu: that's prob the issue ... i upgraded 5.3 to 5.4 and had issues with solr and couldn't get it to redeploy back to 5.3 so I ended up restoring the volume .. so I was left with 5.3 DV and 5.4 db, i think
Fri, Jul 16, 2021, 06:36:27 - pacian:  Question, Once you have implemented OIDC / SAML2, Is it still possible for researchers to use API's? Is there any limited functionality with the use of APIs?
Fri, Jul 16, 2021, 13:44:03 - poikilotherm: Hey fellas, sorry to let you down for so long
Fri, Jul 16, 2021, 07:19:59 - Benjamin (SODHA): Hello world! ‚Äî Or rather hello IQSS.

We at SODHA have developed two scripts to modify Dataverse-produced metadata to make them compliant with the quality criteria set out for the CESSDA Data Catalogue. One script is adapted for Dataverse versions 4+ and the other, for Dataverse versions 5+.

What do you say we create a new repository here [https://github.com/IQSS] for the script?
Fri, Jul 16, 2021, 13:44:29 - poikilotherm: I'll yesterday and offline today because of precautions...
Fri, Jul 16, 2021, 13:45:06 - poikilotherm: We're living on the edge over here... So much rain that areas get flooded
Fri, Jul 16, 2021, 10:04:01 - pdurbin: pacian: remote users can use APIs. The only limitation is that if they are member of a SAML group (e.g. logged in with Harvard auth), that group membership is not honored when they use their API key. Explicit groups work fine.
Fri, Jul 16, 2021, 13:45:42 - poikilotherm: benjamin_peuch is your request around access resolved?
Fri, Jul 16, 2021, 10:04:52 - pdurbin: benjamin_peuch: sounds fine. (It could also go under https://github.com/gdcc if you want). What would you like to call it?
Fri, Jul 16, 2021, 13:46:13 - poikilotherm: pdurbin have a question for you later...
Fri, Jul 16, 2021, 10:05:59 - Benjamin (SODHA): <@pdurbin:matrix.org "benjamin_peuch: sounds fine. (It..."> Ah yes, I also thought about GDCC but I'm not entirely sure about the difference between the two sections. Everything goes in /IQSS while /gdcc is more for community-supported projects, right?
Fri, Jul 16, 2021, 10:07:23 - Benjamin (SODHA): Thanks for your reaction :) As for the name, I foresee more developments coming from the CESSDA community, so perhaps "CESSDA developments"? or "Dataverse and CESSDA"?
Fri, Jul 16, 2021, 10:07:33 - pdurbin: Confusingly, there's also https://github.com/globalDataverseCommunityConsortium üòÄ
Fri, Jul 16, 2021, 10:09:53 - pdurbin: How about dataverse-cessda?
Fri, Jul 16, 2021, 10:15:49 - Benjamin (SODHA): <@pdurbin:matrix.org "Confusingly, there's also https:..."> Wait, it's not the same? üòêÔ∏è
Fri, Jul 16, 2021, 10:16:13 - Benjamin (SODHA): <@pdurbin:matrix.org "How about dataverse-cessda?"> Yes, better! Aligned on the format of the first few repositories
Fri, Jul 16, 2021, 10:16:17 - Benjamin (SODHA): Thanks for the idea :)
Fri, Jul 16, 2021, 10:38:56 - pdurbin: poikilotherm: can you please add BPeuch to https://github.com/orgs/gdcc/teams/dataverse-cessda-admin ? I don't have the power.
Fri, Jul 16, 2021, 10:39:27 - pdurbin: benjamin_peuch: the repo is at https://github.com/gdcc/dataverse-cessda but you need access.
Fri, Jul 16, 2021, 10:39:53 - pdurbin: Ah, Jim is also an owner.
Fri, Jul 16, 2021, 10:54:34 - Benjamin (SODHA): Thanks for creating it Philip! üëçÔ∏è
Fri, Jul 16, 2021, 11:01:13 - Lincoln: I am at the end of Two raven installation...while restarting the apache i get error RSourceOnStartup.mispelled or defined by module not in server config
Fri, Jul 16, 2021, 11:01:41 - Lincoln: syntax error /tworavens.rapache.conf
Fri, Jul 16, 2021, 11:03:06 - pdurbin: It's been years since I've installed TwoRavens. It's not very well supported by the Dataverse team, to be honest. Some day we plan to take those instructions I linked you to out of the guides.
Fri, Jul 16, 2021, 11:04:30 - Lincoln: shall i switch to data explore
Fri, Jul 16, 2021, 11:04:36 - pdurbin: yes
Fri, Jul 16, 2021, 11:04:40 - Lincoln: okay
Fri, Jul 16, 2021, 11:05:13 - Lincoln: <@pdurbin:matrix.org "It's been years since I've insta..."> when you say not very well supported do u mean  with Large data
Fri, Jul 16, 2021, 11:05:26 - pdurbin: I mean, TwoRavens might make a comeback some day. That team has been doing a rewrite. But I would wait for whenever that new release comes out. I have no idea when.
Fri, Jul 16, 2021, 11:06:25 - pdurbin: No I mean Harvard Dataverse used to run TwoRavens but switched to Data Explorer. And the same people who run Harvard Dataverse reply to support@dataverse.org so we don't have much recent experience with TwoRavens.
Fri, Jul 16, 2021, 11:06:59 - pdurbin: Data Explorer should be easier to install and run.
Fri, Jul 16, 2021, 11:11:57 - pdurbin: You might also want to set up File Previewers: https://guides.dataverse.org/en/5.5/admin/external-tools.html#inventory-of-external-tools
Fri, Jul 16, 2021, 11:12:25 - Lincoln: already done (integrated)üëçÔ∏è
Fri, Jul 16, 2021, 11:14:31 - pdurbin: Oh good. üòÄ
Fri, Jul 16, 2021, 11:15:46 - Lincoln: its just a feeling that i am at the finish line..and want to push further
Fri, Jul 16, 2021, 11:18:31 - pdurbin: That's cool. I'd suggest emailing https://groups.google.com/g/dataverse-community and asking if anyone has TwoRavens installed and can help.
Fri, Jul 16, 2021, 11:19:34 - pdurbin: benjamin_peuch: you should now have an invitation to join in your inbox.
Fri, Jul 16, 2021, 11:20:56 - Benjamin (SODHA): <@pdurbin:matrix.org "benjamin_peuch: you should now h..."> I now have the rights. Thanks!
Fri, Jul 16, 2021, 11:26:57 - pdurbin: Sure. Enjoy. üòÄ
Fri, Jul 16, 2021, 13:33:20 - Ouahalou Youssef joined the room
Fri, Jul 16, 2021, 13:48:07 - pdurbin: He's all set. What's up?
Fri, Jul 16, 2021, 13:48:35 - pdurbin: My brother lives in an area that floods. Iowa.
Fri, Jul 16, 2021, 13:48:50 - poikilotherm: Did you ever notice the diverging version numbers for sword2-server?
Fri, Jul 16, 2021, 13:49:02 - poikilotherm: I wonder if that's how it should be...
Fri, Jul 16, 2021, 13:49:45 - pdurbin: I hadn't noticed. We haven't touched that thing in years. Since 4.0 basically.
Fri, Jul 16, 2021, 13:50:25 - poikilotherm: You might have seen my PR github.com/IQSS/dataverse/pull/8000
Fri, Jul 16, 2021, 13:50:44 - poikilotherm: That's when I noticed because I moved that Xom library
Fri, Jul 16, 2021, 13:52:02 - poikilotherm: <@pdurbin:matrix.org "My brother lives in an area that..."> This doesn't happen often around here. But when it happens, it gets really bad.
Fri, Jul 16, 2021, 13:52:50 - poikilotherm: Plenty of reservoirs around here (Eifel) and many of em endangered
Fri, Jul 16, 2021, 13:53:10 - poikilotherm: Evacuations in lots of places. And swampy town centres where the water went away and left mud, chaos and destruction
Fri, Jul 16, 2021, 13:54:45 - pdurbin: I guess you're saying SWORD uses xom and we need to update xom.
Fri, Jul 16, 2021, 13:55:03 - poikilotherm: <@pdurbin:matrix.org "I guess you're saying SWORD uses..."> Oh I did that
Fri, Jul 16, 2021, 13:55:31 - poikilotherm: (See PR)
Fri, Jul 16, 2021, 13:55:47 - poikilotherm: https://github.com/IQSS/dataverse/commit/38b63f2dc0bbe57faed1fde488dd77ad8e5f313d
Fri, Jul 16, 2021, 13:55:55 - poikilotherm: Largest commit message I ever wrote
Fri, Jul 16, 2021, 13:56:49 - poikilotherm: Yet have to test if xom 137 is compatible with sword2-server
Fri, Jul 16, 2021, 13:57:32 - poikilotherm: While being in that corner of mighty pom.xml I noticed the different version numbers for sword2
Fri, Jul 16, 2021, 14:00:02 - pdurbin: Well, at least we have integration tests for sword.
Fri, Jul 16, 2021, 14:01:16 - pdurbin: I don't know if this helps or not but this is the code we use for sword: https://github.com/IQSS/swordv2-java-server-library . It has a couple fixes we needed.
Fri, Jul 16, 2021, 14:02:39 - poikilotherm: <@pdurbin:matrix.org "Well, at least we have integrati..."> That's perfect! Now I can play with the POM and still make sure it works! ü§©
Fri, Jul 16, 2021, 14:03:29 - poikilotherm: <@pdurbin:matrix.org "I don't know if this helps or no..."> Great. When we deploy our own, should we push a JAR version?
Fri, Jul 16, 2021, 14:03:57 - poikilotherm: Would avoid all the WAR mangling into classes jar to make it usable within our WAR...
Fri, Jul 16, 2021, 14:04:49 - poikilotherm: We could even create a version with updated dependencies... üòé
Fri, Jul 16, 2021, 14:05:59 - poikilotherm: IIRC this very lib introduces the log4j 1.2 dependency... üôà
Fri, Jul 16, 2021, 14:07:38 - pdurbin: Yeah, I think it introduces a lot of dependencies. It was nice to use at the time. It helped me feel like I was implementing sword (mostly) right.
Fri, Jul 16, 2021, 14:08:01 - pdurbin: I was offered co-maintainership of that library. üòÄ
Fri, Jul 16, 2021, 16:24:56 - pdurbin: It's time for me to head out soon. Have a good weekend!
Mon, Jul 19, 2021, 06:05:01 - Benjamin (SODHA): Hello IQSS world!
We've seen a lot of additions to the next milestone, 5.6. Congratulations with all the hard work :)
Do you know if this version will be out soon?
Mon, Jul 19, 2021, 06:07:58 - Benjamin (SODHA): Message deleted
Mon, Jul 19, 2021, 06:09:01 - Benjamin (SODHA): pdurbin: Hey Philip, I can't find that great blog post you made a few years (?) ago about how we must make all communications platforms citable and dynamic, with URLs for messages -- just like this chat now is!
Mon, Jul 19, 2021, 06:09:08 - Benjamin (SODHA): With that cool acronym you came up with.
Mon, Jul 19, 2021, 08:25:16 - poikilotherm: Benjamin Peuch: it's SLOPI
Mon, Jul 19, 2021, 08:26:11 - poikilotherm: https://github.com/good-labs/slopi-communication
Mon, Jul 19, 2021, 08:26:24 - poikilotherm: http://blog.greptilian.com/2020/01/25/slopi-communication/
Mon, Jul 19, 2021, 08:36:33 - Benjamin (SODHA): <@oliver:bertuch.name "Benjamin Peuch: it's SLOPI"> Thanks!
Mon, Jul 19, 2021, 08:47:10 - poikilotherm: You're most welcome Benjamin Peuch 
Mon, Jul 19, 2021, 09:30:32 - Benjamin (SODHA): We are now most definitely SLOPI here :D
Mon, Jul 19, 2021, 09:52:48 - pdurbin: poikilotherm: thanks for dropping those links in here. I'm glad you like it, Benjamin Peuch !
Mon, Jul 19, 2021, 09:53:18 - pdurbin: poikilotherm: on the news this morning they said the flooding is Germany's worst natural disaster in 60 years. I hope you're doing ok.
Mon, Jul 19, 2021, 09:53:46 - poikilotherm: Yeah, I was lucky. No great damages here
Mon, Jul 19, 2021, 09:54:04 - Benjamin (SODHA): Armin Laschet thinks it's hilarious apparently
Mon, Jul 19, 2021, 09:56:32 - pdurbin: Laughter is the best medicine.
Mon, Jul 19, 2021, 10:00:32 - poikilotherm: Well you better shut the hell up and look like you have empathy, when the federal president is giving an interview and talking about casulties. Especially when cameras are just in front of you while you stand in the background, 5m away from him. And even if you cannot hear what Frank Walter-Steinmaier says. üò°
Mon, Jul 19, 2021, 10:03:30 - poikilotherm: Well - no ones perfect. That's fine. But then at least get to grips and apologize for your fault. Instead of a non-pology, blaming the watcher.
Mon, Jul 19, 2021, 10:03:51 - Benjamin (SODHA): Ooh I like this one, 'non-pology'. Very appropriate
Mon, Jul 19, 2021, 10:11:29 - poikilotherm: pdurbin: you might be interested in https://github.com/gdcc/sword2-lib
Mon, Jul 19, 2021, 10:12:09 - poikilotherm: Maybe you want to point your fix for the failing Atom parser towards that repo?
Mon, Jul 19, 2021, 10:12:14 - poikilotherm: We could include it :-D
Mon, Jul 19, 2021, 10:13:18 - pdurbin: Interesting. So it has the IQSS fix(es) and more.
Mon, Jul 19, 2021, 10:13:38 - pdurbin: Are you going to put it on Maven Central?
Mon, Jul 19, 2021, 10:16:29 - poikilotherm: That's the idea
Mon, Jul 19, 2021, 10:16:42 - poikilotherm: Or if that gets tedious, push to Github Packages
Mon, Jul 19, 2021, 10:20:27 - pdurbin: Do you know if one can pull in Github Packages using pom.xml?
Mon, Jul 19, 2021, 10:33:55 - poikilotherm: Yes you can
Mon, Jul 19, 2021, 10:34:02 - poikilotherm: AFAIK
Mon, Jul 19, 2021, 10:34:14 - poikilotherm: I just removed the Log4J dependency :-)
Mon, Jul 19, 2021, 10:49:39 - pdurbin: Nice. I'm a java.util.logging guy. üòÄ
Mon, Jul 19, 2021, 11:07:23 - Lincoln: I have a usecase where there are let say 1000 imagefiles . I want to generate some batch (say 10) and download them individually. Right  now it takes 1 sec per file (for download/upload) which is a bottleneck.
is there any workaround.  to have fast upload and download
Mon, Jul 19, 2021, 11:08:17 - Lincoln: something like direct access to postgres and so on
Mon, Jul 19, 2021, 11:37:42 - pdurbin: For upload, maybe you could try DVUploader: https://guides.dataverse.org/en/5.5/user/dataset-management.html#command-line-dvuploader
Mon, Jul 19, 2021, 11:46:39 - Lincoln: okay..ill try once...Also I installed Tool Raven on dataverse 5.5 (after some modification)
Mon, Jul 19, 2021, 12:01:17 - pdurbin: Nice. For downloads, I'm not sure... maybe write a script to download the files in batches.
Mon, Jul 19, 2021, 12:11:45 - Lincoln: <@pdurbin:matrix.org "Nice. For downloads, I'm not sur..."> u mean APIscripts 
Mon, Jul 19, 2021, 12:48:52 - pdurbin: Yeah, using the "File Access" API.
Tue, Jul 20, 2021, 13:04:12 - poikilotherm: Oh wow. While digging into the code of sword2 server lib, it becomes pretty obvious this one needs a careful touch and some polish. The world moved a lot in the past 10 years since that code was written...
Tue, Jul 20, 2021, 13:05:11 - poikilotherm: Looks like in the late 2000s / early 2010s XML writing was a huge and complex task...
Tue, Jul 20, 2021, 13:06:04 - poikilotherm: So people where happy to use libraries that made things easier. Like XOM... Even for tiny error docs. 
Tue, Jul 20, 2021, 13:07:50 - poikilotherm: And TIL I learned about Java try with resources... So handy when dealing with IO streams. Haven't touched those in a while...
Tue, Jul 20, 2021, 13:10:54 - poikilotherm: Yet amazing these things from the good old days / ancient past in IT time horizons still work with today's Java 
Tue, Jul 20, 2021, 13:11:11 - poikilotherm: That really is a huge benefit of this ecosystem
Tue, Jul 20, 2021, 13:19:23 - pdurbin: Yeah, try with resources is handy.
Wed, Jul 21, 2021, 07:08:31 - pacian: hello I am getting this message when I try to publish a dataset. All details regarding DataCite has been verified and check. This was working prior to the upgrade to version 5.5
Wed, Jul 21, 2021, 07:08:33 - pacian: Meteorological site level data from the CLIMAITE project at Brandbjerg Denmark from 1 October 2005 to 31 December 2013 in AnaEE - Analysis and Experimentation on Ecosystems (Developer Test) could not be published due to a failure to register, or update the Global Identifier for the dataset or one of the files in it. Contact support if this continues to happen.Jul 21, 2021, 11:05:27 AM UTC
Wed, Jul 21, 2021, 09:42:37 - pdurbin: When something like this happens I usually check https://status.datacite.org
Wed, Jul 21, 2021, 09:43:19 - pdurbin: pacian: are you using a test account with DataCite on their test server? Or is it a real account on their real server?
Wed, Jul 21, 2021, 09:44:29 - doomtecx joined the room
Wed, Jul 21, 2021, 09:45:02 - pacian: I am using the test account with DataCite .  Our Test Environment is on a Linode Cloud Environment : http://research.paciandev.com:8080/
Wed, Jul 21, 2021, 09:50:22 - pdurbin: Ok. The two things I can think to do are to email support@datacite.org and to test the DataCite API outside Dataverse using curl. Actually, before you do either of those, anything interesting in server.log?
Wed, Jul 21, 2021, 09:54:46 - pacian: There is always something interesting in the server log. nothing that I can tell relating to DataCite or DOI?
Wed, Jul 21, 2021, 09:56:00 - pacian: what curl command?
Wed, Jul 21, 2021, 10:05:23 - pdurbin: pacian: Dataverse uses the MDS API from DataCite. You can find curl commands here: https://support.datacite.org/docs/mds-api-guide
Wed, Jul 21, 2021, 10:23:03 - pdurbin: poikilotherm: thanks for you comment on #7991. Any thoughts on continuing to use FontCustom?
Wed, Jul 21, 2021, 13:31:43 - poikilotherm: pdurbin one can try to setup a pipeline with fontcustom. The project seems dead though.
Wed, Jul 21, 2021, 13:32:59 - pdurbin: What would you use instead of FontCustom?
Wed, Jul 21, 2021, 13:36:18 - poikilotherm: I'd try some of those links I added
Wed, Jul 21, 2021, 13:36:45 - poikilotherm: Still go with have a repo with a list of SVgs like you wrote
Wed, Jul 21, 2021, 13:38:55 - pdurbin: Ok, that's what I wasn't sure of... if those links do the same thing as FontCustom. Sounds like they do. Thanks.
Wed, Jul 21, 2021, 13:39:23 - poikilotherm: The main idea is about setting up a CI pipeline
Wed, Jul 21, 2021, 13:39:34 - poikilotherm: Instead of having a local setup 
Wed, Jul 21, 2021, 13:40:10 - poikilotherm: Or at least have a reproducible env to create a useable artifact
Wed, Jul 21, 2021, 13:40:49 - poikilotherm: And I have to admit I kinda like the webjar idea. Used that in a different project.
Wed, Jul 21, 2021, 13:43:36 - pdurbin: Sure. I have no objection to using Maven. But we still need to pick a tool. I just found https://github.com/tancredi/fantasticon as well. It seems like there's no 800 pound gorilla in this space. Just a bunch of random tools each with ~200 stars on GitHub.
Wed, Jul 21, 2021, 13:47:38 - pdurbin: It seems like no matter what, we need the SVGs to start with. So that's step one.
Wed, Jul 21, 2021, 13:48:03 - pdurbin: And maybe step two is to simply try the tool that's been used in the past: FontCustom.
Wed, Jul 21, 2021, 14:39:45 - juanlopezur joined the room
Wed, Jul 21, 2021, 14:40:23 - juanlopezur: Hi, I'm trying to set the make data count on my development dataverse
Wed, Jul 21, 2021, 14:41:06 - juanlopezur: however, I can't find the counter_weekly.sh and counter_daily.sh example files in my dataverse
Wed, Jul 21, 2021, 14:41:38 - juanlopezur: can you guys give me the path where both files should be?.. a find or locate doesn't show any results in my server
Wed, Jul 21, 2021, 14:44:29 - juanlopezur: or should I download them from some place? if that's the case, this page does not say this: https://guides.dataverse.org/en/5.3/admin/make-data-count.html
Wed, Jul 21, 2021, 15:07:31 - pdurbin: juanlopezur: hey, sorry, we were all just in a sprint planing meeting.
Wed, Jul 21, 2021, 15:10:05 - pdurbin: Yeah, the links to those scripts are broken in the 5.3 version of the guides. You can safely grab them from the 5.5 version, where the download links work: https://guides.dataverse.org/en/5.5/admin/make-data-count.html#populate-views-and-downloads-nightly
Wed, Jul 21, 2021, 15:22:40 - juanlopezur: Great! thank you @pdurbin
Wed, Jul 21, 2021, 15:23:22 - juanlopezur: just another question... If I use the make data count, will I lose my previous standar metrics?
Wed, Jul 21, 2021, 15:24:07 - juanlopezur: Standard*
Wed, Jul 21, 2021, 15:24:43 - pdurbin: The standard metrics continue to be collected but not all of them are displayed when you enable MDC.
Wed, Jul 21, 2021, 15:27:28 - juanlopezur: So I can lose some of my metrics If I want to use MDC, right?
Wed, Jul 21, 2021, 15:29:01 - juanlopezur: Well... not lose but the standard metrics wont show as usual, right?
Wed, Jul 21, 2021, 15:45:14 - pdurbin: Right. There's an issue to show them side by side, I think.
Wed, Jul 21, 2021, 15:45:37 - pdurbin:  When using Make Data Count, display pre-MDC download count as well #6542 
Wed, Jul 21, 2021, 15:45:41 - pdurbin: https://github.com/IQSS/dataverse/issues/6542
Wed, Jul 21, 2021, 15:46:44 - pdurbin: In this fork you can see what it looks like... "2,187 Downloads (+ 274 pre-MDC )" https://doi.org/10.5064/F6CE5MRF
Wed, Jul 21, 2021, 16:11:03 - juanlopezur: Once again, thank you pdurbin Have a nice day
Wed, Jul 21, 2021, 16:11:13 - pdurbin: You too.
Thu, Jul 22, 2021, 06:43:34 - poikilotherm: pdurbin: I just asked for upload access to Maven central https://issues.sonatype.org/browse/OSSRH-71435
Thu, Jul 22, 2021, 06:44:57 - poikilotherm: I wonder if I should change the package string in the SWORD2 lib...
Thu, Jul 22, 2021, 10:14:09 - pdurbin: Interesting!
Thu, Jul 22, 2021, 10:15:06 - pdurbin: I always assume we'd someday switch from `package edu.harvard.iq.dataverse` to `package org.dataverse` but maybe we should consider `package io.gdcc`. üòÄ
Thu, Jul 22, 2021, 10:39:43 - poikilotherm: I just pushed a SNAPSHOT to central :-D
Thu, Jul 22, 2021, 10:40:03 - pdurbin: Nice!
Thu, Jul 22, 2021, 10:40:30 - poikilotherm: https://s01.oss.sonatype.org/content/repositories/snapshots/io/gdcc/sword2-lib/
Thu, Jul 22, 2021, 10:41:00 - poikilotherm: So what do you think - should we do the switch?
Thu, Jul 22, 2021, 10:41:14 - poikilotherm: It would require us to change the imports in Dataverse...
Thu, Jul 22, 2021, 10:41:44 - pdurbin: If it doesn't break anything. üòÄ
Thu, Jul 22, 2021, 10:41:59 - pdurbin: Should it appear at https://search.maven.org/search?q=g:io.gdcc ? I don't see it.
Thu, Jul 22, 2021, 10:42:06 - poikilotherm: Ah maybe we should do this with a v2 ;.)
Thu, Jul 22, 2021, 10:42:11 - poikilotherm: No, not yet
Thu, Jul 22, 2021, 10:42:16 - poikilotherm: It hasn't been released yet
Thu, Jul 22, 2021, 10:42:20 - poikilotherm: Just a snapshot
Thu, Jul 22, 2021, 10:42:37 - poikilotherm: Need GPG signing in place before it will appear on central as a release
Thu, Jul 22, 2021, 10:42:43 - poikilotherm: And of course create a release
Thu, Jul 22, 2021, 10:43:16 - pdurbin: Gotcha. But for testing, hopefully we can point at the snapshot.
Thu, Jul 22, 2021, 10:43:16 - poikilotherm: Do you want to recreate your PR with the Atom fix or shall I just import it?
Thu, Jul 22, 2021, 10:43:52 - pdurbin: Hmm, do I want the blood on my hands...
Thu, Jul 22, 2021, 10:44:07 - pdurbin: Can I just cherry pick it?
Thu, Jul 22, 2021, 10:44:47 - poikilotherm: Sure
Thu, Jul 22, 2021, 10:45:01 - poikilotherm: I didn't change much of the code
Thu, Jul 22, 2021, 10:45:39 - poikilotherm: If you have the old code as a git repo on your machine, you can just add the gdcc one as another remote
Thu, Jul 22, 2021, 10:45:46 - pdurbin: Sure, I'll make a pull request.
Thu, Jul 22, 2021, 10:45:52 - poikilotherm: Nice! :-)
Thu, Jul 22, 2021, 10:52:17 - poikilotherm: OK using the snapshot in Dataverse is pretty easy :-D
Thu, Jul 22, 2021, 10:57:10 - poikilotherm: But it looks like that using the updated dependency, some bad habits reveal... Transitive dependency usage for org.apache httpclient
Thu, Jul 22, 2021, 10:57:20 - poikilotherm: üôà
Thu, Jul 22, 2021, 11:03:47 - poikilotherm sent an image. (Media omitted)
Thu, Jul 22, 2021, 11:03:48 - poikilotherm: Yupp - here we go: 
Thu, Jul 22, 2021, 11:09:00 - poikilotherm: pdurbin: WDYT - I inherited the artifactId "sword2-lib" from the EASY folks. But while looking at it in the Dataverse POM, it seems weird. Someone could see it as a client/server library. So better rename before release... WDYT about sword2-server-lib? It was named server, but this is not very true. It's more of a lib with building blocks...
Thu, Jul 22, 2021, 11:14:18 - pdurbin: You can use it as a client?
Thu, Jul 22, 2021, 11:14:48 - poikilotherm: No no no no
Thu, Jul 22, 2021, 11:15:02 - poikilotherm: Just the name might indicate that it has sth to do with a client
Thu, Jul 22, 2021, 11:15:17 - poikilotherm: Someone reading the Dataverse POM might be puzzled what "sword2-lib" is
Thu, Jul 22, 2021, 11:17:55 - pdurbin: Why not keep it as sword2-server like it is now in the pom.xml.
Thu, Jul 22, 2021, 11:20:47 - poikilotherm: Well you can't call it server can you? :-D
Thu, Jul 22, 2021, 11:21:08 - poikilotherm: Dataverse even implemented LOADS of stuff around the API elements to avoid servlet problems
Thu, Jul 22, 2021, 11:22:06 - pdurbin: I'm confused. It's already called sword2-server.
Thu, Jul 22, 2021, 11:22:35 - poikilotherm: Yeah. Back in 2010 there was a WAR distribution, so you could "deploy" it.
Thu, Jul 22, 2021, 11:22:46 - poikilotherm: Didn't do much, but you could try :-D
Thu, Jul 22, 2021, 11:23:33 - poikilotherm: It has always been used as a library to build the real application
Thu, Jul 22, 2021, 11:23:34 - pdurbin: I can't remember if I played with it. I did spin up the python server around then. Maybe 2012 or so.
Thu, Jul 22, 2021, 11:24:44 - poikilotherm: But fine. I'll go with swords2-server then
Thu, Jul 22, 2021, 11:25:21 - pdurbin: singular sword please üòÄ
Thu, Jul 22, 2021, 11:27:17 - pdurbin: To match what we have now.
Thu, Jul 22, 2021, 11:28:20 - poikilotherm: Oh yeah that was just a typo
Thu, Jul 22, 2021, 11:31:07 - pdurbin: I figured. Hey, check this out: https://github.com/IQSS/dataverse/issues/7991#issuecomment-885006537
Thu, Jul 22, 2021, 11:31:22 - pdurbin: I was able to get some SVGs out of a .ttf file.
Thu, Jul 22, 2021, 11:33:19 - poikilotherm: Yeah saw the comment :-D
Thu, Jul 22, 2021, 11:33:50 - poikilotherm: My hope was you folks had those SVGs somewhere... Just in case sth was lost "in translation" to the TTF
Thu, Jul 22, 2021, 11:34:58 - pdurbin: We did find some Illustrator files. But some seem to be missing.
Thu, Jul 22, 2021, 11:38:36 - pdurbin: The only one that looks a little weird to me is the "code" one.
Thu, Jul 22, 2021, 11:38:49 - pdurbin sent an image. (Media omitted)
Thu, Jul 22, 2021, 11:38:56 - pdurbin: jagged edges
Thu, Jul 22, 2021, 12:27:39 - poikilotherm: Message deleted
Thu, Jul 22, 2021, 12:27:56 - poikilotherm: I see
Thu, Jul 22, 2021, 12:34:00 - poikilotherm: pdurbin: freshly deployed snapshot from Github Action :-) https://github.com/gdcc/sword2-server/runs/3136184398
Thu, Jul 22, 2021, 12:35:54 - poikilotherm: I'll prepare a PR with the updated library. Let's see what SwordIT thinks about this.
Thu, Jul 22, 2021, 13:45:23 - pdurbin: Nice. I still owe you a pull request.
Thu, Jul 22, 2021, 13:49:46 - pdurbin: poikilotherm: CONFLICT (content): Merge conflict in src/main/java/org/swordapp/server/SwordAPIEndpoint.java

Thu, Jul 22, 2021, 13:50:09 - pdurbin: Do you mind putting the fix in? Cherry pick doesn't work.
Thu, Jul 22, 2021, 13:53:05 - poikilotherm: OK
Thu, Jul 22, 2021, 13:53:34 - poikilotherm: I'm just hammering on pom.xml dependency convergence
Thu, Jul 22, 2021, 13:53:42 - pdurbin: Thanks.
Thu, Jul 22, 2021, 13:53:51 - poikilotherm: S**ks ***
Thu, Jul 22, 2021, 13:53:53 - poikilotherm: :-(
Thu, Jul 22, 2021, 13:54:28 - poikilotherm: But dataversebot kitten can now push releases to Maven Central :-)
Thu, Jul 22, 2021, 13:54:35 - poikilotherm: Needs a GPG key, though ;-)
Thu, Jul 22, 2021, 13:56:23 - pdurbin: Nice.
Thu, Jul 22, 2021, 13:57:06 - pdurbin: Anybody into Ruby here? I'm having trouble getting this to work: https://github.com/FontCustom/fontcustom
Thu, Jul 22, 2021, 14:18:21 - pdurbin: I'm having trouble getting this version in Docker working also: https://github.com/drichner/fontcustom
Thu, Jul 22, 2021, 14:21:29 - pdurbin: poikilotherm: FontCustom has way more stars on GitHub than the tools you found, by the way. ~3000 vs ~300.
Thu, Jul 22, 2021, 14:22:24 - poikilotherm: Sure. Nothing against FontCustom as long as we can make it run in a Workflow on Github. Less error prone than on all dev machines
Thu, Jul 22, 2021, 14:23:08 - poikilotherm: Incorporating your fix from ancient history and dedoubling code in the same go - same error possible in two places :-D
Thu, Jul 22, 2021, 14:23:28 - pdurbin: cool
Thu, Jul 22, 2021, 14:26:11 - pdurbin: Ha! Check this out. There's a Dataverse icon at https://github.com/jpswalsh/academicons/blob/master/svg/dataverse.svg and they're trying to set up a GitHub Action with FontCustom: https://github.com/jpswalsh/academicons/pull/158
Thu, Jul 22, 2021, 14:32:05 - poikilotherm: Sounds like what you need :-D
Thu, Jul 22, 2021, 14:32:36 - pdurbin: Well, I'd like to get it working locally too.
Thu, Jul 22, 2021, 14:37:28 - poikilotherm: https://github.com/gdcc/sword2-server/commit/bb57156d01f980ac869de45e528484a3fe43a2b5
Thu, Jul 22, 2021, 14:37:57 - pdurbin: great, thanks
Thu, Jul 22, 2021, 14:38:52 - poikilotherm: Best thing is that it's already pushed to Maven Central Snapshot :-D
Thu, Jul 22, 2021, 14:39:48 - poikilotherm: I guess we want the same thing for the other libraries
Thu, Jul 22, 2021, 14:40:22 - pdurbin: Sure. Are you doing general clean up?
Thu, Jul 22, 2021, 14:41:13 - poikilotherm: I kinda stumbled into it
Thu, Jul 22, 2021, 14:41:31 - poikilotherm: Sec related trigger
Thu, Jul 22, 2021, 14:42:31 - poikilotherm: Guess I need to fix that org.apache.commons.httpclient misuse now :-D
Thu, Jul 22, 2021, 14:42:43 - poikilotherm: Evil knivel ei ei ei
Thu, Jul 22, 2021, 14:45:18 - pdurbin: gotcha
Thu, Jul 22, 2021, 14:48:28 - poikilotherm: I already made all the libs for httpclient, slf4j, commons-io converge to a version mastered by us. All to prepare for the big shot of replacing sword2-server :-D
Thu, Jul 22, 2021, 14:49:01 - poikilotherm: (Which in turn frees up to let go of some other libs and not include libs with sec issues in the WAR)
Thu, Jul 22, 2021, 15:01:22 - poikilotherm: Oh dear... Looks like lots of breaking changes in Apache Httpclient
Thu, Jul 22, 2021, 15:07:29 - pdurbin: Yes! FontCustom works fine if you downgrade Ruby from 3 to 2.7.
Thu, Jul 22, 2021, 15:07:43 - poikilotherm: Oh
Thu, Jul 22, 2021, 15:16:29 - poikilotherm: Man. Sometimes I wish you folks grew some confidence and reject code without unit tests. :-(
Thu, Jul 22, 2021, 15:17:03 - poikilotherm: And make comments and Javadoc a requirement
Thu, Jul 22, 2021, 15:19:25 - pdurbin: Getting this team to be enthusiastic about automated testing has been an uphill battle.
Thu, Jul 22, 2021, 15:33:44 - poikilotherm: Man I don't get it. Using basic java.net.HttpURLConnection but then using org.apache.commons.HTTPException to pass a status code.
Thu, Jul 22, 2021, 15:34:00 - poikilotherm: Sometimes I wonder how Dataverse actually is able to be working
Thu, Jul 22, 2021, 15:34:20 - poikilotherm: No one seems to actually care what libs are used.
Thu, Jul 22, 2021, 15:34:45 - poikilotherm: No one cares about using transitive deps
Thu, Jul 22, 2021, 15:35:02 - poikilotherm: üëæ
Thu, Jul 22, 2021, 15:36:07 - pdurbin: üëæ
Thu, Jul 22, 2021, 15:36:18 - pdurbin: Hey, that's pretty neat.
Thu, Jul 22, 2021, 15:57:18 - poikilotherm: Man I give up. This is a huger thing than expected. I'm gonna add the depedency again and don't give a f**k. 3 different styles of access HTTP resources and I wont be the one doing the payment on the technical debts here.
Thu, Jul 22, 2021, 15:58:27 - pdurbin: Yeah, I'm the one who added Unirest. Sorry.
Thu, Jul 22, 2021, 16:05:10 - poikilotherm: I'm going to leave this comment with the dependency in pom.xml
Thu, Jul 22, 2021, 16:05:24 - poikilotherm: ```
<!-- TECHNICAL DEBT
             For a very long time, in a lots of places people used org.apache.commons.httpclient to access
             HTTP resources, wrap responses in exceptions etc.
             This library had been used via transitive dependency of sword2-server, but due to its refactoring,
             the dependency went missing, breaking code.
             There is a lot of technical debt in the codebase regarding HTTP client calls. Sometimes
             java.net.HttpUrlConnection is used, sometimes Apache, sometimes Unirest and what not.
             A big pile of historically grown mess. Some poor dev should take a cleanex and call for "payback time". -->

```
Thu, Jul 22, 2021, 16:07:13 - poikilotherm: It's just the normal thing with any technical debt
Thu, Jul 22, 2021, 16:07:21 - poikilotherm: Some day one needs to pay back
Thu, Jul 22, 2021, 16:07:45 - pdurbin: "its refactoring"? Do you mean "while refactoring"?
Thu, Jul 22, 2021, 16:08:17 - pdurbin: Oh, and it's Kleenex. üòÉ
Thu, Jul 22, 2021, 16:10:11 - poikilotherm: ```
             TECHNICAL DEBT
             For a very long time, in a lots of places people used org.apache.commons.httpclient to access
             HTTP resources, wrap responses in exceptions etc.
             
             This library had been used via an transitive dependency of sword2-server. During its recent updates,
             the dependency was dropped, went missing, eventually breaking our code. Re-adding this 2007 goodie here as a direct dependency.
             
             There is a lot of technical debt in the codebase regarding HTTP client calls. Sometimes
             java.net.HttpUrlConnection is used, sometimes Apache, sometimes Unirest and what not.
             A big pile of historically grown mess. Some poor dev should take a Kleenex and call for "payback time".
```
Thu, Jul 22, 2021, 16:13:31 - poikilotherm: BTW I added org.apache.commons.httpclient to checkstyle.xml so good review doggo will bark at people adding more confusion to this mess
Thu, Jul 22, 2021, 16:19:57 - pdurbin: I kind of wish reviewdog or some doggo was in this chat with us.
Thu, Jul 22, 2021, 16:20:51 - pdurbin: The tech debt blurb looks good now.
Thu, Jul 22, 2021, 16:21:06 - pdurbin: A little snarky, but I have a teenager. I'm used to it.
Thu, Jul 22, 2021, 16:21:40 - poikilotherm: Hmm snarky has two different meanings in german
Thu, Jul 22, 2021, 16:21:44 - poikilotherm: Which one is it
Thu, Jul 22, 2021, 16:22:21 - pdurbin: critical or mocking in an indirect or sarcastic way.
"snarky remarks"
Thu, Jul 22, 2021, 16:22:25 - poikilotherm: More like https://www.dict.cc/?s=h%C3%B6hnisch or more like https://www.dict.cc/?s=bissig
Thu, Jul 22, 2021, 16:23:41 - poikilotherm: Or sarcastic. That's true. I'm a bit upset on this. I hate it when I have to let go of these things and cannot leave a cleaned up place behind me
Thu, Jul 22, 2021, 16:23:55 - poikilotherm: Maybe it's just me being german
Thu, Jul 22, 2021, 16:37:05 - pdurbin: maybe üòÄ
Thu, Jul 22, 2021, 16:38:05 - poikilotherm: Interesting. When I update to my new sword2-server version with updated/reduced dependencies, a lot of unit tests generating HTML fail
Thu, Jul 22, 2021, 16:39:27 - pdurbin: SWORD uses XML, not HTML.
Thu, Jul 22, 2021, 16:40:38 - poikilotherm: Yeah but most likely there are some places where the XML DOM is used to generate docs
Thu, Jul 22, 2021, 16:40:46 - poikilotherm: That one is likely getting updated
Thu, Jul 22, 2021, 16:41:09 - poikilotherm: Chances are high that newer versions have bugfixes that the tests always "worked around" or just accepted
Thu, Jul 22, 2021, 16:41:25 - poikilotherm: ```
[ERROR]   DublinCoreExportUtilTest.testDatasetJson2dublincore:74 expected:<...l.org/dc/terms/">
  [  
  <dcterms:title>Darwin's Finches</dcterms:title>
    
  <dcterms:identifier>https://doi.org/10.5072/FK2/PCA2E3</dcterms:identifier>
    
  <dcterms:creator>Finch, Fiona</dcterms:creator>
    
  <dcterms:modified>2015-09-24T17:07:57Z</dcterms:modified>
    
  <dcterms:description>Darwin's finches (also known as the Gal√°pagos finches) are a group of about fifteen species of passerine birds.</dcterms:description>
    
  <dcterms:subject>Medicine, Health and Life Sciences</dcterms:subject>
    
  <dcterms:subject>Keyword Value 1</dcterms:subject>
    
  <dcterms:subject>Keyword Value Two</dcterms:subject>
    
  <dcterms:contributor>Added, Depositor</dcterms:contributor>
    
  <dcterms:temporal>20020816</dcterms:temporal>
    
  <dcterms:temporal>20160630</dcterms:temporal>
    
  <dcterms:temporal>20070831</dcterms:temporal>
    
  <dcterms:temporal>20130630</dcterms:temporal>
    
  <dcterms:type>Kind of Data</dcterms:type>
    
  <dcterms:spatial>Cambridge</dcterms:spatial>
    
  <dcterms:spatial>USA</dcterms:spatial>
    
  <dcterms:spatial>MA</dcterms:spatial>
    
  <dcterms:spatial>Other Geographic Coverage</dcterms:spatial>
  ]
</metadata>
> but was:<...l.org/dc/terms/">
  [<dcterms:title>Darwin's Finches</dcterms:title>
  <dcterms:identifier>https://doi.org/10.5072/FK2/PCA2E3</dcterms:identifier>
  <dcterms:creator>Finch, Fiona</dcterms:creator>
  <dcterms:modified>2015-09-24T17:07:57Z</dcterms:modified>
  <dcterms:description>Darwin's finches (also known as the Gal√°pagos finches) are a group of about fifteen species of passerine birds.</dcterms:description>
  <dcterms:subject>Medicine, Health and Life Sciences</dcterms:subject>
  <dcterms:subject>Keyword Value 1</dcterms:subject>
  <dcterms:subject>Keyword Value Two</dcterms:subject>
  <dcterms:contributor>Added, Depositor</dcterms:contributor>
  <dcterms:temporal>20020816</dcterms:temporal>
  <dcterms:temporal>20160630</dcterms:temporal>
  <dcterms:temporal>20070831</dcterms:temporal>
  <dcterms:temporal>20130630</dcterms:temporal>
  <dcterms:type>Kind of Data</dcterms:type>
  <dcterms:spatial>Cambridge</dcterms:spatial>
  <dcterms:spatial>USA</dcterms:spatial>
  <dcterms:spatial>MA</dcterms:spatial>
  <dcterms:spatial>Other Geographic Coverage</dcterms:spatial>]
</metadata>
>

```
Thu, Jul 22, 2021, 16:41:42 - poikilotherm: That looks like the older libs had some troubles :-D
Thu, Jul 22, 2021, 16:42:06 - poikilotherm: Maybe... just a little maybe... I should add xmlunit
Thu, Jul 22, 2021, 16:42:22 - poikilotherm: https://www.xmlunit.org
Thu, Jul 22, 2021, 16:43:03 - pdurbin: Yeah. Weird.
Thu, Jul 22, 2021, 16:43:12 - pdurbin: Interesting, like you said. üòÄ
Thu, Jul 22, 2021, 17:30:55 - poikilotherm: I have no idea which god I might have stomped on his or her feet
Thu, Jul 22, 2021, 17:31:11 - poikilotherm: Next iteration of problems
Thu, Jul 22, 2021, 17:32:02 - poikilotherm: Can't run failing DataCitationTest on its own. BrandingUtilTest needs to run before it - Mocks required for the services to be injected
Thu, Jul 22, 2021, 17:32:10 - poikilotherm: Folks, I'll call it a day now
Thu, Jul 22, 2021, 17:32:46 - poikilotherm: Some things worked pretty nice (Maven Central! Yeah!), some things had frustration for me.
Thu, Jul 22, 2021, 17:32:54 - poikilotherm: Enough for today :-D
Thu, Jul 22, 2021, 17:32:56 - poikilotherm: cu all
Fri, Jul 23, 2021, 07:52:00 - Philipp: Hi! By mistake, my colleague linked two collections in DataverseNO. We have never used this feature, and I can't see that the two collections he says he has linked are linked in any way. Is there a way to see whether two collections are linked?
Fri, Jul 23, 2021, 10:04:57 - pdurbin: Philipp@UiT/DataverseNO: there's a "list links" API: https://github.com/IQSS/dataverse/blob/v5.5/src/main/java/edu/harvard/iq/dataverse/api/Dataverses.java#L946
Fri, Jul 23, 2021, 10:11:09 - pdurbin: It should show all of these:

- dataverses that the " + dv.getAlias() + " dataverse has linked to
- dataverses that link to the " + dv.getAlias()
- datasets that the " + dv.getAlias() + " has linked to
Fri, Jul 23, 2021, 10:11:31 - pdurbin: But as far as I can tell, it's not documented. üòû
Fri, Jul 23, 2021, 10:16:16 - pdurbin: Superuser-only.
Fri, Jul 23, 2021, 12:05:00 - Philipp: pdurbin: Thanks, Phil. Is this a command I can run from my terminal, like a curl command?
Fri, Jul 23, 2021, 12:17:27 - pdurbin: Yes, something like this:

curl -H X-Dataverse-key:$API_TOKEN http://localhost:8080/api/dataverses/root/links

Where "root" is the alias for the dataverse collection.
Fri, Jul 23, 2021, 16:27:43 - pdurbin: Ok folks, I'm heading out for a two week vacation. See you on Monday, August 9th. Have a great weekend!
Sat, Jul 24, 2021, 00:19:09 - Philipp: Thanks, pdurbin! Have a nice vacation!
Sat, Jul 24, 2021, 04:50:14 - Philipp: pdurbin: I've just made a PR to add documentation about this to the Admin Guide.
Mon, Jul 26, 2021, 07:22:39 - pacian: I have a general question? 
Mon, Jul 26, 2021, 07:23:28 - pacian: What monitoring tool /application do you use to monitor Dataverse in your environment?
Tue, Jul 27, 2021, 11:08:44 - poikilotherm: Message deleted
Tue, Jul 27, 2021, 11:09:01 - poikilotherm: pacian: there are many different aspects to monitor
Tue, Jul 27, 2021, 11:09:14 - poikilotherm: Dataverse doesn't really expose many business metrics
Tue, Jul 27, 2021, 11:09:34 - poikilotherm: You might be interested in monitoring the usual JVM performance metrics
Tue, Jul 27, 2021, 11:09:45 - poikilotherm: You can also configure those
Tue, Jul 27, 2021, 11:10:06 - poikilotherm: It's easy to consume them via Prometheus (or similar) with Payaras endpoint for that
Tue, Jul 27, 2021, 11:10:40 - poikilotherm: This is a very ops-heavy view on things. You might want to monitor more
Tue, Jul 27, 2021, 13:39:58 - analia-s joined the room
Tue, Jul 27, 2021, 13:45:47 - analia-s: hi! I have a query. I uploaded a 10GB file to my dataverse for testing but it failed. By checking the server storage space I was able to verify that those files were not deleted after canceling the dataset upload. How can I permanently eliminate them?
Tue, Jul 27, 2021, 14:47:45 - poikilotherm: analia-s: has this been moved to your storage backend already?
Tue, Jul 27, 2021, 14:48:02 - poikilotherm: If not: it should reside in the temp file directory
Tue, Jul 27, 2021, 14:48:53 - poikilotherm: https://guides.dataverse.org/en/latest/installation/config.html#dataverse-files-directory
Tue, Jul 27, 2021, 14:49:06 - poikilotherm: The temp file is at that dir+`/temp`
Tue, Jul 27, 2021, 14:57:58 - analia-s: Yes, in the temp folder there is no file with today's or yesterday's date. There are no files that weigh 10GB either
Wed, Jul 28, 2021, 11:34:12 - analia-s: <@analia-s:matrix.org "hi! I have a query. I uploaded a..."> Hi! Can you help me with this problem?
Wed, Jul 28, 2021, 15:38:38 - Lincoln: you can track down the location of that file from postgresql (dvobject table) and then  manually delete it 
Wed, Jul 28, 2021, 15:39:33 - Lincoln: its not recommended but does the job
Wed, Jul 28, 2021, 15:40:39 - Lincoln: <@lincoln55:matrix.org "you can track down the location ..."> then use solr to remove its association so you wont see it in your dataverse
Mon, Aug 2, 2021, 02:27:02 - Pheonix Solutions joined the room
Fri, Aug 6, 2021, 15:16:30 - nightowlaz joined the room
Sun, Aug 8, 2021, 04:46:17 - Jorge Alvarado joined the room
Sun, Aug 8, 2021, 13:28:03 - nightowlaz: hi all ... i'm noticing ssl cert expiration messages for payara server in our logs ... do those need to be updated, and if so, how can I update them? 
Mon, Aug 9, 2021, 06:37:02 - Patrick Vranckx joined the room
Mon, Aug 9, 2021, 12:46:25 - nightowlaz: <@nightowlaz:matrix.org "hi all ... i'm noticing ssl cert..."> the java cert that is, i think
Mon, Aug 9, 2021, 14:15:27 - pdurbin: Hey, I'm back. What did I miss? üòÄ
Mon, Aug 9, 2021, 14:17:38 - pdurbin: pacian: there's a page on monitoring at https://guides.dataverse.org/en/5.6/admin/monitoring.html
Mon, Aug 9, 2021, 14:23:02 - pdurbin: analia-s: you can also get the "storageIdentifier" for the file from the JSON output of the dataset. Here's an example: https://dataverse.harvard.edu/api/datasets/export?exporter=dataverse_json&persistentId=doi%3A10.7910/DVN/TJCLKP
Mon, Aug 9, 2021, 14:25:23 - pdurbin: This "Physical Files Validation in a Dataset" API might be useful as well. It shows the storageIdentifier: https://guides.dataverse.org/en/5.6/api/native-api.html#physical-files-validation-in-a-dataset
Mon, Aug 9, 2021, 14:26:18 - pdurbin: nightowlaz: what version of Payara are you running?
Mon, Aug 9, 2021, 14:57:47 - nightowlaz: <@pdurbin:matrix.org "nightowlaz: what version of Paya..."> I did the upgrade to 5.2020.6 when I upgraded dataverse to 5.3
Mon, Aug 9, 2021, 14:58:58 - pdurbin: That's the version I'm running on my laptop. What does the error look like?
Mon, Aug 9, 2021, 15:04:01 - nightowlaz: well, this is the error, but it is repeated for a bunch of certs: [#|2021-08-07T07:34:20.933+0000|WARNING|Payara 5.2020.6|javax.enterprise.system.security.ssl|_ThreadID=21;_ThreadName=RunLevelControllerThread-1628321655807;_TimeMillis=1628321660933;_LevelValue=900;_MessageID=NCLS-SECURITY-05054;|
  The SSL certificate has expired: [
Mon, Aug 9, 2021, 15:04:14 - nightowlaz: i can send you the entire thread, if that helps
Mon, Aug 9, 2021, 15:04:37 - pdurbin: That's ok. I seem to have the same error.
Mon, Aug 9, 2021, 15:09:26 - nightowlaz: i just saw that because I'm trying to troubleshoot an issue with certs on our system ... the email that I sent to the group .. trying to create stores from local storage and from min.io ... to our dataverse and getting java errors ...
Mon, Aug 9, 2021, 15:10:05 - nightowlaz: it seems that dataverse (or java?) needs to see the root store in a certain place? or something like that
Mon, Aug 9, 2021, 15:10:28 - pdurbin: I'm looking at https://docs.payara.fish/enterprise/docs/documentation/payara-server/server-configuration/ssl-certificates.html#cetificate-expiration but I'm not sure what to say. Those docs seem to suggest that you can remove expired certificates.
Mon, Aug 9, 2021, 15:11:25 - pdurbin: Would you be able to create an issue about expired Payara certificates? It would be nice to see some discussion on this.
Mon, Aug 9, 2021, 15:13:05 - nightowlaz: yes, will do 
Mon, Aug 9, 2021, 15:14:04 - nightowlaz: i did try updating the keystore but didn't try removing expired certs ... will give this a try
Mon, Aug 9, 2021, 15:17:48 - nightowlaz: and, in looking at that documentation, is there a need to add our certificate to the trust store? (since you can remove it apparently)
Mon, Aug 9, 2021, 15:20:21 - pdurbin: Woof. I'm really not sure. My strategy has been to front Payara with Apache and handle all the cert stuff in Apache where it's easy. Just plaintext files.
Mon, Aug 9, 2021, 15:23:06 - nightowlaz: we do that ... we have our certs in apache and all works great .. until we tried to add a different (non-supported) storage üòÑ .. maybe it just isn't possible
Mon, Aug 9, 2021, 15:23:39 - nightowlaz sent an image. (Media omitted)
Mon, Aug 9, 2021, 15:24:01 - nightowlaz: lol wonder what the "package that is not installed" is? 
Mon, Aug 9, 2021, 15:24:03 - pdurbin: poikilotherm is using Minio. Works fine for him I think. Or are you talking about some other storage.
Mon, Aug 9, 2021, 15:25:31 - nightowlaz: well we are trying to point to isilon s3 onefs storage provided by our main IT ... but because I was having trouble with that, we tried fronting it with min.io using nfs exported from the isilon instead
Mon, Aug 9, 2021, 15:26:27 - nightowlaz: i am not sure I configured it correctly .. i sent an email out to the community asking if anyone has configured it and gotten it working .. hoping to hear back 
Mon, Aug 9, 2021, 15:26:58 - nightowlaz: but both issues seems to be related to certs 
Mon, Aug 9, 2021, 15:28:02 - pdurbin: I see. If you don't hear back here or on the list you could also make noise in the devops channel in Slack.
Mon, Aug 9, 2021, 15:35:51 - nightowlaz: oh yea good idea .. thanks so much .. will put in that ticket about the expired certs
Mon, Aug 9, 2021, 15:47:40 - pdurbin: Thanks!
Mon, Aug 9, 2021, 16:06:36 - pdurbin: Here's the issue, if anyone wants to follow along: https://github.com/IQSS/dataverse/issues/8059
Mon, Aug 9, 2021, 18:03:52 - nightowlaz: i can't seem to run the remove-expired-certificates directive to asadmin ... been trying to find a way to remove them manually (without specifying every one individually) 
Tue, Aug 10, 2021, 04:12:36 - Patrick Vranckx: Message deleted
Tue, Aug 10, 2021, 04:12:40 - Patrick Vranckx: Message deleted
Tue, Aug 10, 2021, 04:13:00 - Patrick Vranckx: Message deleted
Tue, Aug 10, 2021, 05:22:53 - @user:chat.mpdl.mpg.de joined the room
Tue, Aug 10, 2021, 05:24:41 - @user:chat.mpdl.mpg.de left the room
Tue, Aug 10, 2021, 08:26:43 - Patrick Vranckx: I would like to harvest a Dataverse instance with custom metadata fields. Is it possible to harvest those custom metadata through OAI-PMH ? Does it need smthg to be done on the client or the server side ?
Tue, Aug 10, 2021, 09:10:39 - knoth joined the room
Tue, Aug 10, 2021, 09:11:05 - knoth: Dear all
Tue, Aug 10, 2021, 09:16:09 - knoth: I'm trying to configure Shibboleth. I can successfully login to the IdP. But after login I'll be redirected to shib.xhtml?redirectPage=%2Fdataverse.xhtml, which is empty. I only the at the top of page "Account Information".
Tue, Aug 10, 2021, 09:19:27 - knoth: Do I need modify the dataverse.xhtml or shib.xhtml? Or do we need more attributes than the follow (snipet from Shibboleth.sso/Session)?
```
Attributes
eppn:1 value(s)
givenName: 1 value(s)
mail: 1 value(s)
sn: 1 value(s)
```

Tue, Aug 10, 2021, 09:55:30 - pdurbin: <@pvx:matrix.org "I would like to harvest a Datave..."> Yes, it's possible but you have to use Dataverse's native JSON format when setting up the client.
Tue, Aug 10, 2021, 09:56:14 - pdurbin: knoth: hmm, have you already published your root dataverse?
Tue, Aug 10, 2021, 09:58:36 - knoth: Yes my root Dataverse is publish and everything works fine with local accounts
Tue, Aug 10, 2021, 09:59:16 - pdurbin: Hmm. What if you click on My Data?
Tue, Aug 10, 2021, 09:59:25 - pdurbin: (after clicking your name)
Tue, Aug 10, 2021, 09:59:46 - pdurbin: And I should say... I have a zoom meeting momentarily.
Tue, Aug 10, 2021, 10:02:53 - knoth: with my local account 1 to 2 of 2 Results

Tue, Aug 10, 2021, 10:43:01 - knoth: with shibbloth-login I fristly need to confirm with "Create Account" my account. But this is not possible and the moment.

Tue, Aug 10, 2021, 10:43:06 - knoth sent an image. (Media omitted)
Tue, Aug 10, 2021, 11:27:04 - pdurbin: Any errors in server.log?
Tue, Aug 10, 2021, 11:37:10 - knoth: The SAML assertion for "Shib-Identity-Provider" was null. Please contact support.
Tue, Aug 10, 2021, 11:38:14 - pdurbin: Right. We've seen this before, I think.
Tue, Aug 10, 2021, 11:40:22 - pdurbin: knoth: can you please see if this thread helps? https://groups.google.com/g/dataverse-community/c/lfe9aWtBvm8/m/m162jbmTCQAJ Especially my answer about AJP_
Tue, Aug 10, 2021, 11:50:26 - knoth: thanks a lot attributePrefix="AJP_" wasn't set
Tue, Aug 10, 2021, 11:54:03 - pdurbin: knoth: cool, does it work now? üòÑ
Tue, Aug 10, 2021, 11:58:35 - nightowlaz: Just dug through all my notes because I know I had this issue ... it was because I had the load balancer in aws configured wrong. Is it working for you now? 
Tue, Aug 10, 2021, 11:58:53 - knoth: now it work well
Tue, Aug 10, 2021, 11:59:03 - nightowlaz: I'm not an expert, but I literally spent months getting our shib to work, so if any of our config can help I will share! üòÅ
Tue, Aug 10, 2021, 11:59:03 - knoth: thank you very much
Tue, Aug 10, 2021, 11:59:05 - pdurbin: \o/
Tue, Aug 10, 2021, 12:00:09 - nightowlaz: üéâ
Tue, Aug 10, 2021, 12:02:10 - knoth: üéâüéÜ
Thu, Aug 12, 2021, 14:57:38 - pdurbin: nightowlaz: I keep meaning to tell you that I'm all caught up on the mailing list but I don't have great answers for your storage/minio questions. Oliver is on vacation so hopefully he'll have some ideas when he gets back.
Fri, Aug 13, 2021, 02:45:12 - nightowlaz: <@pdurbin:matrix.org "nightowlaz: I keep meaning to te..."> oh okay ... thanks so much for the reply .. i still haven't gotten it completely working, close but not there üôÇ
Fri, Aug 13, 2021, 05:44:09 - pacian: General Question: If an institution decided to implement SSO, can we anticipate any lost functionality from Dataverse i.e API function from Researchers or any other functionality?
Fri, Aug 13, 2021, 10:09:58 - pdurbin: pacian: I feel like SSO could mean either Shibboleth or OIDC. Which one were you thinking about using?
Fri, Aug 13, 2021, 10:10:28 - pdurbin: nightowlaz: close sounds good!
Fri, Aug 13, 2021, 10:27:20 - analia-s: Hi all! I need to know how to upload files that exceed the file upload limit. Thanks!
Fri, Aug 13, 2021, 10:32:17 - pdurbin: analia-s: generally, you'll want to talk to the people who run the Dataverse installation you're using. Sometimes people have good luck with breaking their files into pieces but I've never tried this myself.
Fri, Aug 13, 2021, 10:39:42 - analia-s: I am that person, and we are doing tests in a dataverse that we installed, we would like to know how to proceed in any case that we must carry out the load. I know there is a trick, but I don't know its procedure
Fri, Aug 13, 2021, 10:40:14 - pdurbin: Oh! Are you asking how to configure Dataverse to raise the limit?
Fri, Aug 13, 2021, 10:41:07 - pdurbin: That's :MaxFileUploadSizeInBytes - https://guides.dataverse.org/en/5.6/installation/config.html#maxfileuploadsizeinbytes
Fri, Aug 13, 2021, 10:41:17 - pdurbin: Apologies if I misunderstand.
Fri, Aug 13, 2021, 10:44:15 - analia-s: thanks! but, I already increased the limit to 4GB. But if there may be research files of 15GB or more and I would like to know how to upload them from the server or ftp
Fri, Aug 13, 2021, 10:47:25 - pdurbin: Ooooh, I see. Yes, you probably need to look at timeouts and such. Are you running Apache?
Fri, Aug 13, 2021, 10:52:29 - pdurbin: Also, what do you have for http.request-timeout-seconds? This: https://guides.dataverse.org/en/5.6/installation/config.html#http-request-timeout-seconds
Fri, Aug 13, 2021, 10:53:41 - pdurbin: I must say that for files as large as 15 GB, the best solution we have right now is direct upload to S3: https://guides.dataverse.org/en/5.6/developers/big-data-support.html#s3-direct-upload-and-download
Fri, Aug 13, 2021, 10:53:50 - pdurbin: But you have to be using S3 for storage.
Fri, Aug 13, 2021, 10:54:34 - pdurbin: Which we are for Harvard Dataverse, and direct upload (and download) is great. The idea is for the client to talk to S3 directly (after a brief handoff from Dataverse).
Fri, Aug 13, 2021, 10:58:13 - analia-s: I already configured the timeout, but I need to know if there is another way to upload files that exceed the limit, I know there is a trick but they did not explain its procedure to me.
Fri, Aug 13, 2021, 11:27:41 - pdurbin: Well, like I said, you can switch to S3 if you aren't already on S3.
Fri, Aug 13, 2021, 11:27:57 - pdurbin: There's also stuff that's in development like Globus support.
Fri, Aug 13, 2021, 11:43:29 - analia-s: Thanks!
Fri, Aug 13, 2021, 11:46:38 - pdurbin: Sure. For more opinions you can also try the mailing list: https://groups.google.com/g/dataverse-community
Fri, Aug 13, 2021, 16:47:39 - pdurbin: I'm heading out. Have a great weekend, everyone!
Mon, Aug 16, 2021, 07:09:24 - pacian: Dear Philip and Dataverse Community,

Our current Test Dataverse Environment for Researchers Only

VMware Test Environment running Dataverse version 5.5 (Public port 443 only)
All other ports, i.e., 4848, is accessible only through the university VPN 
Standard out-of-the-box configuration and settings with Make Data Count and File Previewer
Local Dataverse Authentication (soon to test SSo (OIDC)
Questions relating to SSO: SAML version 2.0 / OIDC

Please note: We have determined that we will use OIDC for our SSO. We also anticipate our production environment to be very similar to our test environment.

Given the above details for our Dataverse Test Environment, we are trying to determine if our researchers will be able to utilize API's with the use of the API tokens  should we implement SSO (OIDC)

Thank you in advance,

Regards,



Richard Dennis

Special Advisor - Data Steward

Copenhagen University Library
Mon, Aug 16, 2021, 11:11:35 - pdurbin: pacian: yes, your OIDC users will be able to use API tokens.
Mon, Aug 16, 2021, 11:12:05 - pdurbin: (All users can use API tokens.)
Tue, Aug 17, 2021, 03:38:09 - Frederic Beck joined the room
Tue, Aug 17, 2021, 03:40:10 - Frederic Beck: Hello
We have a dataverse instance running installed via the dataverse-ansible playbook
After some network changes (IP address), we ran again the playbook to adapt the instance to the new parameters
However, the interface does not display anymore our dataverses and datasets, but they are stil in the DB
Tue, Aug 17, 2021, 10:25:03 - pdurbin: Frederic Beck: hmm. Maybe you need to reindex? https://guides.dataverse.org/en/5.6/admin/solr-search-index.html#full-reindex
Tue, Aug 17, 2021, 10:29:08 - Frederic Beck: I thought of something like that, I tried to reinstall the solr part but did not reindex yet, I'll give it a try as soon as the entworking issues are solved
Tue, Aug 17, 2021, 10:30:12 - Frederic Beck: thanks
Tue, Aug 17, 2021, 10:34:49 - pdurbin: Cool. Also, Don Sizemore can tell us more about dataverse-ansible but I think it's designed to only run once when you're first setting up the server. I've never run in twice on the same server.
Tue, Aug 17, 2021, 10:36:26 - Don Sizemore: it was designed (and is mostly used) for initial installation, but offers Ansible tags for particular tasks (like "solr")
Tue, Aug 17, 2021, 14:53:02 - pdurbin: poikilotherm: thanks for https://github.com/IQSS/dataverse/pull/7695 . I just pushed a fix so the docs will build. What's the easiest way for me to FACELETS_REFRESH_PERIOD? Hack on domain.xml? And add a system property?
Tue, Aug 17, 2021, 15:57:31 - pdurbin: It works!
Tue, Aug 17, 2021, 15:57:48 - pdurbin: asadmin create-system-properties "dataverse.jsf.refresh-period=1"
Tue, Aug 17, 2021, 16:49:38 - poikilotherm: Very nice
Tue, Aug 17, 2021, 16:49:45 - poikilotherm: Thx for the docs fix
Tue, Aug 17, 2021, 16:50:43 - pdurbin: Sure. I pushed a couple more commits and moved it to QA. Can't wait to see it merged. Thanks again.
Tue, Aug 17, 2021, 16:51:33 - poikilotherm: ü§©
Tue, Aug 17, 2021, 16:51:43 - poikilotherm: Great when sth makes DX better
Tue, Aug 17, 2021, 16:52:26 - poikilotherm: Devs matter üòé
Tue, Aug 17, 2021, 16:52:42 - pdurbin: üòÑ
Wed, Aug 18, 2021, 11:00:34 - pdurbin: poikilotherm: merged! Thanks!
Wed, Aug 18, 2021, 11:01:40 - poikilotherm: pdurbin: ü§©
Wed, Aug 18, 2021, 11:02:41 - poikilotherm: I'd be grateful for comments on https://github.com/IQSS/dataverse/issues/8064
Wed, Aug 18, 2021, 11:03:40 - pdurbin: I saw that. What I don't remember is what our policy is or if we even wrote it down.
Wed, Aug 18, 2021, 11:04:15 - pdurbin: I see you mentioned security fixes, which are always important.
Wed, Aug 18, 2021, 11:04:41 - pdurbin: I only just upgraded from 2020.6 yesterday üòÑ
Wed, Aug 18, 2021, 12:34:08 - poikilotherm: Well last time Gustavo didn't want frequent updates
Wed, Aug 18, 2021, 12:34:48 - poikilotherm: But as this might fix a bug for people, it might be good to have this changed  for the release that happend 2 weeks ago
Wed, Aug 18, 2021, 12:35:19 - poikilotherm: Most people are a bit slow on doing updates, so good chance they won't be hit by the bug
Wed, Aug 18, 2021, 12:48:04 - pdurbin: I'm fine with a pull request. Not sure what others think. I guess installations are free to use newer Payara if they want.
Wed, Aug 18, 2021, 13:40:10 - poikilotherm: Nice! PR merged with develop, forked branch automatically updated, new image build and pushed.
Wed, Aug 18, 2021, 13:42:58 - poikilotherm: It still would be really nice to have this in upstream... Less headache how add the Image Generation Bits to master without adding everything else from develop...
Wed, Aug 18, 2021, 13:49:57 - pdurbin: I'm not sure what you're talking about. üòÄ
Wed, Aug 18, 2021, 14:01:53 - Camilo Zapata joined the room
Wed, Aug 18, 2021, 14:42:19 - poikilotherm: https://github.com/gdcc/dataverse/actions/runs/1144064783
Wed, Aug 18, 2021, 14:44:49 - pdurbin: Ah, nice. Yes, but is IQSS ready to publish Docker images? Maybe we should start using them first. üòÉ
Wed, Aug 18, 2021, 15:01:12 - pdurbin: poikilotherm: heads up about this: https://github.com/IQSS/dataverse/pull/7946/commits/aa7c7b9684d3dc24bb225776a1acdbd401d178ec
Wed, Aug 18, 2021, 15:02:36 - poikilotherm: üòÇ
Wed, Aug 18, 2021, 15:03:02 - pdurbin: I'm just the messenger.
Wed, Aug 18, 2021, 15:03:32 - poikilotherm: Well do as you folks please. I have a strong opinion about that, but we need consensus...
Wed, Aug 18, 2021, 16:21:49 - pdurbin: poikilotherm: you probably don't like this either:

curl -X PUT http://localhost:8080/api/admin/settings/:CVocConf --upload-file conf/cvoc/cvoc-conf.singlevocab.json
Wed, Aug 18, 2021, 16:30:43 - poikilotherm: ü§∑‚Äç‚ôÇÔ∏è
Wed, Aug 18, 2021, 16:30:52 - poikilotherm: What shall I say
Wed, Aug 18, 2021, 16:30:58 - pdurbin: heh
Wed, Aug 18, 2021, 16:31:10 - poikilotherm: Nothing I can do about this
Wed, Aug 18, 2021, 16:32:04 - poikilotherm: I thought about dropping all the mpconfig stuff
Wed, Aug 18, 2021, 16:32:11 - poikilotherm: No one seems to be interested
Wed, Aug 18, 2021, 16:32:37 - poikilotherm: Maybe it's better to just make a custom workaround, let Dataverse reas some yaml files or so
Wed, Aug 18, 2021, 16:33:07 - pdurbin: Here's how that JSON file looks (pretty long and complicated if you ask me): https://github.com/IQSS/dataverse/blob/cf75880f4d43d32f2014bfe297346092ee159703/conf/cvoc/cvoc-conf.singlevocab.json
Wed, Aug 18, 2021, 16:33:13 - poikilotherm: Let the others play with whatever they  see as a best fit and create a workaround for poor cloud people
Wed, Aug 18, 2021, 16:34:08 - pdurbin: I'm very happy with mp config for the jsf thing you just added.
Wed, Aug 18, 2021, 16:34:24 - poikilotherm: Yeah. That can survive
Wed, Aug 18, 2021, 16:34:55 - poikilotherm: But the whole db setting thing might not work with mpconfig
Wed, Aug 18, 2021, 16:35:36 - poikilotherm: Mpconfig forces to be somewhat structured. The way settings are done today is not structurd
Wed, Aug 18, 2021, 16:35:51 - poikilotherm: So seems not very compatible
Wed, Aug 18, 2021, 16:35:52 - pdurbin: yeah
Wed, Aug 18, 2021, 16:36:04 - pdurbin: I guess we like our flexibility.
Wed, Aug 18, 2021, 16:36:16 - poikilotherm: So maybe just skip that and let it read some file
Wed, Aug 18, 2021, 16:37:12 - poikilotherm: No one seems to really care about architecture or tech debts anyway, so maybe I shouldn't. 
Wed, Aug 18, 2021, 16:37:29 - pdurbin: Heh. Welcome to my world.
Wed, Aug 18, 2021, 16:38:14 - pdurbin: The tech debt we occasionally pay down may not be stuff you find interesting.
Wed, Aug 18, 2021, 16:38:21 - pdurbin: I don't always find it interesting.
Wed, Aug 18, 2021, 16:38:50 - poikilotherm: Yeah. I know. Moving Java deps around is kinda boring...
Wed, Aug 18, 2021, 16:39:17 - pdurbin: Not sure if I can think of any examples right now.
Wed, Aug 18, 2021, 16:39:36 - poikilotherm: There are countless places of tech debt
Wed, Aug 18, 2021, 16:39:46 - poikilotherm: In all kinds of flavors
Wed, Aug 18, 2021, 16:40:07 - poikilotherm: Solving one is usually creating a new, altered one
Wed, Aug 18, 2021, 16:40:23 - poikilotherm: And often it's like opening Pandora's üéÅ
Wed, Aug 18, 2021, 16:42:49 - pdurbin: Here's one that's not very actionable at the moment: https://github.com/IQSS/dataverse/issues/2085
Wed, Aug 18, 2021, 16:42:52 - poikilotherm: However. Maybe I should just create some workarounds for the most important stuff we use and that's it then. I still believe in Dataverse in containers, so maybe one day I actually find a few workarounds to make it self contained. Just deploy and make it configure itself.
Wed, Aug 18, 2021, 16:43:42 - poikilotherm: Hahaha yeah I stumbled those a few times. An interesting piece of code. 
Wed, Aug 18, 2021, 16:44:13 - pdurbin: As always, please keep letting us know how to keep you unblocked.
Wed, Aug 18, 2021, 16:44:42 - poikilotherm: I also was pretty amused by the fact that some people rather use a python daemon next to Dataverse vor Crossref Pid instead of adding another provider
Wed, Aug 18, 2021, 16:44:54 - poikilotherm: Oh I'm fine. 
Wed, Aug 18, 2021, 16:45:24 - poikilotherm: Forking seems like a good thing sometimes. Pact with the devil, you know
Wed, Aug 18, 2021, 16:45:26 - pdurbin: Yeah about the python.
Wed, Aug 18, 2021, 16:46:07 - pdurbin: Might be nice for that thing to be open sourced at least. üòÉ
Wed, Aug 18, 2021, 16:46:24 - poikilotherm: üòÖ
Wed, Aug 18, 2021, 16:47:04 - poikilotherm: Maybe some poor dev should just go ahead and make the provider stuff pluggable with Interfaces, so people can develop a provider and use it.
Wed, Aug 18, 2021, 16:47:52 - poikilotherm: Guess it would open pandoras box again
Wed, Aug 18, 2021, 16:49:52 - pdurbin: I don't have to tell you that this issue already exists: Plugin mechanism to support further PID providers #4106 
Wed, Aug 18, 2021, 16:50:02 - poikilotherm: ü§´
Wed, Aug 18, 2021, 16:50:06 - poikilotherm: ü§ê
Wed, Aug 18, 2021, 16:50:13 - poikilotherm: üôàüôâüôä
Wed, Aug 18, 2021, 16:50:33 - poikilotherm: üòÅ
Wed, Aug 18, 2021, 16:51:11 - poikilotherm: I love the three little üêí
Wed, Aug 18, 2021, 16:52:27 - poikilotherm: These days there are so many good opportunities to use em. 
Wed, Aug 18, 2021, 16:54:45 - pdurbin: yeah
Fri, Aug 20, 2021, 09:38:37 - alejandra.tenorio joined the room
Fri, Aug 20, 2021, 09:39:36 - alejandra.tenorio: Hi guys, good morning
Fri, Aug 20, 2021, 09:40:18 - alejandra.tenorio: I have a question, could you help me?
Fri, Aug 20, 2021, 09:41:19 - alejandra.tenorio: Is there a way to disable notifications for a role?
Fri, Aug 20, 2021, 10:04:47 - pdurbin: alejandra.tenorio: not really. They're all hard-coded. But you are very welcome to open an issue about the notification you want to be disabled.
Fri, Aug 20, 2021, 10:13:24 - alejandra.tenorio: thanks pdurbin , I'll discuss with my team, it may not be necessary
Fri, Aug 20, 2021, 10:13:58 - alejandra.tenorio: nice weekend
Fri, Aug 20, 2021, 10:21:02 - pdurbin: you too!
Mon, Aug 23, 2021, 10:17:19 - pdurbin: I hope everyone had a good weekend. First day back at the office for me!
Tue, Aug 24, 2021, 10:59:50 - pdurbin: Time for the community call: https://dataverse.org/community-calls
Wed, Aug 25, 2021, 04:52:44 - hossamzalabany: Good Morning everybody I have a question regarding downloading large files from our dataverse instance > 2 G.B as the download terminates after 2.3 G. and restarts again, on the server side I found this Error in the logs
 [2021-08-25T10:19:58.106+0200] [Payara 5.2020.6] [SEVERE] [] [org.glassfish.jersey.server.ServerRuntime$Responder] [tid: _ThreadID=74$  An I/O error has occurred while writing a response message entity to the container output stream.

is there is any setting to change in Dataverse to fix that or it is our network causing the problem ?
Wed, Aug 25, 2021, 05:32:11 - hossamzalabany: via Firefox it went to the end of download but in the last 1%, it failed. 
here is the full log 

[Payara 5.2020.6] [SEVERE] [] [org.glassfish.jersey.server.ServerRuntime$Responder] [tid: _ThreadID=72 _ThreadName=http-thread-pool::http-listener-1(2)] [timeMillis: 1629883736043] [levelValue: 1000] [[
  An I/O error has occurred while writing a response message entity to the container output stream.
org.glassfish.jersey.server.internal.process.MappableException: java.io.IOException: java.lang.InterruptedException
        at org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:67)
        at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)
        at org.glassfish.jersey.message.internal.MessageBodyFactory.writeTo(MessageBodyFactory.java:1116)
        at org.glassfish.jersey.server.ServerRuntime$Responder.writeResponse(ServerRuntime.java:638)
        at org.glassfish.jersey.server.ServerRuntime$Responder.processResponse(ServerRuntime.java:371)
        at org.glassfish.jersey.server.ServerRuntime$Responder.process(ServerRuntime.java:361)
        at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:256)
        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)
        at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)
        at org.glassfish.jersey.internal.Errors.process(Errors.java:292)
        at org.glassfish.jersey.internal.Errors.process(Errors.java:274)
        at org.glassfish.jersey.internal.Errors.process(Errors.java:244)
        at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)
        at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:232)
        at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:680)
        at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)
        at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)
        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:366)
        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:319)
        at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)
        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1636)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:331)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
        at org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:226)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
        at edu.harvard.iq.dataverse.api.ApiBlockingFilter.doFilter(ApiBlockingFilter.java:168)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
        at edu.harvard.iq.dataverse.api.ApiRouter.doFilter(ApiRouter.java:30)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
        at org.apache.catalina.core.ApplicationDispatcher.doInvoke(ApplicationDispatcher.java:816)
        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:683)
        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:527)
        at org.apache.catalina.core.ApplicationDispatcher.doDispatch(ApplicationDispatcher.java:497)
        at org.apache.catalina.core.ApplicationDispatcher.dispatch(ApplicationDispatcher.java:379)
        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:329)
        at edu.harvard.iq.dataverse.api.ApiRouter.doFilter(ApiRouter.java:34)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:253)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:211)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:257)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:161)
        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:757)
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:577)
        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:158)
        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:371)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:238)
        at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:182)
        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:156)
        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:218)
        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:95)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:260)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:177)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:109)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:88)
        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:53)
        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:524)
        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:89)
        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:94)
        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:33)
        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:114)
        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:569)
        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:549)
        at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.io.IOException: java.lang.InterruptedException
        at org.glassfish.grizzly.utils.Exceptions.makeIOException(Exceptions.java:58)
        at org.glassfish.grizzly.http.io.OutputBuffer.blockAfterWriteIfNeeded(OutputBuffer.java:1003)
        at org.glassfish.grizzly.http.io.OutputBuffer.write(OutputBuffer.java:701)
        at org.apache.catalina.connector.OutputBuffer.writeBytes(OutputBuffer.java:338)
        at org.apache.catalina.connector.OutputBuffer.write(OutputBuffer.java:325)
        at org.apache.catalina.connector.CoyoteOutputStream.write(CoyoteOutputStream.java:158)
        at org.glassfish.jersey.servlet.internal.ResponseWriter$NonCloseableOutputStreamWrapper.write(ResponseWriter.java:301)
        at org.glassfish.jersey.message.internal.CommittingOutputStream.write(CommittingOutputStream.java:200)
        at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$UnCloseableOutputStream.write(WriterInterceptorExecutor.java:276)
        at edu.harvard.iq.dataverse.api.DownloadInstanceWriter.writeTo(DownloadInstanceWriter.java:441)
        at edu.harvard.iq.dataverse.api.DownloadInstanceWriter.writeTo(DownloadInstanceWriter.java:54)
        at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.invokeWriteTo(WriterInterceptorExecutor.java:242)
        at org.glassfish.jersey.message.internal.WriterInterceptorExecutor$TerminalWriterInterceptor.aroundWriteTo(WriterInterceptorExecutor.java:227)
        at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)
        at org.glassfish.jersey.server.internal.JsonWithPaddingInterceptor.aroundWriteTo(JsonWithPaddingInterceptor.java:85)
        at org.glassfish.jersey.message.internal.WriterInterceptorExecutor.proceed(WriterInterceptorExecutor.java:139)
        at org.glassfish.jersey.server.internal.MappableExceptionWrapperInterceptor.aroundWriteTo(MappableExceptionWrapperInterceptor.java:61)
        ... 67 more
Caused by: java.lang.InterruptedException
        at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1081)
        at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1369)
        at org.glassfish.grizzly.impl.SafeFutureImpl$Sync.innerGet(SafeFutureImpl.java:332)
        at org.glassfish.grizzly.impl.SafeFutureImpl.get(SafeFutureImpl.java:240)
        at org.glassfish.grizzly.http.io.OutputBuffer.blockAfterWriteIfNeeded(OutputBuffer.java:988)
        ... 82 more
]]
Wed, Aug 25, 2021, 09:27:10 - pdurbin: hossamzalabany: what version of Dataverse are you running?
Wed, Aug 25, 2021, 09:27:58 - pdurbin: (Knowing this helps us find the exact line numbers you posted.)
Wed, Aug 25, 2021, 09:36:53 - pdurbin: I guess I'd suggest looking at this setting: https://guides.dataverse.org/en/5.6/installation/config.html#http-request-timeout-seconds
Thu, Aug 26, 2021, 16:46:43 - pdurbin: I'm taking tomorrow (Friday) off. Have a nice weekend everyone!
Mon, Aug 30, 2021, 12:13:27 - nightowlaz: Message deleted
Wed, Sep 1, 2021, 09:54:44 - poikilotherm sent an image. (Media omitted)
Wed, Sep 1, 2021, 10:00:47 - pdurbin: Shoot, it's awfully quiet on the plains here.
Wed, Sep 1, 2021, 11:24:55 - poikilotherm: pdurbin: Want some questions?
Wed, Sep 1, 2021, 11:26:31 - pdurbin: Well, how interested are you in https://github.com/IQSS/dataverse/issues/6937 ? üòÑ
Wed, Sep 1, 2021, 11:27:21 - poikilotherm: Would be cool
Wed, Sep 1, 2021, 11:27:37 - poikilotherm: Might help people with aborting downloads
Wed, Sep 1, 2021, 11:28:53 - pdurbin: Yeah, the goal is to support this as fully as possible: https://developer.mozilla.org/en-US/docs/Web/HTTP/Range_requests
Wed, Sep 1, 2021, 11:29:27 - poikilotherm: Very nice!
Wed, Sep 1, 2021, 11:29:50 - poikilotherm: Hopefully Java is already providing some support classes to assist you with this
Wed, Sep 1, 2021, 11:31:28 - pdurbin: So far it's mostly outstream.write stuff.
Wed, Sep 1, 2021, 11:31:52 - pdurbin: In our DownloadInstanceWriter.
Wed, Sep 1, 2021, 11:31:57 - poikilotherm: Oh isn't java.nio there to help ya?
Wed, Sep 1, 2021, 11:33:03 - pdurbin: Well, I'm trying to wedge this into existing code.
Wed, Sep 1, 2021, 11:34:01 - pdurbin: Anyway, please feel free to ask your question. üòÑ
Wed, Sep 1, 2021, 11:36:21 - poikilotherm: Aren't file downloads happening via JAXRS endpoints?
Wed, Sep 1, 2021, 11:37:02 - pdurbin: Yes, Access.java.
Wed, Sep 1, 2021, 11:37:41 - pdurbin: But it returns a DownloadInstance.
Wed, Sep 1, 2021, 11:37:51 - poikilotherm: How about a filter?
Wed, Sep 1, 2021, 11:38:00 - poikilotherm: https://github.com/heruan/jaxrs-range-filter/tree/master/src/main/java/to/lova/jaxrs/filter
Wed, Sep 1, 2021, 11:38:27 - poikilotherm: (No need to use the dep, just copy the code and leave a hint where this is from)
Wed, Sep 1, 2021, 11:41:12 - pdurbin: Interesting. For now I'm going to keep trying to wedge it in. Making decent progress. Obviously, if you have the cycles to put up a pull request with this filter approach, you're very welcome to.
Wed, Sep 1, 2021, 11:42:16 - poikilotherm: Oh just wanted to throw in some thoughts
Wed, Sep 1, 2021, 11:42:34 - poikilotherm: Filters have disadvantages
Wed, Sep 1, 2021, 11:44:17 - poikilotherm: I'm currently decoupling (ripping apart) the TSV metadata schema file parsing logic from the API endpoints to make them 1. testable, 2. reusable in other tests (Solr schema management)
Wed, Sep 1, 2021, 11:44:32 - pdurbin: Nice!
Wed, Sep 1, 2021, 11:44:38 - poikilotherm: Just wondering if this should go into a separate PR
Wed, Sep 1, 2021, 11:45:26 - poikilotherm: It would be a nice building block on its own
Wed, Sep 1, 2021, 11:45:45 - poikilotherm: On the other hand it does not need to be done before the Solr stuff gets its PR / merged
Wed, Sep 1, 2021, 11:45:47 - poikilotherm: WDYT
Wed, Sep 1, 2021, 11:46:31 - poikilotherm: (I anticipate your answer, but want to make sure I'm guessing correct ;-) )
Wed, Sep 1, 2021, 11:47:15 - pdurbin: You know I'll say separate PR. üòÑ
Wed, Sep 1, 2021, 11:47:25 - poikilotherm: What? Why? ü§£
Wed, Sep 1, 2021, 11:47:52 - pdurbin: Is there an issue for the TSV part?
Wed, Sep 1, 2021, 11:47:57 - poikilotherm: Nope
Wed, Sep 1, 2021, 11:48:06 - poikilotherm: (I'd make one)
Wed, Sep 1, 2021, 11:49:40 - pdurbin: Thanks.
Wed, Sep 1, 2021, 11:59:46 - poikilotherm: Now there is https://github.com/IQSS/dataverse/issues/8085
Wed, Sep 1, 2021, 13:15:50 - pdurbin: Thanks!
Wed, Sep 1, 2021, 16:10:58 - pdurbin: You gotta love how two members of the community replied to this question is less than 10 minutes! https://groups.google.com/g/dataverse-community/c/JP_oCxbZfZY/m/qTH4zm-qBQAJ
Thu, Sep 2, 2021, 10:26:06 - pdurbin: I just jumped into that thread and pointed out a fun tweet where nightowlaz got a shout out. üòÑ
Thu, Sep 2, 2021, 10:46:01 - pdurbin: poikilotherm: looking at https://github.com/IQSS/dataverse/issues/6701 I'm wondering... when I logged into HarvardKey from your Helmholtz AAI OAuth2 Authorization Server, was I using SAML to log into HarvardKey?
Thu, Sep 2, 2021, 10:52:31 - poikilotherm: pdurbin: Most likely this auth happened via eduGain, which indeed is a SAML federation. Helmholtz AAI is part of that federation
Thu, Sep 2, 2021, 10:53:17 - pdurbin: Ok, so SAML. Thanks.
Thu, Sep 2, 2021, 11:27:13 - Lincoln: One remark: just realized ..metadata info about a file using https://guides.dataverse.org/en/latest/api/native-api.html#id92 is way less than the metainfo of the same file  captured from its dataset https://guides.dataverse.org/en/latest/api/native-api.html#id45
Thu, Sep 2, 2021, 11:28:33 - Lincoln: also is there a limit for number of files in a dataset. As we are mostly not using GUI
Thu, Sep 2, 2021, 11:50:27 - pdurbin: Yes, different amounts of metadata for a file based on which API you use. Kind of weird.

For number of files in a dataset, there was a recent conversation in this issue which also mentions a recent google group thread: https://github.com/IQSS/dataverse/issues/8080
Thu, Sep 2, 2021, 13:58:24 - Lincoln: <@pdurbin:matrix.org "Yes, different amounts of metada..."> because the dataverse platform i am using is for machine learning operation , -...would be nice to have lot of files rather than their zip
Thu, Sep 2, 2021, 13:59:38 - Lincoln: i have around 1504 files and so far it works smoothly
Thu, Sep 2, 2021, 13:59:51 - Lincoln: ps ..using python interface
Thu, Sep 2, 2021, 14:03:24 - pdurbin: oh good
Thu, Sep 2, 2021, 15:01:24 - pdurbin: poikilotherm: the people want Dataverse 5.x: https://github.com/gdcc/dataverse-kubernetes/issues/224 üòÑ
Thu, Sep 2, 2021, 15:02:06 - poikilotherm: Ok
Fri, Sep 3, 2021, 10:27:04 - pdurbin: Huh, no popup from the link in "Please contact DataverseNO for assistance" at https://dataverse.no/loginpage.xhtml?redirectPage=%2Fdataverse.xhtml . Any ideas? This was reported at https://groups.google.com/g/dataverse-community/c/Kq0HB4A5FsI/m/_N_UMpfBBgAJ
Fri, Sep 3, 2021, 12:30:14 - poikilotherm: Nope, sorry
Fri, Sep 3, 2021, 12:30:46 - poikilotherm: pdurbin: you might be interested in https://github.com/IQSS/dataverse/pull/8086. Don't look now, as it's only the very first commits, but will grow over the next week ;-)
Fri, Sep 3, 2021, 14:22:21 - pdurbin: Mmm, tests.
Fri, Sep 3, 2021, 15:46:04 - poikilotherm: Yeah I thought I'd add some üòé
Fri, Sep 3, 2021, 15:46:40 - pdurbin: I'm playing around with input and output stream. Dataverse is so slow to deploy I made a little app instead.
Fri, Sep 3, 2021, 15:46:48 - pdurbin: stream*
Fri, Sep 3, 2021, 15:47:21 - pdurbin: streams*
Fri, Sep 3, 2021, 16:03:07 - poikilotherm: I am usually playing around with tests for these experiments. Found that pretty neat to include parts of Dataverse code in experiments...
Fri, Sep 3, 2021, 16:03:30 - poikilotherm: Running them from inside the IDE makes it pretty smooth
Fri, Sep 3, 2021, 16:04:05 - pdurbin: Yeah, exactly. I copied over the bits I needed to hack on. However, I wish Dataverse would simply deploy fast enough that I don't have to make a little app on the side.
Fri, Sep 3, 2021, 17:00:07 - pdurbin: Phew! Ok, I put up a pull request at least: https://github.com/IQSS/dataverse/pull/8087
Fri, Sep 3, 2021, 17:00:28 - pdurbin: Holiday here on Monday and I'm taking Tuesday off as well. Have a good weekend, all!
Mon, Sep 6, 2021, 08:02:44 - Virgile Jarrige: Hi there! 
Mon, Sep 6, 2021, 08:02:52 - Virgile Jarrige: I hope you are all doing well! :)
Mon, Sep 6, 2021, 08:04:48 - Virgile Jarrige: Does anyone know if there is a way to download a whole directory when you use the "Tree" View while looking at a dataset that has multiple files/directories ?
Mon, Sep 6, 2021, 08:05:33 - Virgile Jarrige: https://dataverse-pprd.unistra.fr/dataset.xhtml?persistentId=doi:10.80425/FK2/XHRHUC (well it's DV 5.3, so maybe it has evolved on this?)
Tue, Sep 7, 2021, 13:02:36 - Brian Cassidy joined the room
Tue, Sep 7, 2021, 13:08:14 - Brian Cassidy: Heyas! Is there somewhere in the docs that says what permissions a user has by default after they authenticate?
Wed, Sep 8, 2021, 03:09:02 - Virgile Jarrige: Brian Cassidy: Hi
It depends on how you configure it. By default an authenticated user has the same rights as a unauthenticated user. Reading Only.
But then you can set permissions sub-dataverse per sub-dataverse.
If you use Shibboleth you can set permissions for a whole group.
https://guides.dataverse.org/en/latest/user/account.html?highlight=permissions#remote-authentication
Wed, Sep 8, 2021, 03:12:44 - Virgile Jarrige: https://guides.dataverse.org/en/latest/installation/config.html?#root-dataverse-collection-permissions
Wed, Sep 8, 2021, 09:37:26 - Brian Cassidy: <@virgile.jarrige:matrix.org "Brian Cassidy: Hi"> Interesting. One of our managers is claiming a shib-based user login is allowing them to view unpublished datasets -- i'm going to look at the specific user/dataverse permissions then circle back here.
Wed, Sep 8, 2021, 10:15:37 - pdurbin: Virgile Jarrige: it's possible to download all files as a zip if that's what you mean.
Wed, Sep 8, 2021, 10:16:20 - Virgile Jarrige: pdurbin: i'd like to download just a branch of the tree ^^
Wed, Sep 8, 2021, 10:16:45 - pdurbin: Ah, sorry, that's not supported. Might be a nice feature though. You're welcome to create an issue.
Wed, Sep 8, 2021, 10:17:24 - Virgile Jarrige: I wanted to write one about it, but was not sure 100% if it was already implemented or not (or planned). Thanks Phil!
Wed, Sep 8, 2021, 10:17:57 - pdurbin: Sure.
Wed, Sep 8, 2021, 10:19:32 - pdurbin: Virgile Jarrige: it looks like there's a related issue here: https://github.com/IQSS/dataverse/issues/6691
Wed, Sep 8, 2021, 10:20:25 - Virgile Jarrige: indeed ^^ and it goes even further that what i had in mind ;)
Wed, Sep 8, 2021, 10:21:28 - pdurbin: Please feel free to leave a comment so we know you're interested in it.
Wed, Sep 8, 2021, 10:21:37 - Virgile Jarrige: will do! :) ----- done ^^
Wed, Sep 8, 2021, 10:28:20 - pdurbin: Nice. Thanks. Are you mostly interested in download? Or also editing?
Wed, Sep 8, 2021, 10:29:07 - Virgile Jarrige: the researcher i'm mentioning in the issue was talking mostly about download
Wed, Sep 8, 2021, 10:30:07 - pdurbin: Gotcha. I only ask because often we try to split issues into smaller chunks. Maybe just download first. Maybe just via API at first. That sort of thing.
Wed, Sep 8, 2021, 10:30:39 - Virgile Jarrige: it indeed looks like 2 feature requests to me
Wed, Sep 8, 2021, 10:30:54 - pdurbin: yeah
Wed, Sep 8, 2021, 10:34:22 - Virgile Jarrige: I updated my message to mention my feeling about the priority on the download feature
Wed, Sep 8, 2021, 10:34:45 - pdurbin: Looks great. Thanks.
Wed, Sep 8, 2021, 10:35:04 - pdurbin: Now we just need a pull request. üòÑ
Wed, Sep 8, 2021, 10:35:55 - Philipp: Hello! I'm struggling with a somewhat weird problem:

In June 2021, we linked by accicent sub-dataverse A  to sub-dataverse B.
The result was that the sub-dataverse A was displayed as a dataverse within the sub-dataverse B, but the individual sub-dataverse A file were not displayed. The reason for the latter may have been that we did not re-index solr after the linking.

We removed the dataverse link using this API call:

Unlink a Dataverse Collection
Removes a link between a Dataverse collection and another Dataverse collection. Only accessible to superusers.

curl -H "X-Dataverse-key: $API_TOKEN" -X DELETE http://$SERVER/api/dataverses/$linked-dataverse-alias/deleteLink/$linking-dataverse-alias

The link was removed, and the sub-dataverse A did not display anymore in the sub-dataverse B.

However, after the upgrade to version 5.6 in August, all the sub-dataverse A datasets were displayed in the sub-dataverse B. It seems that the delete dataverse link call did only remove the link at the dataverse level, but not at the dataset level.

I then removed the links to all the sub-dataverse A datasets in the sub-dataverse A by combining API calls in a bash file. This worked, and the files were not displaying anymore.

But, today when I checked again, the files are suddenly displaying again! How can we fix that??

pdurbin : If you can spare 5 min, I could show you the situation on shared screen in Zoom. Thanks!
Wed, Sep 8, 2021, 10:36:59 - Virgile Jarrige: @pdurbin If i'm allowed to, i will gladly make two (one for each feature)
Wed, Sep 8, 2021, 10:37:45 - pdurbin: Philipp: yikes. It would be best to get a support ticket started by emailing support@dataverse.org . Have you done this already?
Wed, Sep 8, 2021, 10:38:40 - pdurbin: Virgile Jarrige: sure! I'd say the download one first. And API only first, if that makes sense. Pass in the path you want.
Wed, Sep 8, 2021, 10:40:29 - Philipp: pdurbin: No, I haven't. I'll do that. The collection manager wants me to remove the links right away. Could you have a quick look at the collection before I remove the links? I don't know if/when they will pop up again.
Wed, Sep 8, 2021, 10:40:50 - Virgile Jarrige: alright, i'll consult the researchers for the API part before posting thou ^^ I think it's more about "Oh, i'm browsing that dataset and it looks interesting. Oh I only need a part of it, where can i download this part?" 
Wed, Sep 8, 2021, 10:41:16 - Philipp: pdurbin: Here's the collection: https://dataverse.no/dataverse/hvl as you see, it links to all the TROLLing datasets...
Wed, Sep 8, 2021, 10:42:26 - pdurbin: And it's only supposed to have 3 or so HVL datasets?
Wed, Sep 8, 2021, 10:42:53 - Philipp: Yes, exactly.
Wed, Sep 8, 2021, 10:43:35 - Philipp: Do you know if the link dataverse feature is meant to create links only between dataverses or also to the files in the linke dataverse?
Wed, Sep 8, 2021, 10:43:58 - pdurbin: I don't know. I haven't worked on it lately.
Wed, Sep 8, 2021, 10:44:27 - pdurbin: Do you have a sense of how long it would take to delete your Solr index and reindex the whole thing? And do you think that would fix it?
Wed, Sep 8, 2021, 10:44:58 - Virgile Jarrige: I was about to suggest the same thing ;o
Wed, Sep 8, 2021, 10:45:08 - Philipp: I don't know, and unfortunately our system admin is on vacation.
Wed, Sep 8, 2021, 10:45:50 - pdurbin: Maybe you could try reindexing one of the TROLLing datasets that shows up to see if it disappears from the HVL dataverse.
Wed, Sep 8, 2021, 10:46:28 - pdurbin: https://guides.dataverse.org/en/5.6/admin/solr-search-index.html#reindexing-datasets
Wed, Sep 8, 2021, 10:47:06 - pdurbin: I guess what I'm wondering is if it's a true link or just something leftover that's still in Solr.
Wed, Sep 8, 2021, 10:47:19 - pdurbin: Because you said you did some unlinking already.
Wed, Sep 8, 2021, 10:47:32 - Philipp: Is this something I can do as a superuser or do I need system admin access? 
Wed, Sep 8, 2021, 10:47:57 - pdurbin: You need to be able to ssh into the server. So probably system admin access.
Wed, Sep 8, 2021, 10:49:19 - Philipp: I see. I'll ask Obi's colleague tomorrow. Should I remove the links before reindexing?
Wed, Sep 8, 2021, 10:49:44 - pdurbin: Yes. You can also try the "listLinks" API call.
Wed, Sep 8, 2021, 10:50:17 - pdurbin: Here it is: https://github.com/IQSS/dataverse/blob/v5.6/src/main/java/edu/harvard/iq/dataverse/api/Dataverses.java#L1099
Wed, Sep 8, 2021, 10:50:44 - pdurbin: I feel like I talked pointed this out to someone recently. And I'm not sure if it's documented.
Wed, Sep 8, 2021, 10:51:03 - pdurbin: But it should show if links still exist or not.
Wed, Sep 8, 2021, 10:52:42 - Philipp: Yes, I think I asked about it, and made this pull request :)
https://github.com/IQSS/dataverse/pull/8024/
Wed, Sep 8, 2021, 10:53:09 - pdurbin: Ha! Yes!
Wed, Sep 8, 2021, 10:56:35 - Philipp sent an image. (Media omitted)
Wed, Sep 8, 2021, 10:56:38 - Philipp: According to the API call, the links exist. But the weird thing is that the only the files are linked, not the dataverse:


Wed, Sep 8, 2021, 10:56:38 - pdurbin: Yeah, it looks like we talked about it here just before you made that pull request (thanks!).
Wed, Sep 8, 2021, 10:57:45 - pdurbin: You're running "list links" on the hvl dataverse?
Wed, Sep 8, 2021, 10:59:42 - Philipp: yes
Wed, Sep 8, 2021, 10:59:54 - Philipp: no, I have deleted the links: https://dataverse.no/dataverse/hvl
Wed, Sep 8, 2021, 11:00:15 - pdurbin: Oh! You fixed it!
Wed, Sep 8, 2021, 11:00:50 - Philipp: Yes, I have done that before. But when I checked today, they suddenly were there again!!
Wed, Sep 8, 2021, 11:01:02 - pdurbin: Freaky.
Wed, Sep 8, 2021, 11:01:36 - Philipp: Yes! I'll send a ticket to support. Thanks for your help!
Wed, Sep 8, 2021, 11:01:47 - pdurbin: Sure! Good luck!
Wed, Sep 8, 2021, 11:12:06 - poikilotherm: Isn't there the new download API using HTML pages that might make it easy to download a branch of the tree via wet/curl/httpie?
Wed, Sep 8, 2021, 11:12:37 - pdurbin: True. That might help. Virgile Jarrige ^^
Wed, Sep 8, 2021, 11:12:48 - poikilotherm: It might not be a perfect clicky solution but it's available
Wed, Sep 8, 2021, 11:13:50 - poikilotherm: Most likely a UI solution will take a long time as UI/UX research team needs to be involved, running on short supplies I guess
Wed, Sep 8, 2021, 11:38:09 - Philipp: poikilotherm: Could you elaborate a little bit? I couldn't find any information about this in the API guide.
Wed, Sep 8, 2021, 11:39:33 - pdurbin: Here you go: https://guides.dataverse.org/en/5.6/api/native-api.html#view-dataset-files-and-folders-as-a-directory-index
Wed, Sep 8, 2021, 11:40:25 - poikilotherm: pdurbin you have been 10 sec faster than me üòé
Wed, Sep 8, 2021, 11:40:43 - poikilotherm: But I can add this https://github.com/IQSS/dataverse/issues/7948
Wed, Sep 8, 2021, 11:41:13 - poikilotherm: Currently it's a bit cumbersome to craft the API URL...
Wed, Sep 8, 2021, 11:41:44 - poikilotherm: And I can add that this feature is available since 5.5 with a necessary fix in 5.6 IIRC
Wed, Sep 8, 2021, 11:42:15 - Philipp: Thanks!
Wed, Sep 8, 2021, 11:50:03 - Philipp: Could you help me include correctly the folder, version, original=true parameters into the API call:

curl ${SERVER_URL}/api/datasets/:persistentId/dirindex?persistentId=doi:${PERSISTENT_ID}

Thanks!

Wed, Sep 8, 2021, 11:51:16 - pdurbin: Philipp: here's an example: https://dataverse.no/api/datasets/:persistentId/dirindex?persistentId=doi:10.18710/AZT6UY
Wed, Sep 8, 2021, 11:52:11 - pdurbin: If you click, you can get a subfolder, like this: https://dataverse.no/api/datasets/106017/dirindex/?version=1.0&folder=appendix
Wed, Sep 8, 2021, 11:54:50 - Philipp: Thanks! I think I understand how it works. But I still would need to click on each individual file to download all files in a folder? Or is there a way using API to download (all the files within) a given folder as a zip?
Wed, Sep 8, 2021, 11:55:59 - pdurbin: The idea is to use a command line tool like wget. Scroll down in the guides and you should see this:

> An example of a wget command line for crawling (‚Äúrecursive downloading‚Äù) of the files and folders in a dataset:
Wed, Sep 8, 2021, 11:56:30 - pdurbin: A zip is not downloaded. Rather, individual files are downloaded.
Wed, Sep 8, 2021, 11:59:46 - pdurbin: Creating a zip on the server size can be a bit expensive in terms of time and compute.
Wed, Sep 8, 2021, 11:59:59 - pdurbin: Plus if you download individual files you can resume your download.
Wed, Sep 8, 2021, 12:02:41 - Brian Cassidy: <@virgile.jarrige:matrix.org "Brian Cassidy: Hi"> Turns out it was just an incorrect assumption by our admin. Everything works as expected.
Wed, Sep 8, 2021, 12:03:17 - Philipp: Thanks, pdurbin  I'll have a closer look at it tomorrow :)
Wed, Sep 8, 2021, 13:51:06 - Lincoln: HI i have a question . I would like to know the place in code file where "ingest of tab file" takes place in dataverse5.5
Wed, Sep 8, 2021, 13:53:21 - pdurbin: Lincoln: By tab I assume you mean tsv. Here's where that was added: https://github.com/IQSS/dataverse/pull/4854
Wed, Sep 8, 2021, 13:53:51 - pdurbin: Or do you mean tabular files in general, like Stata, etc.
Wed, Sep 8, 2021, 13:54:00 - Lincoln: tabular files in general
Wed, Sep 8, 2021, 14:01:09 - pdurbin: I guess I would suggest looking at saveAndAddFilesToDataset in IngestServiceBean.
Wed, Sep 8, 2021, 14:24:30 - Lincoln: sure  thank you pdurbin 
Wed, Sep 8, 2021, 14:36:04 - poikilotherm: Oh another place where it might be neat to use the new dependency I'm introducing to parse TSV metadata Schema Files ü§ë
Wed, Sep 8, 2021, 14:38:40 - pdurbin: Heh. I'm pretty sure we just use the same Apache Commons parser that we use for CSV.
Wed, Sep 8, 2021, 14:38:57 - poikilotherm: Oh BTW pdurbin in the same go, I'm documenting the use of alternate values for CVV in the schemas. Those never made it into the docs for some reason
Wed, Sep 8, 2021, 14:39:14 - pdurbin: Huh. Ok. Thanks!
Thu, Sep 9, 2021, 14:00:08 - nightowlaz: hi all .. i realize this is prob a dumb question .. for aws s3 stores is it necessary to specify a custom endpoint url in the jvm config for direct upload? I've assumed the presigned-url is generated automatically from other parameters passed in the api call (or dvuploader, etc) but is it needed for anything else? we have them specified for our non-aws stores, but what about aws? üôÉ
Thu, Sep 9, 2021, 14:02:58 - pdurbin: If you're using actual S3 from AWS I don't think you need it, based on my reading of the docs. I think it's more for it you have your own S3-compatible storage.
Thu, Sep 9, 2021, 14:04:14 - nightowlaz: okay, that's what I thought, but having one of those days where i'm questioning everything! We have used dvuploader and the api with it and it works great, but i was just unsure if there was some other reason to have it .. and if so, what it should be! Thanks so much!
Thu, Sep 9, 2021, 14:04:46 - pdurbin: A lot faster, I assume.
Thu, Sep 9, 2021, 14:06:02 - nightowlaz: it is pretty fast, but I really need to do some comparisons with wasabi and isilon (if we ever get it working) to see the difference!
still haven't gotten that working, but we do finally have dell involved and assisting now, so hopefully soon ...
Thu, Sep 9, 2021, 14:06:22 - pdurbin: that's good
Thu, Sep 9, 2021, 14:07:05 - nightowlaz: thanks for all the help .. will report our success if it happens! :-D 
Thu, Sep 9, 2021, 14:07:22 - pdurbin: fingers crossed!
Thu, Sep 9, 2021, 14:08:00 - nightowlaz: üòÄü§û
Tue, Sep 14, 2021, 11:20:15 - poikilotherm: Dance and celebrate mighty Dataverians, today is a great day. It's Java 17 release day, providing a huge step forward in the Java eco system.

I felt like there should be an issue for this. https://github.com/IQSS/dataverse/issues/8094
Tue, Sep 14, 2021, 11:25:59 - pdurbin: Heh. Nice. Thanks.
Tue, Sep 14, 2021, 11:33:43 - poikilotherm:  A nice overview of the most prominent features by Gunnar Morning 

https://twitter.com/gunnarmorling/status/1434443970411704324?s=19
Tue, Sep 14, 2021, 11:35:05 - pdurbin: Helpful NPEs sounds good. üòÑ
Tue, Sep 14, 2021, 11:35:44 - pdurbin: Mmm, text blocks. /me drools
Tue, Sep 14, 2021, 11:36:58 - pdurbin: Mmm, records.
Tue, Sep 14, 2021, 11:37:24 - poikilotherm: So many goodies ü•∞
Tue, Sep 14, 2021, 11:38:17 - poikilotherm: Don Sizemore must be thrilled to bits about the GC optimizations ü•≥
Tue, Sep 14, 2021, 11:44:41 - poikilotherm: I also like the new type branching very much. No more crazy casting ü§ó
Tue, Sep 14, 2021, 11:57:46 - pdurbin: Should be fun to play with.
Tue, Sep 14, 2021, 12:04:25 - poikilotherm: I'm excited to see IntelliJ propose code changes when switching the language level...
Tue, Sep 14, 2021, 12:04:49 - poikilotherm: Still lots of places in Dataverse code that is Java 6/7ish
Tue, Sep 14, 2021, 12:05:06 - poikilotherm: And amazing this still works üòä and is supported by the JDK, even if mixing
Tue, Sep 14, 2021, 12:07:22 - pdurbin: Phew.
Thu, Sep 16, 2021, 13:46:18 - nightowlaz: hey all! i've upgraded our test dataverse installation to 5.6, and according to https://github.com/IQSS/dataverse/issues?q=8068 the security issue with jquery 3.4.1 should be fixed since primefaces uses 3.5.1 .. do we need to manually remove jquery 3.4.1? if so, where do I do that? 
Thu, Sep 16, 2021, 13:52:26 - pdurbin: nightowlaz: well, if you look at https://github.com/IQSS/dataverse/pull/8071/files a jQuery file is deleted. But I'm not super sure. Jim would probably know.
Thu, Sep 16, 2021, 14:10:55 - nightowlaz: i found the jquery.js file with the comment for jquery v3.4.1 .. wasn't sure if I still needed to remove a js file ... I'll run a scan and see if the issue is resolved :-)
Thu, Sep 16, 2021, 14:12:42 - pdurbin: The idea is that the old file (to delete) is preventing the newer version from being used. I haven't tried it myself.
Thu, Sep 16, 2021, 14:24:58 - nightowlaz: yea, I was looking for where that file would be located .. the note says "having 3.4.1 version in our source tree overrides that, so this PR removes it" .. so wasn't sure ... global search didn't find it
Thu, Sep 16, 2021, 14:26:39 - pdurbin: Don Sizemore: do you know? You commented on the issue.
Thu, Sep 16, 2021, 14:26:49 - nightowlaz: but the discussion seems to indicate it needs to be removed 
Thu, Sep 16, 2021, 14:28:33 - Don Sizemore: I vaguely remember testing this, but it was before our Dataverse upgrade so it's lost in my hazy memory
Thu, Sep 16, 2021, 14:29:03 - nightowlaz: glad i'm not the only one! üòÄ
Thu, Sep 16, 2021, 14:29:10 - Don Sizemore: I remember I deleted the 3.4.1 file from one of our test servers and got the desired behavior
Thu, Sep 16, 2021, 14:29:17 - nightowlaz: with a hazy memory
Thu, Sep 16, 2021, 14:29:22 - nightowlaz: where did you delete it from? 
Thu, Sep 16, 2021, 14:29:31 - Don Sizemore: which I think was just seeing "jquery-3.5.1" in the produced header?
Thu, Sep 16, 2021, 14:30:02 - Danny Brooke: Hi - I was summoned by Phil and I have info
Thu, Sep 16, 2021, 14:30:11 - nightowlaz: yay!
Thu, Sep 16, 2021, 14:30:33 - Don Sizemore: I'd look under your docroot: $ find /usr/local/payara5/glassfish/domains/domain1/docroot -type f -name jquery.js
Thu, Sep 16, 2021, 14:31:00 - nightowlaz: i found that .. and the line for jquery 3.4.1 is commented out
Thu, Sep 16, 2021, 14:31:11 - nightowlaz: but, do i also need to somehow uninstall jquery 3.4.1, too?
Thu, Sep 16, 2021, 14:31:18 - nightowlaz: so the scanner doesn't find it and think it is installed?
Thu, Sep 16, 2021, 14:31:28 - nightowlaz: or  is it just calling it from somewhere else?
Thu, Sep 16, 2021, 14:31:30 - Don Sizemore: you might have to restart Payara
Thu, Sep 16, 2021, 14:34:30 - Danny Brooke: When we upgraded Primefaces in 5.6, we expected that the newer version of jquery would get pulled from the Primefaces version defined in the pom. But there was an override, which we removed in the PR linked above. This removal will be included in 5.7 and the version of jquery will be retrieved from the pom as expected. So yes, I'd expect you'd be able to just delete that file and get the newer version of jquery (perhaps after a restart) 
Thu, Sep 16, 2021, 14:35:14 - Don Sizemore: nightowlaz: is this on your production DV? I'm still seeing 3.4.1
Thu, Sep 16, 2021, 14:35:27 - nightowlaz: where is the file to be deleted?
Thu, Sep 16, 2021, 14:35:46 - nightowlaz: no our test https://dataverse-test.lib.asu.edu 
Thu, Sep 16, 2021, 14:36:04 - Don Sizemore: oh oh on my test server it was /usr/local/payara5/glassfish/domains/domain1/applications/dataverse-5.6/resources/primefaces/jquery/jquery.js
Thu, Sep 16, 2021, 14:36:13 - Don Sizemore:  (according to my shell history)
Thu, Sep 16, 2021, 14:36:14 - Danny Brooke: https://github.com/IQSS/dataverse/blob/v5.6/src/main/webapp/resources/primefaces/jquery/jquery.js in the code 
Thu, Sep 16, 2021, 14:36:38 - Danny Brooke: (yes, as Don mentions! :)) 
Thu, Sep 16, 2021, 14:36:50 - nightowlaz: oh so i want to delete jquery.js .. i thought it was a jquery.3.4.1 or something ... i get it!
Thu, Sep 16, 2021, 14:36:54 - Don Sizemore: and I stopped Payara for good measure
Thu, Sep 16, 2021, 14:36:58 - pdurbin: God bless shell history.
Thu, Sep 16, 2021, 14:37:02 - Don Sizemore: though I don't remember whether that's necessary
Thu, Sep 16, 2021, 14:38:05 - Danny Brooke: if it weren't for shell history I'd have no memory at all, or something 
Thu, Sep 16, 2021, 14:39:05 - Don Sizemore: I'm still seeing 3.4.1 on your test server as well
Thu, Sep 16, 2021, 14:39:56 - nightowlaz sent an image. (Media omitted)
Thu, Sep 16, 2021, 14:40:06 - nightowlaz: so ... delete that file?
Thu, Sep 16, 2021, 14:40:20 - nightowlaz: and restart payara
Thu, Sep 16, 2021, 14:41:00 - Don Sizemore: I renamed mine in case I needed it
Thu, Sep 16, 2021, 14:41:11 - Don Sizemore: and IIRC Jim said you don't have to restart Payara, if you're willing to test that
Thu, Sep 16, 2021, 14:41:22 - nightowlaz: oh yea, good idea .. i copied it locally, but that's a better idea :-)
Thu, Sep 16, 2021, 14:41:35 - nightowlaz: yea, i'll test it .. 
Thu, Sep 16, 2021, 14:41:37 - Don Sizemore: I still see 3.4.1
Thu, Sep 16, 2021, 14:43:19 - nightowlaz: okay i deleted it .. sorry i'm slow :-) .. was making various copies 
Thu, Sep 16, 2021, 14:43:26 - Don Sizemore: 3.5.1!
Thu, Sep 16, 2021, 14:43:29 - nightowlaz: how are you testing ... just dev tools?
Thu, Sep 16, 2021, 14:43:39 - Don Sizemore: https://dataverse-test.lib.asu.edu/javax.faces.resource/jquery/jquery.js.xhtml?ln=primefaces&v=10.0.0
Thu, Sep 16, 2021, 14:44:18 - nightowlaz: yay .. it works! thanks so much to you all!
Thu, Sep 16, 2021, 14:44:31 - nightowlaz: re-running the scan to make sure the vulnerability doesn't appear again
Thu, Sep 16, 2021, 14:44:35 - Don Sizemore: üëçÔ∏è
Thu, Sep 16, 2021, 14:44:40 - Danny Brooke: üò∂‚Äçüå´Ô∏è
Thu, Sep 16, 2021, 14:44:48 - pdurbin: :dataverseman:
Thu, Sep 16, 2021, 14:45:06 - nightowlaz: üòÄ
Fri, Sep 17, 2021, 10:21:57 - poikilotherm: Glad Don Sizemore liked the little tech demo of Maven oneliner to start a complete dev instance :-)
Fri, Sep 17, 2021, 10:22:56 - pdurbin: Yeah, I saw you were meeting. If it weren't for an OpenDP event I'm helping plan next week I probably would have tried to crash your meeting. üòÑ
Fri, Sep 17, 2021, 10:23:13 - pdurbin: All are welcome, of course! https://opendp.org/events
Fri, Sep 17, 2021, 10:23:18 - poikilotherm: Phil Mr Zoom Bomb ‚úåÔ∏è
Fri, Sep 17, 2021, 10:23:31 - pdurbin: That's what they call me.
Fri, Sep 17, 2021, 10:29:00 - poikilotherm: Don Sizemore said it would be a good thing to do that little tech demo again. Maybe I can talk a bit about it during one of the community meetings
Fri, Sep 17, 2021, 10:44:05 - pdurbin: poikilotherm: we are always looking for topics for community calls. You can just ping Danny Brooke to suggest one.
Fri, Sep 17, 2021, 12:15:04 - nightowlaz: <@nightowlaz:matrix.org "re-running the scan to make sure..."> It's gone! The jquery vulnerability! (Scan took 17 hours!) .. YIPPPPEEEEE!!! 
Fri, Sep 17, 2021, 13:23:55 - pdurbin: Nice. Wow, 17 hours.
Mon, Sep 20, 2021, 10:53:11 - Kir√°ly P√©ter joined the room
Mon, Sep 20, 2021, 10:54:01 - Kir√°ly P√©ter: Dear all, I have an Dataverse admin question
A user ran into the following problem: she clicked on publish button, the process started, but never ended. Now there is a warning at the dataset page:
"Publish in Progress ‚Äì The dataset is locked while the persistent identifiers are being registered or updated, and/or the physical files are being validated."
Is there anything I as a site admin to release this bad lock. It apparently  will never end. The process has been broken at some point somewhere.
Mon, Sep 20, 2021, 11:08:01 - pdurbin: Kir√°ly P√©ter: hi! Dataset locks happen often enough that we wrote about them in the Admin Guide. Does this help? https://guides.dataverse.org/en/5.6/admin/troubleshooting.html#a-dataset-is-locked-and-cannot-be-edited-or-published
Mon, Sep 20, 2021, 11:15:22 - Kir√°ly P√©ter: pdurbin: Wonderful! Thanks a lot for the reference, delecting the lock record from the database solved the problem. 
Mon, Sep 20, 2021, 11:31:25 - pdurbin: Kir√°ly P√©ter: perfect! Also, Gustavo wants to talk to you about https://github.com/IQSS/dataverse/pull/7979 . Can you please reach out to him?
Mon, Sep 20, 2021, 11:34:08 - Kir√°ly P√©ter: <@pdurbin:matrix.org "Kir√°ly P√©ter: perfect! Also, Gus..."> Sure. I will react his last comment in the PR, is that OK?
Mon, Sep 20, 2021, 11:35:03 - pdurbin: Yes, that would be great. Also, I just noticed there are merge conflicts.
Fri, Sep 24, 2021, 07:43:15 - pacian: Hello, 

I have a few questions regarding Dataverse. We are discussing how to design our production server, and we are looking for a solid architectural design to implement Dataverse. How many servers would you use if you created DV, and what applications would you install on each server? We looked at what is available in the public domain but feel that we need more options to review

A few basic details:
We do not expect anymore than
First Year usage:       150 researchers
Second Year usage:  250 researchers 
Third Year usage:      350 researchers
Fouth Year usage:     450 researchers
Fifth  Year usage:      500 researchers

Total storage allocated 5-10 TB
very low traffic
No load balance
What are your thoughts?

Richard
Fri, Sep 24, 2021, 07:46:28 - Virgile Jarrige: Hello
It mostly depends on how many will work at the same time ^^
During our tests, with only one payara it could VERY easily handle 10-15 people uploading big/small datasets and downloading at the same time
Fri, Sep 24, 2021, 07:46:50 - Virgile Jarrige: but maybe someone has done a real stress test...!
Fri, Sep 24, 2021, 07:52:27 - pacian: We don't expect to have that many simultaneous users either uploading or downloading.  Our test environment is just  1 server with data storage on the same server.
Fri, Sep 24, 2021, 07:54:45 - Virgile Jarrige: i would suggest that data storage and database are on separate servers, maybe also one with solr and rserve and you should be good to go for the next 5 years ! :)
Fri, Sep 24, 2021, 07:55:57 - Virgile Jarrige: Which would do : 
- payara/dataverse
- database
- storage
- solr/rserve
Fri, Sep 24, 2021, 08:00:14 - pacian: I have this so far:

Server 1: Payara
Server 2: Dataverse / Rserve
Server 3: Solr
Server4: PostgreSQL
5 TB STorage
Fri, Sep 24, 2021, 08:01:20 - pacian: Virgile Jarrige: I have this so far:

Server 1: Dataverse / Payara
Server 2: RServe
Server 3: Solr
Server4: PostgreSQL
5 - 10 TB Storage
Fri, Sep 24, 2021, 09:44:21 - pdurbin: I assume Server 1 also has Dataverse on it since it says Payara. And that you're planning on load balancing between the two Payara servers.

I would suggest emailing https://groups.google.com/g/dataverse-community for more opinions because you'll reach many more people there.
Fri, Sep 24, 2021, 09:51:05 - pacian: oops, I made a mistake and corrected it, sorry.
Fri, Sep 24, 2021, 09:51:52 - pacian: I will post in the Dataverse Users Community but wanted to check here first.
Fri, Sep 24, 2021, 09:52:24 - pdurbin: Ok, so Server 2 is dedicated to Rserve?
Fri, Sep 24, 2021, 09:53:59 - pacian: yes at this point because of we are unsure of Two Ravens 
Fri, Sep 24, 2021, 09:54:40 - pdurbin: Ok. I'm a little unsure of it too. üòÑ
Fri, Sep 24, 2021, 09:56:45 - pacian: initial thought Server 1 Dataverse / Payara / RServe  and the rest as listed, I am pre-planning for 5 years hence RServe on it's own server. My spelling is bad today.
Fri, Sep 24, 2021, 09:59:38 - pdurbin: I don't know if this helps but we run Harvard Dataverse on two EC2 instances. And we use RDS (PostgreSQL as a service). I'm not actually sure where Solr and RServe run.
Fri, Sep 24, 2021, 10:17:21 - pacian: Thank you for your response.  The University Library will never allow me to use a Cloud Service for Production. I am though using cloud service for the Test Environment. I built it without their knowledge. They won't make the same mistake twice.
Fri, Sep 24, 2021, 10:22:38 - pdurbin: Gotcha.
Fri, Sep 24, 2021, 14:05:35 - poikilotherm: We run Dataverse on a 4GB RAM container plus one container for Solr and Postgres, each with another 4 GB of RAM.
Fri, Sep 24, 2021, 14:06:54 - poikilotherm: We don't have many concurrent users - it's still kinda tenacious with making data FAIR at J√ºlich :-/
Fri, Sep 24, 2021, 14:07:59 - poikilotherm: Dunno how easy it is to actually have LB cluster of Dataverse - thinking of sticky sessions here. Currently, sessions aren't in a shared storage AFAIK
Fri, Sep 24, 2021, 14:08:16 - poikilotherm: Oh and we have Ceph S3 with ~10TB of data storage capacity
Fri, Sep 24, 2021, 14:08:42 - poikilotherm: (Easy to scale up...)
Fri, Sep 24, 2021, 14:10:15 - poikilotherm: pdurbin: PR coming in for updated Dataverse dependency sword2-server v1.2.1 - updated the Apache Jena dependency because of a recent CVE in it. Not rated yet, but fix available.
Fri, Sep 24, 2021, 14:10:44 - poikilotherm: I finally got the automatic release to Maven Central flying high in the Github Action Cloud
Fri, Sep 24, 2021, 14:43:42 - pdurbin: poikilotherm: I've been getting emails of all the activity. Go go go! And thanks for adding your 2 cents. üòÑ
Fri, Sep 24, 2021, 16:33:44 - pdurbin: Ok folks, I'm heading out. Have a great weekend!
Mon, Sep 27, 2021, 10:02:51 - pdurbin: Check out this video of RSpace, DMPTool, and Dataverse integration: https://www.youtube.com/watch?v=dIsYLcx6qNc
Mon, Sep 27, 2021, 11:51:52 - pdurbin: We're working on release notes for Dataverse 5.7: https://github.com/IQSS/dataverse/issues/8112
Mon, Sep 27, 2021, 14:45:23 - pdurbin: poikilotherm: some more config to drive you mad (nice feature though): `curl -X PUT -d '{"Standard Process":["Author contacted", "Privacy Review", "Awaiting paper publication", "Final Approval"], "Alternate Process":["State 1","State 2","State 3"]}' http://localhost:8080/api/admin/settings/:AllowedCurationLabels`
Mon, Sep 27, 2021, 14:45:39 - pdurbin: From https://github.com/IQSS/dataverse/pull/7967
Mon, Sep 27, 2021, 14:47:17 - poikilotherm sent an image. (Media omitted)
Mon, Sep 27, 2021, 14:48:40 - poikilotherm: It might be a good idea to switch the whole column to be a Postgres JSON field.
Mon, Sep 27, 2021, 14:59:01 - pdurbin: Heh. Probably.
Wed, Sep 29, 2021, 12:21:56 - poikilotherm: pdurbin I'm hacking away on a hacky script to transform metadata TSV into Solr fields
Wed, Sep 29, 2021, 12:22:28 - poikilotherm: Uterly need this to craft a useable Solr container image...
Wed, Sep 29, 2021, 12:26:20 - poikilotherm: Guess I'm taking over https://github.com/IQSS/dataverse/pull/7904 
Wed, Sep 29, 2021, 13:50:39 - pdurbin: Sounds hacky. üòÑ
Thu, Sep 30, 2021, 05:13:07 - Patrick Vranckx: Hi. Are there plans to support oai_cerif_openaire metadata schema in Dataverse ?
Thu, Sep 30, 2021, 07:08:20 - poikilotherm: Hey. That's a very interesting topic.
Thu, Sep 30, 2021, 07:08:47 - poikilotherm: I came across this while looking into making Open Aire available for J√ºlich Data.
Thu, Sep 30, 2021, 07:09:09 - poikilotherm: There does not seem to be an issue yet for this AFAIK
Thu, Sep 30, 2021, 07:09:35 - poikilotherm: So maybe Patrick Vranckx you want to create one and describe the use case, provide links to docs etc?
Thu, Sep 30, 2021, 07:09:52 - poikilotherm: You can also make some noise on the mailing list
Thu, Sep 30, 2021, 09:40:16 - pdurbin: Patrick Vranckx: I've never heard of it. Is it awesome?
Thu, Sep 30, 2021, 10:15:38 - Patrick Vranckx: This is related to harvesting Elsevier Pure repository. When I configure a harvest client in the dashboard, both oai_dc and oai_cerif_openaire are available.
Thu, Sep 30, 2021, 10:17:16 - Patrick Vranckx: Unfortunately, with oai_cerif_openaire, dataverse reports an error "<message>Exception processing getRecord(), oaiUrl=https://pure.unamur.be/ws/oai, identifier=oai:pure.unamur.be:openaire_cris_products/56dd2412-0637-409d-8e94-62d62f612c75, edu.harvard.iq.dataverse.api.imports.ImportException, Unsupported import metadata format: oai_cerif_openaire</message>"
Thu, Sep 30, 2021, 10:17:41 - Patrick Vranckx: If I select oai_dc, I get an error from Pure:
Thu, Sep 30, 2021, 10:19:04 - Patrick Vranckx: <error code="cannotDisseminateFormat">The value of the metadataPrefix argument is not supported by the item identified by the value of the identifier argument.</error>
Thu, Sep 30, 2021, 10:44:19 - pdurbin: Bah. So neither one works!
Thu, Sep 30, 2021, 10:44:53 - pdurbin: Do you think that cannotDisseminateFormat error is a bug on the Dataverse side or the Pure side?
Thu, Sep 30, 2021, 10:50:20 - poikilotherm: pdurbin: I had to switch plans for my hacky script... Bash isn't sufficient for parsing and mangling with compound fields in the TSV. Will include in https://github.com/gdcc/dvcli unleashing the power of Python. Played with https://github.com/indygreg/PyOxidizer to create a native binary. Works! Has 87MB with everything wrapped up in it!
Thu, Sep 30, 2021, 10:51:08 - Patrick Vranckx:  the cannotDisseminateFormat error comes from Pure 
Thu, Sep 30, 2021, 10:53:53 - pdurbin: Long live dvcli.
Thu, Sep 30, 2021, 10:54:23 - pdurbin: Right, Pure is showing the error but which system has the bug in it? Which needs to be fixed?
Thu, Sep 30, 2021, 10:59:33 - Patrick Vranckx: I thought the support of oai_dc is mandatory in oai-pmh. Is it correct ?
Thu, Sep 30, 2021, 10:59:53 - pdurbin: Yes, I believe so.
Fri, Oct 1, 2021, 10:48:22 - pdurbin: I posted this for OpenDP but it applies to Dataverse and any project on GitHub. It's a trick I use to identify issues and pull requests opened by non-core contributors: https://github.com/opendp/opendp/discussions/354
Fri, Oct 1, 2021, 13:52:04 - pdurbin: live demo of an upcoming integration of DP Creator and Dataverse (DP is differential privacy): https://youtu.be/0vfqPZcpi90?t=604
Fri, Oct 1, 2021, 15:59:55 - pdurbin: Huh. My Docker stopped working. Maybe I'll try rebooting this macbook.
Fri, Oct 1, 2021, 17:00:01 - pdurbin: No dice. But it works on my Ubuntu server. Stupid Docker.
Fri, Oct 1, 2021, 17:00:17 - pdurbin: Anyway, have a great weekend, folks! Don't do anything I wouldn't do.
Mon, Oct 4, 2021, 07:28:17 - poikilotherm: pdurbin: is the "ed" command available on MacOS without installing? Pretty hard to google for that :-/
Mon, Oct 4, 2021, 09:12:31 - poikilotherm: pdurbin here's my hacky hack... ‚úåÔ∏è
Mon, Oct 4, 2021, 09:12:35 - poikilotherm: https://github.com/IQSS/dataverse/pull/8130
Mon, Oct 4, 2021, 09:41:09 - pdurbin: poikilotherm: yes, `ed` is available on Mac. It's at `/bin/ed`
Mon, Oct 4, 2021, 09:41:36 - pdurbin: Nice. Thanks for the pull request!
Tue, Oct 5, 2021, 06:49:56 - poikilotherm: Wow... https://github.com/IQSS/dataverse/pull/8130 grew a bit. Now featuring shellspec tests on multiple platforms to ensure things work as they should...
Tue, Oct 5, 2021, 09:21:21 - pdurbin: Cool. It was discussed a bit at standup yesterday. Gustavo and Leonid are going to take a look. I haven't really looked yet.
Tue, Oct 5, 2021, 11:02:00 - pdurbin: The community call is about to start: https://dataverse.org/community-calls
Wed, Oct 6, 2021, 05:41:36 - poikilotherm: TIL I learned about https://readme.com/ via https://support.datacite.org/reference/dois-2#get_dois
Wed, Oct 6, 2021, 05:41:52 - poikilotherm: Maybe that would be a nice thing for Dataverse, too?
Wed, Oct 6, 2021, 05:42:07 - poikilotherm: (Dunno if there are free OSS alternatives)
Wed, Oct 6, 2021, 08:37:13 - pdurbin: Ah. Powered by ReadMe. Interesting. Well, we do have Swagger/OpenAPI support these days, at least. See https://demo.dataverse.org/openapi for example. Maybe we could build on that.
Wed, Oct 6, 2021, 09:51:05 - pdurbin: poikilotherm: did you see this comment about reviewdog? https://github.com/IQSS/dataverse/pull/8087#discussion_r722674250 I just looked at their docs but I could't quickly figure out how to allow some tabs there. I can probably use \t but it would still be nice to know. Any idea?
Wed, Oct 6, 2021, 10:41:29 - poikilotherm: Hi pdurbin sorry realy busy day today
Wed, Oct 6, 2021, 10:41:35 - poikilotherm: I saw your comment
Wed, Oct 6, 2021, 10:42:31 - poikilotherm: I dunno why checkstyle complains about the test files
Wed, Oct 6, 2021, 10:42:45 - poikilotherm: Maybe there is little setting in checkstyle.xml missing
Wed, Oct 6, 2021, 10:42:49 - poikilotherm: To exclude test files
Wed, Oct 6, 2021, 10:43:09 - poikilotherm: Or in the github workflow / the reviewdoc action to exclude files in that place
Wed, Oct 6, 2021, 10:43:22 - poikilotherm: Anyway, using \t is always a good idea IMHO
Wed, Oct 6, 2021, 10:43:50 - poikilotherm: Makes the code much more readable and it's not prone to IDEs replacing tabs with spaces ;-)
Wed, Oct 6, 2021, 10:44:10 - pdurbin: I ran `mvn checkstyle:checkstyle` locally and it didn't complain about the tabs. So there's something different from what we tell developers to do in the dev guide and what reviewdog is doing.
Wed, Oct 6, 2021, 10:44:27 - poikilotherm: It shouldn't AFAIK
Wed, Oct 6, 2021, 10:44:40 - poikilotherm: Sorry gotta run now. Pickup kiddos
Wed, Oct 6, 2021, 10:44:43 - poikilotherm: üëã
Wed, Oct 6, 2021, 10:45:14 - pdurbin: Me too. Bringing my kiddo to get her braces off.
Wed, Oct 6, 2021, 12:15:26 - Aaron Curtis joined the room
Wed, Oct 6, 2021, 17:23:34 - poikilotherm: Just to leave a note here: I'm on vacation for the next 1.5 weeks. I'll read comments, but expect delays.
Wed, Oct 6, 2021, 17:24:05 - poikilotherm: And I might answer on GitHub issues and PRs... üòÅ
Thu, Oct 7, 2021, 09:54:49 - pdurbin: Enjoy!
Thu, Oct 7, 2021, 13:21:16 - nightowlaz: i know this question has been asked a lot .. and i've looked through the community emails .. but is there a way to export dataset data in csv or excel format? or, is the only way to get that to write a query (joining what tables?) .. or convert json or some other scripting method?
Thu, Oct 7, 2021, 13:21:56 - pdurbin: I'd probably start with the list of tools at https://guides.dataverse.org/en/5.6/admin/reporting-tools-and-queries.html
Thu, Oct 7, 2021, 13:24:16 - nightowlaz: lol thanks ... i always seem to miss the obvious
Thu, Oct 7, 2021, 13:24:27 - nightowlaz: i do search, but just not on the right things
Thu, Oct 7, 2021, 13:25:31 - pdurbin: You may also want to check out https://github.com/jggautier/dataverse_scripts which was recently mentioned at https://groups.google.com/g/dataverse-community/c/l41Cp2KEf9M/m/bAsmR0exAgAJ
Thu, Oct 7, 2021, 13:26:20 - nightowlaz: oh wow .. so many things .. thanks so much!
Thu, Oct 7, 2021, 13:32:29 - pdurbin: any time üòÑ
Thu, Oct 7, 2021, 13:44:35 - juliangautier joined the room
Thu, Oct 7, 2021, 13:50:09 - juliangautier: Thanks pdurbin for including my scripts. I mention this in my GitHub repo but also wanted to mention here that about twice a year I use some of those scripts to download the metadata (in the Dataverse JSON format) of datasets in as many known Dataverse installations as I can and I deposit that JSON metadata into a dataset at https://doi.org/10.7910/DVN/DCDKZQ. I did this in August 2021. Getting the JSON metadata from there might save you the time and trouble of getting the JSON metadata directly from the repository (unless you really need the metadata of datasets that have been published after August 2021).
Thu, Oct 7, 2021, 13:54:45 - nightowlaz: oh wow! this is great to know .. what a service!
Fri, Oct 8, 2021, 15:53:57 - pdurbin: Holiday on Monday here.  See you Tuesday!
Tue, Oct 12, 2021, 17:04:50 - pdurbin: See you Wednesday!
Wed, Oct 13, 2021, 10:32:22 - r.hamma joined the room
Wed, Oct 13, 2021, 11:12:45 - r.hamma: hello,hope u re all doing great,i am willing to install dataverse on kali linux ,is it possible?
Wed, Oct 13, 2021, 14:19:42 - pdurbin: r.hamma: Hi! RHEL-based Linux distros like CentOS and Rocky are better supported by Dataverse than Debian-based ones (like Kali seems to be) but I think some people have gotten Dataverse installed on Debian and Ubuntu.
Wed, Oct 13, 2021, 14:21:31 - pdurbin: Don Sizemore (and any others): Do you want to talk about RDS? I just picked up https://github.com/IQSS/dataverse.harvard.edu/issues/126 and I've never used it before.
Wed, Oct 13, 2021, 14:27:56 - Don Sizemore: hello? is this thing on?
Wed, Oct 13, 2021, 14:28:33 - pdurbin: Yes! The first thing I was wondering was... Does dataverse-ansible support RDS? Should it?
Wed, Oct 13, 2021, 14:29:01 - Don Sizemore: I'd imagine Kali should run Dataverse just fine, though you may need to customize the installation instructions a bit, particularly the prerequisites page
Wed, Oct 13, 2021, 14:29:14 - Don Sizemore: dataverse-ansible supports RDS from a client/installation perspective
Wed, Oct 13, 2021, 14:29:35 - Don Sizemore: but it doesn't handle creating the RDS instance, though I suppose it could.
Wed, Oct 13, 2021, 14:30:49 - pdurbin: Nice. That's probably good enough for what I need. So I can probably create the RDS instance manually and then use the spin up scripts to create a Dataverse instance? (Pointing at the RDS instance, of course.)
Wed, Oct 13, 2021, 14:31:31 - Don Sizemore: I think you just want https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/develop/defaults/main.yml#L197
Wed, Oct 13, 2021, 14:31:56 - pdurbin: Ah ha! `use_rds`! Perfect
Wed, Oct 13, 2021, 14:32:13 - Don Sizemore: that tells Ansible not to try to do some tasks you will have already done when you create the instance
Wed, Oct 13, 2021, 14:32:48 - pdurbin: Gotcha.
Wed, Oct 13, 2021, 14:33:39 - pdurbin: And if I'm moved to add anything RDS-related while I go through this, I guess I could make a pull request against the dataverse-ansible README.
Wed, Oct 13, 2021, 14:37:06 - Don Sizemore: or just open an issue and i'll do my best
Wed, Oct 13, 2021, 14:38:30 - pdurbin: Sounds good. The issue is actually about monitoring RDS. So I'll probably ask for thoughts on that once I have it up and running.
Wed, Oct 13, 2021, 14:39:21 - pdurbin: Dataverse 5.7 is out, by the way: https://github.com/IQSS/dataverse/releases/tag/v5.7
Wed, Oct 13, 2021, 14:43:36 - Don Sizemore: just made a note to bump dataverse-ansible
Wed, Oct 13, 2021, 14:45:15 - pdurbin: :dataverseman:
Wed, Oct 13, 2021, 16:42:32 - r.hamma: <@pdurbin:matrix.org "r.hamma: Hi! RHEL-based Linux di..."> i would like to know the procedure and what are the common issues and how did they resolve things to make it works ,do  they have a community or something?
Wed, Oct 13, 2021, 16:44:17 - pdurbin: Hmm. I don't think there's a "running Dataverse on Debian" community exactly. It's just something that's in the air.
Wed, Oct 13, 2021, 16:44:49 - pdurbin: 16 hits for "debian" when I search at https://groups.google.com/g/dataverse-community
Wed, Oct 13, 2021, 16:45:41 - pdurbin: r.hamma: you'd be very welcome to start a new post there. I'd suggest putting "Debian" somewhere in the subject because no everyone may know what Kali is derived from.
Wed, Oct 13, 2021, 16:46:13 - r.hamma: thanks alot 
Wed, Oct 13, 2021, 16:46:54 - r.hamma: <@pdurbin:matrix.org "r.hamma: you'd be very welcome t..."> will do
Wed, Oct 13, 2021, 16:47:35 - pdurbin: Cool.  also just linked to this conversation in the #ig-devops channel in the Dataverse community slack.
Wed, Oct 13, 2021, 16:48:04 - r.hamma: Please note that you must run Payara in an English locale. If you are using something like LANG=de_DE.UTF-8, ingest of tabular data will fail with the message ‚ÄúRoundRoutines:decimal separator no in right place‚Äù.
Wed, Oct 13, 2021, 16:48:34 - r.hamma: one of the requirements to install dataverse is to install payara5 
Wed, Oct 13, 2021, 16:49:46 - r.hamma: how am i supposed to know if my installed payara is running in an English locale or how am i supposed to change it if needed
Wed, Oct 13, 2021, 16:50:39 - pdurbin: Hmm, maybe `echo $LANG` ?
Wed, Oct 13, 2021, 16:51:56 - pdurbin: On my Mac it says `en_US.UTF-8`
Wed, Oct 13, 2021, 16:52:24 - r.hamma: <@pdurbin:matrix.org "Hmm, maybe `echo $LANG` ?"> yeah same as mine ,it worked just fine ,thanks alot
Wed, Oct 13, 2021, 16:53:31 - pdurbin: Phew.
Wed, Oct 13, 2021, 16:53:38 - r.hamma: hhhhh
Wed, Oct 13, 2021, 16:54:52 - r.hamma: also 
Wed, Oct 13, 2021, 16:55:39 - r.hamma: don't hate me plz but it seems i don't get any of these
Wed, Oct 13, 2021, 16:55:43 - r.hamma: Also note that Payara may utilize more than the default number of file descriptors, especially when running batch jobs such as harvesting. We have increased ours by adding ulimit -n 32768 to our Payara init script. On operating systems which use systemd such as RHEL/derivative, file descriptor limits may be increased by adding a line like LimitNOFILE=32768 to the systemd unit file. You may adjust the file descriptor limits on running processes by using the prlimit utility:
Wed, Oct 13, 2021, 16:56:39 - pdurbin: It probably seems like Too Much Information. üòÑ
Wed, Oct 13, 2021, 16:56:46 - poikilotherm: <@r.hamma:matrix.org "Also note that Payara may utiliz..."> Good to know - might be a good thing to tweak in the Debian based container images
Wed, Oct 13, 2021, 16:57:21 - r.hamma: i understood that i need to change the default number but dunno how to use the recommended cmd that gave me
Wed, Oct 13, 2021, 16:57:39 - r.hamma: sudo prlimit --pid pid --nofile=32768:32768
Wed, Oct 13, 2021, 16:58:21 - r.hamma: i don't know exactly what pid i shall proceed with
Wed, Oct 13, 2021, 17:00:12 - pdurbin: I think in practice these will be set by init scripts.
Wed, Oct 13, 2021, 17:00:53 - poikilotherm: Interesting. Running this on Docker is revealing very sane defaults.
Wed, Oct 13, 2021, 17:00:53 - pdurbin: LimitNOFILE=65000 in https://guides.dataverse.org/en/5.7/installation/prerequisites.html#solr-init-script for example
Wed, Oct 13, 2021, 17:00:55 - poikilotherm sent an image. (Media omitted)
Wed, Oct 13, 2021, 17:01:53 - r.hamma: i have the init script but dunno whr to add it to make it effective for this situation
Wed, Oct 13, 2021, 17:02:54 - r.hamma: i was actually meaning to search if  i can use dataverse to build an open data portal using docker?
Wed, Oct 13, 2021, 17:04:11 - poikilotherm: <@r.hamma:matrix.org "i was actually meaning to search..."> Aye
Wed, Oct 13, 2021, 17:04:37 - poikilotherm: I'm maintaining "dataverse-kubernetes" but currently kinda stuck in transition to Dataverse 5
Wed, Oct 13, 2021, 17:05:12 - poikilotherm: Some PRs open and waiting for a merge. Back to work next week, have some ideas in my head to move this forward
Wed, Oct 13, 2021, 17:05:41 - poikilotherm: There already is a container image for 5 and you can use this stuff for development purposes already
Wed, Oct 13, 2021, 17:05:49 - poikilotherm: But it isn't production ready yet
Wed, Oct 13, 2021, 17:06:09 - poikilotherm: (4.20 version of dataverse-kubernetes is)
Wed, Oct 13, 2021, 17:06:31 - poikilotherm: (But you don't wanna use that for a new installation... ;-) )
Wed, Oct 13, 2021, 17:07:06 - poikilotherm: You're of course free to use the dataverse-docker project
Wed, Oct 13, 2021, 17:07:25 - poikilotherm: It makes less optimizations to run this stuff on K8s f√ºr production
Wed, Oct 13, 2021, 17:08:51 - poikilotherm: <@r.hamma:matrix.org "i have the init script but dunno..."> Most likely you'll do this within the systemd service unit file, wouldnt you?
Wed, Oct 13, 2021, 17:10:33 - poikilotherm: pdurbin: sad to see https://github.com/IQSS/dataverse/pull/8130 is not part of 5.7 :-(
Wed, Oct 13, 2021, 17:15:12 - r.hamma: <@oliver:bertuch.name "Most likely you'll do this withi..."> how so ? by deplacing it ?
Wed, Oct 13, 2021, 17:18:19 - poikilotherm: R u using the systemd init script from https://guides.dataverse.org/en/latest/installation/prerequisites.html#launching-payara-on-system-boot
Wed, Oct 13, 2021, 17:19:14 - poikilotherm: U can edit the limits in that unit file
Wed, Oct 13, 2021, 17:19:28 - poikilotherm: (It's setting to 32768 btw)
Wed, Oct 13, 2021, 17:22:27 - poikilotherm: There's a nice explanation where to put the service file for systemd and how to hack on 'em here :https://www.shellhacks.com/systemd-service-file-example/
Wed, Oct 13, 2021, 17:23:26 - poikilotherm: Most important part: know where to put the file (/etc/systemd/system) and any new file and any changes need a systemctl daemon-reload
Wed, Oct 13, 2021, 17:24:04 - poikilotherm: However folks. It's getting really late here. C u
Thu, Oct 14, 2021, 05:12:25 - r.hamma: <@oliver:bertuch.name "Most important part: know where ..."> it helped greatly ,thanks a lot ! 
Thu, Oct 14, 2021, 06:21:33 - r.hamma: Message deleted
Thu, Oct 14, 2021, 09:25:51 - pdurbin: <@oliver:bertuch.name "pdurbin: sad to see https://gith..."> Yeah, it still hasn't been reviewed yet.
Thu, Oct 14, 2021, 09:26:27 - pdurbin: r.hamma: I hope you're all set. If not, please let us know.
Thu, Oct 14, 2021, 09:28:45 - r.hamma: when i runned useradd solr it works just fine but when i runned su - solr it asks me a password that i don't recall making 
Thu, Oct 14, 2021, 09:29:40 - pdurbin: When you run `su - solr` are you root?
Thu, Oct 14, 2021, 09:30:25 - r.hamma: my bad
Thu, Oct 14, 2021, 09:30:44 - r.hamma: u re all super kind 
Thu, Oct 14, 2021, 09:31:15 - pdurbin: Kind, yes. And we've all had these problems. üòÑ
Thu, Oct 14, 2021, 09:32:19 - poikilotherm: <@pdurbin:matrix.org "Yeah, it still hasn't been revie..."> Hm. ü•¥
Thu, Oct 14, 2021, 09:33:25 - poikilotherm: Sad to see this hasn't been merged so people can update their Solr schema with the new reenabled script for enabling fancy labels
Thu, Oct 14, 2021, 09:34:06 - pdurbin: I haven't even looked at it, to be honest. There are already two reviewers assigned.
Thu, Oct 14, 2021, 09:35:13 - pdurbin: But I'm definitely sad that we've lost the automation we had.
Thu, Oct 14, 2021, 09:35:23 - pdurbin: So if this fixes it, great!
Thu, Oct 14, 2021, 09:51:47 - r.hamma: Message deleted
Thu, Oct 14, 2021, 09:52:07 - r.hamma: Message deleted
Thu, Oct 14, 2021, 09:52:41 - r.hamma: Message deleted
Thu, Oct 14, 2021, 10:47:15 - r.hamma: i want to install the latest release of the dataverse software
Thu, Oct 14, 2021, 10:47:40 - pdurbin: The one that came out yesterday? 5.7?
Thu, Oct 14, 2021, 10:48:47 - r.hamma: yep 
Thu, Oct 14, 2021, 10:49:05 - r.hamma: if it's stable
Thu, Oct 14, 2021, 10:49:38 - pdurbin: Yep. It should be fine. It's on https://demo.dataverse.org already.
Thu, Oct 14, 2021, 10:49:55 - pdurbin: Soon we'll upgrade https://dataverse.harvard.edu
Thu, Oct 14, 2021, 10:50:53 - r.hamma: okey good
Thu, Oct 14, 2021, 11:02:31 - r.hamma: i want to install a dataverse as a portal so i can use it for open data project 
Thu, Oct 14, 2021, 11:03:30 - r.hamma: any ideas how i shall proceed?
Thu, Oct 14, 2021, 11:04:25 - r.hamma: cause i am new to this so i thought installing dataverse is same as installing a desktop app
Thu, Oct 14, 2021, 11:44:18 - pdurbin: I'm afraid installing Dataverse is more difficult than installing a typical desktop app. My favorite way to install Dataverse is with dataverse-ansible by Don Sizemore - https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible
Thu, Oct 14, 2021, 16:14:45 - nightowlaz: yay to dataverse-ansible!!!! my favorite tool ever!
Thu, Oct 14, 2021, 16:15:14 - pdurbin: Written by one of my favorite people ever!
Thu, Oct 14, 2021, 16:20:06 - nightowlaz: mine too! üéâ

does anyone know of any issues with uploading large tif or tiff files to dataverse? we are trying to upload a 450mb tif file and it looks like it loads, but when it gets to the end of the progress bar it just hangs, and never writes to s3 .. no error in the logs ... however I can upload a 600mb jpg file with no issue, and smaller .tif files upload fine as well .. we do not have a MaxUploadFileSize set
Thu, Oct 14, 2021, 16:20:56 - pdurbin: Huh. I can't think of anything particular to tiff files.
Thu, Oct 14, 2021, 16:22:54 - pdurbin: I'm asking in IQSS Slack. Maybe ask in #iq-devops if no one here has an answer.
Thu, Oct 14, 2021, 16:23:24 - pdurbin: Er, I think that's #ig-devops. The one in the Dataverse community slack.
Thu, Oct 14, 2021, 16:23:29 - nightowlaz: oh yea I should have tried there ... i will get on there as well
Thu, Oct 14, 2021, 16:23:43 - pdurbin: Did you look for open issues?
Thu, Oct 14, 2021, 16:24:15 - pdurbin: I don't see anything there.
Thu, Oct 14, 2021, 16:24:23 - nightowlaz: yes i didn't find anything specific to this but you know me and searching, i always miss it ... will look some more
Thu, Oct 14, 2021, 16:26:12 - pdurbin: Have you tried uploading it via API?
Thu, Oct 14, 2021, 16:27:02 - pdurbin: As a workaround for now, I mean.
Thu, Oct 14, 2021, 16:30:35 - nightowlaz: oh good idea .. i will try that .. at least that will show if it works beyond the UI
Thu, Oct 14, 2021, 16:30:54 - pdurbin: yeah
Fri, Oct 15, 2021, 09:30:50 - pdurbin: nightowlaz: I have a couple more things for you to try with regard to large tiff files when you're ready.
Fri, Oct 15, 2021, 09:44:19 - pdurbin: I guess I'll go ahead and post it. We can talk about whenever. üòÑ This is from Leonid:

"She needs to check her thumbnail generation size limit (JVM option), and make sure it‚Äôs set to something sensible, that‚Äôs less than 450MB. ours: <jvm-options>-Ddataverse.dataAccess.thumbnail.image.limit=3000000</jvm-options> (3MB)

There‚Äôs also a chance that this is happening outside of our code - the PrimeFaces upload component that we are using has its own builtin thumbnail generation (on the browser side!). Unlike ours, it cannot be disabled, unfortunately. However, zipping the TIFF file should take that part out of the equation. (i.e., it will upload as zip, then Dataverse will unpack it and handle it as TIFF on the application side)."
Fri, Oct 15, 2021, 09:44:44 - pdurbin: I also noticed you posted some details in #ig-devops. Thanks.
Fri, Oct 15, 2021, 11:26:23 - r.hamma: <@pdurbin:matrix.org "I'm afraid installing Dataverse ..."> is thr a tuto video on how so?
Fri, Oct 15, 2021, 11:30:20 - pdurbin: No, I don't believe there's a tutorial video on datavese-ansible. I did add a quickstart though. Did you see it in the README?
Fri, Oct 15, 2021, 11:30:50 - r.hamma: does it work on debian too?
Fri, Oct 15, 2021, 11:31:22 - r.hamma: the thing is i already installed postgresql and other stuff 
Fri, Oct 15, 2021, 11:34:35 - pdurbin: I'm not sure. Let's see if Don Sizemore is around.
Fri, Oct 15, 2021, 11:36:19 - r.hamma: i highly believe that video tuto on how to install dataverse is gonna help a lot , i am trying to use it to do an open data portal but i am still stuck on how to have it yet
Fri, Oct 15, 2021, 11:38:06 - pdurbin: Sure. Depending on how much data you have, you could always try hosting with Harvard. Please see https://support.dataverse.harvard.edu/groups
Fri, Oct 15, 2021, 11:39:57 - pdurbin: That said, we'd love for you to be a new installation. We're always happy to add a new dot to this map: https://dataverse.org/installations üòÑ
Fri, Oct 15, 2021, 11:40:33 - pdurbin: Are you able to use CentOS or Rocky?
Fri, Oct 15, 2021, 11:43:15 - r.hamma: <@pdurbin:matrix.org "That said, we'd love for you to ..."> is it for free tho?
Fri, Oct 15, 2021, 11:44:37 - pdurbin: Hosting with Harvard is free within limits. Getting your installation added to the map is definitely free. üòÑ
Fri, Oct 15, 2021, 11:45:12 - r.hamma: <@pdurbin:matrix.org "Sure. Depending on how much data..."> cordially no ,i need to have the dataverse software
Fri, Oct 15, 2021, 11:46:21 - r.hamma: cause installing it and config is my traineeship for this month and i am guessing my teacher is pissed yet cause it's been days for now 
Fri, Oct 15, 2021, 11:47:02 - pdurbin: I see. Can you use CentOS or Rocky?
Fri, Oct 15, 2021, 11:48:54 - r.hamma: i wanted to try doing it on kali since i am into cybersecurity but if i had to i will immidiatlly switch to centos
Fri, Oct 15, 2021, 11:49:48 - pdurbin: Great. That's what I'd do if I were you. CentOS. Of course, these days we run our CI on Rocky. Let me see what our docs recommend.
Fri, Oct 15, 2021, 11:49:51 - r.hamma: so u re saying thr is no way i can install dataverse on debian kali ?
Fri, Oct 15, 2021, 11:50:20 - pdurbin: This is what our docs say:

"We assume you plan to run your Dataverse installation on Linux and we recommend RHEL or a derivative such as RockyLinux or AlmaLinux, which is the distribution family tested by the Dataverse Project team. Please be aware that while EL8 (RHEL/derivatives) is the recommended platform, the steps below were orginally written for EL6 and may need to be updated (please feel free to make a pull request!). A number of community members have installed the Dataverse Software in Debian/Ubuntu environments."
Fri, Oct 15, 2021, 11:50:42 - pdurbin: That's from https://guides.dataverse.org/en/5.7/installation/prerequisites.html#linux
Fri, Oct 15, 2021, 11:51:02 - pdurbin: Is that clear enough?
Fri, Oct 15, 2021, 12:44:13 - r.hamma: pdurbin: can u plz explain to me this error
Fri, Oct 15, 2021, 12:44:19 - r.hamma: ansible-playbook --connection=local -v -i dataverse/inventory dataverse/dataverse.pb -e dataverse/defaults/main.yml                                              4 ‚®Ø

No config file found; using defaults
ERROR! couldn't resolve module/action 'alternatives'. This often indicates a misspelling, missing collection, or incorrect module path.

The error appears to be in '/home/hamma/dataverse/tasks/dataverse-prereqs.yml': line 81, column 3, but may
be elsewhere in the file depending on the exact syntax problem.

The offending line appears to be:


- name: Dataverse installer calls /usr/bin/python explicitly
  ^ here

Fri, Oct 15, 2021, 13:12:19 - pdurbin: r.hamma: I think `alternatives` is a RHEL/CentOS/etc thing.
Fri, Oct 15, 2021, 13:12:38 - pdurbin: https://linux.die.net/man/8/alternatives
Fri, Oct 15, 2021, 13:14:24 - r.hamma: yeah i thought that too 
Fri, Oct 15, 2021, 13:15:06 - r.hamma: i am stuck in here i think i 'll just give up
Fri, Oct 15, 2021, 13:15:19 - pdurbin: üò¢
Fri, Oct 15, 2021, 13:16:10 - pdurbin: You could still email the list I mentioned. Someone might be able to help.
Fri, Oct 15, 2021, 13:16:40 - pdurbin: Oh! You did already!
Fri, Oct 15, 2021, 13:16:50 - pdurbin: https://groups.google.com/g/dataverse-community/c/3xqr8c_DFso/m/PQISL8ZgAwAJ
Fri, Oct 15, 2021, 13:17:01 - r.hamma: yep 
Fri, Oct 15, 2021, 13:17:46 - pdurbin: I believe https://github.com/gdcc/dataverse-kubernetes runs (ultimately) on Debian.
Fri, Oct 15, 2021, 13:18:29 - pdurbin: Because FROM payara/server-full:5.2020.3 (from a Dockerfile) runs on Debian, I think.
Fri, Oct 15, 2021, 13:19:03 - pdurbin: Are you a Docker person? That's another way to run Dataverse. There are some community-supported options.
Fri, Oct 15, 2021, 13:21:09 - r.hamma: did they show the whole installation procedure ? 
Fri, Oct 15, 2021, 13:21:20 - r.hamma: i could check em 
Fri, Oct 15, 2021, 13:22:05 - pdurbin: There's a documentation link in that kubernetes repo ^^. Heads up that it's for Dataverse 4.20 though.
Fri, Oct 15, 2021, 13:22:32 - pdurbin: https://github.com/IQSS/dataverse-docker is for Dataverse 5.5. (5.7 just came out this week)
Fri, Oct 15, 2021, 13:22:39 - pdurbin: Both are community supported.
Fri, Oct 15, 2021, 13:23:07 - pdurbin: I've never used Docker in production myself.
Fri, Oct 15, 2021, 13:25:02 - r.hamma: thanks a lot mrs pdurbin,u were very supportive 
Fri, Oct 15, 2021, 13:25:43 - pdurbin: Sure. There's an old issue about ubuntu or debian support. I wonder if it's opened or closed.
Fri, Oct 15, 2021, 13:27:00 - pdurbin: It looks like I opened it back up last year. You are welcome to leave a comment on it: https://github.com/IQSS/dataverse/issues/1059
Fri, Oct 15, 2021, 13:27:41 - r.hamma: i was checking it few mins ago x
Fri, Oct 15, 2021, 13:27:43 - r.hamma: XD
Fri, Oct 15, 2021, 13:29:30 - pdurbin: I was just sent this:

vagrant@debian-11:~$ curl http://localhost:8080/api/info/version
{"status":"OK","data":{"version":"5.7","build":"643-80fda20"}}
Fri, Oct 15, 2021, 13:29:44 - pdurbin: A good sign. üòÑ
Fri, Oct 15, 2021, 13:44:25 - pdurbin: r.hamma: did you see the reply by Don Sizemore ? https://groups.google.com/g/dataverse-community/c/3xqr8c_DFso/m/W1G7J-ZiAwAJ
Fri, Oct 15, 2021, 14:07:15 - r.hamma: Message deleted
Fri, Oct 15, 2021, 14:07:57 - pdurbin: ...
Fri, Oct 15, 2021, 15:15:29 - r.hamma: hhhh sorry it was my nephew playing with the keyboard
Fri, Oct 15, 2021, 15:15:31 - r.hamma: i amma check it right now
Fri, Oct 15, 2021, 15:15:51 - pdurbin: Heh. I was wondering. üòÑ
Fri, Oct 15, 2021, 16:05:41 - pdurbin: Well folks, I'm taking off in the next hour or so. Have a good weekend!
Sun, Oct 17, 2021, 04:01:46 - r.hamma: Message deleted
Sun, Oct 17, 2021, 04:02:00 - r.hamma: Message deleted
Sun, Oct 17, 2021, 10:42:03 - r.hamma: Message deleted
Tue, Oct 19, 2021, 06:05:12 - poikilotherm: Used Github Web IDE today to create a quick and dirty docs change. That created a commit on the develop branch... Had to force push and delete it. In case anyone got triggered by the changes: sorry for the noise. Switching back to normal workflow and PR creation... :-/
Tue, Oct 19, 2021, 09:42:13 - pdurbin: You force pushed the develop branch? Yikes.
Tue, Oct 19, 2021, 10:30:58 - pdurbin: Community call in half an hour: https://dataverse.org/community-calls
Tue, Oct 19, 2021, 10:32:41 - poikilotherm: <@pdurbin:matrix.org "You force pushed the develop bra..."> Only way to remove a commit...
Tue, Oct 19, 2021, 10:34:22 - pdurbin: Right. I'm trying to think about when force push is a problem. I guess when someone else has pulled. But in this case we were all sleeping.
Tue, Oct 19, 2021, 10:34:36 - poikilotherm: Exactly :-D
Tue, Oct 19, 2021, 10:34:46 - poikilotherm: Sometimes timezones are a good thing
Tue, Oct 19, 2021, 10:34:57 - poikilotherm: üôà
Tue, Oct 19, 2021, 10:35:12 - pdurbin: Heh. I'm still going to beat the drum that people shouldn't get used to doing a force push.
Tue, Oct 19, 2021, 10:35:48 - poikilotherm: Oh I'm usually not doing this. But that commit should not have been there. It was a clear mistake and I took the chance to clean up my mess
Tue, Oct 19, 2021, 10:36:08 - pdurbin: Yep. I'll allow it. üòÑ
Tue, Oct 19, 2021, 10:36:20 - pdurbin: I did warn people in #dv-tech
Tue, Oct 19, 2021, 10:36:31 - pdurbin: On the off chance that anyone is affected. But I doubt it.
Tue, Oct 19, 2021, 10:36:56 - poikilotherm: I was really quick with whiping out the bad move ;-)
Tue, Oct 19, 2021, 10:37:32 - pdurbin: Only 5 minutes. I bet you're good in a crisis. üòÑ
Tue, Oct 19, 2021, 10:39:48 - pdurbin: Huh. Under "branch protection rules" there's a checkbox for "allow force pushes". What would we do if that was checked?
Tue, Oct 19, 2021, 10:40:19 - poikilotherm: Guess I could only create a git revert then
Tue, Oct 19, 2021, 10:40:39 - pdurbin: Right. Makes sense. A revert.
Tue, Oct 19, 2021, 10:40:58 - poikilotherm: Everyone would have seen my commit gone booboo üôà
Tue, Oct 19, 2021, 10:41:42 - pdurbin: Well, we saw it in Slack. In our #dv-activity channel. That's where I went to look, at least. üòÑ
Tue, Oct 19, 2021, 10:41:55 - poikilotherm: Ah that's fine ‚úåÔ∏è
Tue, Oct 19, 2021, 10:43:42 - pdurbin: Anyway, it happens sometimes. One of us does it. I'd say we usually revert it. I've probably scared people away from force push. At least I hope I have. üòÑ
Tue, Oct 19, 2021, 10:46:43 - poikilotherm: Oh thx for doing some rewording on my commit
Tue, Oct 19, 2021, 10:47:40 - poikilotherm: Guess it'll be a nice addition for Hacktoberfest
Tue, Oct 19, 2021, 10:48:34 - pdurbin: Yep! It looked good already. I just wanted the description of what the feature is to remain at the top. And I couldn't help rewording slightly, I guess.
Tue, Oct 19, 2021, 10:49:02 - poikilotherm: That's fine with me :-) Non-native speaker here
Tue, Oct 19, 2021, 10:49:45 - pdurbin: It was fine. Former English tutor here. I like to wordsmith. üòÑ
Tue, Oct 19, 2021, 10:52:55 - pdurbin: Does anyone here have experience monitoring AWS RDS (database as a service)? I'm also planning on asking this at the community call in a few minutes. I'm working on https://github.com/IQSS/dataverse.harvard.edu/issues/126
Wed, Oct 20, 2021, 11:07:32 - pdurbin: nightowlaz: since you expressed interest in RDS monitoring, here's a doc commit I pushed to a branch yesterday: https://github.com/IQSS/dataverse/commit/4c6a9ab
Wed, Oct 20, 2021, 15:28:31 - pdurbin: Opening issues with Amazon's docs, like you do: https://github.com/awsdocs/amazon-rds-user-guide/issues/151
Thu, Oct 21, 2021, 03:21:29 - pacian sent an image. (Media omitted)
Thu, Oct 21, 2021, 04:11:28 - pacian: I get the above the error message when I upgrade from version 5.5 to 5.7
Thu, Oct 21, 2021, 04:26:47 - r.hamma: howdy people around the world
Thu, Oct 21, 2021, 04:27:00 - r.hamma: i hope u re doing awwwwsome
Thu, Oct 21, 2021, 04:27:42 - r.hamma: so i somehow in the phase whr i am talking to the dvinstall 
Thu, Oct 21, 2021, 05:04:18 - r.hamma: btw can i use  the free rhel 8 for dev to install dataverse
Thu, Oct 21, 2021, 09:48:39 - analia-s: Hello!! I need help with the email configuration.
I followed the instructions in the manual but I get this error:  Caused by: com.sun.mail.smtp.SMTPAddressFailedException: 553 5.7.1 <>: Sender address rejected: not owned by user
Thu, Oct 21, 2021, 10:04:14 - pdurbin: pacian: trouble upgrading? üòû
Thu, Oct 21, 2021, 10:05:06 - pdurbin: r.hamma: I'm not sure I understand the question. No, I don't think you can use RHEL for free. From what I understand, it's a paid product.
Thu, Oct 21, 2021, 10:06:33 - pdurbin: analia-s: are you using Postfix? Does this help? https://serverfault.com/questions/637726/sender-address-rejected-not-owned-by-user-in-postfix
Thu, Oct 21, 2021, 10:09:01 - analia-s: <@analia-s:matrix.org "Hello!! I need help with the ema..."> 
I was able to fix it! Thanks!
Thu, Oct 21, 2021, 10:16:29 - pdurbin: analia-s: great!
Thu, Oct 21, 2021, 11:28:12 - Don Sizemore: @pdurbin you can use up to 16(?) copies of RHEL for free for a year under a developer's license, but it must be renewed each year
Thu, Oct 21, 2021, 11:28:40 - pdurbin: Oh! r.hamma check this out. ^^
Thu, Oct 21, 2021, 11:29:21 - Don Sizemore: @pacian I just upgraded a test server from 5.6 to 5.7 and things seemed to go smoothly, is there more info in your server.log? (those SQL exceptions are normal)
Fri, Oct 22, 2021, 04:18:36 - pacian: Don Sizemore: thank you for your response, problem solved (version 5.6), I upgraded Payara and solved some connection issues with Payara and things feel into place. Now onto version 5.7
Mon, Oct 25, 2021, 14:06:15 - poikilotherm: Hi pdurbin 
Mon, Oct 25, 2021, 14:06:39 - poikilotherm: Didn't know you send metadata through a Jsoup filter... üò≤
Fri, Oct 22, 2021, 06:02:03 - r.hamma: <@donsizemore:matrix.org "@pdurbin you can use up to 16(?)..."> this is exactly what i meant ,i wanted to use the free RHEL they offered for developpers but i was doubthing that this free version might have limitations such as not being able to install dataverse on it ,i would luv to check on the procedure how to renew the license or anything on how to apply for it,anything would much appriciated
Fri, Oct 22, 2021, 08:49:49 - Don Sizemore: r.hamma: I don't think it's limited in any way; my one concern would be that Red Hat, now owned by IBM, can rescind that free offer any year now, but you could switch from RHEL to Rocky or Alma pretty easily.
Sat, Oct 23, 2021, 02:09:43 - r.hamma: i ll put that in mind,thanks a lot
Mon, Oct 25, 2021, 10:08:36 - pdurbin: poikilotherm: I saw your comment about exportFormat at https://github.com/IQSS/dataverse/issues/7856#issuecomment-950795133
Mon, Oct 25, 2021, 10:09:17 - pdurbin: It reminds me of how we put descriptions (which allow HTML) through Jsoup to make them text only before indexing.
Mon, Oct 25, 2021, 14:07:05 - pdurbin: Yeah, to strip out the HTML before indexing.
Mon, Oct 25, 2021, 14:07:18 - pdurbin: Also before sending to datacite.
Mon, Oct 25, 2021, 14:07:24 - poikilotherm: Yeah
Mon, Oct 25, 2021, 14:07:33 - pdurbin: anyway, seems related
Mon, Oct 25, 2021, 14:07:42 - poikilotherm: Aye
Mon, Oct 25, 2021, 14:08:02 - poikilotherm: Might be a good thing to make the metadata block the source of truth what should be done
Mon, Oct 25, 2021, 14:08:08 - poikilotherm: Instead of hardcoding
Mon, Oct 25, 2021, 14:09:00 - poikilotherm: Actually it would be pretty cool to create a more sophisticated templating for metadata exports... But that's another tale to tell
Mon, Oct 25, 2021, 14:09:58 - poikilotherm: Maybe it would be better to do the export transformation in templates
Mon, Oct 25, 2021, 14:10:24 - poikilotherm: And make the templates uploadable to add support for new formats without hardcoding
Mon, Oct 25, 2021, 14:10:58 - pdurbin: It would be cool if we use our export system for what we sent to DataCite. Right now it's separate code.
Mon, Oct 25, 2021, 14:10:58 - poikilotherm: Also supporting schema versions...
Mon, Oct 25, 2021, 14:11:12 - poikilotherm: Yeah I had a look at that quite a while ago
Mon, Oct 25, 2021, 14:11:17 - poikilotherm: It's all pretty hardcoded
Mon, Oct 25, 2021, 14:11:24 - pdurbin: Yeah.
Mon, Oct 25, 2021, 14:11:26 - poikilotherm: I will need to address this anyway for software support
Mon, Oct 25, 2021, 14:11:32 - poikilotherm: (software metadata)
Mon, Oct 25, 2021, 14:11:33 - pdurbin: And DataCite can accept many more fields than we send.
Mon, Oct 25, 2021, 14:11:47 - pdurbin: Cool. Glad it's on your radar.
Mon, Oct 25, 2021, 14:13:34 - poikilotherm: Maybe we need sth like crosswalks to make better mappings
Mon, Oct 25, 2021, 14:13:50 - poikilotherm: Somethings knowing both ends and doing the transformation
Mon, Oct 25, 2021, 14:13:54 - poikilotherm: Dunno
Mon, Oct 25, 2021, 14:14:32 - pdurbin: We used crosswalks (XSLTs) in DVN 3.
Wed, Oct 27, 2021, 04:22:38 - poikilotherm: Benjamin Peuch: r u there? Would be nice to hear some feedback on https://github.com/IQSS/dataverse/issues/7252#issuecomment-952648161 :-)
Wed, Oct 27, 2021, 06:07:36 - poikilotherm changed the power level of pdurbin from Default to Admin.
Wed, Oct 27, 2021, 09:34:48 - pdurbin: "poikilotherm changed room power levels" üòÑ
Wed, Oct 27, 2021, 10:54:31 - pdurbin: poikilotherm: better to have fewer points of failure. Thanks. Not that I know what I'm doing as an admin. üòÑ
Wed, Oct 27, 2021, 10:59:22 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: better to have few..."> That's why I did it ‚úåÔ∏è
Wed, Oct 27, 2021, 10:59:40 - poikilotherm: pdurbin: Any thoughts on https://github.com/IQSS/dataverse/issues/7252#issuecomment-952648161 ?
Wed, Oct 27, 2021, 11:00:05 - poikilotherm: We had a request in this direction just a few days ago
Wed, Oct 27, 2021, 11:00:53 - pdurbin: I saw it. First thought is that "higher" roles isn't part of the original design. Roles are collections of permissions. In practice, yes, the more you have, the higher you are. But it depends which ones.
Wed, Oct 27, 2021, 11:03:34 - pdurbin: And with custom roles who knows what combinations are being used. Which is higher.
Wed, Oct 27, 2021, 11:04:43 - poikilotherm: Yeah that's why I added the definition of "you cannot assign a role that grants rights that you don't have now"
Wed, Oct 27, 2021, 11:05:34 - pdurbin: Ok, so base it on the bits. Hmm.
Wed, Oct 27, 2021, 11:06:04 - pdurbin: Would you want to write the code? üòÑ
Wed, Oct 27, 2021, 11:07:00 - poikilotherm: Not now but in the future - why not.
Wed, Oct 27, 2021, 11:07:23 - poikilotherm: It's a filter for the UI and a check within the controller
Wed, Oct 27, 2021, 11:07:43 - pdurbin: yep
Wed, Oct 27, 2021, 11:08:10 - pdurbin: And permission bits don't apply to superusers. So they can continue to do what they want.
Wed, Oct 27, 2021, 11:08:29 - poikilotherm: Sure
Wed, Oct 27, 2021, 11:08:41 - poikilotherm: But that isn't the problem we are trying to solve, right?
Wed, Oct 27, 2021, 11:09:17 - poikilotherm: Anyone already being a curator can enable more curators. An admin may add more admins. Et cetera
Wed, Oct 27, 2021, 11:11:10 - pdurbin: Yep. I'm with you. I'm just thinking that worst case, if we introduce a bug, a superuser can come to the rescue. üòÑ
Wed, Oct 27, 2021, 11:11:36 - poikilotherm: Ah! That's great :-D
Wed, Oct 27, 2021, 11:12:00 - pdurbin: but there are no bugs in our code
Wed, Oct 27, 2021, 11:12:02 - pdurbin: so what am I worried about
Wed, Oct 27, 2021, 11:12:29 - poikilotherm: LOL
Wed, Oct 27, 2021, 11:12:40 - poikilotherm: You might be worried about test coverage
Wed, Oct 27, 2021, 11:12:56 - poikilotherm: It'll decrease because I wont write any tests
Wed, Oct 27, 2021, 11:13:21 - pdurbin: You're off the hook after all those shellspec tests.
Wed, Oct 27, 2021, 11:15:15 - poikilotherm: I do hope this get's into 5.8... Looks like Danny is going to do the cut real soon
Wed, Oct 27, 2021, 11:15:41 - pdurbin: yep, writing release notes now. embargo!
Wed, Oct 27, 2021, 11:15:56 - poikilotherm: ü•≥
Wed, Oct 27, 2021, 11:18:39 - poikilotherm: Oh dear. Lots of stuff in QA column. Might be to late for 5.8...
Wed, Oct 27, 2021, 11:19:28 - pdurbin: Yeah, I believe the idea was to merge what we could yesterday. The other stuff is waiting until the next release.
Wed, Oct 27, 2021, 11:19:43 - pdurbin: Including my Range PR. Oh well.
Wed, Oct 27, 2021, 11:19:54 - poikilotherm: üò•
Wed, Oct 27, 2021, 11:20:37 - poikilotherm: Should I try to ask Danny Brooke to include this very little PR? Almost no load on QA because tests...
Wed, Oct 27, 2021, 11:21:23 - pdurbin: which one?
Wed, Oct 27, 2021, 11:21:21 - poikilotherm: And it closes 4 issues! üòÑ
Wed, Oct 27, 2021, 11:21:33 - poikilotherm: The solr hack
Wed, Oct 27, 2021, 11:21:46 - pdurbin: Oh, I don't think it has been tested at all yet.
Wed, Oct 27, 2021, 11:22:53 - poikilotherm: But but but... Shellspec? ü•∂
Wed, Oct 27, 2021, 11:25:11 - pdurbin: poikilotherm: Danny says you should reach out to him and ask if it can be in 5.8. (We're in standup.)
Wed, Oct 27, 2021, 11:29:57 - poikilotherm: Done :-)
Wed, Oct 27, 2021, 11:32:23 - pdurbin: great
Thu, Oct 28, 2021, 07:17:48 - Roberto D√≠az joined the room
Thu, Oct 28, 2021, 07:25:43 - Roberto D√≠az: Hi!!! I'm trying to execute dataverse locally in developer mode. I have been following the installation guide but running the `mvn package` is failing because some tests are failing. I suppose that I'm missing something in the process...üòÖ any idea?
Thu, Oct 28, 2021, 07:26:31 - Roberto D√≠az sent an image. (Media omitted)
Thu, Oct 28, 2021, 09:25:08 - pdurbin: Roberto D√≠az: you're on the "develop" branch? Which commit, please?
Thu, Oct 28, 2021, 09:33:02 - Roberto D√≠az: <@pdurbin:matrix.org "Roberto D√≠az: you're on the "dev..."> I thought that I was in master but yes, it seems that I'm on develop branch, in this commit: 8564de5a52443ae8a35bb03bcde7b62582501588 
Thu, Oct 28, 2021, 09:35:46 - pdurbin: Ok, so a few commits back relative to where I am. Let me back up to that commit and try a `mvn package`.
Thu, Oct 28, 2021, 09:38:19 - Roberto D√≠az: I did a test and I commented those tests and after that all worked smooth and I was able to fully run Dataverse locally
Thu, Oct 28, 2021, 09:39:36 - pdurbin: I just got "BUILD SUCCESS". If you run `echo $LANG` what do you get? I get "en_US.UTF-8".
Thu, Oct 28, 2021, 09:40:20 - Roberto D√≠az: an empty string 
Thu, Oct 28, 2021, 09:42:41 - pdurbin: Interesting. What else could be different between your machine and mine? Did you see anything in those tests that would give a clue?
Thu, Oct 28, 2021, 09:46:09 - Roberto D√≠az: I'm using java 16
Thu, Oct 28, 2021, 09:46:17 - Roberto D√≠az: probably could be related to it
Thu, Oct 28, 2021, 09:46:43 - pdurbin: Oh! Interesting! I bet poikilotherm would be interested in this.
Thu, Oct 28, 2021, 09:47:11 - pdurbin: He wants us to support Java 17: https://github.com/IQSS/dataverse/issues/8094
Thu, Oct 28, 2021, 09:47:37 - pdurbin: Ah, and now I see that Don Sizemore has already left a comment on that issue with what appear to be the same failing tests.
Thu, Oct 28, 2021, 09:47:58 - pdurbin: Roberto D√≠az: would you be willing to leave a comment there with your experience so far?
Thu, Oct 28, 2021, 10:08:00 - Roberto D√≠az: <@pdurbin:matrix.org "He wants us to support Java 17: ..."> ohhh the errors he got are the same I'm getting! interesting!
Thu, Oct 28, 2021, 10:08:35 - Roberto D√≠az: What is the recommended java version?
Thu, Oct 28, 2021, 10:08:46 - pdurbin: 11
Thu, Oct 28, 2021, 10:10:10 - Roberto D√≠az: I'm going to give a try with version 11
Thu, Oct 28, 2021, 10:27:04 - pdurbin: Cool. Here's where we mention Java 11: https://guides.dataverse.org/en/5.7/developers/dev-environment.html#install-java
Thu, Oct 28, 2021, 10:35:32 - r.hamma: hello
Thu, Oct 28, 2021, 10:35:56 - pdurbin: What's up r.hamma ?
Thu, Oct 28, 2021, 10:36:13 - r.hamma: /usr/pgsql-13/bin:/usr/pgsql-13/bin:/home/hamma/.local/bin:/home/hamma/bin:/usr/local/bin:/usr/local/sbin:/usr/bin:/usr/sbin

Thu, Oct 28, 2021, 10:36:46 - r.hamma: it seems to me that i added the required path so i can use this cmd
Thu, Oct 28, 2021, 10:37:09 - r.hamma: sudo pip3 install psycopg2-binary

Thu, Oct 28, 2021, 10:37:21 - r.hamma: since pg_config is thr
Thu, Oct 28, 2021, 10:38:01 - r.hamma: but the error says it didn't recognize it and asked me again to add its dir to path 
Thu, Oct 28, 2021, 10:38:27 - pdurbin: Which binary is not in your PATH?
Thu, Oct 28, 2021, 10:38:53 - r.hamma: nah
Thu, Oct 28, 2021, 10:39:02 - pdurbin: r.hamma: also, did you see that Don Sizemore added Debian support to dataverse-ansible? Please see https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/pull/177
Thu, Oct 28, 2021, 10:39:58 - r.hamma:    Error: pg_config executable not found.
    
    pg_config is required to build psycopg2 from source.  Please add the directory
    containing pg_config to the $PATH or specify the full executable path with the
    option:
    

Thu, Oct 28, 2021, 10:40:36 - pdurbin: Ok, so pg_config is the missing binary. Can you find it on your filesystem? Where did pip put it?
Thu, Oct 28, 2021, 10:41:47 - r.hamma: yeah it is in my /usr/pgsql-13/bin
Thu, Oct 28, 2021, 10:42:13 - r.hamma: so i added this path to the var $PATH
Thu, Oct 28, 2021, 10:43:36 - pdurbin: Hmm, should work. Maybe you could experiment with a different directory. You could create /tmp/bin or something and put a script in there. Just to make sure you've got all this PATH business working. It can be tricky.
Thu, Oct 28, 2021, 10:44:30 - pdurbin: I don't know if this helps or just confuses things more but in the dev guide we recommend setting up a python virtual environment before running the pip install. Please see https://guides.dataverse.org/en/5.7/developers/dev-environment.html#run-the-dataverse-software-installer-script
Thu, Oct 28, 2021, 10:44:32 - r.hamma: ah
Thu, Oct 28, 2021, 11:11:20 - r.hamma: thanks a lot i succeeded on setting the venv and it recognized the path ,it turns out i was using an old version of pip so i upgraded it and then everything installed smoothly
Thu, Oct 28, 2021, 11:11:41 - r.hamma: Installing collected packages: psycopg2-binary
Successfully installed psycopg2-binary-2.9.1

Thu, Oct 28, 2021, 11:11:44 - r.hamma: hhhh
Thu, Oct 28, 2021, 11:11:52 - pdurbin: Nice. I wonder if we should recommend venv in the Installation Guide (and not just the Dev Guide).
Thu, Oct 28, 2021, 11:12:15 - r.hamma: yeah plz do 
Thu, Oct 28, 2021, 11:12:40 - pdurbin: r.hamma: would you mind creating an issue about this? https://github.com/IQSS/dataverse/issues
Thu, Oct 28, 2021, 11:15:28 - r.hamma: can u guide me on how or which cmd i shall use so i can give dataverse (user) the write permission to jvm options plz 
Thu, Oct 28, 2021, 11:16:18 - pdurbin: Let's see... Payara should be installed/owned by that user already.
Thu, Oct 28, 2021, 11:16:25 - r.hamma: <@pdurbin:matrix.org "r.hamma: would you mind creating..."> no problem
Thu, Oct 28, 2021, 11:16:38 - pdurbin: For me in dev it's "pdurbin" but for you on a server it should be "dataverse", I think.
Thu, Oct 28, 2021, 11:17:54 - pdurbin: Thanks! Then I can coach you through a pull request, if you want. üòÑ
Thu, Oct 28, 2021, 11:20:23 - r.hamma: also ,it would be nice if u guys enumerate the steps of the installation ,i know it's not necessary but it helps knowing whr am i and reaching the end step gives such a relief üòå
Thu, Oct 28, 2021, 11:20:37 - r.hamma: hopefully that 'd be me hhhh
Thu, Oct 28, 2021, 11:21:28 - Don Sizemore: r.hamma: are you following the guide?
Thu, Oct 28, 2021, 11:21:58 - r.hamma: yeah
Thu, Oct 28, 2021, 11:22:11 - r.hamma: step by step
Thu, Oct 28, 2021, 11:23:13 - pdurbin: Yeah, I don't love the "Running the Dataverse Software Installer" section. It's long and hard to follow.
Thu, Oct 28, 2021, 11:23:22 - pdurbin: Please feel free to open an issue about that too. üòÑ
Thu, Oct 28, 2021, 11:23:35 - pdurbin: This: https://guides.dataverse.org/en/5.7/installation/installation-main.html#running-the-dataverse-software-installer
Thu, Oct 28, 2021, 11:23:53 - r.hamma: i am heading back home ,i ll continue this after like few hours
Thu, Oct 28, 2021, 11:23:54 - Don Sizemore: so the issue is that the asadmin examples in the guide don't specify that they should be run as the service account running Payara?
Thu, Oct 28, 2021, 11:24:22 - pdurbin: Oh good. I need to go drop off my weekly covid test anyway. Talk soon. üòÑ
Thu, Oct 28, 2021, 11:24:57 - pdurbin: Don Sizemore: sounds like r.hamma wants to change JVM options but the perms are wrong? I think.
Thu, Oct 28, 2021, 11:25:40 - Don Sizemore: JVM options are generally set by asadmin, and he's correct that the guides examples don't specify that they should be run by the service account
Thu, Oct 28, 2021, 11:25:40 - r.hamma: no , it says in the guide
Thu, Oct 28, 2021, 11:27:23 - r.hamma: that in order for the installer to go smooth ,i meed to give write permission to the user (dataverse )       for jvm options dir or something 
Thu, Oct 28, 2021, 11:27:25 - r.hamma: i don't know how to do that yet
Thu, Oct 28, 2021, 11:27:35 - r.hamma: cause I don't know whr is the dir
Thu, Oct 28, 2021, 11:28:50 - Don Sizemore: the installation page has a bulleted list beneath "Just make sure the user running the installer has write permission to:"
but those directories can vary depending on whether the person installing Dataverse has changed any locations
Thu, Oct 28, 2021, 11:30:38 - Don Sizemore: you'd generally set or change jvm-options with asadmin which would default to user dataverse and location /usr/local/payara5/bin/asadmin
but again those may be different depending on choices made ahead of time by the administrator, so the guide is a little open-ended in that way
Thu, Oct 28, 2021, 16:23:32 - poikilotherm: I repeat my pledge for sth like a /etc/dataverse/config file or similar. MicroProfile Config is your friend.
Thu, Oct 28, 2021, 16:23:47 - pdurbin: quiet you
Thu, Oct 28, 2021, 16:26:09 - poikilotherm: https://media.giphy.com/media/F5QrrshnOA3GGyxjH1/giphy.gif
Thu, Oct 28, 2021, 16:26:37 - pdurbin: man my kids love Pusheen
Fri, Oct 29, 2021, 16:15:06 - pdurbin: Heading out pretty soon. Have a great Halloween! üéÉ
Sun, Oct 31, 2021, 08:16:24 - r.hamma: hello, i am running a litt late ,what is the cmd line in Linux that allows to give write permission to a user ?
Sun, Oct 31, 2021, 08:17:36 - r.hamma: also ,apache netbeans says that the cloned repo dataverse is unloadable ,why so ? 
Sun, Oct 31, 2021, 08:30:45 - r.hamma: i mean ,i understand that thr re errors to fix ,but i don't think the resolving was enough
Sun, Oct 31, 2021, 08:38:32 - r.hamma: <@r.hamma:matrix.org "hello, i am running a litt late ..."> /usr/local/payara5/glassfish/domains/domain1 not writable to the user running the installer! Check permissions on Payara5 hierarchy
Sun, Oct 31, 2021, 08:38:59 - r.hamma: Message deleted
Sun, Oct 31, 2021, 09:45:02 - r.hamma: i literarelly don't know how to give a write permission to a user ,can u help plz
Sun, Oct 31, 2021, 16:12:00 - yoki-nolee joined the room
Mon, Nov 1, 2021, 07:38:32 - Don Sizemore: r.hamma: you probably want something like: $ chown -R dataverse:dataverse /usr/local/payara5/glassfish/domains/domain1
Mon, Nov 1, 2021, 07:38:42 - Don Sizemore: er. make that start with sudo
Mon, Nov 1, 2021, 10:33:58 - pdurbin: Don Sizemore: question about https://github.com/IQSS/dataverse/issues/8018 when you have a moment, especially since you opened it. üòÑ
Mon, Nov 1, 2021, 12:33:12 - Don Sizemore: yuh huh
Mon, Nov 1, 2021, 13:18:17 - pdurbin: Don Sizemore: it's safe to assume when you say "sanitize on user input" that the rules should be applied to both the UI and API, right?
Mon, Nov 1, 2021, 13:22:04 - Don Sizemore: yes
Mon, Nov 1, 2021, 13:22:15 - pdurbin: Ok, that's what I figured. Thanks.
Mon, Nov 1, 2021, 13:22:37 - Don Sizemore: we've had trouble with content submitted both ways.
Mon, Nov 1, 2021, 13:23:07 - pdurbin: gotcha
Mon, Nov 1, 2021, 13:37:36 - Don Sizemore: and thank you for picking up that issue! a dataset from 2 weeks ago was causing our XML exporter to explode spectacularly while some harvesting client kept calling it on repeat
Mon, Nov 1, 2021, 13:38:12 - pdurbin: Interesting. So it causes problems during harvesting too.
Mon, Nov 1, 2021, 13:38:25 - Don Sizemore: JSON allows characters that XML doesn't
Mon, Nov 1, 2021, 13:38:40 - Don Sizemore: or handles, I should say.
Mon, Nov 1, 2021, 13:39:24 - Don Sizemore: and I haven't forgotten your release note comparison script, BTW, I'm stuck on dealing with the particular flavor of JSON GitHub generates
Mon, Nov 1, 2021, 13:40:51 - pdurbin: Ah. No worries. I'll try to alert you if someone picks that issue up.
Mon, Nov 1, 2021, 13:41:22 - Don Sizemore: did you see my DM in Slack?
Mon, Nov 1, 2021, 15:18:57 - poikilotherm: On a side note: I had some similar troubles with XML in other projects. We are using the CDATA encoding special for user submitted data to allow for special characters, don't we?
Mon, Nov 1, 2021, 15:19:16 - pdurbin: Um. Not sure.
Mon, Nov 1, 2021, 15:20:29 - poikilotherm: Just to be sure talking about the same thing: https://en.m.wikipedia.org/wiki/CDATA
Mon, Nov 1, 2021, 15:24:21 - pdurbin: `<![CDATA[` stuff. I get it.
Tue, Nov 2, 2021, 03:22:52 - r.hamma: <@donsizemore:matrix.org "er. make that start with sudo"> i ve done all the instructions i had to do from the guide ,i literally know how to give ownership to a user ,i mean it's obviously something basic to know in Linux ,but when i run the python3 install.py 
the installer stops saying that payara can't be running cause it doesn't have permission ,i am guessing i have to run the installer using the( dataverse) user but then ,when i do su - dataverse 
cd to the dir whr i shall start the installation it says no such file or directory 
Tue, Nov 2, 2021, 05:13:45 - Yosra Sanaa joined the room
Tue, Nov 2, 2021, 07:19:15 - Don Sizemore: is payara running?
Tue, Nov 2, 2021, 07:22:07 - r.hamma: nope , isn't it for the installer to make it run automatically ?
Tue, Nov 2, 2021, 07:23:34 - Don Sizemore: the installer will attempt to launch Payara, but can't solve any configuration problems. it would be a good test to launch Payara manually, and address any problems first.
Tue, Nov 2, 2021, 07:24:28 - r.hamma: okey then ,how so ? 
Tue, Nov 2, 2021, 07:25:57 - r.hamma: plus i didn't like the fact that the postgresql datavase created successfully but then the installer stopped  because of payara not running problem ,and now when i had to run the installer again i d have to delete the database i created successfully before
Tue, Nov 2, 2021, 07:26:04 - Don Sizemore: depending on your OS you can choose how to start it automatically https://guides.dataverse.org/en/latest/installation/prerequisites.html#launching-payara-on-system-boot
Tue, Nov 2, 2021, 07:26:37 - Don Sizemore: the install script offers a `-f` option to force-continue if the DB already exists
Tue, Nov 2, 2021, 07:27:06 - r.hamma: thanks Don Sizemore 
Tue, Nov 2, 2021, 07:27:41 - Don Sizemore: beware that the `-f` option should be safe if the installer didn't even launch, but if something goes wrong further down the road you may or may not want to attempt to install on top of an existing DB.
Tue, Nov 2, 2021, 07:28:34 - r.hamma: can i delete the database instead ,lile reset everything to a new installation?
Tue, Nov 2, 2021, 07:29:12 - Don Sizemore: for the most part, yes. some of the nuts and bolts are stored in Payara configuration, but those are generally safe to reinstall on top of.
Tue, Nov 2, 2021, 07:30:22 - Don Sizemore: the installer attempts to "create" named jvm-options in Payara, so if an existing configuration of the same name already exists, it won't be modified. this would be bad if you wanted to modify it, but you can edit them in domain.xml
Tue, Nov 2, 2021, 07:31:00 - r.hamma: so all i have to do is to rm the database diractories on postgresql ? 

Tue, Nov 2, 2021, 07:31:20 - Don Sizemore: you'll want to `drop database <db>` as the postgres admin user
Tue, Nov 2, 2021, 07:33:17 - Don Sizemore: but if the installer didn't get far enough to deploy the warfile, the database should be empty
Tue, Nov 2, 2021, 07:39:35 - Don Sizemore: r.hamma: out of curiosity, are you standing up Dataverse for evaluation? there are container-based installation methods which will do most everything except final configuration for you, particularly if you're just kicking the tires
Tue, Nov 2, 2021, 09:56:44 - pdurbin: One hour until the community call: https://dataverse.org/community-calls
Tue, Nov 2, 2021, 10:03:19 - r.hamma: <@donsizemore:matrix.org "r.hamma: out of curiosity, are y..."> can u help ?
Tue, Nov 2, 2021, 10:10:04 - pdurbin: r.hamma: having trouble with installation?
Tue, Nov 2, 2021, 10:13:28 - Don Sizemore: what OS are you using? if you have VirtualBox there's a Vagrantfile or if you prefer Docker or podman there's a Dockerfile
Tue, Nov 2, 2021, 10:14:28 - pdurbin: Debian, at least at first, I think.
Tue, Nov 2, 2021, 10:38:25 - r.hamma: yesss
Tue, Nov 2, 2021, 10:38:28 - r.hamma: hhhh 
Tue, Nov 2, 2021, 10:38:50 - r.hamma: i will never quith til i add my country on that map of urs
Tue, Nov 2, 2021, 10:39:02 - pdurbin: That's the spirit!
Tue, Nov 2, 2021, 10:40:34 - r.hamma: at first i ve been using kali Linux debian ,i stopped using after reading 'this is not an rhel environment hummm let's see ' from the installer 
Tue, Nov 2, 2021, 10:40:58 - r.hamma: so i switched to rhel 8 

Tue, Nov 2, 2021, 10:42:05 - pdurbin: Ok, rhel 8 should work
Tue, Nov 2, 2021, 10:42:22 - r.hamma: and now i know i am still newbie and i surely lack of knowledge that needed to install this software but i am learning  new things everyday 
Tue, Nov 2, 2021, 10:42:30 - r.hamma: thanks to all of you üòä
Tue, Nov 2, 2021, 10:42:41 - pdurbin: Oh sure. It's harder than it needs to be.
Tue, Nov 2, 2021, 10:42:52 - pdurbin: You will be victorious.
Tue, Nov 2, 2021, 10:46:50 - r.hamma: hopefully xDd
Tue, Nov 2, 2021, 10:54:39 - r.hamma: > <@donsizemore:matrix.org> what OS are you using? if you have VirtualBox there's a Vagrantfile or if you prefer Docker or podman there's a Dockerfile

so like ,this vagrantfile will use the dataverse ansible and install dataverse automatically ?
Tue, Nov 2, 2021, 10:56:54 - pdurbin: Technically, there are two. A Vagrantfile in the main repo and the Vagrantfile in the dataverse-ansible repo. Yes, the one in dataverse-ansible makes use of Ansible. The one in the main repo just uses shell scripts.
Tue, Nov 2, 2021, 10:58:57 - r.hamma: so all i have to do is download this vagrantfile of the main repo ,run it on virtual box and that is it? 
Tue, Nov 2, 2021, 10:59:23 - pdurbin: Well, you have to install Vagrant first but yes, that's it.
Tue, Nov 2, 2021, 10:59:54 - r.hamma: could you link me to this repo again plz?
Tue, Nov 2, 2021, 11:01:02 - r.hamma: will it work even if the database already exists ? 
Tue, Nov 2, 2021, 11:01:32 - r.hamma: that postgresql database
Tue, Nov 2, 2021, 11:01:38 - pdurbin: https://github.com/IQSS/dataverse
Tue, Nov 2, 2021, 11:02:12 - pdurbin: No. The idea is it will create temporary everything, temp database, temp app server, etc. Just as a demo.
Tue, Nov 2, 2021, 11:02:28 - pdurbin: But you can study the scripts to see how they work.
Tue, Nov 2, 2021, 11:04:06 - r.hamma: a demo it is üôÇü§£
Tue, Nov 2, 2021, 11:04:20 - pdurbin: üòÑ
Tue, Nov 2, 2021, 11:04:36 - pdurbin: ok, the call is starting. all are welcome, of course: https://dataverse.org/community-calls
Tue, Nov 2, 2021, 11:14:47 - pdurbin: short and sweet
Tue, Nov 2, 2021, 11:26:07 - r.hamma: yep it's

Tue, Nov 2, 2021, 15:28:03 - pdurbin: Nice. GitHub is apparently now accepting feedback here: https://github.com/github/feedback/discussions
Wed, Nov 3, 2021, 06:47:08 - Lincoln: hi..i have a basic doubt...is there a way (from NativeAPI) to access/get the termURI of a metadatafield (for example in Citation-metadatablock the field "Contributor")
Wed, Nov 3, 2021, 09:36:17 - pdurbin: Lincoln: hi! Please give this a try: https://guides.dataverse.org/en/5.7/developers/dataset-semantic-metadata-api.html#get-dataset-metadata
Wed, Nov 3, 2021, 09:36:53 - pdurbin: I'm seeing this, for example: `"Author": "http://purl.org/dc/terms/creator",`
Wed, Nov 3, 2021, 09:41:25 - pdurbin: Here's where those docs (and the semantic API) were added: https://github.com/IQSS/dataverse/pull/7414
Wed, Nov 3, 2021, 09:43:56 - pdurbin: poikilotherm: it looks like your Solr scripts made it into 5.8
Wed, Nov 3, 2021, 10:24:05 - pdurbin: poikilotherm: also, any thoughts on https://github.com/IQSS/dataverse/issues/8208#issuecomment-959218341 ?
Wed, Nov 3, 2021, 11:08:03 - pdurbin: In case you missed it, Scholars Portal is giving a ‚ÄúIntroduction to Dataverse and the features you didn‚Äôt know you needed‚Äù talk in about an hour:  https://groups.google.com/g/dataverse-community/c/23ZJqTpUjuM/m/z5_h4e3_CAAJ
Wed, Nov 3, 2021, 11:23:45 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: it looks like your..."> Also gave @kcondon some ideas on his multi host problem. https://github.com/IQSS/dataverse/pull/8130#issuecomment-959411784
Wed, Nov 3, 2021, 11:23:59 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: also, any thoughts..."> looking into it
Wed, Nov 3, 2021, 11:26:47 - poikilotherm: pdurbin: the installer isn't installing Payara for the user, is it?
Wed, Nov 3, 2021, 11:28:35 - poikilotherm: Oh I guess I know what happened. They might have installed Dataverse 5.4 for a demo. And then tried to do the update to 5.7 in one go, but didn't see the req to update Payara for 5.6
Wed, Nov 3, 2021, 11:32:08 - Don Sizemore: "Did you check your Payara version?" is the new "Have you tried turning it off and on again?".
Wed, Nov 3, 2021, 11:32:26 - Don Sizemore:  (and I'm saying that mostly for my own benefit)
Wed, Nov 3, 2021, 11:50:14 - pdurbin: Sounds like upgrading Payara helped. Now this: Failed to read password file: /usr/local/payara5/glassfish/domains/domain1/imq/instances/imqbroker/etc/passwd
Wed, Nov 3, 2021, 15:40:23 - nightowlaz: hi everyone! as usual i have questions! so we had that dataset a while ago where the owner uploaded about 10 350G+ files. We have these files on a "direct upload/download" enabled store, but of course it still takes a very long time to download the files ... any suggestions on improving that process? i see suggested options for helping with uploads (ie: max part size, timeouts, ingest behavior), but not sure if anything can help with downloads? Also, when a user downloads multiple files and it creates a zip file, does that zip file get created on the dataverse server (ie: tmp dir)? 

Wed, Nov 3, 2021, 15:40:49 - nightowlaz: i know most orgs limit file sizes .. of course we had to be different and not do that
Wed, Nov 3, 2021, 15:42:11 - pdurbin: Yes, zips get created on the fly by Dataverse. This can be expensive.
Wed, Nov 3, 2021, 15:42:19 - Don Sizemore: if it's direct-download it's between the S3 bucket and your client
Wed, Nov 3, 2021, 15:42:50 - nightowlaz: oh so for direct download the zips (and multi-parts) get created on the bucket?
Wed, Nov 3, 2021, 15:42:54 - Don Sizemore: I typically get up to 5Mb/s to/from our S3 bucket (on a campus connection!) but sometimes as low as 300Kb/sec
Wed, Nov 3, 2021, 15:43:21 - Don Sizemore: no, you're right - zips go in tmpdir as Phil says
Wed, Nov 3, 2021, 15:43:38 - Don Sizemore: but your downloading client is still at the mercy of their connection to Amazon
Wed, Nov 3, 2021, 15:44:04 - pdurbin: What if they download the 10 files separately? Is that faster? (It should be.)
Wed, Nov 3, 2021, 15:44:04 - nightowlaz: oh okay .. so if a user selects all 10 365G files and tries to download it will create a giant zip file on the server? 
Wed, Nov 3, 2021, 15:44:08 - nightowlaz: or try
Wed, Nov 3, 2021, 15:44:52 - Don Sizemore: there's a maximum zip file size setting
Wed, Nov 3, 2021, 15:44:58 - nightowlaz: yea, we do recommend downloading one a time .. but still pretty slow .. just wondering if I can adjust anything per config
Wed, Nov 3, 2021, 15:45:32 - nightowlaz: oh yea, we do have that set .. probably the reason a lot of the downloads are failing .. may need to adjust that ... 
Wed, Nov 3, 2021, 15:45:53 - nightowlaz: we also noticed that the download metric counts a file as downloaded even if it is stopped or fails? 
Wed, Nov 3, 2021, 15:45:54 - Don Sizemore: to my knowledge with a commodity S3 bucket all you can do is break up filesize (compression, offer metadata files separate from zipped data, ...)
Wed, Nov 3, 2021, 15:46:25 - Don Sizemore: oh, wait, you're not in S3, you're in that on-prem object store
Wed, Nov 3, 2021, 15:46:33 - nightowlaz: no, it is s3
Wed, Nov 3, 2021, 15:46:47 - nightowlaz: but the metrics on the dataset itself
Wed, Nov 3, 2021, 15:46:50 - pdurbin: Oh! Wait, wait, wait. What about the zipper?
Wed, Nov 3, 2021, 15:46:57 - Don Sizemore: in that case, I'm certain Amazon will allow you to pay more for more bandwidth
Wed, Nov 3, 2021, 15:47:14 - Don Sizemore: Bezos needs some shellack for that yacht
Wed, Nov 3, 2021, 15:47:32 - nightowlaz: lol .. yea that .. we are actually trying to get everything to local (sort of) storage but as for now are on s3
Wed, Nov 3, 2021, 15:48:02 - Don Sizemore: @pdurbin if they run the zipper service locally, would/could it cache files from the bucket?
Wed, Nov 3, 2021, 15:48:07 - pdurbin: nightowlaz: have you tried the zipper? https://guides.dataverse.org/en/5.7/installation/advanced.html#standalone-zipper-service-tool
Wed, Nov 3, 2021, 15:48:47 - nightowlaz: oh well that looks cool! 
Wed, Nov 3, 2021, 15:49:00 - nightowlaz: will definitely try that .. is that new? 
Wed, Nov 3, 2021, 15:50:00 - pdurbin: Yes, new as of 5.0. We use in production at Harvard.
Wed, Nov 3, 2021, 15:50:26 - pdurbin: Don Sizemore: caching could probably be added somehow, yes. It would be a good optimization.
Wed, Nov 3, 2021, 15:54:59 - nightowlaz sent an image. (Media omitted)
Wed, Nov 3, 2021, 15:55:03 - nightowlaz: we are using the core metrics on the dataset page 
Wed, Nov 3, 2021, 15:56:42 - nightowlaz: i think that number is representing failed downloads as well ... should that be the case? i did install counter and switched to that for a while
Wed, Nov 3, 2021, 15:57:02 - pdurbin: Yes, certainly possible.
Wed, Nov 3, 2021, 15:57:13 - nightowlaz: but it counted things differently ... seems like it was per session and didn't include all of the actual downloads
Wed, Nov 3, 2021, 15:59:40 - pdurbin: Well, MDC doesn't count double-cilcks, for example.
Wed, Nov 3, 2021, 16:00:06 - nightowlaz: oh yea make data count is what i  meant
Wed, Nov 3, 2021, 16:02:48 - nightowlaz: thanks for the help ... will try these things! you guys are the best! üòÄ
Wed, Nov 3, 2021, 16:04:05 - pdurbin: Sure. Please keep in mind that the zipper is officially experimental. But again, we use it in prod. Have fun!
Thu, Nov 4, 2021, 09:38:10 - r.hamma: helloüëÄ
Thu, Nov 4, 2021, 09:38:33 - r.hamma: How are u kind ppl ?
Thu, Nov 4, 2021, 09:38:48 - r.hamma: i came here to say that i finally did it
Thu, Nov 4, 2021, 09:40:15 - r.hamma: i installed it!
Thu, Nov 4, 2021, 09:40:34 - r.hamma sent an image. (Media omitted)
Thu, Nov 4, 2021, 09:40:49 - r.hamma: although i dunno what login i shall use xDD
Thu, Nov 4, 2021, 09:41:29 - Don Sizemore: excellent! the default user and password are on the "installation" page in the guides
Thu, Nov 4, 2021, 09:41:31 - r.hamma: and how to secure this web page?
Thu, Nov 4, 2021, 09:41:50 - pdurbin: r.hamma: congratulations!
Thu, Nov 4, 2021, 09:42:47 - r.hamma: hi mr pdurbin i want u to add my country as promissed lol ,even though i dunno what's next and this means more problems and errors hh
Thu, Nov 4, 2021, 09:42:54 - r.hamma: but i am ready !
Thu, Nov 4, 2021, 09:43:29 - r.hamma: <@donsizemore:matrix.org "excellent! the default user and ..."> thanks mr Don Sizemore ,u were and still so supportive!
Thu, Nov 4, 2021, 09:44:34 - pdurbin: r.hamma: please open an issue here to add your installation to the map: https://github.com/IQSS/dataverse-installations/issues
Thu, Nov 4, 2021, 09:44:44 - Don Sizemore: if you want to secure it you can crib from the apache part of https://guides.dataverse.org/en/latest/installation/shibboleth.html
Thu, Nov 4, 2021, 09:44:51 - Don Sizemore: but you can also put Dataverse behind nginx
Thu, Nov 4, 2021, 09:45:29 - pdurbin: r.hamma: please take a look at https://guides.dataverse.org/en/5.7/installation/config.html#securing-your-installation which includes forcing https
Thu, Nov 4, 2021, 10:38:17 - aialves joined the room
Thu, Nov 4, 2021, 10:46:16 - pdurbin: r.hamma: are you still there?
Thu, Nov 4, 2021, 11:00:51 - aialves: Hello. I am trying to create doi when dataset is created. I get the message 'Dataset DOI Not Reserved ‚Äì The DOI displayed in the citation for this dataset has not yet been reserved with DataCite. Please do not share this DOI until it has been reserved. '
Thu, Nov 4, 2021, 11:05:34 - pdurbin: aialves: hi. Is this a new installation? Was it working and then it stopped working? Have you changed your DataCite password? Has DataCite been down?
Thu, Nov 4, 2021, 11:07:49 - aialves: Recently I installed Dataverse 5.6. It was working wth previous version. I did not change my DataCite password. I think Datacite has not been down.
Thu, Nov 4, 2021, 11:08:41 - Don Sizemore: is anything written to server.log when you create a dataset?
Thu, Nov 4, 2021, 11:08:58 - pdurbin: Interesting. Sounds like this may be the first dataset you created after the upgrade to 5.6. I'm not aware of any issues though.
Thu, Nov 4, 2021, 11:09:59 - aialves: I will check server.log
Thu, Nov 4, 2021, 11:10:10 - aialves: I am checking it
Thu, Nov 4, 2021, 11:11:26 - Don Sizemore: there should be some WARNs about DataCite
Thu, Nov 4, 2021, 11:11:27 - pdurbin: aialves: does that dataset show up in the output of this command? https://guides.dataverse.org/en/5.6/api/native-api.html#list-unreserved-pids
Thu, Nov 4, 2021, 11:11:53 - pdurbin: There's also a "Reserve a PID" command just below it that might help.
Thu, Nov 4, 2021, 11:12:07 - aialves: Nothing is writting to server.log
Thu, Nov 4, 2021, 11:14:41 - aialves: I am checking the result of the command
Thu, Nov 4, 2021, 11:15:04 - pdurbin: great
Thu, Nov 4, 2021, 11:20:52 - aialves: {"status":"OK","data":{"numUnreserved":5,"count":[{"id":2,"pid":"doi:10.5072/FK2/UXOYMI"},{"id":6,"pid":"doi:10.34620/dadosipb/CHMZYF"},{"id":7,"pid":"doi:10.34620/dadosipb/CTHR1D"},{"id":10,"pid":"doi:10.34620/dadosipb/QISVL7"},{"id":13,"pid":"doi:10.34620/dadosipb/AI8HHN"}]}}
Thu, Nov 4, 2021, 11:21:17 - pdurbin: Hmm, 5 unreserved. And they're all from after the upgrade to 5.6?
Thu, Nov 4, 2021, 11:21:31 - aialves: It returns the correct information. But it can not register doi
Thu, Nov 4, 2021, 11:22:02 - pdurbin: "Reserve a PID" doesn't work?
Thu, Nov 4, 2021, 11:22:49 - aialves: Yes, we did install 5.6 and restart from the begin
Thu, Nov 4, 2021, 11:24:42 - aialves: What do you mean with 'Reserve a PID'
Thu, Nov 4, 2021, 11:24:45 - aialves: ?
Thu, Nov 4, 2021, 11:24:52 - pdurbin: Ok. That "FK2" dataset looks like a test dataset. It's not using your authority (the 10.whatever number). 
Thu, Nov 4, 2021, 11:25:20 - pdurbin: There's an API to reserve a PID: https://guides.dataverse.org/en/5.6/api/native-api.html#reserve-a-pid
Thu, Nov 4, 2021, 11:25:37 - pdurbin: The idea is to list the unreserved PIDs, then reserve them one by one.
Thu, Nov 4, 2021, 11:25:45 - pdurbin: Then they should no longer be on the unreserved list.
Thu, Nov 4, 2021, 11:26:53 - aialves: I am trying to use it
Thu, Nov 4, 2021, 11:32:16 - aialves: I get {"status":"ERROR","message":"Problem reserving PID for dataset id 13: Response from postMetadata: 401, Bad credentials."}
Thu, Nov 4, 2021, 11:32:27 - aialves: Problem is found ....
Thu, Nov 4, 2021, 11:32:49 - aialves: Credential are on domain.xml, write?
Thu, Nov 4, 2021, 11:33:36 - aialves: Sorry 'Credentials are in domain.xml, right?'
Thu, Nov 4, 2021, 11:49:40 - aialves: I checked my domain.xml
Thu, Nov 4, 2021, 11:51:54 - aialves: <jvm-options>-Ddoi.username=FCT.IPBRAGANCA</jvm-options> is correct

Thu, Nov 4, 2021, 11:53:39 - aialves: <jvm-options>-Ddoi.password=${ALIAS=doi_password_alias}</jvm-options>
Thu, Nov 4, 2021, 11:59:48 - nightowlaz: hi .. another quick question about file downloads (maybe) ... is the repository storage abstraction layer (rsync) a way to kind of add a storage location for temporary use? I'm not sure I understand the purpose of it but wondering if it would be useful in our quest for handling large downloads? https://guides.dataverse.org/en/5.7/developers/big-data-support.html?highlight=rsync#configuring-download-via-rsync
Thu, Nov 4, 2021, 12:00:38 - aialves: where is defined "${ALIAS=doi_password_alias}"?
Thu, Nov 4, 2021, 12:16:16 - pdurbin: aialves: for a quick test, you could put your password there in plain text instead. Let me try to find more info about the alias stuff. The idea with aliases is to NOT put your password in plain text in domain.xml. More secure that way.
Thu, Nov 4, 2021, 12:17:31 - Don Sizemore: @nightowlaz rsync handles large files well; I suspect it's a way to work around HTTP uploads?
Thu, Nov 4, 2021, 12:17:33 - pdurbin: aialves: here's where the installer sets up these "alias" passwords: https://github.com/IQSS/dataverse/blob/v5.7/scripts/installer/as-setup.sh#L75-L82
Thu, Nov 4, 2021, 12:17:37 - aialves: I did it. It does not return the same error, but it still does not create the doi....
Thu, Nov 4, 2021, 12:18:29 - pdurbin: aialves: hmm, you might want to double check your password. You could try using DataCite's API directly with curl. Or you could email DataCite support.
Thu, Nov 4, 2021, 12:20:17 - aialves: Now, in server.log I get the following error line '
[2021-11-04T15:43:25.167+0000] [Payara 5.2021.5] [SEVERE] [] [edu.harvard.iq.dvn.core.index.DOIEZIdServiceBean] [tid: _ThreadID=24 _$
  Other Error on ezidService.login(USERNAME, PASSWORD) - not EZIDException ]]
'
Thu, Nov 4, 2021, 12:20:17 - pdurbin: nightowlaz: we built the rsync feature with Harvard Medical School when we were on a 3 year grant together. Files are stored outside Dataverse's normal storage system. They are put on a filesystem as is with the original names and directory paths. That way you can use rsync on them. That's the high level. Happy to try to explain more.
Thu, Nov 4, 2021, 12:20:51 - pdurbin: Hmm "Other Error" isn't super helpful. üòÑ
Thu, Nov 4, 2021, 12:21:28 - pdurbin: aialves: If I were you I'd confirm my DataCite password works outside of Dataverse. Hit the DataCite API directly with curl. That sort of thing.
Thu, Nov 4, 2021, 12:21:39 - Don Sizemore: aialves: that's normal (EZID)? I'm accustomed to seeing it when Payara starts up
Thu, Nov 4, 2021, 12:22:27 - pdurbin: Wouldn't surprise me if it's normal, even if it's weird. üòÑ I really don't know.
Thu, Nov 4, 2021, 12:22:51 - Don Sizemore: pdurbin: normal or not, I see it every time Payara starts
Thu, Nov 4, 2021, 12:23:08 - pdurbin: Oh I believe you. üòÑ
Thu, Nov 4, 2021, 12:26:13 - nightowlaz: Thanks pdurbin and Don Sizemore sounds worth looking into more .. sorry to interrupt the current issue! üôÇ
Thu, Nov 4, 2021, 12:27:32 - pdurbin: aialves: actually could you please try one of your unreserved PIDs with this: https://guides.dataverse.org/en/5.6/api/native-api.html#get-info-on-a-pid
Thu, Nov 4, 2021, 12:27:41 - pdurbin: (that should test your DataCite password)
Thu, Nov 4, 2021, 12:27:44 - Don Sizemore: nightowlaz: at one time I set up the data capture module, and it worked well. The only issue IIRC is that it was a one-shot: the dataset couldn't exist and/or had to be empty, and you couldn't upload more files using rsync
Thu, Nov 4, 2021, 12:28:38 - pdurbin: We have a list of limitations with rsync (as implemented in Dataverse) somewhere in the guides. Public only. Files can't change, etc.
Thu, Nov 4, 2021, 12:29:44 - Don Sizemore: my issue with rsync, as with PERL, is that it isn't used more widely.
Thu, Nov 4, 2021, 12:32:10 - nightowlaz: i'm just having trouble understanding how this works .. in our use-case the files are very large, but they really don't change and are just sitting there for folks to download (ie: no one will need to preview them) .. if we can keep them in their original location and users can just use rsync to download them when needed, that actually might be a good option
Thu, Nov 4, 2021, 12:32:23 - nightowlaz: i did find this: https://guides.dataverse.org/en/latest/user/dataset-management.html#rsync-ssh-upload
Thu, Nov 4, 2021, 12:34:11 - pdurbin: nightowlaz: if your files aren't going to change and can be public (not restricted) then sure, why not give rsync a whirl! However, I don't have 100% confidence that the feature still works. I'm only aware of one installation that was using it and they might be on an old version.
Thu, Nov 4, 2021, 12:34:13 - Don Sizemore: nightowlaz: it isn't quite ready for public consumption, but I'm hearing TRSA
Thu, Nov 4, 2021, 12:34:59 - aialves: When I test datacite API with 'curl https://mds.datacite.org' I get the error '
<html>
<head><title>301 Moved Permanently</title></head>
<body bgcolor="white">
<center><h1>301 Moved Permanently</h1></center>
<hr><center>nginx/1.14.0 (Ubuntu)</center>
</body>
</html>
'
Thu, Nov 4, 2021, 12:35:24 - nightowlaz: haha okay .. makes sense .. thanks .. will at least try it out!
Thu, Nov 4, 2021, 12:35:43 - Don Sizemore: aialves: can you log in to Fabrica? https://doi.datacite.org/
Thu, Nov 4, 2021, 12:35:51 - aialves: Yes I can
Thu, Nov 4, 2021, 12:36:28 - Don Sizemore: nightowlaz: one of these days Akio's TRSA branch will get merged into Dataverse proper https://github.com/OdumInstitute/trsa-web
Thu, Nov 4, 2021, 12:36:57 - nightowlaz: oh yes, we've been waiting for that! 
Thu, Nov 4, 2021, 12:37:05 - nightowlaz: that will be revolutionary!
Thu, Nov 4, 2021, 12:37:20 - Don Sizemore: aialves: what version of Dataverse were you running prior to upgrading to 5.6? (there's a jvm-option addition in one of the later releases)
Thu, Nov 4, 2021, 12:38:26 - Don Sizemore: nightowlaz: to me one of the coolest thing about the Cyverse Discovery Environment is that all underlying data is stored in iRODS, and Cyverse makes it externally accessible to each user with their own credentials
Thu, Nov 4, 2021, 12:38:31 - pdurbin: aialves: if you do `curl -i` you should see where it's trying to redirect you
Thu, Nov 4, 2021, 12:39:00 - Don Sizemore: pdurbin: I think the Fabrica credentials are the same as those used for the API?
Thu, Nov 4, 2021, 12:39:12 - pdurbin: oh, ok
Thu, Nov 4, 2021, 12:39:34 - pdurbin: There's still https://guides.dataverse.org/en/5.6/api/native-api.html#get-info-on-a-pid for aialves to try
Thu, Nov 4, 2021, 12:42:05 - aialves: Yes, I think so. I thinks the credentials are the same. I am trying 'get info on a pid' command?
Thu, Nov 4, 2021, 12:50:43 - Don Sizemore: aialves: not to ask the obvious, but have you double-checked your settings for doi.baseurlstring and doi.dataciterestapiurlstring ? 
Thu, Nov 4, 2021, 12:56:54 - aialves: Yes, doi.baseurlstring and doi.dataciterestapiurlstring are OK. 
Thu, Nov 4, 2021, 12:56:55 - aialves:         <jvm-options>-Ddoi.baseurlstring=https://mds.datacite.org</jvm-options>
        <jvm-options>-Ddoi.dataciterestapiurlstring=https://api.datacite.org</jvm-options>

Thu, Nov 4, 2021, 13:02:28 - aialves: I created a new dataset and something is different. Now the new dataset is not listed on the unreserved list but the doi is not yet created
Thu, Nov 4, 2021, 13:03:58 - aialves: I am trying 'Get info on a pid'
Thu, Nov 4, 2021, 13:07:32 - aialves: 'Get info on a pid' gets  {"status":"OK","data":{"id":"10.34620/dadosipb/tcwnw9","state":"draft"}}
Thu, Nov 4, 2021, 13:10:59 - aialves: Changing ${ALIAS=doi_password_alias} by the password resulted. I know this is a security problem
Thu, Nov 4, 2021, 13:13:34 - Don Sizemore: it's only a problem if someone manages to get a shell on your application node.
Thu, Nov 4, 2021, 13:14:04 - Don Sizemore: the config/ directory shouldn't be world-readable, either
Thu, Nov 4, 2021, 13:14:29 - aialves: Thank you for your precious help. 
Thu, Nov 4, 2021, 13:45:41 - pdurbin: A state of "draft" is good. It should be reserved on the DataCite side.
Thu, Nov 4, 2021, 16:54:40 - poikilotherm: pdurbin I think we should just use a demo / ephemeral repo for playing with the release notes stuff...
Thu, Nov 4, 2021, 16:54:51 - pdurbin: that's fine
Thu, Nov 4, 2021, 16:54:57 - poikilotherm: Nothing to break, easy to throw away if we screw it up
Thu, Nov 4, 2021, 16:55:04 - pdurbin: low risk
Thu, Nov 4, 2021, 16:55:12 - pdurbin: do you want to create one or shall I?
Thu, Nov 4, 2021, 16:55:13 - poikilotherm: That's the spirit ‚ò∫Ô∏è
Thu, Nov 4, 2021, 16:55:22 - poikilotherm: Oh go ahead if you want 
Thu, Nov 4, 2021, 16:55:48 - poikilotherm: Can't touch this before next week or so... Writing Hermes paper
Thu, Nov 4, 2021, 16:56:19 - pdurbin: Ok. Let's wait to create it until you have time.
Thu, Nov 4, 2021, 16:57:04 - pdurbin: I still think we should send feedback upstream to GitHub. There's a missing feature here. It may be hard to explain.
Thu, Nov 4, 2021, 16:58:01 - pdurbin: We'd post it here: https://github.com/github/feedback/discussions/categories/releases-feedback
Thu, Nov 4, 2021, 16:58:49 - pdurbin: But I don't want to waste their time. I'd want to word it properly.
Fri, Nov 5, 2021, 10:22:20 - poikilotherm: PROCRASTINATION ALERT pdurbin 
Fri, Nov 5, 2021, 10:22:27 - poikilotherm: https://github.com/poikilotherm/test-release-edit
Fri, Nov 5, 2021, 10:22:55 - poikilotherm: TIL a lot more about advanced Github Actions
Fri, Nov 5, 2021, 10:24:17 - poikilotherm: Don Sizemore: TIL also about "shadow jobs". Using the matrix strategy, we could mark certain jobs as "experimental" and let them create warnings instead of failed builds. We might use this to create a matrix of running unit tests with different Java versions... ;-)
Fri, Nov 5, 2021, 10:32:40 - poikilotherm: Guess what pdurbin Danny Brooke - it works ;-)
Fri, Nov 5, 2021, 10:34:50 - Don Sizemore: poikilotherm: I support all of this. I've got the new guides.dataverse.org ready to go but am giving Kevin the comfort of time until after the 5.8 release. Then we need to migrate Slava's weblate app, then I plan to tackle Jenkins.
Fri, Nov 5, 2021, 10:34:55 - poikilotherm: See body of https://github.com/poikilotherm/test-release-edit/releases/tag/v1.0, compare with https://github.com/poikilotherm/test-release-edit/blob/develop/start-release-note.png 
Fri, Nov 5, 2021, 10:35:17 - Don Sizemore: poikilotherm: it is my vague hope that by the time we're ready to focus on Jenkins, more will be in GitHub Actions and/or elsewhere ;)
Fri, Nov 5, 2021, 10:35:36 - poikilotherm: It can even change multiple release notes in one go. Still have to provide a demo for that, though
Fri, Nov 5, 2021, 10:59:11 - poikilotherm: Feel free to play around with this pdurbin 
Fri, Nov 5, 2021, 10:59:27 - poikilotherm: I just send you an invite so gain write access
Fri, Nov 5, 2021, 11:00:20 - poikilotherm: Maybe Don Sizemore can edit a release note and create a PR? After merging this should be working ‚úåÔ∏è
Fri, Nov 5, 2021, 11:09:18 - pdurbin: poikilotherm: ah, you found some time. Great!
Fri, Nov 5, 2021, 11:10:02 - pdurbin: Don Sizemore: if you hit this with curl, do you get HTML instead of XML? https://researchdata.nie.edu.sg/oai?verb=ListMetadataFormats
Fri, Nov 5, 2021, 11:10:28 - pdurbin: This is in reference to this thread, of course: https://groups.google.com/g/dataverse-community/c/lpYLX4RkxO4/m/cQNG44ITAQAJ
Fri, Nov 5, 2021, 11:12:21 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: ah, you found some..."> Nope - procrastination... üôà
Fri, Nov 5, 2021, 11:12:48 - Don Sizemore: second only to denial, "the best state to live in"
Fri, Nov 5, 2021, 11:13:46 - Don Sizemore: pdurbin: <script src="/_Incapsula_Resource?SWJIYLWA=5074a744e2e3d891814e9a2dace20bd4,719d34d31c8e3a6e6fffd425f7e032f3">
Fri, Nov 5, 2021, 11:14:15 - pdurbin: Yeah, Incapsula stuff
Fri, Nov 5, 2021, 11:14:33 - Don Sizemore: pdurbin: they need to request that their harvesting client be whitelisted, perhaps I should've explictly stated that in my reply
Fri, Nov 5, 2021, 11:15:35 - pdurbin: Whitelisted by Incapsula? I don't even know what that is.
Fri, Nov 5, 2021, 11:16:06 - pdurbin: I have reply almost ready. Maybe I'll hit send and you can reply next.
Fri, Nov 5, 2021, 11:21:41 - pdurbin: Sent. Suggested it might be a firewall issue. Thanks.
Fri, Nov 5, 2021, 11:22:22 - Don Sizemore: I don't know much about Incapsula but I'm 99% certain their harvesting client isn't getting to /oai
Fri, Nov 5, 2021, 11:23:46 - pdurbin: Neither is curl for me
Fri, Nov 5, 2021, 11:24:10 - pdurbin: I mean, maybe I could pass a user agent header or something.
Fri, Nov 5, 2021, 11:24:19 - pdurbin: trick the firewall into thinking I'm a browser
Fri, Nov 5, 2021, 11:24:29 - pdurbin: but it's probably better to fix the firewall
Fri, Nov 5, 2021, 11:32:05 - pdurbin: poikilotherm: so the idea is that I can have a bunch of release notes queued up in doc/release-notes but they aren't made real (put on a releases page) until the release/tag is made, it seems.
Fri, Nov 5, 2021, 11:34:55 - pdurbin: Don Sizemore: have you looked at this thing yet? https://github.com/poikilotherm/test-release-edit/blob/develop/.github/workflows/update-release-notes.yml
Fri, Nov 5, 2021, 11:39:17 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: so the idea is tha..."> I wouldn't say "queued up" but "left for future reference", so this acts as a source of truth
Fri, Nov 5, 2021, 11:39:59 - pdurbin: Ok. I'm just not used to seeing releases notes beyond the upcoming release.
Fri, Nov 5, 2021, 11:40:20 - poikilotherm: But they exist in the upstream release-notes folder, don't they?
Fri, Nov 5, 2021, 11:40:39 - pdurbin: Well, snippets.
Fri, Nov 5, 2021, 11:41:02 - pdurbin: Snippets that get combined into the final release note.
Fri, Nov 5, 2021, 11:41:08 - poikilotherm: That ain't just snippets, right? https://github.com/IQSS/dataverse/tree/develop/doc/release-notes
Fri, Nov 5, 2021, 11:41:38 - pdurbin: 7903-solr-config.md is a snippet, for example
Fri, Nov 5, 2021, 11:41:49 - pdurbin: it'll get deleted
Fri, Nov 5, 2021, 11:41:54 - poikilotherm: Yes Sir
Fri, Nov 5, 2021, 11:42:20 - poikilotherm: The workflow is ONLY touching base with existing, composed and finished release notes
Fri, Nov 5, 2021, 11:42:39 - poikilotherm: Anything with a name of X.Y.Z-release-notes.md
Fri, Nov 5, 2021, 11:43:06 - poikilotherm: Which only exist for existing or future releases
Fri, Nov 5, 2021, 11:43:39 - poikilotherm: Snippets will be ignored
Fri, Nov 5, 2021, 11:43:39 - pdurbin: And only for existing tags. So future release notes can hang around in the directory. In practice, we probably won't have them hanging around like this (version 6 or 7 or whatever) but that's fine.
Fri, Nov 5, 2021, 11:43:55 - poikilotherm: Yeah
Fri, Nov 5, 2021, 11:44:11 - poikilotherm: Some day we might go ahead and add them to Sphinx
Fri, Nov 5, 2021, 11:44:21 - poikilotherm: And let them live in there as Markdown files
Fri, Nov 5, 2021, 11:44:27 - poikilotherm: (Sphinx can include Markdown)
Fri, Nov 5, 2021, 11:44:35 - pdurbin: I guess we don't call them snippets. We call them "issue-specific release notes" at https://guides.dataverse.org/en/5.7/developers/making-releases.html#write-release-notes
Fri, Nov 5, 2021, 11:44:52 - poikilotherm: Oh that's right :-)
Fri, Nov 5, 2021, 11:44:58 - pdurbin: I had that thought. Maybe should be part of Sphinx. I dunno.
Fri, Nov 5, 2021, 11:45:17 - poikilotherm: The path where this lives can be adapted for the workflow ;-)
Fri, Nov 5, 2021, 11:45:27 - poikilotherm: So we still can updates release notes from there
Fri, Nov 5, 2021, 11:46:07 - poikilotherm: We could also create a release job üôà
Fri, Nov 5, 2021, 11:46:42 - poikilotherm: But that might be too much automation involved... What would Danny Brooke have to do then? üòâ
Fri, Nov 5, 2021, 11:47:20 - pdurbin: Sounds like you're pretty happy that release notes are in git (as of 4.16). How upset would you be if we reverted to our old ways and only had a single copy under "releases"? I ask because that's the easiest thing to do. Nothing to sync.
Fri, Nov 5, 2021, 11:49:30 - poikilotherm: I'll be happy with whatever you folks do. This was just a show case of "this is doable". It might be reused or not. I really like having reviewable release note updates that don't involve a manual step of copy & paste markdown in the Github UI. So maybe moving the non-current ones to some safe place (like include them in Sphinx) might be a nice thing to do
Fri, Nov 5, 2021, 11:50:12 - poikilotherm: They would still be editable and people can create PRs to have changes done, flowing through QA etc
Fri, Nov 5, 2021, 11:51:16 - pdurbin: Yeah, once upon a time release note were composed in private (team only) Google docs. I do like being able to leave reviews on release notes. I'd miss it.
Fri, Nov 5, 2021, 11:52:02 - poikilotherm: At least there should be a documented process on how to get an edit done for a contributor if they couldn't do a PR  for them
Fri, Nov 5, 2021, 11:52:36 - pdurbin: Sure. Always doc. I don't think I follow this: "So maybe moving the non-current ones to some safe place (like include them in Sphinx) might be a nice thing to do"
Fri, Nov 5, 2021, 11:53:34 - pdurbin: I guess you're talking about 4.15 and earlier. Not it git. And if this is a problem or not.
Fri, Nov 5, 2021, 11:53:53 - pdurbin: I'd say people could just create an issue if there's a typo in 4.15.
Fri, Nov 5, 2021, 11:54:02 - poikilotherm: Pff who cares about these old versions
Fri, Nov 5, 2021, 11:54:07 - pdurbin: heh
Fri, Nov 5, 2021, 11:54:28 - pdurbin: I was gonna say. Look out but 4.0 doesn't have a v. It's not v4.0.
Fri, Nov 5, 2021, 11:54:42 - poikilotherm: And wouldn't it be a very easy task to copy & paste them 1 shot from release notes to a versioned markdown file?
Fri, Nov 5, 2021, 11:55:29 - poikilotherm: Well is this really a problem we need to address?
Fri, Nov 5, 2021, 11:56:34 - pdurbin: Just giving you the edge cases. üòÑ
Fri, Nov 5, 2021, 11:57:02 - poikilotherm: I see :-D
Fri, Nov 5, 2021, 11:57:30 - poikilotherm: How often did we change a release note <4.16?
Fri, Nov 5, 2021, 11:57:38 - poikilotherm: (within the last 2 years)
Fri, Nov 5, 2021, 11:57:59 - pdurbin: Who knows. It's not in git. üòÑ
Fri, Nov 5, 2021, 11:58:35 - poikilotherm: üëæ
Fri, Nov 5, 2021, 11:59:27 - pdurbin: <@oliver:bertuch.name "We could also create a release j..."> I forget if I told you OpenDP has this. To push packages to PyPI and crates.io, etc: https://github.com/opendp/opendp/blob/main/.github/workflows/release.yml
Fri, Nov 5, 2021, 12:01:04 - poikilotherm: Nice.
Fri, Nov 5, 2021, 12:01:20 - poikilotherm: I created https://github.com/gdcc/sword2-server/blob/main/.github/workflows/maven-release.yml to release sword2 to maven central
Fri, Nov 5, 2021, 12:01:47 - poikilotherm: But what I actually meant was creating a release on Github
Fri, Nov 5, 2021, 12:02:16 - poikilotherm: The same action I used for editing does the same thing for new releases
Fri, Nov 5, 2021, 12:03:21 - poikilotherm: But for historic reasons, some people at IQSS seem to prefer manual release processes, following the checklist from the docs
Fri, Nov 5, 2021, 12:03:55 - poikilotherm: > But that might be too much automation involved... What would Danny Brooke have to do then? üòâ

That's why I wrote ‚òùÔ∏è
Fri, Nov 5, 2021, 13:34:30 - pdurbin: There are extra steps that aren't even documented. Performance testing, for example.
Fri, Nov 5, 2021, 14:34:08 - pdurbin: I guess the first step would be to automate them.
Fri, Nov 5, 2021, 14:57:29 - pdurbin: Dataverse 5.8 is out. It has the new embargo feature: https://github.com/IQSS/dataverse/releases/tag/v5.8
Fri, Nov 5, 2021, 15:52:29 - poikilotherm: <@pdurbin:matrix.org "I guess the first step would be ..."> Not necessarily. Releases only need to cut when merging to main/master. Everything like performance testing etc happens before. So the release automation would involve packaging, tagging, creating the GH release with files and body. Maybe also rollout a new Sphinx compilation, but IIRC @donsizemore is working on that 
Fri, Nov 5, 2021, 15:55:18 - pdurbin: Testing before. Makes sense.
Fri, Nov 5, 2021, 16:34:54 - pdurbin: ...and the new "curation labels" feature. Both are enabled on https://demo.dataverse.org
Fri, Nov 5, 2021, 16:40:19 - pdurbin: Have a good weekend, everyone. Don't do anything I wouldn't do. See you Monday.
Mon, Nov 8, 2021, 06:34:50 - aialves: Good morning. Does dataverse enable LDAP authentication?
Mon, Nov 8, 2021, 07:29:33 - Don Sizemore: Good morning, not to my knowledge (but I'm often/usually wrong)
Mon, Nov 8, 2021, 08:22:07 - pdurbin: aialves: once upon a time poikilotherm wrote, "Many IDM solutions offer LDAP support as auth backend, so existing directories can be reused. No need to implement this in Dataverse" at https://github.com/IQSS/dataverse/issues/5974
Mon, Nov 8, 2021, 08:22:53 - Don Sizemore: pdurbin: I was wondering about the Active Directory implementation of LDAP by way of OAuth, but that's just speculation on my part.
Mon, Nov 8, 2021, 08:23:03 - pdurbin: And I think that's probably the cleanest way to get LDAP support these days, to have your IDM support LDAP and then hook up Dataverse to your IDM via OIDC.
Mon, Nov 8, 2021, 08:23:46 - pdurbin: Don Sizemore: yes, maybe that's just as clean. Good thought. Let me dig up a thread on LDAP from the mailing list.
Mon, Nov 8, 2021, 08:25:28 - pdurbin: Found it. aialves here's a good thread on LDAP support: https://groups.google.com/g/dataverse-community/c/rCsRC4Vvqjw/m/2xhDSCqQAAAJ
Mon, Nov 8, 2021, 08:25:44 - pdurbin: The short answer is that there is no direct LDAP support in Dataverse.
Mon, Nov 8, 2021, 08:25:54 - pdurbin: However, there are workarounds.
Mon, Nov 8, 2021, 17:19:05 - aialves: Thank you. I will exploit the presented  workarounds.
Tue, Nov 9, 2021, 10:06:04 - pdurbin: sounds good
Tue, Nov 9, 2021, 13:54:12 - Raman Prasad joined the room
Tue, Nov 9, 2021, 13:55:27 - Raman Prasad: pdurbin Is there a "delete" API available for auxiliary files? (I couldn't recall and didn't see it in the docs, https://guides.dataverse.org/en/latest/developers/aux-file-support.html)
Thanks.
Tue, Nov 9, 2021, 14:02:11 - Don Sizemore: Hey Raman! There is https://github.com/IQSS/dataverse/issues/8167 (thumbnails are auxiliary files, no?)
Tue, Nov 9, 2021, 14:18:49 - pdurbin: Raman Prasad: no, there isn't! There really should be. Do you mind creating an issue? Otherwise, I'm happy to.
Wed, Nov 10, 2021, 10:15:29 - Raman Prasad: Thanks pdurbin  and Don Sizemore!
Wed, Nov 10, 2021, 10:15:35 - Raman Prasad: I added an issue here: https://github.com/IQSS/dataverse/issues/8235
Wed, Nov 10, 2021, 10:53:24 - pdurbin: Raman Prasad: thanks! Looks perfect! And it sounds like there might already be some code for this in a fork somewhere. üòÑ
Wed, Nov 10, 2021, 11:40:11 - pdurbin: Raman Prasad: wow, a pull request already: https://github.com/IQSS/dataverse/pull/8237 üòÑ
Wed, Nov 10, 2021, 15:15:00 - pdurbin: Well folks, I'm taking off pretty soon and won't be back until Monday. Tomorrow is a holiday and I'm taking Friday off to fly to Texas for my niece's wedding. Have a good weekend!
Wed, Nov 10, 2021, 15:15:38 - Don Sizemore: enjoy!
Wed, Nov 10, 2021, 15:15:54 - pdurbin: Thanks! I definitely plan to try the BBQ. üòÑ
Wed, Nov 10, 2021, 15:19:29 - Don Sizemore: Real barbecue is made in Eastern North Carolina.
Wed, Nov 10, 2021, 15:23:17 - * pdurbin drools
Wed, Nov 10, 2021, 17:58:46 - poikilotherm: Have a nice and safe trip. No storm or flood season anymore, aye?
Thu, Nov 11, 2021, 07:01:00 - Don Sizemore: poikilotherm: we had some flooding on the Carolina coasts but Phil is flying far southwest of there. haven't heard of any flooding in Texas recently
Thu, Nov 11, 2021, 08:22:49 - poikilotherm: Don Sizemore: I'm really making progress in the direction of Testcontainers based API tests
Thu, Nov 11, 2021, 08:23:05 - poikilotherm: But now I opened pandoras box
Thu, Nov 11, 2021, 08:23:16 - Don Sizemore: are you sure it's not Payara's box?
Thu, Nov 11, 2021, 08:23:42 - poikilotherm: Tests aren't self contained... One needs to execute a whole bunch of scripts to prepare for integration testing
Thu, Nov 11, 2021, 08:23:51 - Don Sizemore: yes
Thu, Nov 11, 2021, 08:24:27 - poikilotherm: Jesus this stuff is brittle
Thu, Nov 11, 2021, 08:25:21 - Don Sizemore: "high maintenance" is another way of saying "high quality," I always say.
Thu, Nov 11, 2021, 08:26:16 - poikilotherm: Do I sense an ironic tone hidden between the lines there?
Thu, Nov 11, 2021, 08:27:21 - Don Sizemore: it was a quote I remembered from Dawson's Creek, and delivered in a romantic context. I suppose it could work for software.
Thu, Nov 11, 2021, 08:30:00 - poikilotherm: You don't usually develop Dataverse code, do you?
Thu, Nov 11, 2021, 08:32:04 - Don Sizemore: I tried to be a java programmer in undergrad, and made good grades, but I learned I'm simply not a java programmer.
Thu, Nov 11, 2021, 08:32:25 - Don Sizemore: I've been known to submit PRs for resource leaks and other minor corrections, though.
Thu, Nov 11, 2021, 08:36:51 - poikilotherm: So would you expect to be able to run a single IT from inside your IDE without running any scripts or whatever before that?
Thu, Nov 11, 2021, 08:45:44 - Don Sizemore: not an integration test, no. the "integration" part tells me there must be other services listening.
Thu, Nov 11, 2021, 08:48:11 - poikilotherm: Interesting. Would it be nice to have as an option?
Thu, Nov 11, 2021, 08:51:38 - Don Sizemore: integration tests don't use rserve, but do use Solr, and would require Postgres. if TestContainers could better automate that, all the better.
Thu, Nov 11, 2021, 12:09:48 - poikilotherm: Don Sizemore: if you wanna try the first draft... Clone https://github.com/poikilotherm/dataverse/tree/ct-mvn and hit `mvn -Pct verify`, then wait for eternity (downloading the internet before caches are warm)
Thu, Nov 11, 2021, 12:13:46 - Don Sizemore: @poikilotherm I'll glad try this out. I see Docker as a prerequisite, but is any local installation of JUnit required?
Thu, Nov 11, 2021, 12:14:12 - poikilotherm: Maven will take care of this :-D
Thu, Nov 11, 2021, 12:14:21 - Don Sizemore: I was expecting/hoping that.
Thu, Nov 11, 2021, 12:14:25 - poikilotherm: It's only 1 test so far that I included
Thu, Nov 11, 2021, 12:20:29 - Don Sizemore: it downloads payara as a dependency, nice
Thu, Nov 11, 2021, 12:21:09 - Don Sizemore: I just e-mailed the Payara project this morning to offer to set up a software mirror on ibiblio to cut down on their S3 egress bill
Thu, Nov 11, 2021, 12:21:32 - Don Sizemore: oops, I died. any particular setting for DOCKER_HOST?
Thu, Nov 11, 2021, 12:21:48 - Don Sizemore: full disclosure: I have podman installed
Thu, Nov 11, 2021, 12:24:36 - Don Sizemore: ooh ooh https://github.com/testcontainers/testcontainers-java/issues/2088#issuecomment-893404306
Thu, Nov 11, 2021, 13:02:37 - poikilotherm: Oh yeah Docker or Moby is a requirement
Thu, Nov 11, 2021, 13:03:24 - poikilotherm: AtomicJar, their new company will offer a cloud based solution so no need to install Docker on your machine
Thu, Nov 11, 2021, 13:03:40 - poikilotherm: You might also try Docker Machine and use it on a VM
Thu, Nov 11, 2021, 13:03:55 - poikilotherm: Even works with a Minikube VM with exposed Docker
Thu, Nov 11, 2021, 13:04:26 - Don Sizemore: I have many VMs with podman installed. but Docker likes to create its own networks, and our campus VPN uses that particular range, and I'm weary of having to stop docker, down the bridge, remove the bridge...
Thu, Nov 11, 2021, 13:05:01 - Don Sizemore: I've set a non-conflicting BIP for containers, but when docker-compose creates its own, SPLAT
Thu, Nov 11, 2021, 13:05:08 - poikilotherm: Um IIRC there is a setting for this IP range
Thu, Nov 11, 2021, 13:05:43 - Don Sizemore: yeah, Docker respects it for containers, but not for dynamically generated networks
Thu, Nov 11, 2021, 13:06:26 - poikilotherm: Ok. You could still create a VM with Decker inside and use it as a remote Docker.
Thu, Nov 11, 2021, 13:32:05 - Don Sizemore: this looks very promising
Mon, Nov 15, 2021, 05:39:25 - Virgile Jarrige: Hi there
Working on the French national Dataverse here :)
Do you know if it's possible to have Dataverse installed not at the "root url" 
For example: name.com/dataverse/ instead of dataverse.name.com 
Mon, Nov 15, 2021, 09:11:30 - pdurbin: Virgile Jarrige: hi! I'm afraid this isn't supported. Could you please indicate your interest in this feature by adding a comment to https://github.com/IQSS/dataverse/issues/7499 ? It looks like poikilotherm has participated in the conversation there.
Mon, Nov 15, 2021, 09:12:15 - poikilotherm: Did I?
Mon, Nov 15, 2021, 09:12:23 - poikilotherm: üôà
Mon, Nov 15, 2021, 09:12:43 - poikilotherm: Let me guess: talking about using MPCONFIG to define the subpath for the servlet?
Mon, Nov 15, 2021, 09:13:11 - pdurbin: Something along those lines, yeah.
Mon, Nov 15, 2021, 09:14:22 - pdurbin: poikilotherm: how was your meeting on Friday?
Mon, Nov 15, 2021, 09:16:07 - poikilotherm: Nice 'n' smooth
Mon, Nov 15, 2021, 09:16:20 - poikilotherm: Thx for asking :-)
Mon, Nov 15, 2021, 09:18:14 - pdurbin: great!
Mon, Nov 15, 2021, 09:18:55 - pdurbin: Ana cooked up something related over the weekend. Still testing.
Mon, Nov 15, 2021, 09:20:10 - Virgile Jarrige: Alright, thnx for the answer :)
Mon, Nov 15, 2021, 09:21:40 - pdurbin: Virgile Jarrige: sure.
Mon, Nov 15, 2021, 09:22:25 - Virgile Jarrige: To be honest, it's not really a request, it's only to be able to answer the head of the project if it is possible or not ^^
Mon, Nov 15, 2021, 09:23:38 - pdurbin: I see. Well, you're still very welcome to leave a comment, of course. Up to you. üòÑ Sometimes it's hard to tell how much people want this or that feature. üòÑ
Mon, Nov 15, 2021, 09:24:29 - Virgile Jarrige: i bet ;o
Mon, Nov 15, 2021, 09:26:36 - poikilotherm: <@pdurbin:matrix.org "Ana cooked up something related ..."> Oh? /me is *curious*
Mon, Nov 15, 2021, 09:45:52 - pdurbin: poikilotherm: she said I could go ahead and link to it: https://github.com/marketplace/actions/dataverse-uploader-action
Mon, Nov 15, 2021, 09:46:04 - pdurbin: What do you think?
Mon, Nov 15, 2021, 09:50:05 - poikilotherm: Ah I see! Very nice!
Mon, Nov 15, 2021, 09:50:16 - poikilotherm: It's updating existing datasets with new file content
Mon, Nov 15, 2021, 09:54:27 - poikilotherm: pdurbin: you know what's really hard to debug? API tests silently relying on each other...
Mon, Nov 15, 2021, 09:55:54 - pdurbin: Yikes. I hope there isn't too much of that!
Mon, Nov 15, 2021, 09:57:09 - poikilotherm: Dunno. Currently looking at DatasetIT
Mon, Nov 15, 2021, 09:57:46 - poikilotherm: Running methods individually all good. Running two or three: good. Running the whole class: BOOM
Mon, Nov 15, 2021, 09:58:19 - poikilotherm: Looks like I will need to do all of them on their own and then start testing permutations
Mon, Nov 15, 2021, 10:05:56 - pdurbin: Weird. We run the whole class all the time for pull requests. Each push.
Mon, Nov 15, 2021, 10:08:41 - poikilotherm: I'm moving the tests from Junit4 to 5 to enable for TC testing
Mon, Nov 15, 2021, 10:09:29 - poikilotherm: Neither 4 nor 5 assure you the exact default order, but subsequent runs will use the same order (so the algorithm is deterministic).
Mon, Nov 15, 2021, 10:09:40 - poikilotherm: Now orders might be different between 4 and 5
Mon, Nov 15, 2021, 10:09:59 - poikilotherm: So this dependency might have been hidden away before :-/
Mon, Nov 15, 2021, 10:13:41 - pdurbin: Oh. So you may be seeing different behavior because you are moving the tests from JUnit 4 to 5.
Mon, Nov 15, 2021, 10:14:16 - poikilotherm: Aye
Mon, Nov 15, 2021, 10:15:35 - poikilotherm: And the JSON response output is not helpfull
Mon, Nov 15, 2021, 10:16:17 - pdurbin: üòû
Mon, Nov 15, 2021, 10:27:27 - pdurbin: I guess if you make a pull request, we can see the JSON output etc. on the Jenkins server.
Mon, Nov 15, 2021, 10:28:24 - poikilotherm: Oh I could just create a Github action :-D
Mon, Nov 15, 2021, 10:28:35 - poikilotherm: It's a simple 1 liner
Mon, Nov 15, 2021, 10:28:45 - poikilotherm: mvn -Pct verify
Mon, Nov 15, 2021, 10:29:18 - poikilotherm: I'm just now starting the containers in the background and will use the IDE based execution to test and debug
Mon, Nov 15, 2021, 10:29:45 - poikilotherm: More structured output compared to Maven on CLI ;-)
Mon, Nov 15, 2021, 10:30:31 - poikilotherm: It's really already a breeze to setup the testing env that way ‚úåÔ∏è
Mon, Nov 15, 2021, 10:31:04 - poikilotherm: It's the oneliner mvn -P package docker:run -Dct.run.it and will follow the output ;-)
Mon, Nov 15, 2021, 10:33:08 - poikilotherm: Oh I might just have found the problem ‚úåÔ∏è
Mon, Nov 15, 2021, 10:33:17 - pdurbin: oh good
Mon, Nov 15, 2021, 10:33:19 - poikilotherm: {"status":"ERROR","message":"Command [DatasetCreate dataset:null] failed: Exception thrown from bean: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: org.postgresql.util.PSQLException: ERROR: function generateidentifierfromstoredprocedure() does not exist\n  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n  Position: 15\nError Code: 0\nCall: {?= CALL generateIdentifierFromStoredProcedure()}\n\tbind => [1 parameter bound]\nQuery: ResultSetMappingQuery(name=\"Dataset.generateIdentifierFromStoredProcedure\" )"}
Mon, Nov 15, 2021, 10:33:57 - poikilotherm: It helps running this from an IDE that processes the output... Not starring against a wall of text
Mon, Nov 15, 2021, 10:33:59 - pdurbin: Yeah, you're gonna want that stored procedure.
Mon, Nov 15, 2021, 10:34:11 - poikilotherm: I wonder why it's not there
Mon, Nov 15, 2021, 10:34:18 - pdurbin: The installer should add it.
Mon, Nov 15, 2021, 10:34:26 - poikilotherm: Shouldn't this be injected via Flyway?
Mon, Nov 15, 2021, 10:35:27 - pdurbin: The dev rebuild script adds it here: https://github.com/IQSS/dataverse/blob/v5.8/scripts/dev/dev-rebuild.sh#L55-L56
Mon, Nov 15, 2021, 10:36:51 - poikilotherm: Why on earth isn't this part of a flyway migration?
Mon, Nov 15, 2021, 10:38:46 - poikilotherm: Thx for the hint. Maybe I'll open an issue... üôÑ
Mon, Nov 15, 2021, 10:39:52 - pdurbin: If memory serves, the original idea was that it's optional. Only needed by installations who use that identifier type. But we do test it so it's needed in dev/CI environements.
Mon, Nov 15, 2021, 10:42:21 - poikilotherm: That's fine! It should stay optional. But if you use it, Dataverse should be able to deploy some commonly used types itself and optionally a user might provide it's own script
Mon, Nov 15, 2021, 10:43:42 - poikilotherm: Oh oh oh now I have an idea!!!
Mon, Nov 15, 2021, 10:43:59 - poikilotherm: Could it be that the test for this functionality sets this but never unsets it?
Mon, Nov 15, 2021, 10:44:11 - poikilotherm: That would pretty much explain the dependency!!!
Mon, Nov 15, 2021, 10:44:39 - poikilotherm: And explain why tests do not fail if this is not set (running a single test)
Mon, Nov 15, 2021, 10:46:14 - poikilotherm: YES!!! The test is setting the behaviour, but cannot unset it because the test fails before unsetting it!
Mon, Nov 15, 2021, 10:49:11 - pdurbin: ah
Mon, Nov 15, 2021, 10:49:23 - poikilotherm: At least someone did a cleanup before and after the test class and delete the setting
Mon, Nov 15, 2021, 10:50:12 - poikilotherm: So this should be cleaned up a bit to avoid the dependency within the classes testcases but OK
Mon, Nov 15, 2021, 10:50:27 - poikilotherm: That's optimization, not a huge flaw :-D
Mon, Nov 15, 2021, 10:50:49 - poikilotherm: I see passing tests ü•≥
Mon, Nov 15, 2021, 10:51:05 - poikilotherm: YESSSSSS
Mon, Nov 15, 2021, 10:52:02 - poikilotherm: Alright, that's it for me for today. Going to the movies now, see Mr Bond in action
Mon, Nov 15, 2021, 10:52:41 - pdurbin: heh, enjoy!
Mon, Nov 15, 2021, 12:35:49 - Kir√°ly P√©ter: Hi, I have a question. We are using 5.5 and now I have some time to upgrade to the latest version. The release description says that we shoould upgrade Payara to 5.5 or later. I tried the latest one, which is payara5.2021.8, but whatever I tried I was not able to deploy the dataverse 5.6 war file because of a databaase connection error.
```
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.7.payara-p3): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Connection could not be allocated because: General error: "java.lang.IllegalStateException: Unable to read the page at position 549755823554 [1.4.200/6]" [50000-200]
Error Code: 0
	at org.eclipse.persistence.exceptions.DatabaseException.sqlException(DatabaseException.java:318)
	at org.eclipse.persistence.sessions.JNDIConnector.connect(JNDIConnector.java:150)
	at org.eclipse.persistence.sessions.DatasourceLogin.connectToDatasource(DatasourceLogin.java:172)
	at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.setOrDetectDatasource(DatabaseSessionImpl.java:225)
	at org.eclipse.persistence.internal.sessions.DatabaseSessionImpl.loginAndDetectDatasource(DatabaseSessionImpl.java:809)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryProvider.login(EntityManagerFactoryProvider.java:256)
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:772)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:222)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.createEntityManagerImpl(EntityManagerFactoryDelegate.java:330)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManagerImpl(EntityManagerFactoryImpl.java:350)
	at org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.createEntityManager(EntityManagerFactoryImpl.java:313)
	at org.glassfish.persistence.jpa.JPADeployer$2.visitPUD(JPADeployer.java:507)

``` 
Mon, Nov 15, 2021, 12:36:36 - Kir√°ly P√©ter: Could you tell me which Payara version do you use, and if you saw such a problem, how did you solved it?
Mon, Nov 15, 2021, 12:58:14 - Don Sizemore: there's an issue for that... gimme a sec
Mon, Nov 15, 2021, 12:58:58 - Don Sizemore: Kir√°ly P√©ter: it's Payara having trouble updating the EJB Timer H2 DB: https://github.com/IQSS/dataverse/issues/8064#issuecomment-965627984
Mon, Nov 15, 2021, 13:01:00 - Kir√°ly P√©ter: Don Sizemore: Thanks a lot!
Mon, Nov 15, 2021, 13:23:27 - pdurbin: Huh. Different `IllegalStateException` error though. But yeah, I assume it's the same issue.
Mon, Nov 15, 2021, 13:23:57 - Don Sizemore: Kir√°ly P√©ter: thank Jim Myers, who found it. I hit that error and searched for it in Payara GitHub issues, but the answer was in H2s GitHub issues
Mon, Nov 15, 2021, 15:11:36 - Kir√°ly P√©ter: ```
sudo -u glassfish rm -rf $PAYARA/glassfish/domains/domain1/lib/databases
```
did the trick, and I was able to intall Dataverse 5.6 under Payara 5.8. Thanks a lot again for bot Don Sizemore  and Jim Myers!
Mon, Nov 15, 2021, 15:15:33 - pdurbin: Thanks for letting us know, Kir√°ly P√©ter 
Tue, Nov 16, 2021, 06:05:59 - r.hamma: hello so what are the alternatives for powerpoint and word on rhel?
Tue, Nov 16, 2021, 07:27:46 - r.hamma: i ve been trying to install docker but this happened
Tue, Nov 16, 2021, 07:27:59 - r.hamma: Docker CE Test - x86_64                    35  B/s | 379  B     00:10    
Errors during downloading metadata for repository 'docker-ce-test':
  - Status code: 404 for https://download.docker.com/linux/rhel/8/x86_64/test/repodata/repomd.xml (IP: 13.224.99.36)
Error: Failed to download metadata for repo 'docker-ce-test': Cannot download repomd.xml: Cannot download repodata/repomd.xml: All mirrors were tried

Tue, Nov 16, 2021, 07:36:18 - Don Sizemore: I get a 404 for repomd.xml as well.
Tue, Nov 16, 2021, 07:39:14 - r.hamma: if u re using rhel8 
Tue, Nov 16, 2021, 07:39:27 - r.hamma: it's because the repo isn't availble yet
Tue, Nov 16, 2021, 07:39:43 - Don Sizemore: no, I just called it with curl. you're on Debian though, weren't you?
Tue, Nov 16, 2021, 07:39:49 - r.hamma: i want to drop the installation so i could use yum again 
Tue, Nov 16, 2021, 07:40:15 - r.hamma: i was but now i am using rhel8
Tue, Nov 16, 2021, 07:41:34 - r.hamma: and i was trying to install docker using yum i found out that thr are some errors that aren't my current problems now so i just want to drop everything ,do u know how ?
Tue, Nov 16, 2021, 07:42:22 - Don Sizemore: depending on what you're trying to undo, there is `yum remove` and `yum clean all` and you can remove the undesired repo files from /etc/yum.repos.d
Tue, Nov 16, 2021, 07:42:49 - Don Sizemore: but if it's a VM, if you really want to drop everything, it may be cleaner to just reinstall
Tue, Nov 16, 2021, 08:06:21 - r.hamma: thanks i did that and it was a success
Tue, Nov 16, 2021, 08:15:06 - pdurbin: nothing like a clean install
Tue, Nov 16, 2021, 08:17:52 - r.hamma: now i have another problem i don't remember the cmd exactly but each time i try to install something it tries to install first all postger versions i don't know why 
Tue, Nov 16, 2021, 08:18:10 - r.hamma: what should i do to stop it plw
Tue, Nov 16, 2021, 08:18:18 - r.hamma: plz*
Tue, Nov 16, 2021, 08:19:08 - pdurbin: Are you running `yum install`?
Tue, Nov 16, 2021, 08:19:27 - r.hamma: yess i was running yum install catdoc 
Tue, Nov 16, 2021, 08:19:53 - r.hamma: and it tries to install the old versions pf postgres ughghu
Tue, Nov 16, 2021, 08:20:32 - pdurbin: Huh. Weird. Can you show us the output?
Tue, Nov 16, 2021, 08:20:51 - r.hamma: okey one sec
Tue, Nov 16, 2021, 08:22:08 - r.hamma: [hamma@localhost KloucheWeb]$ sudo yum install catdoc
[sudo] password for hamma: 
Updating Subscription Management repositories.
/usr/local/lib/python3.6/site-packages/dateutil/parser/_parser.py:70: UnicodeWarning: decode() called on unicode string, see https://bugzilla.redhat.com/show_bug.cgi?id=1693751
  instream = instream.decode()

PostgreSQL 9.6 for RHEL/CentOS 8 - x86_64 163 kB/s | 534 kB     00:03    
Red Hat Enterpris 12% [==               ] 316 kB/s | 4.5 MB     01:46 ETA


Tue, Nov 16, 2021, 08:23:50 - pdurbin: Oh, I think that's just yum caching info about various yum repos in /etc/yum.repos.d like Don Sizemore was saying. You can disable yum repos you don't think you need.
Tue, Nov 16, 2021, 08:24:38 - r.hamma: which repo do u thing it caused this 
Tue, Nov 16, 2021, 08:25:19 - pdurbin: I'd do an `ls` in `/etc/yum.repos.d`. One of those.
Tue, Nov 16, 2021, 08:26:31 - r.hamma: i dunno i am kinda scared to delete something i shouldn't
Tue, Nov 16, 2021, 08:27:13 - pdurbin: I think you just edit a file and change "enabled" from 1 to 0 or something.
Tue, Nov 16, 2021, 08:46:05 - Don Sizemore: @r.hamma edit /etc/yum.repos.d/pgdg-9.6.repo and set enabled=0
Tue, Nov 16, 2021, 08:46:38 - Don Sizemore: or whichever repo you think is causing the error
Tue, Nov 16, 2021, 09:09:51 - pdurbin: The community call starts in a little under an hour: https://groups.google.com/g/dataverse-community/c/E2K90u58MwY/m/7h_VDlOzAgAJ
Tue, Nov 16, 2021, 13:57:09 - pdurbin: poikilotherm: nice feature: "New location with shorter URLs ('globaldataversecommunityconsortium' -> 'gdcc')" https://groups.google.com/g/dataverse-community/c/CDvd6TSC34I/m/elAGuiPKAQAJ
Tue, Nov 16, 2021, 13:57:40 - poikilotherm: üòé
Tue, Nov 16, 2021, 13:57:55 - poikilotherm: Should have sold it ü§ë
Tue, Nov 16, 2021, 13:58:11 - poikilotherm: Would be even shorter with gdcc.io
Tue, Nov 16, 2021, 14:08:04 - pdurbin: ah, good point üòÑ
Wed, Nov 17, 2021, 12:33:41 - poikilotherm: Payara 5.2021.9 has been released today with initial JDK 17 support
Wed, Nov 17, 2021, 12:34:04 - poikilotherm: It might be a good idea to add some testing workflows for this...
Wed, Nov 17, 2021, 12:34:34 - pdurbin: Nice!
Wed, Nov 17, 2021, 12:35:12 - poikilotherm: Do we need to send out a info about the recent Java 8 updates, disabling TLS 1.0 and 1.1? Didn't look up yet what's the situation with 11
Wed, Nov 17, 2021, 12:36:23 - poikilotherm: There might be some older installs out there that might prefer avoiding the pitfall
Wed, Nov 17, 2021, 12:37:24 - pdurbin: Hmm. Well, they should upgrade to Java 11.
Wed, Nov 17, 2021, 12:39:23 - pdurbin: Just heard about https://github.com/ubc-library-rc/dryad2dataverse at https://groups.google.com/g/dataverse-community/c/u-ZkHDwQKvQ/m/pootsR_CAgAJ
Wed, Nov 17, 2021, 12:39:30 - Don Sizemore: the TLS bits should only affect installations who have enabled "secure-admin"
Wed, Nov 17, 2021, 12:39:48 - Don Sizemore: and can be re-enabled in java.security if necessary
Thu, Nov 18, 2021, 03:51:21 - scalarmotion joined the room
Thu, Nov 18, 2021, 04:21:22 - scalarmotion: Hey, I'm currently working on a fork of Dataverse for a research project. Does Dataverse have (or intend to have) any support (or unofficial conventions) for the storage of encrypted data? The closest thing I've found are the plans to implement TRSAs, but this does not seem to fit my use case. My main concerns are:

1. What encrypted file types/extensions are recognised, if any? I haven't found any widely accepted standards elsewhere, nor in the specific .properties files included with Dataverse. Does it make sense to just use the same file type as the original, even if the encrypted files are no longer valid for that format? This also leads into:

2. How can metadata be handled? Could Dataverse support displaying the original metadata of the unencrypted file alongside the encrypted file, or would significant changes be necessary?
Thu, Nov 18, 2021, 07:56:19 - Don Sizemore: @scalarmotion the TRSA component is being written as part of the CyberImpact project, which will eventually use homomorphic encryption, but that's outside of Dataverse proper
Thu, Nov 18, 2021, 07:56:59 - Don Sizemore: @scalarmotion @pdurbin is working with the OpenDP project, and will likely respond here soon. In the mean time I'm happy to put you in touch with the impact group if you're interested.
Thu, Nov 18, 2021, 09:10:19 - pdurbin: scalarmotion: hi! Good questions. You might want to take a look at https://www.iq.harvard.edu/roadmap-dataverse-project which (like Don Sizemore ) mentions the TRSA project. Also listed in Globus, where I assume files could be encrypted but I don't know. That's all in "Planning/Design". Under "Future" you'll see support for increasingly high levels of security: blue, green, yellow, and orange. Red is omitted. These colors map to levels at https://security.harvard.edu/data-classification-table
Thu, Nov 18, 2021, 09:12:52 - pdurbin: As to a particular encrypted file, I could create a file called passwords.txt and then encrypt it with GPG and have it called password.gpg and then upload this to Dataverse. Dataverse wouldn't do anything special with this encrypted file. It would just treat it as a binary file. Does that make sense?
Thu, Nov 18, 2021, 09:13:08 - pdurbin: Also, which fork and do you plan to contribute back? üòÑ
Thu, Nov 18, 2021, 10:04:22 - Lincoln: Quick question: Is harvesting only for published datasets? https://guides.dataverse.org/en/latest/admin/harvestserver.html#id2
Thu, Nov 18, 2021, 10:04:37 - pdurbin: yep
Thu, Nov 18, 2021, 10:04:38 - Don Sizemore: I think so.
Thu, Nov 18, 2021, 10:04:56 - Lincoln: thank you
Thu, Nov 18, 2021, 12:04:54 - Lincoln: <@lincoln55:matrix.org "Quick question: Is harvesting on..."> Are there any alternatives/workaround for the unpublished ones?
Thu, Nov 18, 2021, 13:17:48 - pdurbin: Lincoln: are you talking about two installations of Dataverse? One is harvesting from the other?
Thu, Nov 18, 2021, 14:59:19 - Lincoln: pdurbin: yes
Thu, Nov 18, 2021, 14:59:50 - pdurbin: I guess you could import the datasets instead.
Thu, Nov 18, 2021, 15:00:11 - pdurbin: using either JSON or DDI
Thu, Nov 18, 2021, 15:02:19 - Lincoln: is it done manually per dataset then
Thu, Nov 18, 2021, 15:03:10 - pdurbin: yeah
Thu, Nov 18, 2021, 15:03:30 - pdurbin: But maybe you should tell us about what problem you're trying to solve. Or what your goal is. üòÑ
Thu, Nov 18, 2021, 15:06:15 - Lincoln: okay...so there are (let say) 2 dataverse installations at different location containing datasets (in draft as well) with integrated external tools, and they would like to get merged/integrated with one central /main dataverse
Thu, Nov 18, 2021, 15:08:23 - pdurbin: And harvesting works fine for the published datasets? No problems there?
Thu, Nov 18, 2021, 15:08:50 - Lincoln: to be honest..i have not started yet
Thu, Nov 18, 2021, 15:08:59 - pdurbin: üòÑ
Thu, Nov 18, 2021, 15:09:13 - Lincoln: lol
Thu, Nov 18, 2021, 15:10:31 - pdurbin: Harvesting is the standard way to replicate metadata across Dataverse installations. Harvard Dataverse harvests from several installations, for example. Drafts can't be harvested but I don't think we worry about that.
Thu, Nov 18, 2021, 15:11:43 - Lincoln: i do understand your point
Thu, Nov 18, 2021, 15:12:08 - Lincoln: :)
Thu, Nov 18, 2021, 15:15:50 - Lincoln: will dataset linking do a trick?
Thu, Nov 18, 2021, 15:15:56 - pdurbin: Is the idea that a superuser could log into the central/main installation and see drafts from the other installation? If so, maybe some sort of daily or weekly report could work instead. Some tools to create reports have been created by the community here: https://guides.dataverse.org/en/5.8/admin/reporting-tools-and-queries.html
Thu, Nov 18, 2021, 15:18:58 - pdurbin: You can only link to datasets that are already in your database.
Thu, Nov 18, 2021, 15:21:30 - Lincoln: <@pdurbin:matrix.org "Is the idea that a superuser cou..."> - yea thats the idea. Ill have a look over it. Thank you
Thu, Nov 18, 2021, 15:25:33 - pdurbin: Sure. I don't think we have any open issues about harvesting drafts. You're welcome to open one (please explain your use case) or start a discussion at https://groups.google.com/g/dataverse-community
Thu, Nov 18, 2021, 15:32:50 - Lincoln: <@pdurbin:matrix.org "Sure. I don't think we have any ..."> pdurbin: thank you for the suggestion.
Thu, Nov 18, 2021, 15:34:49 - pdurbin: Sure. More opinions than just mine that way. üòÑ
Fri, Nov 19, 2021, 03:34:43 - Patrick Vranckx: Hi. Is it possible to display matadata of an harvested dataset in the web interface ?
Fri, Nov 19, 2021, 08:45:39 - pdurbin: Patrick Vranckx: no, the idea is that harvested datasets are "discoverable" as search results but when you cilck them you are taken to the original landing page of the dataset on the server it was harvested from.
Fri, Nov 19, 2021, 10:11:23 - Philipp: We are struggling with a dataset where a user has been trying to upload a number of larger files, both through http and using DVUploader (unfortunately without consulting us first...). Now, we're not able to access the dataset through GUI anymore. Any idea how to solve this problem? My idea is to delete through API all the uploaded files. I was able to retrieve a list of file IDs using API and JSON/jq. Do you think deleting the files will help? Thanks!
Fri, Nov 19, 2021, 10:12:20 - Don Sizemore: We may want to summon Leonid, who regularly deals with this for IQSS. Is the dataset public? Can one "see" it over the API?
Fri, Nov 19, 2021, 10:12:58 - Don Sizemore: and does anything helpful get written to server.log when one calls it in the GUI or the API?
Fri, Nov 19, 2021, 10:14:13 - Don Sizemore: secondly, when you try to view the dataset via the GUI do you get any errors in your browser's console?
Fri, Nov 19, 2021, 10:20:49 - Don Sizemore: Leonid suggests that deleting the files may help, but more troubleshooting first would be preferable.
Fri, Nov 19, 2021, 10:21:33 - Don Sizemore: and just to be certain, you're having trouble with a number of larger files, and not a large number of files?
Fri, Nov 19, 2021, 10:21:48 - pdurbin: Does the GUI time out? Any errors in the GUI? Any errors in server.log?
Fri, Nov 19, 2021, 10:32:52 - Philipp: Yes, I think so.

Error message:

Internal Server Error
The server encountered an internal error or misconfiguration and was unable to complete your request.

From the log file:

[2021-11-18T10:33:44.044+0100] [Payara 5.2021.6] [WARNING] [] [edu.harvard.iq.dataverse.dataaccess.ImageThumbConverter] [tid: _ThreadID=94 _ThreadName=http-thread-pool::jk-connector(5)] [timeMillis: 1637228024044] [levelValue: 900] [[
  Caught exception attempting to read the image file with ImageIO.read(InputStream)]]


Fri, Nov 19, 2021, 10:35:46 - Don Sizemore: what version of Dataverse is this? IQSS added a thumbnail generation size limit recently
Fri, Nov 19, 2021, 10:38:02 - pdurbin: How many image files in the dataset? I guess you could try deleting them. What a weird bug if that's truly the issue.
Fri, Nov 19, 2021, 10:38:58 - Don Sizemore: you could also drop some dummy PNGs with <storageidentifier>.thumb140 <storageidentifier>.thumb48 naming conventions in the directory alongside the datafiles
Fri, Nov 19, 2021, 10:39:17 - Don Sizemore: Dataverse sees that they're images and will check for the presence of them
Fri, Nov 19, 2021, 10:40:32 - Don Sizemore: Kevin suggests setting https://guides.dataverse.org/en/5.8/installation/config.html#dataverse-dataaccess-thumbnail-image-limit
Fri, Nov 19, 2021, 10:40:53 - Don Sizemore: which was added in 2017 and is not the "recent" setting I thought it was, sorry about that
Fri, Nov 19, 2021, 10:43:45 - pdurbin: But still, "We had that problem on 4.0 rollout which is why we have that option" so worth trying.
Fri, Nov 19, 2021, 10:44:57 - Don Sizemore: pdurbin: I was apologizing for not suggesting it first, pending the installation version
Fri, Nov 19, 2021, 10:45:23 - pdurbin: yeah
Fri, Nov 19, 2021, 10:45:33 - pdurbin: can't wait. too much coffee
Fri, Nov 19, 2021, 10:54:14 - Philipp: Thanks, Don, Phil, and Kevin. I now see that the dataset contains 250 NDPI files  (https://fileinfo.com/extension/ndpi), never heard about before. I think I'm going to delete them. Do you think I'll get the same problem when I afterward upload them through API?
Fri, Nov 19, 2021, 10:54:59 - pdurbin: What if you create a new draft dataset and upload one NDPI file? Same problem?
Fri, Nov 19, 2021, 10:55:44 - Philipp: Good idea. I'll try with some of the file in our test environment.
Fri, Nov 19, 2021, 11:31:27 - pdurbin: I'm on the edge of my seat.
Fri, Nov 19, 2021, 11:51:55 - pdurbin: I just tried this NPDI file locally: https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/GG0D7G/FZCDGM
Fri, Nov 19, 2021, 11:52:32 - pdurbin: The dataset does load eventually but it takes a while for this message to appear 8 times in server.log: Caught exception attempting to read the image file with ImageIO.read(InputStream)]]
Fri, Nov 19, 2021, 11:53:00 - pdurbin: I can only imagine how long it takes with 250 NDPI files. Or 250 large tiff files, I assume.
Fri, Nov 19, 2021, 11:53:21 - pdurbin: So yeah, the fix is probably to set https://guides.dataverse.org/en/5.8/installation/config.html#dataverse-dataaccess-thumbnail-image-limit
Fri, Nov 19, 2021, 11:55:01 - pdurbin: Ah, it's this: https://github.com/IQSS/dataverse/issues/8176 (from nightowlaz )
Fri, Nov 19, 2021, 11:56:41 - r.hamma: hello,is it doable to turn a deb app to rpm so i can use it on my rhel? 
Fri, Nov 19, 2021, 11:59:07 - pdurbin: I've heard of such things, at least. No experience with it.
Fri, Nov 19, 2021, 12:01:03 - r.hamma: i ve tried this cmd perl Makefile.PL; make; make install
Fri, Nov 19, 2021, 12:01:39 - r.hamma: and it generated this 
Fri, Nov 19, 2021, 12:01:44 - r.hamma: Generating a Unix-style Makefile
Writing Makefile for Alien
Writing MYMETA.yml and MYMETA.json
mkdir blib: Permission denied at /usr/share/perl5/vendor_perl/ExtUtils/Command.pm line 299.
make: *** [Makefile:344: blib/lib/.exists] Error 255
mkdir blib: Permission denied at /usr/share/perl5/vendor_perl/ExtUtils/Command.pm line 299.
make: *** [Makefile:344: blib/lib/.exists] Error 255

Fri, Nov 19, 2021, 12:02:01 - pdurbin: Yeah. "Alien". That's the one I've heard of.
Fri, Nov 19, 2021, 12:02:07 - r.hamma: i m thinking i need to do chmod +x or something
Fri, Nov 19, 2021, 12:03:11 - r.hamma: i actually did chmod +x /usr/share/perl5/vendor_perl/ExtUtils/Command.pm
Fri, Nov 19, 2021, 12:03:38 - r.hamma: but it still generate the error
Fri, Nov 19, 2021, 12:04:28 - pdurbin: Is this related to Dataverse? üòÑ
Fri, Nov 19, 2021, 12:05:02 - r.hamma: nah u re right i shouldn't ask it here 
Fri, Nov 19, 2021, 12:05:20 - pdurbin: I used to run a channel on freenode for this kind of stuff.
Fri, Nov 19, 2021, 12:05:57 - pdurbin: But then freenode turned evil or someting. So said poikilotherm and bjonnh . So I shut it down. And we moved #dataverse here.
Fri, Nov 19, 2021, 12:07:02 - pdurbin: The website is still around: https://crimsonfu.github.io
Fri, Nov 19, 2021, 12:07:44 - r.hamma: whr is mr Don my friend always got some answers to my ambiguities üòÜüòÖ
Fri, Nov 19, 2021, 12:08:11 - pdurbin: Mr. Don is around. Maybe he's out to lunch. üòÑ
Fri, Nov 19, 2021, 12:08:38 - pdurbin: A potentially bad fix for your problem is to become root first. Then you can write wherever you want.
Fri, Nov 19, 2021, 12:09:52 - r.hamma: thanks Mr. Durbin,u re so cool
Fri, Nov 19, 2021, 12:10:15 - pdurbin: üòé
Fri, Nov 19, 2021, 12:12:14 - r.hamma: so i ve been wondering
Fri, Nov 19, 2021, 12:12:38 - r.hamma: i want to customize my dataverse to suit my entreprise
Fri, Nov 19, 2021, 12:13:14 - r.hamma: the interface the login and other stuff
Fri, Nov 19, 2021, 12:13:30 - r.hamma: what do u suggest?
Fri, Nov 19, 2021, 12:14:21 - pdurbin: We were just talking about the design at https://dorel.univ-lorraine.fr/dataverse/univ-lorraine
Fri, Nov 19, 2021, 12:14:36 - r.hamma: this dataverse is a web app right? i mean it has its html ,css,js maybe php files right?
Fri, Nov 19, 2021, 12:15:03 - pdurbin: They used a custom CSS stylesheet: https://guides.dataverse.org/en/5.8/installation/config.html#custom-stylesheet
Fri, Nov 19, 2021, 12:15:22 - pdurbin: No PHP but yes, HTML, CSS, and JS.
Fri, Nov 19, 2021, 12:19:34 - r.hamma: and what if i want to add another language 
Fri, Nov 19, 2021, 12:19:56 - r.hamma: as an option for my future users?
Fri, Nov 19, 2021, 12:21:35 - pdurbin: You want to add PHP? I'm confused.
Fri, Nov 19, 2021, 12:22:02 - r.hamma: what backend it is used to build this web app?
Fri, Nov 19, 2021, 12:22:06 - pdurbin: Java
Fri, Nov 19, 2021, 12:22:24 - r.hamma: oh nice
Fri, Nov 19, 2021, 12:22:37 - pdurbin: Java, Postgres, Solr. Please see https://guides.dataverse.org/en/5.8/developers/intro.html#core-technologies
Fri, Nov 19, 2021, 12:22:47 - r.hamma: hhhh i forgot 
Fri, Nov 19, 2021, 12:23:24 - r.hamma: it is just i had another homework from another teacher who asked me to build a new web app 
Fri, Nov 19, 2021, 12:23:35 - pdurbin: You know it's serious when it's written in Java. üòÑ
Fri, Nov 19, 2021, 12:23:36 - r.hamma: so i was like why not use this 
Fri, Nov 19, 2021, 12:24:24 - r.hamma: i heard that docker stopped its support for rhel
Fri, Nov 19, 2021, 12:24:40 - r.hamma: is it true?
Fri, Nov 19, 2021, 12:25:44 - pdurbin: Hmm. Not sure. Mr. Don Sizemore might know.
Fri, Nov 19, 2021, 12:28:18 - r.hamma: so as u may remember i installed dataverse on my own pc on rhel os and now i have to give it to the entreprise where i did my trainneship last month,how can i give it to them ,is it like an ova machine that can be imported into virtual box , or do i have to reinstall it on their own computer? 
Fri, Nov 19, 2021, 12:29:31 - pdurbin: Why not both? üòÑ
Fri, Nov 19, 2021, 12:30:13 - r.hamma: üòÜüòÜ
Fri, Nov 19, 2021, 12:31:33 - r.hamma: u mean i do can copy it to virtual box or something without reinstalling it?
Fri, Nov 19, 2021, 12:32:02 - r.hamma: yayy Mr. Don is here
Fri, Nov 19, 2021, 12:32:23 - Don Sizemore: you can install Dataverse inside Docker or Virtualbox
Fri, Nov 19, 2021, 12:33:57 - r.hamma: like install rocky and create a machine on virtualbox and then reinstall dataverse on it?
Fri, Nov 19, 2021, 12:36:37 - Don Sizemore: Vagrant is a wrapper script around VirtualBox and will do that for you
Fri, Nov 19, 2021, 12:37:14 - r.hamma: do what exactly?
Fri, Nov 19, 2021, 12:37:16 - Don Sizemore: you need to install Vagrant and VirtualBox, then you can git clone https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible and just do a "vagrant up"
Fri, Nov 19, 2021, 12:38:21 - Don Sizemore: you were asking about RHEL and Docker... Red Hat has pretty much switched to podman for multiple reasons
Fri, Nov 19, 2021, 12:38:44 - Don Sizemore: I have a podman branch in my fork, but it probably needs some TLC to make it current
Fri, Nov 19, 2021, 12:47:16 - poikilotherm: > <@pdurbin:matrix.org> You know it's serious when it's written in Java. üòÑ

Some students back in grad school told everyone not to go for PHP (and use Java instead) because of its lack of static typing... Things changed quite a bit since then üòâ
Fri, Nov 19, 2021, 12:55:38 - r.hamma: > <@donsizemore:matrix.org> you need to install Vagrant and VirtualBox, then you can git clone https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible and just do a "vagrant up"

so after vagrant up 
i will have a new installation of dataverse on virtual box ,right? 
Fri, Nov 19, 2021, 12:56:47 - r.hamma: i am sorry Mr. Don i think u ve already explained this to me , although i am still a newbie , kindly accept my gratitude 
Fri, Nov 19, 2021, 12:58:24 - Don Sizemore: if everything goes well, yes
Fri, Nov 19, 2021, 12:58:50 - Don Sizemore: granted, it's in virtual box, but containers and VMs are great for testing purposes
Fri, Nov 19, 2021, 13:04:30 - r.hamma: so then , after installing it on virtual box ,all i have to do is export this machine that contains the new installation of dataverse (what's it called, vagrant?) ova file ,and import it to another computer which needs to also have both vagrant and Virtual box?
Fri, Nov 19, 2021, 13:13:22 - Don Sizemore: you could do that, yes, but you're wanting to box up a Dataverse installation and hand it off?
Fri, Nov 19, 2021, 14:08:29 - poikilotherm: pdurbin: I'd ~~welcome~~ highly appreciate thoughts on the use of data modelling and DTOs at https://github.com/IQSS/dataverse/issues/5277#issuecomment-974302545 üòÅ
Fri, Nov 19, 2021, 14:31:10 - pdurbin: poikilotherm: JAXB, huh? Maybe we should start with a small proof of concept.
Fri, Nov 19, 2021, 14:42:11 - poikilotherm: Or with writing down a concept, without touching any code first üôà
Fri, Nov 19, 2021, 14:43:39 - pdurbin: "rough consensus and running code" right? For me, the running code is important. üòÑ https://en.wikipedia.org/wiki/Rough_consensus
Fri, Nov 19, 2021, 14:43:59 - poikilotherm: ü§ó
Fri, Nov 19, 2021, 14:45:35 - poikilotherm: You know what would be really cool for this? Having an abstraction module as a POM dependency, so we can interface plugin code with the Dataverse internal classes...
Fri, Nov 19, 2021, 14:46:33 - poikilotherm: Like an abstract Dataset class etc, making it possible to code against Dataverse without adding it as a huge dependency
Fri, Nov 19, 2021, 14:47:00 - pdurbin: I think I know what you mean. What if https://github.com/IQSS/dataverse-client-java could make use of these classes? Is that the idea?
Fri, Nov 19, 2021, 14:47:49 - poikilotherm: Uhm maybe. That might be an interesting thing to do
Fri, Nov 19, 2021, 14:48:05 - r.hamma: <@donsizemore:matrix.org "you could do that, yes, but you'..."> yes exactly,the thing that i don't understand ,where is the step that requires rhel environement,i could get vagrant and virtualbox on any os ,so why it is recommended to get dataverse on rhel environement or on its derivatives?
Fri, Nov 19, 2021, 14:48:11 - poikilotherm: On second thought: yeah, actually that would make perfect sense
Fri, Nov 19, 2021, 14:49:30 - poikilotherm: We're doing this API abstraction all the time with Jakarta EE and others. Coding against API, implementation left to runtime
Fri, Nov 19, 2021, 14:49:45 - Don Sizemore: r.hamma: the recommendation is for the installation platform (and debian/ubuntu should work just fine)
Fri, Nov 19, 2021, 14:50:26 - r.hamma: Don Sizemore: may i message you individually ?
Fri, Nov 19, 2021, 14:51:01 - Don Sizemore: that's fine
Fri, Nov 19, 2021, 14:52:45 - pdurbin: poikilotherm: that's just how I've heard it talked about. 3 projects. Client, server, and a shared model.
Fri, Nov 19, 2021, 14:54:35 - poikilotherm: This really would be frick'n awesome. So many services running aside Dataverse, written in Java, using the same model would be much easier to do 
Fri, Nov 19, 2021, 14:54:56 - poikilotherm: Like adding a download helper without CGI-BIN üëª
Fri, Nov 19, 2021, 14:55:28 - pdurbin: heh
Fri, Nov 19, 2021, 14:55:42 - poikilotherm: But I guess this will not become a reality - it would require a very large portion of changes within the code base
Fri, Nov 19, 2021, 14:57:01 - Don Sizemore: poikilotherm: would ingest functionality be a good plugin use-case?
Fri, Nov 19, 2021, 14:57:14 - poikilotherm: Yes of course
Fri, Nov 19, 2021, 14:57:33 - Don Sizemore: poikilotherm: and remote storage?
Fri, Nov 19, 2021, 14:57:57 - poikilotherm: https://github.com/IQSS/dataverse/issues/7050
Fri, Nov 19, 2021, 14:58:04 - poikilotherm: üòé
Fri, Nov 19, 2021, 14:58:46 - Don Sizemore: https://github.com/IQSS/dataverse/issues/7852
Fri, Nov 19, 2021, 15:00:01 - Don Sizemore: I'm asking because Akio (and to a certain extent, Jim) are working on these very things, and wondering whether I should send along your plugin proposal
Fri, Nov 19, 2021, 15:00:55 - poikilotherm: Oh I think Jim knows about these plugin ideas
Fri, Nov 19, 2021, 15:01:09 - Don Sizemore: I'm not sure Akio does.
Fri, Nov 19, 2021, 15:01:43 - poikilotherm: They might also just think "nah, this is too big, let's find workarounds"
Fri, Nov 19, 2021, 15:01:46 - pdurbin: Do we like SPI? We used to have an issue or two around using it more. Java's Service Provider Interface.
Fri, Nov 19, 2021, 15:02:21 - poikilotherm: SPI is fine, but it's still tightly coupled. Not really a loadable plugin.
Fri, Nov 19, 2021, 15:02:49 - pdurbin: So what would we use instead? OSGI?
Fri, Nov 19, 2021, 15:03:58 - poikilotherm: OMG NOOOOO√ì
Fri, Nov 19, 2021, 15:04:04 - poikilotherm: üôà
Fri, Nov 19, 2021, 15:04:07 - pdurbin: Jenkins has plugins. What does it use?
Fri, Nov 19, 2021, 15:04:20 - poikilotherm: OSGi was made for stuff like Payara etc
Fri, Nov 19, 2021, 15:04:57 - poikilotherm: In #7050 I mention frameworks like https://pf4j.org/
Fri, Nov 19, 2021, 15:05:51 - poikilotherm: Jenkins has a custom plugin class loader https://www.jenkins.io/doc/developer/plugin-development/dependencies-and-class-loading/
Fri, Nov 19, 2021, 15:06:42 - pdurbin: Interesting about Jenkins (thanks) and I missed this PF4J thing. Cool.
Fri, Nov 19, 2021, 15:08:44 - poikilotherm: Well, wild dev dreams...
Fri, Nov 19, 2021, 15:09:12 - Don Sizemore: I like your dreams. Mine are just weird.
Fri, Nov 19, 2021, 15:10:09 - pdurbin: Do we like how Jenkins plugins work? Is that the dream? (Speaking of dreams.)
Fri, Nov 19, 2021, 15:10:38 - Don Sizemore: That dweam within a dweam!
Fri, Nov 19, 2021, 15:13:09 - poikilotherm: I like how Jenkins plugins work. Just download/click install, done.
Fri, Nov 19, 2021, 15:13:32 - Don Sizemore: would the Dataverse GUI/front-end become a plugin?
Fri, Nov 19, 2021, 15:13:34 - poikilotherm: Which does not mean we should reuse their approach to keep maintenance lower
Fri, Nov 19, 2021, 15:14:14 - poikilotherm: <@donsizemore:matrix.org "would the Dataverse GUI/front-en..."> pdurbin once had the idea about making Dataverse headless
Fri, Nov 19, 2021, 15:14:37 - poikilotherm: I don't know if this makes sense. It might be hard to do
Fri, Nov 19, 2021, 15:14:56 - poikilotherm: Would require lots of interfaces
Fri, Nov 19, 2021, 15:15:03 - poikilotherm: But might work
Fri, Nov 19, 2021, 15:15:29 - Don Sizemore: if modularity is the goal
Fri, Nov 19, 2021, 15:15:47 - poikilotherm: GUI is very tightly coupled to the many backend parts. So not impossible but a very large task
Fri, Nov 19, 2021, 15:17:01 - poikilotherm: A first god step would be cleaning up the codebase and move the core data model I to a separate Maven module and create an abstraction
Fri, Nov 19, 2021, 15:17:10 - pdurbin: I favor Dataverse being headless enough that developers can come along and build alternative GUIs if they feel like it. Please see https://github.com/IQSS/dataverse/issues/7827
Fri, Nov 19, 2021, 15:17:32 - poikilotherm: Hell yeah ü§©
Fri, Nov 19, 2021, 15:18:27 - poikilotherm: I remember talking with you about this some years ago
Fri, Nov 19, 2021, 15:20:40 - Don Sizemore: I don't know that I personally ever found the Dataverse web interface all that un-friendly
Fri, Nov 19, 2021, 15:21:33 - poikilotherm: Oh the UI is fine
Fri, Nov 19, 2021, 15:21:39 - poikilotherm: I like it
Fri, Nov 19, 2021, 15:22:04 - poikilotherm: But I completely understand that there might be valid use cases to use a headless Dataverse
Fri, Nov 19, 2021, 15:22:12 - Don Sizemore: agreed
Fri, Nov 19, 2021, 15:23:41 - pdurbin: For enterprise software, it ain't bad.
Fri, Nov 19, 2021, 15:27:44 - poikilotherm: There's a reason to that and I think she is called by the name Tanja
Fri, Nov 19, 2021, 15:30:14 - pdurbin: Heh. And her predecessor Liz. Credit where it's due. üòÑ
Fri, Nov 19, 2021, 15:30:58 - poikilotherm: Oh that must have been way before my time with y'all
Fri, Nov 19, 2021, 15:31:51 - pdurbin: Liz (and some other students) wrote a report on how bad the UX was for DVN 3. Then we hired her for the Dataverse 4 rewrite.
Fri, Nov 19, 2021, 15:32:50 - pdurbin: https://dataverse.org/publications/dataverse-usability-evaluation-final-report
Fri, Nov 19, 2021, 15:32:58 - Don Sizemore: To be fair to DVN3, students always write reports about how bad a given website is.
Fri, Nov 19, 2021, 15:34:10 - poikilotherm: Oh does that mean I just have to keep complaining and then one day IQSS might hire me? ü§îü§≠üòú
Fri, Nov 19, 2021, 15:35:46 - poikilotherm: On the subject of complaining: pdurbin how do feel about cleaning up the API test code? The rest assured dep is way EOL and the code might be much more readable by using Junit extensions...
Fri, Nov 19, 2021, 15:35:58 - pdurbin: Heh. Sure!
Fri, Nov 19, 2021, 15:36:35 - pdurbin: You just want to bump the version? That's fine.
Fri, Nov 19, 2021, 15:36:48 - pdurbin: And sprinkle some JUnit?
Fri, Nov 19, 2021, 15:37:58 - poikilotherm: Oh the version bump is rather huge... V2 currently V5 IIRC is recent. Most likely breaking changes
Fri, Nov 19, 2021, 15:38:19 - poikilotherm: "Sprinkle JUnit" is a nice understatement 
Fri, Nov 19, 2021, 15:38:31 - pdurbin: I'm glad to hear it's being maintained! Kind of like how it's hard to keep up with Solr releases. üòÑ
Fri, Nov 19, 2021, 15:39:37 - poikilotherm: Looks like I didn't push that change yet... Remember that problem with the stored procedure?
Fri, Nov 19, 2021, 15:39:57 - pdurbin: yeah
Fri, Nov 19, 2021, 15:40:39 - poikilotherm: I added a JUnit extension that hooks into before and after and allows to set database settings via test annotation. Will remove the setting after the test or restore to previous value
Fri, Nov 19, 2021, 15:41:27 - poikilotherm: So this is always done, also if a test fails and does not leave the test instance in an arbitrary state
Fri, Nov 19, 2021, 15:42:18 - poikilotherm: Was thinking about doing the very same with all the "create random user", "random Dataverse" and "random dataset" stuff
Fri, Nov 19, 2021, 15:42:37 - poikilotherm: Would make the code a lot more readable ;-)
Fri, Nov 19, 2021, 15:43:28 - poikilotherm: Things like the API Token, dataset I'd etc would be injected as parameters to the test method
Fri, Nov 19, 2021, 15:49:53 - pdurbin: Sorry, multitasking poorly and trying to wrap up in 10 minutes so I can bike home while it's still light. We appreciate all of your ideas, Oliver. Please keep them coming!
Fri, Nov 19, 2021, 15:50:19 - pdurbin: And to all, have a good weekend! Next week is a short week but I'll be here Monday and Tuesday. ü¶É
Fri, Nov 19, 2021, 15:50:51 - poikilotherm: Nice nice nice
Fri, Nov 19, 2021, 15:50:55 - poikilotherm: Have a nice weekend
Fri, Nov 19, 2021, 15:50:59 - poikilotherm: Cu y'all
Fri, Nov 19, 2021, 15:52:25 - Don Sizemore: take care
Mon, Nov 22, 2021, 06:51:50 - scalarmotion: <@pdurbin:matrix.org "scalarmotion: hi! Good questions..."> Thanks for the replies. I suppose I should give a bit more context - my project is trying to develop a more secure program based on Dataverse, focusing on the long term archival of research data such that one can prove/verify its integrity without exposing the actual data (hence encrypting the uploaded data). While I would love to contribute back towards Dataverse, the design/architecture of the program are still in flux and I'm not sure whether my additions will be relevant towards what Dataverse is trying to achieve. When I have a more concrete implementation of my project, I will likely submit some Issues to test the waters on whether its components would be welcome additions to Dataverse.

I wanted to get a sense of where the Dataverse developer community stands on handling metadata for encrypted files, so that my work won't be out of place if I do end up contributing it. Since the whole purpose of the TRSA project is to maintain the metadata of files stored elsewhere for security purposes (among other reasons), I suppose I can take that as a sign that displaying the original metadata for encrypted files fits the spirit of Dataverse.
Mon, Nov 22, 2021, 06:54:37 - Don Sizemore: TRSA, at present, merely registers datafile metadata in a given Dataverse dataset, so it currently doesn't handle encryption/decryption (but could)
Mon, Nov 22, 2021, 08:24:47 - poikilotherm: <@scalarmotion:matrix.org "Thanks for the replies. I suppos..."> From what I learned in becoming a core contributor to Dataverse: it's always a good idea to talk to people as early as possible. The community meetings are a good way to say hello and show some ideas, even if still breeding.
Mon, Nov 22, 2021, 08:26:28 - pdurbin: poikilotherm: that's an excellent point. scalarmotion you'd be welcome to have some time (maybe 5-10 minutes) to talk about what you're up to at a community call. We have them every other week. If this is of interest, please let me know and we can get you on the schedule. For more, please see https://dataverse.org/community-calls
Mon, Nov 22, 2021, 08:28:34 - pdurbin: Generally speaking, metadata in Dataverse for datasets and their files is not public while in "draft" state but then completely public (and publicized in DataCite, etc.) once you click "publish". Restricted files stay restricted, of course. You can't download the bytes without permission. But you can read the descriptions of restricted files.
Mon, Nov 22, 2021, 08:29:46 - poikilotherm: As posted on GDCC ig-devops channel: Hello fellow DevOps, you folks might be interested in reading https://github.com/IQSS/dataverse/issues/8250 and https://github.com/IQSS/dataverse/issues/8251 where I just made a braindump of what I am eager to see as improvements to the testing capabilities of Dataverse. Feedback and discussion appreciated. Maybe keep the Github Issues a bit more quiet and discussions either here, on Matrix or similar places.
Mon, Nov 22, 2021, 08:31:21 - pdurbin: poikilotherm: from a quick look, this all seems great. Thanks so much.
Mon, Nov 22, 2021, 08:33:13 - poikilotherm: pdurbin: I'm about to create a pull request with a sample extension, showcasing how this could look like...
Mon, Nov 22, 2021, 08:33:31 - poikilotherm: It's really been as easy as 1-2-3
Mon, Nov 22, 2021, 08:33:38 - pdurbin: nice
Mon, Nov 22, 2021, 08:41:36 - pdurbin: poikilotherm: oh, can I bug you about a Solr schema.xml thing? Please check out this diff: https://github.com/IQSS/dataverse/pull/7810#issuecomment-974469634
Mon, Nov 22, 2021, 08:41:50 - * poikilotherm goes reading
Mon, Nov 22, 2021, 08:42:01 - poikilotherm: Oh I saw this last week
Mon, Nov 22, 2021, 08:42:27 - pdurbin: My first thought is that people are using your scripts and the script do some sort of sorting? Could that be it?
Mon, Nov 22, 2021, 08:42:42 - poikilotherm: Yes, it does sorting
Mon, Nov 22, 2021, 08:43:05 - pdurbin: Ok. And maybe it's different on Mac vs Linux or something.
Mon, Nov 22, 2021, 08:43:28 - poikilotherm: Hmm. Not sure about that
Mon, Nov 22, 2021, 08:43:41 - poikilotherm: Alphabets are the same
Mon, Nov 22, 2021, 08:43:56 - pdurbin: I've seen it with my own eyes. üòÑ
Mon, Nov 22, 2021, 08:44:53 - poikilotherm: It's hard to see the differences here... Did ya do this by applying the PR?
Mon, Nov 22, 2021, 08:45:04 - Don Sizemore: versions of common UNIX binaries can vary wildly between Mac and most Linux distros
Mon, Nov 22, 2021, 08:45:16 - poikilotherm: <@donsizemore:matrix.org "versions of common UNIX binaries..."> That's very true
Mon, Nov 22, 2021, 08:45:28 - poikilotherm: I faced this very thing with this script
Mon, Nov 22, 2021, 08:45:35 - Don Sizemore: why all this stuff should run on Linux ;)
Mon, Nov 22, 2021, 08:46:06 - poikilotherm: But I'd anticipate that sorting by letters would be the same everywhere
Mon, Nov 22, 2021, 08:46:43 - pdurbin: If you google for "mac vs linux sort" you'll see plenty of people complaining about differences. üòÑ
Mon, Nov 22, 2021, 08:47:01 - Don Sizemore: @pdurbin in that diff you posted^^^ most of them are true/false?
Mon, Nov 22, 2021, 08:47:48 - poikilotherm: I withdraw what I said earlier
Mon, Nov 22, 2021, 08:47:57 - poikilotherm: No sort present within update-fields.sh
Mon, Nov 22, 2021, 08:48:18 - pdurbin: Well, for this PR, I expect want productionPlace and series (and its subfields) to switch from false to true for multiValued.

The rest of the diff is just noise from sorting differences, I think.
Mon, Nov 22, 2021, 08:48:24 - Don Sizemore: poikilotherm: agreed, I looked and didn't see it sorting (doctoring up dataverse-ansible for update-fields.sh this morning)
Mon, Nov 22, 2021, 08:49:18 - pdurbin: Oh, no sorting. Hmm.
Mon, Nov 22, 2021, 08:49:23 - poikilotherm: Not necessarily. I didn't take a closer look at the schema changes
Mon, Nov 22, 2021, 08:49:44 - poikilotherm: Maybe someone has been foolish enough to just edit schema.xml instead of using the script?
Mon, Nov 22, 2021, 08:50:33 - pdurbin: Well, I was that fool, I guess. I tried it the way I always used to update schema.xml.
Mon, Nov 22, 2021, 08:51:00 - poikilotherm: When looking at the schema I see that `series` is a compound field
Mon, Nov 22, 2021, 08:51:18 - poikilotherm: `seriesInformation` and `seriesName` are part of it
Mon, Nov 22, 2021, 08:51:37 - pdurbin: Basically I `curl http://localhost:8080/api/admin/index/solr/schema >> schema.xml` and then edit the file with vi. Out with the old. In with the new.
Mon, Nov 22, 2021, 08:51:56 - poikilotherm: That's why I did the script
Mon, Nov 22, 2021, 08:52:00 - Don Sizemore: @pdurbin how does this relate to the replacement schema.xml in the 5.8 release that fixed dataset search?
Mon, Nov 22, 2021, 08:52:42 - pdurbin: It's all highly related.
Mon, Nov 22, 2021, 08:52:56 - pdurbin: So maybe if I use the script I won't see the extra noise in the diff?
Mon, Nov 22, 2021, 08:53:02 - Don Sizemore: because I've got to upgrade from 5.3 to 5.8+ at some point, with custom metadata blocks... 
Mon, Nov 22, 2021, 08:53:13 - poikilotherm: <@pdurbin:matrix.org "Basically I `curl http://localho..."> Just do `curl http://localhost:8080/api/admin/index/solr/schema | update-fields.sh schema.xml` instead ;-)
Mon, Nov 22, 2021, 08:54:42 - poikilotherm: <@pdurbin:matrix.org "So maybe if I use the script I w..."> I'm not sure why the order of the `study*` fields changed. But as this is just what is given back by the API endpoint, sorting this is part of the Java code.
Mon, Nov 22, 2021, 08:55:15 - poikilotherm: Uhm sorry but has there been any other change to the schema blocks lately?
Mon, Nov 22, 2021, 08:55:48 - pdurbin: I don't think so. Anyway, I'll try the script and report back. Thanks.
Mon, Nov 22, 2021, 09:03:28 - poikilotherm: I have no idea why the sorting in Java would have changed. No idea how that happened - sorry for that noise
Mon, Nov 22, 2021, 09:03:44 - poikilotherm: The schema files did not change since I merged the script
Mon, Nov 22, 2021, 09:03:52 - poikilotherm: ü§∑‚Äç‚ôÇÔ∏è
Mon, Nov 22, 2021, 09:11:29 - pdurbin: poikilotherm: if you were to run the script on develop, schema.xml would be re-written to be the same file, right? A no-op, basically?
Mon, Nov 22, 2021, 09:19:31 - pdurbin: So, by using the script it's an even bigger diff because indentation changes. If I do word-diff I see that studyAssayPlatform and friends change order as well. I think we should punt on all of this and deal with it when we pick up https://github.com/IQSS/dataverse/issues/8248
Mon, Nov 22, 2021, 09:23:42 - pdurbin: poikilotherm: I suspect you might be adding the extra indentation with this: `sed -e 's#^#    #'` but I'm not sure.
Mon, Nov 22, 2021, 09:24:02 - pdurbin: The output from the API is already indented.
Mon, Nov 22, 2021, 09:26:28 - pdurbin: poikilotherm Don Sizemore do either of you have the cycles to try that no-op test I mentioned above?
Mon, Nov 22, 2021, 09:26:28 - poikilotherm: IIRC I delete the indentation but that might be just in my head
Mon, Nov 22, 2021, 09:39:21 - poikilotherm: Not really - sorry
Mon, Nov 22, 2021, 09:40:48 - pdurbin: No worries. I'm still dinking around with it. At minimum, I'm fairly confident it will change the indentation. I'm less sure if it will change the order of those "study" fields or not.
Mon, Nov 22, 2021, 09:42:26 - Don Sizemore: if it's just indentation we just could `diff -w` unless indentation breaks parsing?
Mon, Nov 22, 2021, 09:43:21 - pdurbin: yeah
Mon, Nov 22, 2021, 10:37:29 - scalarmotion: <@pdurbin:matrix.org "poikilotherm: that's an excellen..."> Thanks for the invitation, I'll have to check with my supervisor to get back to you on that.
Mon, Nov 22, 2021, 10:41:47 - poikilotherm: pdurbin: I pushed a first example https://github.com/IQSS/dataverse/pull/8254/files#diff-f7f8c09756ce44634bf7d9a243e628166a608079fffe7cd71f77f56f949114f6R764-L824
Mon, Nov 22, 2021, 10:50:44 - pdurbin: scalarmotion: another way to get some more attention and discussion is to post to https://groups.google.com/g/dataverse-community
Mon, Nov 22, 2021, 10:51:01 - pdurbin: As you can see, we sometimes get in the weeds here. üòÑ
Mon, Nov 22, 2021, 10:53:02 - pdurbin: poikilotherm: the database stuff is interesting.
Mon, Nov 22, 2021, 10:53:13 - pdurbin: When do we get to test S3? üòÑ
Mon, Nov 22, 2021, 10:53:21 - poikilotherm: Oh dear
Mon, Nov 22, 2021, 10:53:25 - poikilotherm: Long way to go
Mon, Nov 22, 2021, 10:53:33 - * pdurbin buckles up
Mon, Nov 22, 2021, 10:53:33 - poikilotherm: One step after the other ;-)
Mon, Nov 22, 2021, 10:54:35 - poikilotherm: I'm confident it would already be pretty cool to do some stuff like triggering and rolling back a database migration in tests. To add the stored procedure for example ;-)
Mon, Nov 22, 2021, 10:55:00 - poikilotherm: And making all this run on containers ;-)
Mon, Nov 22, 2021, 11:07:57 - poikilotherm: Already hacking away on a RandomUser extension ;-) Should make it much more convenient to create those and access user details...
Mon, Nov 22, 2021, 11:11:15 - pdurbin: And then RandomDataset. üòÑ
Mon, Nov 22, 2021, 18:45:08 - nightowlaz: random question .. does anyone know if dvuploader will work with files stored in cloud storage? (ie: google cloud storage buckets)
Tue, Nov 23, 2021, 08:32:47 - pdurbin: nightowlaz: I just poked around https://github.com/GlobalDataverseCommunityConsortium/dataverse-uploader but I don't think so. I'd say you should go ahead and open an issue. I also asked in Slack.
Tue, Nov 23, 2021, 10:27:20 - nightowlaz: oh okay thanks .. we are just looking for a way to transfer files from google cloud storage to dataverse (other than copying them down to local hard drive and then uploading) .. it's only about 300G (only!) so we can do that, but looking to see if there is an alternative method first
Tue, Nov 23, 2021, 10:31:04 - pdurbin: Hmm. And your Dataverse storage uses S3? Or something S3-compatible? I forget. I'm just wondering if there's some common way to copy from one cloud to another. But then you'd need to tell Dataverse where the files are.
Tue, Nov 23, 2021, 10:31:46 - nightowlaz: yes, aws s3 .. there is a command line utility (gsutil) that will do the cloud-cloud copy, but yea that final step to tell dataverse is the issue
Tue, Nov 23, 2021, 10:33:08 - nightowlaz: we are testing it, and may need to copy the files to the local linux server and then use dvuploader to upload to dataverse .. maybe that would be faster
Tue, Nov 23, 2021, 10:35:29 - nightowlaz: faster than downloading to a windows machine and then uploading, that is :-)
Tue, Nov 23, 2021, 10:37:00 - pdurbin: Might be faster if the server running DVUploader is an EC2 instance in the same zone as your S3. Anyway, it sounds like you're well on your way but I believe it's also possible to specify or even change the storage identifier for a file to be where you've already uploaded it to S3. I'm looking at "Adding File Metadata" in the native API docs.
Tue, Nov 23, 2021, 10:37:34 - pdurbin: 300 GB doesn't sound too bad. I'm probably just use DVUploader. More straightforward.
Tue, Nov 23, 2021, 11:16:19 - pdurbin: nightowlaz: I just found this old, related issue about Google Drive: https://github.com/IQSS/dataverse/issues/1746
Tue, Nov 23, 2021, 11:43:05 - nightowlaz: Thanks! Looking into this .. wondering if google picker (or similar) is available for GCS
Tue, Nov 23, 2021, 11:43:41 - nightowlaz: I think we are going to try DVUploader with gcsfuse https://github.com/GoogleCloudPlatform/gcsfuse/
Tue, Nov 23, 2021, 11:43:56 - nightowlaz: seems as though it should see the mounted bucket as part of the local filesystem .. maybe?

Tue, Nov 23, 2021, 11:45:00 - pdurbin: Yeah, in Slack we were wondering if Google Drive has a desktop component to at least make that part easier. Being able to see the files locally. But I guess you're on a server. So yeah, maybe that fuse thing.
Tue, Nov 23, 2021, 11:46:28 - nightowlaz: oh what channel is the slack convo in? i don't see it .. the google desktop app works great to sync with google drive, but i don't think it works with google cloud
Tue, Nov 23, 2021, 11:47:00 - pdurbin: Ah. Drive is different than Cloud. Ok. IQSS Slack. But Jim's also in the community Slack.
Tue, Nov 23, 2021, 11:48:22 - nightowlaz: ah .. yea i had to search to find that google drive (workspace) and cloud are different and don't integrate (üòÜ ) .. i didn't know either lol
Tue, Nov 23, 2021, 11:49:01 - nightowlaz: we seem to be facing all these weird storage scenarios right up front with our dataverse! can't we just have a few normal size file structure datasets?? haha
Tue, Nov 23, 2021, 11:49:52 - pdurbin: You're too popular!
Tue, Nov 23, 2021, 11:50:56 - nightowlaz: lol asu is just too big .. and our RDM director is very good at promotion! üòÄ
Tue, Nov 23, 2021, 14:09:59 - pdurbin: I'm here for another couple hours but then gone until Monday. To those who celebrate, Happy Thanksgiving! ü¶É
Tue, Nov 23, 2021, 14:32:08 - nightowlaz: ü¶É
Tue, Nov 23, 2021, 16:53:32 - nightowlaz: <@pdurbin:matrix.org "Yeah, in Slack we were wondering..."> pdurbin: just letting you know that we tested gcsfuse for mounting the google cloud bucket and then using dvuploader to upload the files in that bucket to dataverse and it worked! I was even able to organize the files into subdirs and zip them and it extracted the zip file and created the appropriate prefix structure
Tue, Nov 23, 2021, 20:48:40 - D. M. Wen joined the room
Thu, Nov 25, 2021, 15:52:45 - Kir√°ly P√©ter: I have a question: do the widgets require some specific setting from the administrator? Previously I never tried them, now I do, and I found that browsers blocked them. Chrome says: "data.goettingen-research-online.de refused to connect", Firefox says: "Firefox Can‚Äôt Open This Page
To protect your security, data.goettingen-research-online.de will not allow Firefox to display the page if another site has embedded it. To see this page, you need to open it in a new window.".
Seems like a CORS problem, but with searching the Dataverse manual I did not find a hint to solve the problem.
Sat, Nov 27, 2021, 11:27:07 - r.hamma: Hello,can i install dataverse using podman on my linux os and then copy it to another os that has podman too ,will it work?
Sun, Nov 28, 2021, 04:48:23 - bluss joined the room
Mon, Nov 29, 2021, 08:44:28 - pdurbin: Kir√°ly P√©ter: I've also seen browsers block pop ups from external tools. I'm not sure what the best fix would be. Please feel free to open an issue about this.
Mon, Nov 29, 2021, 08:45:59 - pdurbin: r.hamma: if podman is anything like Docker (and I think it is), I believe the usual model is to push the image to a registry. Then from another machine, you pull the image from the registry and run it (as a container).
Mon, Nov 29, 2021, 10:01:44 - Na√Øma El Mokhtari Khrouz joined the room
Mon, Nov 29, 2021, 10:33:54 - pdurbin: Na√Øma El Mokhtari Khrouz: hi! I see your "can't publish" question at https://groups.google.com/g/dataverse-community/c/mjh1H0wt6aY/m/w5dS9pb5BAAJ
Mon, Nov 29, 2021, 10:34:58 - pdurbin: When you say, "We tried to publish dataset without persistent DOI, it was ok, the dataset have been published" how are you testing this? By using the "FAKE" DOI provider?
Mon, Nov 29, 2021, 10:36:04 - Na√Øma El Mokhtari Khrouz: <@pdurbin:matrix.org "When you say, "We tried to publi..."> yes, I used the "FAKE" DOI provider
Mon, Nov 29, 2021, 10:36:44 - Na√Øma El Mokhtari Khrouz: I have two DOI
Mon, Nov 29, 2021, 10:37:01 - Na√Øma El Mokhtari Khrouz: one for dataverse test and an other for dataverse production
Mon, Nov 29, 2021, 10:37:19 - pdurbin: Ok, and now you're trying to use the "10.21347" authority, it looks like. You have the username and password for this? From DataCite?
Mon, Nov 29, 2021, 10:39:40 - Na√Øma El Mokhtari Khrouz: Ok, I'll try another time with this doi
Mon, Nov 29, 2021, 10:40:51 - pdurbin: Great. Also, does it work to create a new dataset with a new DOI? I would make sure that's working before trying to re-use an existing DOI.
Mon, Nov 29, 2021, 10:48:01 - Na√Øma El Mokhtari Khrouz: ok thank you, but there are network problems with my provider, i will try later
Mon, Nov 29, 2021, 10:48:17 - pdurbin: Ok, no worries. Good luck!
Mon, Nov 29, 2021, 11:41:44 - Kir√°ly P√©ter: <@pdurbin:matrix.org "Kir√°ly P√©ter: I've also seen bro..."> Thanks Phil!
Mon, Nov 29, 2021, 11:42:02 - Kir√°ly P√©ter: Is there anybody, who has a working example for Dataverse widgets somewhere?
Mon, Nov 29, 2021, 11:49:57 - pdurbin: Kir√°ly P√©ter: you're welcome to check out my "Examples of Dataverse widgets in the wild" spreadsheet: https://docs.google.com/spreadsheets/d/1Rp-6YKQf-5UyCVmIn6mpUwRoSNpqkL3ZkrmBmVjMMqc/edit?usp=sharing
Mon, Nov 29, 2021, 11:56:42 - Kir√°ly P√©ter: Wonderful, thanks a lot! It helps me debugging what's happening on our side.
Mon, Nov 29, 2021, 11:57:32 - pdurbin: Sure.
Tue, Nov 30, 2021, 05:15:32 - Na√Øma El Mokhtari Khrouz: <@pdurbin:matrix.org "Great. Also, does it work to cre..."> Hi, I made a test with DOI "10.21347", i have the same error
Tue, Nov 30, 2021, 05:15:53 - Na√Øma El Mokhtari Khrouz: my conf DOI is
Tue, Nov 30, 2021, 05:16:41 - Na√Øma El Mokhtari Khrouz: ```/usr/local/payara5/glassfish/bin/asadmin list-jvm-options | egrep 'dataverse|doi'
-Ddataverse.files.directory=/usr/local/payara5/glassfish/domains/domain1/files
-Ddataverse.files.file.type=file
-Ddataverse.files.file.label=file
-Ddataverse.files.file.directory=/usr/local/payara5/glassfish/domains/domain1/files
-Ddataverse.rserve.host=134.158.244.114
-Ddataverse.rserve.port=6311
-Ddataverse.rserve.user=rserve
-Ddataverse.rserve.password=rserve
-Ddataverse.fqdn=dataverse-test.in2p3.fr
-Ddataverse.siteUrl=http://${dataverse.fqdn}:8080
-Ddataverse.auth.password-reset-timeout-in-minutes=60
-Ddoi.username=CNRS.BBEES
-Ddoi.password=xxxxxx
-Ddoi.baseurlstring=https://doi.test.datacite.org
-Ddoi.dataciterestapiurlstring=https://api.datacite.org
-Ddataverse.timerServer=true
-Ddataverse.rserve.host=134.158.244.113
-Ddataverse.fqdn=134.158.244.113

Tue, Nov 30, 2021, 05:17:54 - Na√Øma El Mokhtari Khrouz: i have tested with Ddataverse.siteUrl=http://dataverse-test.in2p3.fr and Ddataverse.siteUrl=https://dataverse-test.in2p3.fr, i have the same error
Tue, Nov 30, 2021, 07:34:53 - Don Sizemore: Na√Øma El Mokhtari Khrouz: hello, should your baseurlstring be https://mds.test.datacite.org ?
Tue, Nov 30, 2021, 07:51:51 - Na√Øma El Mokhtari Khrouz: it works !
Tue, Nov 30, 2021, 07:53:02 - Na√Øma El Mokhtari Khrouz: should i also replace https://doi.datacite.org/ with https://mds.test.datacite.org on the production dataverse ?
Tue, Nov 30, 2021, 07:53:04 - Don Sizemore: excellent!
Tue, Nov 30, 2021, 07:53:23 - Don Sizemore: for your production machine you probably want it to be https://mds.datacite.org
Tue, Nov 30, 2021, 07:55:05 - Na√Øma El Mokhtari Khrouz: do you know why they created the url https://doi.datacite.org/ for DOI 10.48579 en the url https://doi.test.datacite.org/ for DOI 10.21347 ?
Tue, Nov 30, 2021, 07:55:52 - Don Sizemore: the latter is a "test" account, and IIRC test DOIs don't resolve
Tue, Nov 30, 2021, 07:57:42 - Na√Øma El Mokhtari Khrouz: thank you very much for your help, 
Tue, Nov 30, 2021, 08:04:27 - Don Sizemore: I'm glad it was something I could fix! (many things aren't)
Wed, Dec 1, 2021, 08:12:17 - pdurbin: Don Sizemore: thanks!
Thu, Dec 2, 2021, 04:56:37 - L√©on Marbach joined the room
Thu, Dec 2, 2021, 05:00:32 - L√©on Marbach: Hello dataverse community, I am new here and I have a very basic question: does dataverse offer the possibility to view DDI metadata at the variable level and not just at the study level? Thank you :)
Thu, Dec 2, 2021, 05:17:53 - poikilotherm: Hi L√©on Marbach 
Thu, Dec 2, 2021, 05:17:58 - poikilotherm: Maybe this helps: https://guides.dataverse.org/en/latest/api/dataaccess.html#data-variable-metadata-access
Thu, Dec 2, 2021, 05:22:37 - poikilotherm: You might also be interested in the Data Curation Toll https://scholarsportal.github.io/Dataverse-Data-Curation-Tool
Thu, Dec 2, 2021, 05:23:25 - poikilotherm: https://github.com/scholarsportal/Dataverse-Data-Curation-Tool
Thu, Dec 2, 2021, 05:24:43 - poikilotherm: You can enable it as an "external tool" so people can switch to this right from the Dataverse pages
Thu, Dec 2, 2021, 05:25:58 - L√©on Marbach: Oh, thank you so much! i will check this more in depth. would you have an actual example of a dataverse site that enables this feature?
Thu, Dec 2, 2021, 05:50:32 - poikilotherm: https://scholarsportal.github.io/Dataverse-Data-Curation-Tool/?dfId=40620&siteUrl=https://dataverse.scholarsportal.info uses the dataset available at https://hdl.handle.net/10864/12144
Thu, Dec 2, 2021, 06:14:00 - L√©on Marbach: Thanks a lot! That's super helpful üôÇüëçÔ∏è
Thu, Dec 2, 2021, 07:45:07 - scalarmotion: Is there any documentation about the architecture of the Dataverse codebase? I'm having trouble grasping the structure and flow of how it operates.
I've tried tracing through the procedure of an API call, but didn't get very far as I didn't really understand the component handling the REST API.
Thu, Dec 2, 2021, 07:46:45 - Don Sizemore: @scalarmotion welcome to my world!
Thu, Dec 2, 2021, 07:48:17 - scalarmotion: Something along the lines of a UML class diagram would be really helpful
Thu, Dec 2, 2021, 07:49:30 - Don Sizemore: the best place I could send you would be https://guides.dataverse.org/en/latest/developers/index.html but don't remember seeing such a diagram
Thu, Dec 2, 2021, 07:51:09 - scalarmotion: Yeah, I've gone through the developer guide but it seems to focus mostly on the environment and process of contributing to Dataverse
Thu, Dec 2, 2021, 07:56:28 - Don Sizemore: correct
Thu, Dec 2, 2021, 07:57:27 - Don Sizemore: you really want @poikilotherm or @pdurbin who should be around fairly soon. there is also a community Slack at dataversecommunity.slack.com
Thu, Dec 2, 2021, 08:13:41 - pdurbin: <@leonmarbach:matrix.org "Hello dataverse community, I am ..."> L√©on Marbach: good answers from poikilotherm but I'll also add that you can easily see DDI variable information from the DDI HTML Codebook. It looks like this: https://dataverse.harvard.edu/api/datasets/export?exporter=html&persistentId=doi%3A10.7910/DVN/TJCLKP
Thu, Dec 2, 2021, 08:15:19 - pdurbin: scalarmotion: so for auth, for example, we made this write up that has a couple diagrams: https://github.com/IQSS/dataverse/blob/4.0/doc/Architecture/auth.md
Thu, Dec 2, 2021, 08:16:12 - pdurbin: But we haven't been very good about making docs like that. The API is implemented using JAX-RS, if that helps. I'm happy to answer questions.
Thu, Dec 2, 2021, 08:42:19 - pdurbin: New! https://github.com/marketplace/actions/dataverse-uploader-action
Thu, Dec 2, 2021, 08:59:01 - poikilotherm: You might wanna read through JAX-RS tutorials like https://restfulapi.net/create-rest-apis-with-jax-rs and then take a look at the classes in package `edu.harvard.iq.dataverse.api`
Thu, Dec 2, 2021, 08:59:25 - poikilotherm: All the REST API endpoints live within that package
Thu, Dec 2, 2021, 08:59:36 - poikilotherm: It's a bit messy though...
Thu, Dec 2, 2021, 09:43:11 - pdurbin: poikilotherm: what do you think of the Dataverse Uploader Action? ^^ üòÑ
Thu, Dec 2, 2021, 09:44:27 - Don Sizemore: I say "batten down the hatches!"
Thu, Dec 2, 2021, 09:58:24 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: what do you think ..."> Looks nice! :-)
Thu, Dec 2, 2021, 09:58:48 - poikilotherm: It's a nice start to update a dataset
Thu, Dec 2, 2021, 09:59:09 - poikilotherm: Sort of a step of HERMES :-)
Thu, Dec 2, 2021, 10:00:20 - poikilotherm: As we plan to use workflows/pipelines etc, this might become a part of a larger depositing Github Workflow
Thu, Dec 2, 2021, 10:01:13 - pdurbin: Yes, a nice start. Ana and I were thinking about moving it from atrisovic to IQSS or gdcc.
Thu, Dec 2, 2021, 10:02:45 - poikilotherm: Sure, great idea! :-)
Thu, Dec 2, 2021, 10:04:57 - poikilotherm: @pdurbin may I distract you for a second?
Thu, Dec 2, 2021, 10:05:11 - pdurbin: sure
Thu, Dec 2, 2021, 10:05:37 - poikilotherm: You know about the JUnit extension i'm preparing, right?
Thu, Dec 2, 2021, 10:06:28 - poikilotherm: There is now an extension to create random users https://github.com/poikilotherm/dataverse/blob/2514baf92454a9fc44e5d6c5eb1df1ae092b3a38/src/test/java/edu/harvard/iq/dataverse/api/helpers/RandomUserExtension.java
Thu, Dec 2, 2021, 10:07:14 - poikilotherm: Just put `@ExtendWith(RandomUserExtension.class)` on the test class or method and provide a test method parameter of type `RandomUser` to retrieve it
Thu, Dec 2, 2021, 10:07:35 - pdurbin: fun!
Thu, Dec 2, 2021, 10:07:37 - poikilotherm: Will be deleted afterwards. All compatible with BeforeAll, BeforeEach etc etc
Thu, Dec 2, 2021, 10:07:55 - poikilotherm: I wanted to move on to RandomCollection now
Thu, Dec 2, 2021, 10:08:12 - pdurbin: You don't want to get this merged first? Small chunks? üòÑ
Thu, Dec 2, 2021, 10:08:20 - poikilotherm: Oh
Thu, Dec 2, 2021, 10:08:33 - poikilotherm: You think that would be a good thing?
Thu, Dec 2, 2021, 10:08:41 - pdurbin: yeah, probably
Thu, Dec 2, 2021, 10:08:50 - poikilotherm: OK think about it
Thu, Dec 2, 2021, 10:09:05 - poikilotherm: Anyway - once moving on to RandomCollection...
Thu, Dec 2, 2021, 10:09:46 - poikilotherm: Usually the test methods create a random user to create a random collection and then a random dataset within the collection
Thu, Dec 2, 2021, 10:10:11 - poikilotherm: Would you expect the RandomCollection to create it's own random user?
Thu, Dec 2, 2021, 10:10:25 - poikilotherm: Or should it reuse a given random user?
Thu, Dec 2, 2021, 10:11:02 - poikilotherm: Reusing a user might make it much more complicated to use the extension
Thu, Dec 2, 2021, 10:11:21 - pdurbin: I'm happy to create users and collections separately, like we do now.
Thu, Dec 2, 2021, 10:11:34 - poikilotherm: Because that needs some mechanism to transfer the user from the RandomUser extension to the RandomCollection extension....
Thu, Dec 2, 2021, 10:12:33 - poikilotherm: You'd still be able to retrieve the user from the collection to use it within the test
Thu, Dec 2, 2021, 10:12:46 - poikilotherm: And maybe add more users via the RandomUser extension
Thu, Dec 2, 2021, 10:12:55 - poikilotherm: Depending on what you want to test
Thu, Dec 2, 2021, 10:13:39 - poikilotherm: Asking the question in another way: should we make the states of the extensions independent or link them together
Thu, Dec 2, 2021, 10:15:12 - poikilotherm: Or should it be possible to do both?
Thu, Dec 2, 2021, 10:15:51 - pdurbin: Again, I'm fine with independent.
Thu, Dec 2, 2021, 10:16:52 - pdurbin: InReviewWorkflowIT comes to mind. A curator creates the collection and grants permission to a contributor, who creates a dataset.
Thu, Dec 2, 2021, 10:19:43 - poikilotherm: So there would be a `testGrantPermission(RandomCollection collection, RandomUser contributor)`, which retrieves a `RandomUser curator = collection.getOwner()` and then does the actual API test to assign the contributor 
Thu, Dec 2, 2021, 10:20:49 - poikilotherm: The `RandomCollectionExtension` would create a) the random curator user and b) the collection. The `RandomUserExtension` takes care of creating the contributor user
Thu, Dec 2, 2021, 10:22:56 - pdurbin: I mean, it seems fine. Every collection needs to be created by a user. And I think in all cases, that users is created moments before the collection. So combining these operations seems fine.
Thu, Dec 2, 2021, 10:23:21 - poikilotherm: Would it be nice to reuse a static user?
Thu, Dec 2, 2021, 10:23:35 - pdurbin: With all of this I'm wondering "What problem is Oliver trying to solve?" I assume the answer is "Too much boilerplate."
Thu, Dec 2, 2021, 10:24:01 - poikilotherm: Like create a RandomUser in a BeforeAll and then create a RandomCollection with this user for each test?
Thu, Dec 2, 2021, 10:25:04 - poikilotherm: Two things: 1. remove boilerplate. LOTS of it. 2. ensure resources created are deleted again 3. ensure resources are created and work, fail/skip test if not successfull (which causes lots of the boilerplate)
Thu, Dec 2, 2021, 10:25:08 - pdurbin: Some tests operate like this. They'll also create a collection in the "before". I prefer creating collections within each test but whatever works for people.
Thu, Dec 2, 2021, 10:25:42 - pdurbin: I gave up on 2 (cleanup) a long time ago.
Thu, Dec 2, 2021, 10:26:02 - pdurbin: For 3 I always check for a 200 or whatever before proceeding.
Thu, Dec 2, 2021, 10:29:07 - poikilotherm: Yeah. Putting all the checks into an extension makes the code much more reliable and readable
Thu, Dec 2, 2021, 10:29:40 - poikilotherm: Plus that the cleanup is also handled by the extension. All in one place. Not repeated in every test
Thu, Dec 2, 2021, 10:30:26 - pdurbin: Is the cleanup necessary? I just drop my database every so often. With the dev-rebuild script.
Thu, Dec 2, 2021, 10:32:42 - poikilotherm: Maybe not in the case of the users
Thu, Dec 2, 2021, 10:33:01 - poikilotherm: But it should be a good practice to make the test selfcontained
Thu, Dec 2, 2021, 10:33:29 - poikilotherm: It might be not necessary to create a new user or collection for every test as it happens in some areas
Thu, Dec 2, 2021, 10:34:21 - poikilotherm: But still - tests should clean up behind themselves to not introduce undetected dependencies on each other
Thu, Dec 2, 2021, 10:34:28 - poikilotherm: (Like with the DBSetting)
Thu, Dec 2, 2021, 10:34:50 - poikilotherm: Some people use tools like DBUnit for this
Thu, Dec 2, 2021, 10:35:02 - poikilotherm: https://www.dbunit.org/
Thu, Dec 2, 2021, 10:36:42 - pdurbin: I'm not opposed to cleanup. It's just sort of a non-goal for me. And for my kids. You should see their room.
Thu, Dec 2, 2021, 10:41:03 - pdurbin: Aren't you supposed to be working on software deposit or something? üòÑ Anything I can do to help with that?
Thu, Dec 2, 2021, 10:43:12 - poikilotherm: Ah I'm trying to do things to get containers upstream...
Thu, Dec 2, 2021, 10:43:32 - poikilotherm: It sounded like very easy integration tests might be a good selling point
Thu, Dec 2, 2021, 10:43:47 - poikilotherm: Especially as Don Sizemore is eager to have it :-D
Thu, Dec 2, 2021, 10:44:45 - poikilotherm: So I need testcontainers. That went boo boo. So I need to analyse tests. Which in turn means: clean up messy API tests because they are really hard to dbug
Thu, Dec 2, 2021, 10:44:57 - Don Sizemore: well, I always appreciate better!
Thu, Dec 2, 2021, 10:45:06 - poikilotherm: I opened pandoras box instead of a worm can
Thu, Dec 2, 2021, 10:45:59 - pdurbin: Are you two converging on podman?
Thu, Dec 2, 2021, 10:46:06 - poikilotherm: To have the integration tests running with the stored procedure, I want to use the Flyway extension. So JUnit5 :-D
Thu, Dec 2, 2021, 10:46:11 - poikilotherm: https://github.com/radcortez/flyway-junit5-extensions
Thu, Dec 2, 2021, 10:46:13 - Don Sizemore: poikilotherm is a docker man
Thu, Dec 2, 2021, 10:46:29 - poikilotherm: Oh nothing agains podman
Thu, Dec 2, 2021, 10:46:36 - poikilotherm: But testcontainers requires Docker for now
Thu, Dec 2, 2021, 10:46:43 - Don Sizemore: yes
Thu, Dec 2, 2021, 10:49:52 - pdurbin: so many yaks to shave
Thu, Dec 2, 2021, 10:50:30 - Don Sizemore: I'm just slogging my way through this NSS mess this morning. Still unclear to me how Dataverse itself might realistically be vulnerable
Thu, Dec 2, 2021, 10:55:13 - poikilotherm: BTW Payara 5.2021.9 release a while ago with preliminary JDK17 support. Many updated deps, dunno if any of these had a sec issue
Thu, Dec 2, 2021, 10:55:40 - pdurbin: Mmm, Java 17.
Thu, Dec 2, 2021, 10:55:48 - poikilotherm: Hell yeah
Thu, Dec 2, 2021, 10:56:11 - poikilotherm: LOTS of great stuff in that release
Thu, Dec 2, 2021, 10:56:12 - pdurbin: Of course, I'm still finding "new" stuff like isBlank on String.
Thu, Dec 2, 2021, 10:56:20 - poikilotherm: :-D
Thu, Dec 2, 2021, 10:56:23 - Don Sizemore: @poikilotherm I'm running 5.2021.9 on a test server
Thu, Dec 2, 2021, 10:56:36 - poikilotherm: I'm becoming familiar with JDK8 streams :-D
Thu, Dec 2, 2021, 10:56:41 - Don Sizemore: so far, so good, except for that EJB timer upgrade snafu
Thu, Dec 2, 2021, 10:56:46 - poikilotherm: Don Sizemore: me too inside ephemeral container
Thu, Dec 2, 2021, 10:59:26 - scalarmotion: <@oliver:bertuch.name "You might wanna read through JAX..."> Thanks for the tips, I'll do some more digging around those files. Do all user-initiated operations go through the APIs, or are there any other "ports" where I might need to make changes?
Thu, Dec 2, 2021, 10:59:42 - poikilotherm: Web UI works differently
Thu, Dec 2, 2021, 11:00:00 - poikilotherm: Web UI uses Jakarta Faces
Thu, Dec 2, 2021, 11:00:08 - poikilotherm: A complex beast on its own
Thu, Dec 2, 2021, 11:00:25 - poikilotherm: What do you want to do?
Thu, Dec 2, 2021, 11:04:55 - scalarmotion: Let's say I want to add a step to the file upload process where files are encrypted before they are stored in the database.
Thu, Dec 2, 2021, 11:09:30 - poikilotherm: Adding files via REST is done via the Native Dataset API https://guides.dataverse.org/en/latest/api/native-api.html#add-a-file-to-a-dataset
Thu, Dec 2, 2021, 11:10:45 - poikilotherm: http://github.com/poikilotherm/dataverse/blob/2514baf92454a9fc44e5d6c5eb1df1ae092b3a38/src/main/java/edu/harvard/iq/dataverse/api/Datasets.java#L2272-L2272
Thu, Dec 2, 2021, 11:11:00 - scalarmotion: From what I've managed to glean, this goes through the addFileToDataset method under Datasets.java?
Thu, Dec 2, 2021, 11:11:06 - scalarmotion: ah
Thu, Dec 2, 2021, 11:11:56 - Don Sizemore: scalarmotion: there was a https://github.com/IQSS/dataverse/issues/4113 but they've closed it in favor of TRSA (and I sent your proposal on to Akio Sone, who's writing TRSA)
Thu, Dec 2, 2021, 11:13:48 - poikilotherm: The REST API is reusing  a helper also used by the UI: http://github.com/poikilotherm/dataverse/blob/2514baf92454a9fc44e5d6c5eb1df1ae092b3a38/src/main/java/edu/harvard/iq/dataverse/datasetutility/AddReplaceFileHelper.java
Thu, Dec 2, 2021, 11:14:08 - scalarmotion: <@donsizemore:matrix.org "scalarmotion: there was a https:..."> This is actually part of a larger project/fork which I'm still planning; I'm aiming to present it at the next Community Call.
Thu, Dec 2, 2021, 11:14:30 - poikilotherm: So this is a pretty direct path between upload via REST API and actual storage
Thu, Dec 2, 2021, 11:15:26 - poikilotherm: The UI magic using this very helper happens in `EditDatafilesPage.init()`: http://github.com/poikilotherm/dataverse/blob/2514baf92454a9fc44e5d6c5eb1df1ae092b3a38/src/main/java/edu/harvard/iq/dataverse/EditDatafilesPage.java#L475-L475
Thu, Dec 2, 2021, 11:16:00 - poikilotherm: This is a method called via Jakarta Faces, see editdatafiles.xhtml
Thu, Dec 2, 2021, 11:16:20 - poikilotherm:  I recommend using an IDE to track the usages
Thu, Dec 2, 2021, 11:16:40 - scalarmotion: So the *Page.java source files in general belong to Jakarta Faces?
Thu, Dec 2, 2021, 11:16:50 - poikilotherm: This helps a lot on tracing where there might be a good place to place encryption
Thu, Dec 2, 2021, 11:16:59 - poikilotherm: Message deleted
Thu, Dec 2, 2021, 11:17:04 - scalarmotion: Yeah, I've been tracing through the flow with Intellij
Thu, Dec 2, 2021, 11:17:24 - poikilotherm: <@scalarmotion:matrix.org "So the *Page.java source files i..."> I'd say yes
Thu, Dec 2, 2021, 11:18:05 - poikilotherm: MAYBE it would better to do this on the storage level
Thu, Dec 2, 2021, 11:18:27 - scalarmotion: What about the *ServiceBean files?
Thu, Dec 2, 2021, 11:18:32 - qqmyers joined the room
Thu, Dec 2, 2021, 11:18:46 - poikilotherm: As you do the encryption on the server side, you might be better of doing this in the layer where the actual data is moved into places
Thu, Dec 2, 2021, 11:19:04 - poikilotherm: This might be easier than trying to mess with JSF/JAX-RS
Thu, Dec 2, 2021, 11:19:09 - qqmyers: Using the S3 direct upload mechanism might be easiest (assuming you can do S3) - the files go directly from browser to storage.
Thu, Dec 2, 2021, 11:19:20 - poikilotherm: Oh pdurbin summoned qqmyers . Hi Jim
Thu, Dec 2, 2021, 11:19:45 - Don Sizemore: @poikilotherm I thought about pestering Jim but I worry about pestering him too much
Thu, Dec 2, 2021, 11:20:02 - qqmyers: Hey (and it was Don's slack msgs)
Thu, Dec 2, 2021, 11:21:15 - scalarmotion: Yeah, I'm still thinking about where exactly I should be inserting my changes
Thu, Dec 2, 2021, 11:21:33 - poikilotherm: qqmyers: lots of log. scalarmotion want to know
> Let's say I want to add a step to the file upload process where files are encrypted before they are stored in the database.
Thu, Dec 2, 2021, 11:22:17 - poikilotherm: scalarmotion: you MUST think about the impact of this. If you do this server side, it might be necessary to do this asynchronous.
Thu, Dec 2, 2021, 11:22:31 - qqmyers: FWIW: QDR is also looking/thinking about this and mostly wondering about whether Dataverse should be involved in keys at all (e.g. does the user encrypt and pass the file and then part of allowing access is for the user to share the key with the intended file recipient, or does Dataverse keep a key so it can hand it out.)
Thu, Dec 2, 2021, 11:22:47 - poikilotherm: Encrypting files might require large amounts of CPU resources and make the page feel sluggish
Thu, Dec 2, 2021, 11:28:13 - scalarmotion: Yeah, this would definitely be done on the server side. I assume that would lie in the *Helper files?
Thu, Dec 2, 2021, 11:50:34 - pdurbin: scalarmotion: was in a meeting. Catching up. I just wanted to make sure you know files aren't stored in the database. They go in a filesystem or S3.
Thu, Dec 2, 2021, 11:51:50 - pdurbin: Also, you might want to look into workflows ( https://guides.dataverse.org/en/5.8/developers/workflows.html ) as a way to add an encryption step. Workflows are currently oriented toward the publish step. Not sure if that would work for you.
Thu, Dec 2, 2021, 11:53:07 - pdurbin: One of the workflows has been to move files from one file system to another when a user clicks "publish".
Fri, Dec 3, 2021, 08:13:18 - beep joined the room
Fri, Dec 3, 2021, 08:19:06 - beep: Hi! I tried to run dataverse according to the conf/docker-aio/readme.md descriptions, but it doesn't seem to work. Is it supposed work? I also submitted an issue with the errors I found in the logs. https://github.com/IQSS/dataverse/issues/8272
Fri, Dec 3, 2021, 08:34:17 - pdurbin: beep: hi! "Address already in use" jumps out at me. Is there something running on the port Payara is using?
Fri, Dec 3, 2021, 08:36:02 - beep: Unfortunately I don't know, because there's no hint what port it tries to use. But 8083, 8084 and was free on the host. However this error is reported inside the container, were I have no control of what ports are used and by whom.
Fri, Dec 3, 2021, 08:37:52 - pdurbin: Are you on a tagged commit (looks like v5.8 from your issue) or the develop branch? If develop, which commit, please?
Fri, Dec 3, 2021, 08:38:21 - beep: I am on master now
Fri, Dec 3, 2021, 08:38:38 - beep: latest commit is 5c64c476
Fri, Dec 3, 2021, 08:40:38 - beep: and actually, Payara does run on port 8084 from the container but the app doesn't seem to be deployed or started
Fri, Dec 3, 2021, 08:41:09 - pdurbin: That commit seems to only be on this branch (not master): https://github.com/IQSS/dataverse/tree/7804-dataverse-page-speedup
Fri, Dec 3, 2021, 08:42:02 - pdurbin: It's the only branch listed when I go to https://github.com/IQSS/dataverse/commit/5c64c476
Fri, Dec 3, 2021, 08:42:43 - beep: <@pdurbin:matrix.org "That commit seems to only be on ..."> yes, sorry, so it is 9161cd6c
Fri, Dec 3, 2021, 08:44:53 - pdurbin: Ok, so master, then. Like you said. Thanks. Let me see if I can reproduce it. We don't exercise this docker-aio code regularly, I'm afraid. Meanwhile, if you're looking for a quick way to install Dataverse, I'd suggest Vagrant or dataverse-ansible. Are you on Linux?
Fri, Dec 3, 2021, 08:45:04 - beep: Would it help if I attached the full /opt/payara5/glassfish/domains/domain1/logs/server.log? 240kb
Fri, Dec 3, 2021, 08:47:31 - beep: <@pdurbin:matrix.org "Ok, so master, then. Like you sa..."> Thanks, I know about these other install possibilities, but I would like to avoid them, if possible and have dataverse run in docker. I actually would like to setup a development environment having postgres and solr run in a container and dataverse/payara locally.
Fri, Dec 3, 2021, 08:48:22 - beep: I am on macOS + Docker Desktop
Fri, Dec 3, 2021, 08:49:19 - pdurbin: Are you sure ran docker-aio from master? In your issue I see V5.8.0.2__8018-invalid-characters.sql  but that isn't in master yet, only develop.
Fri, Dec 3, 2021, 08:50:10 - beep: I tried many branches so I am not really sure when I saved my logs, but I will now try it fresh with master again.
Fri, Dec 3, 2021, 08:51:13 - pdurbin: Ok, that's what I'm trying, master. Fingers crossed. Cool that you're interested in setting up a dev environment. I just install Payara, Postgres, and Solr directly on my Mac, as indicated in the dev guide.
Fri, Dec 3, 2021, 08:51:41 - pdurbin: poikilotherm does all his dev in docker, I think.
Fri, Dec 3, 2021, 08:53:04 - pdurbin: Ok, master didn't "just work" for me from docker-aio.
Fri, Dec 3, 2021, 08:53:19 - pdurbin: which is sub-optimal
Fri, Dec 3, 2021, 08:55:32 - pdurbin: remote failure: File not found : /opt/dv/dvinstall/dataverse.war
Command deploy failed.
Fri, Dec 3, 2021, 08:55:57 - pdurbin: Huh, I'm forgetting if I have to compile the war file first. I assumed the "prep" script did that.
Fri, Dec 3, 2021, 08:59:38 - Don Sizemore: @pdurbin I reproduced this in develop
Fri, Dec 3, 2021, 09:01:17 - pdurbin: Ok. I'm trying master, which seems to be working but we should probably document that you have to run `mvn package` before ./conf/docker-aio/prep_it.bash or else you get "deploy failed" like above.
Fri, Dec 3, 2021, 09:02:07 - pdurbin sent an image. (Media omitted)
Fri, Dec 3, 2021, 09:02:22 - pdurbin: There's "master". ^^ Worked fine.
Fri, Dec 3, 2021, 09:02:30 - beep: oh, that might a problem that I have a version build with an older version or on other branch ... now i will build a new war then
Fri, Dec 3, 2021, 09:02:47 - pdurbin: (We should probably take that "phoenix" stuff out of there too. Oh well.)
Fri, Dec 3, 2021, 09:03:15 - Don Sizemore: @beep I have a "podman" branch if you'd like to try it, but I haven't updated it in several months
Fri, Dec 3, 2021, 09:03:19 - pdurbin: Yeah, if you're switching branches, I'd suggest doing a `mvn clean` followed by a `mvn package`.
Fri, Dec 3, 2021, 09:04:19 - Don Sizemore: docker-aio still points to maven-3.6.3 which may or may not love java 11
Fri, Dec 3, 2021, 09:10:01 - pdurbin: Hmm, yep. Sure enough. Broken on develop: remote failure: Error occurred during deployment: Exception while loading the app : javax.ejb.CreateException: Initialization failed for Singleton StartupFlywayMigrator. Please see server.log for more details.
Fri, Dec 3, 2021, 09:10:46 - pdurbin: Now I have to go google how to get my server.log out of the container. üòÑ
Fri, Dec 3, 2021, 09:11:28 - Don Sizemore: I'm trying again with maven-3.8.4
Fri, Dec 3, 2021, 09:11:41 - Don Sizemore: @pdurbin docker exec -it dv bash
Fri, Dec 3, 2021, 09:11:54 - Don Sizemore: @pdurbin then $ less /opt/payara/glassfish/domains/domain1/logs/server.log
Fri, Dec 3, 2021, 09:12:17 - pdurbin: cool but there's something like scp too, right?
Fri, Dec 3, 2021, 09:15:18 - Don Sizemore: docker cp
Fri, Dec 3, 2021, 09:15:42 - pdurbin: I think I'm good without it. Used your exec thing. Thanks.
Fri, Dec 3, 2021, 09:17:41 - pdurbin: It's definitely this: Caused by: org.postgresql.util.PSQLException: ERROR: conversion between UTF8 and SQL_ASCII is not supported
Fri, Dec 3, 2021, 09:18:36 - pdurbin: Which I added in https://github.com/IQSS/dataverse/pull/8242
Fri, Dec 3, 2021, 09:19:12 - poikilotherm: @beep If you're feeling lucky, go check out https://github.com/gdcc/dataverse branch develop+ct
Fri, Dec 3, 2021, 09:19:20 - pdurbin: beep: thanks for bringing this to our attention!
Fri, Dec 3, 2021, 09:20:35 - poikilotherm: It's as easy as checking out the branch and using `mvn -Pct package docker:run`
Fri, Dec 3, 2021, 09:21:11 - poikilotherm: Or you take a look at https://github.com/IQSS/dataverse-docker
Fri, Dec 3, 2021, 09:21:25 - beep: I thank you for the quick response!
Fri, Dec 3, 2021, 09:21:55 - Don Sizemore: whoops, yeah I meant to suggest dataverse-docker
Fri, Dec 3, 2021, 09:22:00 - poikilotherm: I'm currently working on getting real container images upstream, but as IQSS is not using any containers, I need to create selling points üò¨
Fri, Dec 3, 2021, 09:22:32 - poikilotherm: That's why GitHub.com/gdcc/dataverse-kubernetes didn't see any updates for a while...
Fri, Dec 3, 2021, 09:22:50 - beep: <@oliver:bertuch.name "That's why GitHub.com/gdcc/datav..."> That would be great! :-)
Fri, Dec 3, 2021, 09:23:02 - poikilotherm: And yes, pdurbin I do all dev on containers
Fri, Dec 3, 2021, 09:23:03 - pdurbin: beep: if you just want to play around with Dataverse, I'd suggest the master branch for now (or poikilotherm 's thing) since docker-aio worked fine for me. We'll need to figure out what to fix in the develop branch. Please just keep en eye on the issue you opened.
Fri, Dec 3, 2021, 09:23:20 - beep: Ok, thanks!
Fri, Dec 3, 2021, 09:24:29 - poikilotherm: A quick fix: git rm -r conf/docker-aio; git merge gdcc develop+ct:develop
Fri, Dec 3, 2021, 09:24:43 - poikilotherm: üòã
Fri, Dec 3, 2021, 09:25:20 - beep: We are starting a new project to create a national scientific data repository in Hungary and we would like to use Dataverse for this. We already had an installation running for about a year and had good experience and so we would like to build on this.
Fri, Dec 3, 2021, 09:25:21 - poikilotherm: Don't try that beep it was a joke...
Fri, Dec 3, 2021, 09:25:43 - beep: <@oliver:bertuch.name "Don't try that beep it was a jok..."> I won't :-)
Fri, Dec 3, 2021, 09:26:59 - poikilotherm: <@beeppeeb:matrix.org "We are starting a new project to..."> Great. We've been using Dataverse 4.20 on K8s for quite a while now. Happy to share insights 
Fri, Dec 3, 2021, 09:27:24 - poikilotherm: Service Message: I do have strong opinions. ‚úåÔ∏è
Fri, Dec 3, 2021, 09:28:47 - beep: We also had 4.20 and had some custom developments on it to make it work in Hungarian and also had to do some hack related to ORCID login
Fri, Dec 3, 2021, 09:29:30 - beep: One things that would be important for us to be able to have a multilingual installation with English and Hungarian.
Fri, Dec 3, 2021, 09:31:17 - pdurbin: beep: it looks like there was a Hungarian translation back in 4.9.4: https://github.com/GlobalDataverseCommunityConsortium/dataverse-language-packs
Fri, Dec 3, 2021, 09:33:43 - beep: Yes, we used that and built on that.
Fri, Dec 3, 2021, 09:34:39 - pdurbin: Ah, great. We're happy to take any updated properties files, of course.
Fri, Dec 3, 2021, 09:36:04 - beep: Sure. Now we first try to move to 5.8 or something like that and then we plan to submit PR-s with such changes that could be useful for others as well.
Fri, Dec 3, 2021, 09:41:29 - Don Sizemore: @beep I think the problem you were seeing was due to Postgres' initdb command not being able to infer an appropriate locale within Docker. I'm testing with `-E 'UTF-8'`
Fri, Dec 3, 2021, 10:12:12 - pdurbin: And now a pull request, it seems: https://github.com/IQSS/dataverse/pull/8273 . Thanks, Don Sizemore !
Fri, Dec 3, 2021, 10:13:12 - Don Sizemore: docker-aio may be a vestige of the past, but it is Pete's work and deserves some love.
Fri, Dec 3, 2021, 10:14:03 - pdurbin: Yeah. We mention it in the guides. People find it and use it. I must admit that I'm curious about poikilotherm 's develop+ct thing, though.
Fri, Dec 3, 2021, 10:17:40 - poikilotherm: <@donsizemore:matrix.org "docker-aio may be a vestige of t..."> It's been a great inspiration. Yet ever tool has its time. At some point we should strive for more integration tests than just API and this needs more and deeper control than docker-aio can offer
Fri, Dec 3, 2021, 10:18:09 - poikilotherm: Today Testcontainers greatly matured and seems like the way to go
Fri, Dec 3, 2021, 10:19:32 - beep: Yes, I love Testcontainers they work great!
Fri, Dec 3, 2021, 10:19:38 - beep sent an image. (Media omitted)
Fri, Dec 3, 2021, 10:20:22 - beep: At last after a clean checkout and build and docker-aio works! Thanks again!
Fri, Dec 3, 2021, 10:20:58 - poikilotherm: <@beeppeeb:matrix.org "Yes, I love Testcontainers they ..."> I'm working on adding Testcontainers in my feature branch to create that Container inclusion selling point 
Fri, Dec 3, 2021, 10:22:03 - pdurbin: beep: ah, you're on master now? With docker-aio?
Fri, Dec 3, 2021, 10:22:14 - beep: yes, on master
Fri, Dec 3, 2021, 10:22:34 - Don Sizemore: develop
Fri, Dec 3, 2021, 10:22:49 - Don Sizemore: master has... connotations.
Fri, Dec 3, 2021, 10:23:45 - beep: sorry, I didn't know they are the same
Fri, Dec 3, 2021, 10:24:04 - beep: or what's the difference, but I see
Fri, Dec 3, 2021, 10:24:04 - poikilotherm: beep: you can find first traces of it at https://github.com/poikilotherm/dataverse/blob/ct-mvn/src/test/java/edu/harvard/iq/dataverse/api/TestContainersBase.java
Fri, Dec 3, 2021, 10:27:48 - beep: I am all for containers. The bare metal kind of installation of dataverse is strange for me, but probably has its historical reasons and it is proven to work. But I am glad there are plans for moving to containers. Or at least that poikilotherm  tries to push it. :-)
Fri, Dec 3, 2021, 10:28:30 - pdurbin: beep: you can read about master vs. develop here: https://guides.dataverse.org/en/5.8/developers/version-control.html#branches
Fri, Dec 3, 2021, 10:28:38 - poikilotherm: Oh I prefer to call it a classic installation method
Fri, Dec 3, 2021, 10:28:49 - poikilotherm: But both are perfectly fine
Fri, Dec 3, 2021, 10:29:06 - pdurbin: Don Sizemore: and yes, we should probably get away from master/slave terminology. I think the git project itself switched from master to main? I seem to see main a lot on new repos.
Fri, Dec 3, 2021, 10:29:09 - poikilotherm: And my goal is to always provide support to both worlds
Fri, Dec 3, 2021, 10:29:12 - Don Sizemore: @poikilotherm also known as "traditional deployment"
Fri, Dec 3, 2021, 10:29:48 - poikilotherm: <@pdurbin:matrix.org "Don Sizemore: and yes, we should..."> Usually this only happens for new projects to save people from the headache to update their remotes
Fri, Dec 3, 2021, 10:30:00 - poikilotherm: But yes, let's do that
Fri, Dec 3, 2021, 10:30:49 - Don Sizemore: I didn't realize Dataverse still had a master branch.
Fri, Dec 3, 2021, 10:30:52 - poikilotherm: pdurbin: great to see all the chatter here! Matrix for the win üòé
Fri, Dec 3, 2021, 10:31:12 - poikilotherm: <@donsizemore:matrix.org "I didn't realize Dataverse still..."> It's the stable one containing the current release
Fri, Dec 3, 2021, 10:32:07 - poikilotherm: I still struggle with Dataverse POM not using x.y-SNAPSHOT as a version but having the same version in stable and develop 
Fri, Dec 3, 2021, 10:32:49 - r.hamma: what is the required size to install the prerequisites plus dataverse ?
Fri, Dec 3, 2021, 10:33:25 - poikilotherm: <@r.hamma:matrix.org "what is the required size to ins..."> You could sum up the container sizes üòâ
Fri, Dec 3, 2021, 10:34:05 - poikilotherm: Find them at https://github.com/orgs/gdcc/packages
Fri, Dec 3, 2021, 10:34:20 - pdurbin: r.hamma: there's a little guidance at https://guides.dataverse.org/en/5.8/installation/prep.html#hardware-requirements
Fri, Dec 3, 2021, 10:34:25 - poikilotherm: You'll need to add the size of the Pgsql image
Fri, Dec 3, 2021, 10:34:51 - poikilotherm: Remember this is the absolute bare minimum
Fri, Dec 3, 2021, 10:35:07 - poikilotherm: Containers are stripped down as much as possible
Fri, Dec 3, 2021, 10:36:01 - poikilotherm: You might lower the sum by let's say 300 MB because the base images duplicate the JVM and OS binaries
Fri, Dec 3, 2021, 10:37:06 - pdurbin: One of the big things to think about is where to put your data files. NFS? S3?
Fri, Dec 3, 2021, 10:37:16 - poikilotherm: Another way to do it: sum data verse war, payara unzipped, solr unzipped and postgres server download
Fri, Dec 3, 2021, 10:38:06 - beep: The docker-aio based image is 2GB if that helps. It include postgres, solr, dataverse.
Fri, Dec 3, 2021, 10:41:00 - r.hamma: so if i have dual boot Ubuntu 200g with installed docker on it ,i still can install dataverse on a container and then send it away after customizing it? (change css and html ) not for testing purpose !
Fri, Dec 3, 2021, 10:41:35 - r.hamma: installation of dtvrse using docker i mean 
Fri, Dec 3, 2021, 10:42:27 - r.hamma: like to use dataverse for ever
Fri, Dec 3, 2021, 10:43:01 - poikilotherm: Uuuh you wanna create a distributable container package?
Fri, Dec 3, 2021, 10:43:35 - poikilotherm: Please take into account using best practices to run this stuff in production
Fri, Dec 3, 2021, 10:44:08 - poikilotherm: Branding might be part of a layer, as it's usually only written once
Fri, Dec 3, 2021, 10:44:10 - r.hamma: i think mr Don Sizemore understand what i am trying to do ü•¥üòÜ
Fri, Dec 3, 2021, 10:44:38 - Don Sizemore: I thought you were standing up a proof-of-concept
Fri, Dec 3, 2021, 10:44:55 - pdurbin: Are you going to store the data files on that 200 GB Ubuntu machine? You might want to consider S3 (or compatible), NFS, etc. Please see https://guides.dataverse.org/en/5.8/installation/config.html#file-storage-using-a-local-filesystem-and-or-swift-and-or-s3-object-stores
Fri, Dec 3, 2021, 10:44:57 - poikilotherm: You shouldn't package an AIO Container for production usage. It's not a best practice
Fri, Dec 3, 2021, 10:45:16 - Don Sizemore: poikilotherm: I sent him to dataverse-docker
Fri, Dec 3, 2021, 10:45:48 - r.hamma: <@donsizemore:matrix.org "I thought you were standing up a..."> nah i am trying to understand if i understood üòÖ
Fri, Dec 3, 2021, 10:46:00 - poikilotherm: Ok. I'm not convinced their images are of production grade, but that might be a matter of taste
Fri, Dec 3, 2021, 10:46:40 - Don Sizemore: I understood that he wanted a proof-of-concept installation for his company to decide whether to use Dataverse as their data platform
Fri, Dec 3, 2021, 10:46:51 - poikilotherm: Oh that's fine.
Fri, Dec 3, 2021, 10:47:15 - poikilotherm: Do whatever you want for testing and PoC
Fri, Dec 3, 2021, 10:47:46 - r.hamma: > <@pdurbin:matrix.org> Are you going to store the data files on that 200 GB Ubuntu machine? You might want to consider S3 (or compatible), NFS, etc. Please see https://guides.dataverse.org/en/5.8/installation/config.html#file-storage-using-a-local-filesystem-and-or-swift-and-or-s3-object-stores

no , actually after successfully installing it on that Ubuntu 200g ,my work is only to customise the interface and then give it away to another os using docker too which has many servers 
Fri, Dec 3, 2021, 10:48:03 - poikilotherm: <@r.hamma:matrix.org "so if i have dual boot Ubuntu 20..."> 200G should be fine
Fri, Dec 3, 2021, 10:48:38 - r.hamma: <@oliver:bertuch.name "You shouldn't package an AIO Con..."> exactly,what should i do instead?
Fri, Dec 3, 2021, 10:49:38 - poikilotherm: You could think about using the gdcc images as a base image
Fri, Dec 3, 2021, 10:49:52 - poikilotherm: I already invested lots of efforts to make those production grade
Fri, Dec 3, 2021, 10:50:10 - r.hamma: > <@r.hamma:matrix.org> no , actually after successfully installing it on that Ubuntu 200g ,my work is only to customise the interface and then give it away to another os using docker too which has many servers 

or since dataverse-docker is used only for testing also??
Fri, Dec 3, 2021, 10:51:18 - poikilotherm: If you aren't targeting the container images for production, it might be easier to provide them a tarball or ZIP with your branding code.
Fri, Dec 3, 2021, 10:51:41 - poikilotherm: They can deploy these to a production installation
Fri, Dec 3, 2021, 10:51:57 - poikilotherm: No need to worry about docker in production then
Fri, Dec 3, 2021, 10:55:46 - pdurbin: r.hamma: The only person I know who runs Dataverse in Docker in production is poikilotherm so I'd follow his lead.
Fri, Dec 3, 2021, 10:57:09 - pdurbin: I'm also looking forward to when poikilotherm upgrades to 5.x. üòÑ
Fri, Dec 3, 2021, 10:58:18 - poikilotherm: <@pdurbin:matrix.org "I'm also looking forward to when..."> I see what you did there... üòá
Fri, Dec 3, 2021, 11:00:31 - r.hamma: <@oliver:bertuch.name "Do whatever you want for testing..."> no i want to use it for production no more testing ,so docker is fine for production?
Fri, Dec 3, 2021, 11:04:34 - pdurbin: Once upon a time Don Sizemore wanted "provider" to be tracked. "AWS, Kubernetes, or a PC under somebody's desk": https://github.com/IQSS/dataverse-installations/issues/79
Fri, Dec 3, 2021, 11:05:10 - pdurbin: "For ease of conjuring kindred spirits." I love that.
Fri, Dec 3, 2021, 11:06:19 - Don Sizemore: I did?
Fri, Dec 3, 2021, 11:07:27 - poikilotherm: Well I wouldn't use dataverse-docker images for production.

And many institutions out there aren't actually capable of running a production container setup, as their infrastructure might not be ready. The sysadmins in many places run stuff on VMs and traditional installations.

So before shipping a container, make sure your IT department is happy with this.
Fri, Dec 3, 2021, 11:09:56 - r.hamma: i think i need to know the difference of capabilities between the two so i can know which one will provide best ,is the dataverse installation for testing is fair enough to use on servers and provide an open data portal about COVID-19?
Fri, Dec 3, 2021, 11:13:22 - pdurbin: I don't know if this helps or not but we host Covid data in Dataverse: https://dataverse.harvard.edu/dataverse/covid19
Fri, Dec 3, 2021, 11:15:16 - Don Sizemore: I lot of Dataverse installations have Covid data. Harvard and Slava's in particular. If you're asking about rating Dataverse for sensitive data, that's another matter.
Fri, Dec 3, 2021, 11:15:24 - r.hamma: <@pdurbin:matrix.org "I don't know if this helps or no..."> thanks i mma need it in the future ,
Fri, Dec 3, 2021, 11:40:51 - pdurbin: r.hamma: I think the best solution is whatever you're most comfortable running and maintaining. For me this is not Docker/Kubernetes. üòÑ
Fri, Dec 3, 2021, 11:49:44 - beep: <@oliver:bertuch.name "Or you take a look at https://gi..."> poikilotherm: Ok, so I just built the images using `mvn -Pct clean package docker:build`.  Now what is the right way to start the containers?
Fri, Dec 3, 2021, 11:59:10 - r.hamma: > <@pdurbin:matrix.org> r.hamma: I think the best solution is whatever you're most comfortable running and maintaining. For me this is not Docker/Kubernetes. üòÑ

what re you  using instead?
Fri, Dec 3, 2021, 12:01:48 - pdurbin: "Currently, the Harvard Dataverse Repository is served by four AWS server nodes: two ‚Äúm4.4xlarge‚Äù instances (64GB/16 vCPU) as web frontends, one 32GB/8 vCPU (‚Äúm4.2xlarge‚Äù) instance for the Solr search engine, and one 16GB/4 vCPU (‚Äúm4.xlarge‚Äù) instance for R and TwoRavens. The PostgreSQL database is served by Amazon RDS, and physical files are stored on Amazon S3." That's from https://guides.dataverse.org/en/5.8/installation/prep.html#hardware-requirements
Fri, Dec 3, 2021, 12:02:20 - pdurbin: That might be somewhat out of date, though. I believe it's either CentOS or RHEL. Definitely not Ubuntu.
Fri, Dec 3, 2021, 12:02:42 - pdurbin: And I don't manage it. I'm just a developer. I manage my laptop. üòÑ
Fri, Dec 3, 2021, 12:05:06 - r.hamma: i installed this before and still have it
Fri, Dec 3, 2021, 12:05:48 - r.hamma: the only thing i want now is to customise it and then send an image of it to the other laptop which is connected to servers
Fri, Dec 3, 2021, 12:09:08 - pdurbin: You're going to need to upgrade Dataverse over time. You can't run that image forever. üòÑ
Fri, Dec 3, 2021, 12:09:24 - poikilotherm: <@beeppeeb:matrix.org "poikilotherm: Ok, so I just buil..."> Replace docker:build with docker:run
Fri, Dec 3, 2021, 12:27:47 - beep: Seems to start OK, but then

```
dataverse> Reading in commandments from /opt/payara/config/pre-boot-commands.asadmin
dataverse> 
dataverse> 
dataverse> 
dataverse> #!## LogManagerService.postConstruct : rootFolder=/opt/payara/appserver/glassfish
dataverse> #!## LogManagerService.postConstruct : templateDir=/opt/payara/appserver/glassfish/lib/templates
dataverse> #!## LogManagerService.postConstruct : src=/opt/payara/appserver/glassfish/lib/templates/logging.properties
dataverse> #!## LogManagerService.postConstruct : dest=/opt/payara/appserver/glassfish/domains/domain1/config/logging.properties
dataverse> Reading in commandments from /opt/payara/config/post-boot-commands.asadmin
[ERROR] DOCKER> IO Error while requesting logs: org.apache.http.ConnectionClosedException: Premature end of chunk coded message body: closing chunk expected Thread-5
[ERROR] DOCKER> [gdcc/dataverse-k8s:5.8] "dataverse": Timeout after 180217 ms while waiting on url http://localhost:8080/robots.txt and on log out 'dataverse was successfully deployed'
[ERROR] DOCKER> Error occurred during container startup, shutting down...
[INFO] DOCKER> [gdcc/dataverse-k8s:5.8] "dataverse": Stop and removed container 1a877dbdb1d4 after 0 ms
[INFO] DOCKER> [mailhog/mailhog:v1.0.1] "mailhog": Stop and removed container e669fbe2a540 after 0 ms
postgresql> 2021-12-03 17:26:53.963 UTC [1] LOG:  received fast shutdown request
postgresql> 2021-12-03 17:26:53.965 UTC [1] LOG:  aborting any active transactions
postgresql> 2021-12-03 17:26:53.970 UTC [1] LOG:  background worker "logical replication launcher" (PID 68) exited with exit code 1
postgresql> 2021-12-03 17:26:53.971 UTC [63] LOG:  shutting down
postgresql> 2021-12-03 17:26:53.993 UTC [1] LOG:  database system is shut down

```
Fri, Dec 3, 2021, 12:28:47 - beep: This is the develop+ct branch. Anyways, thanks for your help, I will try again next week. Have a nice weekend!
Fri, Dec 3, 2021, 15:37:30 - pdurbin: Yes, a nice weekend to all. Take care.
Sun, Dec 5, 2021, 15:03:00 - @deknos82:matrix.org joined the room
Mon, Dec 6, 2021, 10:49:35 - beep: Hi,

so, I started fresh but got the same error poikilotherm :
`java -version`
openjdk version "11.0.2" 2019-01-15
OpenJDK Runtime Environment 18.9 (build 11.0.2+9)
OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)
```
git clone https://github.com/gdcc/dataverse
cd dataverse
git checkout develop+ct
mvn -Pct package docker:build
mvn -Pct package docker:run
```
`[ERROR] Failed to execute goal io.fabric8:docker-maven-plugin:0.37.0:run (default-cli) on project dataverse: I/O Error: [gdcc/dataverse-k8s:5.8] "dataverse": Timeout after 180100 ms while waiting on url http://localhost:8080/robots.txt and on log out 'dataverse was successfully deployed' -> [Help 1]`
Mon, Dec 6, 2021, 10:52:41 - beep: develop+ct.log (Media omitted)
Mon, Dec 6, 2021, 10:55:20 - pdurbin: Heh. I like "Reading in commandments from /opt/payara/config/pre-boot-commands.asadmin" üòÑ
Mon, Dec 6, 2021, 10:55:41 - beep: Yeah, that one was ... strange :)
Mon, Dec 6, 2021, 10:57:07 - pdurbin: As the message says, I suspect the dataverse war file was not deployed but I've never used this and I'm not sure why. We might have to wait for poikilotherm to return.
Mon, Dec 6, 2021, 10:57:26 - Don Sizemore: was the dataverse warfile built successfully?
Mon, Dec 6, 2021, 11:00:18 - beep: Yes, there's a `target/dataverse-5.8.war`.

It is definitely some problem with dataverse not starting in the container.
Mon, Dec 6, 2021, 11:04:03 - pdurbin: beep: not to distract you from develop+ct but Don Sizemore got docker-aio working: https://github.com/IQSS/dataverse/pull/8273
Mon, Dec 6, 2021, 11:06:16 - Don Sizemore: @beep but docker-aio is intended to be temporal, for testing
Mon, Dec 6, 2021, 11:07:11 - beep: Don Sizemore: Yes, I understand that, thank you, I will check it out.
Tue, Dec 7, 2021, 03:02:05 - @deknos82:matrix.org left the room
Tue, Dec 7, 2021, 03:49:11 - poikilotherm: beep: I updated the `develop+ct` branch from my feature branch. Needed to update the Payara version. Please pull the recent changes and try again! Thx!
Tue, Dec 7, 2021, 07:48:37 - scalarmotion: <@oliver:bertuch.name "As you do the encryption on the ..."> pdurbin Sorry to pester y'all again, but I'm still a little unclear on the demarcation between client and server in the codebase. Can I assume that everything other than the Jakarta Page files would be considered to run on the server side?
Also, where specifically would the "layer where the actual data is moved" be? As far as I can tell, the lowest level seems to be IngestServiceBean which seems to directly manage the filesystem - is that correct?
Tue, Dec 7, 2021, 08:17:03 - pdurbin: scalarmotion: Dataverse is an old school server side rendered app. Like Rails or Django. No React or Vue or Angular. Some jQuery here and there, which is obviously client side. The *Page.java files are "backing beans" for JSF pages (xhtml) and run server side.
Tue, Dec 7, 2021, 08:18:29 - pdurbin: Yes, IngestServiceBean is a good place to start to get your head around storage. Note that there's a StorageIO object that can handle both the filesystem and S3 and possibly other stuff in the future.
Tue, Dec 7, 2021, 08:42:16 - pdurbin: I'd check out the saveAndAddFilesToDataset method.
Tue, Dec 7, 2021, 08:47:45 - pdurbin: To get this merged, we'd want encrypted files to be an optional feature, of course. And off by default, I assume.
Tue, Dec 7, 2021, 10:47:33 - scalarmotion: <@pdurbin:matrix.org "I'd check out the saveAndAddFile..."> Thanks, this looks perfect for what I need, especially since it conveniently also has access to information about the parent Dataset through a DatasetVersion.
Tue, Dec 7, 2021, 10:49:05 - scalarmotion: And yes, while our project might use different parameters since we're focusing on security, our contribution back to Dataverse will likely make it opt in for more general usage.
Tue, Dec 7, 2021, 10:51:44 - pdurbin: Cool. I mean, who knows, if people love it maybe it'll be the default some day.
Tue, Dec 7, 2021, 10:51:55 - pdurbin: But typically we make stuff like this opt in at first.
Wed, Dec 8, 2021, 10:10:26 - Ilaria Belvedere joined the room
Wed, Dec 8, 2021, 10:17:54 - Ilaria Belvedere sent an image. (Media omitted)
Wed, Dec 8, 2021, 10:17:55 - Ilaria Belvedere: Hello everyone, I am new here and it's my first approach to Dataverse. I found the link of this chat and I hope you can help me. For my dissertation I am trying to run a local demo of Dataverse and I am following this tutorial: http://k8s-docs.gdcc.io/en/v4.20/quickstart/index.html. I tried docker-compose, but that's what I got. What am I doing wrong? Sorry if my question happens to be silly, but I am kind of stuck. Thank you 
Wed, Dec 8, 2021, 10:19:52 - pdurbin: Ilaria Belvedere: welcome! The k8s stuff was written by poikilotherm 
Wed, Dec 8, 2021, 10:20:22 - pdurbin: There are other ways to run a local demo of Dataverse, of course. By local do you mean on your laptop? Or do you mean on a local server in your data center?
Wed, Dec 8, 2021, 10:22:04 - Ilaria Belvedere: Thank you for your kind answer :) Yes, I mean on my laptop
Wed, Dec 8, 2021, 10:23:00 - pdurbin: We just got docker-aio working again. (Thanks, Don Sizemore .) I'd suggest trying that: https://github.com/IQSS/dataverse/blob/develop/conf/docker-aio/readme.md
Wed, Dec 8, 2021, 10:23:31 - Ilaria Belvedere: Thanks a lot!!
Wed, Dec 8, 2021, 10:24:06 - pdurbin: If that doesn't work, we have other options. Vagrant, for example.
Wed, Dec 8, 2021, 10:29:05 - Ilaria Belvedere: I'll try your suggestion and I'll let you know, thank you very muchüôè
Wed, Dec 8, 2021, 10:29:39 - pdurbin: Oh, sure. What's your dissertation about?
Wed, Dec 8, 2021, 10:38:41 - Ilaria Belvedere: It is about research data repositories in the italian universities context and research data management : each university has its own IR, but there are almost no policies about "data" in the broader meaning and only two universities have built something that goes beyond storing articles and other published documents. One of them - University of Milan - is using Dataverse. My professor suggested to show in my dissertation how Dataverse works for a possible future implementation for my university. I have to say that I am still at the beginning and that I am studying Digital Humanities, so I am not a programmer and for me the practical part is quite difficult.
Wed, Dec 8, 2021, 10:41:57 - pdurbin: Sounds like a great topic. Please feel free to ask questions. One thought is that you might want to check out the "What is Harvard Dataverse" video at https://support.dataverse.harvard.edu
Wed, Dec 8, 2021, 10:44:06 - pdurbin: There was also a recent "Dataverse in Canada" series. You can find it at https://dataverse.org/dataversetv
Wed, Dec 8, 2021, 10:49:08 - Ilaria Belvedere: Thanks :) I hope I can do a decent job, I am still learning but this topic is very interesting. And it seems to me that the international context is inspiring!
Wed, Dec 8, 2021, 10:50:14 - Ilaria Belvedere: I'll watch the videos, they are really on topicüëçÔ∏è
Wed, Dec 8, 2021, 10:51:14 - pdurbin: Oh yes, the international flavor is something I love about Dataverse. If you haven't seen our map: https://dataverse.org/installations
Wed, Dec 8, 2021, 10:51:48 - pdurbin: You're also welcome to join our community call. We could even have you explain your project and see what people say: https://dataverse.org/community-calls
Wed, Dec 8, 2021, 10:52:17 - pdurbin: Also, you'll reach a broader audience (different timezones even) if you post at https://groups.google.com/g/dataverse-community
Wed, Dec 8, 2021, 10:53:59 - Ilaria Belvedere: You are very supportive, thanks again! I'll post at the users community too then and surely I'll join your weekly calls If I have the chance. üòÉ
Wed, Dec 8, 2021, 10:57:35 - pdurbin: Sounds good. Biweekly. Of course, some will be canceled with the holidays.
Wed, Dec 8, 2021, 11:00:23 - Don Sizemore: Ilaria Belvedere: if you do use docker-aio to evaluate Dataverse you can save a bunch of time by not running integration tests at the end (unless you want to see the resulting datasets it creates)
Wed, Dec 8, 2021, 11:01:05 - Ilaria Belvedere: It is understandable, it is almost Christmas time :) Where are you writing from?
Wed, Dec 8, 2021, 11:01:19 - Ilaria Belvedere: Thanks Don, I appreciate the suggestion :)
Wed, Dec 8, 2021, 11:01:46 - pdurbin: Boston. Well, Cambridge.
Wed, Dec 8, 2021, 11:03:00 - Ilaria Belvedere: That's great! 
Wed, Dec 8, 2021, 11:05:22 - pdurbin: My wife and I went to Italy for our anniversary and had a great time.
Wed, Dec 8, 2021, 11:06:53 - Ilaria Belvedere: I am happy to hear that, which places did you visit?
Wed, Dec 8, 2021, 11:07:09 - Ilaria Belvedere: I am from Florence
Wed, Dec 8, 2021, 11:08:24 - pdurbin: Ah, my brother met his wife in Florence. They were both studying art. My wife likes to stay in one place on vacation so we spend the whole week in Rome. It was spring time and the weather was great.
Wed, Dec 8, 2021, 11:23:32 - Ilaria Belvedere: I am happy they meet there! And Rome is wonderful :)
Wed, Dec 8, 2021, 20:16:36 - eunice joined the room
Wed, Dec 8, 2021, 20:19:55 - eunice: Message deleted
Thu, Dec 9, 2021, 15:26:27 - poikilotherm: Heads up Don Sizemore pdurbin that Steve Millidge says in https://youtu.be/juD0XNNq344 that Payara 5 Community will stop receiving sec updates once they switch the main branch to v6. This is expected for Q2/2022
Thu, Dec 9, 2021, 15:27:03 - Don Sizemore: well, we'll just upgrade to v6!
Thu, Dec 9, 2021, 15:27:29 - poikilotherm: Yeah but that means of course testing testing testing plus upgrade for the community üòä
Thu, Dec 9, 2021, 15:28:17 - poikilotherm: They will support running a Jakarta EE 8 app on v6 although it will be a Jakarta EE 10 based server
Thu, Dec 9, 2021, 15:28:29 - poikilotherm: And they will support JDK 11 as well as 17
Thu, Dec 9, 2021, 15:28:30 - Don Sizemore: one generally must pay for long-term support
Thu, Dec 9, 2021, 15:29:20 - poikilotherm: The automated transformation between namespaces due to the Jakarta moving might cause troubles. Need tests. üôà
Thu, Dec 9, 2021, 15:29:36 - Don Sizemore: that's why we let Harvard upgrade first ;)
Fri, Dec 10, 2021, 01:01:09 - qzq23 joined the room
Fri, Dec 10, 2021, 06:08:18 - poikilotherm: Looks like we're not affected by LogShell Don Sizemore ... No log4j 2.0+ usage by us...
Fri, Dec 10, 2021, 07:32:56 - Don Sizemore: @poikilotherm more than once I've been spared by running too-old software
Fri, Dec 10, 2021, 09:08:22 - pdurbin: poikilotherm: wow, he's got a beard now.
Fri, Dec 10, 2021, 09:13:25 - pdurbin: Looks like he answered that question about Payara 5 security patches around 32:52 - https://youtu.be/juD0XNNq344?t=1972
Fri, Dec 10, 2021, 09:14:08 - pdurbin: Who wants the honor of opening an issue?
Fri, Dec 10, 2021, 10:58:17 - pdurbin: I went ahead and opened one: https://github.com/IQSS/dataverse/issues/8305
Fri, Dec 10, 2021, 10:58:30 - pdurbin: poikilotherm: thanks for the heads up!
Fri, Dec 10, 2021, 12:49:42 - Don Sizemore: @pdurbin I'm about to open a support ticket, unless you've got a smarter thing to tell me?
Fri, Dec 10, 2021, 13:21:32 - pdurbin: Don Sizemore: sorry, for what now?
Fri, Dec 10, 2021, 13:22:05 - Don Sizemore: heh. I just submitted the ticket. don't have the auto-response just yet.
Fri, Dec 10, 2021, 13:22:15 - Don Sizemore: #312504
Fri, Dec 10, 2021, 13:23:01 - pdurbin: Ah, the import thing.
Fri, Dec 10, 2021, 13:24:34 - pdurbin: Hmm, I agree with the first thing, that harvesting would be ideal in this scenario. Bummer that they don't allow it anymore.
Fri, Dec 10, 2021, 13:25:18 - pdurbin: Generally, I think it's somewhat dangerous territory to have DOIs that you don't control in Dataverse, unless they're harvested.
Fri, Dec 10, 2021, 13:26:28 - Don Sizemore: dangerous? I was already terrified it would somehow mess with our storage identifiers and corrupt our database into shambles
Fri, Dec 10, 2021, 13:26:45 - Don Sizemore:  (in my world, everything is a house of cards)
Fri, Dec 10, 2021, 13:27:58 - pdurbin: I just mean that especially when in comes to publishing, Dataverse assumes you have control over the DOI.
Fri, Dec 10, 2021, 13:28:37 - Don Sizemore: yes
Fri, Dec 10, 2021, 13:28:38 - pdurbin: Where does the DOI resolve to? Your server? Or the original place?
Fri, Dec 10, 2021, 13:28:45 - Don Sizemore: ICPSR
Fri, Dec 10, 2021, 13:28:58 - pdurbin: Yeah, ideally this would be harvested.
Fri, Dec 10, 2021, 13:29:09 - Don Sizemore: that was "Plan A"
Fri, Dec 10, 2021, 13:29:25 - pdurbin: Seems like a political problem.
Fri, Dec 10, 2021, 13:30:08 - pdurbin: Should we have a kind of dataset that acts like it's harvested but was never harvested?
Fri, Dec 10, 2021, 13:30:56 - pdurbin: Behaves the same, I mean. No dataset page. When you click its search result card, it goes to the original source (ICPSR or wherever).
Fri, Dec 10, 2021, 13:31:21 - pdurbin: chain link icon or whatever in the search card, to show it's not a native dataset
Fri, Dec 10, 2021, 13:31:42 - Don Sizemore: it sounds like a good remote-HTTP-store type of thing
Fri, Dec 10, 2021, 13:31:55 - pdurbin: Hmm, maybe.
Fri, Dec 10, 2021, 13:32:21 - pdurbin: Might be kind of orthogonal though. DOI ownership vs. file location.
Fri, Dec 10, 2021, 13:33:30 - Don Sizemore: I'm afraid I've exhausted my repertoire at this point, so I was just asking if there's a better way. If the answer is "no" I'll tell Thu-Mai and possibly open an issue
Fri, Dec 10, 2021, 13:35:51 - pdurbin: Yeah, maybe an issue. If ICPSR used to offer harvesting, what happens to all the harvested datasets in Dataverse installations? They'll never be updated? They're frozen in time? Maybe this is the same state that we're talking about. No harvesting server available. But the dataset is in a harvested state. We'd need some terminology around this though.
Fri, Dec 10, 2021, 13:36:11 - pdurbin: Harvested but won't be updated.
Fri, Dec 10, 2021, 13:36:39 - pdurbin: Preharvested (we're hoping they set up a harvesting server so the dataset can be updated via harvesting in the future)
Fri, Dec 10, 2021, 13:37:01 - pdurbin: Nonnative?
Fri, Dec 10, 2021, 13:37:06 - pdurbin: Foreign?
Fri, Dec 10, 2021, 13:37:13 - pdurbin: Unmanaged?
Fri, Dec 10, 2021, 13:37:36 - pdurbin: Readonly?
Fri, Dec 10, 2021, 13:38:06 - Don Sizemore: ossicated.
Fri, Dec 10, 2021, 13:38:13 - pdurbin: there ya go
Fri, Dec 10, 2021, 13:39:00 - Don Sizemore: so, those are two separate issues: 1) how to accomplish what thu-mai wants for the pop center, and 2) how to deal with abandoned harvest datasets
Fri, Dec 10, 2021, 13:39:38 - Don Sizemore: maybe caitlyn was on to something when she said during the community meeting: "not all data needs to be kept forever"
Fri, Dec 10, 2021, 13:40:25 - pdurbin: Yeah, I agree that they're separate issues. Possibly related.
Fri, Dec 10, 2021, 13:41:54 - pdurbin: When you say "feature some datasets" you just mean have them part of a dataverse collection, right?
Fri, Dec 10, 2021, 13:42:56 - pdurbin: Also, when you use that import command, isn't there a way to have it be published as you import so you don't have to publish it later?
Fri, Dec 10, 2021, 13:43:26 - pdurbin: "The optional release parameter tells the Dataverse installation to immediately publish the dataset. If the parameter is changed to no, the imported dataset will remain in DRAFT status."
Fri, Dec 10, 2021, 13:44:18 - pdurbin: You seem to be using release=no
Fri, Dec 10, 2021, 13:45:48 - Don Sizemore: Thu-Mai wanted to review the imported dataset; and I had assumed that release=yes would follow the same code path as a publish?
Fri, Dec 10, 2021, 13:46:14 - pdurbin: I'm not sure, to be honest.
Fri, Dec 10, 2021, 13:46:39 - Don Sizemore: I can try that but I'm leery of what we'll be doing to our metadata. The next time I need to upgrade, for instance.
Fri, Dec 10, 2021, 13:46:53 - pdurbin: yeah
Fri, Dec 10, 2021, 13:47:46 - pdurbin: I think we added release=yes for Pete. And in his migration he used the same DOI authority for his old homegrown system as his new Dataverse installation.
Fri, Dec 10, 2021, 15:30:49 - pdurbin: <@oliver:bertuch.name "Looks like we're not affected by..."> The consensus seems to be that Dataverse itself is unaffected but Solr is. I'm hearing that the following should be put in solr.in.sh: `SOLR_OPTS="$SOLR_OPTS -Dlog4j2.formatMsgNoLookups=true"`
Fri, Dec 10, 2021, 15:33:53 - Don Sizemore: per https://github.com/apache/solr/commit/fa58743acfefc49414b78e25fd3b80e42fc899bc#diff-67fad590a1b98bd36b4ee4f48fd196fc1b90fe378a8b61c13d21818ccfc323f4R264
Fri, Dec 10, 2021, 15:37:15 - pdurbin: Thanks! Hey, I met this guy at PIDapalooza:
Fri, Dec 10, 2021, 15:37:24 - pdurbin sent an image. (Media omitted)
Fri, Dec 10, 2021, 15:37:57 - pdurbin: So the fix was merged into main two hours ago. I guess a release is coming.
Fri, Dec 10, 2021, 15:38:47 - Don Sizemore: I read that the fix is essentially to set formatMsgNoLookups=true
Fri, Dec 10, 2021, 15:39:42 - pdurbin: ah, so equivalent
Fri, Dec 10, 2021, 15:58:15 - pdurbin: Oh, 5.9 is out by the way: https://github.com/IQSS/dataverse/releases/tag/v5.9
Fri, Dec 10, 2021, 15:58:24 - pdurbin: deployed already to https://demo.dataverse.org
Fri, Dec 10, 2021, 15:58:41 - pdurbin: I'm heading out. Have a good weekend, everyone!
Mon, Dec 13, 2021, 07:42:32 - Lincoln: hi.is there any other alternatives to https://guides.dataverse.org/en/latest/admin/backups.html 

Open for suggestion
Mon, Dec 13, 2021, 08:16:46 - pdurbin: Lincoln: I think that's everything that's documented.
Mon, Dec 13, 2021, 08:20:23 - Don Sizemore: Lincoln: this script is very useful: https://wiki.postgresql.org/wiki/Automated_Backup_on_Linux
Mon, Dec 13, 2021, 08:20:47 - Don Sizemore: that, and filesystem backups of the datafiles and logos/ directory should get you reasonably close.
Mon, Dec 13, 2021, 08:40:37 - Lincoln: thank you Don Sizemore  pdurbin .
Mon, Dec 13, 2021, 10:54:57 - Lincoln: i am trying a backup and i have been getting on file "run_backup.py", line 25:

print "No time stamp! first run (or a full re-run)  
Mon, Dec 13, 2021, 10:56:48 - pdurbin: Lincoln: hmm. Can you please create an issue at https://github.com/IQSS/dataverse/issues about this?
Mon, Dec 13, 2021, 11:11:49 - pdurbin: https://github.com/IQSS/dataverse/issues/8307 looks good. Thanks.
Mon, Dec 13, 2021, 11:12:31 - Lincoln: haha
Mon, Dec 13, 2021, 11:13:24 - Lincoln: is there any other manual way of backups  like saving folders or so
Mon, Dec 13, 2021, 11:40:51 - j-n-c joined the room
Mon, Dec 13, 2021, 11:50:33 - pdurbin: Lincoln: sure, I don't know where you store uploaded files (in dev, mine are in `/usr/local/payara5/glassfish/domains/domain1/files`) but you should back up that folder. And the database.
Mon, Dec 13, 2021, 11:52:41 - Lincoln: <@pdurbin:matrix.org "Lincoln: sure, I don't know wher..."> yeah same location
Mon, Dec 13, 2021, 11:52:56 - Lincoln: thank you
Mon, Dec 13, 2021, 11:55:03 - pdurbin: Sure. Those are the two main things. You can rebuild Solr data.
Mon, Dec 13, 2021, 11:55:36 - Lincoln: <@pdurbin:matrix.org "Sure. Those are the two main thi..."> rebuild?? you mean reindexing
Mon, Dec 13, 2021, 11:57:42 - pdurbin: Yeah, reindexing. You can install Solr fresh and do a reindex all.
Mon, Dec 13, 2021, 12:21:31 - Lincoln: ok see you tomorrow :)
Tue, Dec 14, 2021, 07:50:59 - Kir√°ly P√©ter: The last week I was asked if the widgets are working for you. I get a list from Phil, and I checked some working widgets and compare the differences between our widgets. Here is what I found:

The "X-Frame-Options" line in Apache HTTP header response blocks the Dataverse widgets to be shown. The user will get an error message instead. The purpose of X-Frame-Options is to prevent embedding HTML content from a website in a frame at a different website. In Ubuntu's Apache2 (tested on Apache/2.4.18) this pragma is set by default to "DENY" value, so the widgets are blocked. Other options to enable frames in subdomains or in particular URLs. To enable frames and so widgets everywhere you should remove that line from the HTTP header by following these steps:

1. go to /etc/apache2
2. open conf-available/ssl-params.conf
3. comment out the following line:
Header always set X-Frame-Options DENY
4. save the file
5. restart Apache with
sudo service apache2 restart

I aam not a security expert. Do you see any issues in this? In Harvard and ScholarsPortal this pragma is not part of the HTTP response. I haven't checked other Dataverse instances.
Tue, Dec 14, 2021, 08:20:29 - pdurbin: Hmm. I wonder if Apache is the same on Ubuntu and RHEL with regard to X-Frame-Options. We run on RHEL (or a derivative, I'm not sure).
Tue, Dec 14, 2021, 08:21:28 - pdurbin: Does anyone have a RHEL or derivative box handy to check this out?
Tue, Dec 14, 2021, 09:03:11 - pdurbin: Community call in one hour: https://dataverse.org/community-calls
Tue, Dec 14, 2021, 09:44:16 - Kir√°ly P√©ter: I went through the map of Dataverse instances and I found 19 repositories which also have the `X-Frame-Options` header. Most of the have `DENY` or `SAMEORIGIN` value, one has a seemingly non standard value: `ALLOW-FROM all`
Tue, Dec 14, 2021, 09:45:00 - pdurbin: Interesting.
Tue, Dec 14, 2021, 09:45:20 - pdurbin: So the majority don't have that header.
Tue, Dec 14, 2021, 09:47:52 - Kir√°ly P√©ter: The file contains 75 instances. About 3 or 4 are not available, and yes, the majority (~73%) do not have this header.
Tue, Dec 14, 2021, 09:49:05 - Kir√°ly P√©ter: are the widgets created automatically, or they are only available if the owner checks them in the UI?
Tue, Dec 14, 2021, 09:49:38 - pdurbin: Widgets are created automatically.
Tue, Dec 14, 2021, 09:49:54 - pdurbin: The UI just helps the person figure out the URL.
Tue, Dec 14, 2021, 09:50:15 - Kir√°ly P√©ter: great, so I can test if they are shown outside of their domain
Tue, Dec 14, 2021, 09:50:29 - pdurbin: yeah
Tue, Dec 14, 2021, 10:05:00 - Kir√°ly P√©ter: BTW, these are the ones having this header: data.cimmyt.org
dataverse.csuc.cat
dataspace.ust.hk
dataverse.no
researchdata.ntu.edu.sg
dataverse.icrisat.org
dataverse.ifdc.org
datasets.iisg.amsterdam
dataverse.pushdom.ru
data.cipotato.org
data.mel.cgiar.org
researchdata.nie.edu.sg
research-data.urosario.edu.co
dataverse.ufabc.edu.br
dadosdepesquisa.fiocruz.br
dataverse.lib.umanitoba.ca
dataverse.unimi.it
dataverse.yale-nus.edu.sg

opendata.pku.edu.cn // X-Frame-Options: ALLOW-FROM all, Server: nginx

Tue, Dec 14, 2021, 10:05:45 - pdurbin: Ok. So maybe some of these are on Ubuntu?
Tue, Dec 14, 2021, 10:06:02 - pdurbin: The call is starting: https://dataverse.org/community-calls
Tue, Dec 14, 2021, 12:17:05 - Frederic Beck: hello
We are trying to upload huge datasets (more than 100GB, some of them are bigger than 1TB) in Dataverse but with regular HTTP requests, we are experiencing timeout issues, and simply increasing the timer value is not a good solution.
We saw that it is possible to enable rsync + ssh file upload via DCM, but the Github project has no activity since Feb. 2019.
Tue, Dec 14, 2021, 12:17:36 - Frederic Beck: Is it still working with current dataverse releases ? Is there an equivalent or any other solution ?
Tue, Dec 14, 2021, 12:18:40 - pdurbin: I'm not sure if DCM is still working or not. Maybe! Is it possible for you to use S3? Direct upload to S3 might work for you. That takes Dataverse out of the picture.
Tue, Dec 14, 2021, 12:19:51 - Frederic Beck: We are using a MinIO cluster as backend, I'll look in that direction then, thanks !
Tue, Dec 14, 2021, 12:20:31 - pdurbin: Cool. poikilotherm is using MinIO but I'm not sure if he has looked into direct upload or not.
Tue, Dec 14, 2021, 12:21:52 - Frederic Beck: integration was flawless, besides some weird behaviors with quotas on bucket, I imagine it will work fine :)
Tue, Dec 14, 2021, 12:21:54 - Frederic Beck: thanks a lot
Tue, Dec 14, 2021, 12:27:03 - pdurbin: Great!
Tue, Dec 14, 2021, 13:21:52 - Kir√°ly P√©ter: Frederic Beck: We have developed a workaround: upload files without Dataverse, then run som scripts to insert file metadata into postgresql, and move-rename the files to its final place: https://github.com/pkiraly/dataverse-largefile-insert/
Wed, Dec 15, 2021, 03:19:30 - Frederic Beck: Kir√°ly P√©ter: Nice, it's the kind of script I was thinking of, but my knowledge of dataverse is not sufficient at the moment, I'll give it a shot and let you know, thanks a lot ! Great work !
Wed, Dec 15, 2021, 05:04:29 - Kir√°ly P√©ter: Do you know where is the current working repo of dataverse metrics? There is a problem for a while that https://d3plus.org/js/d3.js and https://d3plus.org/js/d3plus.js are not available anymore. In the `newmetrics` of https://github.com/IQSS/dataverse-metrics/ qqmyers  created a commit some months ago (https://github.com/IQSS/dataverse-metrics/commit/0e3a91d9f1c1f8dbc5f4ddbdf439cbbe65038d42), but this hasn't been merged into the main branch, and the main branch still have the old, no longer available URLs. The Dataverse.org's metrics page (https://metrics.dataverse.org/) is working, but I bet, it is not based on the main branch. From the name `newmetrics` it comes, that it contains some more changes than simply the d3js. The new d3js files are seemingly incompatible with the existing scripts, raise error messages, and do not fix the page.
Wed, Dec 15, 2021, 05:14:13 - Kir√°ly P√©ter: I checked the `newmetrics` and seems it is quite different than the `main`. Does anyone know 
- what is the expected version of d3 and d3plus files?
- where can we find them?
I hope that they are still available only in a different URL. And that would fix the issue.
Wed, Dec 15, 2021, 05:28:48 - beep: Do you know whether the  Log4Shell (CVE-2021-44228) vulnerability affects Dataverse and which versions?
Wed, Dec 15, 2021, 05:30:20 - beep: I couldn't find any issues on github regarding this.
Wed, Dec 15, 2021, 05:31:27 - Kir√°ly P√©ter: <@beeppeeb:matrix.org "I couldn't find any issues on gi..."> There were some emails about it.
Wed, Dec 15, 2021, 05:32:19 - Kir√°ly P√©ter: ```
The Dataverse software itself uses log4j version 1.2 and therefore is not 
suspected to be subject to this vulnerability, but Solr is. To protect your 
Solr instance, add the following lines to solr.in.sh:

# enable the following setting to address CVE-2021-44228
SOLR_OPTS="$SOLR_OPTS -Dlog4j2.formatMsgNoLookups=true"

and then restart Solr. 
```
Wed, Dec 15, 2021, 05:33:18 - beep: <@pkiraly:matrix.org "```"> Thanks for the info!
Wed, Dec 15, 2021, 07:06:30 - Don Sizemore: @beep it's now recommended to disable JndiLookups entirely: https://logging.apache.org/log4j/2.x/security.html
Wed, Dec 15, 2021, 07:44:23 - pdurbin: beep: Danny sent a message about log4j at https://groups.google.com/g/dataverse-community/c/vHL3YTJZqC8/m/DTsop2E1CgAJ
Wed, Dec 15, 2021, 08:05:16 - pdurbin: Kir√°ly P√©ter: it looks like https://github.com/IQSS/dataverse-metrics/issues/69 has some clues about old versions of d3plus going 404. It would probably be best for you to create a new issue in the repo about the troubles you're having.
Wed, Dec 15, 2021, 10:47:24 - qqmyers: Kir√°ly P√©ter: The newmetrics branch has ~the old code in the ./global subdir. If you look at the files there, you'll see a slight mod to include the correct d3 files directly since they aren't online any more.
Wed, Dec 15, 2021, 10:56:46 - Frederic Beck: <@beckf:matrix.org "integration was flawless, beside..."> I'm having some issues when adding another S3 store to my dataverse instance, I configured it exactely the same way I did for the first one that is working, and I can access the bucket via awscli or the MinIO client from the server hosting the instance
However, when trying to add a file to this newly created filestore, via direct upload or not, I get the same error:
[2021-12-15T16:52:23.935+0100] [Payara 5.2021.5] [AVERTISSEMENT] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=151 _ThreadName=http-thread-pool::jk-connector(1)] [timeMillis: 1639583543935] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB IngestServiceBean, method: public java.util.List edu.harvard.iq.dataverse.ingest.IngestServiceBean.saveAndAddFilesToDataset(edu.harvard.iq.dataverse.DatasetVersion,java.util.List,edu.harvard.iq.dataverse.DataFile)]]

[2021-12-15T16:52:23.935+0100] [Payara 5.2021.5] [AVERTISSEMENT] [] [javax.enterprise.ejb.container] [tid: _ThreadID=151 _ThreadName=http-thread-pool::jk-connector(1)] [timeMillis: 1639583543935] [levelValue: 900] [[
  
javax.ejb.EJBException: String index out of range: -3

Wed, Dec 15, 2021, 10:58:15 - Kir√°ly P√©ter: <@qqmyers:matrix.org "Kir√°ly P√©ter: The newmetrics bra..."> Thanks! I will check it
Wed, Dec 15, 2021, 10:58:49 - pdurbin: Frederic Beck: hmm. Do you see a line number (lower down) that caused the exception? And are you running Dataverse 5.8? 5.9?
Wed, Dec 15, 2021, 10:59:20 - Frederic Beck: I tried to look in the dvobject table in postgresql, but I don't see anything weird, besides the fact that this dataset hos no 'globalidcreatetime' date
Wed, Dec 15, 2021, 10:59:40 - Frederic Beck: <@pdurbin:matrix.org "Frederic Beck: hmm. Do you see a..."> w're running v5.8
Wed, Dec 15, 2021, 11:00:27 - pdurbin: I believe multiple S3 stores are supported. Good thing qqmyers is here. He'll know. üòÑ
Wed, Dec 15, 2021, 11:01:02 - Frederic Beck: full-error.txt (Media omitted)
Wed, Dec 15, 2021, 11:01:10 - Frederic Beck: <@pdurbin:matrix.org "I believe multiple S3 stores are..."> the full error log
Wed, Dec 15, 2021, 11:01:45 - Frederic Beck: (I'll regenerate the keys afterwards, I this there are some in the logs)
Wed, Dec 15, 2021, 11:02:55 - Frederic Beck: <@beckf:matrix.org "the full error log"> I tried to remove the other filestores and only use one S3 store, and had the same issue
Wed, Dec 15, 2021, 11:03:06 - qqmyers: Yeah - you can have lots of stores. I would guess something in the store jvm options - any special chars in the store id/names, missing entries, etc.?
Wed, Dec 15, 2021, 11:03:38 - pdurbin: 5.8. Thanks. And thanks for the log. This is what I was looking for:

Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -3
	at java.base/java.lang.String.substring(String.java:1841)
	at edu.harvard.iq.dataverse.dataaccess.S3AccessIO.open(S3AccessIO.java:181)
Wed, Dec 15, 2021, 11:04:02 - Frederic Beck: <@qqmyers:matrix.org "Yeah - you can have lots of stor...">          <jvm-options>-Ddataverse.files.sed-nge-storage.type=s3</jvm-options>
        <jvm-options>-Ddataverse.files.sed-nge-storage.bucket-name=dataverse-sed-nge</jvm-options>
        <jvm-options>-Ddataverse.files.sed-nge-storage.path-style-access=true</jvm-options>
        <jvm-options>-Ddataverse.files.sed-nge-storage.label=sed-nge-s3-storage</jvm-options>
        <jvm-options>-Ddataverse.files.sed-nge-storage.custom-endpoint-url=http://sed-fileserver.loria.fr:9000</jvm-options>
        <jvm-options>-Ddataverse.files.sed-nge-storage.profile=sed-nge-storage</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.type=s3</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.label=dataverse-global-s3-storage</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.custom-endpoint-url=http://sed-fileserver.loria.fr:9000/</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.bucket-name=dataverse-global</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.path-style-access=true</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.profile=dataverse-global-storage</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.download-redirect=false</jvm-options>
        <jvm-options>-Ddataverse.files.dataverse-global-storage.upload-redirect=false</jvm-options>

Wed, Dec 15, 2021, 11:04:22 - Frederic Beck: the sed-nge-storage one is working, but the other one fails
Wed, Dec 15, 2021, 11:04:48 - Frederic Beck: I reviewed it so many times I don't see anything anymore
Wed, Dec 15, 2021, 11:04:49 - pdurbin: Here's the line that threw string index out of bounds: https://github.com/IQSS/dataverse/blob/v5.8/src/main/java/edu/harvard/iq/dataverse/dataaccess/S3AccessIO.java#L181
Wed, Dec 15, 2021, 11:09:21 - qqmyers: Looks like a bug with long store names - I think you have the first store id longer than the UUID part of the file names.
Wed, Dec 15, 2021, 11:10:43 - Frederic Beck: I'll try to redefine it with a smaller name, the other one I tried has an even longer name :-p
Wed, Dec 15, 2021, 11:11:06 - Frederic Beck: I'll check that tomorrow and let you know, thanks a lot for your time !
Wed, Dec 15, 2021, 11:11:43 - qqmyers: FWIW: the label can be long the issue is with the id part. If this is it - send an issue in please!
Wed, Dec 15, 2021, 11:17:32 - Frederic Beck: <@qqmyers:matrix.org "FWIW: the label can be long the ..."> sure I'll do that if it's the case
Thu, Dec 16, 2021, 04:27:54 - Frederic Beck: <@qqmyers:matrix.org "FWIW: the label can be long the ..."> I shortened the IDs and it works great now, I'll open the issue right away
Thu, Dec 16, 2021, 07:30:50 - pdurbin: Frederic Beck: https://github.com/IQSS/dataverse/issues/8312 looks good. Thanks for opening it.
Thu, Dec 16, 2021, 15:24:43 - Kir√°ly P√©ter: Hi, have you met this kind of error message?
[2021-12-16T21:22:28.310+0100] [Payara 5.2021.8] [INFO] [] [edu.harvard.iq.dataverse.search.SearchServiceBean] [tid: _ThreadID=101 _ThreadName=http-thread-pool::jk-connector(5)] [timeMillis: 1639686148310] [levelValue: 800] [[
  Search Syntax Error: Error from server at http://localhost:8983/solr/collection1: Expected mime type application/octet-stream but got text/html. <h1>Bad Message 414</h1><pre>reason: URI Too Long</pre>]]
This happens on a dataverse page which in on the depth of the hierarchy

Thu, Dec 16, 2021, 15:27:24 - pdurbin: Hmm, so a long URI is being passed to Solr? Lots of facets or something?
Thu, Dec 16, 2021, 15:29:29 - Kir√°ly P√©ter: it seems that it is the highlighted fields parameter (hl.fl) which have too many times (more than 200) 
Thu, Dec 16, 2021, 15:30:29 - pdurbin: maybe we could switch from GET to POST: https://stackoverflow.com/questions/2997014/can-you-use-post-to-run-a-query-in-solr-select
Thu, Dec 16, 2021, 15:32:48 - Kir√°ly P√©ter: I think that the for the hit highlight (kezword in context) we should not put all the fields, it would be enough to add a single "cover all" copy field
Thu, Dec 16, 2021, 15:34:59 - pdurbin: Hmm, but I think we pass them in (hl.fl) for a reason. Do you want to at least open a GitHub issue?
Thu, Dec 16, 2021, 15:35:31 - pdurbin: Oh and can you reproduce it on https://demo.dataverse.org ?
Thu, Dec 16, 2021, 15:41:02 - Kir√°ly P√©ter: I found it. It happens only some dataverse pages, in dataverse where ALL the fields was set as facet. I removed some, and problem disappeared
Thu, Dec 16, 2021, 15:41:42 - Kir√°ly P√©ter: but it is not clear why the fields were put into the hl.fl parameter instead of facet.field.
Thu, Dec 16, 2021, 15:42:17 - pdurbin: hl is highlighting. We highlight the part of the query that matched.
Thu, Dec 16, 2021, 15:42:45 - Kir√°ly P√©ter: I know, that's why i see it as a strange case
Thu, Dec 16, 2021, 15:43:49 - Kir√°ly P√©ter: I will spend some time to reproduce it. If I can, then I will be able to reproduce it in the demo site, but someone should check the solr log at the backend
Thu, Dec 16, 2021, 15:44:47 - pdurbin: Sounds fine. And if you play around with hl and figure out we don't need it, please feel free to create a pull request.
Thu, Dec 16, 2021, 15:48:18 - Kir√°ly P√©ter: I found another strange thing. A single dataverse page request generates two Solr queries. They are almost the same. The only difference is one parameter:
`&fq=dvObjectType:(dataverses+OR+datasets)`
`&fq=dvObjectType:(dataverses+OR+datasets+OR+files)`
Thu, Dec 16, 2021, 15:50:29 - Kir√°ly P√©ter: (my English is too bad at night time, sorry for that)
Thu, Dec 16, 2021, 15:52:31 - pdurbin: Yes, the second query is only used to get the number files to show in the files facet.
Thu, Dec 16, 2021, 15:54:20 - Kir√°ly P√©ter: I think that it can be done with a query facet as well-within the same request
Thu, Dec 16, 2021, 15:54:37 - pdurbin: nice
Thu, Dec 16, 2021, 15:55:06 - Kir√°ly P√©ter: I will check it
Thu, Dec 16, 2021, 16:00:08 - pdurbin: Oh good, Danny posted "IQSS/Harvard Holiday Closure December 20th - January 3rd" - https://groups.google.com/g/dataverse-community/c/GsIYScHgJAc/m/BbhWJrQTCwAJ
Thu, Dec 16, 2021, 16:07:58 - Don Sizemore: üò≠
Thu, Dec 16, 2021, 16:09:39 - Kir√°ly P√©ter: I think that for some queries, where there is no explicit query, only browsing, such as simple listing of sub dataverse and datasets, we do not need the hl.fl at all, because these is no  keyword to hightlight
Thu, Dec 16, 2021, 16:10:39 - Kir√°ly P√©ter: a typical example:

```
"fq": [
        "subtreePaths:/35680/35681/35682/35684",
        "dvObjectType:(dataverses OR datasets OR files)"
      ],
"q": "*",
```
Thu, Dec 16, 2021, 16:11:32 - Kir√°ly P√©ter: Happy holidays for the IQSS team, and every other members of the community!
Fri, Dec 17, 2021, 05:50:14 - Lincoln: Hi, can this be extended for Drafts? https://guides.dataverse.org/en/latest/api/native-api.html#id49
Fri, Dec 17, 2021, 08:21:23 - Frederic Beck: <@pdurbin:matrix.org "Cool. poikilotherm is using MinI..."> Checked quickly, S3 direct upload works fine on MinIO using DVUploader v1.1.0 (v1.0.9 does one big PUT which times out somewhere in MinIO), I managed to upload a 125GB file flawlessly, I could not check via the web interface for certificates issues on our testbed
Fri, Dec 17, 2021, 11:52:33 - Lincoln: <@lincoln55:matrix.org "Hi, can this be extended for Dra..."> pdurbin: any idea
Sat, Dec 18, 2021, 09:46:20 - poikilotherm: Message deleted
Sun, Dec 19, 2021, 08:31:55 - r.hamma: Message deleted
Sun, Dec 19, 2021, 08:32:43 - r.hamma: Message deleted
Sun, Dec 19, 2021, 09:36:18 - @bjonnh:matrix.org left the room
Mon, Dec 20, 2021, 05:29:11 - r.hamma: Message deleted
Mon, Dec 20, 2021, 05:31:00 - r.hamma: Message deleted
Mon, Dec 20, 2021, 08:16:21 - r.hamma: Message deleted
Mon, Dec 20, 2021, 08:16:26 - r.hamma: Message deleted
Mon, Dec 20, 2021, 08:16:30 - r.hamma: Message deleted
Wed, Dec 22, 2021, 03:56:29 - r.hamma: Mr poikilotherm  can u tell me where exactly to put this command export traefikhost=localhost 
Wed, Dec 22, 2021, 03:57:01 - poikilotherm: Hi r.hamma 
Wed, Dec 22, 2021, 03:57:06 - poikilotherm: Is this from dataverse-docker?
Wed, Dec 22, 2021, 03:57:14 - r.hamma: yess
Wed, Dec 22, 2021, 03:57:30 - poikilotherm: Usually you should be fine with `docker-compose up`
Wed, Dec 22, 2021, 03:57:51 - r.hamma: i am actually using podman 
Wed, Dec 22, 2021, 03:57:52 - poikilotherm: IIRC that should start traefik along the other stuff
Wed, Dec 22, 2021, 03:58:34 - r.hamma: will it work if i say podman-compose up?
Wed, Dec 22, 2021, 03:58:40 - poikilotherm: Maybe this helps? https://vtulluru.com/blog/tulluru-s-blog-1/post/how-to-install-traefik-as-a-container-using-docker-or-podman-2
Wed, Dec 22, 2021, 03:59:44 - r.hamma: Message deleted
Wed, Dec 22, 2021, 03:59:47 - r.hamma: Message deleted
Wed, Dec 22, 2021, 04:01:06 - r.hamma: Message deleted
Wed, Dec 22, 2021, 04:04:38 - poikilotherm: I have no idea how you SHOULD be doing this with podman. Sorry, I don't use podman a lot. Maybe you can create an issue in the repo?
Wed, Dec 22, 2021, 04:05:34 - r.hamma: Message deleted
Wed, Dec 22, 2021, 04:06:27 - r.hamma: Message deleted
Wed, Dec 22, 2021, 05:14:53 - Chua Chiah Soon joined the room
Wed, Dec 22, 2021, 07:38:15 - r.hamma: Message deleted
Wed, Dec 22, 2021, 07:38:29 - r.hamma: Message deleted
Wed, Dec 22, 2021, 07:41:45 - r.hamma: Message deleted
Sun, Dec 26, 2021, 09:37:44 - r.hamma: Message deleted
Sun, Dec 26, 2021, 09:37:50 - r.hamma: Message deleted
Thu, Dec 30, 2021, 02:20:24 - Yi Chen joined the room
Thu, Dec 30, 2021, 02:20:37 - Yi Chen: Hello
Thu, Dec 30, 2021, 02:20:54 - Yi Chen: Anbody hereüßê
Thu, Dec 30, 2021, 02:22:11 - Yi Chen set a profile picture
Thu, Dec 30, 2021, 12:48:23 - Don Sizemore: Hello, how are you?
Thu, Dec 30, 2021, 20:11:20 - Yi Chen: Hi
Thu, Dec 30, 2021, 20:11:21 - Yi Chen: Nice to meet you
Mon, Jan 3, 2022, 08:32:19 - pdurbin: Happy New Year!
Mon, Jan 3, 2022, 09:04:56 - Virgile Jarrige: Happy new year! :)
Mon, Jan 3, 2022, 09:05:27 - poikilotherm: Happy new year :-) 
Mon, Jan 3, 2022, 09:05:58 - poikilotherm: pdurbin: you here? Isn't IQSS closed till next week?
Mon, Jan 3, 2022, 09:24:06 - pdurbin: We're back: https://groups.google.com/g/dataverse-community/c/GsIYScHgJAc/m/BbhWJrQTCwAJ
Mon, Jan 3, 2022, 11:12:29 - poikilotherm: Don Sizemore: I noticed that my shiny XSLT transformations break some special XML strings inside solrconfig.xml using escaped HTML entities... üòí
Mon, Jan 3, 2022, 11:16:23 - poikilotherm: Still need to test if Solr is capable of using the config anyway... :-/
Mon, Jan 3, 2022, 14:24:32 - Don Sizemore: ^^ Solr 8.11.1? ;)
Mon, Jan 3, 2022, 15:23:17 - poikilotherm: <@donsizemore:matrix.org "^^ Solr 8.11.1? ;)"> It shouldn't matter that much which version you're using... It's just an XSLT üòé
Mon, Jan 3, 2022, 15:24:03 - poikilotherm: But I'm gonna nail the Solr version in the Maven POM. So that's thightly coupled
Mon, Jan 3, 2022, 15:24:34 - poikilotherm: If you wanna change the Solr version, change it in POM and do the tests.
Mon, Jan 3, 2022, 15:24:55 - Don Sizemore: oh, I did - I broke it =)
Mon, Jan 3, 2022, 15:25:12 - poikilotherm: I know üòè üòé
Mon, Jan 3, 2022, 15:27:42 - poikilotherm: If I can't figure out how I can stop XSLT from messing with the escaped chars, I might just create an XSLT to put them back in after applying the other changes.
Mon, Jan 3, 2022, 15:28:55 - poikilotherm: After that I want to create a GH action which throws the config into a Sole instance and sees if a core can be created etc
Mon, Jan 3, 2022, 15:29:22 - poikilotherm: That should be fine for a smoke test
Mon, Jan 3, 2022, 15:32:01 - poikilotherm: Oh and maybe I'll switch xsltproc for Saxon HE. Requires Java, but likely present on a Java WebApp dev box
Mon, Jan 3, 2022, 15:33:30 - poikilotherm: And to keep pdurbin from worrying: I'm gonna update the docs, too... Using a prevailed config set for setting up solar makes things easier.
Mon, Jan 3, 2022, 15:34:31 - poikilotherm: Some part soft the install guide are also a bit dated when it comes to Solr options. Things are a bit easier with V8, the instructions seem to be more on the V6 or V7 side of things
Mon, Jan 3, 2022, 15:41:25 - pdurbin: Or V4 even. That's where we started.
Mon, Jan 3, 2022, 15:45:12 - poikilotherm: <@oliver:bertuch.name "And to keep pdurbin from worryin..."> Autocorrection. S/prevailed/prepackaged/
Mon, Jan 3, 2022, 15:45:28 - Don Sizemore: I prefer "prevailed"
Mon, Jan 3, 2022, 15:48:48 - pdurbin: The patch approach seems neat. I'm sure we'll have to revisit our patches if Solr makes significant changes to its config. Is any of this stuff configurable via API? I still think we should configure what we can via API someday.
Mon, Jan 3, 2022, 19:59:04 - poikilotherm: Some is configurable via the Config API, but not all of it. So I'd prefer an aligned approach. It might work out if we have a managed schema factory one day instead of a static schema.
Tue, Jan 4, 2022, 16:06:27 - nightowlaz: Message deleted
Tue, Jan 4, 2022, 16:08:53 - nightowlaz: Message deleted
Wed, Jan 5, 2022, 16:28:11 - pdurbin: poikilotherm: hi! Just saw you comment at https://github.com/IQSS/dataverse/issues/7227#issuecomment-1006088876
Wed, Jan 5, 2022, 16:28:21 - pdurbin: If you don't mind, maybe you could open a new issue.
Wed, Jan 5, 2022, 16:28:34 - poikilotherm: Uff
Wed, Jan 5, 2022, 16:28:45 - poikilotherm: Welp
Wed, Jan 5, 2022, 16:28:48 - poikilotherm: Ok
Wed, Jan 5, 2022, 16:28:53 - pdurbin: heh
Wed, Jan 5, 2022, 16:28:56 - pdurbin: are you ok?
Wed, Jan 5, 2022, 16:29:23 - pdurbin: If the new template is too much, you can create a raw one. üòÑ
Wed, Jan 5, 2022, 16:30:20 - poikilotherm: Sounds like extra work but fine... I'll do my best to create it again. Any screenshots around about the merged stuff I could build upon?
Wed, Jan 5, 2022, 16:30:56 - pdurbin: I'd just use the screenshot from the old issue.
Wed, Jan 5, 2022, 16:31:09 - pdurbin: this one: https://user-images.githubusercontent.com/21006/146034355-d45c0794-bd76-4687-afa3-a3c986aee084.png
Wed, Jan 5, 2022, 16:32:25 - poikilotherm: Ok so what's the deal with not reopening it? Is it the process, keeping things once closed nice and tidy? I'm a bit confused that @djbrooke said the issue is out of scope for the PR but the PR closed the issue.
Wed, Jan 5, 2022, 16:33:21 - poikilotherm: I'm not against opening a new issue, but what should I change to not just duplicate it?
Wed, Jan 5, 2022, 16:33:45 - pdurbin: I guess to me closing issues feels like we're making progress.
Wed, Jan 5, 2022, 16:33:57 - pdurbin: And not closing issues feels like we aren't making progress.
Wed, Jan 5, 2022, 16:34:24 - pdurbin: We did do some stuff. 1. documented the setting. 2. added it to the UI.
Wed, Jan 5, 2022, 16:34:50 - poikilotherm: Well in German that's what we call Nullsummenspiel. Close one, open one. But if that makes you peeps feel better I'm all in ü§ó
Wed, Jan 5, 2022, 16:35:09 - pdurbin: One step forward, two steps back!
Wed, Jan 5, 2022, 16:35:43 - poikilotherm: I'll reopen it tomorrow, when at a real desktop with keyboard and all
Wed, Jan 5, 2022, 16:35:50 - pdurbin: I guess I could have said "related to" instead of "closes" in my PR.
Wed, Jan 5, 2022, 16:36:01 - pdurbin: But man do I love it when issues are closed.
Wed, Jan 5, 2022, 16:36:19 - poikilotherm: Feel ya üòç
Wed, Jan 5, 2022, 16:36:46 - pdurbin: Anyway, Danny is out all week so I thought I'd at least ping you.
Wed, Jan 5, 2022, 16:37:05 - poikilotherm: Thx man
Wed, Jan 5, 2022, 16:38:06 - poikilotherm: Glad you folks are back to business. Lots of people relying on y'all for just another year. Thank you for your service!
Wed, Jan 5, 2022, 16:39:24 - pdurbin: We aim to please.
Wed, Jan 5, 2022, 16:45:28 - nightowlaz: hey there .. happy new year all! another crazy question from me! a while ago we were working on getting our dataverse (dev for now) to connect to a S3 bucket on a Dell Isilon storage (running on powerscale OneFS with S3 protocol enabled) managed in house. We were having an issue with dataverse not wanting to connect to it because it was not sending the correct SSL cert for the store. We FINALLY figured out that there was an actual bug in the OneFS version running on the server, and they recently upgraded the software and it works! yay! we have our dev dataverse installation running with that as the primary (really only) storage and moved all of the files from aws to it. 
Wed, Jan 5, 2022, 16:46:38 - nightowlaz: the problem that we are running into now is that direct upload isn't working (ie: if we configure a store with it enabled, it just gives an error and doesn't uplaod the file); the dell rep that we were working with said that it should support pre-signed urls, and we don't actually get any errors in the logs .. just a very quick network error when the file tries to upload
Wed, Jan 5, 2022, 16:47:49 - pdurbin: Awesome news about the OneFS working now.
Wed, Jan 5, 2022, 16:47:53 - nightowlaz: i THINK this might be because our "access zone" (where are buckets are residing) is on a private IP and really needs to be public .. does this sound like it could be related? I assume that, since aws uses CORS and that makes the bucket public, we need to somehow find a way to do that
Wed, Jan 5, 2022, 16:50:15 - pdurbin: Hmm, my first thought it to find some other software that also supports direct upload to S3 (other than Dataverse) and point it at the OneFS. Just to figure out if the OneFS really does support direct upload. You could probably use curl. I'm not very familiar with the steps.
Wed, Jan 5, 2022, 16:52:00 - poikilotherm: <@nightowlaz:matrix.org "hey there .. happy new year all!..."> Glad you received support from Dell and they fixed the bug!
Wed, Jan 5, 2022, 16:54:01 - nightowlaz: omg i was soooooo happy about it because i spent hours/days/weeks trying to troubleshoot that!
Wed, Jan 5, 2022, 16:54:51 - nightowlaz: okay i will look into finding something that i can test the upload with .. but in general, the bucket needs to be public right? (or at least in some restricted way to the application)? (ie: using ACL rules or something)?

Wed, Jan 5, 2022, 16:55:48 - nightowlaz: the dell rep finally found an obscure ticket indicating that the version of OneFS running didn't sent the correct certs ... it would just always send the default cert for the server
Wed, Jan 5, 2022, 16:56:09 - nightowlaz: i have some VERY clean java stores now anyway!
Wed, Jan 5, 2022, 16:57:47 - pdurbin: Oh, I see. Because it's direct. So maybe it has to be public? I have no idea, really. I don't think you have to make the S3 bucket public though. I asked in #dv-tech so hopefully Jim will see it.
Wed, Jan 5, 2022, 16:59:18 - nightowlaz: oh thanks! haha jim and don probably both cringe when they see my name
Wed, Jan 5, 2022, 17:00:39 - pdurbin: ha. I'm sure not. gotta run!
Wed, Jan 5, 2022, 17:01:26 - qqmyers: Direct upload errors should show in the browser console since it is the client browser trying to use the presigned URLS.
Wed, Jan 5, 2022, 17:02:00 - qqmyers: Could be CORS or if that IP isn't accessible to the user's browser, you may need to configure a proxy (if you can't make the IP public)
Wed, Jan 5, 2022, 17:08:18 - nightowlaz: i think that's what i need to understand .. if the user is on a public IP (ie: say, at home uploading files to our DV installation) and the bucket is on a cluster using a private IP .. it is no longer the dataverse server making the request it is coming from the user's IP?? so then the bucket would need to be public?
Wed, Jan 5, 2022, 17:09:12 - qqmyers: Right - the direct part is the user's machine to the S3 endpoint, so it has to be visible, CORS-allowed.
Wed, Jan 5, 2022, 17:09:24 - qqmyers: Not firewalled against the user, etc.
Wed, Jan 5, 2022, 17:12:15 - qqmyers: You can use a proxy but you then need to configure direct upload to understand that there is one (i.e. it tells the user to access the proxy machine but it still signs the URLs with the bucket's real address so the signature matches once the proxy forwards it.)
Wed, Jan 5, 2022, 17:13:28 - qqmyers: FWIW: I think the guides for the direct upload API have a pretty good description of the overall sequence of events and connections now.
Wed, Jan 5, 2022, 17:16:48 - nightowlaz: okay will look for that .. i read through the Big Data Support guide and the file storage section of the installation guide, but I had not looked at the direct upload api guide again! If I can figure out how to configure the proxy I will try that .. thanks!
Wed, Jan 5, 2022, 17:18:29 - qqmyers: Good luck! Happy New Year!
Wed, Jan 5, 2022, 17:18:52 - nightowlaz: Thanks! Happy New Year to you too! üéâ
Wed, Jan 5, 2022, 17:18:59 - nightowlaz: had to do it :-)
Wed, Jan 5, 2022, 17:19:21 - nightowlaz: the confetti that is
Thu, Jan 6, 2022, 15:28:24 - pdurbin: Nice, in a pull request I'm reviewing I see that someone fixed a typo of mine from long ago: "backwards combatibility" ‚öîÔ∏è
Thu, Jan 6, 2022, 15:28:49 - Don Sizemore: to be fair, that's not even a Freudian slip
Thu, Jan 6, 2022, 15:29:40 - Don Sizemore: er, wait. I think I said that backwards. <insert joke about backwards combat-ibility here>
Thu, Jan 6, 2022, 15:30:28 - pdurbin: It is like Vietnam in here. All this code.
Thu, Jan 6, 2022, 15:30:59 - Don Sizemore: now I'm curious which PR
Thu, Jan 6, 2022, 15:31:21 - pdurbin: multi license
Thu, Jan 6, 2022, 15:31:26 - pdurbin: https://github.com/IQSS/dataverse/pull/7920
Thu, Jan 6, 2022, 15:31:45 - pdurbin: Don't get me wrong. I'm excited about the feature.
Thu, Jan 6, 2022, 15:31:56 - pdurbin: It's just a fair amount of code.
Thu, Jan 6, 2022, 15:31:59 - Don Sizemore: that's a lot of commits
Fri, Jan 7, 2022, 16:51:19 - pdurbin: Have a good weekend, everyone!
Wed, Jan 12, 2022, 01:14:09 - Luis Herrera joined the room
Wed, Jan 12, 2022, 01:16:32 - Luis Herrera: I've been setting up dataverse using docker. everything seems fine except that when i upload a logo(header or footer) the file is not uploaded. I notice the file being placed in the temp folder but not accessible.
Wed, Jan 12, 2022, 01:18:50 - Luis Herrera: I've read I should be able to change the path of temp using dataverse.files.directory. I have added FILES_DIR in .env file but the error is the same 404 when uploading logos.
Wed, Jan 12, 2022, 07:13:32 - Don Sizemore: @Luis I believe these get written beneath domain1/applications - is that directory writable by your Payara user?
Wed, Jan 12, 2022, 07:14:51 - Don Sizemore:  (whereever the header/footer images get stored, my suspicion is that the directory isn't writable)
Wed, Jan 12, 2022, 07:41:52 - pdurbin: Luis Herrera: I'm pretty sure logos go under a directory called "docroot"
Wed, Jan 12, 2022, 07:44:10 - pdurbin: Here, for example: /usr/local/payara5/glassfish/domains/domain1/docroot/logos/1/hipposnow.jpg
Wed, Jan 12, 2022, 07:44:58 - pdurbin: The "1" is the database id of the dataverse collection. 1 is usually the root dataverse collection.
Wed, Jan 12, 2022, 07:46:34 - pdurbin: There's a little more about the "logos" directory at https://guides.dataverse.org/en/5.9/installation/advanced.html#multiple-app-servers
Wed, Jan 12, 2022, 07:47:30 - Don Sizemore: pdurbin: never quote me before I've had my coffee (or after, either)
Wed, Jan 12, 2022, 07:47:40 - pdurbin: üòÑ
Wed, Jan 12, 2022, 15:47:23 - pdurbin: I'm going to be away for at least a week, possibly two, due to a surgery tomorrow. Have fun while I'm gone.
Wed, Jan 12, 2022, 15:54:42 - Don Sizemore: come back safe!
Wed, Jan 12, 2022, 16:03:08 - pdurbin: Yes, sir! üòÑ
Wed, Jan 12, 2022, 18:21:11 - Luis Herrera: <@pdurbin:matrix.org "Here, for example: /usr/local/pa..."> actually that directory does not exist on my docker, the logos are stored under /opt/payara/docroot/logos. There is a temp directory where all the logos are stored when I upload but are not accessible from the frontend. the directory tree does have read permissions.
Wed, Jan 12, 2022, 18:24:00 - Luis Herrera: I'm using this repo: https://github.com/IQSS/dataverse-docker
Wed, Jan 12, 2022, 18:25:10 - Luis Herrera: I have been unable to find an image for dataverse 5.9. I'm don't think my problem has to do with the dataverse version though.
Wed, Jan 12, 2022, 18:50:03 - Don Sizemore: correct, i forgot that in the docker image, s/\/usr\/local\/payara5/\/opt\/payara/g
Wed, Jan 12, 2022, 18:50:31 - Don Sizemore: be sure that the docroot tree is writable by the user running payara
Wed, Jan 12, 2022, 19:13:04 - Luis Herrera: it is writable, and actually when uploading the files do appear under a folder called temp
Wed, Jan 12, 2022, 19:13:21 - Luis Herrera sent an image. (Media omitted)
Wed, Jan 12, 2022, 19:15:22 - Luis Herrera sent an image. (Media omitted)
Wed, Jan 12, 2022, 19:16:22 - Luis Herrera: the file is written into temp but it is not accessible. the permissions are 755 for docroot including subdirectories
Thu, Jan 13, 2022, 07:31:28 - Don Sizemore: Luis Herrera: looks like dataverse-docker uses "production" instead of domain1 https://github.com/IQSS/dataverse-docker/issues/49
Thu, Jan 13, 2022, 10:55:20 - Luis Herrera: I see domain1 in that directory not "production"
Thu, Jan 13, 2022, 10:56:06 - Luis Herrera: in domain1 docroot is a soft link to /opt/docroot
Thu, Jan 13, 2022, 10:56:11 - Luis Herrera sent an image. (Media omitted)
Thu, Jan 13, 2022, 10:56:36 - Don Sizemore: is /opt/docroot writable by the payara user?
Thu, Jan 13, 2022, 10:59:26 - Luis Herrera: yes, it is. I'm seeing the file being uploaded to /opt/payara/docroot/logos/temp
Thu, Jan 13, 2022, 11:00:58 - Luis Herrera: when I upload a logo/header/footer it is placed in that directory but not accessible by the UI. when i load the path to the image it returns a 404
Thu, Jan 13, 2022, 11:01:20 - Luis Herrera sent an image. (Media omitted)
Thu, Jan 13, 2022, 11:02:13 - Don Sizemore: collection logos typically end up in a numeric subdirectory, I wouldn't expect them to be left in temp. does server.log say anything helpful when you upload an image file?
Thu, Jan 13, 2022, 11:07:46 - Luis Herrera: I agree, I don't expect temp to be the final destination. where is the server.log located? I'm seeing the logs on docker but nothing appears when uploading a logo
Thu, Jan 13, 2022, 11:20:34 - Luis Herrera: after I hit save the image is moved from the temp folder to a folder named "1"
Thu, Jan 13, 2022, 11:20:37 - Luis Herrera sent an image. (Media omitted)
Thu, Jan 13, 2022, 11:21:01 - Luis Herrera: but it is still not accessible by the ui
Thu, Jan 13, 2022, 13:09:59 - Don Sizemore: if you're using domain1, it'd be /opt/payara/appserver/glassfish/domains/domain1/logs/server.log
Thu, Jan 13, 2022, 14:26:30 - Luis Herrera: nothing appears in server.logs when the image is uploaded.
Thu, Jan 13, 2022, 14:56:07 - Don Sizemore: do you happen to know what the proxy is in dataverse-docker? I remember historic conditions in which Apache httpd for instance wouldn't follow symlinks or read outside of a given path
Thu, Jan 13, 2022, 16:06:35 - Lincoln: is there any explaination to this diagram. https://github.com/IQSS/dataverse/commit/cd08f717d01cb816605ebc093d80a06b80e9d322
Thu, Jan 13, 2022, 16:33:30 - Don Sizemore: oh, it uses Traefik. my suspicion is on nginx and symbolic links
Thu, Jan 13, 2022, 17:14:18 - Luis Herrera: yes is Traefik. but the behaviour is: it writes to the directory with proper permissions but it's unable retrieve the file
Thu, Jan 13, 2022, 17:14:51 - Luis Herrera: as if there is middleware unable to read that path. No error logs though and simply fails with 404
Mon, Jan 17, 2022, 05:58:43 - Kir√°ly P√©ter: Hi, when I deploy the dataverse war file, the Payara log is full with messages like this:
Mon, Jan 17, 2022, 05:58:52 - Kir√°ly P√©ter: ```
[2022-01-13T17:55:13.608+0100] [Payara 5.2021.8] [WARNING] [NCLS-MNTG-00203] [javax.enterprise.monitoring] [tid: _ThreadID=23 _ThreadName=RunLevelControllerThread-1642092888682] [timeMillis: 1642092913608] [levelValue: 900] [[
  Cannot find node server.applications.dataverse-5\.9.IndexServiceBean.bean-methods.findSolrDocIdsForFilesToDelete-edu\.harvard\.iq\.dataverse\.Dataset-edu\.harvard\.iq\.dataverse\.search\.IndexableDataset$DatasetState for statsProvider com.sun.ejb.monitoring.stats.EjbMethodStatsProvider]]
```
Mon, Jan 17, 2022, 05:59:31 - Kir√°ly P√©ter: Do you have any idea why it is there, what this is about, and how to fix it?
Mon, Jan 17, 2022, 06:02:25 - Kir√°ly P√©ter: There are 300+ entries like this one
Mon, Jan 17, 2022, 07:17:21 - Lincoln: Have you deleted the generated and osgi-cache files?
Mon, Jan 17, 2022, 07:17:54 - Lincoln: also ejbtimertbl file
Mon, Jan 17, 2022, 07:18:58 - Kir√°ly P√©ter: Lincoln: I have deleted the $PAYARA/glassfish/domains/domain1/generated directory.
Mon, Jan 17, 2022, 07:19:10 - Lincoln: <@pkiraly:matrix.org "Lincoln: I have deleted the $PAY..."> and osgi-cache too
Mon, Jan 17, 2022, 07:20:50 - Kir√°ly P√©ter: Thanks! I will try to delete that directory as well. It is not written in the release notes.
Mon, Jan 17, 2022, 07:21:31 - Lincoln: https://guides.dataverse.org/en/latest/admin/troubleshooting.html#id11
Mon, Jan 17, 2022, 07:21:42 - Lincoln: this is the close i can get
Mon, Jan 17, 2022, 07:24:20 - Kir√°ly P√©ter: Lincoln: Thanks a lot!
Mon, Jan 17, 2022, 07:26:21 - Lincoln: Kir√°ly P√©ter: hope it helps :D
Mon, Jan 17, 2022, 09:52:55 - Lincoln: i am uploading large files via UI to s3.. but somehow it gets routed via Payara. the setting dataverse.files.s3.upload-redirect= true leads to error.
Is there any other way to resolve this?
Mon, Jan 17, 2022, 10:02:07 - Don Sizemore: when you enabled direct uploads, did you enable CORS on the bucket?
Mon, Jan 17, 2022, 10:03:44 - Don Sizemore: there's a sample config at https://guides.dataverse.org/en/latest/developers/big-data-support.html?highlight=cors#s3-direct-upload-and-download
Mon, Jan 17, 2022, 11:17:28 - Lincoln: Don Sizemore: Thank you. I am using Ceph s3. I  will try this method
Mon, Jan 17, 2022, 16:46:13 - Kir√°ly P√©ter: Lincoln: I can report that it worked. However the Troubleshouting page is not coherent in one aspect. It says: "Remove the generated and osgi-cache directories", then there is a script with the line:
```
rm -rf ${PAYARA_DIR}/${DV_DIR}/osgi-cache/felix
```

I tried to remove only `osgi-cache/felix`, but it did not work. It worked only when I removed the whole `osgi-cache` directory.
Thanks again for your suggestions!
Fri, Jan 21, 2022, 06:58:25 - Lincoln: i enabled the CORS but while uploading via gui I am getting "Upload Unsuccessful (0:Network Error)"
Fri, Jan 21, 2022, 07:20:49 - Don Sizemore: is your Ceph host reachable by the uploading client?
Fri, Jan 21, 2022, 07:21:23 - Lincoln: no direct access to client
Fri, Jan 21, 2022, 07:21:52 - Don Sizemore: I believe that's the problem. To use upload- and download redirects, the storage must be directly accessible.
Fri, Jan 21, 2022, 07:22:30 - Don Sizemore: Jim Myers could tell you more, either on dataverse-users or in the community Slack
Fri, Jan 21, 2022, 07:24:07 - Lincoln: <@donsizemore:matrix.org "is your Ceph host reachable by t..."> just to be clear, do you mean  User having PUT and GET access to buckets location?
Fri, Jan 21, 2022, 07:24:36 - Don Sizemore: My understanding is that, in case of direct upload or download, Dataverse generates a pre-signed URL which it hands off to the client.
Fri, Jan 21, 2022, 07:24:58 - Don Sizemore: So if the client can't connect to the storage service, the request will fail.
Fri, Jan 21, 2022, 07:27:27 - Lincoln: thank you for the info... Any workarounds
Fri, Jan 21, 2022, 07:27:48 - Lincoln: viz: Reverse Proxy
Fri, Jan 21, 2022, 07:28:47 - Lincoln: <@donsizemore:matrix.org "My understanding is that, in cas..."> Also i as an admin am also cannot upload any files directly via S3
Fri, Jan 21, 2022, 07:28:59 - Don Sizemore: I vaguely remember mailing list chatter about such a solution, but it's been a while.
Fri, Jan 21, 2022, 07:29:22 - Don Sizemore: If you suspect trouble with the S3 service, can you manually list and put to Ceph via CLI as your Dataverse service account?
Fri, Jan 21, 2022, 07:30:43 - Lincoln: i can manually list down buckets via CLI 
Fri, Jan 21, 2022, 07:31:01 - Don Sizemore: can you manually upload a test file/
Fri, Jan 21, 2022, 07:31:48 - Lincoln: with upload-redirect = true in domain.xml file..... No 
orselse i have uploaded till 2GB of files on s3 (but via payara)
Fri, Jan 21, 2022, 07:32:53 - Don Sizemore: what did you mean when you said "Also i as an admin am also cannot upload any files directly via S3"
Fri, Jan 21, 2022, 07:33:25 - Don Sizemore: you'll want the payara/dataverse service account user to be able to list/read/write files, and also to update object tagging
Fri, Jan 21, 2022, 07:35:46 - Lincoln: <@donsizemore:matrix.org "what did you mean when you said ..."> i mean when "upload-redirect= true" I cannot upload via gui to s3 as admin as well
Fri, Jan 21, 2022, 07:36:17 - Don Sizemore: but, as the dataverse/payara service account user, you can manually upload a file?
Fri, Jan 21, 2022, 07:39:48 - Lincoln: <@donsizemore:matrix.org "but, as the dataverse/payara ser..."> .let me check again 
Fri, Jan 21, 2022, 07:40:18 - Lincoln: please 
Fri, Jan 21, 2022, 07:40:46 - Don Sizemore: I was just double-checking because of the "admin cannot upload" sentence, but it sounds like you'll want to experiment with a reverse proxy, or leave direct upload and download disabled.
Fri, Jan 21, 2022, 07:41:49 - Lincoln: the idea is to enable direct upload-dwnload for all dataverse users
Fri, Jan 21, 2022, 07:48:42 - Lincoln: <@donsizemore:matrix.org "but, as the dataverse/payara ser..."> sadly No
Fri, Jan 21, 2022, 07:53:31 - Don Sizemore: Arizona had trouble like this with Dell S3 storage - they solved it by updating the firmware
Fri, Jan 21, 2022, 07:56:30 - Lincoln: oh
Sun, Jan 23, 2022, 22:45:51 - nightowlaz: hey there, just saw this (i'm from arizona) .. we got the dell s3 storage working without direct upload, but when we enable direct upload we get the same error (0network error) .. I believe that is because the s3 bucket is on a private subnet in the OneFS software .. waiting for the admins of the storage to add a public zone so we can test that theory .. would like to set up a reverse proxy to see if that works but not sure how to do that 
Sun, Jan 23, 2022, 22:46:59 - nightowlaz: so we don't have to make the bucket public .. or something like CORS
Mon, Jan 24, 2022, 03:01:46 - Lincoln: <@nightowlaz:matrix.org "hey there, just saw this (i'm fr..."> nightowlaz: thank you for the info...( i am also in the same scenario)
Mon, Jan 24, 2022, 16:03:22 - nightowlaz: yea, still confused on this as the bucket that i am hitting should actually be accessible as long as I am on our vpn, which I am, and it still isn't working, so i'm in the same spot =D
Tue, Jan 25, 2022, 10:06:53 - Lincoln: same here
Wed, Jan 26, 2022, 01:18:33 - Yi Chen: Hello there
Wed, Jan 26, 2022, 01:18:48 - Yi Chen: Anybody didn't sleep?
Wed, Jan 26, 2022, 12:01:46 - Sherry Lake: Just checking the room. UVa is upgrading our test Dataverse repo (running on centos 6.10). Starting with upgrading Postgres V9.6 to V10. We had trouble last time trying to go from V9.6 to V13, so went back to V9.6.  

Now trying just incremental upgrade to V10.... just info now.  Hoping we don't have any problems, but in case we do.... wanted to see who was on here to give advice.

Thanks!
Wed, Jan 26, 2022, 12:43:25 - Don Sizemore: I've gone from 9.6 to 13 on a test server seemingly without issue. Dealing with Postgres is something of a choose-your-own-adventure novel with Dataverse.
Wed, Jan 26, 2022, 12:43:57 - Don Sizemore: I'd be curious to hear what trouble you had going from 9.6 to 13? (What version of Dataverse?)
Wed, Jan 26, 2022, 13:19:38 - Sherry Lake: Thanks, Don Sizemore I think the trouble was with "authentication" of db password. But we have 12.9 installed now.... I think? At least we are no longer getting 500 error - this is our test server. Good thing to practice on before production.
Wed, Jan 26, 2022, 13:23:24 - Don Sizemore: oh, 'cause 13 defaults to scram-sha-256 for authentication. I think I dropped that back to md5? I'd have to go look in a couple places.
Wed, Jan 26, 2022, 13:24:21 - Sherry Lake: Don Sizemore: How do I know which version? Is pgsql (the command) different that postgres?

My sysadmins are at lunch now, or I would ask them ;-) 
Wed, Jan 26, 2022, 13:25:11 - Don Sizemore: optimally you want your psql client version to match the server version, but when you connect to a server with psql it'll echo the version of each
Wed, Jan 26, 2022, 13:29:25 - Sherry Lake: Thanks We are running:   psql (12.9, server 10.19)
Wed, Jan 26, 2022, 13:30:01 - Sherry Lake: I just know enough to be dangerous ü§£
Wed, Jan 26, 2022, 14:49:53 - Sherry Lake: Do we need a new postgres driver?
We did have one in /usr/local/payara5/glassfish/lib  - but after putting new version of payara, that postgres driver file is missing. 

We can add it, but where did it go on upgrade of payara?
Wed, Jan 26, 2022, 20:24:38 - Yi Chen: Message deleted
Wed, Jan 26, 2022, 20:31:01 - Yi Chen: Message deleted
Wed, Jan 26, 2022, 20:32:47 - Yi Chen sent an image. (Media omitted)
Wed, Jan 26, 2022, 20:33:24 - Yi Chen: When I tried to create a dataset it shows me like above picture
Wed, Jan 26, 2022, 20:34:04 - Yi Chen: Message deleted
Wed, Jan 26, 2022, 20:34:41 - Yi Chen: Message deleted
Thu, Jan 27, 2022, 07:24:43 - Don Sizemore: Hello Yi Chen, what shows up in the Payara server.log when you try to create a dataset?
Mon, Jan 31, 2022, 06:57:47 - Agostinho Gomes joined the room
Mon, Jan 31, 2022, 06:57:52 - Agostinho Gomes: hi
Mon, Jan 31, 2022, 06:59:52 - Agostinho Gomes: i have a error when  i try to upload metrics generated from counter-processor.
curl -X POST "http://localhost:8080/api/admin/makeDataCount/addUsageMetricsFromSushiReport?reportOnDisk=/counter-processor/reports/mdc-report.json"
{"status":"ERROR","code":500,"message":"Internal server error. More details available at the server logs.","incidentId":"a4a2eafa-8a47-490e-84dd-45564acfd388"}

logs:
[2022-01-31T11:49:04.060+0000] [glassfish 4.1] [SEVERE] [] [edu.harvard.iq.dataverse.api.errorhandlers.ServeletExceptionHandler] [tid: _ThreadID=28 _ThreadName=http-listener-1(3)] [timeMillis: 1643629744060] [levelValue: 1000] [[
  API internal error a4a2eafa-8a47-490e-84dd-45564acfd388: Null Pointer
java.lang.NullPointerException
        at edu.harvard.iq.dataverse.makedatacount.DatasetMetricsServiceBean.parseSushiReport(DatasetMetricsServiceBean.java:122)
Mon, Jan 31, 2022, 07:00:38 - Agostinho Gomes: mdc-report.json (Media omitted)
Mon, Jan 31, 2022, 09:06:23 - pdurbin: Agostinho Gomes: hi! What version of Dataverse are you running? (So we can see what's on line 122.)
Mon, Jan 31, 2022, 09:30:23 - Agostinho Gomes: where can post this error from 4.20
Mon, Jan 31, 2022, 09:31:18 - pdurbin: Do you mean more of server.log? You can email it to support@dataverse.org
Mon, Jan 31, 2022, 09:32:01 - Agostinho Gomes: ok i will send the file
Mon, Jan 31, 2022, 09:32:04 - pdurbin: Here's line 122: https://github.com/IQSS/dataverse/blob/v4.20/src/main/java/edu/harvard/iq/dataverse/makedatacount/DatasetMetricsServiceBean.java#L122
Mon, Jan 31, 2022, 09:32:47 - pdurbin: But iterating through a loop like that shouldn't cause a null pointer. Hmm.
Mon, Jan 31, 2022, 09:32:54 - pdurbin: poikilotherm: right?
Mon, Jan 31, 2022, 09:33:32 - poikilotherm: pdurbin: welcome back! 
Mon, Jan 31, 2022, 09:33:42 - pdurbin: Thanks. üòÑ
Mon, Jan 31, 2022, 09:34:25 - poikilotherm: <@pdurbin:matrix.org "But iterating through a loop lik..."> "A loop like this" - ~70 lines of JSON processing...
Mon, Jan 31, 2022, 09:35:34 - pdurbin: Well, I mean line 122 specifically. It should just skip the look if there's nothing in reportDatasets, I would think.
Mon, Jan 31, 2022, 09:35:59 - poikilotherm: It would be good to know the other lines of the stack trace...
Mon, Jan 31, 2022, 09:36:47 - poikilotherm: There is indirect stuff involved - the JsonArray is processed as an iteration of JsonValue
Mon, Jan 31, 2022, 09:37:29 - Agostinho Gomes: <@pdurbin:matrix.org "Do you mean more of server.log? ..."> do you need more file?
Mon, Jan 31, 2022, 09:37:55 - pdurbin: Agostinho Gomes: one thing I noticed is that your json file has `report-datasets` with a hyphen/dash (-) and the Dataverse code expects `report_datasets` with an underscore (_). What version of Counter Processor are you using?
Mon, Jan 31, 2022, 09:39:26 - Agostinho Gomes: las one
Mon, Jan 31, 2022, 09:39:29 - Agostinho Gomes: last one
Mon, Jan 31, 2022, 09:39:42 - Agostinho Gomes: i install it via github
Mon, Jan 31, 2022, 09:39:59 - pdurbin: Ok. That might be the problem. You need to use the older version of Counter Processor that's mentioned in the Dataverse guides.
Mon, Jan 31, 2022, 09:40:09 - Agostinho Gomes: ok
Mon, Jan 31, 2022, 09:40:18 - Agostinho Gomes: i will install that verstion
Mon, Jan 31, 2022, 09:40:19 - Agostinho Gomes: thanks
Mon, Jan 31, 2022, 09:40:43 - pdurbin: v0.0.1 according to https://guides.dataverse.org/en/4.20/installation/prerequisites.html#installing-counter-processor
Mon, Jan 31, 2022, 09:40:56 - pdurbin: (you said you're running Dataverse 4.20)
Mon, Jan 31, 2022, 09:41:17 - Agostinho Gomes: all metrics confgs are ative:
https://datarepositorium.uminho.pt/dataset.xhtml?persistentId=doi:10.34622/datarepositorium/H7OOLG
Mon, Jan 31, 2022, 09:41:39 - pdurbin: nice!
Mon, Jan 31, 2022, 09:41:48 - Agostinho Gomes: i will deativate metrics
Mon, Jan 31, 2022, 09:42:10 - Agostinho Gomes: and install correct version
Mon, Jan 31, 2022, 09:42:13 - poikilotherm: pdurbin: looking at https://javaee.github.io/javaee-spec/javadocs/javax/json/JsonArray.html there is `getValuesAs()` involved to create the list view. That operation might trigger an NPE if the JsonArray itself is  `null`
Mon, Jan 31, 2022, 09:42:15 - Agostinho Gomes: thanks for all
Mon, Jan 31, 2022, 09:42:41 - pdurbin: poikilotherm: ah, so it is possible. Thanks.
Mon, Jan 31, 2022, 09:42:52 - poikilotherm: So using a different name for the key might be causing this. Good catch.
Mon, Jan 31, 2022, 09:43:56 - poikilotherm: This line hasn't been changed in `develop` since 4.20. Might be good to add a null check here for both parameters
Mon, Jan 31, 2022, 09:44:31 - poikilotherm: (Should throw an `IllegalArgumentException`)
Mon, Jan 31, 2022, 09:45:41 - poikilotherm: Or (if this is more consistent with business logic), log a warning about an empty report and ignore (return).
Mon, Jan 31, 2022, 09:46:15 - pdurbin: Yeah, at some point we should support newer versions of Counter Processor.
Mon, Jan 31, 2022, 10:07:14 - Agostinho Gomes:  curl -X POST "http://localhost:8080/api/admin/makeDataCount/addUsageMetricsFromSushiReport?reportOnDisk=/usr/local/counter-processor-0.0.1/reports/mdc-report.json"
{"status":"OK","data":{"message":"Usage Metrics Data has been added to all datasets from file  /usr/local/counter-processor-0.0.1/reports/mdc-report.json"}}

https://datarepositorium.uminho.pt/dataset.xhtml?persistentId=doi:10.34622/datarepositorium/1JSLNQ

metrics are ok now
Mon, Jan 31, 2022, 10:07:20 - Agostinho Gomes: thanks again
Mon, Jan 31, 2022, 10:11:13 - pdurbin: Fantastic! Thanks for letting us know, Agostinho Gomes ! If you feel like it, you are welcome to open an issue at https://github.com/IQSS/dataverse/issues requesting support for a newer version of Counter Processor.
Mon, Jan 31, 2022, 12:05:31 - pdurbin: poikilotherm: just a heads up that I moved this to QA: https://github.com/IQSS/dataverse/pull/8377
Mon, Jan 31, 2022, 12:05:37 - pdurbin: with a comment
Mon, Jan 31, 2022, 13:16:26 - Agostinho Gomes: <@pdurbin:matrix.org "Fantastic! Thanks for letting us..."> https://github.com/IQSS/dataverse/issues/8380
Mon, Jan 31, 2022, 13:38:01 - pdurbin: Agostinho Gomes: thanks!
Tue, Feb 1, 2022, 01:40:54 - @cva41:matrix.org joined the room
Tue, Feb 1, 2022, 15:12:28 - pdurbin: poikilotherm: Payara Server Community 6.2021.1 Alpha 1 is out but do you know when the next alpha or beta is due out?
Tue, Feb 1, 2022, 15:29:10 - poikilotherm: Nope
Tue, Feb 1, 2022, 15:29:33 - pdurbin: ok, thanks
Tue, Feb 1, 2022, 15:32:26 - poikilotherm: There was a roadmap meeting few days ago
Tue, Feb 1, 2022, 15:32:44 - poikilotherm: Pretty sure a recording while pop up on YT soon
Tue, Feb 1, 2022, 15:33:43 - pdurbin: Looks like it went up 6 hours ago: https://www.youtube.com/watch?v=Bm8aNy2bcJ4
Tue, Feb 1, 2022, 15:39:08 - pdurbin: I added a screenshot with dates to https://github.com/IQSS/dataverse/issues/8305#issuecomment-1027264730
Tue, Feb 1, 2022, 16:03:41 - poikilotherm: Let's assume their schedule will be delayed by a month or two, this isnt much time to do the move
Tue, Feb 1, 2022, 16:17:01 - pdurbin: Well, our thinking is that we should try out a 6 alpha or beta soonish.
Tue, Feb 1, 2022, 16:17:53 - Don Sizemore: the move from 4 to 5 really wasn't that bad, there were some funsies with Jakarta
Tue, Feb 1, 2022, 16:18:04 - Don Sizemore:  (easy for me to say because Gustavo had to deal with it)
Tue, Feb 1, 2022, 16:18:20 - pdurbin: I was gonna say, Gustavo did the heavy lifting.
Tue, Feb 1, 2022, 16:20:02 - Don Sizemore: I'm trying to be optimistic here
Tue, Feb 1, 2022, 16:20:32 - pdurbin: üòÑ
Wed, Feb 2, 2022, 07:09:10 - Lincoln: Are there any changes in settings /configuration that we need to change in Dataverse regarding log4j vulnerability. (i think someone mentioned that in chat some months ago with some config changes. Sadly i can't find it )
Wed, Feb 2, 2022, 07:16:16 - Don Sizemore: Lincoln: you'll want to doctor up Solr (see Dec 10th section here): https://solr.apache.org/news.html
Wed, Feb 2, 2022, 07:17:03 - Don Sizemore: Dataverse also bundles log4jv1 but doesn't define a JMSAppender, so you could remove that class from the jarfile for good measure.
Wed, Feb 2, 2022, 07:18:01 - Don Sizemore: work is under way for Dataverse to use Solr-8.11.1, likely with the 5.10 release.
Wed, Feb 2, 2022, 09:02:44 - Lincoln: thanks Don Sizemore 
Wed, Feb 2, 2022, 09:11:33 - poikilotherm: Oi pdurbin WDYT about adding Maven Modules to the Dataverse mix?
Wed, Feb 2, 2022, 09:12:21 - poikilotherm: (Might be necessary to elaborate a bit on this)
Wed, Feb 2, 2022, 10:08:56 - poikilotherm: Hmm no pdurbin today? üôà
Wed, Feb 2, 2022, 10:21:30 - Don Sizemore: he'll be back in a bit
Wed, Feb 2, 2022, 10:25:17 - poikilotherm: Hope he's doing OK
Wed, Feb 2, 2022, 10:29:41 - pdurbin: Back. Occupational therapy.
Wed, Feb 2, 2022, 10:30:33 - pdurbin: I think we used Maven Modules with DVN 3.
Wed, Feb 2, 2022, 10:30:47 - pdurbin: Or at least we had a parent pom and sub poms.
Wed, Feb 2, 2022, 10:38:08 - pdurbin: multiple licenses merged: https://github.com/IQSS/dataverse/pull/7920
Wed, Feb 2, 2022, 12:34:24 - poikilotherm: Great! üëë
Wed, Feb 2, 2022, 12:34:41 - poikilotherm: That's really a huge step forward
Wed, Feb 2, 2022, 12:35:16 - poikilotherm: <@pdurbin:matrix.org "Or at least we had a parent pom ..."> Oh I didn't know that.
Wed, Feb 2, 2022, 12:36:16 - poikilotherm: I'm asking because there is the ZIP downloader with a POM, that would benefit from a master pom sending versions and get build in one go
Wed, Feb 2, 2022, 12:36:37 - poikilotherm: I am testing creating the new config set for Solr via Maven instead of Makefile
Wed, Feb 2, 2022, 12:37:12 - poikilotherm: And I am thinking about moving the container stuff from the current main POM into distinct places
Wed, Feb 2, 2022, 12:37:41 - poikilotherm: Using those would benefit from a parent
Wed, Feb 2, 2022, 12:38:04 - poikilotherm: Same versions everywhere, same properties everywhere.
Wed, Feb 2, 2022, 12:38:34 - poikilotherm: Might get extended to creating actual release files for Dataverse itself via Maven instead of Makefile
Wed, Feb 2, 2022, 12:38:48 - poikilotherm: Perhaps even upload to GitHub release, Maven Central etc
Wed, Feb 2, 2022, 12:42:14 - poikilotherm: It wouldn't even be a requirement to rename the current POM. A parent may live in a subdirectory. Although that means some inconvenience when you try to build really everything  in one go (needing to change to this dir then)
Wed, Feb 2, 2022, 12:44:43 - poikilotherm: (Of course many properties, settings etc would move out of the POM into parent and the parent reference would be added to it creating both aggregation and inheritance)
Wed, Feb 2, 2022, 12:49:20 - @numero6:codelutin.com joined the room
Wed, Feb 2, 2022, 13:00:28 - pdurbin: poikilotherm: probably best to write it up as an issue, please
Wed, Feb 2, 2022, 13:03:02 - @numero6:codelutin.com left the room
Wed, Feb 2, 2022, 13:08:16 - poikilotherm: Alright... But WDYT? Opinions? Bad idea?
Wed, Feb 2, 2022, 13:45:51 - pdurbin: Well, hold on... ZIP downloader? You mean the zipper, right?
Wed, Feb 2, 2022, 13:47:01 - pdurbin: this thing: https://github.com/IQSS/dataverse/blob/v5.9/scripts/zipdownload/pom.xml
Wed, Feb 2, 2022, 13:50:57 - pdurbin: And are you saying we have a Makefile for Solr configs? I thought it was just a bash script.
Wed, Feb 2, 2022, 13:51:20 - pdurbin: Container stuff, as you know, hasn't been a priority for us. Sorry.
Wed, Feb 2, 2022, 13:52:34 - pdurbin: I guess my thinking is that if there's a compelling enough reason to change things (compelling enough use cases), why not.
Wed, Feb 2, 2022, 13:53:46 - pdurbin: It does sound nice that a parent pom could be in a subdirectory, that we wouldn't have to move our current pom.xml.
Wed, Feb 2, 2022, 14:16:15 - poikilotherm: > And are you saying we have a Makefile for Solr configs? I thought it was just a bash script.

I'm preparing sth to create a proper solrconfig.xml see my PR. Can't provide a link right now, GitHub down.
Wed, Feb 2, 2022, 14:16:54 - poikilotherm: > Container stuff, as you know, hasn't been a priority for us. Sorry.

I know, it's just what I'm doing and it would decouple changes from container stuff and the main app
Wed, Feb 2, 2022, 14:41:28 - poikilotherm: Anyway... Will open an issue tomorrow.
Wed, Feb 2, 2022, 16:21:11 - pdurbin: Ah, I forgot that https://github.com/IQSS/dataverse/pull/8320 is using a Makefile for Solr config. And now you're considering using Maven instead.
Thu, Feb 3, 2022, 07:53:04 - poikilotherm: pdurbin: as requested I created an issue https://github.com/IQSS/dataverse/issues/8394
Thu, Feb 3, 2022, 09:14:07 - pdurbin: poikilotherm: nice write up. Thanks! https://github.com/IQSS/dataverse/issues/2331 feels related to me. Wanting to break ingest out from the monolith.
Thu, Feb 3, 2022, 09:17:04 - Don Sizemore: pdurbin: this may relate to Akio's work on the HttpStore branch?
Thu, Feb 3, 2022, 09:17:39 - Don Sizemore: he's been maintaining a carved-out ingest branch for his trsa-web application for a couple of years now
Thu, Feb 3, 2022, 09:18:14 - pdurbin: Right, I guess the question for Akio is if he would benefit from the parent pom idea that Oliver is proposing.
Thu, Feb 3, 2022, 09:22:24 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: nice write up. Tha..."> I'll add it to the list and mention Akio
Thu, Feb 3, 2022, 09:24:25 - pdurbin: Thanks! Also, maybe it should be "Possibilities/Benefits". I'd love to see the word "benefits" in there somewhere.
Thu, Feb 3, 2022, 09:25:14 - pdurbin: Because if the benefits aren't clear...
Thu, Feb 3, 2022, 09:30:48 - poikilotherm: <@pdurbin:matrix.org "Thanks! Also, maybe it should be..."> Done üëçÔ∏è
Thu, Feb 3, 2022, 09:37:01 - pdurbin: Cool. I appreciate the emphasis on keeping everything working. Being able to just type `mvn package` like we do now.
Thu, Feb 3, 2022, 09:38:19 - pdurbin: Would there be any case where a project that wants to use the parent pom would be in a separate git repo? Is that even a good idea? Maybe git submodules could be used or something?
Thu, Feb 3, 2022, 09:38:31 - poikilotherm: Maybe some day we have all of src/main etc in proper modules
Thu, Feb 3, 2022, 09:39:12 - poikilotherm: It might be interesting for subprojects like sword2-server
Thu, Feb 3, 2022, 09:39:40 - poikilotherm: You can use the parent pom as a BOM like we do with Payara BOM et al
Thu, Feb 3, 2022, 09:41:34 - pdurbin: Right but should all related projects be in the same git repo?
Thu, Feb 3, 2022, 09:42:21 - poikilotherm: ???
Thu, Feb 3, 2022, 09:42:26 - poikilotherm: That's not necessary
Thu, Feb 3, 2022, 09:42:44 - poikilotherm: When releasing dataverse-parent to Maven Central, one may use it as a dependency
Thu, Feb 3, 2022, 09:42:56 - poikilotherm: Without any git specials
Thu, Feb 3, 2022, 09:43:18 - pdurbin: Ah, interesting. Use Maven Central. Obviously, we're not in the habit of putting our stuff out there.
Thu, Feb 3, 2022, 09:43:32 - poikilotherm: Well I am ‚úåÔ∏è
Thu, Feb 3, 2022, 09:43:43 - poikilotherm: Doing so for swords2-server already ;-)
Thu, Feb 3, 2022, 09:44:23 - poikilotherm: One day we might even push sth like a ZIP ball from a module dataverse-release to Maven Central :-D
Thu, Feb 3, 2022, 09:44:51 - poikilotherm: (Payara does this for example - much more convenient to download than from their S3 bucket)
Thu, Feb 3, 2022, 09:45:51 - pdurbin: nice üòÑ
Thu, Feb 3, 2022, 09:45:54 - poikilotherm: https://mvnrepository.com/artifact/fish.payara.distributions/payara
Thu, Feb 3, 2022, 09:58:29 - pdurbin: Is Payara a good example of a project those does all this parent pom stuff well? If not, are there other examples we can look at?
Thu, Feb 3, 2022, 10:08:08 - poikilotherm: I just create a pull request. https://github.com/IQSS/dataverse/pull/8395
Thu, Feb 3, 2022, 10:08:24 - poikilotherm: Yes, Payara makes extensive use of Maven modules
Thu, Feb 3, 2022, 10:09:02 - poikilotherm: But Payara is a really HUGE project
Thu, Feb 3, 2022, 10:09:05 - poikilotherm: Not easy to understand
Thu, Feb 3, 2022, 10:09:47 - poikilotherm: I was going to suggest testcontainers - but they switched to Gradle :-D
Thu, Feb 3, 2022, 10:10:10 - poikilotherm: The concept is just the same. It's not XML though
Thu, Feb 3, 2022, 10:11:10 - pdurbin: Ok, if you think one that uses Maven Modules that's less complicated than Payara, please add it to the issue.
Thu, Feb 3, 2022, 10:11:19 - pdurbin: The pull request looks pretty reasonable to me.
Thu, Feb 3, 2022, 10:11:24 - poikilotherm: Ha
Thu, Feb 3, 2022, 10:11:25 - poikilotherm: Found
Thu, Feb 3, 2022, 10:11:29 - poikilotherm: https://github.com/DSpace/DSpace
Thu, Feb 3, 2022, 10:11:31 - pdurbin: As always, the challenge is selling it.
Thu, Feb 3, 2022, 10:11:51 - pdurbin: We've definitely heard of DSpace. üòÑ
Thu, Feb 3, 2022, 10:27:17 - poikilotherm: pdurbin: do you happen to have your issue-digging shovel around? I'm looking for the issue where Philipp suggested DOIs for Dataverse Collections for an internal reference....
Thu, Feb 3, 2022, 10:27:31 - poikilotherm: Can't find it anywhere üò•
Thu, Feb 3, 2022, 10:28:10 - pdurbin: This one? https://github.com/IQSS/dataverse/issues/5930
Thu, Feb 3, 2022, 10:28:32 - poikilotherm: Hell yeah.... :-D
Thu, Feb 3, 2022, 10:28:35 - poikilotherm: Thx man
Thu, Feb 3, 2022, 10:29:15 - pdurbin: sure
Thu, Feb 3, 2022, 11:16:31 - poikilotherm: Don Sizemore: I can't look into https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-8395/1/display/redirect ... Github Status says "this commit cannot be built"?
Thu, Feb 3, 2022, 11:17:10 - poikilotherm: Status via mail says https://jenkins.dataverse.org/job/IQSS_Dataverse_Internal/799/ was a success - is this the same built?
Thu, Feb 3, 2022, 11:41:27 - @cva41:matrix.org left the room
Thu, Feb 3, 2022, 11:49:50 - Don Sizemore: Internal is a different job
Thu, Feb 3, 2022, 11:50:25 - Don Sizemore: your second run is purring away: https://jenkins.dataverse.org/job/IQSS-Dataverse-Develop-PR/job/PR-8395/2/console
Thu, Feb 3, 2022, 12:47:08 - Sherry Lake: Hello, seeing who is "chatting" UVa is upgrading production today.... Postgres is at 10 (and running) payara at 5.2021.10 and getting this when trying to deploy 5.6:

Authentication failed with password from login store: /root/.gfclient/pass
Enter admin password for user ‚Äúadmin‚Äù> 
remote failure: Error occurred during deployment: Application name dataverse-5.6 is already in use. Please pick a different name.. Please see server.log for more details.
Command deploy failed.
Thu, Feb 3, 2022, 12:50:34 - poikilotherm: First guess: sounds like unsuccessfull undeployment
Thu, Feb 3, 2022, 12:51:34 - poikilotherm: IIRC the deployment will not contain the version number, just "dataverse". So this will conflict with a currently deployed app
Thu, Feb 3, 2022, 12:51:51 - Sherry Lake: but this command: asadmin list-applications
Gives...
 no application
Thu, Feb 3, 2022, 12:52:32 - Sherry Lake: Is there another way to see a deployed app and get rid of it?
Thu, Feb 3, 2022, 12:54:38 - poikilotherm: Is there sth in the server.log from domain1 that might help?
Thu, Feb 3, 2022, 12:56:33 - Sherry Lake: OK... admin just got it back up.
Thu, Feb 3, 2022, 12:57:23 - Sherry Lake: Running Payara 5.2012.10 and even though I told them to remove the "extra" directories, I don't think they did the 1st time deploy was tried.  https://github.com/IQSS/dataverse/issues/8230
Thu, Feb 3, 2022, 12:57:47 - poikilotherm: Oh yeah that's a bad one...
Thu, Feb 3, 2022, 12:58:09 - poikilotherm: I tend to like containers for that one - can't forget to delete what does not get saved ‚úåÔ∏è
Thu, Feb 3, 2022, 13:12:16 - Don Sizemore: Sherry Lake:  just for my benefit, can we recreate the timeline? (did they undeploy before upgrading payara?)
Thu, Feb 3, 2022, 13:14:59 - Sherry Lake: I'll see if they can remember - they are at lunch now.
Thu, Feb 3, 2022, 13:16:34 - Don Sizemore: Leonid says: leonid_andreev  1 minute ago
check the domain.xml; see if there is an entry for ‚Äúdataverse--5.6‚Äù at the end, under the <applications> section.
leonid_andreev  < 1 minute ago
if there is - stop, remove the entry manually, restart?
Thu, Feb 3, 2022, 13:28:53 - pdurbin: Bummer that simply undeploying didn't work.
Thu, Feb 3, 2022, 13:50:32 - Sherry Lake: Don Sizemore:  These were the steps: 
```
undeploy v5.5,
stop payara,
remove the geneated directory,
then move the old payara to payara.MOVED
download and unzip the new payara to the right place
move the domain1 back
```
Then the deploy of 5.6 failed. 

After removing the directories - as in the github issue above, deploy of 5.6 worked.
Thu, Feb 3, 2022, 13:51:51 - pdurbin: Worked? So you're all set now?
Thu, Feb 3, 2022, 13:52:51 - Sherry Lake: Yes, worked. All set w/5.6 now on to 5.7 and eventually to 5.9!!
Thu, Feb 3, 2022, 13:52:59 - Don Sizemore: excellent!
Thu, Feb 3, 2022, 13:56:05 - pdurbin: great news
Fri, Feb 4, 2022, 12:45:42 - Luis Herrera: is it possible to query the metadata using the API?
Fri, Feb 4, 2022, 13:30:21 - pdurbin: Luis Herrera: yep, with the Search API: https://guides.dataverse.org/en/5.9/api/search.html
Fri, Feb 4, 2022, 16:53:57 - pdurbin: Have a good weekend, everyone!
Sat, Feb 5, 2022, 21:18:06 - Luis Herrera: <@pdurbin:matrix.org "Luis Herrera: yep, with the Sear..."> Thanks
Mon, Feb 7, 2022, 01:29:38 - scalarmotion: Hey, does the API have some sort of throttling for uploading files? When I try to make multiple concurrent file upload API calls using javascript's promise.all(), only one gets through and the others get 400 bad request responses, which currently forces me to upload them sequentially and heavily bottlenecks my application
Mon, Feb 7, 2022, 07:09:57 - Don Sizemore: not to my knowledge. how large are these files? (and is a cause given in server.log?)
Mon, Feb 7, 2022, 09:19:08 - pdurbin: scalarmotion: is the first file a tabular file? That is, it is going through ingest? If so, the dataset will lock until ingest is complete.
Mon, Feb 7, 2022, 10:33:35 - pdurbin: Nice. Some code on the side to allow Crossref to be used as a DOI provider: https://groups.google.com/g/dataverse-community/c/WbqNVz7m4Ts/m/J1wE1zV0AwAJ
Mon, Feb 7, 2022, 12:18:09 - Chua Chiah Soon: <@pdurbin:matrix.org "scalarmotion: is the first file ..."> (I'm working with scalarmotion on the same project) Yup, one of the files is tabular and seems like server.log also says that the error is due to the dataset lock (thanks Don Sizemore for the tip!). 

Can I confirm that there are no other API endpoints allowing for multiple file uploads? And how are multiple file uploads (from external tools) usually handled, do they just upload sequentially if the files are tabular? Thanks! üôè
Mon, Feb 7, 2022, 12:42:45 - pdurbin: Chua Chiah Soon: well, you could upload multiple files as a single zip file. Then Dataverse will unpack the zip file and show multiple files in the dataset.
Mon, Feb 7, 2022, 12:43:30 - pdurbin: When uploading files one by one a usual pattern is to check for locks in between each upload: https://guides.dataverse.org/en/5.9/api/native-api.html#dataset-locks
Mon, Feb 7, 2022, 13:11:20 - Chua Chiah Soon: <@pdurbin:matrix.org "Chua Chiah Soon: well, you could..."> hmm that sounds viable, will try this out!
Mon, Feb 7, 2022, 13:11:54 - Chua Chiah Soon: <@pdurbin:matrix.org "When uploading files one by one ..."> very helpful too, thanks again üôè
Mon, Feb 7, 2022, 13:22:45 - poikilotherm: Looks like this might be a future addition... Multi file capability for the API
Mon, Feb 7, 2022, 13:27:17 - Don Sizemore: Chua Chiah Soon: In the mean time, you may find DV-uploader useful for reference? https://github.com/GlobalDataverseCommunityConsortium/dataverse-uploader/wiki/DVUploader,-a-Command-line-Bulk-Uploader-for-Dataverse
Mon, Feb 7, 2022, 13:27:57 - Don Sizemore:  (looks like it simply waits 60 seconds for a dateset to become unlocked, not sure about retries)
Mon, Feb 7, 2022, 13:32:28 - pdurbin: Chua Chiah Soon: the downside of the zip approach is that you can't set descriptions, tags, etc. You'd have to add them later with separate API calls.
Mon, Feb 7, 2022, 13:32:47 - pdurbin: poikilotherm: sure, could be a nice addition some day.
Mon, Feb 7, 2022, 14:33:58 - nightowlaz: hi there .. the default url that shows on an email when a user creates a dataset (for the user guide) is http://guides.dataverse.org/en/5.9/user/dataset-management.html .. if I change the GuidesBaseUrl parameter to point to our custom guide (ie: https://dataverse-guide.lib.asu.edu) .. it appears as "https://dataverse-guide.lib.asu.edu/en/5.9/user/dataset-management.html" in the email (ie: it appends https://dataverse-guide.lib.asu.edu/en/5.9/user/dataset-management.html onto the GuidesBaseUrl setting). Anyone know if there is a way to have it just use our custom guide URL?
Mon, Feb 7, 2022, 14:39:38 - pdurbin: Hmm, I'm wondering if you're talking about `CREATEDS` (which has been around for a while) or `DATASETCREATED` (which is pretty new). Here's the code: https://github.com/IQSS/dataverse/blob/v5.9/src/main/java/edu/harvard/iq/dataverse/MailServiceBean.java#L443-L460
Mon, Feb 7, 2022, 14:40:52 - pdurbin: Is it this message: `notification.email.datasetWasCreated=Dataset "<a href = "{0}">{1}</a>" was just created by {2} in the {3} collection.`?
Mon, Feb 7, 2022, 14:40:55 - pdurbin: Or this one? `notification.email.createDataset=Your new dataset named {0} (view at {1} ) was created in {2} (view at {3} ). To learn more about what you can do with a dataset, check out the Dataset Management - User Guide at {4}/{5}/user/dataset-management.html .`?
Mon, Feb 7, 2022, 14:41:21 - pdurbin: (I'm guessing the latter, the one with the guide link.)
Mon, Feb 7, 2022, 14:59:00 - nightowlaz: yes, the latter one .. "To learn more about what you can do ..." 
Mon, Feb 7, 2022, 14:59:44 - nightowlaz: I believe that uses the GuideBaseUrl db option and then somehow appends /en/5.9/.. etc onto it
Mon, Feb 7, 2022, 15:00:37 - pdurbin: Right. The way to think of it is that {4} adds the base url and {5} adds "/en/5.9". You don't like how this works?
Mon, Feb 7, 2022, 15:02:22 - nightowlaz: LOL I"m always causing trouble! We created a custom guide in confluence and were pointing everyone there .. our NavbarGuidesUrl points to it and we were hoping to point to it in that email .. 
Mon, Feb 7, 2022, 15:02:48 - nightowlaz: It's okay if that's just how it works .. there's not a problem with pointing to the current dataverse guide .. just making sure that is what is happening
Mon, Feb 7, 2022, 15:03:22 - pdurbin: It's not just that one email. Other emails point to the guides. The UI too.
Mon, Feb 7, 2022, 15:03:59 - pdurbin: For example the page to manage your API token links to the guides.
Mon, Feb 7, 2022, 15:03:59 - nightowlaz: oh okay .. i didn't look at them all .. the one we have noticed is just the one that is sent when a dataset is created
Mon, Feb 7, 2022, 15:04:58 - nightowlaz: why does the base guide url change then? do some folks copy the original guide to their installation?
Mon, Feb 7, 2022, 15:06:44 - nightowlaz: and customize it?
Mon, Feb 7, 2022, 15:08:42 - pdurbin: Yeah, the idea has been that installations might "fork" the guides and maintain their own copy.
Mon, Feb 7, 2022, 15:09:05 - nightowlaz: ahhhhh ... okay that makes sense! okay thanks so much!
Mon, Feb 7, 2022, 15:09:38 - pdurbin: Sure. poikilotherm 's https://data.fz-juelich.de for example has guides at https://data.fz-juelich.de/guide/juelich/
Mon, Feb 7, 2022, 15:11:54 - nightowlaz: got it .. that looks good! 
Mon, Feb 7, 2022, 16:25:43 - poikilotherm: I have been wading through troubled waters with that one nightowlaz @pdurbin
Mon, Feb 7, 2022, 16:25:58 - poikilotherm: There was even an issue to make this possible
Mon, Feb 7, 2022, 16:26:22 - poikilotherm: And I used heavy URL rewriting to make it fit the deployed guides
Mon, Feb 7, 2022, 16:26:51 - poikilotherm: It would be quite nice to make this a cleaner solution.
Mon, Feb 7, 2022, 16:27:11 - poikilotherm: Just the usual bits and bobs lying around.... Pesky details.
Mon, Feb 7, 2022, 16:27:29 - nightowlaz: maybe just give folks an option to fork the repo or to use a custom guide urL?
Mon, Feb 7, 2022, 16:27:55 - pdurbin: We're definitely open to suggestions.
Mon, Feb 7, 2022, 16:28:20 - poikilotherm: Yeah üëç
Mon, Feb 7, 2022, 16:28:48 - poikilotherm: Lets see how my latest bigger suggestion about using Maven modules goes üòéüò¨üôàüòá
Mon, Feb 7, 2022, 16:29:05 - pdurbin: We talked about it in standup this morning.
Mon, Feb 7, 2022, 16:29:20 - pdurbin: I represented it best I could. Leonid is going to take a look.
Mon, Feb 7, 2022, 16:29:24 - poikilotherm: I'm all ears 
Mon, Feb 7, 2022, 16:29:30 - poikilotherm: Nice
Mon, Feb 7, 2022, 16:29:42 - poikilotherm: I added some sugar to his little zipper project
Mon, Feb 7, 2022, 16:30:16 - pdurbin: Our usual attitude is "if it ain't broke, don't fix it" but we'll see. üòÑ
Mon, Feb 7, 2022, 16:30:22 - poikilotherm: Maybe that helps ü§ì
Mon, Feb 7, 2022, 16:30:34 - nightowlaz: üòÑ
Mon, Feb 7, 2022, 16:31:34 - poikilotherm: Oh it's not broken...
Mon, Feb 7, 2022, 16:31:51 - poikilotherm: It's just stuck in experimental state üôà
Mon, Feb 7, 2022, 16:32:49 - pdurbin: Oh, I mean our main pom.xml file. If it ain't broke, don't fix it.
Mon, Feb 7, 2022, 16:33:22 - poikilotherm: Oh that one... Yeah, it ain't broke. Just... A huge thing!
Mon, Feb 7, 2022, 16:34:40 - poikilotherm: It's just me trying to nudge you into the right direction of transforming that codebase one day... And have a profit from it meanwhile...
Mon, Feb 7, 2022, 16:35:00 - pdurbin: Yep.
Mon, Feb 7, 2022, 16:35:19 - pdurbin: I reminded everyone that you're in #dv-external if we all want to talk it out.
Mon, Feb 7, 2022, 16:35:35 - pdurbin: Probably we should move you to #dv-tech where we actually talk about stuff.
Mon, Feb 7, 2022, 16:35:38 - poikilotherm: Yeah. ‚úåÔ∏è
Mon, Feb 7, 2022, 16:36:10 - pdurbin: I think Gustavo is admin for IQSS Slack. You could ask him to move you.
Mon, Feb 7, 2022, 16:36:39 - poikilotherm: We could try to create a habit of discussing this on GDCC Slack...
Mon, Feb 7, 2022, 16:37:48 - poikilotherm: Is Jim on that channel? Guess he and I are the most frequent community contributors. And those DANS folks lately also really made a bold start with the new license feature
Mon, Feb 7, 2022, 16:38:53 - pdurbin: Yep. Both Jim and Don Sizemore 
Mon, Feb 7, 2022, 16:39:39 - pdurbin: The problem with GDCC Slack is that not all the IQSS devs are on it.
Mon, Feb 7, 2022, 16:40:11 - poikilotherm: Yeah... That why I called it developing a habit üôà
Mon, Feb 7, 2022, 16:40:28 - poikilotherm: Of course there's also Matrix ü•≥
Mon, Feb 7, 2022, 16:42:44 - pdurbin: Old habits die hard. üòÑ
Mon, Feb 7, 2022, 16:45:20 - poikilotherm: Well we made it off IRC
Mon, Feb 7, 2022, 16:45:57 - poikilotherm: And it still looks like people find us here and ask questions
Mon, Feb 7, 2022, 16:52:56 - pdurbin: Yeah, I guess the various chat options each have their own purpose. This one is mostly for brining new people in and answering quick questions.
Mon, Feb 7, 2022, 16:54:57 - pdurbin: IQSS Slack is pretty deeply entrenched these days. Widely adopted. IQSS-wide announcements go to both email and Slack these days. So it's natural for IQSS devs to be in IQSS Slack. Other chat systems (even GDCC Slack) probably feel extra and optional.
Mon, Feb 7, 2022, 16:59:53 - poikilotherm: Do you folks use the native app or a browser tab?
Mon, Feb 7, 2022, 17:00:16 - pdurbin: I use the native app.
Mon, Feb 7, 2022, 17:00:17 - poikilotherm: Asking because the app allows multiple workspaces and easily switching between em
Mon, Feb 7, 2022, 17:00:31 - poikilotherm: So that might lower a barrier of adding another channel
Mon, Feb 7, 2022, 17:01:16 - pdurbin: Yeah, I switch in the native app all the time. There are keyboard shortcuts even.
Mon, Feb 7, 2022, 17:03:03 - pdurbin: Anyway, again, I'd suggest asking Gustavo to switch you to #dv-tech. Plenty of precedent. And that's where most of the tech discussion happens.
Wed, Feb 9, 2022, 09:09:20 - Jan Soons joined the room
Wed, Feb 9, 2022, 10:20:28 - poikilotherm: pdurbin: I was curious today. Take a look at those ratings of our codebase... üôà https://sonarcloud.io/summary/overall?id=gdcc-test
Wed, Feb 9, 2022, 10:22:40 - pdurbin: E? Here we have A, B, C, D, and F. No E.
Wed, Feb 9, 2022, 10:36:34 - poikilotherm: So maybe it's not F. There's still hope. üòÑ
Wed, Feb 9, 2022, 10:36:48 - pdurbin: üòå
Wed, Feb 9, 2022, 10:39:43 - poikilotherm: It's a free service by the way. Sonarcloud offers SonarQube for free when used for public OSS
Wed, Feb 9, 2022, 10:40:34 - poikilotherm: There is a long standing issue :-D https://github.com/IQSS/dataverse/issues/3950 Kir√°ly P√©ter 
Wed, Feb 9, 2022, 10:41:48 - poikilotherm: Just to spread the word: we could add Sonarcube for free to the mix of automated pull request analysis to avoid introducing new issues on top of existing
Wed, Feb 9, 2022, 10:42:08 - pdurbin: That issue reminds me that I like ReviewDog. Thanks for adding it.
Wed, Feb 9, 2022, 10:42:26 - poikilotherm: Sure.
Wed, Feb 9, 2022, 10:42:31 - poikilotherm: Good doggo :-D
Wed, Feb 9, 2022, 10:42:40 - poikilotherm: üê∂
Wed, Feb 9, 2022, 10:43:40 - pdurbin: My guess is that all this stuff is pretty low priority for the team.
Wed, Feb 9, 2022, 10:46:17 - poikilotherm: Many of those findings shouldn't be low prio
Wed, Feb 9, 2022, 10:46:19 - pdurbin: Maybe you should attend our weekly tech hours meeting. Jim and Don do.
Wed, Feb 9, 2022, 10:46:52 - pdurbin: It's 3pm our time though. Tuesdays. Maybe a little late for you.
Wed, Feb 9, 2022, 10:46:56 - poikilotherm: <@oliver:bertuch.name "Just to spread the word: we coul..."> https://docs.sonarcloud.io/improving/pull-request-analysis
Wed, Feb 9, 2022, 10:47:39 - pdurbin: Stop the bleeding, basically.
Wed, Feb 9, 2022, 10:47:55 - poikilotherm: <@pdurbin:matrix.org "It's 3pm our time though. Tuesda..."> That's 21:00 over here. Yeah, quite late.
Wed, Feb 9, 2022, 10:48:37 - pdurbin: I'm just wondering how to better incorporate you in tech discussions.
Wed, Feb 9, 2022, 10:48:38 - poikilotherm: As said before: timezones suck :-D
Wed, Feb 9, 2022, 10:56:27 - poikilotherm: Rethinking participating... I could actually do that. I now have WiFi at my construction site ‚úåÔ∏è
Wed, Feb 9, 2022, 11:02:13 - pdurbin: Ok. It's always a Slack call from #dv-tech so the first step is to join that channel.
Wed, Feb 9, 2022, 11:03:53 - poikilotherm: <@pdurbin:matrix.org "Ok. It's always a Slack call fro..."> Sent a request to Gustavo the other day...
Wed, Feb 9, 2022, 11:04:07 - pdurbin: Ah, great.
Wed, Feb 9, 2022, 11:04:32 - pdurbin: If I had the power in Slack I would just do it. üòÑ
Wed, Feb 9, 2022, 11:06:13 - poikilotherm: Sent him an addendum
Thu, Feb 10, 2022, 11:07:45 - pdurbin: Does anyone have time to try out this "search ROR for author affiliations" example? I'm having trouble getting it working: https://github.com/gdcc/dataverse-external-vocab-support/pull/9/commits/cfb1a695dfd5d0b97b1ad08d4c8e39d4374cacd8
Thu, Feb 10, 2022, 12:21:25 - poikilotherm: Sorry pdurbin busy with writing docs... :-D https://github.com/IQSS/dataverse/pull/8395#issuecomment-1035154625
Thu, Feb 10, 2022, 12:21:57 - poikilotherm: Major overhaul of "dependency management" section of the guide
Thu, Feb 10, 2022, 13:14:14 - Don Sizemore: attn Lincoln https://github.com/IQSS/dataverse/issues/8414
Thu, Feb 10, 2022, 13:31:31 - pdurbin: poikilotherm: nice. Also, we're having a known issue with Jenkins right now.
Thu, Feb 10, 2022, 13:57:53 - poikilotherm: Pdurbin looks like module support is actually receiving a fair chance of being included aye?
Thu, Feb 10, 2022, 13:59:26 - pdurbin: I'm trying to think of anything Leonid said that isn't in GitHub. I think he has pretty much said, "Check out what I wrote there."
Thu, Feb 10, 2022, 14:16:52 - kdekeyser joined the room
Thu, Feb 10, 2022, 14:21:20 - kdekeyser: hi pdurbin did the browser show any error messages in the developer's console? BTW which browser are you using? I may have used some JavaScript that is not supported by old browsers.
Thu, Feb 10, 2022, 14:21:45 - pdurbin: kdekeyser: hi! Firefox and nothing in the console. Let me try Chrome.
Thu, Feb 10, 2022, 14:22:08 - kdekeyser: I did try all my development in Chrome
Thu, Feb 10, 2022, 14:22:48 - pdurbin sent an image. (Media omitted)
Thu, Feb 10, 2022, 14:23:00 - pdurbin: That's me typing "ucla"
Thu, Feb 10, 2022, 14:25:43 - pdurbin: I've gotten external vocab working on a custom metadata block. Never on the citation block like this. (Have never tried until today.)
Thu, Feb 10, 2022, 14:26:43 - kdekeyser sent an image. (Media omitted)
Thu, Feb 10, 2022, 14:26:46 - kdekeyser: This is what it should look like: 
Thu, Feb 10, 2022, 14:27:05 - pdurbin: Nice! Want! üòÑ
Thu, Feb 10, 2022, 14:27:28 - pdurbin: Don Sizemore: if we get this working, config option for dataverse-ansible, please!
Thu, Feb 10, 2022, 14:29:23 - kdekeyser: And if you do not see any message, probably the initialization did not run properly. Can you confirm that the javascript is loaded at all?
Thu, Feb 10, 2022, 14:29:26 - kdekeyser sent an image. (Media omitted)
Thu, Feb 10, 2022, 14:29:39 - kdekeyser: mine is called covoc.js ...
Thu, Feb 10, 2022, 14:31:01 - pdurbin sent an image. (Media omitted)
Thu, Feb 10, 2022, 14:31:15 - pdurbin: Mine is on a different port.
Thu, Feb 10, 2022, 14:31:51 - kdekeyser: You may want to add a console.log('hello world'); in the $(document).ready function or even in putAffilationSearchIcon() to make sure that the function at least runs.
Thu, Feb 10, 2022, 14:32:04 - pdurbin: Sure, good idea.
Thu, Feb 10, 2022, 14:35:26 - pdurbin: Hmm, console log isn't showing anything.
Thu, Feb 10, 2022, 14:35:37 - pdurbin: I probably have this thing misconfigured.
Thu, Feb 10, 2022, 14:37:33 - kdekeyser: AFAIK, the ready function is triggered automatically. Could there be a conflict with other JavaScript code that disables this? Or maybe a plugin? But you tried with different browsers, so the latter is less likely.
Thu, Feb 10, 2022, 14:38:52 - kdekeyser: Wondering if it works for me because I have an Apache reverse proxy in front of it ... ?
Thu, Feb 10, 2022, 14:39:43 - pdurbin: Yeah, I wonder if it would work for me on a server.
Thu, Feb 10, 2022, 14:40:04 - kdekeyser: Could you try this:
Thu, Feb 10, 2022, 14:40:32 - kdekeyser: replace $(document).ready(function() { ... }
Thu, Feb 10, 2022, 14:41:12 - kdekeyser: with (function() { ... })();
Thu, Feb 10, 2022, 14:41:33 - kdekeyser: Just trying. Not sure if that would help though.
Thu, Feb 10, 2022, 14:44:01 - pdurbin: hey, I see "hello world" now
Thu, Feb 10, 2022, 14:45:06 - kdekeyser: :)
Thu, Feb 10, 2022, 14:45:14 - kdekeyser: Do you see the search icon?
Thu, Feb 10, 2022, 14:45:42 - pdurbin: nope
Thu, Feb 10, 2022, 14:45:47 - kdekeyser: :(
Thu, Feb 10, 2022, 14:46:34 - kdekeyser: The message was in the putAffiliationSearchIcon() function ?
Thu, Feb 10, 2022, 14:46:57 - pdurbin: Yeah, I also have `calling putAffiliationSearchIcon`
Thu, Feb 10, 2022, 14:49:40 - kdekeyser: We just replaced some jQuery code with pure JavaScript code and that helped. So, looks like jQuery is not running the way I would expect. But the putAffiliationSearchIcon function uses only pure JavaScript, so it should work.
Thu, Feb 10, 2022, 14:50:25 - pdurbin: Ah, that makes sense.
Thu, Feb 10, 2022, 14:51:05 - pdurbin: Maybe the affiliation.js code running on port 8000 can't used the jQuery from port 8080 (Dataverse).
Thu, Feb 10, 2022, 14:51:20 - pdurbin: It's probably my weird setup.
Thu, Feb 10, 2022, 14:53:33 - kdekeyser: Unfortunately debugging is pretty though as I could not get my browser to break on the breakpoints I set. I ended up using console.log messages to find out where my code did not do what I expected. Another option is to introduce a deliberate error in the code (e.g. use an uninitialized var) to force an error message and use the console message to jump to the code. Breakpoints set there will halt the execution. I then entered my code in the console manually step by step to find the offending code. Pretty time consuming ...
Thu, Feb 10, 2022, 14:54:13 - pdurbin: Yum. Deliberate errors. üòÑ
Thu, Feb 10, 2022, 14:54:53 - pdurbin: Maybe I'll try to add affiliation.js to my war file or something. So it's on the same port and has jquery nearby.
Thu, Feb 10, 2022, 14:55:04 - kdekeyser: I have an Apache with 
Thu, Feb 10, 2022, 14:55:06 - kdekeyser:     # pass /apidoc to OpenAPI UI
    ProxyPass     /apidoc   http://apidoc:8080/apidoc

    # do not pass /images on
    ProxyPass               /images         "!"
    ProxyPass               /scripts        "!"

    # do not pass /robots.txt
    ProxyPassMatch          ^/robots.txt$   "!"

    # covoc server
    ProxyPass     /covoc/   http://covoc:3000/

Thu, Feb 10, 2022, 14:55:20 - pdurbin: makes sense
Thu, Feb 10, 2022, 14:55:39 - kdekeyser: So I host the javascript in /scripts right within Dataverse.
Thu, Feb 10, 2022, 14:56:22 - kdekeyser: I'll switch to the script on Github, to see if that makes a difference.
Thu, Feb 10, 2022, 14:56:32 - pdurbin: Hmm, I might be able to throw in in docroot. Anyway, I'll try something. At least we have console.log working. üòÑ
Thu, Feb 10, 2022, 14:57:09 - kdekeyser: a little bit comforting ...
Thu, Feb 10, 2022, 14:58:22 - pdurbin: For now, I'm trying to put it here: src/main/webapp/resources/js/affiliation.js
Thu, Feb 10, 2022, 14:58:43 - pdurbin: (takes a while to compile and deploy) üòÑ
Thu, Feb 10, 2022, 15:02:09 - kdekeyser: Well, if I use the script on github, it no longer works for me either. At least I can replicate it now.
Thu, Feb 10, 2022, 15:03:07 - pdurbin: Still no search icon. Hmm.
Thu, Feb 10, 2022, 15:04:31 - pdurbin: It never enters this loop: document.querySelectorAll(authorSelector).forEach(element =>
Thu, Feb 10, 2022, 15:10:15 - kdekeyser: So the selection is probably empty. The selection is div[role='group'][aria-labelledby='metadata_author'] div.edit-compound-field. You could give that a try in the console. copy the var authorSelector line and then execute document.querySelectorAll(authorSelector) and look at the results. 
Thu, Feb 10, 2022, 15:10:59 - kdekeyser: With the Github script I do indeed get a CORS error from jQuery, so that was probably your initial problem.
Thu, Feb 10, 2022, 15:11:51 - pdurbin: just type that in the console?
Thu, Feb 10, 2022, 15:12:47 - kdekeyser: yes
Thu, Feb 10, 2022, 15:13:24 - pdurbin: NodeList [] (empty)
Thu, Feb 10, 2022, 15:17:26 - pdurbin: Just `div[role='group']` shows a lot.
Thu, Feb 10, 2022, 15:21:16 - kdekeyser: was afraid that is the case. The selector is looking for a <div role="group" aria-labelledby="metadata_author"> and a child <div class="edit-compound-field"> because that is what I found in the HTML source. 
Thu, Feb 10, 2022, 15:21:53 - kdekeyser: When you right-click on the Author label in the left column and select inspect you should find the following:
Thu, Feb 10, 2022, 15:22:01 - kdekeyser sent an image. (Media omitted)
Thu, Feb 10, 2022, 15:22:16 - kdekeyser: Can you see that in your browser?
Thu, Feb 10, 2022, 15:24:55 - pdurbin sent an image. (Media omitted)
Thu, Feb 10, 2022, 15:31:54 - kdekeyser: The aria-labelledby="metadata_author" is missing from the div role="group" in your HTML. AFIK the aria attributes are there for the accessibility and I expected them to be always there. But I see that the id="metadata_author" is present on the label element as it is in my case. I thought the aria-labelled-by attribute was a safe way to find the metadata, but apparently it isn't.
Thu, Feb 10, 2022, 15:32:36 - kdekeyser: Give me a few minutes to figure that out. I'll try to come up with a safer selector.
Thu, Feb 10, 2022, 15:33:10 - pdurbin: Thanks! I tried just "id" like this but it didn't work: `var authorSelector = "div[role='group'][id='metadata_author']";`
Thu, Feb 10, 2022, 15:33:49 - pdurbin: Hmm, this might work: `var authorSelector = "div[id='metadata_author']";`
Thu, Feb 10, 2022, 15:35:52 - pdurbin sent an image. (Media omitted)
Thu, Feb 10, 2022, 15:38:45 - kdekeyser: Change the var line into:
Thu, Feb 10, 2022, 15:38:48 - kdekeyser: var authorSelector = "div#metadata_author ~ div.dataset-field-values div.edit-compound-field";

Thu, Feb 10, 2022, 15:39:08 - kdekeyser: That works for me. Let4s hope it does so for your too.
Thu, Feb 10, 2022, 15:40:46 - pdurbin sent an image. (Media omitted)
Thu, Feb 10, 2022, 15:40:52 - pdurbin: It works! Thank you!
Thu, Feb 10, 2022, 15:41:02 - kdekeyser: I like that image ;)
Thu, Feb 10, 2022, 15:41:51 - kdekeyser: I will change the script on github in a few minutes.
Thu, Feb 10, 2022, 15:44:54 - pdurbin: Great! Meanwhile I just gave you a shout out at https://github.com/IQSS/dataverse/issues/6640#issuecomment-1035493513
Thu, Feb 10, 2022, 15:49:44 - kdekeyser: OK, thanks. Good night.
Thu, Feb 10, 2022, 15:56:42 - pdurbin: 'night! Thanks again!
Thu, Feb 10, 2022, 15:57:31 - pdurbin: I also left a comment on this ROR thread: https://groups.google.com/g/dataverse-community/c/498ElEzOBcg/m/0wCcTdvjAwAJ
Fri, Feb 11, 2022, 04:09:33 - Lincoln: <@donsizemore:matrix.org "attn Lincoln https://github.com/..."> thank you
Fri, Feb 11, 2022, 12:53:01 - Agostinho Gomes: hi
Fri, Feb 11, 2022, 12:54:15 - Agostinho Gomes: there is a way to copy internal metrics from dataverse (downloads) to MDC (downloads) ?
Fri, Feb 11, 2022, 12:56:28 - Agostinho Gomes sent an image. (Media omitted)
Fri, Feb 11, 2022, 12:56:38 - Agostinho Gomes: MDC downloads = 0
Fri, Feb 11, 2022, 12:56:55 - Agostinho Gomes sent an image. (Media omitted)
Fri, Feb 11, 2022, 12:57:12 - Agostinho Gomes: internal metrics of Dataverse = 6
Fri, Feb 11, 2022, 12:58:36 - Agostinho Gomes: but now we start using MDC for metrics, and we want to pass downloads from internal metrics to MDC metrics
Fri, Feb 11, 2022, 12:59:05 - Agostinho Gomes: thanks in advanced
Fri, Feb 11, 2022, 13:36:07 - pdurbin: Agostinho Gomes: hi! There was a lot of talk about this. Please see https://github.com/IQSS/dataverse.harvard.edu/issues/75
Sat, Feb 12, 2022, 11:14:52 - @baal.401:matrix.org joined the room
Mon, Feb 14, 2022, 06:22:52 - Lincoln: Message deleted
Mon, Feb 14, 2022, 10:58:56 - Lincoln: <@donsizemore:matrix.org "attn Lincoln https://github.com/..."> nightowlaz: I was wondering how you uploaded the file  in s3 after changing  "%3B" to ";".  Is it somehow related with https://guides.dataverse.org/en/latest/developers/s3-direct-upload-api.html
Mon, Feb 14, 2022, 12:37:18 - nightowlaz: <@lincoln55:matrix.org "nightowlaz: I was wondering how ..."> I used the direct upload API and just manually replaced the URL that results from the first step with the ";" before sending the next call
Mon, Feb 14, 2022, 12:38:37 - nightowlaz: <@nightowlaz:matrix.org "I used the direct upload API and..."> you send the first curl command and it sends back the pre-signed URL that you will use in the  next step .. .that is where the encoded characters are .. you can edit it and use it in the step where you send the file name and the URL
Mon, Feb 14, 2022, 12:39:43 - nightowlaz: <@nightowlaz:matrix.org "you send the first curl command ..."> happy to send you the commands that I used .. it would be interesting to see if this is happening in other issues
Tue, Feb 15, 2022, 03:17:07 - Lincoln: <@nightowlaz:matrix.org "you send the first curl command ..."> nightowlaz: In my case it worked  with "%3B" notation on link
Tue, Feb 15, 2022, 03:19:06 - Lincoln: but still direct upload with GUI gives me Upload Unsuccessful (0:Network Error)
Tue, Feb 15, 2022, 07:53:20 - Lincoln: in summary(in_my_case): Direct upload to s3 via API works, but not from Dataverse GUI (when direct-upload=true on domain.xml )
Tue, Feb 15, 2022, 08:22:58 - Lincoln:  Ideas/suggestions are always welcome or anywhere in the program module where I could have a look on 
Tue, Feb 15, 2022, 14:30:10 - pdurbin: Lincoln: when you say S3 do you mean AWS S3 or a clone?
Tue, Feb 15, 2022, 14:41:06 - pdurbin: Ah, I scrolled up and saw you seem to be using Ceph S3.
Tue, Feb 15, 2022, 15:50:56 - nightowlaz: so so if the api works you have access to the bucket .. are there any errors in the payara log? (ie: it may indicate if any of the other settings are wrong (ie: chunked-encoding, payload signing, path access, etc)
Tue, Feb 15, 2022, 15:51:48 - nightowlaz: .. but i haven't gotten the UI upload to work either! üòÅ
Wed, Feb 16, 2022, 03:16:34 - Lincoln: while uploading via GUI Ceph s3(direct_upload=true) ...in payara log i got:
[2022-02-16T09:15:00.519+0100] [Payara 5.2021.9] [WARNING] [] [com.amazonaws.services.s3.internal.S3AbortableInputStream] [tid: _ThreadID=73 _ThreadName=http-thread-pool::http-listener-1(3)] [timeMillis: 1644999300519] [levelValue: 900] [[
  Not all bytes were read from the S3ObjectInputStream, aborting HTTP connection. This is likely an error and may result in sub-optimal behavior. Request only the bytes you need via a ranged GET or drain the input stream after use.]]

Wed, Feb 16, 2022, 07:16:34 - Don Sizemore: Lincoln: that should get addressed in 5.10: https://github.com/IQSS/dataverse/pull/8420
Wed, Feb 16, 2022, 08:22:54 - Lincoln: Thank you Don Sizemore  for the update
Wed, Feb 16, 2022, 09:32:12 - Don Sizemore: it only seems to appear in later versions of Payara
Wed, Feb 16, 2022, 11:08:48 - Lincoln: hope this somehow assist the process "direct upload to ceph s3 from GUI"
Wed, Feb 16, 2022, 11:09:31 - pdurbin: poikilotherm: you're using Ceph, right? Have you tried direct upload?
Wed, Feb 16, 2022, 11:12:22 - poikilotherm: We are using a Ceph based S3 storage, yes. But as this one is hidden behind a firewall and will never see the light of a DMZ, no way to use direct upload with it.
Wed, Feb 16, 2022, 11:12:56 - poikilotherm: I wanted to play with an NGINX reverse proxy setup for this, but there are more important things to do...
Wed, Feb 16, 2022, 11:13:47 - poikilotherm: With my NGINX setup we actually did not have much hassle with larger uploads. On the other hand we try to be more a registry than a repository
Wed, Feb 16, 2022, 11:14:10 - pdurbin: Gotcha. Do we know of anyone else using Ceph?
Wed, Feb 16, 2022, 11:16:17 - Lincoln: for me direct upload to ceph S3 with API works  but not with GUI interface
Tried changing CORS and also the s3 config but, not successful
Wed, Feb 16, 2022, 11:37:36 - pdurbin: Lincoln: have you posted to https://groups.google.com/g/dataverse-community yet?
Wed, Feb 16, 2022, 11:47:41 - Lincoln: no not yet. Shall I?
Wed, Feb 16, 2022, 11:49:51 - pdurbin: Yeah, if you don't mind. Please make sure "Ceph" is in the title somewhere. Let's draw out the people who use it. üòÑ At Harvard we're using AWS S3 but it would be nice for direct upload to work for more people. It's a very useful feature.
Wed, Feb 16, 2022, 11:50:31 - pdurbin: By the way DVUploader uses the API so you could have your users try it. It's a command line tool but probably easier than using the API directly.
Wed, Feb 16, 2022, 11:50:55 - pdurbin: https://guides.dataverse.org/en/5.9/user/dataset-management.html#command-line-dvuploader
Wed, Feb 16, 2022, 11:55:06 - Lincoln: <@pdurbin:matrix.org "By the way DVUploader uses the A..."> aah..nice idea..ill try this one too. Thanks.
Wed, Feb 16, 2022, 12:40:33 - Don Sizemore: Lincoln: not to ask a dumb question, but when you say direct-upload works via API, you're following https://guides.dataverse.org/en/latest/developers/s3-direct-upload-api.html ?
Wed, Feb 16, 2022, 12:41:19 - Don Sizemore: Lincoln: I ask because, in the case of DV-uploader, there is no way to remotely determine whether a datastore supports direct upload, so DV-uploader must be given the -directupload switch
Wed, Feb 16, 2022, 12:43:57 - Lincoln: Don Sizemore: Yes  I have used https://guides.dataverse.org/en/latest/developers/s3-direct-upload-api.html
Wed, Feb 16, 2022, 12:44:20 - Lincoln: <@pdurbin:matrix.org "Yeah, if you don't mind. Please ..."> https://groups.google.com/g/dataverse-community/c/0HOmdln6bG0
Wed, Feb 16, 2022, 12:45:22 - Lincoln: Sadly I am on for vacation ..see you guys next Thursday and Thanks :)
Wed, Feb 16, 2022, 12:45:49 - Don Sizemore: I would be very sad to take a vacation.
Wed, Feb 16, 2022, 12:46:03 - Don Sizemore:  (do you need someone to carry your luggage?)
Wed, Feb 16, 2022, 12:46:43 - Lincoln: <@donsizemore:matrix.org "(do you need someone to carry yo..."> wouldnot reject the offer
Wed, Feb 16, 2022, 12:46:56 - Lincoln: ok bye
Wed, Feb 16, 2022, 18:23:14 - Paola Mejia joined the room
Wed, Feb 16, 2022, 18:25:17 - Paola Mejia: Hello everyone :)  im trying to publish a dataset collection with a .tab file but i keep receiving this error,  "Could not be published due to a failure to register, or update the Global Identifier for the dataset or one of the files in it. Contact support if this continues to happen". Does someone knows how can i fix this error? Thanks in advance 
Wed, Feb 16, 2022, 18:45:57 - Don Sizemore: Hello, is this with Harvard Dataverse, or for another installation? (There are 76 installations world-wide)
Wed, Feb 16, 2022, 18:48:04 - Paola Mejia: is for other installation
Wed, Feb 16, 2022, 18:50:54 - Don Sizemore: Do you run the installation? (if so, you can get the exact DataCite error from the Payara server.log)
Wed, Feb 16, 2022, 18:52:04 - Paola Mejia: Thanks!, Im not the server admin but let me check with the person that runs it 
Wed, Feb 16, 2022, 18:54:27 - Don Sizemore: You should be able to contact them directly through the "Support" link at the top of the Dataverse page.
Wed, Feb 16, 2022, 18:55:26 - Don Sizemore: DataCite errors are few and far between but not uncommon; depending on how long you've been trying you might simply try again in a bit. If you think the error is persistent, a better answer should be in the server.log file.
Wed, Feb 16, 2022, 18:59:39 - Paola Mejia: thanks for your help ill contact them :)
Fri, Feb 18, 2022, 10:08:44 - j-n-c (@jose_carvalho:matrix.org) joined the room
Fri, Feb 18, 2022, 10:10:31 - j-n-c (@jose_carvalho:matrix.org): Hello, has anyone else noticed a massive blank area on the bottom of the citation metadata block?
Fri, Feb 18, 2022, 10:11:23 - j-n-c (@jose_carvalho:matrix.org): I have checked other blocks and this doesn't seem to happen
Fri, Feb 18, 2022, 10:12:06 - j-n-c (@jose_carvalho:matrix.org): I noticed this when toggling the language field
Fri, Feb 18, 2022, 10:12:35 - j-n-c (@jose_carvalho:matrix.org): as when I toggle it, it scrolls down a lot and it seems as I am redirected to a blank page
Fri, Feb 18, 2022, 10:13:24 - j-n-c (@jose_carvalho:matrix.org): I also noticed that the upper fields trigger a smaller page scroll (if any)
Fri, Feb 18, 2022, 10:14:03 - j-n-c (@jose_carvalho:matrix.org): I have tested this on Linux and windows with chrome, edge and firefox and the behaviour is very similar
Fri, Feb 18, 2022, 10:14:25 - j-n-c (@jose_carvalho:matrix.org): on firefox, the blank segment seems to be smaller
Fri, Feb 18, 2022, 10:15:46 - j-n-c (@jose_carvalho:matrix.org): do you believe this could be a bug or is it related to my browser versions?
Fri, Feb 18, 2022, 10:16:05 - j-n-c (@jose_carvalho:matrix.org): I am using Dataverse v5.8
Fri, Feb 18, 2022, 10:17:25 - j-n-c (@jose_carvalho:matrix.org): for reference I am using Firefox v97.0 and Chrome v98.0.4758.102 (Official Build) (64-bit)
Fri, Feb 18, 2022, 11:35:11 - pdurbin: j-n-c: hi! I just noticed your post at https://groups.google.com/g/dataverse-community/c/Ocd8l_gdAGI/m/bSr4ML5IBgAJ
Fri, Feb 18, 2022, 11:35:22 - pdurbin: Unfortunately, the videos won't play on my Mac.
Fri, Feb 18, 2022, 11:35:50 - pdurbin: Also, I can't seem to reproduce the problem on my Mac. I tried selecting a language.
Fri, Feb 18, 2022, 11:36:32 - pdurbin: But please feel free to go ahead create an issue at https://github.com/IQSS/dataverse/issues
Fri, Feb 18, 2022, 12:20:11 - j-n-c (@jose_carvalho:matrix.org): Ok. I will
Fri, Feb 18, 2022, 12:20:33 - j-n-c (@jose_carvalho:matrix.org): here are some screenshots
Fri, Feb 18, 2022, 12:20:37 - j-n-c (@jose_carvalho:matrix.org) sent an image. (Media omitted)
Fri, Feb 18, 2022, 12:21:28 - j-n-c (@jose_carvalho:matrix.org) sent an image. (Media omitted)
Fri, Feb 18, 2022, 12:21:50 - j-n-c (@jose_carvalho:matrix.org) sent an image. (Media omitted)
Fri, Feb 18, 2022, 12:22:24 - j-n-c (@jose_carvalho:matrix.org): basically there is a big blank area on the bottom of the page
Fri, Feb 18, 2022, 12:22:50 - j-n-c (@jose_carvalho:matrix.org): notice the page scrollbar on the right
Fri, Feb 18, 2022, 12:46:59 - j-n-c (@jose_carvalho:matrix.org): created issue [#8439](https://github.com/IQSS/dataverse/issues/8439)
Fri, Feb 18, 2022, 12:47:36 - j-n-c (@jose_carvalho:matrix.org): Thank You for Your reply
Fri, Feb 18, 2022, 13:19:39 - pdurbin: Wow, that is a big blank space. Thanks for creating an issue.
Fri, Feb 18, 2022, 13:40:25 - pdurbin: Well, folks, I'm bringing my kids to the Grand Canyon so I'll be out next week. See you the week after. Have a great weekend!
Fri, Feb 18, 2022, 14:43:01 - Don Sizemore: have a great trip!
Mon, Feb 21, 2022, 11:30:28 - Frederic Beck: <@lincoln55:matrix.org "for me direct upload to ceph S3 ..."> I have the exact same issue with a MinIO cluster and Dataverse 5.8 (gotta upgrade and test in 5.9) : when using direct upload, using the GUI raises an HTTP 400 Bad request error, for a different bucket with no direct upload, is works fine, and via DV-Uploader it works in both cases
Thu, Feb 24, 2022, 02:40:29 - Lincoln: Frederic Beck: Thank you for the info. In my case I found out one issue.(on the link)
https://groups.google.com/g/dataverse-community/c/0HOmdln6bG0
Thu, Feb 24, 2022, 20:30:51 - Aaron Curtis: hi all, are there nightly or bleeding-edge builds of dataverse available somewhere?
Fri, Feb 25, 2022, 04:05:27 - Don Sizemore: Hello, not to my knowledge, but you're welcome to build it. There's a Dockerfile, Vagrantfile, Ansible role, probably other methods.
Mon, Feb 28, 2022, 10:41:25 - larsholmnielsen joined the room
Mon, Feb 28, 2022, 10:42:55 - larsholmnielsen: Hello, for Open Repositories 2022 in Denver we've tried to reach out to Danny Brooke to invite Dataverse to join the Repository Rodeo proposal but apparently he has left Harvard? Who can we invite instead?
Mon, Feb 28, 2022, 13:02:32 - poikilotherm: larsholmnielsen: maybe reach out via the Google Group?
Mon, Feb 28, 2022, 13:07:56 - Don Sizemore: larsholmnielsen: I asked in Dataverse Slack, and Gustavo Durand offered to serve as your contact: https://projects.iq.harvard.edu/gdurand/home
Mon, Feb 28, 2022, 14:56:01 - larsholmnielsen: Perfect, thanks a lot :-)
Wed, Mar 2, 2022, 09:21:34 - pdurbin: I'm back from the deserts! What did I miss? üòÑ
Wed, Mar 2, 2022, 09:22:13 - Don Sizemore: about 6" of snow, or so I hear. welcome back!
Wed, Mar 2, 2022, 09:23:11 - Don Sizemore: I DM-ed you in Slack this morning. I think I've asked the same question before, but I'm asking again.
Wed, Mar 2, 2022, 14:11:13 - poikilotherm: pdurbin: welcome back!!! ü•≥
Wed, Mar 2, 2022, 14:59:12 - pdurbin: poikilotherm: thanks! I haven't caught up on the chat here yet, but it's on my list. üòÑ
Wed, Mar 2, 2022, 16:53:35 - pdurbin: Patrick Vranckx: just checking if you saw this about crossref: https://groups.google.com/g/dataverse-community/c/WbqNVz7m4Ts/m/8bpytNiXBAAJ
Thu, Mar 3, 2022, 11:50:19 - pdurbin: poikilotherm: heads up that there are merge conflicts at https://github.com/IQSS/dataverse/pull/8395
Thu, Mar 3, 2022, 11:51:24 - poikilotherm: PostgreSQL as cause I guess
Thu, Mar 3, 2022, 11:52:04 - poikilotherm: Yeah - just saw the notification about the merge üòÅ
Thu, Mar 3, 2022, 11:52:14 - pdurbin: cool
Thu, Mar 3, 2022, 11:52:49 - poikilotherm: Ripping apart a moving target sometimes has inconveniences
Thu, Mar 3, 2022, 11:53:01 - poikilotherm: But nothing to complicated...
Thu, Mar 3, 2022, 11:53:17 - pdurbin: yeah
Thu, Mar 3, 2022, 11:53:34 - poikilotherm: Thx for the heads up üôÇ
Thu, Mar 3, 2022, 11:53:35 - pdurbin: At standup just now we wondered if devs will know where to update deps.
Thu, Mar 3, 2022, 11:53:49 - pdurbin: It used to be easy. Always in pom.xml
Thu, Mar 3, 2022, 11:53:58 - pdurbin: So if you want to add any docs about this, please go ahead.
Thu, Mar 3, 2022, 11:54:18 - pdurbin: Or point out what you already wrote, if you did. üòÑ
Thu, Mar 3, 2022, 13:02:14 - poikilotherm: I wrote a lot about deps management etc
Thu, Mar 3, 2022, 13:02:42 - poikilotherm: It's still going into a pom.xml
Thu, Mar 3, 2022, 13:02:55 - poikilotherm: It's just a different one... üôà
Thu, Mar 3, 2022, 13:10:39 - pdurbin: I'm sure we'll figure it out. Added complexity but whatever. Benefits, we hope. üòÑ
Thu, Mar 3, 2022, 14:29:56 - pdurbin: <@foobarbecue:matrix.org "hi all, are there nightly or ble..."> I agree with Don. You could build it yourself. Or I'd be happy build you a war file and give it to you. There's nothing official and automated, no. I'm curious if you would just want the war file or the whole dvinstall.zip.
Fri, Mar 4, 2022, 16:36:06 - pdurbin: I'm heading out pretty soon. Have a good weekend, all!
Fri, Mar 4, 2022, 18:05:56 - poikilotherm: pdurbin: did I mention we can release WARs to Maven Central? We could run a daily GitHub Action and push a Snapshot...
Fri, Mar 4, 2022, 18:06:52 - poikilotherm: (Or even ZIP releases like the dvinstall.zip)
Mon, Mar 7, 2022, 10:59:20 - pdurbin: poikilotherm: that's an interesting idea, pushing WARs to Maven Central. Generally speaking, our release process could be automated a lot more.
Mon, Mar 7, 2022, 11:00:08 - pdurbin: Sometimes we do upload non-zip artifacts like XML files.
Mon, Mar 7, 2022, 11:13:46 - poikilotherm: Well we could start by creating a Maven module that creates an installation bundle as a ZIP. That coul be uploaded to Maven Central, too. Kinda how Payara does it with a distribution package.
Mon, Mar 7, 2022, 11:14:06 - poikilotherm: (That Maven module would replace the Makefile)
Mon, Mar 7, 2022, 11:40:04 - pdurbin: Sure, maybe. Remember https://github.com/IQSS/dataverse/issues/4528 ? üòÑ
Mon, Mar 7, 2022, 11:49:59 - pdurbin: Nice, mask-optional next week: https://www.harvard.edu/coronavirus/covid-update-phased-easing-of-covid-restrictions/
Tue, Mar 8, 2022, 09:55:49 - pdurbin: Almost time for the community call: https://dataverse.org/community-calls
Tue, Mar 8, 2022, 10:34:19 - Don Sizemore: pdurbin: sorry to miss the community call - was taking our dog to the vet. does https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/216 sound sane to you?
Tue, Mar 8, 2022, 10:49:55 - pdurbin: Sure, makes sense.
Tue, Mar 8, 2022, 10:50:58 - pdurbin: Seems a little weird to me that an IP is hard coded, a few lines above: `  shell: 'curl http://169.254.169.254/latest/meta-data/public-hostname'`
Tue, Mar 8, 2022, 10:52:06 - pdurbin: Now you've got me looking at https://stackoverflow.com/questions/42314029/whats-special-about-169-254-169-254-ip-address-for-aws üòÑ
Tue, Mar 8, 2022, 10:53:00 - pdurbin: Ok, looks like a magic IP. Nevermind. üòÑ
Tue, Mar 8, 2022, 10:53:18 - pdurbin: Hope your doggo is ok.
Tue, Mar 8, 2022, 12:30:35 - Paola Mejia: Hello, I was checking the documentation guide and i understand that the information can be uploaded to aws s3 for storage. Is there any chance that instead of using AWS , I can connect my dataverse to a azure blob storage?
Tue, Mar 8, 2022, 13:28:38 - pdurbin: Paola Mejia: hi! There is some discussion about this at https://github.com/IQSS/dataverse/issues/4247
Tue, Mar 8, 2022, 13:30:54 - Paola Mejia: thank you , ill take a look at it!
Tue, Mar 8, 2022, 13:31:57 - pdurbin: Sure. I can try to answer questions but I've never used Azure blob storage myself. It seems like the suggestion is to put Minio in front, which can emulate S3.
Tue, Mar 8, 2022, 21:38:17 - Chua Chiah Soon: Hi guys, can i double check that currently for the endpoint to retrieve all files (which i assume is [this](https://guides.dataverse.org/en/latest/api/native-api.html#id51)), we can't specify the order by e.g. creation time?
Wed, Mar 9, 2022, 04:19:16 - Lincoln: one work around would be to get the JSON representation of the dataset (https://guides.dataverse.org/en/latest/api/native-api.html#id46) and then sort them via creation date ..(should be possible)
Wed, Mar 9, 2022, 09:03:10 - pdurbin: Chua Chiah Soon: right, you can't specify the order. Like Lincoln said, you could sort the JSON afterwards. If you'd like to be able to specify the order, you are welcome to create an issue about this at https://github.com/IQSS/dataverse/issues
Wed, Mar 9, 2022, 10:10:10 - Lincoln: pdurbin: : in dvuploader comand if "-directupload " command is used for smaller files, then it leads to issue. But not for larger files 
Wed, Mar 9, 2022, 10:27:06 - pdurbin: Lincoln: what kind of issue?
Wed, Mar 9, 2022, 10:27:34 - pdurbin: I've never used DVUploader myself. Well, maybe once when it was new. üòÑ
Wed, Mar 9, 2022, 11:04:19 - pdurbin: Don Sizemore: #dv-tech is busy enough this morning that I don't want to start a new thread so I'll tell you here that I appreciate you testing the new Payara 6 alpha! Looks like we have some work to do based on what you posted in https://github.com/IQSS/dataverse/issues/8305
Wed, Mar 9, 2022, 11:05:13 - Don Sizemore: @pdurbin sounded to me like what Jim described yesterday on the call. I have the full server.log if you or anybody else want it.
Wed, Mar 9, 2022, 11:16:29 - pdurbin: Don Sizemore: sure! Can you please attach it to the issue?
Wed, Mar 9, 2022, 11:29:11 - pdurbin: Don Sizemore: oh an if it's easy to note which commit you were on, please do that too. Not sure if it's 5.9 final or somewhere on the develop branch.
Wed, Mar 9, 2022, 13:04:07 - Don Sizemore: Lincoln: Jim says "possibly some messed up logic around when to use multipart." and "definitely need to know Dataverse and uploader versions these days - newer Dataverses require the newer DVUploader/other combos of new/old may not work."
Wed, Mar 9, 2022, 14:04:56 - Lincoln: Don Sizemore:  yeah that was the problem...with small size file one should not use "-directUpload".. (as of now)
Wed, Mar 9, 2022, 14:08:47 - pdurbin: Interesting.
Thu, Mar 10, 2022, 10:54:24 - pdurbin: Kir√°ly P√©ter: whoops, I totally forgot about https://github.com/pkiraly/dataverse-largefile-insert
Thu, Mar 10, 2022, 10:55:05 - pdurbin: Thanks for linking to it in the big data thread: https://groups.google.com/g/dataverse-community/c/LnD3NjBpdic/m/xQIcX-n6BAAJ
Thu, Mar 10, 2022, 12:02:49 - Lincoln: Hi again I have a question: Is there a way to move a dataset(containing files) from one dataverse  instance( with storage location 1)  to another dataverse instance (storage location 2)?
Thu, Mar 10, 2022, 12:04:40 - Lincoln: and how about individual file movement from one dataset to another?
Thu, Mar 10, 2022, 13:27:35 - pdurbin: Lincoln: it's possible to move datasets and their files from one Dataverse instance to another but it takes some work. You'd export the dataset as native JSON, update the storage identifiers in that JSON, create the datasets, and move the files into place. Maybe move the files into place first.
Thu, Mar 10, 2022, 13:28:16 - pdurbin: To move a file from one dataset to another I can only think of manual ways. Download the file. Upload it to the new dataset. You could do this via API.
Fri, Mar 11, 2022, 02:18:09 - Lincoln: pdurbin: thank you ...ill have a try
Fri, Mar 11, 2022, 06:51:06 - j-n-c (@jose_carvalho:matrix.org): Hi, I have submitted PR https://github.com/IQSS/dataverse/pull/8480 to address issue https://github.com/IQSS/dataverse/issues/8476
Fri, Mar 11, 2022, 06:51:47 - j-n-c (@jose_carvalho:matrix.org): could someone please advance it to the review column in https://github.com/orgs/IQSS/projects/2 ?
Fri, Mar 11, 2022, 09:32:12 - pdurbin: j-n-c: Thanks! I moved it it review. Quick question, if you're around... why did you edit default.config? I'm somewhat concerned that something might break. Maybe docker-aio, Vagrant, or the installer itself.
Fri, Mar 11, 2022, 09:49:22 - Don Sizemore: pdurbin: he updated the sample default.config - c.f. https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/develop/templates/default.config.j2 and https://github.com/IQSS/dataverse/blob/develop/scripts/installer/default.config
Fri, Mar 11, 2022, 09:52:04 - pdurbin: Oh! Huh. Did the format change? Now keys and values are have an equals sign between them? I just left a review with questions. I'm obviously confused.
Fri, Mar 11, 2022, 09:52:19 - Don Sizemore: I think that changed with the Python installer
Fri, Mar 11, 2022, 09:52:39 - Don Sizemore:  (but you know by now never to quote me on anything)
Fri, Mar 11, 2022, 09:52:52 - pdurbin: I see. This version also has equals signs: scripts/installer/default.config
Fri, Mar 11, 2022, 09:53:13 - Don Sizemore: what I mean
Fri, Mar 11, 2022, 09:53:17 - pdurbin: So he's probably making the guides match the newish reality
Fri, Mar 11, 2022, 09:54:14 - pdurbin: sounds quite low risk after all üòÑ
Fri, Mar 11, 2022, 09:58:00 - Don Sizemore: it's not an exact match, however, so good for you to ask about it.
Fri, Mar 11, 2022, 09:59:06 - pdurbin: I actually like executable documentation. We could have the guides pull in the real default.config from the scripts/installer directory.
Fri, Mar 11, 2022, 09:59:19 - Don Sizemore: yes
Fri, Mar 11, 2022, 09:59:21 - pdurbin: Fewer files to maintain that way too.
Fri, Mar 11, 2022, 09:59:34 - Don Sizemore: object-oriented documentation. I like it.
Fri, Mar 11, 2022, 09:59:40 - pdurbin: üòÑ
Fri, Mar 11, 2022, 10:21:05 - j-n-c (@jose_carvalho:matrix.org): Hi, that was the reason I edited default.config
Fri, Mar 11, 2022, 10:22:05 - j-n-c (@jose_carvalho:matrix.org): on the dvinstall folder anvailable for download on the releases page, the default.config file is in the format key = value
Fri, Mar 11, 2022, 10:22:52 - j-n-c (@jose_carvalho:matrix.org): it also has some more fields, but I did not add them as it is said in the documentation that the file is ans example
Fri, Mar 11, 2022, 10:30:42 - pdurbin: Ok. Great. As I suggested above, I'm wondering if we should delete the file you edited and have the guides pull in (with `literalinclude` and `download` or whatever) the real default.config file that is shipped in dvinstall.zip. The one from scripts/installer/default.config. Thoughts?
Fri, Mar 11, 2022, 10:35:16 - j-n-c (@jose_carvalho:matrix.org): If You prefer (and suggested in the PR comments) I can open a new issue regarding the change in the format
Fri, Mar 11, 2022, 10:35:51 - j-n-c (@jose_carvalho:matrix.org): and this PR should would tackle only documentation "text"
Fri, Mar 11, 2022, 10:36:16 - pdurbin: Actually, that would be great. It can be a short issue. You can just say the version in the guides is out of date and uses the wrong format. Thanks!
Fri, Mar 11, 2022, 10:36:31 - j-n-c (@jose_carvalho:matrix.org): no problem
Fri, Mar 11, 2022, 10:36:40 - j-n-c (@jose_carvalho:matrix.org): I'll create it right away
Fri, Mar 11, 2022, 10:36:57 - pdurbin: Perfect. Thanks. I also left you a review with a couple other comments.
Fri, Mar 11, 2022, 10:39:12 - j-n-c (@jose_carvalho:matrix.org): I'll look into it afterwords
Fri, Mar 11, 2022, 10:39:35 - pdurbin: Thanks!
Fri, Mar 11, 2022, 10:48:17 - j-n-c (@jose_carvalho:matrix.org): <@pdurbin:matrix.org "Actually, that would be great. I..."> https://github.com/IQSS/dataverse/issues/8481
Fri, Mar 11, 2022, 10:48:35 - pdurbin: Looks perfect. Thanks!
Fri, Mar 11, 2022, 10:48:52 - j-n-c (@jose_carvalho:matrix.org): no problem. do I need to do anything on the PR to exclude the default.config file?
Fri, Mar 11, 2022, 10:50:29 - pdurbin: Can you please revert the change to default.config?
Fri, Mar 11, 2022, 10:50:52 - pdurbin: Part of the reason for this is that we are removing TWORAVENS_LOCATION in another pull request.
Fri, Mar 11, 2022, 11:00:41 - j-n-c (@jose_carvalho:matrix.org): just commited the previous file version
Fri, Mar 11, 2022, 11:01:14 - j-n-c (@jose_carvalho:matrix.org): could You please check if it's what You intended?
Fri, Mar 11, 2022, 11:01:38 - j-n-c (@jose_carvalho:matrix.org): sorry for my lack of experience regarding github usage
Fri, Mar 11, 2022, 11:01:49 - pdurbin: Whitespace only change. Close enough. üòÑ
Fri, Mar 11, 2022, 11:02:39 - pdurbin: Did you see what I put in my review about the table? This:

> Even if I hide whitespace changes it's difficult to tell what's changing in this table. Can you please edit the description of the pull request and give a few hints?

Fri, Mar 11, 2022, 11:08:49 - j-n-c (@jose_carvalho:matrix.org): yes
Fri, Mar 11, 2022, 11:09:01 - j-n-c (@jose_carvalho:matrix.org): I'm answering that now
Fri, Mar 11, 2022, 11:09:29 - j-n-c (@jose_carvalho:matrix.org): basically the links were in not displayed as links
Fri, Mar 11, 2022, 11:09:46 - j-n-c (@jose_carvalho:matrix.org): as they were broken into two lines
Fri, Mar 11, 2022, 11:10:06 - j-n-c (@jose_carvalho:matrix.org): fixed that by edititing the column lenghts
Fri, Mar 11, 2022, 11:11:11 - pdurbin: Oh! The main thing you're doing is fixing links?
Fri, Mar 11, 2022, 11:11:29 - j-n-c (@jose_carvalho:matrix.org): yes
Fri, Mar 11, 2022, 11:12:24 - pdurbin: Ah, great. Please do edit the description of the pull request to mention this. I don't merge pull requests. I just approve them. QA will be interested in what you write there, especially under "how to test".
Fri, Mar 11, 2022, 11:12:48 - j-n-c (@jose_carvalho:matrix.org): ok. thanks for the feedback
Fri, Mar 11, 2022, 11:33:41 - j-n-c (@jose_carvalho:matrix.org): just edited the PR description
Fri, Mar 11, 2022, 11:33:57 - j-n-c (@jose_carvalho:matrix.org): if You notice anything else please let me know
Fri, Mar 11, 2022, 11:34:07 - j-n-c (@jose_carvalho:matrix.org): and I'll do the necessary changes
Fri, Mar 11, 2022, 12:27:09 - pdurbin: j-n-c: the description looks great. I removed you as an assignee. Now we'll wait for someone to free up and pick it up. (Lots of stuff in the Review column right now, which is actually a good thing!)
Fri, Mar 11, 2022, 15:32:16 - pdurbin: I moved it to QA. Thanks again.
Fri, Mar 11, 2022, 15:32:26 - pdurbin: Heading out pretty soon. Have a good weekend, all!
Fri, Mar 11, 2022, 20:32:03 - poikilotherm: Don Sizemore: I did lots of tweaking to https://github.com/IQSS/dataverse/pull/8320, including a first version of a installation docs update. Would be great to coordinate what dataverse-ansible needs. For now, I anticipated that the configset would come from a dvinstall.zip, but maybe you want to provide extension points within Ansible to customize the Solr config?
Sat, Mar 12, 2022, 09:00:32 - Chua Chiah Soon: <@pdurbin:matrix.org "Chua Chiah Soon: right, you can'..."> I think simply sorting the JSON fits our needs for now, but i just realised the creationDate doesn't have the time component, is there any way to retrieve the full time (since the database seems to have it)? Maybe another endpoint? 
Mon, Mar 14, 2022, 09:43:28 - pdurbin: Chua Chiah Soon: I assume you're still talking about the "List Files in a Dataset" API endpoint. creationDate is stored in the database as a timestamp but I don't believe we expose it via API at the file level. We do expose it at the dataset level as createTime. Is creation time your main interest? Often people are more interested in publication time, which happens for all files at once when the dataset is published.
Wed, Mar 16, 2022, 09:02:13 - j-n-c (@jose_carvalho:matrix.org): Hi, I just submitted issue https://github.com/IQSS/dataverse/issues/8494
Wed, Mar 16, 2022, 09:03:25 - j-n-c (@jose_carvalho:matrix.org): Depending on your feedback, I might have the solution for this issue already
Wed, Mar 16, 2022, 09:04:26 - Don Sizemore: j-n-c: I was going to take a look at that later today, but pull requests are always welcome!
Wed, Mar 16, 2022, 09:07:06 - j-n-c (@jose_carvalho:matrix.org): ok. could You just confirm or reply in the comments when You analyse this if the value in the 'revision' field in the modules/dataverse-parent/pom.xml is indeed the dataverse version?
Wed, Mar 16, 2022, 09:07:37 - j-n-c (@jose_carvalho:matrix.org): or if there is a more suitable place to look for this information?
Wed, Mar 16, 2022, 09:43:56 - pdurbin: j-n-c: thanks! Also, regarding https://github.com/IQSS/dataverse/issues/8481 we're ready for a pull request for default.config. Perhaps the guides could reference the version in scripts/installer.
Wed, Mar 16, 2022, 09:44:30 - pdurbin: (ready because we merged the pull request where we edited default.config)
Wed, Mar 16, 2022, 09:50:58 - j-n-c (@jose_carvalho:matrix.org): pdurbin: ok. later today I'll take a look at what I can do with the documentation
Wed, Mar 16, 2022, 09:51:25 - j-n-c (@jose_carvalho:matrix.org): also, I submitted PR https://github.com/IQSS/dataverse/pull/8495 for Issue https://github.com/IQSS/dataverse/issues/8494
Wed, Mar 16, 2022, 09:52:18 - pdurbin: Thanks! You should be able to do something like this: `Alternatively you can download :download:`README_python.txt <../../../../scripts/installer/README_python.txt>` from this guides.`
Wed, Mar 16, 2022, 09:53:04 - j-n-c (@jose_carvalho:matrix.org): ok
Wed, Mar 16, 2022, 09:53:15 - pdurbin: Oh, interesting. modules/dataverse-parent/pom.xml ... poikilotherm check this out
Wed, Mar 16, 2022, 09:53:49 - pdurbin: "this guides"? I guess that should be "the guides" ü§¶
Wed, Mar 16, 2022, 09:54:00 - poikilotherm: Hmm?
Wed, Mar 16, 2022, 09:54:44 - pdurbin: I think we missed a spot for the parent pom change. install.py
Wed, Mar 16, 2022, 09:55:08 - pdurbin: Actually, we're still maintaining the Perl version too (./install)
Wed, Mar 16, 2022, 09:55:16 - poikilotherm: D'oh!
Wed, Mar 16, 2022, 09:55:23 - pdurbin: but I don't know if it has the same "get dataverse version from pom.xml" logic
Wed, Mar 16, 2022, 09:55:55 - j-n-c (@jose_carvalho:matrix.org): it does
Wed, Mar 16, 2022, 09:56:05 - j-n-c (@jose_carvalho:matrix.org): line 280
Wed, Mar 16, 2022, 09:56:06 - j-n-c (@jose_carvalho:matrix.org): my $DATAVERSE_POM_FILE = "../../pom.xml";
Wed, Mar 16, 2022, 09:56:54 - pdurbin: Gotcha. Would you be able to fix it in Perl too, j-n-c ?
Wed, Mar 16, 2022, 09:57:02 - j-n-c (@jose_carvalho:matrix.org): yes
Wed, Mar 16, 2022, 09:57:14 - j-n-c (@jose_carvalho:matrix.org): I'll do that next
Wed, Mar 16, 2022, 09:57:22 - pdurbin: Awesome. Thanks! This probably isn't just a problem in Vagrant.
Wed, Mar 16, 2022, 09:59:18 - poikilotherm: I added retrieval from the parent pom in conf.py for Solr. https://github.com/poikilotherm/dataverse/blob/7662-solrconfig/doc/sphinx-guides/source/conf.py
Wed, Mar 16, 2022, 10:00:00 - poikilotherm: This should be useful to retrieve the Dataverse version from it, as it's in a property `revision`
Wed, Mar 16, 2022, 10:00:49 - pdurbin: Cool. For Sphinx.
Wed, Mar 16, 2022, 10:01:08 - poikilotherm: It's just Python, so reusable for install.py
Wed, Mar 16, 2022, 10:02:57 - j-n-c (@jose_carvalho:matrix.org): pdurbin: could You please assign https://github.com/IQSS/dataverse/issues/8494 to me?
Wed, Mar 16, 2022, 10:03:42 - j-n-c (@jose_carvalho:matrix.org): I'll do the changes for the perl installl script, test them and then submit the PR
Wed, Mar 16, 2022, 10:03:55 - pdurbin: Yep, done. Thanks again.
Wed, Mar 16, 2022, 11:09:14 - pdurbin: j-n-c: docker-aio is also affected so I'm going to post a comment and adjust the title of the issue
Wed, Mar 16, 2022, 11:58:26 - pdurbin: Uh oh, `make installer` doesn't work either.
Wed, Mar 16, 2022, 11:58:33 - pdurbin: Thanks for putting this on our radar j-n-c 
Wed, Mar 16, 2022, 12:05:34 - pdurbin: j-n-c: heads up that Leonid is going to fix the Perl file and the Makefile in your branch.
Wed, Mar 16, 2022, 12:05:49 - j-n-c (@jose_carvalho:matrix.org): ok
Wed, Mar 16, 2022, 12:06:02 - pdurbin: Sorry, you got us all excited. We can't wait. üòÑ
Wed, Mar 16, 2022, 12:06:10 - j-n-c (@jose_carvalho:matrix.org): no worries
Wed, Mar 16, 2022, 12:06:12 - j-n-c (@jose_carvalho:matrix.org): :)
Wed, Mar 16, 2022, 12:16:19 - poikilotherm: Message deleted
Wed, Mar 16, 2022, 12:44:53 - poikilotherm: Is there anything I could do to help pdurbin j-n-c ?
Wed, Mar 16, 2022, 12:45:07 - poikilotherm: (Currently fighting metadata curation in J√ºlich DATA)
Wed, Mar 16, 2022, 13:47:31 - pdurbin: poikilotherm: I think we're good. The fixes are in QA now: https://github.com/IQSS/dataverse/pull/8495
Wed, Mar 16, 2022, 13:48:07 - poikilotherm: Good catches y'all!!!
Wed, Mar 16, 2022, 15:24:24 - pdurbin: Merged. Thanks, all.
Wed, Mar 16, 2022, 23:53:04 - Chua Chiah Soon: <@pdurbin:matrix.org "Chua Chiah Soon: I assume you're..."> yup thats the endpoint I'm talking about! Just to clarify, `createTime` value you're referring to is something like "01-01-2022", i.e. without the time component right? Because thats what i get when curling the "List Files in a Dataset" API endpoint. 

I'm interested in creationTime only so that i can sort the list of files in a dataset from newest to oldest (regardless of publication status) just for better user experience, i think that it might be a less frequent use-case haha
Thu, Mar 17, 2022, 00:04:44 - Chua Chiah Soon: Also, a possibly totally unrelated question so I'm sorry if this is annoying, but I just wanted to try my luck - is there any common way for a javascript app to upload to the 'Add File to a Dataset' endpoint using streams? My app requires to stream-process a possibly large file in streams and I was hoping to not have to 'blob' it before sending to the endpoint due to the necessary memory usage. Seems like fetch has [not really implemented](https://bugs.chromium.org/p/chromium/issues/detail?id=688906) request streams yet so I'm a loss at how to do it lol

Again, sorry if this is unrelated!
Thu, Mar 17, 2022, 04:36:04 - Lincoln: <@chiahsoon:matrix.org "Also, a possibly totally unrelat..."> Chua Chiah Soon: You can try DV_Uploader , ( if i understand it correctly)
Thu, Mar 17, 2022, 08:39:16 - Lincoln: quick question : Are the files under ..glassfish/domains/domain1/files/temp folder necessary? Can we delete them
Thu, Mar 17, 2022, 10:04:45 - poikilotherm: Lincoln: Is `..glassfish/domains/domain1/files` your file storage? (https://guides.dataverse.org/en/latest/installation/config.html#dataverse-files-directory)
Thu, Mar 17, 2022, 10:04:47 - pdurbin: Lincoln: not sure but I'm asking in Slack for you.
Thu, Mar 17, 2022, 10:06:23 - poikilotherm: If so, `files/temp` stores your uploaded files after they have been uploaded & copied there by Payara
Thu, Mar 17, 2022, 10:07:08 - poikilotherm: Contents should get deleted once you have your dataset ready, as files will be moved from there to your final destination (local, S3, ...)
Thu, Mar 17, 2022, 10:07:40 - poikilotherm: If sth remains in there and is older than a few hours/days, it's likely leftovers from unfinished business and might be cleaned up
Thu, Mar 17, 2022, 10:11:34 - poikilotherm: See also my diagram from https://github.com/IQSS/dataverse/issues/6656 
Thu, Mar 17, 2022, 10:11:36 - poikilotherm sent an image. (Media omitted)
Thu, Mar 17, 2022, 10:14:14 - poikilotherm: pdurbin: one day we will include architecture docs within our guides collection.
Thu, Mar 17, 2022, 10:15:28 - pdurbin: Sure! Don Sizemore just helped us tweak a diagram for 5.10 to remove rApache (used only by TwoRavens).
Thu, Mar 17, 2022, 10:15:45 - pdurbin: The one at https://guides.dataverse.org/en/5.9/installation/prep.html
Thu, Mar 17, 2022, 10:17:18 - pdurbin: poikilotherm: hey, unrelated question. If my Dataverse installation has both builtin accounts and OIDC accounts enabled, can a builtin user convert themselves to an OIDC user (like how a local user can convert to Shib or OAuth)? Assuming they provide their builtin user password, of course.
Thu, Mar 17, 2022, 10:18:03 - poikilotherm: Uhm is this self-service for conversion?
Thu, Mar 17, 2022, 10:18:16 - poikilotherm: Doesn't it need super user permissions?
Thu, Mar 17, 2022, 10:19:08 - pdurbin: Self service for Shib and OAuth.
Thu, Mar 17, 2022, 10:19:52 - pdurbin: Self service OAuth steps, for example: https://guides.dataverse.org/en/5.9/user/account.html#convert-your-dataverse-installation-account-to-use-orcid-for-log-in
Thu, Mar 17, 2022, 10:20:18 - pdurbin: And no, superuser perms are not needed. Self service.
Thu, Mar 17, 2022, 10:20:53 - poikilotherm: OK then it *should* work just like it does for OAuth... Uses same code infrastructure. Never tested though
Thu, Mar 17, 2022, 10:25:47 - pdurbin: Hmm. Ok. I'm digging a bit in the code. Sounds like you don't have a use case for this.
Thu, Mar 17, 2022, 10:29:48 - poikilotherm: Nope :-D We went for OIDC from the start
Thu, Mar 17, 2022, 10:30:13 - poikilotherm: We now have 2 builtin users - dataverseAdmin and a bot for integration into an internal peer review system
Thu, Mar 17, 2022, 10:36:48 - pdurbin: Gotcha. Well convert.xhtml calls OAuth2FirstLoginPage.convertExistingAccount but I'm not sure if your users see the "Convert" button when creating an account. It doesn't matter. I'm just replying to a Shib/ADFS question: https://groups.google.com/g/dataverse-community/c/bsxsjZEfMno/m/XcAPbmUyAQAJ
Thu, Mar 17, 2022, 10:48:04 - pdurbin: <@chiahsoon:matrix.org "Also, a possibly totally unrelat..."> Chua Chiah Soon: I'd suggest looking at the "replaceFile" method at https://github.com/IQSS/dataverse-client-javascript/blob/v1.0.48/src/dataverseClient.ts#L148 and opening an issue in that repo for an "uploadFile" function.
Thu, Mar 17, 2022, 10:52:19 - pdurbin: Lincoln: the consensus from Slack on the "temp" directory is that it's safe to delete files from there, especially if they're old.
Thu, Mar 17, 2022, 12:44:57 - Lincoln: thank you poikilotherm  and pdurbin for the info
Thu, Mar 17, 2022, 13:50:01 - pdurbin: Sure!
Thu, Mar 17, 2022, 15:12:29 - Don Sizemore: Lincoln: you can `ls -u <file>` to see the atime if you're concerned about deleting any temp file Dataverse may still want
Thu, Mar 17, 2022, 15:17:02 - poikilotherm: FWIW: beware of noatime and relatime mount options... üôà
Fri, Mar 18, 2022, 07:52:25 - Lincoln: one doubt: So it seems a dataset can have files uploaded to different storage places (eg File, s3 )..as I  just verified from JSON output as well. 
Fri, Mar 18, 2022, 09:55:25 - pdurbin: Lincoln: yes, that's supported
Fri, Mar 18, 2022, 10:06:59 - pdurbin: Or at least, we know it works. I don't see any docs on it. üòÑ
Fri, Mar 18, 2022, 10:52:14 - Lincoln: in my case, It is a good thing to collect files on same dataset although s3 buckets are different i.e for GUI and for dv_uploader (on Ceph s3)  
Fri, Mar 18, 2022, 10:59:31 - pdurbin: Yeah, I assume most people want the files for their dataset on the same storage. Who knows. At least if people want their files scattered across various storage locations, we can document and support it. üòÑ
Fri, Mar 18, 2022, 12:35:00 - Don Sizemore: @pdurbin I just closed #8259 - I vaguely remember submitting the PR you mentioned in your comment. somewhere back in the mists of time.
Fri, Mar 18, 2022, 13:25:03 - pdurbin: Don Sizemore: heh. Thanks!
Fri, Mar 18, 2022, 15:35:51 - * pdurbin can feel a release coming soon
Fri, Mar 18, 2022, 15:50:44 - pdurbin: https://github.com/IQSS/dataverse/releases/tag/v5.10
Fri, Mar 18, 2022, 16:35:44 - pdurbin: https://dataverse.org/blog/dataverse-software-510-release
Fri, Mar 18, 2022, 16:35:54 - pdurbin: https://groups.google.com/g/dataverse-community/c/cgiUjHcUzi8/m/EY5WbfnYAwAJ
Fri, Mar 18, 2022, 16:36:13 - pdurbin: Enjoy Dataverse 5.10! And have a good weekend!
Sun, Mar 20, 2022, 17:52:53 - @librejared:matrix.org joined the room
Mon, Mar 21, 2022, 10:31:36 - poikilotherm: pdurbin: 32 participants during the FDM.NRW Dataverse Meeting. Lots of people either running Dataverse since a few years, running a pilot instance or interested in using it!
Mon, Mar 21, 2022, 10:31:51 - poikilotherm: (32 people from 15 Institutions)
Mon, Mar 21, 2022, 10:32:07 - pdurbin: Wow, nice!
Mon, Mar 21, 2022, 10:32:33 - poikilotherm: Many universities, but also Max Plank Society :-)
Mon, Mar 21, 2022, 10:32:44 - poikilotherm: Many old and new friends
Mon, Mar 21, 2022, 10:34:01 - pdurbin: Thanks again for coming to my talk at Max Plank Society Berlin. :)
Mon, Mar 21, 2022, 10:34:29 - poikilotherm: Ah Open Science Days 2019... That's looooong time ago :-D
Mon, Mar 21, 2022, 10:39:26 - pdurbin: Any feedback for us? What features do they want?
Mon, Mar 21, 2022, 11:13:35 - pdurbin: Don Sizemore: morning. Do you still have a couple XML files on the side to allow certain Shib IdPs to log in? One file per institution?
Mon, Mar 21, 2022, 11:13:58 - Don Sizemore: pdurbin: 3 or 4, yes
Mon, Mar 21, 2022, 11:14:21 - Don Sizemore: they're just includes from shibboleth2.xml
Mon, Mar 21, 2022, 11:14:54 - poikilotherm: pdurbin: I suggested we could create a DE subchannel of the community Slack... And maybe join forces to spend some money to remove the history limit.
Mon, Mar 21, 2022, 11:15:16 - poikilotherm: There are some interested in federation of Dataverse instances
Mon, Mar 21, 2022, 11:16:41 - poikilotherm: Some are interested in CTS, I pointed them towards the guide
Mon, Mar 21, 2022, 11:17:14 - pdurbin: I don't run that Slack but sure, sounds fine. Also, standup time.
Mon, Mar 21, 2022, 11:17:21 - poikilotherm: Uni Bonn is asking for Ansible scripts for UI customization Don Sizemore 
Mon, Mar 21, 2022, 11:18:26 - Don Sizemore: they're welcome to open issues within Dataverse-Ansible (or would these customizations require their own repo/role?)
Mon, Mar 21, 2022, 11:20:12 - poikilotherm: No idea... :-D Just scrolling through the board looking at "Questions/Exchange about" columns :-)
Mon, Mar 21, 2022, 11:21:14 - poikilotherm: pdurbin: some asked about how to use Dataverse for hot data.
Mon, Mar 21, 2022, 11:22:30 - poikilotherm: And there was a rather strange necessity at one university where people didn't even want metadata to be available after publishing. They think about creating a custom handle server to provide a metadata less PID... Sound like crazy scientists wanting crazy stuff
Mon, Mar 21, 2022, 11:23:14 - Lincoln: poikilotherm: could you please share me the link for Q/A :)
Mon, Mar 21, 2022, 11:24:24 - poikilotherm: Nope, I can't. They wrote their names on the columns and I have no consent to share the board with such personal data on it. Sorry.
Mon, Mar 21, 2022, 11:24:48 - Lincoln: ooh...i thought it was public
Mon, Mar 21, 2022, 11:24:48 - poikilotherm: And parts are written in German :-D
Mon, Mar 21, 2022, 11:24:53 - Lincoln: :) my bad
Mon, Mar 21, 2022, 11:25:43 - Lincoln: <@oliver:bertuch.name "And parts are written in German ..."> I understand German  as well :)
Mon, Mar 21, 2022, 11:26:01 - poikilotherm: They are gonna setup a mailing list etc so please remind me of this in a couple of days. I will forward your request to participants, maybe we can create a public version. Might be handy for other purposes down the road.
Mon, Mar 21, 2022, 11:27:06 - Lincoln: Thank you.
Mon, Mar 21, 2022, 11:52:15 - pdurbin: poikilotherm: CTS?
Mon, Mar 21, 2022, 11:53:23 - poikilotherm: Core Trust Seal
Mon, Mar 21, 2022, 11:57:20 - pdurbin: Oh, duh.
Mon, Mar 21, 2022, 11:58:49 - pdurbin: Don Sizemore: anyway, https://github.com/IQSS/dataverse/issues/8513 may be written a little oddly but that's what she's asking for. How to include institutions one per XML file in Shib.
Tue, Mar 22, 2022, 03:09:09 - @librejared:matrix.org changed their profile picture
Tue, Mar 22, 2022, 03:11:05 - @librejared:matrix.org changed their profile picture
Tue, Mar 22, 2022, 12:02:10 - poikilotherm: pdurbin: WDYT shall I take my headphones with me for a potential tech hours?
Tue, Mar 22, 2022, 12:05:31 - pdurbin: Hmm, you might want to ask in #dv-tech if it's happening. I don't know.
Tue, Mar 22, 2022, 14:39:03 - pdurbin: I still don't know.
Tue, Mar 22, 2022, 14:57:16 - pdurbin: poikilotherm: sounds like we're on
Tue, Mar 22, 2022, 16:01:29 - poikilotherm: Well that was fun üòä
Tue, Mar 22, 2022, 16:01:44 - pdurbin: Yeah! Thanks for calling in.
Tue, Mar 22, 2022, 16:03:28 - poikilotherm: Sure üòÉ
Tue, Mar 22, 2022, 16:03:58 - poikilotherm: It's always helpful to get connected and hear about things not written somewhere because they are still brewing ‚ò∫Ô∏è
Tue, Mar 22, 2022, 16:06:32 - pdurbin: Dataverse 6 wishlist!
Tue, Mar 22, 2022, 16:20:13 - pdurbin: So, I'm going offline until Monday. My father-in-law passed away and I'm flying to the funeral. Have a great weekend, everyone.
Tue, Mar 22, 2022, 17:27:20 - poikilotherm: https://github.com/gdcc/pyDataverse/issues/143#issuecomment-1075517231 exactly what I was talking about earlier... No one knows how this JSON needs to look like... üôà
Tue, Mar 22, 2022, 17:27:54 - poikilotherm: <@pdurbin:matrix.org "So, I'm going offline until Mond..."> Sorry for your loss! Have a safe trip! Cu Monday üëã
Wed, Mar 23, 2022, 00:14:27 - @sparksnevada:matrix.org joined the room
Wed, Mar 23, 2022, 09:31:37 - Don Sizemore: poikilotherm: I'm embarking on compiling Dataverse develop with the Jakarta namespace and deploying it on Payara6 alpha using JDK 17. Suggestions welcome
Wed, Mar 23, 2022, 10:08:39 - poikilotherm: Don Sizemore: did you transform the codebase to use jakarta packages or using the Payara internal rewrite?
Wed, Mar 23, 2022, 10:09:32 - Don Sizemore: I was hoping to use IntelliJ IDEA's built-in function to test this, but it's not in the community version preview
Wed, Mar 23, 2022, 10:09:39 - poikilotherm: WRT to Java 17: I'm not sure if there might be some deps causing the errors we saw in the issue... IIRC the module system needs explicit opens now, which wasn't the case with 11
Wed, Mar 23, 2022, 10:09:58 - Don Sizemore: Jim suggested I forget Java 17 for now.
Wed, Mar 23, 2022, 10:10:01 - poikilotherm: I do have an enterprise license üòÑ
Wed, Mar 23, 2022, 10:10:25 - poikilotherm: <@donsizemore:matrix.org "Jim suggested I forget Java 17 f..."> Sounds legit
Wed, Mar 23, 2022, 10:10:30 - poikilotherm: One step after the other
Wed, Mar 23, 2022, 10:10:31 - Don Sizemore: is this feature only in the paid version?
Wed, Mar 23, 2022, 10:10:56 - poikilotherm: Do you happen to have a link to this feature?
Wed, Mar 23, 2022, 10:11:38 - poikilotherm: Oh is it this one? https://blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6/
Wed, Mar 23, 2022, 10:11:50 - Don Sizemore: https://blog.jetbrains.com/idea/2021/06/intellij-idea-eap-6/#automatic_migration_from_java_ee_to_jakarta_ee
Wed, Mar 23, 2022, 10:12:01 - poikilotherm: Message deleted
Wed, Mar 23, 2022, 10:12:13 - poikilotherm: üôà
Wed, Mar 23, 2022, 10:12:34 - Don Sizemore: A global search-and-replace isn't advised as not all packages will be ported.
Wed, Mar 23, 2022, 10:13:00 - poikilotherm: Message deleted
Wed, Mar 23, 2022, 10:13:09 - poikilotherm: https://www.jetbrains.com/help/idea/enabling-java-ee-application-support.html#migrate-from-javaee-to-jakartaee
Wed, Mar 23, 2022, 10:14:44 - poikilotherm sent an image. (Media omitted)
Wed, Mar 23, 2022, 10:15:03 - poikilotherm: It's an Ultimate version feature
Wed, Mar 23, 2022, 10:15:55 - poikilotherm: Do you want me to create a draft PR and add the changes for testing?
Wed, Mar 23, 2022, 10:16:19 - poikilotherm: Seems like a fire and forget type of thing. Should be done in a couple of minutes
Wed, Mar 23, 2022, 10:20:11 - Don Sizemore: If you'd like, I already have a payara6 branch in my fork, I could just pull your changes from your branch
Wed, Mar 23, 2022, 10:21:36 - Don Sizemore: don't need to make the PR so much as fire off that conversion function. there will be more changes required for sure.
Wed, Mar 23, 2022, 10:22:30 - poikilotherm: let me create a quick brnach
Wed, Mar 23, 2022, 10:36:52 - poikilotherm: Looks like I will need to migrate the SWORD2 lib, too
Wed, Mar 23, 2022, 10:37:20 - poikilotherm: Just another reason to create a new major release, also adding breaking changes like the bytes vs kilobytes
Wed, Mar 23, 2022, 10:38:02 - poikilotherm: Or maybe I'll just use a long :-D
Wed, Mar 23, 2022, 10:46:06 - poikilotherm: Don Sizemore: I will definitely need to migrate SWORD2 first. Things are clashing otherwise, as the library API relies on the javax namespace but we provide Jakarta
Wed, Mar 23, 2022, 10:46:47 - poikilotherm: And we will need another Primefaces library that is Jakarta enabled
Wed, Mar 23, 2022, 10:49:28 - aialves: Good afternoon.
Wed, Mar 23, 2022, 10:50:59 - aialves: In my organisation - Instituto Polit√©cnico de Bragan√ßa, Portugal we have a dataverse installation but it can not send e-mails.... Is it possible to debug why this is happening?
Wed, Mar 23, 2022, 10:53:42 - Don Sizemore: aialves: what do you have set for your mail-resource in your Payara domain.xml? (can you manually send a message from the command-line?)
Wed, Mar 23, 2022, 11:08:17 - aialves: I did configure mail-resource in Payara as mentioned in https://guides.dataverse.org/en/latest/developers/troubleshooting.html - Mail Host Configuration & Authentication.I did not try to send message from the command-line. I will try right now. That you  
Wed, Mar 23, 2022, 11:08:22 - aialves: Thank You
Wed, Mar 23, 2022, 23:27:51 - @sparksnevada:matrix.org left the room
Thu, Mar 24, 2022, 19:41:13 - @yizreel666:matrix.org joined the room
Thu, Mar 24, 2022, 19:42:01 - @yizreel666:matrix.org: Hi, I wonder can I remove Apache and only use payara?
Thu, Mar 24, 2022, 19:42:24 - @yizreel666:matrix.org: Is there a problem with this?
Thu, Mar 24, 2022, 22:23:30 - @librejared:matrix.org left the room
Fri, Mar 25, 2022, 08:38:06 - Juan joined the room
Fri, Mar 25, 2022, 19:10:50 - @bxn22899:matrix.org joined the room
Fri, Mar 25, 2022, 19:31:23 - @bxn22899:matrix.org left the room
Fri, Mar 25, 2022, 23:45:09 - @yizreel666:matrix.org left the room
Mon, Mar 28, 2022, 09:34:55 - pdurbin: It's possible.
Mon, Mar 28, 2022, 09:37:28 - pdurbin: Don Sizemore poikilotherm I believe Eclipse also has a (free) tool for converting from javax to jakarta namespace
Mon, Mar 28, 2022, 09:38:34 - pdurbin: I think this is it: https://github.com/eclipse/transformer
Mon, Mar 28, 2022, 09:42:11 - poikilotherm: Hey pdurbin welcome back :-)
Mon, Mar 28, 2022, 09:42:17 - poikilotherm: Good to have you around again :-)
Mon, Mar 28, 2022, 09:42:25 - pdurbin: thanks üòÑ
Mon, Mar 28, 2022, 09:42:55 - pdurbin: Oh, using an emoji reminds me that my daughter figured out how to combine emojis on Android. Endless entertainment.
Mon, Mar 28, 2022, 12:02:24 - poikilotherm: pdurbin: it even looks like they will be releasing a Jakarta EE 9 compatible version!
Mon, Mar 28, 2022, 12:02:34 - poikilotherm: https://github.com/ocpsoft/rewrite/issues/304
Mon, Mar 28, 2022, 12:10:31 - j-n-c (@jose_carvalho:matrix.org): Hi! I'm trying to add a sub-block to the author block metadata field, but I'm having trouble doing it
Mon, Mar 28, 2022, 12:11:19 - j-n-c (@jose_carvalho:matrix.org): does anyone know if there is a max number of levels defined in the interface structure?
Mon, Mar 28, 2022, 12:12:52 - j-n-c (@jose_carvalho:matrix.org): Also, could anyone point me to where the dataset.xhtml structure rendering is done?
Mon, Mar 28, 2022, 12:15:41 - poikilotherm: j-n-c @j-n-c:matrix.org: IIRC the author block already is a composed field. AFAIK the current UI code only supports a single layer of compounds.
Mon, Mar 28, 2022, 12:16:14 - poikilotherm: j-n-c @jose_carvalho:matrix.org: this was for you
Mon, Mar 28, 2022, 12:16:44 - j-n-c (@jose_carvalho:matrix.org): thank You poikilotherm 
Mon, Mar 28, 2022, 12:16:44 - poikilotherm: pdurbin: can you confirm the 1 level only compound?
Mon, Mar 28, 2022, 12:17:54 - poikilotherm: Please note that you should try not to mess with the citation metadata block. It's heavily integrated with Solr, the UI etc. Also updates are getting much more complicated when you change things inside of it. Better go for a custom metadata block.
Mon, Mar 28, 2022, 12:18:34 - poikilotherm: > <@jose_carvalho:matrix.org> Also, could anyone point me to where the dataset.xhtml structure rendering is done?

I'm not sure what you mean?
Mon, Mar 28, 2022, 12:20:19 - j-n-c (@jose_carvalho:matrix.org): <@oliver:bertuch.name "Please note that you should try ..."> I understand that. The thing is that I am trying to enabel our users to add multiple scheme identifyers to a single author (e.g. orcid, ResearcherID and ScopuID)
Mon, Mar 28, 2022, 12:22:23 - j-n-c (@jose_carvalho:matrix.org): if I set field allowMultiple=TRUE for Identifier Scheme in citation.tsv is is displayed as a list of checkboxes
Mon, Mar 28, 2022, 12:22:49 - j-n-c (@jose_carvalho:matrix.org): where I can select many options, but only one field Identifier is displayed
Mon, Mar 28, 2022, 12:23:17 - j-n-c (@jose_carvalho:matrix.org): even if I set allowMultiple to TRUE for field Identifier in citation.tsv
Mon, Mar 28, 2022, 12:23:16 - poikilotherm: Looks like you have some truly motivated scientist at hand. Most people my place aren't find of extra work for adding author identifiers.
Mon, Mar 28, 2022, 12:23:49 - poikilotherm: Yes that's because of the compound nature
Mon, Mar 28, 2022, 12:24:09 - poikilotherm: The multiple thing is mostly for top level IIRC.
Mon, Mar 28, 2022, 12:24:10 - j-n-c (@jose_carvalho:matrix.org): I could create a custom block for this, but the author info would be dispersed and the citation metadata block is still mandatory
Mon, Mar 28, 2022, 12:24:31 - j-n-c (@jose_carvalho:matrix.org): <@oliver:bertuch.name "Yes that's because of the compou..."> I see
Mon, Mar 28, 2022, 12:24:56 - j-n-c (@jose_carvalho:matrix.org): sorry but I'm not familiar with JSF :/
Mon, Mar 28, 2022, 12:25:13 - poikilotherm: Yeah, Dataverse has great support for more metadata (at least much better than InvenioRDM), but changing existing blocks is hard.
Mon, Mar 28, 2022, 12:25:52 - poikilotherm: You'll need a fork for this. IMHO it's very unlikely this would be accepted for upstream.
Mon, Mar 28, 2022, 12:26:13 - j-n-c (@jose_carvalho:matrix.org): <@oliver:bertuch.name "I'm not sure what you mean?"> What I was trying to know was were were the blocks were set up so that I could try to check if I could make this customization
Mon, Mar 28, 2022, 12:26:13 - poikilotherm: At least not if you're the only institution who wants this
Mon, Mar 28, 2022, 12:26:23 - j-n-c (@jose_carvalho:matrix.org): I understand
Mon, Mar 28, 2022, 12:26:35 - j-n-c (@jose_carvalho:matrix.org): I have a fork where I'm working
Mon, Mar 28, 2022, 12:26:39 - poikilotherm: You could try to send a mail to community and ask around if this is a use case for many...
Mon, Mar 28, 2022, 12:26:53 - j-n-c (@jose_carvalho:matrix.org): but there are some gaps I am not able to fill in
Mon, Mar 28, 2022, 12:27:02 - j-n-c (@jose_carvalho:matrix.org): I'll do that
Mon, Mar 28, 2022, 12:27:16 - j-n-c (@jose_carvalho:matrix.org): thanks for Your help poikilotherm !
Mon, Mar 28, 2022, 12:27:37 - poikilotherm: <@jose_carvalho:matrix.org "What I was trying to know was we..."> Blocks are stored in the database. See DatasetField... classes. It's kinda strange first, but it works.
Mon, Mar 28, 2022, 12:28:38 - poikilotherm: The rendering happens within the JSF pages. Watch out for the edit mode section. That'll reveal the logic where the HTML is rendered from the DTOs
Mon, Mar 28, 2022, 12:29:06 - j-n-c (@jose_carvalho:matrix.org): ok. Thank You!
Mon, Mar 28, 2022, 12:30:28 - poikilotherm: https://github.com/IQSS/dataverse/blob/c5d1df209aa960651a53cc67f456449a6f7158e0/src/main/webapp/dataset.xhtml#L658
Mon, Mar 28, 2022, 12:30:33 - poikilotherm: Start there
Mon, Mar 28, 2022, 12:31:53 - j-n-c (@jose_carvalho:matrix.org): Great! Thank You!
Mon, Mar 28, 2022, 12:32:18 - poikilotherm: Compound fields rendering for view: https://github.com/IQSS/dataverse/blob/c5d1df209aa960651a53cc67f456449a6f7158e0/src/main/webapp/dataset.xhtml#L610
Mon, Mar 28, 2022, 12:34:47 - poikilotherm: The most interesting parts are happening in here: https://github.com/IQSS/dataverse/blob/develop/src/main/webapp/metadataFragment.xhtml
Mon, Mar 28, 2022, 12:35:41 - poikilotherm: pdurbin: one day we will have consistent names for all these views... If you're unfamiliar with the codebase, it's really hard to get a glimpse of where to look at...
Mon, Mar 28, 2022, 12:40:55 - j-n-c (@jose_carvalho:matrix.org): Thank You for Your feedback :)
Mon, Mar 28, 2022, 13:14:34 - pdurbin: j-n-c: you're not the first to ask about multiple identifiers for a single author
Mon, Mar 28, 2022, 14:12:21 - pdurbin: poikilotherm: huh, does GitHub support `sequenceDiagram`? I'm looking at https://github.com/gdcc/sword2-server/issues/43#issuecomment-1076192763
Mon, Mar 28, 2022, 14:13:24 - poikilotherm: Recent addition
Mon, Mar 28, 2022, 14:14:40 - pdurbin: Ah, this, it looks like: https://github.blog/2022-02-14-include-diagrams-markdown-files-mermaid/
Tue, Mar 29, 2022, 10:13:31 - pdurbin: poikilotherm: "It would be great if this community work could be rolled into this official repo. Clearly there are a lot of dependencies and pieces to Dataverse but an easy container build that ties into the existing codebase would make it a lot easier for beginners to get up and running." -- https://github.com/IQSS/dataverse/pull/8537#issuecomment-1081208393
Tue, Mar 29, 2022, 10:26:24 - poikilotherm: Yeah
Tue, Mar 29, 2022, 10:26:33 - poikilotherm: I keep telling these things üòÇ
Tue, Mar 29, 2022, 10:26:39 - poikilotherm: Thx for the heads up
Tue, Mar 29, 2022, 10:26:45 - poikilotherm: üòç
Tue, Mar 29, 2022, 10:26:54 - pdurbin: I know, I know. But it's nice to hear it from someone else. üòÑ
Tue, Mar 29, 2022, 10:28:23 - poikilotherm: You mean it started to sound like some scratchy old vinyl music disc with that same characteristic noise, after so many repeats? üòáüôà
Tue, Mar 29, 2022, 10:30:02 - pdurbin: The thing is... and you've heard this often... we don't use containers.
Tue, Mar 29, 2022, 10:30:26 - pdurbin: We being the Dataverse team at IQSS.
Tue, Mar 29, 2022, 10:30:43 - pdurbin: Is there an issue for container support?
Tue, Mar 29, 2022, 10:30:45 - poikilotherm: Yeah üòÇ
Tue, Mar 29, 2022, 10:31:00 - poikilotherm: Oh there is at least 5292
Tue, Mar 29, 2022, 10:31:31 - poikilotherm: Lemme get back to keyboard later, currently on the go
Tue, Mar 29, 2022, 10:36:11 - pdurbin: "EPIC: small footprint container usable for development, testing and production purposes #5292" ... hmm, but it's closed. "There is still plenty of stuff to do. Yet this issue is quite dated and it's starting to become messy. Closing this for now."
Tue, Mar 29, 2022, 10:36:44 - pdurbin: But yeah, this would be a good one to link to.
Tue, Mar 29, 2022, 11:51:45 - aialves: Good afternoon. I sent a SMTP message from the command-line easily. The problem is that dataverse is sending tha email from root@<mydomain> and not from dados@\<mydomain>, as it should (Default Sender Address).
Tue, Mar 29, 2022, 11:52:29 - aialves: Why is this happening?
Tue, Mar 29, 2022, 11:59:36 - pdurbin: aialves: I'm not sure but are you aware that the email is specified as both a database setting and a JVM option? I'm looking at https://github.com/IQSS/dataverse/issues/4210
Tue, Mar 29, 2022, 11:59:48 - pdurbin: The database setting is :SystemEmail
Tue, Mar 29, 2022, 12:00:15 - pdurbin: It looks like the JVM option is something like this:

`<mail-resource host="localhost" from="do-not-reply@dev1.dataverse.org" user="dataversenotify" jndi-name="mail/notifyMailSession"></mail-resource>`
Tue, Mar 29, 2022, 12:25:15 - poikilotherm: That reminds me of https://github.com/IQSS/dataverse/issues/4210 and https://github.com/IQSS/dataverse/issues/7424
Tue, Mar 29, 2022, 12:32:42 - poikilotherm: pdurbin: I just replied to carlsonp with https://github.com/IQSS/dataverse/issues/8250
Tue, Mar 29, 2022, 13:21:52 - pdurbin: Oh, right.... @MailSessionDefinition.... I forgot. Neat!
Tue, Mar 29, 2022, 13:22:29 - pdurbin: poikilotherm: nice reply. Thanks.
Tue, Mar 29, 2022, 13:45:59 - poikilotherm: Yeah some issues are still in my head... Sometimes I need your shovel üôàüòù
Tue, Mar 29, 2022, 13:46:35 - pdurbin: It feels like we're slowly making progress toward your dream. üòÑ
Tue, Mar 29, 2022, 14:38:58 - poikilotherm: HELL YEAH!!!!!!!!! üòàüòàüòàüòàüòàüòàüòàüòàüòàüòàüòàüòàüòàüòàüòà
Tue, Mar 29, 2022, 14:39:47 - pdurbin: How do we use containers more? Use them in CI?
Tue, Mar 29, 2022, 15:00:01 - poikilotherm: Probably :-)
Wed, Mar 30, 2022, 04:04:56 - Chua Chiah Soon: Hi, I'm trying to download some files with an external tool using the demo server but i got the CORS error, is it possible/are we allowed to enable CORS for the demo server using something like [this](https://guides.dataverse.org/en/latest/developers/big-data-support.html?highlight=cors#id2)?
Wed, Mar 30, 2022, 10:43:46 - pdurbin: Chua Chiah Soon: you're talking about https://demo.dataverse.org ? Can you please email support@dataverse.org about this?
Wed, Mar 30, 2022, 10:52:02 - Chua Chiah Soon: <@pdurbin:matrix.org "Chua Chiah Soon: you're talking ..."> Yup! Alright will do, thank you!
Wed, Mar 30, 2022, 10:52:47 - pdurbin: Chua Chiah Soon: sure. Is this a new external tool? Something you developed? Or an existing tool?
Wed, Mar 30, 2022, 10:57:47 - Chua Chiah Soon: <@pdurbin:matrix.org "Chua Chiah Soon: sure. Is this a..."> Yes it is, we're working on a new external tool to provide some security features, but it's just a POC for now haha
Wed, Mar 30, 2022, 10:58:25 - pdurbin: Nice!
Wed, Mar 30, 2022, 10:59:26 - pdurbin: If the timing is right, maybe you can give a presentation about it at #dataverse2022! https://groups.google.com/g/dataverse-community/c/LB4MsYcny6I/m/_r7CKeBOBgAJ
Wed, Mar 30, 2022, 11:07:54 - Chua Chiah Soon: <@pdurbin:matrix.org "If the timing is right, maybe yo..."> Haha we actually did already! scalarmotion (who's working on the project too) actually presented it on the Feb'22 meeting, but we're still working on it so maybe when the tool is presentable we will report back üòÑ
Wed, Mar 30, 2022, 11:16:37 - pdurbin: Oh! I must have missed that. If there's a GitHub link or whatever, please let me know! I can't find anything in the notes for the Feb 8 community call.
Thu, Mar 31, 2022, 01:49:28 - Chua Chiah Soon: <@pdurbin:matrix.org "Oh! I must have missed that. If ..."> sure, we'll share a link soon! we just want to add reference material first so its more easily understandable 
Thu, Mar 31, 2022, 09:39:37 - pdurbin: Chua Chiah Soon: docs are always appreciated! Please take your time.
Thu, Mar 31, 2022, 11:02:54 - Don Sizemore: pdurbin: Good morning, sir, may I pester with an auth question?
Thu, Mar 31, 2022, 11:18:11 - pdurbin: Don Sizemore: of course!
Thu, Mar 31, 2022, 11:19:29 - Don Sizemore: You were communicating with an installation on Dataverse-Users about the process of converting a Shib user to OAuth (by way of a local account)
Thu, Mar 31, 2022, 11:20:10 - pdurbin: yep
Thu, Mar 31, 2022, 11:20:15 - Don Sizemore: I just had a meeting with Matthew and UNC ITS in which I learned that there is now a Google domain for unc.edu, which I didn't know existed. Matthew would like to use this provider for WholeTale.
Thu, Mar 31, 2022, 11:20:55 - Don Sizemore: After the CoRe2 meeting, I asked Matthew what this might mean for our pre-existing Shib accounts, which in theory should have the same login and user ID. We have a lot of them.
Thu, Mar 31, 2022, 11:21:32 - Don Sizemore: Matthew suggested that it might not be horrible to be able to convert between authentication methods (or possibly to support/allow multiple), and that I might capture that in an issue.
Thu, Mar 31, 2022, 11:22:01 - Don Sizemore: Is this more of my pink-sky craziness, or is it something that would be worth an issue? It may well come up with multiple installations as the world moves away from Shib toward OAuth.
Thu, Mar 31, 2022, 11:24:20 - pdurbin: The best way to support multiple accounts is to use OIDC. This requires running your own IDM. Please see https://github.com/IQSS/dataverse/issues/3487#issuecomment-592441613
Thu, Mar 31, 2022, 14:20:48 - poikilotherm: Don Sizemore: these days you have plenty of options regarding OIDC.
Thu, Mar 31, 2022, 14:21:19 - poikilotherm: From offerings like Okta, hosted KeyCloak to CILogon providing OIDC now
Thu, Mar 31, 2022, 14:22:29 - poikilotherm: Many new AAI federations appear these days, using OIDC capable identity providers
Thu, Mar 31, 2022, 14:22:56 - poikilotherm: And allowing for social logins and attaching SAML based logins like edugain
Thu, Mar 31, 2022, 14:23:46 - poikilotherm: It's not that hard to run your own Keycloak or UnityIDM, though.
Thu, Mar 31, 2022, 14:24:57 - poikilotherm: We started with Helmholtz AAI based on Unity IDM back in 2019/2020. We were one of the first adopters. Now we have 20+ services attached from all over Helmholtz Association.
Thu, Mar 31, 2022, 14:26:06 - poikilotherm: But let me tell you: maintaining trust is not easy in multi auth constellations.
Thu, Mar 31, 2022, 14:27:08 - poikilotherm: It's simple as long as it's just accounts and just one service.
Thu, Mar 31, 2022, 14:27:32 - poikilotherm: In Helmholtz this is getting trickier by the day.
Thu, Mar 31, 2022, 14:28:08 - poikilotherm: People signing in via GitHub - how to enable them to be part of a group that has permissions to a HPC cluster?
Thu, Mar 31, 2022, 14:28:50 - poikilotherm: Use email? Can the attribute coming from GitHub be trusted it's verified?
Thu, Mar 31, 2022, 14:29:13 - poikilotherm: The OIDC standard evolved a lot in that direction, but it's still hard work
Thu, Mar 31, 2022, 14:30:23 - poikilotherm: But all this might not be causing headaches when it's just a Dataverse installation that's reachable via the OIDC IdP
Thu, Mar 31, 2022, 14:37:13 - Don Sizemore: poikilotherm: I don't have the option to run my own, but the university does offer CILogon. I wrote to my identity management group
Thu, Mar 31, 2022, 14:38:23 - poikilotherm: https://www.cilogon.org/oidc
Fri, Apr 1, 2022, 04:51:19 - Agostinho Gomes: Hi
Fri, Apr 1, 2022, 04:51:22 - Agostinho Gomes: We had an issue with a new dataset publication. https://datarepositorium.uminho.pt/dataset.xhtml?persistentId=doi:10.34622/datarepositorium/DKN74J
We received a notification about its publication, being also visible their entry in the most recent entries.
However when we try to open it, the following error appears in the browser:
This page contains the following errors:
error on line 220 at column 17: AttValue: " or ' expected
Below is a rendering of the page up to the first error.
We checked the logs (server.log):
[2022-03-31T15:28:17.148+0100] [glassfish 4.1] [WARNING] [] [edu.harvard.iq.dataverse.DatasetPage] [tid: ThreadID=49 ThreadName=jk-connector(3)] [timeMillis: 1648736897148] [levelValue: 900] [[
  No such dataset: doi:10.34622/datarepositorium/DKN74J]]
 
Additionaly, we have another dataset that is in DRAFT version but its not visible in the entry list of its dataverse, also for superadmins. However its accessible through their URL that we received by email notification. 
https://datarepositorium.uminho.pt/dataset.xhtml?persistentId=doi:10.34622/datarepositorium/BZ9Z3O
Both datasets has the same metadata description but distinct IDSs and DOIs. Could this registries be related?

doi:10.34622/datarepositorium/DKN74J
ID 192				
create  "2021-12-17 18:03:03.978"		
last update "2022-03-30 20:28:26.476"	0	
release time "2022-03-30 20:28:26.476"	
version 8		
version number 1	
"RELEASED"	
dataset_id 689

doi:10.34622/datarepositorium/BZ9Z3O
ID 193	
"UNF:6:pyVr3YWL9HoJA7uMmb6ktg=="			
Create "2021-12-17 18:28:31.753"		
Last update "2022-03-30 18:20:50.316"	
release date 0		
Version 7		
Version number 1	
"DRAFT"	
Dataset_ID 697	

Data FROM public.datasetversion

Any ideias on what happened and on how can we solve this issue?
Fri, Apr 1, 2022, 04:52:51 - Agostinho Gomes: because this or not, our OAI-PMH have the same error.
https://datarepositorium.uminho.pt/oai/request?verb=Identify
Fri, Apr 1, 2022, 04:53:02 - Agostinho Gomes: thanks in advanced
Fri, Apr 1, 2022, 08:42:56 - Don Sizemore: Agostinho Gomes: on your second dataset: the dataset page itself is fed from the Postgres database; the collection list is I believe populated by Solr. Try to manually reindex that dataset in Solr and see if you get anything interesting in server.log and/or solr.log?
Fri, Apr 1, 2022, 08:43:25 - Don Sizemore: Agostinho Gomes: on your first dataset: Just calling dataset.xhtml from your installation I alternate between the dataset page, and 404s. Do you perchance have two web application nodes in service?
Fri, Apr 1, 2022, 09:46:29 - Don Sizemore: Agostinho Gomes: mostly asking because I also get the XML parsing error with https://datarepositorium.uminho.pt/dataset.xhtml which should instead return a 404
Fri, Apr 1, 2022, 10:51:39 - Agostinho Gomes: > Agostinho Gomes: on your first dataset: Just calling dataset.xhtml from your installation I alternate between the dataset page, and 404s. Do you perchance have two web application nodes in service?

hi
Fri, Apr 1, 2022, 10:51:46 - Agostinho Gomes: > Agostinho Gomes: on your first dataset: Just calling dataset.xhtml from your installation I alternate between the dataset page, and 404s. Do you perchance have two web application nodes in service?

only one
Fri, Apr 1, 2022, 10:59:35 - Agostinho Gomes: now i did this:
user@datarepositorium:~$ curl http://localhost:8080/api/admin/index/clear
{"status":"OK","data":{"numRowsClearedByClearAllIndexTimes":578,"message":"Solr index and database index timestamps cleared."}}
Fri, Apr 1, 2022, 11:20:22 - Agostinho Gomes: server.log 
Fri, Apr 1, 2022, 11:20:24 - Agostinho Gomes: 
[2022-04-01T08:40:36.810+0100] [glassfish 4.1] [SEVERE] [] [javax.enterprise.resource.webcontainer.jsf.context] [tid: _ThreadID=52 _ThreadName=jk-connector(5)] [timeMillis: 1648798836810] [levelValue: 1000] [[
  javax.faces.application.ViewExpiredException: viewId:/dataset.xhtml - View /dataset.xhtml could not be restored.
        at com.sun.faces.lifecycle.RestoreViewPhase.execute(RestoreViewPhase.java:210)
        at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:101)
        at com.sun.faces.lifecycle.RestoreViewPhase.doPhase(RestoreViewPhase.java:121)
        at com.sun.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:198)
        at javax.faces.webapp.FacesServlet.service(FacesServlet.java:646)
        at org.apache.catalina.core.StandardWrapper.service(StandardWrapper.java:1682)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:344)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)
        at org.glassfish.tyrus.servlet.TyrusServletFilter.doFilter(TyrusServletFilter.java:295)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)
        at org.ocpsoft.rewrite.servlet.RewriteFilter.doFilter(RewriteFilter.java:226)
        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:256)
        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:214)
        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:316)
        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:160)
        at org.apache.catalina.core.StandardPipeline.doInvoke(StandardPipeline.java:734)
        at org.apache.catalina.core.StandardPipeline.invoke(StandardPipeline.java:673)
        at com.sun.enterprise.web.WebPipeline.invoke(WebPipeline.java:99)
        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:174)
        at org.apache.catalina.connector.CoyoteAdapter.doService(CoyoteAdapter.java:415)
        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:282)
        at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:459)
        at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:167)
        at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:201)
        at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:175)
        at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:235)
        at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:119)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:284)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:201)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:133)
        at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:112)
        at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:77)
        at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:561)
        at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:112)
        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:117)
        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.access$100(WorkerThreadIOStrategy.java:56)
        at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:137)
        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:565)
        at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:545)
        at java.lang.Thread.run(Thread.java:748)
]]

Fri, Apr 1, 2022, 11:25:26 - pdurbin: Agostinho Gomes: I can try to help in a bit but meanwhile can you please create a ticket (if you haven't already) by emailing support@dataverse.org? If you've already created a ticket, please let me know the ticket number. Thanks.
Fri, Apr 1, 2022, 11:26:04 - Agostinho Gomes: thanks
i dont create ticket
i will
Fri, Apr 1, 2022, 11:27:24 - Agostinho Gomes: meanwile, reindex finished and now dont apear any results on homepage of dataverse
Fri, Apr 1, 2022, 12:03:46 - Agostinho Gomes: fresh news
Fri, Apr 1, 2022, 12:06:13 - Agostinho Gomes: i tryed to publish the dataset and the following error apeared:

[2022-04-01T16:49:19.439+0100] [glassfish 4.1] [WARNING] [] [org.eclipse.persistence.session.file:/usr/local/glassfish4/glassfish/domains/domain1/applications/dataverse-4.20/WEB-INF/classes/_VDCNet-ejbPU] [tid: _ThreadID=140 _ThreadName=__ejb-thread-pool6] [timeMillis: 1648828159439] [levelValue: 900] [[

Local Exception Stack:
Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: invalid input syntax for type timestamp: "Fri Apr 01 16:49:19 WEST 2022"
  Position: 35
Error Code: 0
Call: UPDATE Dataset SET lastExportTime='Fri Apr 01 16:49:19 WEST 2022' WHERE id=697
Query: DataModifyQuery(sql="UPDATE Dataset SET lastExportTime='Fri Apr 01 16:49:19 WEST 2022' WHERE id=697")

Fri, Apr 1, 2022, 12:07:47 - Agostinho Gomes: after that the system created a new registry with a new DOI, which is retrieving an error:
https://datarepositorium.uminho.pt/dataset.xhtml?persistentId=doi:10.34622/datarepositorium/IYOVCC

Fri, Apr 1, 2022, 12:26:07 - pdurbin: Hmm, I'm not sure about WEST but we saw a problem with WIB as a timezone at https://github.com/IQSS/dataverse/issues/7246 . Please check out the comment from qqmyers and please feel free to leave a comment on that issue.
Fri, Apr 1, 2022, 13:07:11 - Dan W joined the room
Sat, Apr 2, 2022, 02:18:08 - numeric_arena joined the room
Mon, Apr 4, 2022, 11:02:20 - Agostinho Gomes: in "postgresql.conf", we changed timezone from "Europe/Lisbon" to UTC 
restarted server 
tried to publish dataset
and aperared the same error:

Caused by: javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: ERROR: invalid input syntax for type timestamp: "Mon Apr 04 15:54:58 WEST 2022"
  Position: 35
Error Code: 0
Call: UPDATE Dataset SET lastExportTime='Mon Apr 04 15:54:58 WEST 2022' WHERE id=697
Query: DataModifyQuery(sql="UPDATE Dataset SET lastExportTime='Mon Apr 04 15:54:58 WEST 2022' WHERE id=697")

Mon, Apr 4, 2022, 11:02:32 - Agostinho Gomes: we will send email as you said
Mon, Apr 4, 2022, 11:09:17 - pdurbin: Agostinho Gomes: thanks. Having a ticket number helps us track the problem.
Mon, Apr 4, 2022, 11:09:49 - pdurbin: Agostinho Gomes: please feel free to leave a comment on https://github.com/IQSS/dataverse/issues/7246 as well.
Mon, Apr 4, 2022, 11:09:54 - Don Sizemore: Agostinho Gomes: just curious which OS you're using?
Mon, Apr 4, 2022, 11:10:04 - Agostinho Gomes: we are doing it now
Mon, Apr 4, 2022, 11:10:16 - Agostinho Gomes: ubuntu 16
Mon, Apr 4, 2022, 11:11:11 - Agostinho Gomes: on OS this is timezone
Mon, Apr 4, 2022, 11:11:15 - Agostinho Gomes:  timedatectl
      Local time: Mon 2022-04-04 16:10:40 WEST
  Universal time: Mon 2022-04-04 15:10:40 UTC
        RTC time: Mon 2022-04-04 16:12:03
       Time zone: Europe/Lisbon (WEST, +0100)
 Network time on: yes
NTP synchronized: no
 RTC in local TZ: no

Mon, Apr 4, 2022, 11:16:07 - Agostinho Gomes: we have replied on the ticket
https://github.com/IQSS/dataverse/issues/7246
Mon, Apr 4, 2022, 11:19:31 - Agostinho Gomes: what is you recomendation on datatypes timestamp in database fields?
with or without timezone?

Mon, Apr 4, 2022, 11:35:26 - pdurbin: Um. I'm really not sure. I just let others know in Slack that you left that comment. Let's see what they say.
Mon, Apr 4, 2022, 11:35:47 - Agostinho Gomes: thanks 
Mon, Apr 4, 2022, 13:07:18 - pdurbin: This is what I'm seeing in Slack but I'm not sure if it helps or not:

> Not sure - WIB was a timezone that isn't in postgres (partly because it looks like there were conflicting definitions of it). Wherease I assume WEST is allowed (haven't checked). If so, setting postgres to use WEST and sending timestamps in WEST should work? Or perhaps making Dataverse send UTC (the Java/machine locale setting) to match UTC in the db?

Mon, Apr 4, 2022, 14:22:43 - pdurbin: Agostinho Gomes: if you run `date` on the command line of your server, what is the output, please?
Mon, Apr 4, 2022, 14:47:43 - Don Sizemore: you can also say "ls -al /etc/localtime"
Mon, Apr 4, 2022, 15:25:44 - pdurbin: Hey, that even works on Mac. Here's my symlink: `/etc/localtime -> /var/db/timezone/zoneinfo/America/New_York`
Tue, Apr 5, 2022, 06:51:10 - Agostinho Gomes: hi
Tue, Apr 5, 2022, 06:51:14 - Agostinho Gomes: user@datarepositorium:~$ date
Tue Apr  5 11:50:53 WEST 2022
Tue, Apr 5, 2022, 06:51:47 - Agostinho Gomes: user@datarepositorium:~$ ls -al /etc/localtime
lrwxrwxrwx 1 root root 33 Aug 11  2021 /etc/localtime -> /usr/share/zoneinfo/Europe/Lisbon

Tue, Apr 5, 2022, 06:55:02 - Agostinho Gomes sent an image. (Media omitted)
Tue, Apr 5, 2022, 06:56:46 - Agostinho Gomes: on table "dataset", datatype of field "lastexporttime" is "timestamp without time zone", is that correct ?
Tue, Apr 5, 2022, 07:18:51 - Don Sizemore: Agostinho Gomes: one thing I keep noticing is WEST instead of WET. it wouldn't be something so small, would it?
Tue, Apr 5, 2022, 09:45:53 - pdurbin: Agostinho Gomes: as a test at least, it is possible to set both the database and the system to UTC?
Tue, Apr 5, 2022, 10:58:41 - Agostinho Gomes: <@donsizemore:matrix.org "Agostinho Gomes: one thing I kee..."> European countries/territories using WEST in the summer and WET in the winter
Tue, Apr 5, 2022, 10:58:58 - Agostinho Gomes: <@pdurbin:matrix.org "Agostinho Gomes: as a test at le..."> yes
Tue, Apr 5, 2022, 10:59:34 - Agostinho Gomes: i will do that and reply if solve the problem
Tue, Apr 5, 2022, 11:00:51 - pdurbin: Thanks
Tue, Apr 5, 2022, 11:00:57 - pdurbin: Time for the community call: https://dataverse.org/community-calls
Tue, Apr 5, 2022, 12:03:08 - Agostinho Gomes: hi
Tue, Apr 5, 2022, 12:04:38 - Agostinho Gomes: postgresql = UTC
OS = UTC
it works
the dataset in DRAFT has been published
Tue, Apr 5, 2022, 12:05:06 - Agostinho Gomes: but with wrong time in our database (-1hour)
Tue, Apr 5, 2022, 12:36:52 - pdurbin: ok, thanks for trying that
Wed, Apr 6, 2022, 09:51:14 - pdurbin: Agostinho Gomes: did you create a support ticket yet? If so, what's the number, please?
Wed, Apr 6, 2022, 15:49:43 - pdurbin: BOOM. Dataverse 5.10.1 is out: https://github.com/IQSS/dataverse/releases/tag/v5.10.1
Thu, Apr 7, 2022, 13:55:08 - Paola Mejia: Hi good afternoon , i have a doubt regarding log4j vulnerabilities, How can I update my version to log4j 2.17.1 if I currently have 2.16?
Thu, Apr 7, 2022, 14:17:23 - pdurbin: Paola Mejia: hi. I'm not sure about those specific versions but if you upgrade to Dataverse 5.10 or higher there should be no known log4j vulnerabilities. Please look for "log4j" at https://github.com/IQSS/dataverse/releases/tag/v5.10
Thu, Apr 7, 2022, 14:21:06 - Paola Mejia: thank you!
Thu, Apr 7, 2022, 14:21:31 - pdurbin: Sure. In that release we also recommend a newer version of Solr that has been patched.
Thu, Apr 7, 2022, 18:56:37 - Don Sizemore: Paola Mejia: if you're not ready to upgrade to Dataverse 5.10 just yet you can download newer log4j jarfiles and swap them out for the jarfiles in your Solr installation. Just be sure to get them all.
Thu, Apr 7, 2022, 18:59:14 - Paola Mejia: thank you so much it would be great if we could achieve that t
Fri, Apr 8, 2022, 07:43:30 - aialves: Hello. I am trying to set an OAuth identity provider to work with Dataverse. Dataverse is served in a machine that is behind an apache proxy. I already set up an OAuth provider to work with dataverse but when a user tries to login he receives the error message "Client ***** with registered redirect URI's [https://****/oauth2/callback.xhtml] requested authorization with redirectURI http://*****:8080/oauth2/callback.xhtml" . Do you know what is happening?
Fri, Apr 8, 2022, 07:52:03 - Don Sizemore: aialves: at a glance, the first callback says https, but the second says http to port 8080?
Fri, Apr 8, 2022, 07:53:04 - Don Sizemore: unless either of the above URLs are just examples. this may be due to the dataverse.siteUrl jvm-option in domain.xml, or it may be in the OAuth.json (I'd have to go look at the latter)
Fri, Apr 8, 2022, 09:54:29 - aialves: I fixed the error with your precious help, thanks.
Fri, Apr 8, 2022, 09:55:44 - aialves: Now the user is getting a new error message "The requested URL /oauth2/firstLogin.xhtml was not found on this server.". 
Fri, Apr 8, 2022, 09:57:16 - aialves: It missed https:// on the URL. How can I fix this error? Thanks in advance
Fri, Apr 8, 2022, 09:59:40 - aialves: I fixed the previous error changing 'dataverse.siteUrl jvm-option in domain.xml'
Fri, Apr 8, 2022, 10:06:43 - aialves: after login, urls do not have https://
Fri, Apr 8, 2022, 10:43:33 - aialves: Fixed, thank you.
Fri, Apr 8, 2022, 14:11:48 - Lincoln: I have one doubt: is it possible to give storage option (eg file system or s3 storage system) to the dataverse owner (not admin)
Fri, Apr 8, 2022, 14:22:19 - Lincoln: or is the storage option limited to the superuser only?
Fri, Apr 8, 2022, 14:48:49 - pdurbin: Lincoln: hmm, I don't remember. Can you easily try it and let us know?
Fri, Apr 8, 2022, 14:53:26 - Lincoln: pdurbin: i checked and the user does not have storage option.
also found the same case on google group:
https://groups.google.com/g/dataverse-community/c/KsS4UTuueD4/m/4Xt-akhlAwAJ
Fri, Apr 8, 2022, 14:55:47 - pdurbin: Hmm, thanks. The API Guide seems pretty clear that it's superuser only. So I assume it's the same in the UI.
Fri, Apr 8, 2022, 14:56:02 - Lincoln: :(
Fri, Apr 8, 2022, 14:56:14 - pdurbin: A lot of our new features start out as superuser only. If you want non-superusers to be able to do this, please feel free to open an issue.
Fri, Apr 8, 2022, 14:56:40 - pdurbin: It's less to think about when it's superuser only. Easier to code up. üòÑ
Fri, Apr 8, 2022, 14:57:28 - Lincoln: completely agreed
Fri, Apr 8, 2022, 17:02:52 - pdurbin: I'm heading out. Have a great weekend!
Sat, Apr 9, 2022, 00:40:59 - @krrishg:matrix.org joined the room
Sat, Apr 9, 2022, 02:01:08 - @krrishg:matrix.org left the room
Sat, Apr 9, 2022, 20:15:24 - poikilotherm: Message deleted
Mon, Apr 11, 2022, 07:12:41 - Don Sizemore: pdurbin: correct, as of the last time I looked (5.10 I think) only superusers get the storage dropdown in the UI.
Mon, Apr 11, 2022, 09:15:31 - pdurbin: Don Sizemore: ok, thanks for confirming that.
Wed, Apr 13, 2022, 12:02:46 - pdurbin: I'm inventorying GitHub issues about harvesting (OAI-PMH). Please feel free to create some for any issues (or feature requests) that aren't being tracked. Please see also https://groups.google.com/g/dataverse-community/c/bDaOH8a4Hmc/m/XfzYL-BlAQAJ
Wed, Apr 13, 2022, 14:49:49 - carlsonp joined the room
Wed, Apr 13, 2022, 14:50:28 - carlsonp set a profile picture
Wed, Apr 13, 2022, 14:52:48 - carlsonp: hello, I'm working on trying to Dockerize the various pieces in Dataverse, I'm at the point of starting up the payara server by deploying the .war file, how can I change the hostname for the postgres database that it's looking for?
Wed, Apr 13, 2022, 14:52:55 - carlsonp: is there a config file somewhere that I can modify? thanks
Wed, Apr 13, 2022, 14:53:09 - pdurbin: Ah, our newest contributor. Welcome!
Wed, Apr 13, 2022, 14:53:17 - carlsonp: *waves*
Wed, Apr 13, 2022, 14:53:55 - pdurbin: What are you using as a starting point (if any)? docker-aio? dataverse-docker? dataverse-kubernetes?
Wed, Apr 13, 2022, 14:54:37 - carlsonp: I'm building my own from scratch, definitely using the others as references but trying to set it up with the various services in a docker-compose style
Wed, Apr 13, 2022, 14:55:01 - pdurbin: Ok. Are you planning on running the installer? install.py
Wed, Apr 13, 2022, 14:56:05 - pdurbin: Because you can specify the database host: "Postgres Server Address: [127.0.0.1]" from https://guides.dataverse.org/en/5.10.1/installation/installation-main.html#running-the-dataverse-software-installer
Wed, Apr 13, 2022, 14:56:45 - pdurbin: "POSTGRES_SERVER	127.0.0.1" from https://guides.dataverse.org/en/5.10.1/_downloads/d740f52de6e3518df45082c105efb593/default.config if you want to provide the installer a config file
Wed, Apr 13, 2022, 14:57:41 - carlsonp: awesome thanks, this gets me started
Wed, Apr 13, 2022, 14:58:54 - pdurbin: Sure. Folks like poikilotherm and Vyacheslav Tikhonov know Docker a lot better than I do. They're behind dataverse-kubernetes and dataverse-docker, respectively.
Wed, Apr 13, 2022, 14:59:45 - pdurbin: The guy who wrote docker-aio isn't around as much (the grant ended) but we're trying to keep it working. üòÑ
Wed, Apr 13, 2022, 15:05:59 - pdurbin: Oh and Don Sizemore has been hacking on podman.
Wed, Apr 13, 2022, 15:06:44 - Don Sizemore: the under-side of this bus. it's so much prettier than I had expected.
Wed, Apr 13, 2022, 15:07:54 - carlsonp: yeah I was helping someone a little bit with a podman deployment and it was a little gnarly, the "no running as root" thing is nice from a security standpoint but can bite you with "gotchas"
Wed, Apr 13, 2022, 15:08:35 - Don Sizemore: every decision entails pros and cons
Wed, Apr 13, 2022, 15:13:16 - pdurbin: Yeah. Same deal with OpenShift. I had to get Dataverse to not run as root within the container, which was Docker at the time.
Wed, Apr 13, 2022, 15:17:49 - pdurbin: If anyone here has any interest in the old OpenShift stuff (which was removed from the guides as of Dataverse 5.0): https://github.com/IQSS/dataverse/commit/e72ba3c
Wed, Apr 13, 2022, 15:19:32 - pdurbin: The last time OpenShift was in our guides was Dataverse 4.20: https://guides.dataverse.org/en/4.20/developers/containers.html (and highly experimental)
Wed, Apr 13, 2022, 16:26:07 - Vyacheslav Tikhonov: carlsonp: check this https://github.com/IQSS/dataverse-docker/blob/master/docker-compose.yml
Wed, Apr 13, 2022, 17:04:19 - carlsonp: yeah I saw this one, it's great, however it looks like some services are pointing to prebuilt images hosted on dockerhub, I was hoping all of that would be built locally and referenced
Wed, Apr 13, 2022, 17:05:43 - carlsonp: some things are hosted on the `coronowhy` account and I wanted to build those pieces from scratch and have them as part of the repo as well
Thu, Apr 14, 2022, 03:17:57 - Vyacheslav Tikhonov: carlsonp: it's building from here https://github.com/EOSC-synergy/dataverse-kubernetes/tree/5.9
Thu, Apr 14, 2022, 03:18:49 - Vyacheslav Tikhonov: docker build -t dataverse:5.9 -f ./docker/dataverse-k8s/payara/Dockerfile .
Thu, Apr 14, 2022, 03:19:37 - Vyacheslav Tikhonov: carlsonp: you're welcome to contribute if you have some ideas.
Thu, Apr 14, 2022, 11:12:01 - pdurbin: Vyacheslav Tikhonov: can we put a note on https://hub.docker.com/r/coronawhy/dataverse so people know where it comes from? That it's open source? A link back to that EOSC-synergy git repo?
Thu, Apr 14, 2022, 16:53:35 - carlsonp: pdurbin: it looks like the link in the docs to that `default.config` file is broken
Thu, Apr 14, 2022, 16:54:00 - pdurbin: uh oh
Thu, Apr 14, 2022, 16:54:17 - carlsonp: the link you provided works but it's different on the "latest" docs
Thu, Apr 14, 2022, 16:55:19 - pdurbin: Hmm, from https://guides.dataverse.org/en/5.10.1/installation/installation-main.html if I click the file it works. It goes to https://guides.dataverse.org/en/5.10.1/_downloads/d740f52de6e3518df45082c105efb593/default.config
Thu, Apr 14, 2022, 16:56:16 - pdurbin: Seems to work from "latest" for me too. ("latest" is just a symlink to 5.10.1.)
Thu, Apr 14, 2022, 16:56:33 - carlsonp: ah weird, now it's working, I swear it just gave me a blank page, weird sorry
Thu, Apr 14, 2022, 16:56:37 - carlsonp: https://guides.dataverse.org/en/latest/installation/installation-main.html
Thu, Apr 14, 2022, 16:56:41 - pdurbin: no worries!
Thu, Apr 14, 2022, 16:58:20 - carlsonp: when I created that `default.config` file and then ran `python3 install.py` I get an error about "File contains no section headers", does it need [default] at the top?
Thu, Apr 14, 2022, 16:59:13 - pdurbin: You know, I swear we just fixed this. There were two copies of that file and one was wrong. Hold on, please.
Thu, Apr 14, 2022, 17:00:12 - pdurbin: Ah, we talked about fixing it but didn't fix it yet. D'oh! https://github.com/IQSS/dataverse/issues/8481
Thu, Apr 14, 2022, 17:00:38 - pdurbin: carlsonp: please try this one: https://github.com/IQSS/dataverse/blob/v5.10.1/scripts/installer/default.config
Thu, Apr 14, 2022, 17:00:49 - pdurbin: (yes, it needs section headers these days)
Thu, Apr 14, 2022, 17:00:55 - carlsonp: ty!
Thu, Apr 14, 2022, 17:01:24 - pdurbin: Sure. Sorry for the trouble.
Thu, Apr 14, 2022, 17:01:32 - carlsonp: no worries
Fri, Apr 15, 2022, 11:17:45 - pdurbin: poikilotherm: I'm addicted to what appears to be a newish feature of GitHub Issues where if you write `- #1234` the title of the issue shows up in the HTML. For example, I just edited your comment here to enable this (I hope you don't mind): https://github.com/IQSS/dataverse/issues/8539#issuecomment-1081543219
Fri, Apr 15, 2022, 15:35:16 - pdurbin: Heading out pretty soon for an extra long weekend. I'll be back on Thursday. Have a great weekend, all!
Fri, Apr 15, 2022, 19:34:22 - fotis_ joined the room
Mon, Apr 18, 2022, 05:06:40 - @wybpip:matrix.org joined the room
Mon, Apr 18, 2022, 05:06:41 - @wybpip:matrix.org left the room
Tue, Apr 19, 2022, 11:16:51 - j-n-c (@jose_carvalho:matrix.org): Hi! I have submitted pull request https://github.com/IQSS/dataverse/pull/8618. Could someone please move it to "Code Review"?
Wed, Apr 20, 2022, 05:20:21 - j-n-c (@jose_carvalho:matrix.org): Hi! Could someone please move PRs https://github.com/IQSS/dataverse/pull/8620, https://github.com/IQSS/dataverse/pull/8618 and https://github.com/IQSS/dataverse/pull/8622 to "Code Review"?
Wed, Apr 20, 2022, 07:11:36 - Don Sizemore: j-n-c: I don't have access to do that, but I'll pass your note along to IQSS. Phil typically monitors this channel but he's out until tomorrow.
Wed, Apr 20, 2022, 07:17:12 - j-n-c (@jose_carvalho:matrix.org): Thank You Don Sizemore 
Wed, Apr 20, 2022, 08:53:15 - Don Sizemore: @j-n-c Gustavo replies: "New PRs get added to Next Sprint (when added to project - if they are not there, then we can add them there). We'll review at the beginning of a sprint to move them to review based on total workload."
Wed, Apr 20, 2022, 09:03:46 - j-n-c (@jose_carvalho:matrix.org): üëçÔ∏è
Wed, Apr 20, 2022, 09:03:54 - j-n-c (@jose_carvalho:matrix.org): thank You Don Sizemore 
Wed, Apr 20, 2022, 18:36:27 - carlsonp: well, I have something building with docker-compose and it loads up so that's good, still a lot of pieces left to tackle and test but I'm slowly making progress
Thu, Apr 21, 2022, 03:44:56 - poikilotherm: Message deleted
Thu, Apr 21, 2022, 09:33:55 - pdurbin: j-n-c: thanks for the pull requests!
Thu, Apr 21, 2022, 09:34:01 - pdurbin: carlsonp: great news!
Thu, Apr 21, 2022, 10:49:20 - Kir√°ly P√©ter: Hi, I have not been quite a while here. I have a question: I would like to add some more checks to our existing monitoring service to validate if Dataverse is up and does what is expected. I will check some HTML content, but I also want to check the API as well. I haven't find however a simple API call which could be used for a simple ping, such as /ping or /version. How do you monitor the API? 
Thu, Apr 21, 2022, 10:50:07 - pdurbin: You can check the version with https://demo.dataverse.org/api/info/version
Thu, Apr 21, 2022, 10:53:50 - Kir√°ly P√©ter: Thanks a lot! I did not find it.
Thu, Apr 21, 2022, 10:55:38 - pdurbin: No worries. It's on this looooooooong page: https://guides.dataverse.org/en/5.10.1/api/native-api.html#show-dataverse-software-version-and-build-number üòÑ
Thu, Apr 21, 2022, 13:12:03 - Lincoln: poikilotherm: A month ago, there was a meeting from FDM dataverse community where around 37 Institutions (german institutions) were using Dataverse.
ques 1: Is there a community for FDM-datavere or group?
ques2: Are there any reports of FDM -Dataverse made public?
Thu, Apr 21, 2022, 13:23:11 - pdurbin: Lincoln: I'm not sure if this helps but there's a chat room at https://juchat.fz-juelich.de/channel/dataverse-de
Thu, Apr 21, 2022, 13:26:12 - carlsonp: is there a way in the `default.config` to enable the FAKE DOI provider?
Thu, Apr 21, 2022, 13:26:30 - carlsonp: basically just skip DOI validation
Thu, Apr 21, 2022, 13:32:22 - pdurbin: I'm looking. Not sure where it's set. In dev we always run a curl command after installation to set FAKE: https://guides.dataverse.org/en/5.10.1/developers/dev-environment.html#configure-your-development-environment-for-publishing
Thu, Apr 21, 2022, 13:38:37 - Kir√°ly P√©ter: Lincoln: The chat Phill mentioned is the only one now. We had  some events in the past, maybe we can restart it. For me it seems that current Dataverse channels (email lists, Slack, this chat, yearly community meeting) is enough. We also planned a European Dataverse event, and we had something like that just before COVID in Tromso, Norway 
Thu, Apr 21, 2022, 13:40:12 - pdurbin: carlsonp: I can't find it. Please feel free to open an issue about how you'd like to be able to set the :DoiProvider database setting using default.config. For now I think you need to set it with curl afterwards.
Thu, Apr 21, 2022, 13:45:54 - pdurbin: carlsonp: found it. Here's where setup-all has "DataCite" hard coded: https://github.com/IQSS/dataverse/blob/v5.10.1/scripts/api/setup-all.sh#L60
Thu, Apr 21, 2022, 13:48:28 - pdurbin: Ah, you already created an issue... https://github.com/IQSS/dataverse/issues/8635 ... thanks!
Thu, Apr 21, 2022, 13:54:10 - poikilotherm: <@carlsonp:matrix.org "is there a way in the `default.c..."> No there isn't. I solved that by adding a system properties setter via env vars during startup.
Thu, Apr 21, 2022, 13:55:10 - poikilotherm: <@lincoln55:matrix.org "poikilotherm: A month ago, there..."> Oh it wasn't 37 institutions, it was 37 people
Thu, Apr 21, 2022, 13:55:45 - poikilotherm: <@lincoln55:matrix.org "poikilotherm: A month ago, there..."> There is a mailing list now at https://www.listserv.dfn.de/sympa/info/interessengruppe-dataverse
Thu, Apr 21, 2022, 13:58:52 - poikilotherm: <@lincoln55:matrix.org "poikilotherm: A month ago, there..."> A meeting every 3 months will be organised by fdm.nrw. Next one is scheduled for 16.06.2022 15:00 CEST. (See mailinglist archive) Maybe we will discuss about a community chat. IMHO it would be best to find some money and make GDCC Slack open for everyone without loosing messages after 10000 in the free tier
Thu, Apr 21, 2022, 13:59:46 - pdurbin: carlsonp: if you look for `db_DoiProvider` at https://github.com/gdcc/dataverse-kubernetes you can see what poikilotherm is talking about.
Thu, Apr 21, 2022, 16:55:00 - carlsonp: sorry for all the dumb questions, for s3 storage setup, https://guides.dataverse.org/en/latest/installation/config.html#amazon-s3-storage-or-compatible, even if I'm not using Amazon as the provider but something else, say Minio or Seaweedfs, the configurations within `~/.aws/` is still the place to do that right? Whatever library under the hood is using that directory?
Fri, Apr 22, 2022, 02:41:16 - Lincoln: thank you poikilotherm pdurbin Kir√°ly P√©ter 
Fri, Apr 22, 2022, 04:05:09 - poikilotherm: <@carlsonp:matrix.org "sorry for all the dumb questions..."> With the recent Dataverse versions, I tool care of this... It's now possible to skip this cumbersome process within containers (so I can skip this within my containers, too... ;-) ) Please take a look at https://guides.dataverse.org/en/latest/installation/config.html#credentials-via-microprofile-config
Fri, Apr 22, 2022, 04:07:22 - poikilotherm: Personally, I have contributed the new (secrets) directory config source to Payara upstream to use this for theses usage scenario of containers. Find the docs here: https://docs.payara.fish/community/docs/5.2022.2/documentation/microprofile/config/directory.html
Fri, Apr 22, 2022, 09:38:30 - pdurbin: gold star for poikilotherm ‚≠êÔ∏è
Fri, Apr 22, 2022, 09:39:41 - poikilotherm: <@pdurbin:matrix.org "gold star for poikilotherm ‚≠êÔ∏è"> Thx üòá Sometimes things I do make a difference. üôà
Fri, Apr 22, 2022, 09:40:08 - pdurbin: Absolutely. Nice talk yesterday. Should we put it on DataverseTV? üòÑ
Fri, Apr 22, 2022, 09:40:38 - poikilotherm: My kids are on that tape... üôà It was diner time here üòâ
Fri, Apr 22, 2022, 09:40:54 - pdurbin: heh, I noticed
Fri, Apr 22, 2022, 09:41:21 - poikilotherm: And thanks for your kind words
Fri, Apr 22, 2022, 09:41:57 - poikilotherm: Not sure it really helped everyone - maybe my head has ideas that are just too crazy.
Fri, Apr 22, 2022, 09:43:02 - pdurbin: The thing I wanted to ask was... what order are the work items being worked in? Or to put it another way, when should we expect pull requests for this or that?
Fri, Apr 22, 2022, 09:44:29 - poikilotherm: Currently, there is no particular order, as many of the items from the proposal have been addressed in some way. Maybe it would be a good idea to discuss during tech hours what would make sense to address first, because many of these ideas and topics are related to other activities
Fri, Apr 22, 2022, 09:45:26 - pdurbin: Ok. From my perspective I see a lot of Christmas presents and I don't know when I get to open them. üòÑ üéÅ
Fri, Apr 22, 2022, 09:45:52 - poikilotherm: It might be a good starting point to go with the DOI per version. This seems a rather decoupled thing to do
Fri, Apr 22, 2022, 09:46:36 - poikilotherm: The DataCite resourceType thing and UI stuff is heavily relying on the larger discussion on how to distinguish between stuff inside "datasets", as outlined yesterday
Fri, Apr 22, 2022, 09:46:48 - pdurbin: Yeah. I agree. You're not going to like that PID code though. At least I didn't. üòÑ
Fri, Apr 22, 2022, 09:47:18 - pdurbin: Yeah, it's Dataverse, not Softwareverse. Fraught.
Fri, Apr 22, 2022, 09:47:33 - poikilotherm: Hell no... I had a sneak peak of it and it was... "it grew historically"
Fri, Apr 22, 2022, 09:47:51 - pdurbin: "touched by many hands"
Fri, Apr 22, 2022, 09:48:17 - poikilotherm: Someone please go to Gringots and get some gold to pay the tech debts
Fri, Apr 22, 2022, 09:48:28 - poikilotherm: But no Leprechan gold, aye?
Fri, Apr 22, 2022, 09:49:06 - pdurbin: Some HP references are lost on me. Sorry. üòÑ
Fri, Apr 22, 2022, 09:49:40 - poikilotherm: https://harrypotter.fandom.com/wiki/Leprechaun_gold
Fri, Apr 22, 2022, 09:50:27 - pdurbin: yeah, none of that gold, please
Fri, Apr 22, 2022, 09:51:45 - poikilotherm: @pdurbin I'm currently working on a Metadata Block TSV parser and validator for the Solr Maven Module. Might be reusable as a dep within main codebase
Fri, Apr 22, 2022, 09:52:45 - poikilotherm: I need to solve my chicken and egg problem of a Solr schema containing the necessary fields
Fri, Apr 22, 2022, 09:53:15 - poikilotherm: And there are more goodies by having a validator... ;-)
Fri, Apr 22, 2022, 09:53:34 - pdurbin: You've seen https://github.com/IQSS/json-schema-test right? Especially the "Create JSON Schema files for all TSVs" button. Maybe you can reuse some of the concepts at least. (It's in Python.)
Fri, Apr 22, 2022, 09:54:08 - poikilotherm: Oh no I didn't see that
Fri, Apr 22, 2022, 09:54:24 - poikilotherm: Interesting idea
Fri, Apr 22, 2022, 09:54:54 - poikilotherm: What I'm doing here could be extended to create sth similar within Java
Fri, Apr 22, 2022, 09:55:13 - pdurbin: Java is fine. Whatever works. üòÑ
Fri, Apr 22, 2022, 09:55:26 - poikilotherm: And it's a pure CLI application
Fri, Apr 22, 2022, 09:55:36 - poikilotherm: (So I can use it in pipelines, too)
Fri, Apr 22, 2022, 09:56:40 - pdurbin: Oh, that reminds me, we're using your update-fields.sh script: https://github.com/IQSS/dataverse.harvard.edu/pull/152#issuecomment-1105688441 . Thanks for that.
Fri, Apr 22, 2022, 09:56:41 - poikilotherm: The idea is that you can parse and validate a set of TSV files for your instance and create the Solr schema from it.(And whatever things come to mind in the future)
Fri, Apr 22, 2022, 09:57:02 - poikilotherm: Great! It's always nice to see that things are useful
Fri, Apr 22, 2022, 09:57:16 - pdurbin: I guess your new Java thing will deprecate that script.
Fri, Apr 22, 2022, 09:57:31 - poikilotherm: Well it will still work ;-)
Fri, Apr 22, 2022, 09:57:40 - carlsonp: are there any examples using `asadmin` and `set-config-property`?
Fri, Apr 22, 2022, 09:58:09 - poikilotherm: carlsonp: you want to look at postboot scripts for Payara
Fri, Apr 22, 2022, 09:59:04 - pdurbin: carlsonp: there seems to be an example here: https://github.com/IQSS/dataverse/issues/5794#issuecomment-811354212
Fri, Apr 22, 2022, 09:59:07 - poikilotherm: https://github.com/poikilotherm/dataverse/blob/ct-mvn-mod/modules/container-base/src/main/docker/Dockerfile
Fri, Apr 22, 2022, 10:01:35 - poikilotherm: pdurbin: I'm planning ahead here with the generation of schema.xml to be used with SolrCloud instances.
Fri, Apr 22, 2022, 10:02:18 - poikilotherm: With SolrCloud, you need to use the Schema API (a stuck project for Dataverse) or you need to upload the solrconfig.xml and the schema.xml on config changes
Fri, Apr 22, 2022, 10:02:32 - poikilotherm: Zookeeper maintains this for the instances
Fri, Apr 22, 2022, 10:02:55 - pdurbin: Nice. Once upon a time we had a contributor try to help us start using SolrCloud: https://github.com/IQSS/dataverse/pull/2985
Fri, Apr 22, 2022, 10:02:57 - poikilotherm: So creating a pipeline to stuff things from TSVs into Solr would be very benefical ;-)
Fri, Apr 22, 2022, 10:04:31 - poikilotherm: Nice! But I fear that SolrCloud changed quite a bit since the Solr 4.x series ;-)
Fri, Apr 22, 2022, 10:06:09 - carlsonp: what is `dataverse.files.<id>`? do I need to do a lookup of something to figure what what to inject for the id?
Fri, Apr 22, 2022, 10:06:50 - pdurbin: carlsonp: it's complicated. üòÑ poikilotherm do you want to answer this one?
Fri, Apr 22, 2022, 10:07:52 - poikilotherm: carlsonp: Within a Dataverse installation, you can create multiple file stores
Fri, Apr 22, 2022, 10:07:54 - pdurbin: Out of the box, it's probably `<jvm-options>-Ddataverse.files.file.type=file</jvm-options>`
Fri, Apr 22, 2022, 10:08:01 - poikilotherm: Each of these have an "id"
Fri, Apr 22, 2022, 10:08:54 - poikilotherm: Please read up more details in the docs: https://guides.dataverse.org/en/latest/installation/config.html#multi-store-basics
Fri, Apr 22, 2022, 10:09:48 - carlsonp: ok thanks, I think I need to re-read this entire page again... slowly lol
Fri, Apr 22, 2022, 10:10:56 - poikilotherm: http://talks.bertuch.name/mpconfig-20210223/#/1/0/1
Fri, Apr 22, 2022, 10:10:59 - pdurbin: In practice, the id is usually "file" for the local filesystem or "s3" for S3.
Fri, Apr 22, 2022, 10:11:23 - poikilotherm sent an image. (Media omitted)
Fri, Apr 22, 2022, 10:18:43 - pdurbin: ü§£
Fri, Apr 22, 2022, 10:19:53 - pdurbin: carlsonp: please feel free to create an issue about improving how we explain this "id" stuff in the guides. And pull requests are welcome, of course!
Fri, Apr 22, 2022, 10:26:00 - poikilotherm: So many goodies in that talk back then... It's been a year :-)
Fri, Apr 22, 2022, 10:27:09 - pdurbin: yeah
Fri, Apr 22, 2022, 10:29:02 - carlsonp: thank you for being patient with the newbie :D
Fri, Apr 22, 2022, 10:29:03 - j-n-c (@jose_carvalho:matrix.org): <@carlsonp:matrix.org "what is `dataverse.files.<id>`? ..."> the currently available options are depicted in the documentation for each scenario
Fri, Apr 22, 2022, 10:29:05 - j-n-c (@jose_carvalho:matrix.org): https://guides.dataverse.org/en/latest/installation/config.html#id83
Fri, Apr 22, 2022, 10:32:26 - poikilotherm: pdurbin: did we ever look at why on earth the headers in the docs link back to the toc instead of being a permalink? It's so annoying to always go to top to copy the link. Extra work...
Fri, Apr 22, 2022, 10:33:58 - pdurbin: I haven't looked. Yes, it's annoying.
Fri, Apr 22, 2022, 11:04:31 - poikilotherm: The links have a class "toc-backref" and headerlinks are hidden!
Fri, Apr 22, 2022, 11:07:59 - poikilotherm: Message deleted
Fri, Apr 22, 2022, 11:10:42 - j-n-c (@jose_carvalho:matrix.org): pdurbin: can you please put https://github.com/IQSS/dataverse/pull/8638 in "Code Review"?
Fri, Apr 22, 2022, 11:44:27 - j-n-c (@jose_carvalho:matrix.org): Just created https://github.com/IQSS/dataverse/issues/8640 and PR: https://github.com/IQSS/dataverse/pull/8641
Fri, Apr 22, 2022, 11:44:58 - j-n-c (@jose_carvalho:matrix.org): pdurbin: if possible also move this PR to Code Review
Fri, Apr 22, 2022, 11:47:21 - poikilotherm sent an image. (Media omitted)
Fri, Apr 22, 2022, 11:47:22 - poikilotherm: pdurbin: WDYT - would it help to make the headerlinks reappear and make them look pretty? 
Fri, Apr 22, 2022, 11:49:38 - pdurbin: j-n-c: we recently changed the automation. Now when we add pull requests to https://github.com/orgs/IQSS/projects/2 they are moved to "Next Sprint" rather than "Review". We will review the pull requests, of course, but maybe not until the next sprint. Thanks for your patience! And the pull requests!
Fri, Apr 22, 2022, 11:50:11 - pdurbin: poikilotherm: oooo, I like those permalink anchors. Pull request, please!
Fri, Apr 22, 2022, 11:51:03 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: oooo, I like those..."> It involves adding another sphinx module, though... But font awesome icons then usable within the docs :-)
Fri, Apr 22, 2022, 11:51:57 - pdurbin: Hmm. Right now we don't use any modules? Just Sphinx itself?
Fri, Apr 22, 2022, 11:52:46 - poikilotherm: Oh we do - graphviz is an example
Fri, Apr 22, 2022, 11:53:00 - poikilotherm: And Don Sizemore added a requirements.txt in 2021 :-D
Fri, Apr 22, 2022, 11:53:27 - pdurbin: But I only see Sphinx in doc/sphinx-guides/requirements.txt
Fri, Apr 22, 2022, 11:54:01 - poikilotherm: Yeah, looks like that's the only thing that has been added so far...
Fri, Apr 22, 2022, 11:54:12 - poikilotherm: It seems not to be hooked in any of the Makefiles
Fri, Apr 22, 2022, 11:54:42 - poikilotherm: Most likely he is using it with his sphinx-action
Fri, Apr 22, 2022, 11:56:46 - j-n-c (@jose_carvalho:matrix.org): Just noticed that when adding two or more authors to a dataset, authors 2...N do not have their affiliation field filled automatically
Fri, Apr 22, 2022, 11:56:51 - j-n-c (@jose_carvalho:matrix.org) sent an image. (Media omitted)
Fri, Apr 22, 2022, 11:57:06 - j-n-c (@jose_carvalho:matrix.org): is this the expected behaviour?
Fri, Apr 22, 2022, 11:57:31 - pdurbin: j-n-c: yes, expected
Fri, Apr 22, 2022, 11:59:31 - pdurbin: poikilotherm: will we need to adjust https://github.com/IQSS/dataverse/blob/v5.10.1/.github/workflows/guides_build_sphinx.yml ?
Fri, Apr 22, 2022, 11:59:43 - pdurbin: ... if we add a Sphinx module dependency?
Fri, Apr 22, 2022, 11:59:48 - poikilotherm: I'm not sure. Will need to test.
Fri, Apr 22, 2022, 11:59:58 - poikilotherm: Or look at the action
Fri, Apr 22, 2022, 12:00:03 - poikilotherm: (It's on Github anyway)
Fri, Apr 22, 2022, 12:00:40 - poikilotherm: At least the workflow should contain the requirements.txt for pull requests - changes in there should trigger a build
Fri, Apr 22, 2022, 12:00:50 - poikilotherm: Also the conf.py should be added
Fri, Apr 22, 2022, 12:02:46 - poikilotherm: pdurbin: it was you who hide away the headerlink :-D 
Fri, Apr 22, 2022, 12:02:47 - poikilotherm sent an image. (Media omitted)
Fri, Apr 22, 2022, 12:03:03 - pdurbin: d'oh!
Fri, Apr 22, 2022, 12:03:38 - poikilotherm: We lived without 'em for a long time :-D
Fri, Apr 22, 2022, 12:13:22 - poikilotherm: pdurbin: https://github.com/IQSS/dataverse/issues/8642
Fri, Apr 22, 2022, 13:18:05 - pdurbin: poikilotherm: nice write up! Thanks! I too am always copying links to certain parts of the page.
Fri, Apr 22, 2022, 16:51:52 - pdurbin: Heading out soon. Have a good weekend! Lovely weather in Boston!
Fri, Apr 22, 2022, 17:13:13 - carlsonp: enjoy, I started the process of getting my code approved for public release, hopefully a PR next week, I'll need help from ya'll on a couple pieces
Sat, Apr 23, 2022, 03:59:44 - poikilotherm: pdurbin Don Sizemore: does this look helpful? https://docs.readthedocs.io/en/stable/pull-requests.html
Mon, Apr 25, 2022, 08:10:19 - poikilotherm: pdurbin: has it ever been considered to move the guides away from the bootstrap theme towards sth like material? I find it quite enlightning to have TOCs that scroll with me, especially as we have such large pages... Demo: https://bashtage.github.io/sphinx-material/
Mon, Apr 25, 2022, 08:11:29 - poikilotherm: (Using it at my K8s docs BTW http://k8s-docs.gdcc.io/en/v4.20/day1/config.html)
Mon, Apr 25, 2022, 08:45:28 - Alexandre Abreu joined the room
Mon, Apr 25, 2022, 08:47:00 - Alexandre Abreu: Hi, good morning :) 
In order to active my harversting server, I set enabled in the dashboard -> Harvesting Server -
Mon, Apr 25, 2022, 08:47:11 - Alexandre Abreu: do i need to do anything else ?
Mon, Apr 25, 2022, 09:13:56 - Don Sizemore: you may want to define harvesting sets (could be "all" or you may specify collections, etc)
Mon, Apr 25, 2022, 09:14:53 - Don Sizemore: <@oliver:bertuch.name "pdurbin Don Sizemore: does this ..."> I thought we already did this? (at minimum the PR build, if not an available preview)
Mon, Apr 25, 2022, 09:32:26 - pdurbin: poikilotherm: we seem to like Bootstrap. I haven't heard much talk of moving away from it.
Mon, Apr 25, 2022, 09:33:55 - pdurbin: Alexandre Abreu: I agree with Don. Apart from creating sets, which is optional, you should be done.
Mon, Apr 25, 2022, 09:38:55 - pdurbin: poikilotherm: yes an HTML preview would be nice ( Don Sizemore yes, knowing the docs build is already incredibly useful). I put some thoughts on this at https://github.com/opendp/docs.smartnoise.org/issues/24 . If you'd like to create an issue on the Dataverse side, please go ahead. Right now I have to preview doc changes manually and locally.
Mon, Apr 25, 2022, 09:54:30 - poikilotherm: <@donsizemore:matrix.org "I thought we already did this? (..."> Have we? Can I find a link from the PR guide workflow?
Mon, Apr 25, 2022, 09:55:37 - pdurbin: poikilotherm: this is what Don Sizemore set up for us: https://github.com/IQSS/dataverse/blob/develop/.github/workflows/guides_build_sphinx.yml
Mon, Apr 25, 2022, 10:01:03 - pdurbin: It alerts us when `make html` doesn't work. Which is more often than you'd expect. üòÑ
Mon, Apr 25, 2022, 10:53:01 - poikilotherm: pdurbinDon Sizemore there is a new issue https://github.com/IQSS/dataverse/issues/8650
Mon, Apr 25, 2022, 10:53:58 - poikilotherm: pdurbin: yeah, I saw the build action, but I wasn't seeing any storage of the compiled docs somewhere so we have a preview to look at. Which is why I asked about the readthedocs.org enabled preview.
Mon, Apr 25, 2022, 11:32:34 - pdurbin: right, the compiled docs get thrown away right now, would be nice to preview them
Mon, Apr 25, 2022, 11:34:00 - poikilotherm: Well, https://github.com/IQSS/dataverse/pull/8651 enables that :-)
Mon, Apr 25, 2022, 11:34:17 - poikilotherm: Maybe you can approve this even before the next sprint? XD
Mon, Apr 25, 2022, 11:34:25 - poikilotherm: It's a very small change ;-)
Mon, Apr 25, 2022, 11:35:38 - pdurbin: Hmm, should we update https://guides.dataverse.org/en/5.10.1/developers/documentation.html#installing-sphinx too?
Mon, Apr 25, 2022, 11:35:38 - poikilotherm: PR 8561 has the docs for preview at https://dataverse-guide--8651.org.readthedocs.build/en/8651 üò∏
Mon, Apr 25, 2022, 11:36:15 - poikilotherm: Well someone writing the thing might be interested in still having a local solution
Mon, Apr 25, 2022, 11:36:37 - poikilotherm: But I can add a paragraph that for simple changes like a typo etc this can be viewed from the PR
Mon, Apr 25, 2022, 11:36:49 - poikilotherm: And I could add a word about sphinx-autobuild ;-)
Mon, Apr 25, 2022, 11:36:52 - pdurbin: Sorry, specifically I mean that "requirements.txt" should be mentioned and used.
Mon, Apr 25, 2022, 11:37:07 - poikilotherm: Oh
Mon, Apr 25, 2022, 11:37:17 - pdurbin: If it's too much, we can wait.
Mon, Apr 25, 2022, 11:37:16 - poikilotherm: OK why not
Mon, Apr 25, 2022, 11:37:25 - pdurbin: those directions are quite old
Mon, Apr 25, 2022, 11:37:22 - poikilotherm: Dunno
Mon, Apr 25, 2022, 11:37:34 - poikilotherm: Yes they are XD
Mon, Apr 25, 2022, 11:38:01 - pdurbin: I'm not in love with the "do this as root" idea. üòÑ
Mon, Apr 25, 2022, 11:38:06 - poikilotherm: Personally, I never use the Makefile. Always use sphinx-autobuild, giving me a webserver and livereload support
Mon, Apr 25, 2022, 11:38:41 - pdurbin: oh, interesting
Mon, Apr 25, 2022, 11:38:47 - pdurbin: I always do `make html`
Mon, Apr 25, 2022, 11:39:30 - poikilotherm: I hate reexecuting that :-D sphinx-autobuild watches for changes and recompiles. livereload means your browser refreshes itself after the fact
Mon, Apr 25, 2022, 11:39:32 - pdurbin: well (in the future) we should document whatever is easiest for people, how to setup sphinx
Mon, Apr 25, 2022, 11:40:26 - pdurbin: I'd say this PR is good as is. Want to add a link to the preview? Other than that, it'll go through the new "Next Sprint" process. They're meeting about this today at 2pm.
Mon, Apr 25, 2022, 11:41:06 - poikilotherm: Then I'll update my other PR to base on this one, so it might get merged in the same go
Mon, Apr 25, 2022, 11:41:14 - poikilotherm: (It's also rather small)
Mon, Apr 25, 2022, 11:43:15 - poikilotherm: <@pdurbin:matrix.org "I'd say this PR is good as is. W..."> Link has been added
Mon, Apr 25, 2022, 11:44:12 - pdurbin: "enjoy the preview", nice
Mon, Apr 25, 2022, 11:49:00 - poikilotherm: I updated https://github.com/IQSS/dataverse/pull/8647 to be based on 8650
Mon, Apr 25, 2022, 11:51:40 - pdurbin: Nice. And we can preview it at https://dataverse-guide--8647.org.readthedocs.build/en/8647/user/account.html for example. Can you please add a link to the PR?
Mon, Apr 25, 2022, 11:57:50 - pdurbin: If anyone thinks an issue or two should be prioritized for the next sprint, please let me know in the next 2 hours. üòÑ
Mon, Apr 25, 2022, 12:04:24 - poikilotherm: I bet that #8530 folks want a review üò¨üòáüôàüòéü•∞
Mon, Apr 25, 2022, 13:16:55 - pdurbin: Those anchors are so nice. Looking forward to when this is merged.
Mon, Apr 25, 2022, 14:10:52 - pdurbin: Don Sizemore: can I show you a SAML problem that appears on demo, Harvard prod, and UNC prod?
Mon, Apr 25, 2022, 14:11:39 - Don Sizemore: uh oh. yes
Mon, Apr 25, 2022, 14:12:41 - pdurbin: Please go to https://demo.dataverse.org and log in with shib, typing or selecting "CSTCloud ID". (Click "Continue".)
Mon, Apr 25, 2022, 14:13:52 - pdurbin: BOOM! Right?
Mon, Apr 25, 2022, 14:13:59 - Don Sizemore: yuh huh
Mon, Apr 25, 2022, 14:14:01 - pdurbin: opensaml::FatalProfileException
Mon, Apr 25, 2022, 14:14:07 - Don Sizemore: what's a CST Cloud ID?
Mon, Apr 25, 2022, 14:14:27 - pdurbin: Let's look at https://demo.dataverse.org/Shibboleth.sso/DiscoFeed
Mon, Apr 25, 2022, 14:15:26 - pdurbin: The logo comes from https://aai.cstcloud.net/service/static/20210928134507.png
Mon, Apr 25, 2022, 14:16:35 - pdurbin: https://www.cstcloud.net/cstcloud.htm says " China Science and Technology Cloud (CSTCloud) is a national platform to provide scientists with efficient and integrated cloud solutions..."
Mon, Apr 25, 2022, 14:17:54 - pdurbin: It would be nice to get this working but I'm wondering... do we have a way of hiding non-working IdPs from the list?
Mon, Apr 25, 2022, 14:23:50 - Alexandre Abreu: <@pdurbin:matrix.org "Alexandre Abreu: I agree with Do..."> Thank you guys. However after doing that it still doesn't work...
I set enabled in development dataverse, and then I tried to harvest from prototype dataverse... 
when I put https://dataverse-dev.myOrg.br/oai the error message comes " Invalid URL. Failed to establish connection and receive a valid server response." 
Mon, Apr 25, 2022, 14:24:18 - Alexandre Abreu sent an image. (Media omitted)
Mon, Apr 25, 2022, 14:24:30 - Alexandre Abreu: in the development dataverse
Mon, Apr 25, 2022, 14:25:02 - pdurbin: Hmm. Maybe you have to restart Payara? Have you tried that?
Mon, Apr 25, 2022, 14:25:25 - Alexandre Abreu: <@pdurbin:matrix.org "Hmm. Maybe you have to restart P..."> Not yet... let me do this :) 
Mon, Apr 25, 2022, 14:26:07 - pdurbin: Great. You can also try verbs like this: https://demo.dataverse.org/oai?verb=Identify
Mon, Apr 25, 2022, 14:30:53 - Alexandre Abreu: I restarted payara, but the problem persists...
I tried verbs too, the response follows below
Mon, Apr 25, 2022, 14:31:55 - Alexandre Abreu sent an image. (Media omitted)
Mon, Apr 25, 2022, 14:32:31 - Alexandre Abreu: ps: i tried :443/oai too
Mon, Apr 25, 2022, 14:32:37 - pdurbin: Oh! It looks like that Identify verb works! I'm confused. What's the problem. üòÑ
Mon, Apr 25, 2022, 14:33:25 - pdurbin: I guess you're saying you can't harvest from one Dataverse installation to another. Right?
Mon, Apr 25, 2022, 14:33:35 - Alexandre Abreu sent an image. (Media omitted)
Mon, Apr 25, 2022, 14:33:46 - Alexandre Abreu: <@pdurbin:matrix.org "I guess you're saying you can't ..."> the complete error message 
yes :)
Mon, Apr 25, 2022, 14:35:11 - Don Sizemore: @pdurbin we had that filter, which prevented IdPs which didn't share the R&S Attribute set from appearing(?) - it's been since 2016 so I'd have to go back digging
Mon, Apr 25, 2022, 14:36:25 - pdurbin: Don Sizemore: right. A filter. So if you wanted to filter out that IdP from UNC prod, it's possible perhaps.
Mon, Apr 25, 2022, 14:39:26 - pdurbin: Alexandre Abreu: is that dev server behind a firewall? I can't get to it. Also, I wonder if having a port in the URL is an issue. Not sure.
Mon, Apr 25, 2022, 14:40:16 - Alexandre Abreu: <@pdurbin:matrix.org "Alexandre Abreu: is that dev ser..."> yes..there is a firewall 
Mon, Apr 25, 2022, 14:40:42 - pdurbin: Is the firewall also between your dev server and your prod server? üòÑ
Mon, Apr 25, 2022, 14:41:46 - Alexandre Abreu: I guess so... ü§î
Mon, Apr 25, 2022, 14:42:08 - Don Sizemore: pdurbin: I DM-ed you in Slack, mostly because the formatting is cleaner.
Mon, Apr 25, 2022, 14:42:33 - pdurbin: Don Sizemore: thanks!
Mon, Apr 25, 2022, 14:45:53 - Alexandre Abreu: pdurbin:is there any port I should open in server in order to make OAI works ?
Mon, Apr 25, 2022, 14:46:09 - pdurbin: Alexandre Abreu: 443 should be enough
Mon, Apr 25, 2022, 14:46:50 - Alexandre Abreu: I can harvest data from harvard dataverse, but it looks like nobody can harvest from my dataverse...
Mon, Apr 25, 2022, 14:47:15 - pdurbin: Can't harvest from your production installation?
Mon, Apr 25, 2022, 14:47:19 - Alexandre Abreu sent an image. (Media omitted)
Mon, Apr 25, 2022, 14:47:36 - Alexandre Abreu: <@pdurbin:matrix.org "Can't harvest from your producti..."> I can' t =/
Mon, Apr 25, 2022, 14:49:53 - pdurbin: Huh. Neither can I. Weird.
Mon, Apr 25, 2022, 14:50:03 - pdurbin: Anything in server.log?
Mon, Apr 25, 2022, 14:50:33 - pdurbin: You seem to be running a recent version. 5.10.
Mon, Apr 25, 2022, 14:53:26 - Alexandre Abreu: <@pdurbin:matrix.org "You seem to be running a recent ..."> thats correct.
BTW, there is nothing weird in server.log
Mon, Apr 25, 2022, 14:58:03 - pdurbin: Here's where the error is coming from: https://github.com/IQSS/dataverse/blob/v5.10.1/src/main/java/edu/harvard/iq/dataverse/HarvestingClientsPage.java#L629
Mon, Apr 25, 2022, 15:00:06 - pdurbin: No sets at oai?verb=ListSets
Mon, Apr 25, 2022, 15:00:26 - pdurbin: Alexandre Abreu: can you please do me a favor? Can you please create one set and try this again?
Mon, Apr 25, 2022, 15:01:11 - Alexandre Abreu: <@pdurbin:matrix.org "Alexandre Abreu: can you please ..."> sure, I'll do this right now
Mon, Apr 25, 2022, 15:04:59 - Alexandre Abreu sent an image. (Media omitted)
Mon, Apr 25, 2022, 15:05:17 - Alexandre Abreu: the set is like this, right ?
Mon, Apr 25, 2022, 15:05:29 - pdurbin: Yep. Looks great.
Mon, Apr 25, 2022, 15:05:50 - Alexandre Abreu: i can't harvest this yet :/
Mon, Apr 25, 2022, 15:06:49 - pdurbin: Ok. I'm probably reading the code wrong. Sorry.
Mon, Apr 25, 2022, 15:07:09 - pdurbin: The next thing I'd do is add some debugging lines to the Java code. Are you comfortable doing that?
Mon, Apr 25, 2022, 15:07:20 - Alexandre Abreu: no problem ;)
Mon, Apr 25, 2022, 15:08:01 - Alexandre Abreu: <@pdurbin:matrix.org "The next thing I'd do is add som..."> sure :)
Mon, Apr 25, 2022, 15:08:39 - Alexandre Abreu: will we do this in the origin or in the destination dataverse ?
Mon, Apr 25, 2022, 15:09:14 - pdurbin: The client.
Mon, Apr 25, 2022, 15:09:57 - pdurbin: So I'm thinking you'll use your dev server as a client and try to harvest from your prod server. So you'd add debugging lines to HarvestingClientsPage.java in the client. Does that make sense?
Mon, Apr 25, 2022, 15:10:37 - Alexandre Abreu: <@pdurbin:matrix.org "So I'm thinking you'll use your ..."> yes
Mon, Apr 25, 2022, 15:11:17 - pdurbin: You can just add lines like logger.info("got here: 1"); ... try to figure out where that validateServerUrlOAI method is returning.
Mon, Apr 25, 2022, 15:15:02 - Alexandre Abreu: ok..
btw again about server.log... I looked in wrong place, my fault (many servers opened :S )
In the server.log (client) when I try harversting, I get this:  metadataformats: failed;Failed to execute listmetadataformats; No valid response received from the OAI server.]
Mon, Apr 25, 2022, 15:15:39 - Alexandre Abreu: if I try the harvard it goes well:   5 metadata formats total.]]
 
Mon, Apr 25, 2022, 15:16:09 - Alexandre Abreu: does this metadataformts thing give some direction to us ?
Mon, Apr 25, 2022, 15:20:04 - pdurbin: sort of. so runListMetadataFormats is failing... hmm
Mon, Apr 25, 2022, 15:21:19 - pdurbin: Your prod looks just like https://demo.dataverse.org/oai?verb=ListMetadataFormats to me
Mon, Apr 25, 2022, 15:22:55 - Alexandre Abreu: I look in ListMetadataFormats and I saw datacite... however we are using handle... can it be the problem ?
Mon, Apr 25, 2022, 15:23:28 - pdurbin: Hmm. I don't think so.
Mon, Apr 25, 2022, 15:24:04 - pdurbin: It's just a supported format. (DataCite)
Mon, Apr 25, 2022, 15:24:29 - pdurbin: You could change this line:
Mon, Apr 25, 2022, 15:24:30 - pdurbin: throw new OaiHandlerException("No valid response received from the OAI server.");
Mon, Apr 25, 2022, 15:24:44 - pdurbin: to print out the exception
Mon, Apr 25, 2022, 15:24:53 - pdurbin: throw new OaiHandlerException("No valid response received from the OAI server: " + ior);
Mon, Apr 25, 2022, 15:24:58 - pdurbin: like that
Mon, Apr 25, 2022, 15:30:55 - Alexandre Abreu: ok... I'm looking for HarvestingClientsPage.java... where is it located? find -name didn't find it
Mon, Apr 25, 2022, 15:31:33 - pdurbin: https://github.com/IQSS/dataverse/blob/v5.10.1/src/main/java/edu/harvard/iq/dataverse/HarvestingClientsPage.java
Mon, Apr 25, 2022, 15:41:11 - Alexandre Abreu sent an image. (Media omitted)
Mon, Apr 25, 2022, 15:41:12 - Alexandre Abreu: Should I do this here ? 
Mon, Apr 25, 2022, 15:42:39 - pdurbin: No, sorry, here: https://github.com/IQSS/dataverse/blob/v5.10.1/src/main/java/edu/harvard/iq/dataverse/harvest/client/oai/OaiHandler.java#L157
Mon, Apr 25, 2022, 15:44:45 - Alexandre Abreu: no problem ;)
I guess I have to restart payara after doing that..
Mon, Apr 25, 2022, 15:45:03 - pdurbin: Actually, here, I went ahead and started printing the exception on my laptop:
Mon, Apr 25, 2022, 15:45:04 - pdurbin: metadataformats: failed;Failed to execute listmetadataformats; No valid response received from the OAI server: com.lyncode.xoai.serviceprovider.exceptions.InvalidOAIResponse: com.lyncode.xoai.serviceprovider.exceptions.HttpException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
Mon, Apr 25, 2022, 15:45:39 - pdurbin: So maybe a problem with your cert?
Mon, Apr 25, 2022, 15:46:46 - Alexandre Abreu: ü§îü§î We are using a valid certificate...
Mon, Apr 25, 2022, 15:47:11 - pdurbin: I see what looks like the same or a similar error at https://github.com/IQSS/dataverse/issues/4320#issuecomment-356115196
Mon, Apr 25, 2022, 15:49:27 - pdurbin: Check this out too, please: https://groups.google.com/g/dataverse-community/c/yKRMcHeUZ_M/m/LrR7Zy87AQAJ
Mon, Apr 25, 2022, 15:49:42 - pdurbin: Is your cert in Payara or Apache?
Mon, Apr 25, 2022, 15:49:55 - Alexandre Abreu: It is in Apache
Mon, Apr 25, 2022, 15:50:47 - pdurbin: ok
Mon, Apr 25, 2022, 15:51:29 - Alexandre Abreu: I have a meeting right now... do you mind we continue tomorrow ?
Mon, Apr 25, 2022, 15:51:40 - pdurbin: sure!
Mon, Apr 25, 2022, 15:52:11 - Alexandre Abreu: Thanks, Phill, so I come back tomorrow, Thank  you for the support
Mon, Apr 25, 2022, 15:52:47 - pdurbin: any time
Tue, Apr 26, 2022, 10:07:20 - Alexandre Abreu: <@pdurbin:matrix.org "Check this out too, please: http..."> Good morning :) I'm checking this... In the first command there is a "Password". What is this Password ? 
Tue, Apr 26, 2022, 10:08:37 - pdurbin: Alexandre Abreu: oh. I think you can disregard that post because that person is putting certs in Payara/Glassfish. Yesterday you said you're putting certs in Apache instead. So I don't think it applies to you.
Tue, Apr 26, 2022, 10:09:04 - Alexandre Abreu: ooh ok
Tue, Apr 26, 2022, 10:09:07 - Alexandre Abreu: ;)
Tue, Apr 26, 2022, 10:09:55 - pdurbin: I still think theres's something weird or wrong with your cert, given the error we saw yesterday.
Tue, Apr 26, 2022, 10:10:34 - pdurbin: What version of Payara are you running?
Tue, Apr 26, 2022, 10:11:44 - Alexandre Abreu: Payara 5.2021.5
Tue, Apr 26, 2022, 10:13:06 - pdurbin: poikilotherm Don Sizemore do you know of any cert issues with that version of Payara? When I try to harvest from Alexandre Abreu 's server I get this error:

metadataformats: failed;Failed to execute listmetadataformats; No valid response received from the OAI server: com.lyncode.xoai.serviceprovider.exceptions.InvalidOAIResponse: com.lyncode.xoai.serviceprovider.exceptions.HttpException: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target
Tue, Apr 26, 2022, 10:17:35 - Don Sizemore: Alexandre Abreu: which SSLProtocols does your Dataverse proxy (apache/nginx) allow?
Tue, Apr 26, 2022, 10:20:21 - Alexandre Abreu: <@donsizemore:matrix.org "Alexandre Abreu: which SSLProtoc..."> SSLProtocol all -SSLv2 -SSLv3

Tue, Apr 26, 2022, 10:37:17 - pdurbin: Alexandre Abreu: this guy said upgrading Java helped: https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore/47952835#47952835
Tue, Apr 26, 2022, 10:59:03 - Alexandre Abreu sent an image. (Media omitted)
Tue, Apr 26, 2022, 10:59:03 - Alexandre Abreu: I ran the update.. this is the version I have

Tue, Apr 26, 2022, 10:59:49 - pdurbin: Cool. Please restart Payara and confirm that you can see that version in server.log
Tue, Apr 26, 2022, 11:09:15 - Alexandre Abreu: Payara 5.2021.5
Tue, Apr 26, 2022, 11:09:42 - pdurbin: Oh, I meant the Java version :)
Tue, Apr 26, 2022, 11:11:58 - pdurbin: Oh. Maybe it doesn't show? I can't find it in my server.log. Hmm.
Tue, Apr 26, 2022, 11:13:14 - pdurbin: Anyway, can you harvest now? Did the Java upgrade help?
Tue, Apr 26, 2022, 11:14:41 - Alexandre Abreu: Yeah.. I was searching it but I didn't see it too...
Tue, Apr 26, 2022, 11:15:27 - Alexandre Abreu: <@pdurbin:matrix.org "Anyway, can you harvest now? Did..."> unfortunatelly no :(
Tue, Apr 26, 2022, 11:15:37 - pdurbin: bah
Tue, Apr 26, 2022, 11:16:17 - pdurbin: I'll tell you what. We're in the process of prioritizing issues related to harvesting. Can you please create an issue at https://github.com/IQSS/dataverse/issues ?
Tue, Apr 26, 2022, 11:16:41 - poikilotherm: Please always make sure that your Java installation hasn't any underlying problems. There are simple tools like https://github.com/ChristopherSchultz/ssltest around that you can use to make sure that your Java installation isn't causing problems.
Tue, Apr 26, 2022, 11:16:51 - Alexandre Abreu: sure, I will do this  ;)
Tue, Apr 26, 2022, 11:17:09 - poikilotherm: Please also make sure that you verify in case of multiple Java versions installed, which one Payara is using
Tue, Apr 26, 2022, 11:17:51 - pdurbin: poikilotherm: how can we tell? I don't see anything in server.log
Tue, Apr 26, 2022, 11:18:32 - Alexandre Abreu: <@oliver:bertuch.name "Please also make sure that you v..."> I guess that there is no other java in the server.. The server was empty when I did the installation, following the installation guide
Tue, Apr 26, 2022, 11:18:36 - poikilotherm: IIRC you should see the full path to java when looking at `ps` output
Tue, Apr 26, 2022, 11:18:57 - pdurbin: Ah, ok. Thanks.
Tue, Apr 26, 2022, 11:19:32 - poikilotherm: You can also use `readlink -f /proc/<pid>/exe` to find the real path
Tue, Apr 26, 2022, 11:19:50 - poikilotherm: (<pid> found via e. g. `ps aux`)
Tue, Apr 26, 2022, 11:20:08 - pdurbin: I my `ps -efww` output I see this: `/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -cp /usr/local/payara5/glassfish/modules/glassfish.jar`
Tue, Apr 26, 2022, 11:20:21 - poikilotherm: pdurbin: beware that `readlink  -f` will not work on Mac
Tue, Apr 26, 2022, 11:20:30 - pdurbin: Alexandre Abreu: so you should try that
Tue, Apr 26, 2022, 11:20:53 - pdurbin: And then run the equivalent of `/Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java -version`
Tue, Apr 26, 2022, 11:21:15 - poikilotherm: <@pdurbin:matrix.org "And then run the equivalent of `..."> That's the spirit :-)
Tue, Apr 26, 2022, 11:23:46 - poikilotherm: Alexandre Abreu: please also double check your Apache SSL config is correct from a remote end. You could use sth likehttps://github.com/mozilla/cipherscan to find out if your SSL config works as expected
Tue, Apr 26, 2022, 11:27:03 - Alexandre Abreu: <@pdurbin:matrix.org "And then run the equivalent of `..."> the version looks fine
Tue, Apr 26, 2022, 11:27:07 - Alexandre Abreu sent an image. (Media omitted)
Tue, Apr 26, 2022, 11:27:16 - Alexandre Abreu: <@oliver:bertuch.name "Alexandre Abreu: please also dou..."> sure, I will do this
Tue, Apr 26, 2022, 11:27:25 - poikilotherm: BTW this is NOT what you should be doing these days. Please consult https://ssl-config.mozilla.org/ to generate a config. I'd go for **modern** level. No one should use sth. older than TLS 1.3 these days (despite you know what you're doing). (TLS 1.3 supported since Java 8u261 and 11+)
Tue, Apr 26, 2022, 11:32:07 - poikilotherm: Something just came back to my head: JDK 11 had deactivated some TLS versions by default since 11.0.11
Tue, Apr 26, 2022, 11:32:08 - poikilotherm: https://www.itechsol.com/openjdk-disables-legacy-tls-versions/
Tue, Apr 26, 2022, 11:32:39 - poikilotherm: There should be negotiation of the ciphersuite, but depending on your server config, you might run into trouble here!
Tue, Apr 26, 2022, 11:33:06 - poikilotherm: (Like Apache wants TLS 1.0/1.1 from your Java client only supporting TLS 1.2+)
Tue, Apr 26, 2022, 11:39:44 - pdurbin: Alexandre Abreu: in addition to all of poikilotherm advice above, I'm wondering about this report that your cert chain is incomplete: https://www.ssllabs.com/ssltest/analyze.html?d=dataverse.fgv.br . Maybe fixing that will help?
Tue, Apr 26, 2022, 11:45:28 - pdurbin: Alexandre Abreu: also, here's a workaround suggested from Slack: "The way to fix it on your side would be to look at his cert, see what authority signed it and add a root cert for that authority to the cert cache your JDK is using." By "your side" we mean the (harvesting) client side.
Tue, Apr 26, 2022, 11:51:24 - pdurbin: Alexandre Abreu: more from Slack "But yes, it is possible that he may be missing the intermediate cert file from the apache config."
Tue, Apr 26, 2022, 11:51:58 - pdurbin: Which I believe is SSLCertificateChainFile in the Apache config.
Tue, Apr 26, 2022, 12:25:14 - beep: Hi!

I am experiencing with custom metadatablocks following the instructions found in 

https://guides.dataverse.org/en/latest/admin/metadatacustomization.html

My understanding is that the Solr schema is not updated automatically when a new metadatablock is loaded via a .tsv file. Am I correct about that? And is if so, is there a reason for this? It would be nice if /api/admin/datasetfield/load could update the Solr schema while loading the metadata values.

Tue, Apr 26, 2022, 12:39:03 - Alexandre Abreu: <@oliver:bertuch.name "Alexandre Abreu: please also dou..."> here is the result of ciphescan... The certificate is untrusted
Tue, Apr 26, 2022, 12:39:12 - Alexandre Abreu sent an image. (Media omitted)
Tue, Apr 26, 2022, 12:41:43 - poikilotherm: As pdurbin mentioned - most likely you Alexandre Abreu  forgot to either provide the cert as a fullchain flavored variant or add the SSLCertChain... within the Apache Config
Tue, Apr 26, 2022, 12:49:04 - Alexandre Abreu: <@oliver:bertuch.name "As pdurbin mentioned - most like..."> Would it have other evidences? I mean, is there any other thing in the server that I would receive an error message? 
Tue, Apr 26, 2022, 12:50:18 - poikilotherm: Not sure what you mean? Do you need another way of verifying this is the cause?
Tue, Apr 26, 2022, 12:52:15 - poikilotherm: Please note the comment and file path at https://ssl-config.mozilla.org/#server=apache&version=2.4.41&config=intermediate&openssl=1.1.1k&guideline=5.6:

```
# curl https://ssl-config.mozilla.org/ffdhe2048.txt >> /path/to/signed\_cert\_and\_intermediate\_certs\_and\_dhparams
SSLCertificateFile      /path/to/signed\_cert\_and\_intermediate\_certs\_and\_dhparams
```
Tue, Apr 26, 2022, 12:53:23 - poikilotherm: They are not only expecting you to use a fullchain cert file, but they also recommend adding the diffie hellmann parameters to the end of the file
Tue, Apr 26, 2022, 12:53:57 - poikilotherm: You can skip that and provide your own instead (and create them on your own) for extra security
Tue, Apr 26, 2022, 12:54:23 - poikilotherm: I recommend the docs... üôà https://httpd.apache.org/docs/current/mod/mod_ssl.html
Tue, Apr 26, 2022, 12:56:35 - poikilotherm: For an example you can also take a look at the a bit dated guide here: https://bettercrypto.org/#_settings
Tue, Apr 26, 2022, 12:56:49 - poikilotherm: They have the chain file setting commented out
Tue, Apr 26, 2022, 12:57:08 - poikilotherm: So if you don't like to provide the fullchain cert file, that's the way to go
Tue, Apr 26, 2022, 12:57:59 - poikilotherm: (You should ignore everything below "SSLCompression" and go with Mozillas COnfig generator instead for that - Applied Crypto wasn't updated since 2018. It's just a nice example of the config settings for mod_ssl in action)
Tue, Apr 26, 2022, 12:58:32 - Alexandre Abreu: <@oliver:bertuch.name "So if you don't like to provide ..."> right, let me check this, I 'll come back later after check this. Thank you for the support! 
Tue, Apr 26, 2022, 12:59:34 - poikilotherm: pdurbin: ü•≥üéâ SSL FUN ü•¥
Tue, Apr 26, 2022, 13:35:00 - pdurbin: Alexandre Abreu: good luck!
Tue, Apr 26, 2022, 13:36:04 - pdurbin: <@beeppeeb:matrix.org "Hi!"> beep: that's correct. You have to run a script. There's an issue to switch to using the Solr API but I don't think anyone is working on it right now: https://github.com/IQSS/dataverse/issues/5989
Tue, Apr 26, 2022, 13:37:57 - pdurbin: And poikilotherm is working on something related at https://github.com/IQSS/dataverse/pull/8320
Tue, Apr 26, 2022, 14:50:57 - poikilotherm: pdurbin: recent pushes to this PR today üôà
Tue, Apr 26, 2022, 14:52:35 - pdurbin: I almost said "20 minutes ago" when I wrote that. üòÑ
Tue, Apr 26, 2022, 15:13:19 - poikilotherm: ü§©
Wed, Apr 27, 2022, 00:39:15 - beep: Message deleted
Wed, Apr 27, 2022, 00:46:35 - beep: <@pdurbin:matrix.org "beep: that's correct. You have t..."> pdurbin: thank you very much!  Which script do you mean? I found update-fields.sh  but as far as I understand it only helps with generating a new schema.xml with the fields of the newly added mdb, it doesn't/cannot reload Solr with the updated schema. Or am I missing something?
Wed, Apr 27, 2022, 02:12:00 - poikilotherm: <@beeppeeb:matrix.org "pdurbin: thank you very much!  W..."> That's right - it will not reload Solr for you. You can either restart using the control script https://solr.apache.org/guide/8_11/solr-control-script-reference.html#starting-and-stopping or use curl/wget/httpie to reload the core https://solr.apache.org/guide/8_11/coreadmin-api.html#coreadmin-reload
Wed, Apr 27, 2022, 02:54:36 - beep: poikilotherm: So the actual steps are:
1. Regenerate schema.xml with fields added using update-fields.sh 
2. Move the new schema.xml to Solr's directory and restart Solr
3. Call Solr's RELOAD to actually reload the changes from schema.xml

Am I right about this?
Wed, Apr 27, 2022, 03:10:42 - poikilotherm: Message deleted
Wed, Apr 27, 2022, 03:12:12 - poikilotherm: Yes and no. You can 1. edit the schema in place and 2. there is no need to restart AND reload, just one of them is necessary. Reload means no downtime.
Wed, Apr 27, 2022, 04:10:08 - beep: OK, but can I just upload a new schema.xml to a running Solr and call reload?
Wed, Apr 27, 2022, 04:11:23 - beep: Oh, "in place", you mean the schema.xml under the running Solr instance?
Wed, Apr 27, 2022, 04:55:01 - beep: I am running Solr in docker (using the ghcr.io/gdcc/solr-k8s:5.9 image) so I was looking for a more service oriented approach to update the schema
Wed, Apr 27, 2022, 05:45:37 - poikilotherm: Oh nice you are using my experimental new images ‚úåÔ∏è
Wed, Apr 27, 2022, 05:46:56 - poikilotherm: I should put a word of warning on these: they are EXPERIMENTAL. Currently, I'm dealing with exactly your questions by creating a new script that allows to edit the config from different "angles"
Wed, Apr 27, 2022, 05:47:51 - poikilotherm: What you should do when running these: please create a volume where you store the core. That makes it stateful and you can edit the schema as you need it
Wed, Apr 27, 2022, 05:49:35 - poikilotherm: In the future, Dataverse-ready Solr images can be created from what I am doing in https://github.com/IQSS/dataverse/pull/8320
Wed, Apr 27, 2022, 08:56:08 - beep: I would like to have a dockerized dataverse installation at the end, so I really appreciate you work on these images! I also thought about putting the schema.xml in a mounted volume as temporary work around, thanks for the tip!

By the way: will the image versions at ghcr.io/gdcc follow the main dv versions? For now I could only found solr-k8s:5.9, although I am running it with with dv 5.10.1 (so far seems to be ok)
Wed, Apr 27, 2022, 08:57:28 - beep: <@oliver:bertuch.name "In the future, Dataverse-ready S..."> If there's something that can be tested here, I am happy to help!
Wed, Apr 27, 2022, 14:12:46 - poikilotherm: <@beeppeeb:matrix.org "If there's something that can be..."> Great! :-) Happy to hear that. Are you going to use containers for production and/or development?
Wed, Apr 27, 2022, 14:13:44 - poikilotherm: I'm the maintainer of http://k8s-docs.gdcc.io/en/v4.20, which is a bit dated, but I want to have GOOD images before updating things. This involves a lot of cleanup on the Dataverse side to make things more inline with containers
Wed, Apr 27, 2022, 14:14:06 - poikilotherm: <@beeppeeb:matrix.org "I would like to have a dockerize..."> Yes, the images will follow these releases
Wed, Apr 27, 2022, 14:14:23 - poikilotherm: My plan is to push all of this stuff upstream, so we don't have to maintain a fork
Wed, Apr 27, 2022, 14:15:09 - poikilotherm: For the images I am following the philosophy of "make it suitable for dev and production", as I believe in the mantra of making dev and prod aligned as much as possible
Wed, Apr 27, 2022, 14:15:25 - poikilotherm: Yet IQSS is not using containers :-D
Wed, Apr 27, 2022, 14:15:47 - poikilotherm: @carlsonp is also into containers :-)
Wed, Apr 27, 2022, 14:16:27 - poikilotherm: I can keep on going with more details beepif you want üôà
Wed, Apr 27, 2022, 15:50:16 - beep: For now I use containers for dev running postgres and solr in docker, and running dv in local Payara. I am not sure about production, but it would be great to have it running in docker/k8s.
Wed, Apr 27, 2022, 18:13:32 - poikilotherm: Great! Then using the containers via Maven might be just for you. üòá
Thu, Apr 28, 2022, 09:48:53 - pdurbin: So fun to hear all this container talk. üòÑ
Thu, Apr 28, 2022, 15:21:25 - poikilotherm: Phew. Finally sent DCM 2022 talk abstracts (2) towards organizing comitee
Thu, Apr 28, 2022, 15:22:11 - poikilotherm: Let's see how this goes pdurbin üò¨
Thu, Apr 28, 2022, 15:22:49 - beep: Is there a reason why containers are not loved that much by IQSS? Are there technical challenges making it work?
Thu, Apr 28, 2022, 15:24:22 - pdurbin: beep: we do sometimes use docker-aio for testing. As a developer tool. But I suppose you're asking more about running containers in production?
Thu, Apr 28, 2022, 15:24:46 - pdurbin: poikilotherm: nice! I didn't submit any talks. :/
Thu, Apr 28, 2022, 15:25:25 - pdurbin: We did try to get containers working in our CI but ended up using EC2 instances instead.
Thu, Apr 28, 2022, 15:27:54 - beep: <@pdurbin:matrix.org "beep: we do sometimes use docker..."> Both, actually. I can see how to work with the postgres and solr dependencies in dev now, but I feel there's some more to the story why a complete containerized solution for production has not yet been implemented. :-) Anyways, I am interested and would help testing it (don't know much about dv yet to offer my help implementing it)
Thu, Apr 28, 2022, 15:31:24 - pdurbin: If Dataverse had been started after Docker and Kubernetes were well established, perhaps Dataverse would be better containerized. But Dataverse goes back many, many years and we're a bit stuck in our ways.

I keep thinking it would be nice if some sort of demo server were running on Kubernetes. Right now our demo server is deployed in a similar way (EC2 instance on AWS) as production (Harvard Dataverse).
Thu, Apr 28, 2022, 17:24:12 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: nice! I didn't sub..."> Oh there plenty of room left for moderation, note taking and chairing ü§©
Thu, Apr 28, 2022, 15:32:13 - pdurbin: Would the community be interested in running a demo server running on Kubernetes? Does anyone out there have the resources to do this? Would that be helpful?
Thu, Apr 28, 2022, 17:25:12 - poikilotherm: <@beeppeeb:matrix.org "Both, actually. I can see how to..."> There has! K8s-docs.gdcc.io. also I have to admit, I'm still working on it 
Thu, Apr 28, 2022, 17:25:33 - poikilotherm: For production use, I want to create a Kubernetes Operator one day
Thu, Apr 28, 2022, 17:25:58 - poikilotherm: See https://github.com/gdcc/dvopa
Thu, Apr 28, 2022, 17:26:39 - poikilotherm: <@pdurbin:matrix.org "We did try to get containers wor..."> That's why I'm pushing you to Testcontainers üôà
Thu, Apr 28, 2022, 17:28:22 - poikilotherm: <@pdurbin:matrix.org "Would the community be intereste..."> From a user perspective, it does not make any difference
Thu, Apr 28, 2022, 17:28:43 - pdurbin: User being a site operator, I guess.
Thu, Apr 28, 2022, 17:29:04 - poikilotherm: I had the crazy idea of using a Juoyter Notebook once to spin up an interactive K8s cluster and deploying things to it
Thu, Apr 28, 2022, 17:29:21 - pdurbin: üòÑ
Thu, Apr 28, 2022, 17:29:26 - poikilotherm: To be a more techy demo
Thu, Apr 28, 2022, 17:30:25 - pdurbin: Nice. Time to bike home. Have a good one, all.
Thu, Apr 28, 2022, 17:31:08 - pacian: I would be very interested in running a demo server running on Kubernetes
Fri, Apr 29, 2022, 02:52:36 - beep: poikilotherm: I see that you have been experiencing with running dv using Payara Micro back in 2018. Is it feasible/worth trying to use it with dv 5.10? Or even: running dv using Payara Embedded? This is again for dev setup for now. I try find out how to make  the dev env as simple as possible and with as few host os dependencies as possible.
Fri, Apr 29, 2022, 03:48:04 - beep set a profile picture
Fri, Apr 29, 2022, 03:59:05 - poikilotherm: <@beeppeeb:matrix.org "poikilotherm: I see that you hav..."> Payara Micro *might* be possible when they support the "Full Profile" of Jakarta, as we need EJBs etc.
Embedded Payara is not very promising, there have been lots of problems with this in the past.
Fri, Apr 29, 2022, 03:59:37 - poikilotherm: I used Payara + Arquillian a few times, though. Can send you example projects
Fri, Apr 29, 2022, 04:00:33 - poikilotherm: In my humble opinion, it should be OK to tell people they need a container environment on their dev host
Fri, Apr 29, 2022, 04:00:44 - poikilotherm: (They can also use a remote machine)
Fri, Apr 29, 2022, 04:01:49 - poikilotherm: There are distributions like Minikube or Docker for Desktop that provide you with a full container environment with a few simple steps
Fri, Apr 29, 2022, 04:16:45 - beep: Sure, we can live with a full Payara and IDE-s already know how to deploy to the container. I was just curious if micro and embedded are anything worth considering. Thanks for the insight!
Fri, Apr 29, 2022, 04:17:45 - beep: If you can send me a sample of  Payara + Arquillian, I would appreciate that!
Fri, Apr 29, 2022, 08:04:25 - poikilotherm: https://github.com/poikilotherm/reproducer-payara-mpconfig-seturl
Fri, Apr 29, 2022, 09:07:55 - pdurbin: <@pacian:matrix.org "I would be very interested in ru..."> pacian: you're interesting in trying to host it? Great! What would we call it? Actually, for a long time I've wanted a server at beta.dataverse.org that has the lastest code in the develop branch. Maybe you could host that for the community. Or whatever, just an idea. üòÑ Would some of us here have access to the server? To look at logs or whatever.
Fri, Apr 29, 2022, 09:11:17 - analia-s: Hello everyone! I have a problem when I install dataverse with a user other than root:
Dataverse requires OpenJDK 1.8 or 11. Please make sure it's in your PATH, and try again.
The user has write permissions to:

/usr/local/payara5/glassfish/lib

/usr/local/payara5/glassfish/domains/domain1

the current working directory of the installer (it currently writes its logfile there)
but not sure if it has it for my jvm-option specified files.dir
Fri, Apr 29, 2022, 09:17:10 - pdurbin: analia-s: are you following the steps in the Installation Guide? (Rather than using a tool like dataverse-ansible.)
Fri, Apr 29, 2022, 09:23:00 - analia-s: yes, but I can't find how to give write permissions to jvm-option specified files.dir
Fri, Apr 29, 2022, 09:26:40 - pdurbin: Hmm. Are you saying that you're able to install Dataverse ok but that afterwards you can't upload files (due to permissions)? Or are you saying that the installation itself fails (and Dataverse isn't running at all)?
Fri, Apr 29, 2022, 09:32:41 - analia-s: <@pdurbin:matrix.org "Hmm. Are you saying that you're ..."> installation fails. when I run python3 install.py i get the following: 
This appears to be a non-RedHat Linux system;
this installation *may* succeed; but we're not making any promises!
Checking for required components...
dataverse.war available to deploy. Good.
Checking if jq is available...
jq-1.6
good!
Found java version openjdk version "17.0.3" 2022-04-19
OpenJDK Runtime Environment (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1)
OpenJDK 64-Bit Server VM (build 17.0.3+7-Ubuntu-0ubuntu0.20.04.1, mixed mode, sharing)

Dataverse requires OpenJDK 1.8 or 11. Please make sure it's in your PATH, and try again.

Fri, Apr 29, 2022, 09:34:11 - pdurbin: Ok. I know you're concerned about permissions and the file upload directory but that error is about the version of Java you're using. Should we fix that first? Dataverse doesn't support Java 17 yet. You need to use Java 11.
Fri, Apr 29, 2022, 09:40:47 - pdurbin: I like the personality of the installer, by the way. (And I can't take any credit for it.) "Good." "Good!"
Fri, Apr 29, 2022, 09:47:16 - poikilotherm: pdurbin: small question, but not meaning to interrupt here, can save for later. Are you aware of anyone / any installation using the possibility to define a metadata field for a block not defined within the same TSV file? I'm thinking about whether this a) is good practice at all and b) is really necessary...
Fri, Apr 29, 2022, 09:48:15 - poikilotherm: Message deleted
Fri, Apr 29, 2022, 09:48:31 - pdurbin: Have you seen the new beta feature of Element/Matrix that supports threads?
Fri, Apr 29, 2022, 09:48:40 - pdurbin: Seems to work.
Fri, Apr 29, 2022, 09:49:16 - poikilotherm: Just joined the beta :-D
Fri, Apr 29, 2022, 09:49:26 - pdurbin: Hmm, flat at https://view.matrix.org/alias/%23dataverse:matrix.org though.
Fri, Apr 29, 2022, 09:49:35 - poikilotherm: (As far as I scanned through our out of the box ones, this hasn't been used)
Fri, Apr 29, 2022, 09:49:43 - pdurbin: What do you think? Might be hard to follow in that "view" log if we use threads.
Fri, Apr 29, 2022, 09:49:54 - pdurbin: With many threads going at once, I mean.
Fri, Apr 29, 2022, 09:50:24 - poikilotherm: Well as long as we do not plan to have undying threads, it should be safe, shouldn't it?
Fri, Apr 29, 2022, 09:50:31 - pdurbin: I wonder if it's possible for us to disable threads in this channel, until the "view" logs catch up.
Fri, Apr 29, 2022, 09:50:49 - poikilotherm: It's still linear in time. Someone not having joined the beta sees it as a linear history in the client, too
Fri, Apr 29, 2022, 09:51:31 - pdurbin: Should we open an issue about thread support at https://github.com/matrix-org/matrix-static ? What do we want, if anything?
Fri, Apr 29, 2022, 09:52:30 - poikilotherm: Well as the majority of people are unlikely to join the beta, so maybe we should just skip using them for now?
Fri, Apr 29, 2022, 09:53:11 - pdurbin: Yeah, let's skip for now. And maybe see if we can disable them. And maybe open an issue (but think about what we want first üòÑ).
Fri, Apr 29, 2022, 09:54:36 - poikilotherm: I just left the beta. And yes, the support request is scrolling away from us.
Fri, Apr 29, 2022, 09:55:18 - pdurbin: poikilotherm: I'm ok with you interrupting until analia-s is back. üòÑ I'm not sure I understand the question though. üòû Does what you're talking about actually work? A field not in the same TSV? Sounds weird. Avoid. üòÑ
Fri, Apr 29, 2022, 09:55:36 - poikilotherm: Sorry analia-s for interrupting - please keep on going!
Fri, Apr 29, 2022, 09:56:12 - poikilotherm sent an image. (Media omitted)
Fri, Apr 29, 2022, 09:56:26 - poikilotherm: IMHO this should not be OK :-D
Fri, Apr 29, 2022, 09:56:35 - poikilotherm: But there might have been a use case
Fri, Apr 29, 2022, 09:57:21 - poikilotherm: As long as I can remember, we always tell people to create their own blocks or fork if they need to change an upstream one
Fri, Apr 29, 2022, 09:57:23 - pdurbin: Who wrote this "technically possible" stuff. /me runs `git blame`
Fri, Apr 29, 2022, 10:00:13 - poikilotherm: Let me guess. It was you. ü§£üôà
Fri, Apr 29, 2022, 10:01:03 - pdurbin: I didn't actually run `git blame`. Not sure who is guilty. We should probably remove that. Putting ideas from the devil in people.
Fri, Apr 29, 2022, 10:02:06 - poikilotherm: Ha it was "Murphy" :-D
Fri, Apr 29, 2022, 10:02:19 - poikilotherm: I know this is a real persons name at IQSS
Fri, Apr 29, 2022, 10:02:28 - poikilotherm: But it's still VERY funny in this context
Fri, Apr 29, 2022, 10:02:38 - poikilotherm: Sorry üôà
Fri, Apr 29, 2022, 10:06:43 - pdurbin: Ah. Murphy. Ok. I wonder if he tried it himself.
Fri, Apr 29, 2022, 10:06:57 - poikilotherm: OK this goes back to https://github.com/IQSS/dataverse/issues/3168. The whole page has been created in 2018
Fri, Apr 29, 2022, 10:07:01 - pdurbin: poikilotherm: I decided an issue here about threads is good for now: https://github.com/IQSS/chat.dataverse.org/issues/16
Fri, Apr 29, 2022, 10:07:17 - poikilotherm: There is no context left if this has been moved from some place into this new file
Fri, Apr 29, 2022, 10:07:32 - pdurbin: Oh yes, the "take ownership of docs for these blocks" issue. üòÑ
Fri, Apr 29, 2022, 10:07:32 - poikilotherm: (At least not in the git commit)
Fri, Apr 29, 2022, 10:08:35 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: I decided an issue..."> Oh no it's on me to decide? üôà
Fri, Apr 29, 2022, 10:09:12 - pdurbin: No, no. I'm just trying to capture a couple thoughts about Matrix/Element threads.
Fri, Apr 29, 2022, 10:10:29 - poikilotherm: Hey analia-s take it away! :-)
Fri, Apr 29, 2022, 10:22:02 - poikilotherm: OK pdurbin so you'd agree this is sth to avoid. Great. I'll write the parser that way (and the PR will have doc changes accordingly - there are also some other things that are missing to be a good spec)
Fri, Apr 29, 2022, 10:26:45 - pdurbin: I didn't even know it was possible. So yes, I'd avoid it.
Fri, Apr 29, 2022, 10:46:54 - pdurbin: poikilotherm: hmm, we could even enable https://github.com/IQSS/chat.dataverse.org/discussions if you want.
Fri, Apr 29, 2022, 10:47:15 - poikilotherm: Issues are fine with me
Fri, Apr 29, 2022, 10:47:42 - pdurbin: Me too. I just know you like the new and shiny. üòÑ
Fri, Apr 29, 2022, 10:47:44 - poikilotherm: I sometimes wonder if stuff at the main repo might be better stored at discussions instead of issues
Fri, Apr 29, 2022, 10:48:01 - poikilotherm: It's soooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooooo many issues
Fri, Apr 29, 2022, 10:48:05 - pdurbin: Lots of open issues in the main repo.
Fri, Apr 29, 2022, 10:48:06 - poikilotherm: I keep loosing track
Fri, Apr 29, 2022, 10:48:11 - analia-s: Thanks for the help! I was able to install dataverse
Fri, Apr 29, 2022, 10:48:16 - pdurbin: Which is a sign of health in some ways.
Fri, Apr 29, 2022, 10:48:26 - pdurbin: analia-s: fantastic!
Fri, Apr 29, 2022, 10:52:09 - pdurbin: poikilotherm: how about this. 5,184 closed issues is a sign of health. üòÑ
Fri, Apr 29, 2022, 10:52:31 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: how about this. 5,..."> YESSSSS! üòç
Fri, Apr 29, 2022, 10:53:54 - pdurbin: Maybe that should be my talk at the community meeting. An hour of going through old issues. üòÑ
Fri, Apr 29, 2022, 10:54:08 - pdurbin: by myself, probably
Fri, Apr 29, 2022, 10:55:33 - pdurbin: poikilotherm: you're probably starting your weekend soon. Do you want to talk about https://github.com/IQSS/dataverse/issues/8372 ? Or maybe next week? It's at the top of "This Sprint"!
Fri, Apr 29, 2022, 10:59:47 - poikilotherm: Sure. What do you want to know?
Fri, Apr 29, 2022, 11:01:32 - pdurbin: The plan is to get the gdcc/xoai from Maven Central?
Fri, Apr 29, 2022, 11:01:50 - poikilotherm: Yes
Fri, Apr 29, 2022, 11:02:10 - pdurbin: Can we push a beta there? I can try if you show me.
Fri, Apr 29, 2022, 11:02:11 - poikilotherm: As it's pretty easy to deploy to Maven Central, I think this should be the way to go
Fri, Apr 29, 2022, 11:02:31 - poikilotherm: Nope, because the refactoring isn't done.
Fri, Apr 29, 2022, 11:03:04 - pdurbin: Ok, so refactoring first. And I can help with this?
Fri, Apr 29, 2022, 11:03:21 - poikilotherm: The modules data-provider and service-provider need to be Jakartified
Fri, Apr 29, 2022, 11:03:39 - poikilotherm: I already moved the stuff of the old XML libraries
Fri, Apr 29, 2022, 11:03:51 - poikilotherm: So we don't have these old deps anymore
Fri, Apr 29, 2022, 11:04:10 - poikilotherm: (Incorporated/shaded them - they aren't maintained anyway)
Fri, Apr 29, 2022, 11:05:19 - poikilotherm: Refactoring so far happens in https://github.com/gdcc/xoai/tree/branch-5.0
Fri, Apr 29, 2022, 11:05:21 - pdurbin: Wait. Is this all dependent on the upgrade to Payara 6 and Jakarta EE 9?
Fri, Apr 29, 2022, 11:05:57 - poikilotherm: That's half way correct
Fri, Apr 29, 2022, 11:06:03 - pdurbin: üòÑ
Fri, Apr 29, 2022, 11:06:33 - poikilotherm: The Jakarta EE 9 move was the motivation to create a branch with these breaking changes, so we avoid any inconsistencies
Fri, Apr 29, 2022, 11:06:42 - poikilotherm: The other one was the move to Java 17
Fri, Apr 29, 2022, 11:06:51 - poikilotherm: So we don't need to rely on Java 6 compiled JARs
Fri, Apr 29, 2022, 11:07:16 - pdurbin: Will it run on Java 11 ok?
Fri, Apr 29, 2022, 11:08:32 - poikilotherm: The refactored lib? Yes of course  - it's 11 for now to be compatible
Fri, Apr 29, 2022, 11:09:02 - poikilotherm: (So it will not work with 8)
Fri, Apr 29, 2022, 11:09:31 - pdurbin: Ok. Good. But it sounds like this should not be at the top of "This Sprint". It should be in a future sprint *after* the Payara 6/EE9 upgrade. Is that right?
Fri, Apr 29, 2022, 11:10:00 - poikilotherm: Well I think it should happen in parallel
Fri, Apr 29, 2022, 11:10:28 - poikilotherm: There are tests in place
Fri, Apr 29, 2022, 11:10:40 - pdurbin: Sure but please look at it from the sprint planning perspective.
Fri, Apr 29, 2022, 11:10:48 - poikilotherm: So this is mostly about getting rid of old Java EE and refactor ye olde deps
Fri, Apr 29, 2022, 11:11:20 - poikilotherm: (Move to Junit5, use JVM native http client instead of apache, get rid of whatever isn't necessary)
Fri, Apr 29, 2022, 11:11:34 - poikilotherm: (And especially remove the log4j dep!!!!)
Fri, Apr 29, 2022, 11:11:51 - poikilotherm: The incorporation of changes from other forks are optional IMHO
Fri, Apr 29, 2022, 11:12:30 - poikilotherm: If you want, we can try to schedule a pair programming session for next week
Fri, Apr 29, 2022, 11:13:50 - pdurbin: That sounds fun but we should probably take this to #dv-tech (at your convenience) to figure out if this work should be done in parallel or not.
Fri, Apr 29, 2022, 11:14:12 - pdurbin: It sounds like I'd be upgrading my dev environment to Payara 6 as part this. Is that right?
Fri, Apr 29, 2022, 11:15:24 - poikilotherm: The XOAI lib has lot's of unit tests
Fri, Apr 29, 2022, 11:16:03 - poikilotherm: But if we want to do integration tests, I think we should do this with Payara 6, yes
Fri, Apr 29, 2022, 11:16:06 - poikilotherm: I anticipate about 2 workdays for the rest of this refactoring. I am willing to spend dev time.
Fri, Apr 29, 2022, 11:18:25 - pdurbin: Maybe I'll pick it up (the issue) to at least familiarize myself with the library. Look at the unit tests, etc. Not upgrade to Payara 6 yet. Come back to you with more intelligent questions. Decide who does the refactoring. How does that sound?
Fri, Apr 29, 2022, 11:19:35 - poikilotherm: Sounds like a plan :-)
Fri, Apr 29, 2022, 11:20:04 - poikilotherm: As soon as the lib is ready, it's ready to be included in the larger move of the main codebase
Fri, Apr 29, 2022, 11:20:27 - poikilotherm: So I think it should be fine to sit and wait prepared for larger action taking place
Fri, Apr 29, 2022, 11:20:39 - pdurbin: Done. I assigned you too. üòÑ Hey, do we have stuff I've dreamed about like gofmt for Java in here?
Fri, Apr 29, 2022, 11:21:36 - poikilotherm: Hihihi
Fri, Apr 29, 2022, 11:21:56 - pdurbin: Seems like a good time to put stuff like that in.
Fri, Apr 29, 2022, 11:22:11 - poikilotherm: Yeah
Fri, Apr 29, 2022, 11:22:21 - poikilotherm: I have a couple of these things in sword2-lib
Fri, Apr 29, 2022, 11:22:45 - poikilotherm: Especially stuff like PMD, Spotbugs etc
Fri, Apr 29, 2022, 11:23:03 - poikilotherm: But this is optional. It would be good to use these tools to make the lib more future proof
Fri, Apr 29, 2022, 11:23:09 - pdurbin: To you want me to push branches to https://github.com/gdcc/xoai/branches ? If so, I'll need permission.
Fri, Apr 29, 2022, 11:23:14 - poikilotherm: But if we don't have the time that's fine
Fri, Apr 29, 2022, 11:23:50 - poikilotherm: How do you feel about using PRs for future work, now that we are working with more than 1 dev on this?
Fri, Apr 29, 2022, 11:24:47 - poikilotherm: (Which would still need consideration of where to put feature branches)
Fri, Apr 29, 2022, 11:25:44 - pdurbin: Sure, but PRs come from branches. üòÑ For the main repo, we all (the core team) push these branches to the main repo (IQSS/dataverse) rather than a fork (e.g. pdurbin/dataverse).
Fri, Apr 29, 2022, 11:26:08 - poikilotherm: OK. I prefer the forking workflow, but either is fine for me. 
Fri, Apr 29, 2022, 11:26:17 - poikilotherm: I just sent you admin permissions for the repo
Fri, Apr 29, 2022, 11:27:15 - pdurbin: Cool, I see "Settings" etc. now. Thanks. But I can push branches to pdurbin/xoai if you want. That's what you mean by forking workflow, right?
Fri, Apr 29, 2022, 11:28:38 - poikilotherm: Yes, that's the forking workflow. But it's fine to use the branching workflow :-)
Fri, Apr 29, 2022, 11:29:52 - pdurbin: Sounds good. Do you plan to set up branch protection on the `branch-5.0` branch? PRs only? Or continue to allow direct commits for now?
Fri, Apr 29, 2022, 11:32:26 - pdurbin: I'm getting an error when I run `mvn clean`. `[FATAL] Non-resolvable parent POM for org.dspace:xoai-data-provider:4.2.1-SNAPSHOT...`
Fri, Apr 29, 2022, 11:32:27 - poikilotherm: Yes, I just added branch rules to require PRs
Fri, Apr 29, 2022, 11:32:37 - poikilotherm: So we don't shoot ourselves in the foot
Fri, Apr 29, 2022, 11:35:39 - pdurbin: Awesome. Should I open an issue about that fatal error?
Fri, Apr 29, 2022, 11:35:55 - poikilotherm: Good idea :-)
Fri, Apr 29, 2022, 11:36:24 - poikilotherm: Actually I try to encorporate the best practices in use with the main project within these side thingies, too
Fri, Apr 29, 2022, 11:36:45 - pdurbin: Huh. Pinned issues. Neat.
Fri, Apr 29, 2022, 11:36:55 - poikilotherm: And of course try to go beyond that with recent best practices of Java programming ;-) More degrees of freedom here
Fri, Apr 29, 2022, 11:38:29 - pdurbin: Yes! Exactly! Let's establish good habits here.
Fri, Apr 29, 2022, 11:38:46 - pdurbin: Same error with `mvn package` so I'll report it that way.
Fri, Apr 29, 2022, 11:39:18 - poikilotherm: Oh is the error on the 5.0 branch?
Fri, Apr 29, 2022, 11:39:35 - poikilotherm: That one is broken for now as it's in the middle of refactoring
Fri, Apr 29, 2022, 11:40:05 - poikilotherm: You can compile & package the submodule xoai-common and xoai-xmlio though
Fri, Apr 29, 2022, 11:43:08 - pdurbin: Yes, 5.0 branch. I just opened https://github.com/gdcc/xoai/issues/11
Fri, Apr 29, 2022, 11:44:33 - poikilotherm: You could go with `mvn package -pl xoai-common,xoai-xmlio`
Fri, Apr 29, 2022, 11:45:16 - pdurbin: Same (similar?) errors with the `-pl`
Fri, Apr 29, 2022, 11:45:31 - poikilotherm: D'oh!
Fri, Apr 29, 2022, 11:46:28 - pdurbin: \`cd xoai-xmlio && mvn package\` works (but not for "common")
Fri, Apr 29, 2022, 11:46:57 - pdurbin: Should we set up some CI?
Fri, Apr 29, 2022, 11:51:37 - poikilotherm: OK I pushed some 
Fri, Apr 29, 2022, 11:51:49 - poikilotherm: changes to the data and svc providers POM
Fri, Apr 29, 2022, 11:51:55 - poikilotherm: Using the new parent style
Fri, Apr 29, 2022, 11:52:04 - poikilotherm: It should work now
Fri, Apr 29, 2022, 11:52:10 - poikilotherm: At least with -pl
Fri, Apr 29, 2022, 11:52:17 - pdurbin: Merce is here! I just gave her a hug. Off to lunch!
Fri, Apr 29, 2022, 11:52:24 - poikilotherm: Woohooo
Fri, Apr 29, 2022, 11:52:32 - poikilotherm: Please greet her from me
Fri, Apr 29, 2022, 11:52:36 - poikilotherm: üëã
Fri, Apr 29, 2022, 13:48:25 - pdurbin: Yep! Nice lunch.
Fri, Apr 29, 2022, 15:12:06 - poikilotherm: Speaking of a healthy project: it's also a good sign the number of non-IQSS contributors is on the rise. It's getting so big you even need to look at a new process for taking them in!
Fri, Apr 29, 2022, 15:12:52 - poikilotherm: Dataverse definitely is growing in adoption and community size. 
Fri, Apr 29, 2022, 15:14:46 - poikilotherm: Really looking forward to the DCM 2022 session on development. Hope to see some fresh faces of current and future contributors. üòé
Fri, Apr 29, 2022, 15:15:49 - poikilotherm: Next up: DEPs. Dataverse Enhancement Proposals. Like Java or Kubernetes have 'em. üêπ
Fri, Apr 29, 2022, 15:16:36 - poikilotherm: When is the right the time to create elections for release leads like K8s does it? üôà
Fri, Apr 29, 2022, 15:34:56 - pdurbin: I know! New process! I guess a good sign, like you said. What session on development? Where are you seeing this?
Fri, Apr 29, 2022, 15:35:40 - poikilotherm: It was mentioned in one of the topics. "Developer Joy"
Fri, Apr 29, 2022, 15:36:29 - pdurbin: Heh. I probably wrote that. As a suggested topic or something.
Fri, Apr 29, 2022, 15:36:46 - poikilotherm: üòç
Fri, Apr 29, 2022, 15:37:02 - poikilotherm: I do hope people will talk about this
Fri, Apr 29, 2022, 15:37:36 - poikilotherm: I already added two proposals, so no room left for me to create a talk on the things I do to bring dev joy
Fri, Apr 29, 2022, 15:38:35 - pdurbin: and dev pain
Fri, Apr 29, 2022, 15:38:37 - pdurbin: kidding!
Fri, Apr 29, 2022, 15:38:43 - poikilotherm: üòá
Fri, Apr 29, 2022, 15:39:42 - pdurbin: Anyway, sure DEPs sound good. And you mean I don't have to always write the release notes now? I've written them for the last two releases.
Fri, Apr 29, 2022, 15:40:35 - poikilotherm: You know about the Kubernetes podcast, do you? There is an episode on how they do it IIRC.
Fri, Apr 29, 2022, 15:40:50 - pdurbin: I think you've mentioned it.
Fri, Apr 29, 2022, 15:40:54 - poikilotherm: They have a release lead that does trigger people about KEPs
Fri, Apr 29, 2022, 15:41:11 - poikilotherm: And coordinates what goes into the next release
Fri, Apr 29, 2022, 15:41:25 - poikilotherm: And they are supported by shadows
Fri, Apr 29, 2022, 15:41:41 - poikilotherm: That are usually becoming leads a few releases after
Fri, Apr 29, 2022, 15:41:55 - poikilotherm: So more people get involved with the process etc
Fri, Apr 29, 2022, 15:42:10 - poikilotherm: Of course this is a larger project than Dataverse
Fri, Apr 29, 2022, 15:42:45 - poikilotherm: But maybe it could still help when the community starts to build such things instead of dumping all the load on IQSS?
Fri, Apr 29, 2022, 15:43:25 - poikilotherm: Of course IQSS would need to be OK with loosing some of the control... It's tricky.
Fri, Apr 29, 2022, 15:44:21 - pdurbin: definitely good food for thought
Fri, Apr 29, 2022, 15:45:41 - pdurbin: Also, while I'm the one writing release notes right now, I'm not the one publishing releases.
Fri, Apr 29, 2022, 15:58:24 - pdurbin: poikilotherm: by the way, here's my take on the new review process: https://groups.google.com/g/dataverse-community/c/KUhvS849doY/m/5PGISAV9AwAJ
Fri, Apr 29, 2022, 16:01:15 - poikilotherm: > I love it when new tests are included.

You'll love my PR for solrteur containing so much tests üòé
Fri, Apr 29, 2022, 16:02:18 - pdurbin: üéâ
Fri, Apr 29, 2022, 17:01:39 - pdurbin: Have a good weekend, everyone!
Sun, May 1, 2022, 15:08:01 - @wybpip:matrix.org joined the room
Sun, May 1, 2022, 15:08:02 - @wybpip:matrix.org left the room
Mon, May 2, 2022, 05:02:51 - poikilotherm: Moin moin pdurbin - looks like Sonarcloud isn't satisfied with the XOAI codebase as is üôà https://github.com/gdcc/xoai/pull/12#issuecomment-1114629271
Mon, May 2, 2022, 08:45:05 - Alexandre Abreu: Good morning pdurbin and poikilotherm . just to let you know, I solved that problem abou harvesting... Your hint was right:  it was related to full-chain certificate... In dev it didn't work because certificate is valid only inside the company. However, in prod, I put the full-chain certificate and it worked, since the certificate is vaalid outside the company too . Thank you ! ;) 
Mon, May 2, 2022, 08:45:52 - poikilotherm: <@alsantiagoabreu:matrix.org "Good morning pdurbin and poikilo..."> Glad to hear that. You're most welcome :-)
Mon, May 2, 2022, 09:11:57 - pdurbin: Alexandre Abreu: great news! Thanks for letting us know!
Mon, May 2, 2022, 09:13:47 - pdurbin: poikilotherm: moin moin. Is there a specific line I should be looking at?
Mon, May 2, 2022, 09:14:06 - poikilotherm: pdurbin: not necessarily
Mon, May 2, 2022, 09:14:18 - poikilotherm: I dunno if you want to do a review first
Mon, May 2, 2022, 09:14:31 - poikilotherm: Or if you want me to "just push it"
Mon, May 2, 2022, 09:15:57 - pdurbin: I mean, last week you would have just committed directly to the 5.0 branch. I'm ok with that. üòÑ Do you want to do a quick call about all this xoai stuff?
Mon, May 2, 2022, 09:16:32 - poikilotherm: Would you like one? :-)
Mon, May 2, 2022, 09:16:43 - poikilotherm: Would that help?
Mon, May 2, 2022, 09:16:52 - pdurbin: Well, I'm feeling pretty blocked. Thinking about just handing this to Leonid.
Mon, May 2, 2022, 09:17:21 - poikilotherm: Uh then maybe we should talk! ü´•
Mon, May 2, 2022, 09:17:42 - pdurbin: Does this video thing in Matrix/Element work?
Mon, May 2, 2022, 09:18:00 - poikilotherm: Haven't tried it yet!
Mon, May 2, 2022, 09:18:06 - Jitsi widget added by poikilotherm
Mon, May 2, 2022, 09:35:05 - poikilotherm: Message deleted
Mon, May 2, 2022, 10:00:52 - poikilotherm: Message deleted
Mon, May 2, 2022, 10:02:48 - poikilotherm: https://github.com/DSpace/xoai/commit/8d24fcd4197c7bddcef121789bceec6b6a1b834c#r72644398
Mon, May 2, 2022, 10:16:56 - pdurbin: Wow, that video call feature of Matrix/Element worked great.
Mon, May 2, 2022, 10:17:10 - poikilotherm: <@pdurbin:matrix.org "Wow, that video call feature of ..."> Was gonna write the same :-)
Mon, May 2, 2022, 10:17:27 - pdurbin: I guess I never shared a screen. Oh well.
Mon, May 2, 2022, 10:17:31 - pdurbin: Next time. üòÑ
Mon, May 2, 2022, 10:17:29 - poikilotherm: Honestly I expected more failures
Mon, May 2, 2022, 10:21:31 - pdurbin: Open source. It just works.
Mon, May 2, 2022, 11:34:07 - pdurbin: j-n-c: are you around to discuss https://github.com/IQSS/dataverse/pull/8638 (branding stuff)?
Mon, May 2, 2022, 11:48:01 - pdurbin: poikilotherm: the HTML preview of pull requests is so nice: https://dataverse-guide--8638.org.readthedocs.build/en/8638/installation/config.html#branding-your-installation . Thanks again!
Mon, May 2, 2022, 12:39:41 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: the HTML preview o..."> Harhar üòàüòé
Mon, May 2, 2022, 12:40:08 - poikilotherm: And it even was so easy to do, as RTD implemented support for PRs
Mon, May 2, 2022, 12:40:19 - Jitsi widget removed by poikilotherm
Mon, May 2, 2022, 13:11:40 - pdurbin: nice
Mon, May 2, 2022, 14:22:07 - poikilotherm: Now only the permalink anchors are missing...
Mon, May 2, 2022, 14:22:45 - poikilotherm: Maybe you can talk Gustavo into drawing that PR into the sprint, now that the others are reviewed and merged üôà
Mon, May 2, 2022, 14:24:04 - poikilotherm: Oh BTW pdurbin would you like to see a `develop` based guides preview,  maybe linked to from the Readme?
Mon, May 2, 2022, 14:25:15 - pdurbin: I just added it to my list of PRs to advocate for during our next sprint planning meeting. (These are Wed afternoon.)
Mon, May 2, 2022, 14:27:46 - pdurbin: For a long time I've thought it would be nice to have a beta.dataverse.org server so people can try new features, etc before they are released. A guides server for develop would also be along these lines. Sure! Not sure if we want it in the README yet though. Maybe in the "writing docs" page in the dev guide.
Mon, May 2, 2022, 15:33:29 - Don Sizemore: @pdurbin O, ye of the institutional memory
Mon, May 2, 2022, 15:34:35 - pdurbin: hit me
Mon, May 2, 2022, 15:34:37 - Don Sizemore: @pdurbin I can't seem to find an issue, open or closed, addressing a pesky ingest issue
Mon, May 2, 2022, 15:35:29 - Don Sizemore: If someone ingests a file with some error (say, a duplicate header) but the error message exceeds varchar255, Dataverse is unable to insert the error message into the DB
Mon, May 2, 2022, 15:36:02 - Don Sizemore: I see you passing 3767 to Oscar, which mentions the 255-char limit, but explicitly tests for CSVs without headers.
Mon, May 2, 2022, 15:36:02 - pdurbin: yuck
Mon, May 2, 2022, 15:36:17 - Don Sizemore: Is this worth reproducing on demo.dataverse.org, and opening an issue?
Mon, May 2, 2022, 15:36:38 - Don Sizemore: I promise I searched open/closed issues on GitHub, but #3767 is about the closest I found
Mon, May 2, 2022, 15:36:42 - pdurbin: Sure! Please try it on demo.
Mon, May 2, 2022, 15:37:34 - Don Sizemore: or better yet, develop locally so I'll have access to the server.log
Mon, May 2, 2022, 15:41:26 - pdurbin: Sure. You can send me your CSV if you want.
Mon, May 2, 2022, 15:43:42 - pdurbin: It sure looks like Oscar tried to switch the ingest report to allow more characters here: https://github.com/IQSS/dataverse/commit/144468c
Tue, May 3, 2022, 00:59:16 - poikilotherm: pdurbin: actually it's already there! http://preview.guides.gdcc.io
Tue, May 3, 2022, 00:59:44 - poikilotherm: It comes as a default for RTD to compile the latest branch
Tue, May 3, 2022, 09:08:38 - pdurbin: poikilotherm: nice!
Tue, May 3, 2022, 10:02:18 - pdurbin: We'll have the community call in about an hour: https://dataverse.org/community-calls
Tue, May 3, 2022, 14:34:27 - @baal.401:matrix.org removed their profile picture
Tue, May 3, 2022, 14:34:27 - @baal.401:matrix.org left the room
Wed, May 4, 2022, 03:27:09 - Lincoln: Thank you for this comment by Jim Myers -"2 stores of S3 pointing on same bucket as a workaround. " one with direct-upload = true (dvuplaod friendly) and the other  false (GUI friendly)option
I have tested and it works well with CEPH.
https://groups.google.com/g/dataverse-community/c/LnD3NjBpdic/m/GEOwHMj-BAAJ
Wed, May 4, 2022, 08:24:07 - jpicc joined the room
Wed, May 4, 2022, 08:25:39 - jpicc: Hi! I installed Dataverse but I get a 500 error when I want to login
Wed, May 4, 2022, 08:29:15 - jpicc: These are the errors from setup-all.log:
Wed, May 4, 2022, 08:29:22 - jpicc sent an image. (Media omitted)
Wed, May 4, 2022, 08:31:58 - pdurbin: jpicc: hmm, lots of "bad API key" messages. How are you installing Dataverse? By following the Installation Guide? dataverse-ansible? dataverse-docker?
Wed, May 4, 2022, 08:36:15 - jpicc: <@pdurbin:matrix.org "jpicc: hmm, lots of "bad API key..."> I have followed the installation guide: https://guides.dataverse.org/en/latest/installation/installation-main.html
Wed, May 4, 2022, 09:19:38 - pdurbin: jpicc: can you please email that setup-all.log to support@dataverse.org?
Wed, May 4, 2022, 09:23:06 - pdurbin: jpicc: here's a complete list of files you can send: https://guides.dataverse.org/en/5.10.1/installation/intro.html#information-to-send-to-support-when-installation-fails
Wed, May 4, 2022, 09:27:20 - jpicc: ok! thanks
Wed, May 4, 2022, 09:27:41 - pdurbin: Sure. Is this 5.10.1?
Wed, May 4, 2022, 09:30:07 - jpicc: yes
Wed, May 4, 2022, 09:32:08 - jpicc: I will try to reinstall it
Wed, May 4, 2022, 09:32:31 - pdurbin: Ok. It's possible there's something wrong in the docs.
Wed, May 4, 2022, 09:32:54 - pdurbin: You're using all the recommended versions in the docs/guides for Payara, Postgres and Solr?
Wed, May 4, 2022, 09:33:20 - jpicc: Yes
Wed, May 4, 2022, 09:33:53 - pdurbin: Ok. Hopefully the logs you send will give us a clue. Please let us know the ticket number once you have it.
Wed, May 4, 2022, 09:46:25 - jpicc: this are the versions: Version = Payara Server  5.2022.2 - "solr-spec-version":"8.11.1" - psql (PostgreSQL) 13.6 (Ubuntu 13.6-1.pgdg20.04+1+b1)
Wed, May 4, 2022, 09:51:18 - pdurbin: Ok. The guides say Payara 5.2021.6.
Wed, May 4, 2022, 09:51:33 - pdurbin: https://guides.dataverse.org/en/5.10.1/installation/prerequisites.html#payara
Wed, May 4, 2022, 09:51:39 - pdurbin: "Payara 5.2021.6 is recommended. Newer versions might work fine, regular updates are recommended."
Wed, May 4, 2022, 09:52:00 - pdurbin: Just something to try, maybe.
Wed, May 4, 2022, 09:53:29 - pdurbin: For newer versions of Payara there's something about `lib/databases` here: https://github.com/IQSS/dataverse/issues/8064#issuecomment-965627984
Wed, May 4, 2022, 09:53:39 - pdurbin: But I don't know if that affects the installation process or not.
Wed, May 4, 2022, 09:55:49 - jpicc: ok, i'll try! thanks
Wed, May 4, 2022, 09:56:05 - pdurbin: Great. And you sent the logs?
Wed, May 4, 2022, 09:56:33 - pdurbin: If you want to try reinstalling first, that's perfectly fine.
Wed, May 4, 2022, 09:59:26 - jpicc: yes, first i will reinstall it. Thank you!!
Wed, May 4, 2022, 09:59:41 - pdurbin: Yep. Good luck.
Wed, May 4, 2022, 10:05:39 - poikilotherm: Don Sizemore: please not that @dataversebot is now a shared account by pdurbin and me. We could share it with you too (I just saw that Odum seems to use @dataversebot, too)
Wed, May 4, 2022, 10:05:59 - poikilotherm: BTW hello dataversebot üëã
Wed, May 4, 2022, 10:07:01 - Don Sizemore: poikilotherm: I'm happy not to have anything shared with me until such time as I need it (perhaps for Jenkins reporting)
Wed, May 4, 2022, 10:07:18 - pdurbin: Wat. dataversebot is here in Matrix? I forgot. üòÑ
Wed, May 4, 2022, 10:15:42 - carlsonp: does anyone have suggestions on how to debug s3 storage setup?  depending on my settings it sometimes shows up as a selectable entry for configuring a dataverse but then when I go to make an upload it complains about the region
Wed, May 4, 2022, 10:16:00 - carlsonp: what region should I set if I'm trying to use a local s3 provider like Minio or Seaweedfs?
Wed, May 4, 2022, 10:31:36 - pdurbin: poikilotherm: you're using Minio, right? Any ideas? ^^
Wed, May 4, 2022, 10:32:26 - carlsonp: I've been trying to set it up with Seaweedfs but no luck so far
Wed, May 4, 2022, 10:33:54 - pdurbin: Oh, that's a new one on me. Hmm.
Wed, May 4, 2022, 10:44:09 - pdurbin: carlsonp: from Slack: I think region gets ignored if you don't have regions, but I don't know why anything should happen sometimes. The region would usually be set in the .aws/config file for the user running payara, but Oliver has added the jvm options to set the keys and perhaps the region as an alternative. I would have expected that once you have a stable working setup (same user starting payara, credentials in one place) it should just work.
Wed, May 4, 2022, 10:44:14 - pdurbin: hope that helps!
Wed, May 4, 2022, 10:45:45 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: you're using Minio..."> Not anymore - switched to Ceph S3. But I documented my findings in the guide.
Wed, May 4, 2022, 10:45:57 - poikilotherm: <@pdurbin:matrix.org "Oh, that's a new one on me. Hmm."> Same here
Wed, May 4, 2022, 10:47:15 - poikilotherm: <@pdurbin:matrix.org "carlsonp: from Slack: I think re..."> Nope, region is coming from the system property, not MPCONFIG
Wed, May 4, 2022, 10:48:53 - carlsonp: MPCONFIG is MicroProfile Config?
Wed, May 4, 2022, 10:48:57 - poikilotherm: carlsonp: this was my config for Minio back in the day:

```
dataverse_files_storage__driver__id: "s3"
dataverse_files_s3_type: "s3"
dataverse_files_s3_label: "J√ºlich DATA Object Store"
dataverse_files_s3_custom__endpoint__url: http://minio:9000
dataverse_files_s3_bucket__name: juelich_data_beta
# required for Minio!
dataverse_files_s3_path__style__access: "true"
```
Wed, May 4, 2022, 10:50:16 - poikilotherm: (Obviously this where my YAML keys, copied from my ConfigMap on K8s)
Wed, May 4, 2022, 10:50:28 - poikilotherm: But you get the idea, I guess ;-)
Wed, May 4, 2022, 10:51:41 - carlsonp: I'm new to s3 so maybe this is a dumb question but is Dataverse using some sort of lower level s3 protocol to interact or is it using HTTPS calls?
Wed, May 4, 2022, 10:59:06 - pdurbin: Uh. I'm pretty sure it's all over HTTPS.
Wed, May 4, 2022, 11:01:10 - poikilotherm: But it's still using the AWS SDK, so no manual crafting
Wed, May 4, 2022, 11:01:43 - poikilotherm: What you should do: please make sure you can connect with the Minio Client and the AWS client. If that works, you're free to test again with Dataverse
Wed, May 4, 2022, 11:03:29 - poikilotherm: carlsonp: this is a simplified version of my config.json for `mc`:

```
{
	"version": "10",
	"aliases": {
		"fdm_beta": {
			"url": "https://s3.fz-juelich.de",
			"accessKey": "XXXX",
			"secretKey": "XXXX",
			"api": "S3v4",
			"path": "on"
		}
	}
}  
```

It should work like this for a Minio target, too. You can check the website, too.
Wed, May 4, 2022, 11:07:38 - carlsonp: ok thanks
Wed, May 4, 2022, 11:36:24 - pdurbin: j-n-c: I just saw you post on the mailing list. Are you online here as well?
Wed, May 4, 2022, 11:53:03 - pdurbin: Perhaps notifications in Matrix are not as aggressive as the ones in Slack. üòÑ
Wed, May 4, 2022, 13:19:31 - pdurbin sent an image. (Media omitted)
Wed, May 4, 2022, 13:19:45 - pdurbin: via https://twitter.com/RipetaReview/status/1402322843275304963
Thu, May 5, 2022, 05:11:20 - Lincoln: Message deleted
Thu, May 5, 2022, 09:56:31 - carlsonp: so the aws CLI seems to work fine
Thu, May 5, 2022, 09:57:41 - carlsonp: getting errors in Dataverse: "Cannot instantiate a S3 client; check your AWS credentials and region" and "You must create and configure a bucket before creating datasets."
Thu, May 5, 2022, 09:58:02 - carlsonp: I pre-create the bucket though and can list it with the awscli
Thu, May 5, 2022, 09:58:46 - pdurbin: carlsonp: in Dataverse are you using the old school config or MPCONFIG?
Thu, May 5, 2022, 09:59:19 - carlsonp: I've set the access and secret keys, the endpoint-url, bucket-name, endpoint-region, and tried both true and false for the path-style-access
Thu, May 5, 2022, 09:59:56 - carlsonp: I'm using MPConfig I believe, `asadmin set-config-property --propertyName... --propertyValue=...`
Thu, May 5, 2022, 10:00:25 - pdurbin: Right. poikilotherm do you have time to look at this?
Thu, May 5, 2022, 10:03:07 - poikilotherm: Sorry not right now
Thu, May 5, 2022, 10:03:19 - carlsonp: the only thing I set in my config for awscli that wasn't set in dataverse was "signature_version = s3v4"
Thu, May 5, 2022, 10:04:40 - pdurbin: carlsonp: are you comfortable with recompiling Dataverse? If so, I'd add some println debugging near those errors you're seeing.
Thu, May 5, 2022, 10:05:12 - carlsonp: ok let me try that, thanks
Thu, May 5, 2022, 10:05:36 - pdurbin: Sure. And obviously, if a pull request would help, please go ahead!
Thu, May 5, 2022, 10:18:16 - pdurbin: carlsonp: at the very least it would be great if you add SeaweedFS to the "Reported Working S3-Compatible Storage" list if you get it working. üòÑ
Thu, May 5, 2022, 10:28:20 - carlsonp: oh for sure, I added some prints on the bucket name and such, *crosses fingers*
Thu, May 5, 2022, 10:28:34 - pdurbin: ü§û
Thu, May 5, 2022, 10:32:05 - carlsonp: well the endpoint is blank and the bucketname is null, that's progress to narrow it down
Thu, May 5, 2022, 10:33:48 - pdurbin: yep
Thu, May 5, 2022, 10:33:58 - Lincoln: carlsonp: if you still have s3 problem..may I know the list of folders in path /usr/local/payara5/glassfish/domains/domain1/ with rights

Thu, May 5, 2022, 10:35:30 - carlsonp: applications, autodeploy, config, docroot, endpoints, generated, img, init-info, lib, logs, osgi-cache,    all folders have dataverse:dataverse permissions
Thu, May 5, 2022, 10:35:50 - Lincoln: is there .aws folder inside
Thu, May 5, 2022, 10:36:18 - carlsonp: there is not, I put those items in /home/dataverse/.aws/
Thu, May 5, 2022, 10:36:46 - Lincoln: just copy .aws folder here as well with dataverse:dataverse and test please
Thu, May 5, 2022, 10:36:49 - Lincoln: and let me know
Thu, May 5, 2022, 10:36:53 - carlsonp: ok thanks
Thu, May 5, 2022, 10:37:18 - Lincoln: hope it helps (somehow)
Thu, May 5, 2022, 10:43:41 - Lincoln: my shift is over now..bye
Thu, May 5, 2022, 11:30:40 - pdurbin: carlsonp: now you have a new toy to play with. Add more logging, recompile, redeploy, repeat. üòÑ I hope it's going ok.
Thu, May 5, 2022, 14:15:17 - carlsonp: *only* 8 meetings today haha, didn't get a chance to try the .aws folder yet
Thu, May 5, 2022, 15:11:19 - carlsonp: no luck with .aws folder within `domain1`, based on the docs it recommends using the home folder of the user running Payara
Thu, May 5, 2022, 15:11:50 - pdurbin: bah
Thu, May 5, 2022, 16:00:42 - poikilotherm: I'm back folks. Anybody in need of sth by me?
Thu, May 5, 2022, 16:02:05 - poikilotherm: pdurbin: I just had to lookup "Strohfeuer" (straw fire) for the Slack channel. "Flash in the pan" is such a nice idiom. "Blitz in der Pfanne" ü§≠
Thu, May 5, 2022, 16:12:08 - pdurbin: poikilotherm: straw fire? I thought I said fire drill.
Thu, May 5, 2022, 16:13:54 - poikilotherm: > There was a recent podcast episode by Adam Bien with one of the new maintainers of Glassfish. Things started to roll again. Not sure if this might be a flash in the pan. https://airhacks.fm/#episode_184
Thu, May 5, 2022, 16:15:33 - pdurbin: I'm definitely behind on that podcast. Sounds like a good episode.
Thu, May 5, 2022, 16:35:09 - poikilotherm: It was nice hearing about Piranha Cloud :-)
Thu, May 5, 2022, 16:35:15 - poikilotherm: Serverless computing with Java
Thu, May 5, 2022, 16:35:29 - poikilotherm: Uses parts of Glassfish under the hood
Thu, May 5, 2022, 17:05:26 - pdurbin: nice
Thu, May 5, 2022, 17:38:02 - carlsonp: ok I'm getting further, it can connect but I need to setup access keys next in seaweedfs I think
Thu, May 5, 2022, 17:39:15 - carlsonp: dumb me, `asadmin create-jvm-options` is *different* from `asadmin set-config-property`, I was trying the `set-config-property` route based on some other documentation I was reading
Thu, May 5, 2022, 17:49:02 - carlsonp: maybe there's a way to get `set-config-property` working in addition, my guess is I have some malformed `source`, `sourceName` or `moduleName` parameters
Fri, May 6, 2022, 02:31:47 - beep: Hi!

Another metadata related question: does DV suport RO-Crate?

I found these slides while searching for Dataverse and Crate:

https://zenodo.org/record/4973678

Starting from page 48 it mentions and shows menus, which seem to enable exporting metadata in RO-Crate format. However I could not find any mention of this in the DV sources and it is not even clear from this presentation whether this is just a suggestion for future development or an implemented feature.

Do you have some background knowledge about this?


Fri, May 6, 2022, 06:15:07 - poikilotherm: <@beeppeeb:matrix.org "Hi!"> Well RO Crate is more or less like BagIt just a manifest in a ZIP file. Of course, it contains lots of knowledge.
Fri, May 6, 2022, 06:15:42 - poikilotherm: So you can store these manifest files, but there is no specialized support for them
Fri, May 6, 2022, 06:16:01 - poikilotherm: Like there is no rendering of the workflow graph or ingest of the manifests
Fri, May 6, 2022, 06:16:12 - poikilotherm: That said, there IS progress in this regard RIGHT NOW
Fri, May 6, 2022, 06:16:51 - poikilotherm: qqmyersis working on taking in BagIt, there is the experimental OAI-ORE API and the Harvard Data Commons folks are eager for this stuff
Fri, May 6, 2022, 06:17:55 - poikilotherm: So let's call it "it's being worked on". Progress is slow, it will take time but it's definitely on the radar and a feature "we" want (seems like IQSS, GDCC and Harvards interests are on the same page)
Fri, May 6, 2022, 08:07:00 - poikilotherm changed their profile picture
Fri, May 6, 2022, 09:18:56 - beep: Thanks poikilotherm! 

I was looking at https://github.com/Arkisto-Platform/describo as well and it would be a great integration defining the dataset using describo as a RO-Crate and then uploading it to DV. And another integration the other way around to take the metadata schemas from DV and make describo work based on these schemas.

Of course it would also be cool to have RO-Crate support "natively" by DV. :-)
Fri, May 6, 2022, 10:02:21 - carlsonp: yaaaaaaas, got seaweedfs working, PR in for docs
Fri, May 6, 2022, 10:05:07 - Don Sizemore: @carsonp is the SeaweedFS identity truly "anonymouse?" (if so, I love it!)
Fri, May 6, 2022, 10:11:35 - carlsonp: oops lol
Fri, May 6, 2022, 10:22:51 - carlsonp: if I can download an .Rdata file, does that mean `rserve` is correctly working?
Fri, May 6, 2022, 10:23:17 - Don Sizemore: I liked anonymouse better.
Fri, May 6, 2022, 10:23:37 - Don Sizemore: @carsonp look in /tmp for the presence of Rtmp* directories
Fri, May 6, 2022, 10:24:02 - Don Sizemore: IIRC Dataverse also uses Rserve in an attempt to ingest Rdata files if you'd like to try that
Fri, May 6, 2022, 10:32:12 - carlsonp: awesome, I see my file in /tmp thanks
Fri, May 6, 2022, 11:59:25 - pdurbin: carlsonp: thanks for the pull request! `make html` failed with this error: /github/workspace/doc/sphinx-guides/source/installation/config.rst:656:Inline target start-string without end-string.
Fri, May 6, 2022, 11:59:48 - pdurbin: (from the "Guides Build Status" check)
Fri, May 6, 2022, 12:00:51 - pdurbin: And you can tell the seaweedfs stuff looks a bit off at https://dataverse-guide--8678.org.readthedocs.build/en/8678/installation/config.html
Fri, May 6, 2022, 12:01:32 - pdurbin: poikilotherm: it's surprising to me that the ReadTheDocs build happened even though `make html` failed.
Fri, May 6, 2022, 12:01:53 - pdurbin: carlsonp: if you want, I can hop on your branch and try to get `make html` working. Lemme know.
Fri, May 6, 2022, 12:02:53 - carlsonp: sure, yeah I don't have the docs build stuff setup so I can't really test it
Fri, May 6, 2022, 12:03:41 - carlsonp: hopefully it's just bad indentation or something small
Fri, May 6, 2022, 12:04:39 - pdurbin: Yeah, probably. For next time, we do have some docs about installing Sphinx at https://guides.dataverse.org/en/5.10.1/developers/documentation.html if you want to try `make html` before making a pull request. Basically, there's a requirements.txt file to use with pip.
Fri, May 6, 2022, 12:10:43 - pdurbin: beep: please feel free to create a GitHub issue about RO-Crate support.
Fri, May 6, 2022, 12:11:42 - beep: pdurbin: OK, I will do that!
Fri, May 6, 2022, 12:31:30 - Andreas Czerniak joined the room
Fri, May 6, 2022, 12:46:15 - poikilotherm: > <@pdurbin:matrix.org> poikilotherm: it's surprising to me that the ReadTheDocs build happened even though `make html` failed.

Looks like RTD treats these as warnings instead of errors. See them all at https://readthedocs.org/projects/dataverse-guide/builds/16842333/
Fri, May 6, 2022, 12:53:07 - poikilotherm: pdurbin: looks like we could create a dot file with more RTD settings and make warnings appear as errors, failing the build. https://docs.readthedocs.io/en/stable/config-file/v2.html#sphinx-fail-on-warning
Fri, May 6, 2022, 12:54:02 - poikilotherm: But you know this won't be in until next sprint *ducks and runs* üòáüëªü§ó
Fri, May 6, 2022, 13:39:50 - pdurbin: poikilotherm: pull request, please!
Fri, May 6, 2022, 13:50:47 - pdurbin: poikilotherm: we could also play with `warning-is-error` in setup.py - https://www.sphinx-doc.org/en/master/usage/advanced/setuptools.html#setuptools-confval-warning-is-error
Fri, May 6, 2022, 13:51:46 - pdurbin: from https://stackoverflow.com/questions/38048945/how-to-turn-warnings-into-errors-when-building-sphinx-documentation-with-setupto/42426616#42426616
Fri, May 6, 2022, 14:17:55 - pdurbin: I'm not very excited about yet another dotfile but I'm ok with it if we have to.
Fri, May 6, 2022, 14:53:00 - pdurbin: carlsonp: I got `make html` working for you: https://github.com/carlsonp/dataverse/pull/1
Fri, May 6, 2022, 15:15:22 - poikilotherm: So strange to hear two of my  favorite podcast hosts in the same format. Adam talking in German - so strange...

programmier.bar ‚Äì der Podcast f√ºr App- und Webentwicklung: Deep Dive 105 ‚Äì Warum Java f√ºr die Cloud so gut ist, mit Adam Bien
 https://chtbl.com/track/E24551/https://www.podtrac.com/pts/redirect.mp3/www.buzzsprout.com/176239/10570146-deep-dive-105-warum-java-fur-die-cloud-so-gut-ist-mit-adam-bien.mp3
Fri, May 6, 2022, 15:19:42 - pdurbin: That episode you mentioned before was interesting. How a year ago that guy started bringing Glassfish back to life basically by himself.
Fri, May 6, 2022, 15:20:02 - pdurbin: this one: https://airhacks.fm/#episode_184
Fri, May 6, 2022, 16:23:47 - carlsonp: has anyone heard of folks using Dataverse in conjunction with DOI registration via OSTI?
Fri, May 6, 2022, 16:25:49 - pdurbin: Hmm, how does it work? Is it like EZID which uses DataCite on the backend? The value add is that EZID is supposed to have an easier API (hence the name). These days EZID is only offered in California though.
Fri, May 6, 2022, 16:27:09 - carlsonp: it looks like OSTI passes the DOI registration over to DataCite on the backend
Fri, May 6, 2022, 16:27:51 - carlsonp: I don't know much about it, just curious, I looked at the metrics page and didn't see any Department of Energy (DOE) institutions... just thought I'd ask
Fri, May 6, 2022, 16:28:50 - pdurbin: You can also look at https://dataverse.org/installations but I'm not aware of any DOE installations.
Fri, May 6, 2022, 16:32:57 - pdurbin: "As part of the free service DOE OSTI provides to DOE-funded data objects, an unlimited amount of DOIs can be obtained." -- https://www.osti.gov/sites/www.osti.gov/files/public/DOE%20Data%20ID%20Service%20Manual%20v7-2%20Jan2021.pdf ... maybe it's a way for DOE folks to save money since DataCite will charge you per DOI. (You can get a discount through the GDCC: https://dataversecommunity.global/services )
Fri, May 6, 2022, 16:33:40 - carlsonp: yeah my guess is they struck a deal and make it easier for the DOE folks and help to handle the relationship with DataCite
Fri, May 6, 2022, 16:33:56 - pdurbin: Ok. Yeah, sounds similar to EZID.
Fri, May 6, 2022, 17:02:10 - pdurbin: I'm heading out. Have a great weekend, everyone!
Mon, May 9, 2022, 03:40:02 - lincoln_ joined the room
Mon, May 9, 2022, 10:06:06 - pdurbin: New book from the creator of curl (I haven't read it yet): "Uncurled - everything I know and learned about running and maintaining Open Source projects for three decades" https://un.curl.dev
Mon, May 9, 2022, 10:12:00 - carlsonp: If I change the logo for the root dataverse for example, where can I find those uploaded files?
Mon, May 9, 2022, 10:13:11 - pdurbin: carlsonp: /usr/local/payara5/glassfish/domains/domain1/docroot/logos
Mon, May 9, 2022, 10:13:46 - pdurbin: see also https://guides.dataverse.org/en/5.10.1/installation/advanced.html#multiple-app-servers
Mon, May 9, 2022, 11:09:57 - carlsonp: would there be a good way to check if the install has been done, this way I could skip `install.py` which takes a fair bit of time
Mon, May 9, 2022, 11:17:59 - pdurbin: carlsonp: I'd suggest checking the version: https://demo.dataverse.org/api/info/version
Mon, May 9, 2022, 16:25:55 - pdurbin: https://www.iq.harvard.edu/news/iqss-welcomes-dr-stefano-iacus-new-senior-research-scientist-and-director-data
Mon, May 9, 2022, 17:45:32 - poikilotherm: Sounds like you found someone that follows in the large footprints of @djbrooke. Congratulations! ü•≥
Mon, May 9, 2022, 17:46:37 - poikilotherm: Good to know he is into OSS! :-)
Tue, May 10, 2022, 06:54:07 - pdurbin: poikilotherm: yes! An R guy. But this is Merce's position, not Danny's. Even bigger footsteps. üòÑ
Tue, May 10, 2022, 07:02:36 - poikilotherm: Better not read this out of context. ‚úåÔ∏èüôàüò∏
Tue, May 10, 2022, 14:11:51 - pdurbin: It's that time of year again... time to record a 2 minute video about how you use Dataverse at your institution! Please see https://groups.google.com/g/dataverse-community/c/WucZ7j-wmW0/m/dMkv7J0dBQAJ
Wed, May 11, 2022, 06:22:24 - poikilotherm: Out now: the recording of the SE2022 sessions! You can now watch an introduction to HERMES by Stephan Druskat (I'm involved in the project üòâ ) and a talk by me about RSE + RDM: a match made in heaven. Both in English!

https://www.youtube.com/watch?v=EIE66uRtJnc&list=PLzsZ3_H0dFA6ktyYi6OkpRgM6B7qPH8Gg&index=11
https://www.youtube.com/watch?v=XAsndfU2Vmk&list=PLzsZ3_H0dFA6ktyYi6OkpRgM6B7qPH8Gg&index=8
Wed, May 11, 2022, 07:22:36 - poikilotherm: Looks like pdurbin is an early bird today! :-)
Wed, May 11, 2022, 09:22:10 - pdurbin: Sometimes I poke around from home. I just biked in to the office. Good morning!
Wed, May 11, 2022, 09:36:42 - poikilotherm: Goooood morning üòÑ
Wed, May 11, 2022, 09:37:36 - poikilotherm: (Feeling great right now, as I might have finally understood how the dots connect within XOAI lib and how Dataverse could make better use of it with less forked code)
Wed, May 11, 2022, 09:49:28 - poikilotherm: pdurbin: has there ever been a discussion about exposing our metadata as XML-RDF? With OAI-ORE and others coming in, it might be a nice way to expose all the metadata in an XML serialisation that still is capable of sending all the custom metadata... Thinking especially about future use cases like workflows and code...
Wed, May 11, 2022, 09:50:36 - poikilotherm: The background is that the OAI-PMH interface would still be very viable for harvesting such outputs from a Dataverse installation, but as this is XML and no JSON, a serialization of the knowledge graph into XML-RDF would make perfect sense...
Wed, May 11, 2022, 09:50:56 - poikilotherm: (There are examples of XML-RDF over OAI-PMH e. g. at TIB Hannover)
Wed, May 11, 2022, 09:52:18 - poikilotherm: And of course external controlled vocabularies might be exposed this way much cleaner than just sending the value over the wire
Wed, May 11, 2022, 10:06:12 - pdurbin: Seems like you and qqmyers are having a good chat about this in Slack. poikilotherm maybe you can summarize here when you're done! üòÑ
Wed, May 11, 2022, 10:11:53 - poikilotherm: qqmyersreminded me that there is the OAI-ORE JSON-LD export already and it contains all the custom metadata. So it might work to try to convert this export to XML-RDF (which should be sth. already existing in a library)
Wed, May 11, 2022, 10:23:03 - pdurbin: So maybe we could add another exporter and it could leverage a lot of the work that's already been done.
Wed, May 11, 2022, 10:23:39 - poikilotherm: Indeed
Wed, May 11, 2022, 10:24:10 - poikilotherm: Having all the custom metadata at your fingertips when harvesting is pretty dope IMHO
Wed, May 11, 2022, 14:08:18 - beep: <@beeppeeb:matrix.org "pdurbin: OK, I will do that!"> I did that :-) 

https://github.com/IQSS/dataverse/issues/8688
Wed, May 11, 2022, 14:22:46 - pdurbin: beep: I saw! Thanks! I'm wondering... should we also get some discussion going on the mailing list?
Wed, May 11, 2022, 14:23:23 - beep: I don't know. What do you suggest?
Wed, May 11, 2022, 14:25:01 - pdurbin: I guess I'd like to actually read what you wrote and leave a comment first. üòÑ But if you feel moved to kick off a mailing list thread as well, please be my guest. üòÑ
Wed, May 11, 2022, 14:25:25 - pdurbin: I'm reminded that I used to be in the Whole Tale Slack. This is definitely the kind of thing I would post there.
Wed, May 11, 2022, 14:40:24 - beep: I just don't know on which channel I could get the most feedback. This Dataverse room is just great, you guys are really helpful and quick to answer, so thank you for this. A Github issue is public so it is more accessible to anyone who finds it than a mailing list.  But anyways, I hope we can get some comments there. If not, then we will come up with something ourselves and create a PR later üòÄ
Wed, May 11, 2022, 14:44:56 - pdurbin: beep: another thought... you'd be welcome to talk about RO-Crate at an upcoming community call if you want. The next one is on Tuesday.
Wed, May 11, 2022, 14:57:29 - beep: We are currently gathering ideas and trying to define the architecture until the end of the month, then it would be great to share and talk about it and get feedbacks maybe.

The RO-Crate part actually doesn't seem that difficult (as also Stian Soiland-Reyes explained in his talk at  a 2021 community call). I mean the integration with Dataverse. 

The Schema registry I have in that simple architecture diagram in the issue seems more tricky. Here the idea is that now, as I understand, the Dataverse metadablocks are defined/discussed in a google sheet (?) and then the .tsv files are generated from this. What we have in mind is a schema editor and schema registry, which would serve the same purpose but would provide more tools and help collaboration and reuse of schemas. So, once the schema is defined there it should be then imported into DV and then if the schema evolves somehow reflect these changes in DV as well. It all seems feasible and doable but we need to investigate some more.

All this work is done, as I mentioned in some earlier message, under the umbrella of a Hungarian national repository project but these tools in the end maybe also useful for others as well. 
Wed, May 11, 2022, 14:58:47 - pdurbin: Interesting. I have to run to a meeting in 2 minutes but the schema registry reminds me a bit of CEDAR.
Wed, May 11, 2022, 14:59:16 - pdurbin: Yes, we used to export from Google Spreadsheets to TSV but these days I think we just hack on the TSV directly.
Wed, May 11, 2022, 15:01:09 - beep: If you are back from your meeting, can you tell me more about CEDAR?
Wed, May 11, 2022, 15:09:32 - pdurbin: beep: there are some notes about CEDAR at https://docs.google.com/document/d/1bZe53CCyjEIWKj_1HMOysnY4BdGoHzhhYddC9aB7BPo/edit?usp=sharing
Wed, May 11, 2022, 15:12:49 - beep: Thanks!
Wed, May 11, 2022, 15:18:10 - pdurbin: beep: I'd love to get your thoughts on this too: https://github.com/IQSS/dataverse/issues/4451
Wed, May 11, 2022, 15:31:50 - beep: Wow, I see there's a long history of metadata in DV. üòÄ These were raised in the 4.x times, right? Now in 5.x it seems to be much better afaik.

"hierarchical metadata schema" still seems to be an issue though, right? The current metadatblock supports only "flat" schemas, practically key-value pairs, where the values are scalar types (number, string, etc.).
Wed, May 11, 2022, 15:32:31 - pdurbin: Well, we have what we call "compound" fields. Author affiliation is part of Author.
Wed, May 11, 2022, 15:43:47 - beep: Yes, but compounds seem to be more like a visual grouping rather than creation of a new metadata entity. I mean, these compound values cannot live on their own, cannot be, for example, referenced/reused elsewhere, right?
Wed, May 11, 2022, 15:44:38 - pdurbin: Well, it's not just visual. If you dump the data as JSON you can see the hierarchy.
Wed, May 11, 2022, 15:47:19 - pdurbin: but you can't have a subfield of Author Affiliation, for example
Wed, May 11, 2022, 15:47:27 - pdurbin: since it's already a subfield
Wed, May 11, 2022, 16:15:50 - pdurbin: Phew. Meeting over but I'm probably too fried to think about RO-Crate. Manana.
Wed, May 11, 2022, 16:20:38 - poikilotherm: @beep let me also bring to your attention https://github.com/IQSS/dataverse/issues/7856
Wed, May 11, 2022, 16:21:29 - poikilotherm: Let me also notify you about me writing an TSV validating parser for the Solr module
Wed, May 11, 2022, 16:21:38 - poikilotherm: That might help in other places, too
Wed, May 11, 2022, 16:22:13 - poikilotherm: And Slava said on Slack they are working on some stuff around flexible metadata
Wed, May 11, 2022, 16:24:03 - poikilotherm: We could do more with the compound fields... There isn't yet a mechanisms to express dependency from one field on another. 
Wed, May 11, 2022, 16:24:14 - poikilotherm: So chained selections aren't possible
Wed, May 11, 2022, 16:24:54 - poikilotherm: And there are no migrations living within the block definition. If you need to make a data migration because of a changed block, you're in trouble.
Wed, May 11, 2022, 16:26:47 - poikilotherm: Well and I learned that the file format description in the guides isn't a sufficient spec and it contains errors. Which is another reason I am creating the validating parser
Wed, May 11, 2022, 16:27:31 - poikilotherm: (Currently held back by refactoring XOAI, another metadata construction site üôà)
Wed, May 11, 2022, 16:28:31 - pdurbin: Thank you for refactoring XOAI!
Wed, May 11, 2022, 16:32:38 - poikilotherm: You're most welcome.
Wed, May 11, 2022, 16:33:11 - poikilotherm: I remember my first steps in Dataverse codebase and how I looked at the harvesting and I couldn't get m head around it. Hopefully this will now change for the better
Wed, May 11, 2022, 16:33:29 - pdurbin: I'm sure it will.
Wed, May 11, 2022, 16:33:34 - poikilotherm: Would be great to have you with us tomorrow pdurbin üòâ
Wed, May 11, 2022, 16:33:49 - pdurbin: There are many dark corners I haven't explored yet in my 9.5 years of hacking on Dataverse. üòÑ
Wed, May 11, 2022, 16:34:08 - pdurbin: Yeah, I have it in my calendar at least. Will try.
Wed, May 11, 2022, 16:35:35 - pdurbin: https://github.com/IQSS/dataverse/pull/8647
Wed, May 11, 2022, 16:35:48 - pdurbin: poikilotherm: ^^ just put in Review
Wed, May 11, 2022, 16:36:21 - poikilotherm: I see üòéü•≥ü§©ü§Øüö®üê∑‚òÄÔ∏èüê£
Wed, May 11, 2022, 16:37:04 - poikilotherm: It's such a simple change but will certainly have visible impact... Sometimes it's the small things that matter... üôà
Wed, May 11, 2022, 16:37:47 - poikilotherm: No one besides dev will notice the difference with harvesters I guess. üêπ
Wed, May 11, 2022, 16:38:27 - pdurbin: Yeah, prioritization is hard.
Wed, May 11, 2022, 16:38:49 - pdurbin: Lots of pull requests from the community is a good problem to have!
Wed, May 11, 2022, 16:39:18 - poikilotherm: But it's also hard ü•¥
Wed, May 11, 2022, 16:41:02 - pdurbin: We also prioritized the Payara 6 upgrade. Dunno if you saw this: ‚ÄúPayara Platform Community will move to Payara 6 and Jakarta EE 10 at the end of May 2022.‚Äù https://www.payara.fish/what-payara-6-means-for-you/
Wed, May 11, 2022, 16:42:41 - poikilotherm: Yes I saw on Twitter
Wed, May 11, 2022, 16:43:09 - poikilotherm: Glad I already spent some time with the conversion to EE 9.1
Wed, May 11, 2022, 16:43:16 - poikilotherm: Still more to do for EE 10
Wed, May 11, 2022, 16:43:21 - poikilotherm: Faces 4!
Wed, May 11, 2022, 16:43:27 - pdurbin: whoa
Wed, May 11, 2022, 16:43:43 - pdurbin: lots of change! exciting?
Wed, May 11, 2022, 16:43:47 - pdurbin: or terrifying
Wed, May 11, 2022, 16:44:45 - poikilotherm: Exciting
Wed, May 11, 2022, 16:45:09 - poikilotherm: But also terrifying.
Wed, May 11, 2022, 16:45:33 - poikilotherm: Largest worry: I can't find anything about Primefaces + EE10 compatibility
Wed, May 11, 2022, 16:48:32 - pdurbin: I'm sure this will all sort itself out by the end of the month.
Wed, May 11, 2022, 16:48:38 - * pdurbin puts his feet up
Thu, May 12, 2022, 05:30:18 - beep: <@pdurbin:matrix.org "beep: there are some notes about..."> I went through this and also tried CEDAR. It pretty much checks most of the boxes for our "schema registry" requirements. Do you know pdurbin whether there were any further discussions about CEDAR-DV integration after this August 12, 2021 meeting? Or any steps to develop something in this regard?
Thu, May 12, 2022, 07:16:55 - poikilotherm: But isn't CEDAR much more than a schema registry?
Thu, May 12, 2022, 07:17:39 - poikilotherm: It allows you to define forms for adding metadata via a JSON schema. Great. There are other tools to do this, too. An example from a different domain would be SampleDB. https://scientific-it-systems.iffgit.fz-juelich.de/SampleDB/user\_guide/schemas.html (And we have a working integration of this tool with Dataverse - but of course this is centered around the sample workflow)
Thu, May 12, 2022, 07:18:23 - pdurbin: Philipp was the one who organized that meeting. He might remember if there were further discussions.
Thu, May 12, 2022, 07:29:46 - poikilotherm: pdurbin: what would you think about making the OAI endpoint of Dataverse a JAX-RS based endpoint instead of a Servlet? https://github.com/gdcc/xoai/issues/16
Thu, May 12, 2022, 07:32:37 - pdurbin: poikilotherm: I thought we wanted a drop-in replacement, originally. üòÑ
Thu, May 12, 2022, 07:33:17 - poikilotherm: To be honest: at least the data-provider side of Dataverse OAI-PMH needs an overhaul.
Thu, May 12, 2022, 07:33:35 - poikilotherm: And Leonid and I agree this is necessary.
Thu, May 12, 2022, 07:34:37 - pdurbin: If you two agree, go for it!
Thu, May 12, 2022, 07:34:41 - poikilotherm: The client side might be changed independently  - minimal to no usage of XOAI service-provider in there...
Thu, May 12, 2022, 07:35:30 - poikilotherm: Well I'm asking about your opinion - when cleaning up the server side, would it make sense to switch to Jakarta EE JAX-RS or go with old school Servlets as-is
Thu, May 12, 2022, 07:36:28 - pdurbin: I mean, it sounds more modern to use JAX-RS. Probably less code and XML. Probably cleaner.
Thu, May 12, 2022, 07:36:47 - poikilotherm: :-D
Thu, May 12, 2022, 07:37:30 - poikilotherm: Definitely cleaner - when using a Jakarta EE app, why would you go for Servlets and do all the heavy lifting on your own? ;-)
Thu, May 12, 2022, 08:21:20 - poikilotherm: Oh oh... pdurbinDon Sizemore  when updating my jakarta branch with recent `develop`, the merged version breaks Maven...
Thu, May 12, 2022, 08:37:10 - poikilotherm: OK fixed üò¨ü´£
Thu, May 12, 2022, 08:51:14 - beep: <@oliver:bertuch.name "But isn't CEDAR much more than a..."> The core is the schema registry/template registry and a data input engine based on these templates to enter the actual metadata. In principle it is really like the metadatablock .tsv-s and the metadata UI in dv. We also had systems like this in the past. What I find nice in CEDAR is that these templates can be built based on ontologies, which provide a huge set of terms with an easy lookup mechanims right in CEDAR. And then there's now an "embeddable editor", which can be used outside of CEDAR in you own app to input metadata using the templates you assembled in CEDAR

https://www.youtube.com/watch?v=-Q0kLtsWN48

This seems like something that could be interesting from dv point of view.
Thu, May 12, 2022, 09:08:30 - pdurbin: Yeah, I think CEDAR is interesting. It's just that Dataverse already has half or so of what CEDAR does. Lots of overlap. Not super clear to me how to neatly bring CEDAR and Dataverse together without a lot of refactoring.
Thu, May 12, 2022, 09:14:57 - poikilotherm: CEDAR has submission options. Maybe they can add one for Dataverse?
Thu, May 12, 2022, 09:15:35 - pdurbin: Submit what? A tsv that gets loaded into Dataverse as a metadata block?
Thu, May 12, 2022, 11:35:56 - poikilotherm: No, you can submit your metadata to sth
Thu, May 12, 2022, 11:36:19 - poikilotherm: https://metadatacenter.github.io/cedar-manual/sections/a5/4_special_case_submitting_your_metadata/
Thu, May 12, 2022, 11:37:29 - poikilotherm: DANG!  A cold day in hell today. Nvidia is about to release GPU kernel drivers under GPL and MIT
Thu, May 12, 2022, 11:37:49 - poikilotherm: https://developer.nvidia.com/blog/nvidia-releases-open-source-gpu-kernel-modules/
Thu, May 12, 2022, 11:46:28 - pdurbin: Sure, no objection to Dataverse as a submission option from CEDAR. I assume you mean a dataset gets created.
Fri, May 13, 2022, 04:23:12 - lincoln_: Hi Everyone: I know it sounds subjetive but
 Can anyone please suggest me a good example(s for a Dataverse-instance and its Dataset written so that I can showcase the user  how the metadata should be filled.(for example: the Descriptive section)
Fri, May 13, 2022, 06:57:31 - pdurbin: lincoln_: I would suggest asking at https://groups.google.com/g/dataverse-community
Fri, May 13, 2022, 11:40:27 - poikilotherm: Thx pdurbin for fixing the `make html` and docs! ‚ù§Ô∏è
Fri, May 13, 2022, 11:44:09 - pdurbin: Sure. I didn't touch `make html` though.
Fri, May 13, 2022, 11:44:23 - pdurbin: Those docs were driving me crazy. Seemed worth a few minutes.
Fri, May 13, 2022, 11:44:47 - pdurbin: Plus, I'm scared of picking up the Payara 6/EE 10 upgrade issue. üò±
Fri, May 13, 2022, 12:27:17 - poikilotherm: :-D
Fri, May 13, 2022, 12:27:31 - poikilotherm: pdurbin: look at what's coming in... https://s01.oss.sonatype.org/content/repositories/snapshots/io/gdcc/
Fri, May 13, 2022, 12:27:51 - poikilotherm: (But be aware that I hadn't the time to make our required changes yet)
Fri, May 13, 2022, 12:28:04 - poikilotherm: (Too busy doing paper work so money comes our way)
Fri, May 13, 2022, 12:30:21 - poikilotherm: Alright folks that's it for me for today - will head out now. Mention to summon me ;-)
Fri, May 13, 2022, 12:30:34 - poikilotherm: Have a nice weekend everyone
Sat, May 14, 2022, 07:41:49 - Philipp: <@pdurbin:matrix.org "Sure, no objection to Dataverse ..."> beep poikilotherm pdurbin: My understanding is that CEDAR is used by researchers to capture metadata in the active phase of their projects. I think it would be useful to integrate it with repositories, so that researchers just could retrieve metadata from CEDAR when they deposit their data in a Dataverse repository. See some thoughts about this in this presentation: https://hdl.handle.net/10037/21462. CEDAR is collaborating on this with Dryad; cf. https://blog.datadryad.org/2021/09/29/metadata-game-changers-stanford-university-and-dryad-receive-nsf-funding-to-improve-metadata-quality-and-connect-repositories/. I also think that integrating Dataverse with CEDAR might allow for more complex (e.g. nested) metadata schemas to be supported in Dataverse.
Sun, May 15, 2022, 23:53:18 - beep: Thanks, Philipp, these are really helpful!
Sun, May 15, 2022, 23:56:01 - beep: Does this Dryad collaboration target Dataverse integration of CEDAR?
Mon, May 16, 2022, 03:53:32 - beep: In this talk https://www.youtube.com/watch?v=mWMPxCwB2ys you mentioned that CESSDA Metadata Model and Component Metadata Infrastructure schemas are being developed by the community. Are these already available somewhere?
Mon, May 16, 2022, 07:47:22 - lincoln_: Are there limits to number of files that could be uploaded on datasets?
Mon, May 16, 2022, 09:23:43 - pdurbin: lincoln_: nope, no limits
Mon, May 16, 2022, 09:44:05 - Don Sizemore: @poikilotherm anything special that needs to happen for sphinx-icon?
Mon, May 16, 2022, 09:44:36 - poikilotherm: Don Sizemore: nope - dead simple `pip install -r requirements.txt`
Mon, May 16, 2022, 09:45:16 - Don Sizemore: "cmd": ["/bin/pip3", "install", "sphinx==3.5.4", "Jinja2<3.1,>=3.0.2", "sphinx-icon==0.1.2"]
Could not find a version that satisfies the requirement sphinx-icon==0.1.2
Mon, May 16, 2022, 09:45:55 - poikilotherm: https://pypi.org/project/sphinx-icon/
Mon, May 16, 2022, 09:46:01 - poikilotherm: ü§∑
Mon, May 16, 2022, 09:46:31 - Don Sizemore: Python >=3.6.9 
Mon, May 16, 2022, 09:46:39 - Don Sizemore: Rocky provides 3.6.8
Mon, May 16, 2022, 09:46:58 - poikilotherm: D'Oh!
Mon, May 16, 2022, 09:47:13 - Don Sizemore: it also provides 3.8 and 3.9, but the default is 3.6.8
Mon, May 16, 2022, 09:47:43 - pdurbin: Huh, I'm surprised /bin/pip3 can't find it.
Mon, May 16, 2022, 09:48:29 - poikilotherm: 3.6 is quite... Dated. ‚úåÔ∏è
Mon, May 16, 2022, 09:50:07 - Don Sizemore: "dated" is a polite word to describe Python library incompatibilities.
Mon, May 16, 2022, 09:55:05 - pdurbin: Even if I do `pip install --no-cache-dir sphinx-icon` I get the version we want: 0.1.2. I tried this because the download button at https://pypi.org/project/sphinx-icon/ is a 404 for me.
Mon, May 16, 2022, 09:57:07 - Don Sizemore: fixed.
Mon, May 16, 2022, 10:01:41 - pdurbin: Nice. I just pushed to the branch to trigger a build. Thanks!
Mon, May 16, 2022, 10:21:56 - poikilotherm: BTW pdurbin I had a crazy idea during the weekend about refactoring the metadata exporters. (this is HERMES related, so sth I should look at)
Mon, May 16, 2022, 10:24:09 - Philipp: <@beeppeeb:matrix.org "Does this Dryad collaboration ta..."> Not that I'm aware of. It's an integration between the Dryad repository/repository software and CEDAR.
Mon, May 16, 2022, 10:24:46 - beep: Ok, I see, thanks!
Mon, May 16, 2022, 10:26:49 - pdurbin: beep: I'm glad you found the recording of Philipp's talk. I should carve out some time to watch it again.
Mon, May 16, 2022, 10:27:47 - beep: Yes, and that whole session and discussion was very interesting!
Mon, May 16, 2022, 10:30:01 - Philipp: <@beeppeeb:matrix.org "In this talk https://www.youtube..."> You might want to reach out to Slava at DANS: https://twitter.com/4tykhonov
Mon, May 16, 2022, 10:31:16 - pdurbin: Vyacheslav Tikhonov: ^^
Mon, May 16, 2022, 10:33:06 - beep: Good idea. I've seen he's been involved in the external controlled vocabulary based developments, which is very similar to what CEDAR does. And it was also a question at the end by John Graybeal how the current CV implementationa and a possible CEDAR-DV integration would fit together. Now this is also my question. :-)
Mon, May 16, 2022, 10:36:43 - beep: There were mentions of slack channels where discussions on metadata and similar topics are happening. Where can I find these channels? I was unable to google them. Or are these only available to GDCC members?
Mon, May 16, 2022, 10:38:18 - pdurbin: Speaking of external vocabularies, I've been meaning to mention that we recently hooked up the Author Affiliation field to ROR (Research Organization Registry, a long list of orgs) at https://demo.dataverse.org . Try it out!  Maybe I'll do a demo during tomorrow's community call.
Mon, May 16, 2022, 10:39:15 - pdurbin: beep: if you'd like access to the Dataverse Community Slack, please email support@dataverse.org
Mon, May 16, 2022, 10:44:07 - beep: <@pdurbin:matrix.org "beep: if you'd like access to th..."> Oh, thanks, I just did!
Mon, May 16, 2022, 10:47:39 - pdurbin: beep: ticket #320153. Thanks. Someone should get back to you soon.
Mon, May 16, 2022, 11:36:22 - pdurbin: poikilotherm Don Sizemore I just picked up the Payara 6/EE 10 upgrade issue. Help! 
Mon, May 16, 2022, 12:38:09 - Don Sizemore: now there is `6.2022.1 Alpha 2` (or was it Alpha 2 a few weeks ago?)
Mon, May 16, 2022, 12:43:29 - Don Sizemore: yes. yes it was: https://github.com/IQSS/dataverse/issues/8305#issuecomment-1061998912
Mon, May 16, 2022, 12:59:10 - Don Sizemore: @pdurbin kind of tough for you to stick a fork in this issue when it isn't even in beta yet?
Mon, May 16, 2022, 13:14:28 - pdurbin: yeah
Mon, May 16, 2022, 13:30:37 - pdurbin: Don Sizemore: what's our CI strategy? Can we pass the required info into the spin up script? If memory serves, we can pass in a URL to the version of Payara to use.
Mon, May 16, 2022, 13:46:59 - Don Sizemore: @pdurbin we could set up a separate Jenkins job, maybe. you can set the Payara URL as a group_var
Mon, May 16, 2022, 13:48:28 - pdurbin: Ok, because IQSS-Dataverse-Develop-PR always uses Payara 5, I guess. So a similar job but with Payara 6.
Mon, May 16, 2022, 14:04:46 - Don Sizemore: We can just clone develop and have it watch your branch, but with Payara6 group_vars
Mon, May 16, 2022, 14:05:36 - Don Sizemore: Vagrant does run on OS X if you'd like to do some local testing?
Mon, May 16, 2022, 14:09:33 - pdurbin: Yeah. And there's also docker-aio for local testing. I'll probably start there.
Mon, May 16, 2022, 16:04:53 - poikilotherm: <@pdurbin:matrix.org "poikilotherm Don Sizemore I just..."> Regarding the technical side: as long as there is no Payara with Jakarta 10, we cannot test it, debug and develop with 10. Their develop branch is also still on EE 9.1
Mon, May 16, 2022, 16:07:03 - pdurbin: Hmm. So what should we do? Wait? What an odd position to put one's users in.
Mon, May 16, 2022, 16:08:01 - poikilotherm: We could try to mess with our parent to push us to Faces 4.0. I see JARs of that on Central
Mon, May 16, 2022, 16:08:36 - pdurbin: I guess. Have you checked any Payara mailing lists or whatever? Any chatter about this?
Mon, May 16, 2022, 16:08:57 - poikilotherm: Sorry, didn't see any
Mon, May 16, 2022, 16:09:51 - pdurbin: Ok. Any precedence for this? What happened to Payara 4 Community Edition customers?
Mon, May 16, 2022, 16:11:32 - pdurbin: Maybe we can get a stay of execution. üòÑ
Mon, May 16, 2022, 16:13:20 - Don Sizemore: I appreciate your being concerned over this move, but a lot of Dataverse installations are still running Glassfish 4.1...
Mon, May 16, 2022, 16:13:33 - Don Sizemore:  (It's gon' be alright)
Mon, May 16, 2022, 16:14:28 - poikilotherm: Interesting - https://github.com/eclipse-ee4j/jakartaee-api is already at 11-SNAPSHOT, but I can't find any EE 10 JARs 
Mon, May 16, 2022, 16:17:16 - poikilotherm: Oi pdurbin did ya see my question at https://github.com/gdcc/sword2-server/issues/43#issuecomment-1127727003
Mon, May 16, 2022, 16:18:28 - pdurbin: I did. My impulse to to say "small chunks". Let's deal with this in a few months. So I'd say neither `main`, nor `jakarta` branch. Some future branch.
Mon, May 16, 2022, 16:19:45 - poikilotherm: OK whatever works for y'all
Mon, May 16, 2022, 16:19:55 - poikilotherm: At least we have a plan ‚úåÔ∏è
Mon, May 16, 2022, 16:20:56 - pdurbin: Right. Easier than I thought! I hope! But for another day. If you want, I can go ahead and re-open the issue in the main repo.
Mon, May 16, 2022, 16:23:07 - poikilotherm: Isn't there sth like a remind me bot, so we see a notification for this issue in a few months time?
Mon, May 16, 2022, 16:23:43 - pdurbin: It'd be fun to have Matrix bot.
Mon, May 16, 2022, 16:24:35 - pdurbin: a Matrix bot
Tue, May 17, 2022, 07:56:09 - pdurbin: Community call in 3 hours. We're having a demo: https://groups.google.com/g/dataverse-community/c/GHyVwb7So9k/m/AnYnQ-foBgAJ
Tue, May 17, 2022, 09:44:46 - pdurbin: poikilotherm Don Sizemore do you think we should go to this Payara 6 webinar? https://twitter.com/Payara_Fish/status/1526195886304411650
Tue, May 17, 2022, 09:47:08 - Don Sizemore: pdurbin: sound good to me. hope it doesn't run longer than an hour... ;)
Tue, May 17, 2022, 09:50:30 - pdurbin: I hope that for all meetings. üòÑ
Tue, May 17, 2022, 11:23:17 - poikilotherm: pdurbin: I've setup JMH benchmarking for the first time :-D
Tue, May 17, 2022, 11:55:15 - pdurbin: JMH?
Tue, May 17, 2022, 12:03:23 - pdurbin: poikilotherm: are you able to help fill in an answer for "Are there any updates/progress on the idea of developing a code/software dataset type?" at https://docs.google.com/document/d/1L3KIEbOxzBLrOG_P-SyGg-qws9N_S0iNdAyDuEA4vdY/edit?usp=sharing
Tue, May 17, 2022, 12:06:26 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: are you able to he..."> Maybe... What was/is the baseline for this question? Are they aware of the WG, HERMES etc?
Tue, May 17, 2022, 12:06:46 - poikilotherm: Java Microbenchmarking, https://github.com/openjdk/jmh
Tue, May 17, 2022, 13:15:57 - pdurbin: poikilotherm: I mentioned HERMES. And objective 2 of Harvard Data Commons. What's the working group? SWC? I forgot to mention that.
Tue, May 17, 2022, 13:18:28 - poikilotherm: Yeah, SWC
Tue, May 17, 2022, 13:29:42 - pdurbin: Ok. SWC has been quiet lately, I think.
Tue, May 17, 2022, 13:32:05 - pdurbin: <@oliver:bertuch.name "BTW pdurbin I had a crazy idea d..."> Did you ever tell me your crazy idea?
Tue, May 17, 2022, 13:32:19 - poikilotherm: Nope I didn't want to stress you too much :-D
Tue, May 17, 2022, 13:33:29 - pdurbin: Thanks. üòÑ
Tue, May 17, 2022, 13:33:41 - pdurbin: You could always write it up as an issue.
Tue, May 17, 2022, 13:33:53 - pdurbin: Or we have tech hours in ~90 minutes.
Tue, May 17, 2022, 13:34:05 - poikilotherm: pdurbin: when you're curious about JMH benchmarking, have a sneak peek ;-) https://github.com/gdcc/xoai/blob/20-skip-metadata-pipeline/xoai-common/src/test/java/io/gdcc/xoai/tests/util/EchoElementBenchmark.java
Tue, May 17, 2022, 13:34:46 - pdurbin: Ah, this is for XOAI. Neat.
Tue, May 17, 2022, 13:35:28 - poikilotherm: Here's what I found... https://github.com/gdcc/xoai/issues/20#issuecomment-1129096781
Tue, May 17, 2022, 13:35:59 - pdurbin: cool
Tue, May 17, 2022, 13:36:30 - pdurbin: poikilotherm if I want to kick the tires on Payara 6 stuff in the next 90 minutes I'd use your branch?
Tue, May 17, 2022, 13:36:55 - poikilotherm: Sure
Tue, May 17, 2022, 13:37:20 - poikilotherm: It might be not 100% develop, but it should only be a few commits behind
Tue, May 17, 2022, 13:37:39 - pdurbin: You seem to have two branches.
Tue, May 17, 2022, 13:37:50 - poikilotherm: https://github.com/poikilotherm/dataverse/tree/jakarta
Tue, May 17, 2022, 13:38:08 - poikilotherm: The jakartas with date attached are "savegames"
Tue, May 17, 2022, 13:38:23 - pdurbin: üòÑ
Tue, May 17, 2022, 13:38:38 - poikilotherm: If you feel like it, we can also make this a branch in the main repo
Tue, May 17, 2022, 13:38:38 - pdurbin: So maybe I can try running this in docker-aio or something.
Tue, May 17, 2022, 13:38:48 - poikilotherm: And start to create PRs against it
Tue, May 17, 2022, 13:39:59 - poikilotherm: Oh the branch doesn't contain the flyway things
Tue, May 17, 2022, 13:40:09 - poikilotherm: If you want I can update this before you give it a shot
Tue, May 17, 2022, 13:41:21 - pdurbin: Sure, if you don't mind.
Tue, May 17, 2022, 13:46:23 - poikilotherm: pdurbin: the Jakarta branch has been force pushed
Tue, May 17, 2022, 13:47:52 - poikilotherm: pdurbin: Unit tests on the branch went smoothly
Tue, May 17, 2022, 13:53:36 - pdurbin: poikilotherm I pulled. Thanks!
Tue, May 17, 2022, 14:00:59 - poikilotherm: pdurbin: would you do me a favor? Could you checkout https://github.com/gdcc/xoai/tree/20-skip-metadata-pipeline and run the benchmark via `mvn -Pbenchmark clean test` ?
Tue, May 17, 2022, 14:17:59 - pdurbin: [INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for XOAI : OAI-PMH Java Toolkit 5.0.0-SNAPSHOT:
[INFO] 
[INFO] XOAI : OAI-PMH Java Toolkit ........................ SUCCESS [  0.958 s]
[INFO] XOAI XML IO Commons ................................ SUCCESS [  1.399 s]
[INFO] XOAI Commons ....................................... SUCCESS [02:07 min]
[INFO] XOAI Data Provider ................................. SUCCESS [  0.697 s]
[INFO] XOAI Service Provider .............................. SUCCESS [  0.528 s]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  02:12 min
[INFO] Finished at: 2022-05-17T14:06:08-04:00
[INFO] ------------------------------------------------------------------------
Tue, May 17, 2022, 14:37:09 - pdurbin: poikilotherm ^^
Tue, May 17, 2022, 14:38:07 - poikilotherm: Uhm no may I request the JMH output?
Tue, May 17, 2022, 14:38:16 - poikilotherm: it should be there when scrolling up
Tue, May 17, 2022, 14:38:30 - poikilotherm: Comes from the XOAI Commons module
Tue, May 17, 2022, 14:38:55 - poikilotherm: The very last output of it is fine
Tue, May 17, 2022, 14:39:04 - poikilotherm: (Which compares the benchmarks)
Tue, May 17, 2022, 14:39:22 - pdurbin: [INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running io.gdcc.xoai.tests.util.EchoElementBenchmark
# JMH version: 1.35
# VM version: JDK 11.0.10, OpenJDK 64-Bit Server VM, 11.0.10+9
# VM invoker: /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java
# VM options: -Duser.timezone=UTC -Dfile.encoding=UTF-8 -Duser.language=en -Duser.region=US
# Blackhole mode: full + dont-inline hint (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 10 s each
# Measurement: 4 iterations, 10 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Throughput, ops/time
# Benchmark: io.gdcc.xoai.tests.util.EchoElementBenchmark.writeWithEchoElement

# Run progress: 0.00% complete, ETA 00:02:00
# Fork: 1 of 1
# Warmup Iteration   1: 0.788 ops/s
# Warmup Iteration   2: 0.852 ops/s
Iteration   1: 0.834 ops/s
Iteration   2: 0.839 ops/s
Iteration   3: 0.846 ops/s
Iteration   4: 0.852 ops/s


Result "io.gdcc.xoai.tests.util.EchoElementBenchmark.writeWithEchoElement":
  0.843 ¬±(99.9%) 0.052 ops/s [Average]
  (min, avg, max) = (0.834, 0.843, 0.852), stdev = 0.008
  CI (99.9%): [0.791, 0.895] (assumes normal distribution)


# JMH version: 1.35
# VM version: JDK 11.0.10, OpenJDK 64-Bit Server VM, 11.0.10+9
# VM invoker: /Library/Java/JavaVirtualMachines/adoptopenjdk-11.jdk/Contents/Home/bin/java
# VM options: -Duser.timezone=UTC -Dfile.encoding=UTF-8 -Duser.language=en -Duser.region=US
# Blackhole mode: full + dont-inline hint (auto-detected, use -Djmh.blackhole.autoDetect=false to disable)
# Warmup: 2 iterations, 10 s each
# Measurement: 4 iterations, 10 s each
# Timeout: 10 min per iteration
# Threads: 1 thread, will synchronize iterations
# Benchmark mode: Throughput, ops/time
# Benchmark: io.gdcc.xoai.tests.util.EchoElementBenchmark.writeWithStream

# Run progress: 50.00% complete, ETA 00:01:04
# Fork: 1 of 1
# Warmup Iteration   1: 21.527 ops/s
# Warmup Iteration   2: 23.503 ops/s
Iteration   1: 23.100 ops/s
Iteration   2: 22.530 ops/s
Iteration   3: 22.561 ops/s
Iteration   4: 22.922 ops/s


Result "io.gdcc.xoai.tests.util.EchoElementBenchmark.writeWithStream":
  22.778 ¬±(99.9%) 1.801 ops/s [Average]
  (min, avg, max) = (22.530, 22.778, 23.100), stdev = 0.279
  CI (99.9%): [20.978, 24.579] (assumes normal distribution)


# Run complete. Total time: 00:02:04

REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial
experiments, perform baseline and negative tests that provide experimental control, make sure
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.
Do not assume the numbers tell you what you want them to tell.

Benchmark                                   Mode  Cnt   Score   Error  Units
EchoElementBenchmark.writeWithEchoElement  thrpt    4   0.843 ¬± 0.052  ops/s
EchoElementBenchmark.writeWithStream       thrpt    4  22.778 ¬± 1.801  ops/s
[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 124.888 s - in io.gdcc.xoai.tests.util.EchoElementBenchmark
[INFO] 

Tue, May 17, 2022, 14:39:35 - poikilotherm: Great, thx!
Tue, May 17, 2022, 14:39:42 - poikilotherm: So you have a rather slow disk
Tue, May 17, 2022, 14:39:57 - pdurbin: I blame Apple.
Tue, May 17, 2022, 14:40:20 - poikilotherm: Hrhr
Tue, May 17, 2022, 14:41:20 - poikilotherm: It's shuffeling max 1150MiB/s, which means ~2.2GiB/s IO on your disk (read and write need half of the overall bandwidth)
Tue, May 17, 2022, 17:18:11 - pdurbin: ok
Tue, May 17, 2022, 17:29:52 - poikilotherm: pdurbin: maybe we can throw all of the rewrite stuff away and use a custom filter instead for the more or less static set of rewrites we have and want. https://blog.adamgamboa.dev/friendly-url-in-jsf-with-a-simple-rewriter-url//
Tue, May 17, 2022, 18:20:49 - carlsonp: I put a PR in for the docker-compose stuff, it sounds like some of you have way more experience in this than me so I would really appreciate comments and suggestions
Tue, May 17, 2022, 18:21:36 - carlsonp: hope everyone is having a nice week :)
Wed, May 18, 2022, 05:26:07 - poikilotherm: pdurbinKir√°ly P√©ter I'm laughing my ass of over here... Still benchmarking different approaches to writing out the OAI-PMH metadata from the pregenerated data. Kir√°ly P√©ter fixed the bug with the `<?xml ...>` contained in the response (which is invalid XML, see https://github.com/IQSS/dataverse/issues/7431), but this made a HUUUUUUUUUUUUUUGE performance degration. While the original approach was IO bound only, the `ReplacingInputStream` made the throughput even worse than using the XOAI native approach!
Wed, May 18, 2022, 05:26:51 - poikilotherm: Leonid might be worried about performance, but it looks like nobody even noticed since last year :-D
Wed, May 18, 2022, 05:42:36 - poikilotherm: ```
Benchmark                                       Mode  Cnt   Score    Error  Units
EchoElementBenchmark.copyElementBuffered       thrpt    3   2.525 ¬±  0.917  ops/s
EchoElementBenchmark.copyElementStreamCopy     thrpt    3  39.113 ¬±  8.296  ops/s
EchoElementBenchmark.copyElementStreamReplace  thrpt    3   0.059 ¬±  0.057  ops/s
EchoElementBenchmark.dvStreamCopy              thrpt    3  44.508 ¬± 35.749  ops/s
EchoElementBenchmark.dvStreamReplace           thrpt    3   0.059 ¬±  0.006  ops/s
EchoElementBenchmark.echoElement               thrpt    3   0.987 ¬±  0.201  ops/s
```
Wed, May 18, 2022, 05:46:49 - poikilotherm: That performance degration from the old, but buggy stream copy to the valid, but slow stream replace variant is 754x ... ü§Ø
Wed, May 18, 2022, 07:15:00 - pdurbin: The Dataverse Community Slack just reached its 10,000 message limit: https://github.com/IQSS/dataverse/issues/8712
Wed, May 18, 2022, 09:02:20 - poikilotherm: pdurbin: I was able to find an almost native speed solution for https://github.com/IQSS/dataverse/issues/7431, now incorporated right into the XOAI library :-)
Wed, May 18, 2022, 09:03:18 - pdurbin: Nice. And are you saying the null pointer fix by Peter hurts performance? That's unfortunate.
Wed, May 18, 2022, 09:09:42 - poikilotherm: ```
Benchmark                                       Mode  Cnt   Score    Error  Units
EchoElementBenchmark.copyElementBuffered       thrpt    3   3.758 ¬±  0.668  ops/s
EchoElementBenchmark.copyElementFixHeadOnly    thrpt    3  33.744 ¬± 32.066  ops/s
EchoElementBenchmark.copyElementStreamCopy     thrpt    3  35.692 ¬±  1.449  ops/s
EchoElementBenchmark.copyElementStreamReplace  thrpt    3   0.058 ¬±  0.057  ops/s
EchoElementBenchmark.dvStreamCopy              thrpt    3  43.018 ¬± 26.095  ops/s
EchoElementBenchmark.dvStreamReplace           thrpt    3   0.061 ¬±  0.010  ops/s
EchoElementBenchmark.echoElement               thrpt    3   0.967 ¬±  0.303  ops/s
```
Wed, May 18, 2022, 09:10:56 - poikilotherm: It's a slight performance decrease compared with the (non-compliant) simple stream copy with ~34ops/s vs 43ops/s
Wed, May 18, 2022, 09:11:23 - poikilotherm: But it is a fix and it is WAY faster than the StreamReplace approach
Wed, May 18, 2022, 09:11:28 - pdurbin: Ok. Slight. I was thrown off by "HUUUUUUUUUUUUUUGE performance degration" üòÑ
Wed, May 18, 2022, 09:11:56 - poikilotherm: No no - slight decrease is my all new solution
Wed, May 18, 2022, 09:12:31 - poikilotherm: Compare dvStreamCopy vs dvStreamReplace and you'll cry tears üò≠
Wed, May 18, 2022, 09:12:43 - pdurbin: ok, understanding, dawn, and coffee are hitting me
Wed, May 18, 2022, 09:13:06 - pdurbin: poikilotherm: hey, we should give carlsonp some feedback on the docker compose PR
Wed, May 18, 2022, 09:13:19 - pdurbin: This: https://github.com/IQSS/dataverse/pull/8709
Wed, May 18, 2022, 09:13:47 - carlsonp: yeah no rush, if you're in the middle of other stuff don't want to drag you away
Wed, May 18, 2022, 09:14:00 - pdurbin: carlsonp I'm super excited about it but I'm snowed under trying to get Dataverse to run on Payara 6.
Wed, May 18, 2022, 09:14:03 - poikilotherm: Seen that and had a glimpse. For an in-depth review I am afraid I don't have the time. It's a lot going on over here
Wed, May 18, 2022, 09:14:33 - pdurbin: I'd like to hear from poikilotherm if this gets us a little closer to someday pushing images to Docker Hub (from the main repo, I mean).
Wed, May 18, 2022, 09:20:47 - pdurbin: As time allows. üòÑ I have other stuff to talk about too. rewrite/prettyfaces, etc.
Wed, May 18, 2022, 09:22:13 - pdurbin: And getting docker-aio changes into the jakarta branch.
Wed, May 18, 2022, 09:24:05 - pdurbin: carlsonp: one thought... I'm using docker-aio to test the upgrade to Payara 6. Maybe you could start a new branch based off your compose branch and try to merge the jakarta branch into it. With the idea of getting your stuff working on Payara 6.
Wed, May 18, 2022, 09:29:15 - beep: <@pdurbin:matrix.org "This: https://github.com/IQSS/da..."> I will also give it a try tomorrow, very interested in an easy docker-compose based setup!
Wed, May 18, 2022, 09:29:29 - carlsonp: sure what's your branch called?
Wed, May 18, 2022, 09:30:26 - pdurbin: carlsonp: https://github.com/poikilotherm/dataverse/tree/jakarta
Wed, May 18, 2022, 09:31:53 - pdurbin: If you compare it to develop you'll see a lot of namespaces changes (javax to jakarta). This is to move from EE 8 to newer (9 or 10): https://github.com/IQSS/dataverse/compare/develop...poikilotherm:jakarta?expand=1
Wed, May 18, 2022, 09:42:34 - carlsonp: no binaries for Payara 6 yet? https://github.com/payara/Payara/releases
Wed, May 18, 2022, 09:49:37 - pdurbin: carlsonp: I'm using https://s3.eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/6.2022.1.Alpha2/payara-6.2022.1.Alpha2.zip
Wed, May 18, 2022, 10:47:37 - pdurbin: carlsonp: I'm not sure if this is helpful or interesting, but https://github.com/poikilotherm/dataverse/pull/546 are some proposed changes to poikilotherm branch to upgrade docker-aio to Payara 6.
Wed, May 18, 2022, 10:53:42 - pdurbin: I guess I'm thinking that if you make a new branch and apply similar changes to your docker-compose, I could try using it in the "upgrade to Payara 6" context I'm working in.
Wed, May 18, 2022, 10:56:33 - Don Sizemore: pdurbin: Good morning. I'm planning an installation upgrade, and finding a handful of files beneath domain1/ owned by root. one is a custom properties file, one a logo, one an imqbroker lock.bak file. I'm imagining I'll need to chown these all to the Dataverse service account? Any other things to look for if they're running Dataverse as an unprivileged user but have performed at least some actions as root?
Wed, May 18, 2022, 10:58:07 - pdurbin: Woof. That's probably a Leonid question. I would hope that everything could be chown'ed to the service account.
Wed, May 18, 2022, 11:07:53 - Don Sizemore: chowning is easy; I suppose I need to go through root's (1024-line) .bash_history but I hope chowning is all that needs to be done.
Wed, May 18, 2022, 14:08:18 - Alexandre Abreu: Hi guys! How are you ?
How can I show my dataverse installation in the map " Dataverse Installations Around the World " ?
Wed, May 18, 2022, 14:12:03 - Don Sizemore: Alexandre Abreu: Excellent! I think you submit a PR to add yourself to https://github.com/IQSS/dataverse-installations/blob/master/data/data.json but @pdurbin may know better.
Wed, May 18, 2022, 14:52:37 - pdurbin: Don Sizemore close!
Wed, May 18, 2022, 14:53:27 - pdurbin: Alexandre Abreu: please open a new issue at https://github.com/IQSS/dataverse-installations/issues ... you should see a template called "Add Dataverse repository to Dataverse map"
Wed, May 18, 2022, 15:07:48 - pdurbin: Don Sizemore: the JSON file absolutely powers the map. But we generate it with a Python script that pulls the data out of a Google Spreadsheet. Usually Julian, Sherry, or I use the info in the issue to populate the spreadsheet, and the run the script, git commit, git push, git merge, etc.
Wed, May 18, 2022, 15:08:06 - Don Sizemore: I remember the spreadsheet now
Wed, May 18, 2022, 15:09:35 - pdurbin: We could get fancier. But so far this is working pretty well. And much better, in my opinion, than the old Django-based system. Just a static site and a script. Some data. Simple.
Thu, May 19, 2022, 01:11:49 - beep: carlsonp: one thing I noticed in your dataverse/Dockerfile is that instead of

ENV JAVA_HOME /usr/lib/jvm/java-11-openjdk-amd64

I had to use 

ENV JAVA_HOME /usr/lib/jvm/java-1.11.0-openjdk-arm64

after mvn didn't want to start and I did a 

RUN update-java-alternatives --list

which gave 

java-1.11.0-openjdk-amd64      1111      /usr/lib/jvm/java-1.11.0-openjdk-amd64 

Now mvn runs, although it seems to be stuck for me at the moment, but it is probably an issue in my environment or network.
Thu, May 19, 2022, 03:37:28 - beep: I just realized this is because of the amd/arm architecture difference.
Thu, May 19, 2022, 09:07:58 - pdurbin: poikilotherm have you had a chance to look at https://github.com/poikilotherm/dataverse/pull/546 ?
Thu, May 19, 2022, 09:08:15 - pdurbin: Also, good morning, everybody. üòÑ
Thu, May 19, 2022, 09:13:07 - poikilotherm: <@pdurbin:matrix.org "poikilotherm have you had a chan..."> Nope - I didn't understand you need my input :-D
Thu, May 19, 2022, 09:13:20 - poikilotherm: Guten Morgen pdurbin 
Thu, May 19, 2022, 09:13:33 - pdurbin: If you merge it, that's input enough. üòÑ
Thu, May 19, 2022, 09:13:42 - poikilotherm: Ship it üö¢
Thu, May 19, 2022, 09:14:10 - poikilotherm: pdurbin: Merged :-)
Thu, May 19, 2022, 09:14:17 - pdurbin: thanks! üöÄ
Thu, May 19, 2022, 09:17:14 - Pallinger P√©ter joined the room
Thu, May 19, 2022, 09:21:44 - Pallinger P√©ter: Hello, I am reading the API documentation, and failed to find a way to delete files. Is there a way to delete files using the API or is this functionality deliberately left out?
Thu, May 19, 2022, 09:22:12 - Pallinger P√©ter: You can delete files using the GUI, AFAIK...
Thu, May 19, 2022, 09:22:52 - pdurbin: Pallinger P√©ter: sigh. It's a known issue. Please leave a comment here: https://github.com/IQSS/dataverse/issues/3913
Thu, May 19, 2022, 09:23:56 - Pallinger P√©ter: Ah, I failed to correctly research the issue... Thank you, and sorry!
Thu, May 19, 2022, 09:24:13 - pdurbin: No, no. It's not you it's me. Or us. üòÑ
Thu, May 19, 2022, 09:25:16 - pdurbin: For anyone reading this in the future who doesn't click the issue above, the workaround is to use the SWORD API: https://guides.dataverse.org/en/5.10.1/api/sword.html#delete-a-file-by-database-id
Thu, May 19, 2022, 09:40:47 - j-n-c (@jose_carvalho:matrix.org): Hi, I'm trying to setup Make Data Count and have stumbled into a problem. I have configured everything according to the documentation and can generate the SUSHI report and run the curl -X POST "http://localhost:8080/api/admin/makeDataCount/addUsageMetricsFromSushiReport?reportOnDisk=... command successfully
Thu, May 19, 2022, 09:41:02 - j-n-c (@jose_carvalho:matrix.org): however my processed log files are empty
Thu, May 19, 2022, 09:41:37 - j-n-c (@jose_carvalho:matrix.org): which results in no data being written in the datasetmetrics table
Thu, May 19, 2022, 09:42:07 - j-n-c (@jose_carvalho:matrix.org): I've searched the community forum but have not found any similar issue
Thu, May 19, 2022, 09:43:18 - j-n-c (@jose_carvalho:matrix.org): could someone point towards what could I check in terms of configuration, services running, etc so that I can troubleshoot what might be happening?
Thu, May 19, 2022, 09:44:50 - pdurbin: j-n-c: did you do this step? https://guides.dataverse.org/en/5.10.1/admin/make-data-count.html#enable-logging-for-make-data-count (set :MDCLogPath to enable logging)
Thu, May 19, 2022, 09:46:27 - j-n-c (@jose_carvalho:matrix.org): I have
Thu, May 19, 2022, 09:46:43 - j-n-c (@jose_carvalho:matrix.org): curl -X GET http://localhost:8080/api/admin/settings/:MDCLogPath
{"status":"OK","data":{"message":"/usr/local/payara5/glassfish/domains/domain1/logs/MakeDataCountLogs"}}
Thu, May 19, 2022, 09:47:30 - j-n-c (@jose_carvalho:matrix.org): I also checked that the counter user can write to this directory and the dataverse user can read from it
Thu, May 19, 2022, 09:47:43 - pdurbin: Hmm. And MakeDataCountLogs is empty?
Thu, May 19, 2022, 09:48:36 - j-n-c (@jose_carvalho:matrix.org): no. the log files are empty
Thu, May 19, 2022, 09:48:57 - j-n-c (@jose_carvalho:matrix.org): ls -al /usr/local/payara5/glassfish/domains/domain1/logs/MakeDataCountLogs
total 24
drwxr-xr-x. 2 counter   counter   4096 mai 19 04:00 .
drwxr-xr-x. 5 dataverse dataverse 8192 mai 19 02:00 ..
-rw-r--r--. 1 counter   counter      0 abr 12 16:19 counter_2022-04-01.log
-rw-r--r--. 1 counter   counter      0 abr 12 16:19 counter_2022-04-02.log
-rw-r--r--. 1 counter   counter      0 abr 12 16:19 counter_2022-04-03.log
-rw-r--r--. 1 counter   counter      0 abr 12 16:19 counter_2022-04-04.log
-rw-r--r--. 1 counter   counter      0 abr 12 16:19 counter_2022-04-05.log
-rw-r--r--. 1 counter   counter      0 abr 12 16:19 counter_2022-04-06.log
(...)
-rw-r--r--. 1 counter   counter      0 mai 17 06:30 counter_2022-05-16.log
-rw-rw-r--. 1 counter   counter      0 mai 18 11:28 counter_2022-05-17.log
-rw-r--r--. 1 counter   counter      0 mai 19 04:00 counter_2022-05-18.log
-rw-rw-r--. 1 counter   counter     62 mai 19 04:00 counter_upgrade_from_logs.log
-rw-rw-r--. 1 counter   counter    951 mai 19 04:00 make-data-count-report.json

Thu, May 19, 2022, 09:48:59 - pdurbin: Anything in server.log? Errors about failing to write to the MDC log?
Thu, May 19, 2022, 09:49:24 - j-n-c (@jose_carvalho:matrix.org): no. nothing there
Thu, May 19, 2022, 09:49:54 - pdurbin: Hmm. Permissions problem maybe?
Thu, May 19, 2022, 09:50:43 - j-n-c (@jose_carvalho:matrix.org): I am running the daily cron from user counter
Thu, May 19, 2022, 09:51:15 - pdurbin: Sorry, I mean Dataverse writing to that MakeDataCountLogs directory.
Thu, May 19, 2022, 09:51:28 - j-n-c (@jose_carvalho:matrix.org): sudo -u counter crontab -e

# RUN DAILY
00 4 * * * /usr/bin/bash /usr/local/counter-processor-0.0.1/counter_update_dataset_usage_from_logs.sh

# RUN WEEKLY (ON SUNDAY)
30 23 * * 7 /usr/bin/bash /usr/local/counter-processor-0.0.1/counter_retrieve_citations_from_datacite.sh

Thu, May 19, 2022, 09:52:20 - pdurbin: We're talking about steps 2 and 4 of https://guides.dataverse.org/en/5.10.1/_images/make-data-count.png right? Dataverse writing to the log.
Thu, May 19, 2022, 09:53:20 - j-n-c (@jose_carvalho:matrix.org): That is my guess
Thu, May 19, 2022, 09:53:42 - j-n-c (@jose_carvalho:matrix.org): the logs are written when I run main.py
Thu, May 19, 2022, 09:53:45 - j-n-c (@jose_carvalho:matrix.org): but are empty
Thu, May 19, 2022, 09:54:04 - j-n-c (@jose_carvalho:matrix.org): -rw-r--r--. 1 counter   counter      **0** mai 19 04:00 counter_2022-05-18.log
Thu, May 19, 2022, 09:55:49 - pdurbin: Hmm, but running main.py (according to that diagram) does steps 6, 7, and 8, none of which are writing log files. Log files should be written by Dataverse.
Thu, May 19, 2022, 09:56:00 - pdurbin: (steps 2 and 4)
Thu, May 19, 2022, 09:57:49 - j-n-c (@jose_carvalho:matrix.org): ok. but does this writting to the log take place? on the fly (maybe rewritting the log file) or at some time during the day?
Thu, May 19, 2022, 09:58:51 - pdurbin: The log should be written to when you (for example) visit a dataset landing page or download a file.
Thu, May 19, 2022, 10:00:03 - j-n-c (@jose_carvalho:matrix.org): ok. on my case the log file creation time is consistent with the time configured for the daily cron to run
Thu, May 19, 2022, 10:00:29 - j-n-c (@jose_carvalho:matrix.org): so perhaps dataverse is not able to write to this folder like you said
Thu, May 19, 2022, 10:01:09 - j-n-c (@jose_carvalho:matrix.org): could you tell me the permissions you have on your log files and their owner?
Thu, May 19, 2022, 10:01:11 - pdurbin: Message deleted
Thu, May 19, 2022, 10:02:00 - j-n-c (@jose_carvalho:matrix.org): currently I have:

**-rw-r--r--**. 1 **counter   counter**      0 mai 19 04:00 counter_2022-05-18.log
Thu, May 19, 2022, 10:02:38 - pdurbin: Can your `dataverse` user write to your MakeDataCountLogs directory?
Thu, May 19, 2022, 10:03:18 - j-n-c (@jose_carvalho:matrix.org): it cannot
Thu, May 19, 2022, 10:03:30 - j-n-c (@jose_carvalho:matrix.org): sudo -u dataverse touch x.log
touch: cannot touch 'x.log': Permission denied
Thu, May 19, 2022, 10:03:58 - pdurbin: Ok, can you adjust the permissions so it can? (And maybe create and issue and/or PR about how this is confusing.) üòÑ
Thu, May 19, 2022, 10:04:24 - j-n-c (@jose_carvalho:matrix.org): sure
Thu, May 19, 2022, 10:04:29 - j-n-c (@jose_carvalho:matrix.org): I'll test that
Thu, May 19, 2022, 10:06:53 - j-n-c (@jose_carvalho:matrix.org): in conclusion:
- user dataverse must be able to write to the logs folder and the log for a given day should instaneously reflect dataset access, file downloads, etc
- (as stated in the documentation) por running the crons, user counter must also be able to write to this folder (to create empty log files on the first run) and user dataverse must be able to read from this folder
Thu, May 19, 2022, 10:06:59 - j-n-c (@jose_carvalho:matrix.org): is this it?
Thu, May 19, 2022, 10:07:22 - pdurbin: Yes, I believe that's what's going on.
Thu, May 19, 2022, 10:07:29 - j-n-c (@jose_carvalho:matrix.org): ok
Thu, May 19, 2022, 10:07:39 - j-n-c (@jose_carvalho:matrix.org): thank's for the help
Thu, May 19, 2022, 10:07:55 - j-n-c (@jose_carvalho:matrix.org): I'll test this and get back to you with some feedback
Thu, May 19, 2022, 10:08:19 - pdurbin: Sure. It's confusing. I'm glad you're working on this because we're talking a lot about MDC now.
Thu, May 19, 2022, 10:08:53 - j-n-c (@jose_carvalho:matrix.org): great! I'll get back to you with my findings
Thu, May 19, 2022, 10:08:56 - j-n-c (@jose_carvalho:matrix.org): thanks again
Thu, May 19, 2022, 10:09:03 - pdurbin: Sure. Good luck!
Thu, May 19, 2022, 10:37:21 - poikilotherm: pdurbin: WDYT - "just ship it?" https://github.com/gdcc/xoai/pull/26
Thu, May 19, 2022, 10:41:36 - pdurbin: I dunno... "Quality Gate failed" üòÑ
Thu, May 19, 2022, 10:41:46 - pdurbin: 13 Code Smells
Thu, May 19, 2022, 10:42:34 - pdurbin: My head is in https://blog.adamgamboa.dev/friendly-url-in-jsf-with-a-simple-rewriter-url/ ... Can you please ask Leonid?
Thu, May 19, 2022, 10:53:44 - carlsonp: I like LGTM for static analysis of codebases: https://lgtm.com/projects/g/IQSS/dataverse/
Thu, May 19, 2022, 10:54:19 - pdurbin: 666 alerts is ominous
Thu, May 19, 2022, 11:49:34 - carlsonp: For the docker-compose stuff I'm working on, would people be opposed if I moved the `Dockerfile` and `docker-compose.yml` file into the root of the git repo? This would cut down on the extra steps needed to make an entire copy of the source folder and move it into the `/conf/docker-compose/dataverse/` subfolder, it's super kludgy just to get it in the right spot to load into the build context for that service
Thu, May 19, 2022, 11:50:53 - pdurbin: You mean replace the fake Dockerfile with "# See http://guides.dataverse.org/en/latest/developers/containers.html" in it? üòÑ
Thu, May 19, 2022, 11:51:35 - pdurbin: With an actual Dockerfile? üòÑ
Thu, May 19, 2022, 11:52:01 - carlsonp: yeah, let me wire it up and try it and ya'll can weigh in
Thu, May 19, 2022, 11:52:34 - carlsonp: this whole copying entire directories around is making me pull my hair out :D
Thu, May 19, 2022, 11:53:08 - pdurbin: Sounds good. What about all your other files? Do you like having them in /conf/docker-compose? Is there a more logical place for them? What do other projects do?
Thu, May 19, 2022, 11:55:31 - carlsonp: I think for the other services that's fine for now, it might be good to consolidate to one implementation at some point in the future though
Thu, May 19, 2022, 11:56:21 - carlsonp: the all-in-one compared to split out services are pretty different designs
Thu, May 19, 2022, 11:56:38 - carlsonp: plus it's less code to test and maintain
Thu, May 19, 2022, 11:57:24 - pdurbin: less code is good
Thu, May 19, 2022, 11:57:48 - pdurbin: did you catch that there's a docker compose file in docker-dcm?
Thu, May 19, 2022, 11:59:07 - carlsonp: yeah I looked through it a little
Thu, May 19, 2022, 11:59:32 - pdurbin: Ok. It's fairly legacy at this point.
Thu, May 19, 2022, 11:59:59 - pdurbin: If we ever end up needing it again, maybe we'll fold the dcm stuff into your compose file.
Thu, May 19, 2022, 12:00:45 - pdurbin: Basically, switch over completely to your stuff and delete both docker-aio and docker-dcm.
Thu, May 19, 2022, 12:00:52 - pdurbin: Assuming your stuff works. üòÑ
Thu, May 19, 2022, 12:01:06 - carlsonp: *crosses fingers*
Thu, May 19, 2022, 12:01:22 - pdurbin: üòÑ
Thu, May 19, 2022, 12:01:31 - pdurbin: Did you give it a try with Payara 6?
Thu, May 19, 2022, 12:01:49 - carlsonp: not yet, I'll try it after I get this refactored
Thu, May 19, 2022, 12:02:02 - pdurbin: cool, cool
Thu, May 19, 2022, 12:56:18 - poikilotherm: <@carlsonp:matrix.org "For the docker-compose stuff I'm..."> As long as we don't interfere with the production containers I'm creating via Docker Maven Plugin, that'll be fine
Thu, May 19, 2022, 13:01:44 - poikilotherm: docker-compose is REALLY bad at interoperability with other build tools
Thu, May 19, 2022, 13:02:21 - pdurbin: Is that maven plugin explained in https://github.com/gdcc/dataverse-kubernetes ? I can't find it.
Thu, May 19, 2022, 13:03:59 - poikilotherm: Nope. I'm using it in https://github.com/gdcc/dataverse/tree/develop+ct. But that one is a bit behind :-( I need to finish the Solr module first to bake good Solr images (and configsets for classic installations)
Thu, May 19, 2022, 13:05:41 - poikilotherm: The overall goal is still being capable of creating the containers, deeply integrated with the Maven build, so we can make use of Testcontainers for integration tests. Lot's of building blocks until we are there :-( And not getting faster by doing "side projects" like XOAI ;-)
Thu, May 19, 2022, 13:07:01 - poikilotherm: (And yes these containers are production ready but also usable for testing ;-) )
Thu, May 19, 2022, 13:07:54 - pdurbin: Thanks, I see it now: https://github.com/gdcc/dataverse/blob/124e99ffbf9f831e929eb3a63acec852e5e4b889/pom.xml#L1027
Thu, May 19, 2022, 13:08:40 - pdurbin: We appreciate the work on XOAI! We have a bunch of harvesting work to queue up but we want that library settled first.
Thu, May 19, 2022, 13:11:24 - poikilotherm: It would be great to find a dev that takes care of all the System.getProperty() things and switches them to MicroProfile Config üòâ
Thu, May 19, 2022, 13:11:45 - poikilotherm: Less scripting just to send in the system properties... :-(
Thu, May 19, 2022, 13:13:14 - pdurbin: Maybe at the community meeting you could give a talk called "DevOps Wishlist". üòÑ We'll hope someone jumps in and helps!
Thu, May 19, 2022, 13:13:32 - poikilotherm: Hahaha... I gave up hope on this a long time ago
Thu, May 19, 2022, 13:14:27 - pdurbin: Oh well. You have like three other talks submitted, I think. üòÑ None for me.
Thu, May 19, 2022, 13:14:42 - poikilotherm: It was 2 and I will be having 1
Thu, May 19, 2022, 13:14:51 - poikilotherm: HERMES of course ‚úåÔ∏è
Thu, May 19, 2022, 13:15:05 - poikilotherm: (The RDM+RSE wasn#t a good fit - too high level for a DCM)
Thu, May 19, 2022, 13:17:08 - pdurbin: Yeah. And I haven't even watched it yet. The one you linked. Would like to.
Thu, May 19, 2022, 13:18:48 - poikilotherm: I'm going to give this talk again tomorrow
Thu, May 19, 2022, 13:19:06 - poikilotherm: https://www.helmholtz-hirse.de/events/2022_05_20-seminar_2.html
Thu, May 19, 2022, 13:20:44 - pdurbin: cool, break a leg
Thu, May 19, 2022, 13:21:44 - poikilotherm: Ha! Finally an equivalent to "Hals- und Beinbruch!"
Thu, May 19, 2022, 13:21:52 - poikilotherm: And thx! üòâ
Thu, May 19, 2022, 13:22:52 - pdurbin: "neck and leg fracture". nice
Thu, May 19, 2022, 13:23:40 - poikilotherm: (If anyone here would like to join, I can share the Zoom link in private. Talk will be in English)
Thu, May 19, 2022, 13:42:51 - pdurbin: Sorry, can't commit to it.
Thu, May 19, 2022, 13:43:04 - pdurbin: poikilotherm: do you know why this filter won't init? Please see https://github.com/pdurbin/javaee-docker/commit/2e81dc1
Thu, May 19, 2022, 13:53:26 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: do you know why th..."> Uhm I know that in generall JAX-RS should be a servlet, too, but are you sure you can hook a webfilter to a JAXRS servlet?
Thu, May 19, 2022, 13:53:48 - poikilotherm: They are doing lot's of special stuff and have their own filter extension points
Thu, May 19, 2022, 13:56:25 - pdurbin: I don't think this has anything to do with JAX-RS. It's all JSF stuff.
Thu, May 19, 2022, 13:56:39 - poikilotherm: pdurbin: I remember I setup a webfilter once: https://github.com/IQSS/dataverse/pull/6977/files
Thu, May 19, 2022, 13:57:25 - pdurbin: Ah. Unmerged. Thanks, I'll check it out.
Thu, May 19, 2022, 14:00:50 - poikilotherm: Very true - but you aren't having anything JSF related in your project, right?
Thu, May 19, 2022, 14:03:34 - poikilotherm: Looks like one might actually want to extend that HttpFilter class - it already offers HttpServletRequest/Response, which should make it easier to interact with the URLs
Thu, May 19, 2022, 14:06:19 - poikilotherm: <@oliver:bertuch.name "Very true - but you aren't havin..."> Dang! I was on the wrong branch by accident
Thu, May 19, 2022, 14:06:27 - poikilotherm: Will take another look, sorry!!!
Thu, May 19, 2022, 14:12:12 - poikilotherm: pdurbin: I see output...

```
[#|2022-05-19T18:11:28.767+0000|INFO|Payara 5.201|com.greptilian.urlrewrite.RewriteURLFilter|_ThreadID=1;_ThreadName=main;_TimeMillis=1652983888767;_LevelValue=800;|
  Initializing the RewriteURLFilter class|#]

[#|2022-05-19T18:11:28.769+0000|SEVERE|Payara 5.201|javax.enterprise.web|_ThreadID=1;_ThreadName=main;_TimeMillis=1652983888769;_LevelValue=1000;|
  WebModule[/micro]Exception starting filter com.greptilian.urlrewrite.RewriteURLFilter
java.lang.InstantiationException
	at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:128)
	at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:5101)
	at org.apache.catalina.core.StandardContext.start(StandardContext.java:5747)
	at com.sun.enterprise.web.WebModule.start(WebModule.java:619)
	at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:958)
	at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:941)
	at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:694)
	at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1877)
	at com.sun.enterprise.web.WebContainer.loadWebModule(WebContainer.java:1608)
	at com.sun.enterprise.web.WebApplication.start(WebApplication.java:108)
	at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)
	at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:283)
	at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:362)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:621)
	at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:565)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:558)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:554)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:361)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:553)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:584)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:576)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:361)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:575)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1496)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.access$1300(CommandRunnerImpl.java:120)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1878)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1754)
	at com.sun.enterprise.admin.cli.embeddable.CommandExecutorImpl.executeCommand(CommandExecutorImpl.java:183)
	at com.sun.enterprise.admin.cli.embeddable.CommandExecutorImpl.run(CommandExecutorImpl.java:96)
	at fish.payara.boot.runtime.BootCommand.execute(BootCommand.java:69)
	at fish.payara.boot.runtime.BootCommands.executeCommands(BootCommands.java:136)
	at fish.payara.boot.runtime.BootCommands.executeCommands(BootCommands.java:130)
	at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.doBootCommands(GlassFishMain.java:294)
	at com.sun.enterprise.glassfish.bootstrap.GlassFishMain$Launcher.launch(GlassFishMain.java:133)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at com.sun.enterprise.glassfish.bootstrap.GlassFishMain.main(GlassFishMain.java:109)
	at com.sun.enterprise.glassfish.bootstrap.ASMain.main(ASMain.java:54)
Caused by: java.lang.IllegalArgumentException: InputStream cannot be null
	at java.xml/javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:118)
	at com.greptilian.urlrewrite.RewrittenURLs.loadMappedUrls(RewrittenURLs.java:46)
	at com.greptilian.urlrewrite.RewrittenURLs.getURLs(RewrittenURLs.java:34)
	at com.greptilian.urlrewrite.RewriteURLFilter.init(RewriteURLFilter.java:27)
	at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:273)
	at org.apache.catalina.core.ApplicationFilterConfig.<init>(ApplicationFilterConfig.java:124)
	... 41 more
|#]

```
Thu, May 19, 2022, 14:12:43 - poikilotherm: (All I did was clone your repo, package, build container and run it)
Thu, May 19, 2022, 14:15:34 - poikilotherm: BTW pdurbin if you want to avoid Docker, take a look at these templates: https://github.com/hantsy/jakartaee8-starter-boilerplate https://github.com/hantsy/jakartaee9-starter-boilerplate - using these all the time when setting up reproducers for Payara bugs, e.g. https://github.com/poikilotherm/reproducer-payara-mpconfig-seturl
Thu, May 19, 2022, 14:17:34 - poikilotherm: (Although I rely on using Arquillian in those for the test cases - but you might still start the server etc with it)
Thu, May 19, 2022, 14:21:03 - poikilotherm: Hmmm running the server with cargo looks pretty dope :-D of course using arquillian would allow you to write an integration test for your filter üòÑ
Thu, May 19, 2022, 15:25:51 - pdurbin: As discussed in Slack, InputStream was null because I had the config file in the wrong place. Moved in https://github.com/pdurbin/javaee-docker/commit/d06888e to src/main/resources and now it works! Thanks, poikilotherm!
Thu, May 19, 2022, 17:45:24 - carlsonp: well, if you ever wanted to know if Dataverse can run on a Raspberry Pi, the answer is yes
Fri, May 20, 2022, 07:05:25 - pdurbin: carlsonp: fantastic! I'd love a video for DataverseTV!
Fri, May 20, 2022, 16:06:32 - pdurbin: Leaving soonish. Have a good weekend, everyone!
Sun, May 22, 2022, 16:55:14 - poikilotherm: Folks I'm on vacation for this next week. I might catch up on you lot chatting here, but expect delays üòâ
Mon, May 23, 2022, 14:30:25 - poikilotherm: Beach would be great. It'll be: doing our tax declaration, shuttling kids around and construction site üôà
Wed, May 25, 2022, 08:05:06 - lincoln_: i have one question:
If a dataset is created with doi (10.5.72 by-default) of dataverse.
Is it possible to publish the same dataset with registered doi  let say 10.7777 or should i create a new identical dataset with  the new doi or are there any workarounds? 
Wed, May 25, 2022, 09:17:23 - pdurbin: lincoln_: I mean, the DOI will be different. I guess I would just create an identical dataset and delete (destroy) the old one. You *could* go in the database and change the "authority" (10.whatever) part of the DOI, I guess.
Wed, May 25, 2022, 09:32:23 - lincoln_: pdurbin: it just that the dataset consists of big data files...
Are there any workaround to transfering/migrating files to dataset. ¬Ø\_(„ÉÑ)\_/¬Ø
Wed, May 25, 2022, 09:38:56 - pdurbin: Hmm. Good question. I'm not sure.
Wed, May 25, 2022, 09:59:23 - poikilotherm: pdurbin: see you there in 2... https://www.meetup.com/payara-global-meetup/events/285796506/
Wed, May 25, 2022, 09:59:52 - pdurbin: Oh, somehow I thought it was in 1 hour.
Wed, May 25, 2022, 10:00:31 - pdurbin: It's 2pm GMT now, right? So 1 hour.
Wed, May 25, 2022, 10:01:09 - poikilotherm: 4:00 PM to 5:00 PM MESZ
Wed, May 25, 2022, 10:01:16 - poikilotherm: From the Meetup page
Wed, May 25, 2022, 10:01:37 - poikilotherm: And it's 16:00 now
Wed, May 25, 2022, 10:01:48 - pdurbin: Oh, it's now? Do you have the link?
Wed, May 25, 2022, 10:02:13 - poikilotherm: It's starting!
Wed, May 25, 2022, 10:02:48 - poikilotherm: https://us02web.zoom.us/webinar/register/WN_8sJ9OItQSVGTELVx7e1z0w
Wed, May 25, 2022, 10:03:42 - poikilotherm: Hah - EE 10 due for June now, so P6 might be hold back
Wed, May 25, 2022, 10:05:09 - pdurbin: I'm in. Thanks. Sounds like it's being recorded.
Wed, May 25, 2022, 10:05:30 - poikilotherm: Should we ask questions?
Wed, May 25, 2022, 10:06:22 - poikilotherm: Like how long they will have an EE 10 build around before the release so we can actually start testing early
Wed, May 25, 2022, 10:07:22 - pdurbin: How do we delicately ask about community edition users having to move immediately from one major release to another in order to get security patches? What other open source projects do this?
Wed, May 25, 2022, 10:08:24 - poikilotherm: That's tricky...
Wed, May 25, 2022, 10:14:18 - poikilotherm: Just asked this via the Q&A tool:

> As you said, EE 10 is slightly delayed until June. There is no Payara 6 Alpha available with EE 10 deps available, only EE 9.1. Will there be a timeslot where larger  applications like Dataverse (OSS, community driven) will be able to test with a EE 10 enabled Alpha _before_ you release a P6 which will cease P5 community support? It'll be hard to explain to the academic user community that we want them to move fast fast fast without a budget for Payara Enterprise and no timeslot for testing and verifying our app works with P6!
Wed, May 25, 2022, 10:17:47 - pdurbin: Perfect. It would be great to have EE 10 to play with.
Wed, May 25, 2022, 10:21:10 - pdurbin: "If you still use Jakarta Faces" üòÑ
Wed, May 25, 2022, 10:23:14 - poikilotherm: Heads up for the CDI change default to annotated only
Wed, May 25, 2022, 10:23:25 - poikilotherm: We should be save there, but better keep an eye on that
Wed, May 25, 2022, 10:23:42 - poikilotherm: (And we have that strange mix of EJB and CDI... üôà)
Wed, May 25, 2022, 10:25:24 - pdurbin: poikilotherm: you're famous! Question read out!
Wed, May 25, 2022, 10:25:35 - poikilotherm: Payara Team didn't pay attention ‚úåÔ∏è
Wed, May 25, 2022, 10:25:40 - poikilotherm: YEah :-D
Wed, May 25, 2022, 10:25:43 - poikilotherm: "Famous" :-D
Wed, May 25, 2022, 10:26:00 - poikilotherm: Steve didn't look amused üòÖ
Wed, May 25, 2022, 10:26:16 - pdurbin: üòÑ
Wed, May 25, 2022, 10:28:47 - pdurbin: you and your long questions üòÑ
Wed, May 25, 2022, 10:30:45 - poikilotherm: Yesssss! An overlap between the last release of the 5 series and the 6 final
Wed, May 25, 2022, 10:31:47 - poikilotherm: So, we will have a beta to test with that hopefully already passes the TCK
Wed, May 25, 2022, 10:32:19 - poikilotherm: That should all buy us enough time to make the move to EE 10
Wed, May 25, 2022, 10:32:51 - poikilotherm sent an image. (Media omitted)
Wed, May 25, 2022, 10:32:58 - poikilotherm: This is VERY important
Wed, May 25, 2022, 10:33:33 - poikilotherm: We **MUST** make all of our deps to be jakartified, as the community version will not have a transformer, which will only be in Enterprise!
Wed, May 25, 2022, 10:34:09 - pdurbin: Does p6 alpha 2 have the transformer?
Wed, May 25, 2022, 10:34:18 - poikilotherm: Not sure
Wed, May 25, 2022, 10:34:22 - poikilotherm: You could ask!
Wed, May 25, 2022, 10:34:28 - poikilotherm: Would be good to know
Wed, May 25, 2022, 10:36:25 - pdurbin: Here's what I put in Q&A: We‚Äôve been testing with Payara 6 Alpha 2. Does this version contain the Jakarta EE 9 Transformer?
Wed, May 25, 2022, 10:36:35 - poikilotherm: You can now get famous, too :-D
Wed, May 25, 2022, 10:39:54 - pdurbin: Hmm, "unlikely to get security patches"
Wed, May 25, 2022, 10:40:13 - pdurbin: I guess it's hard to bring yourself to say "won't get security patches" üòÑ
Wed, May 25, 2022, 10:41:25 - poikilotherm: OK here comes the sales part üòë
Wed, May 25, 2022, 10:41:36 - poikilotherm: Phew... It's over already
Wed, May 25, 2022, 10:42:36 - poikilotherm: As Q2 of 2022 is almost over, I very much disbelieve a P6 Community Final will hit until end of June...
Wed, May 25, 2022, 10:43:04 - poikilotherm: Maybe a P6 Beta, depending on the EE 10 release schedule getting even more delayed 
Wed, May 25, 2022, 10:45:15 - pdurbin: yeah
Wed, May 25, 2022, 10:46:17 - pdurbin: and I hear you about CDI and annotations, by the way
Wed, May 25, 2022, 10:50:25 - poikilotherm: I disbelieve that P6 is still a dropin replacement for GF
Wed, May 25, 2022, 10:51:09 - poikilotherm: The GF project received lots of love lately, and I have serious doubt they tried to incorporate those changes back into the Payara codebase
Wed, May 25, 2022, 10:52:10 - pdurbin: So what was the answer to "We‚Äôve been testing with Payara 6 Alpha 2. Does this version contain the Jakarta EE 9 Transformer?"
Wed, May 25, 2022, 10:53:45 - poikilotherm: It was a bit chaotic. I understood that Alpha 2 might contain the EE 8 -> 10 transformer, but he wasn't sure. It does (of course) not contain a EE 9 -> EE 8 transforme
Wed, May 25, 2022, 10:53:59 - poikilotherm: So we _might_ give this a shot
Wed, May 25, 2022, 10:54:24 - poikilotherm: (As we learned, there are more deps around using EE 8 namespace things)
Wed, May 25, 2022, 10:56:53 - pdurbin: Yes, very chaotic, but I think he basically said no? Which is good! It means our deps aren't being transformed. That they're all set.
Wed, May 25, 2022, 10:57:08 - pdurbin: That we aren't relying on the transformer.
Wed, May 25, 2022, 10:57:30 - poikilotherm: Well... We must ensure all of our deps are ready!
Wed, May 25, 2022, 10:57:53 - poikilotherm: I posted my finding on all deps relying on things from EE 8 to Slack the other day
Wed, May 25, 2022, 10:58:04 - poikilotherm: Was quite a list on pastebin -D
Wed, May 25, 2022, 10:58:33 - poikilotherm: https://pastebin.com/BrS952Jg
Wed, May 25, 2022, 10:59:56 - poikilotherm: That was generated from `target/dataverse/WEB-INF/lib` via 
```
for I in $(ls *.jar); do
echo $I; jdeps -verbose:package -cp . "$I" | tr -s ' ' | cut -d' ' -f4 | grep javax | sort | uniq -c | grep -v -E -e "javax\.(xml|sql|imageio|crypto|net|swing|script|naming|management|sound|security|transaction).*";
done
```
Wed, May 25, 2022, 11:21:34 - pdurbin: But if the deps are deploying, are we ok?
Wed, May 25, 2022, 11:22:15 - pdurbin: poikilotherm: on a related note, for the rewrite/prettyfaces dep, are you ok with me forking it under the gdcc github org and then helping us put a release on Maven Central under gdcc?
Wed, May 25, 2022, 11:34:15 - poikilotherm: This _might_ crash at built time, BUT the Java / Jakarta EE model is a lot about loading backing class files on deploy. So it _should_ work when deployed, but there might still be some things that are only triggered to be loaded / casted on use. So better watch out for usages of the dependencies in our code and test these pathes in a new integration test if none exists.
Wed, May 25, 2022, 11:34:49 - pdurbin: ok
Wed, May 25, 2022, 11:35:57 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: on a related note,..."> Sure. That's an easy thing to do. We only need to rename the groupId and should be good to go.
Wed, May 25, 2022, 11:37:48 - pdurbin: Ok. We are only using 3 jar files. Please see https://github.com/IQSS/dataverse/commit/d37af1d
Wed, May 25, 2022, 11:54:27 - poikilotherm: Next week, ok? Still being on vacation :-D
Wed, May 25, 2022, 11:54:51 - pdurbin: Absolutely. Plus, as we've heard, we've got time, probably. üòÑ
Wed, May 25, 2022, 11:55:35 - pdurbin: Anything fun planned? I guess being a taxi driver isn't all bad. üòÑ
Wed, May 25, 2022, 12:01:49 - poikilotherm: <@pdurbin:matrix.org "Anything fun planned? I guess be..."> Nope. Tomorrow is a holiday here, so maybe we'll doing sth together
Wed, May 25, 2022, 12:08:10 - pdurbin: cool, cool
Thu, May 26, 2022, 15:38:38 - pdurbin: poikilotherm and other interested in chat: What do you think about https://github.com/TryQuiet/monorepo as a non-SLOPI place to discuss security? Perhaps as an alternative to #dv-security in IQSS Slack. I heard about it at https://twit.tv/shows/floss-weekly/episodes/682 and got it touch with them. Now I'm kicking the tires.
Fri, May 27, 2022, 10:18:58 - Don Sizemore: @pdurbin: morning. the Dataverse Guides reference MDC v0.0.1, but you all released v0.1.04 in Nov 2020. Worth a PR for a doc update? (version bump and perhaps a few CLI tweaks to at minimum install the python modules as the unprivileged "counter" user)?
Fri, May 27, 2022, 10:19:47 - pdurbin: Oh, did we miss some docs? I know qqmyers put in a PR to bump the version.
Fri, May 27, 2022, 10:20:32 - pdurbin: This: https://github.com/IQSS/dataverse/pull/8391 ... merged but not yet released.
Fri, May 27, 2022, 10:20:43 - Don Sizemore: ah, just waiting on a doc rebuild
Fri, May 27, 2022, 10:21:07 - pdurbin: Do the docs look ok at http://preview.guides.gdcc.io/en/develop/ ?
Fri, May 27, 2022, 10:21:36 - pdurbin: That's our new doc preview, courtesy of poikilotherm üéâ
Fri, May 27, 2022, 10:22:03 - Don Sizemore: yup, though I'd still tweak that pip3 install line; it doesn't like to install modules as a privileged user.
Fri, May 27, 2022, 10:22:51 - pdurbin: These days I always start with `python3 -m venv venv`.
Fri, May 27, 2022, 10:23:17 - pdurbin: Please do feel free to make a pull request!
Fri, May 27, 2022, 10:23:56 - Don Sizemore: MDC is on my to-do list, for our test server first. Need to verify whether v0.1.04 is compatible with Dataverse 5.3, or whether I should retrieve v0.0.1
Fri, May 27, 2022, 10:25:26 - pdurbin sent an image. (Media omitted)
Fri, May 27, 2022, 10:25:51 - pdurbin: From that PR above, note how there was a change from an underscore to a dash.
Fri, May 27, 2022, 14:41:24 - Don Sizemore: so the old one. thankee!
Fri, May 27, 2022, 14:43:06 - pdurbin: yeah
Fri, May 27, 2022, 16:18:52 - pdurbin: Heading out soonish. As I mentioned on the mailing list, Harvard is off Monday and Tuesday so we'll see you Wednesday. Have a good weekend!
Wed, Jun 1, 2022, 05:58:33 - lincoln_: question:
I am planning to remove custom metadatafields from postgres.
Where (in which table)could I find the duplicated metadatafields in the database? 
Wed, Jun 1, 2022, 10:34:58 - pdurbin: lincoln_: I believe multiple tables are involved.
Wed, Jun 1, 2022, 10:36:23 - lincoln_: yeah
Wed, Jun 1, 2022, 10:45:16 - pdurbin: Removing them is not supported. Probably we should have an API to help with this.
Wed, Jun 1, 2022, 10:45:42 - pdurbin: Does http://localhost:8080/api/admin/datasetfield show you anything interesting?
Wed, Jun 1, 2022, 10:57:12 - lincoln_: yes i see lot of metadatafields
Wed, Jun 1, 2022, 11:04:15 - lincoln_: including the duplicated metadatafields
Wed, Jun 1, 2022, 11:28:29 - pdurbin: Is this on a test server (I hope)?
Wed, Jun 1, 2022, 15:04:01 - poikilotherm: pdurbin and others, Leonid and me had a quickly escalating discussion about metadata exposure in OAI on Slack. Sharing it here with his permission.

@leonid\_andreev
My real pressing concern is that ‚Äújson harvesting‚Äù hack. I need to figure out (on our end here) if we want to keep it at all. And/or if introducing backward compatibility is something we can live with.

@Oliver Bertuch
Actually I was thinking if it might make more sense to go for an XML-RDF representation of the OAI-ORE JSONLD metadata export
That way you can spare the direct api call workaround and have all metadata around in one go
Which would include the custom metadata, too!

If you want to stay with the hack: you have to register a metadata format for this
So the metadata prefix gets recognized
When you ask for an item or multiple items, you will receive the metadata format
Then you can create a Metadata object containing the XML metadata as string (or create an inputstream from a string, whatever feels less weird/makes nicer flow)
You might go for a "fake" export format, that does not read from a file like the others, but provides the XML as a stream (bearbeitet)

@leonid\_andreev
Yes, I was going to mention AI-ORE JSONLD as a possible alternative to the dev. team.

@Oliver Bertuch
Note that we definitly must do a conversion to XML-RDF here. OAI-PMH is XML only
(Also we might provide JSON as CDATA)

@leonid\_andreev
In the current implementation in the branch I handle it the ‚Äúcreate a Metadata object containing the XML metadata as string‚Äù way. Handling it as an input stream seems wrong.

@leonid\_andreev
the problem there is that in the old implementation that attribute (‚ÄúdirectApiCall=‚Ä¶‚Äú) was embedded into the ‚Äú\<metadata/>‚Äù tag itself. I don‚Äôt think this can be replicated with the current gdcc.xoai framework. (unless I‚Äôm missing something). and it would be cleaner to actually encode it as a custom metadata record instead. like
\<metadata>
\<customMetadata directApiCall="..."/>
\</metadata>
but that breaks backward compatibility.

@Oliver Bertuch
I think the usage of an attribute of \<metadata> is against the spec. Wouldn't it make sense to put this into \<about>? http://www.openarchives.org/OAI/openarchivesprotocol.html#Record
In both cases IMHO this should be an element
Yes, it breaks backward compat, but as we know, it's not used as much and there are so many other problems with the OAI interface right now that need to be fixed that one more larger fix should be fine...

@leonid\_andreev
That was my point, among others - that it should not stay as an attribute of ‚Äúmetadata‚Äù. But then, regardless of where it‚Äôs going, it would break compatibility with older Dataverses.

@Oliver Bertuch
Do you think we should make this configurable in Dataverse?
Like you can still use the old, deprecated way if you need to?
We can of course provide an extension point to hook into for the metadata tag
Something to provide some custom attributes

@leonid\_andreev
The ‚Äúagainst the spec‚Äù argument though, we were able to kind of wave it away, seeing how records with that ‚Äúdataverse\_json‚Äù format selected were never shown to clients other than other dataverses‚Ä¶
Personally, I‚Äôm ok to break backward compatibility on this; I don‚Äôt need to be convinced. I need to convince everybody else that it‚Äôs ok.
(and yes, I also think that it would be better to switch to some XML-RDF version‚Ä¶/get rid of the direct API call custom hack) (bearbeitet)
I‚Äôm just not 100% convinced that trying to harvest each others‚Äô full internal metadata dumps is a good idea; even if it is implemented in a much cleaner way than it is now. Because there‚Äôs still a huge unresolved problem there - that in real life no 2 dataverses are likely running with 100% identical versions of the metadata blocks they are using.

@Oliver Bertuch
OK I looked at https://github.com/gdcc/xoai/blob/75287b2557d3462cf533884887e0426977c6fdd8/xoai-co\[‚Ä¶\]mon/src/main/java/io/gdcc/xoai/model/oaipmh/results/Record.java just now, looking for the way that the metadata tag is handled
It looks like it does not respect anything coming from https://github.com/gdcc/xoai/blob/75287b2557d3462cf533884887e0426977c6fdd8/xoai-da\[‚Ä¶\]c/main/java/io/gdcc/xoai/dataprovider/model/MetadataFormat.java
Anyway - we can still create a way to add an attribute there

@leonid\_andreev
I honestly don‚Äôt feel like it‚Äôs worth hacking the library.
After you‚Äôve gone to all that effort to un-hack it.

@Oliver Bertuch
Hihihi - I'm with you in not being sure it's very useful to create full dumps of metadata
It would make sense to export JSONLD formats into XML-RDF for standardized schemas
Like CodeMeta or schema.org

@leonid\_andreev
‚Äústandardized‚Äù is the key word.

@Oliver Bertuch
So IMHO what is a missing piece here: there should be a way to declare an export in a more flexible way
So we can standardize on certain things
And when people hack on metadata blocks, they can adapt
One shall not forget that linting knowledge graphs is a though job still
I was thinking the other day that it might be useful to create exports via XML and JSON data binding (marshalling/unmarshalling). So to create an export format, one needs still to write code, but one day someone might provide an export class via some plugin (bearbeitet)
Does that make any sense at all?

@leonid\_andreev
So that comes down to the need to provide some api/programmatic way for dataverses to query each other‚Äôs metadata definitions and automatically crosswalk between the flavors on both ends. As in something we need before we attempt to harvest internal metadata from each other.
Yes, I think it makes sense - the last part, marshalling/unmarshalling.

@Oliver Bertuch
Maybe we need to provide a hash of the metadata blocks in use? There are no versions of metadata blocks right now, but a hash you send along might provide information about wheter your local and the remote installation is using the same block version...
This is also related to a long standing idea about extending metadata block definitions with data migrations, not only usable for DB migrations but also for mappings between versions

@leonid\_andreev
This is a bigger discussion. (I‚Äôve been asking for explicit versions for metadata blocks, yes)

@Oliver Bertuch
Yes this escalated quickly...
Sorry... :see\_no\_evil:
But I am sure all of this is the next level of things
All this signposting and exchange of data to break up repos being independent silos
https://twitter.com/FZJ\_RDM/status/1513212328757628932
Leonid may I share parts of our conversation on Matrix / GDCC slack to outline that it would need a discussion of this topic in a larger audience/group? Maybe there is some space for this during DCM?

@leonid_andreev
Of course, share anywhere.
Wed, Jun 1, 2022, 15:07:53 - pdurbin: hmm, wall of text. üòÑ
Wed, Jun 1, 2022, 15:08:49 - poikilotherm: Yeah sorry about that... üôà
Wed, Jun 1, 2022, 15:09:42 - poikilotherm: It's kind of a chicken-n-egg problem. A snake biting its own tail. So many things related to this...
Wed, Jun 1, 2022, 15:13:06 - 11 joined the room
Wed, Jun 1, 2022, 15:18:48 - pdurbin: Well, if `dataverse_json` harvesting isn't going to be available in the future, it would be nice to provide an alternative that is similarly lossless, like your JSON-LD XML-RDF idea. That way people have something to migrate to.
Wed, Jun 1, 2022, 15:22:04 - pdurbin: Just so I'm clear, `dataverse_json` will still be available as an export format, right? I look at it all the time.
Wed, Jun 1, 2022, 15:22:57 - poikilotherm: Why are you looking at it? To retrieve the URL?
Wed, Jun 1, 2022, 15:24:27 - poikilotherm: Would be nice to know how you are using this to make it work for you :-D
Wed, Jun 1, 2022, 15:49:13 - pdurbin: For lots of things. The dataset id. Details about files.
Wed, Jun 1, 2022, 16:02:58 - poikilotherm: I see!
Wed, Jun 1, 2022, 16:03:24 - poikilotherm: So you are using to lookup these details from the DOI, right?
Wed, Jun 1, 2022, 16:04:14 - poikilotherm: Or are you also using it with ListRecords pdurbin ?
Wed, Jun 1, 2022, 16:06:04 - pdurbin: I just click "Metadata" and then "Export Metadata" on the dataset page. I don't think it's a big deal to keep it. We have several export formats that aren't supported through harvesting.
Wed, Jun 1, 2022, 16:08:08 - poikilotherm: Uhm. I think there's a missunderstanding here
Wed, Jun 1, 2022, 16:08:24 - poikilotherm: The OAI-PMH dataverse_json format only reveals the direct API URL
Wed, Jun 1, 2022, 16:08:31 - poikilotherm: So no details about files etc
Wed, Jun 1, 2022, 16:08:54 - poikilotherm: The metadata export via the UI is a different story
Wed, Jun 1, 2022, 16:09:22 - pdurbin: I guess I'm talking about that different story. Hoping for no changes there.
Wed, Jun 1, 2022, 16:10:07 - poikilotherm: We where talking about representing all of the metadata of a dataset via the harvesting interface (which is currently not possible)
Wed, Jun 1, 2022, 16:10:57 - pdurbin: Yep.
Wed, Jun 1, 2022, 16:11:49 - pdurbin: Well, it's possible in 5.10.1 using `dataverse_json`.
Wed, Jun 1, 2022, 16:13:45 - poikilotherm: https://demo.dataverse.org/oai?verb=ListRecords&metadataPrefix=dataverse_json
Wed, Jun 1, 2022, 16:14:22 - poikilotherm: https://demo.dataverse.org/oai?verb=GetRecord&metadataPrefix=dataverse_json&identifier=doi:10.5072/FK2/HJVOXL
Wed, Jun 1, 2022, 16:14:40 - poikilotherm: This only reveals the direct API call link
Wed, Jun 1, 2022, 16:14:55 - poikilotherm: No useful metadata
Wed, Jun 1, 2022, 16:15:53 - pdurbin: yep
Wed, Jun 1, 2022, 16:16:32 - poikilotherm: But this is not what you are using, correct?
Wed, Jun 1, 2022, 16:16:38 - poikilotherm: (The OAI-PMH calls)
Wed, Jun 1, 2022, 16:17:35 - pdurbin: Nope. Like I said on the dataset page I'm clicking "Metadata" then "Export Metadata" then the native JSON format. All I'm trying to say is that I wouldn't want this format to go away.
Wed, Jun 1, 2022, 16:17:57 - poikilotherm: Aye, we're on the same page there :-D
Wed, Jun 1, 2022, 16:18:13 - poikilotherm: Nobody is trying to remove the JSON export
Wed, Jun 1, 2022, 16:18:33 - poikilotherm: This is just about harvesting and what metadata you can acquire from that interface
Wed, Jun 1, 2022, 16:19:08 - pdurbin: Yep. I guess I'll go back to my original statement: Well, if dataverse_json harvesting isn't going to be available in the future, it would be nice to provide an alternative that is similarly lossless, like your JSON-LD XML-RDF idea. That way people have something to migrate to.
Wed, Jun 1, 2022, 16:21:17 - poikilotherm: Great! What do you think about the hazards outlined in our discussion about diverting metadata schemas due to version differences and subtle differences in custom metadata blocks? (Within the context of harvesting from each other)
Wed, Jun 1, 2022, 16:25:10 - pdurbin: Well, I guess you try the lossless format first and it it doesn't work due to these differences you try DDI or Dublin Core. I assume that's what people do now when `dataverse_json` doesn't work due to different metadata blocks.
Fri, Jun 3, 2022, 09:09:21 - pdurbin: Do we have good architecture drawings?
Fri, Jun 3, 2022, 09:49:31 - poikilotherm: I don't think so
Fri, Jun 3, 2022, 09:50:02 - pdurbin: What's a project that has good architecture drawings? Any examples?
Fri, Jun 3, 2022, 09:50:55 - poikilotherm: I don't know any. Following Simon Brown the author of the C4 model, good architecture models/drawings are a lost art
Fri, Jun 3, 2022, 09:51:31 - poikilotherm: IIRC he says in some videos of his this is sth the software engineering community keeps on not improving
Fri, Jun 3, 2022, 09:52:35 - poikilotherm: Maybe because back in the day, there was only UML and while it's very precise, it's also very heavy and sometimes not easy to comprehend
Fri, Jun 3, 2022, 09:53:13 - pdurbin: Right. I think we need diagrams at various levels. High level. Then down into this or that corner, as necessary.
Fri, Jun 3, 2022, 09:53:20 - poikilotherm: And there is that Visio/Draw.io/Powerpoint illnes most draw these in.
Fri, Jun 3, 2022, 09:53:38 - poikilotherm: It's just not sustainable
Fri, Jun 3, 2022, 09:53:51 - poikilotherm: The alternative UML is often way to complex
Fri, Jun 3, 2022, 09:54:10 - poikilotherm: UML also isn't good at zooming in or out
Fri, Jun 3, 2022, 09:54:21 - poikilotherm: There is a reason why C4 has come to life
Fri, Jun 3, 2022, 09:55:16 - poikilotherm: (Or other approaches like arc42)
Fri, Jun 3, 2022, 09:55:24 - pdurbin: I see. C4 has the idea of levels baked in.
Fri, Jun 3, 2022, 09:55:39 - poikilotherm: In the past, many projects didn't have software architectures to begin with
Fri, Jun 3, 2022, 09:55:59 - poikilotherm: This was often thought of "let the devs deal with this"
Fri, Jun 3, 2022, 09:56:15 - poikilotherm: Or send it down the path of product owner / scrum master / ...
Fri, Jun 3, 2022, 09:56:23 - pdurbin: "the devs all have it in their heads" üòÑ
Fri, Jun 3, 2022, 09:57:04 - poikilotherm: I studied CS but I only ever learned about UML. And it was hell to use. No one likes it. 
Fri, Jun 3, 2022, 09:57:29 - poikilotherm: As soon as you want to model a complex architecture, zoom out or sth, it gets cumbersome
Fri, Jun 3, 2022, 09:57:58 - poikilotherm: So many devs never learned about the alternatives. Forgotten art...
Fri, Jun 3, 2022, 09:58:21 - pdurbin: Should we try https://github.com/plantuml-stdlib/C4-PlantUML ? We already use PlantUML.
Fri, Jun 3, 2022, 09:58:58 - poikilotherm: Now with micro service architectures there is more pressure building up to draw these things
Fri, Jun 3, 2022, 09:59:17 - poikilotherm: <@pdurbin:matrix.org "Should we try https://github.com..."> Well if you ask Simon Brown, you shouldn't.
Fri, Jun 3, 2022, 09:59:31 - poikilotherm: There was a heated Twitter discussion about this lately
Fri, Jun 3, 2022, 09:59:53 - poikilotherm: We used it to model our HERMES approach
Fri, Jun 3, 2022, 09:59:57 - poikilotherm: But that is a static paper
Fri, Jun 3, 2022, 10:00:44 - poikilotherm: For real life stuff, his idea of making these things interactive by default (zoom in and out from the different levels) really is remarkable
Fri, Jun 3, 2022, 10:00:59 - poikilotherm: You can still render images from it
Fri, Jun 3, 2022, 10:01:14 - poikilotherm: Plus: you can not just "draw a model", but also combine it with ADRs
Fri, Jun 3, 2022, 10:01:41 - poikilotherm: So the architecture design and why things were made in that way become much easier to comprehend
Fri, Jun 3, 2022, 10:02:15 - pdurbin: Interactive and zooming sounds nice.
Fri, Jun 3, 2022, 10:02:27 - poikilotherm: https://structurizr.com/
Fri, Jun 3, 2022, 10:02:41 - poikilotherm: That's his paid SaaS offering of the thing
Fri, Jun 3, 2022, 10:02:49 - poikilotherm: Makes it easy to access etc
Fri, Jun 3, 2022, 10:03:01 - poikilotherm: You can use it for free though when running your own etc
Fri, Jun 3, 2022, 10:03:20 - poikilotherm: https://structurizr.com/help/lite
Fri, Jun 3, 2022, 10:07:49 - pdurbin: And it looks like you can export to PlantUML, for example: https://github.com/structurizr/export
Fri, Jun 3, 2022, 10:08:06 - pdurbin: via https://twitter.com/simonbrown/status/1386995903211446275
Fri, Jun 3, 2022, 10:08:09 - poikilotherm: Yes, absolutely. It supports exporting to a ton of formats
Fri, Jun 3, 2022, 10:08:51 - poikilotherm: But exporting means loosing interactivity
Fri, Jun 3, 2022, 10:10:13 - pdurbin: That's fine. Right now I don't miss it. üòÑ
Fri, Jun 3, 2022, 10:10:20 - pdurbin: I'm thinking about modularity.
Fri, Jun 3, 2022, 10:10:29 - pdurbin: It would be nice to have before and after diagrams.
Fri, Jun 3, 2022, 10:10:42 - pdurbin: Now vs. one or more proposals.
Fri, Jun 3, 2022, 10:11:06 - pdurbin: SPI vs. microservices or whatever other ideas.
Fri, Jun 3, 2022, 10:11:33 - pdurbin: Also the UI. What if we used Web Components? How would we draw that differently than JSF?
Fri, Jun 3, 2022, 10:11:57 - pdurbin: Or instead of Web Components, what how would we draw React?
Fri, Jun 3, 2022, 10:12:47 - poikilotherm: Or vuejs or Angular or whatever shiny new kid is here to drag you into the hell of the fast moving unstable JavaScript ecosystem :-D
Fri, Jun 3, 2022, 10:14:17 - pdurbin: Sure. For any of these I imagine the front end code could live in its own git repo. And could be deployed separately. That's an architecture change.
Fri, Jun 3, 2022, 10:17:49 - poikilotherm: Recommended read https://sustainable-software-architecture.com/
Fri, Jun 3, 2022, 10:19:11 - poikilotherm: Or watch her on Youtube :-) https://www.youtube.com/watch?v=iRR8OhIWgOE
Fri, Jun 3, 2022, 10:21:42 - pdurbin: Bookmarked. Thanks.
Fri, Jun 3, 2022, 16:49:08 - pdurbin: Ok folks, I'm taking off. Lovely weather here. Enjoy your weekend! ‚òÄÔ∏è
Mon, Jun 6, 2022, 09:09:37 - pdurbin: I hacked this together over the weekend: https://iqss.github.io/dataverse-installations/year.html
Mon, Jun 6, 2022, 09:09:58 - pdurbin: ```
Dataverse Installations by Year
2005 * 1
2008 * 1
2012 ** 2
2013 ** 2
2014 **** 4
2015 *** 3
2016 ******* 7
2017 ******** 8
2018 ****** 6
2019 ********************* 21
2020 ************* 13
2021 ******** 8
2022 *** 3
```
Mon, Jun 6, 2022, 09:10:18 - pdurbin: ```
Dataverse Installations Over Time
2005 * 1
2008 ** 2
2012 **** 4
2013 ****** 6
2014 ********** 10
2015 ************* 13
2016 ******************** 20
2017 **************************** 28
2018 ********************************** 34
2019 ******************************************************* 55
2020 ******************************************************************** 68
2021 **************************************************************************** 76
2022 ******************************************************************************* 79
```
Mon, Jun 6, 2022, 09:10:37 - pdurbin: What do you think? üòÑ
Mon, Jun 6, 2022, 15:10:14 - carlsonp: neat, looks like 2019 was a great year
Mon, Jun 6, 2022, 15:10:51 - pdurbin: Yep! I wonder if the pandemic has affected the numbers from 2020 on. Not sure.
Mon, Jun 6, 2022, 15:14:35 - carlsonp: Does anyone have suggestions around estimating storage and bandwidth needs for production installs of Dataverse?  We're invariably going to get questions like, "how much is this going to cost to deploy and maintain in the cloud" and it seems like a very tricky question to answer accurately.  How much storage do researchers really need?  How popular are certain datasets going to be?  How have people had successful conversations with the people that control the funding?
Mon, Jun 6, 2022, 15:16:09 - carlsonp: Would love to chat if anyone is interested (pcarlso@sandia.gov).  Trying to add Sandia National Labs (my employer) to the map. :)
Mon, Jun 6, 2022, 15:18:34 - pdurbin: carlsonp: here's a thread from last year: https://groups.google.com/g/dataverse-community/c/b29o4ri2m9s/m/zxaO9WWWBQAJ
Mon, Jun 6, 2022, 15:20:25 - pdurbin: You'd be very welcome to kick off a fresh thread if you want. You'll reach a lot more people there.
Mon, Jun 6, 2022, 15:20:40 - pdurbin: Also, yes, we'd love to have you on the map!
Mon, Jun 6, 2022, 15:22:13 - carlsonp: ok thanks, I'll do that
Mon, Jun 6, 2022, 15:23:36 - pdurbin: Sure. Oh, did you ever get your Docker stuff working with Payara 6? On Friday I made a pull request to upgrade to Payara 6: https://github.com/IQSS/dataverse/pull/8774
Mon, Jun 6, 2022, 15:25:45 - carlsonp: the build seemed to work but the deployment did not: https://github.com/poikilotherm/dataverse/pull/548
Mon, Jun 6, 2022, 15:26:50 - pdurbin: Hmmm... I don't remember seeing this. Thanks! If you want you could try again with the branch behind my pull request. Totally up to you.
Mon, Jun 6, 2022, 15:27:25 - pdurbin: We could also wait until we merge the Payara 6 branch and then take a look at your Docker compose stuff.
Mon, Jun 6, 2022, 15:27:28 - carlsonp: let me see if I can get this M1 compile issue ironed out first
Mon, Jun 6, 2022, 15:27:31 - pdurbin: No hurry, that is.
Mon, Jun 6, 2022, 15:27:45 - carlsonp: still waiting on a colleague, was out sick last week so we didn't get a chance to try it
Mon, Jun 6, 2022, 15:28:10 - pdurbin: Cool. We're waiting for Payara to release Alpha 3 anyway. And then Final.
Mon, Jun 6, 2022, 15:28:17 - carlsonp: yeah might be easier to merge in the Payara 6 stuff first, will that merge happen when it goes GA?
Mon, Jun 6, 2022, 15:28:43 - pdurbin: When Payara 6 Final goes GA? Yes, we need Final first.
Mon, Jun 6, 2022, 15:32:26 - pdurbin: So that PR is a bit blocked.
Mon, Jun 6, 2022, 16:46:49 - pdurbin sent an image. (Media omitted)
Mon, Jun 6, 2022, 16:47:02 - pdurbin: I'm pretty happy with how these graphs are turning out. ^^
Mon, Jun 6, 2022, 16:49:23 - pdurbin: carlsonp: great post about storage, cost, making the case. Good job. For others here: https://groups.google.com/g/dataverse-community/c/oa1k3MkN3xM/m/_svxgksiAQAJ
Mon, Jun 6, 2022, 16:53:09 - carlsonp: been scouring Google and Google Scholar for surveys and other "meta" research on researchers but it's kinda tough to find
Mon, Jun 6, 2022, 17:50:32 - pdurbin: I decided to make those graphs orange. üòÑ https://groups.google.com/g/dataverse-community/c/jqfxdU3e2FQ/m/cgRYbH4nAQAJ
Tue, Jun 7, 2022, 05:12:03 - beep: <@pdurbin:matrix.org "Yep! I wonder if the pandemic ha..."> Definitely, that's when and why we installed our Dataverse. We wanted to provide storage for any COVID related research activities in Hungary.
Tue, Jun 7, 2022, 05:13:09 - beep: Then it grew to a bigger national project, which we are implementing now.
Tue, Jun 7, 2022, 05:34:20 - pdurbin: beep: nice
Tue, Jun 7, 2022, 08:01:19 - poikilotherm: Oh pdurbin is a super early bird today!
Tue, Jun 7, 2022, 08:01:41 - poikilotherm: pdurbin: question for you? (Whenever you have had enough coffee to keep eyes open)
Tue, Jun 7, 2022, 08:58:08 - pdurbin: poikilotherm: I just got my coffee. ‚òïÔ∏è üòÑ What's up?
Tue, Jun 7, 2022, 08:58:20 - poikilotherm: Ha!
Tue, Jun 7, 2022, 08:58:23 - poikilotherm: Happy sipping
Tue, Jun 7, 2022, 08:59:34 - poikilotherm: I am about to send a mail to the community mailing list. Just wondered if you remember any issues or previous discussion which I could add links to...
Tue, Jun 7, 2022, 08:59:56 - poikilotherm: Message deleted
Tue, Jun 7, 2022, 09:00:41 - poikilotherm: Message deleted
Tue, Jun 7, 2022, 09:00:55 - poikilotherm: Message deleted
Tue, Jun 7, 2022, 09:04:09 - pdurbin: Seems like an interesting idea. I assume individually harvested datasets would be basically indistinguishable from traditionally harvested datasets. Just a search card, etc. No dataset landing page.
Tue, Jun 7, 2022, 09:04:37 - poikilotherm: They would be just the same like all the other harvested datasets
Tue, Jun 7, 2022, 09:04:44 - poikilotherm: Non-editable but searchable
Tue, Jun 7, 2022, 09:05:04 - poikilotherm: We need to create statistics to make management happy üòÑ
Tue, Jun 7, 2022, 09:05:23 - pdurbin: Mentioning doi2pmh-server is probably confusing. Maybe move it to a p.s.
Tue, Jun 7, 2022, 09:05:48 - poikilotherm: OK
Tue, Jun 7, 2022, 09:06:15 - poikilotherm: The issues liked from there seemed to have a much wider scope than this has
Tue, Jun 7, 2022, 09:06:36 - poikilotherm: Any other issues or former discussion you remember?
Tue, Jun 7, 2022, 09:07:02 - pdurbin: I mean, we just went through issues and added the harvesting label to them.
Tue, Jun 7, 2022, 09:07:11 - pdurbin: But I don't remember this specifically.
Tue, Jun 7, 2022, 09:07:14 - poikilotherm: I know that the doi2pmh server thingie had been created because folks at IQSS didn't like to integrate the functionality of it inside upstream
Tue, Jun 7, 2022, 09:07:32 - poikilotherm: (Back in the day, that is)
Tue, Jun 7, 2022, 09:07:58 - pdurbin: Are you using it?
Tue, Jun 7, 2022, 09:09:04 - pdurbin: poikilotherm: this seems related: https://github.com/IQSS/dataverse/issues/7330
Tue, Jun 7, 2022, 09:09:21 - pdurbin: Where you say, "This might be interesting for us along the way, as we have a similar idea for J√ºlich DATA, mostly targeted to being a metadata -based indexer of all scholarly research data dropping on and off campus." üòÑ
Tue, Jun 7, 2022, 09:09:30 - poikilotherm: <@pdurbin:matrix.org "Are you using it?"> No we are not - creating a different service and sending users to it causes confusion and reluctance to stick with good practices.
Tue, Jun 7, 2022, 09:10:46 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: this seems related..."> YEAH! :-D
Tue, Jun 7, 2022, 09:10:57 - poikilotherm: It's so many issues I tend to forget my comments on them
Tue, Jun 7, 2022, 09:15:03 - pdurbin: Your post looks good: https://groups.google.com/g/dataverse-community/c/L4HivEHETUI/m/10lOcJxaAQAJ
Tue, Jun 7, 2022, 10:42:06 - Paola Mejia: hi good morning, I have a question regardin the configuration of institutional log in with he Shibboleth Authentication Provider we have been trying to configure it but from dataverse side the claims doesn't show and the account isnt created. Is there any documentation or issues where I can find more information about this? Thanks in advance
Tue, Jun 7, 2022, 10:58:18 - pdurbin: Paola Mejia: Hi! Did you go to (the equivalent of) https://dataverse.example.edu/Shibboleth.sso/Session ? Any attribute there? Please see also https://guides.dataverse.org/en/5.10.1/installation/shibboleth.html#exchange-metadata-with-your-identity-provider
Tue, Jun 7, 2022, 10:59:40 - Paola Mejia: thanks  pdurbin  i was searching in this thread and I found that someone had the same issue with null values
Tue, Jun 7, 2022, 10:59:44 - Paola Mejia: i found this link
Tue, Jun 7, 2022, 10:59:53 - Paola Mejia: https://groups.google.com/g/dataverse-community/c/lfe9aWtBvm8/m/m162jbmTCQAJ
Tue, Jun 7, 2022, 11:00:13 - Paola Mejia: we will try this option hope it works :)
Tue, Jun 7, 2022, 11:03:51 - pdurbin: Paola Mejia: great
Tue, Jun 7, 2022, 11:03:58 - lincoln_: one question:
Can I directly enter our Dataverse repository here:

https://docs.google.com/spreadsheets/d/1bfsw7gnHlHerLXuk7YprUT68liHfcaMxs1rFciA-mEo/edit#gid=0
Tue, Jun 7, 2022, 11:05:31 - pdurbin: lincoln_: are you saying you want to be installation 80?!? üéâüéâüéâ No, please open an issue here (there's a template): https://github.com/IQSS/dataverse-installations/issues
Tue, Jun 7, 2022, 11:06:33 - lincoln_: oh thanks
Tue, Jun 7, 2022, 11:38:18 - pdurbin: lincoln_: https://github.com/IQSS/dataverse-installations/issues/144 looks great! Thanks! Oh, but is it possible to give us a non-personal email address?
Tue, Jun 7, 2022, 11:41:27 - lincoln_: you mean the repository contact address ?

Tue, Jun 7, 2022, 11:43:33 - pdurbin: lincoln_: yes
Tue, Jun 7, 2022, 11:43:54 - lincoln_: lincoln.sherpa@tu-dresden.de
Tue, Jun 7, 2022, 11:44:28 - pdurbin: I mean support@keen.zih.tu-dresden.de or whatever. Not tied to a person.
Tue, Jun 7, 2022, 11:45:27 - lincoln_: oh..since it is  just at initial phase ,currently I am handling everything. But will update you later
Tue, Jun 7, 2022, 11:49:58 - pdurbin: Sounds good. You can just create a new issue when you want to change it.
Tue, Jun 7, 2022, 11:50:46 - lincoln_: thanks pdurbin 
Tue, Jun 7, 2022, 14:14:27 - Brian Cassidy: Perhaps I've missed something, but since upgrading to 5.10 & 5.10.1 our main page now has no items for anonymous users -- but i can see everything if i login. Is there a new setting/permssion for anonymous users?
Tue, Jun 7, 2022, 14:20:32 - pdurbin: Brian Cassidy: that's... weird.
Tue, Jun 7, 2022, 14:22:12 - pdurbin: Brian Cassidy: what version were you on previously?
Tue, Jun 7, 2022, 14:23:07 - Brian Cassidy: 5.9
Tue, Jun 7, 2022, 14:23:42 - Brian Cassidy: also solr upgrade 8.8.2 -> 8.11.1
Tue, Jun 7, 2022, 14:23:49 - Brian Cassidy: let me experiment and downgrade that.
Tue, Jun 7, 2022, 14:25:25 - pdurbin: Nothing's jumping out at me. I also asked in our Slack.
Tue, Jun 7, 2022, 14:25:28 - Don Sizemore: is there a public URL we can see?
Tue, Jun 7, 2022, 14:27:05 - Brian Cassidy: sec
Tue, Jun 7, 2022, 14:28:27 - Don Sizemore: usually when the Solr index is empty, Dataverse reports "there are no dataverses or datasets to display..." or some such
Tue, Jun 7, 2022, 14:29:18 - Brian Cassidy: https://dataverse.lib.unb.ca/
Tue, Jun 7, 2022, 14:29:34 - Brian Cassidy: well dang. solr downgrade didn't help. now even when logged in i get nothing
Tue, Jun 7, 2022, 14:30:29 - pdurbin: Anything interesting in server.log?
Tue, Jun 7, 2022, 14:30:55 - Don Sizemore: I was about to ask what a clear-and-reindex looked like
Tue, Jun 7, 2022, 14:32:30 - Brian Cassidy: ah yeah. neato:
>[2022-06-07T15:31:06.944-0300] [Payara 5.2021.7] [INFO] [] [edu.harvard.iq.dataverse.search.SearchIncludeFragment] [tid: _ThreadID=94 _ThreadName=http-thread-pool::jk-connector(4)] [timeMillis: 1654626666944] [levelValue: 800] [[
  Search Syntax Error: Error from server at http://localhost:8983/solr/collection1: SolrCore 'collection1' is not available due to init failure: Error opening new searcher]]

Tue, Jun 7, 2022, 14:32:36 - Don Sizemore: your metrics API says 13 collections
Tue, Jun 7, 2022, 14:33:04 - Don Sizemore: and 27 datasets
Tue, Jun 7, 2022, 14:33:36 - Don Sizemore: did you remember to populate that core.properties file when you upgraded Solr? I've never missed that step, myself...
Tue, Jun 7, 2022, 14:34:04 - pdurbin: You also have to create collection1 for any new Solr install.
Tue, Jun 7, 2022, 14:38:10 - Brian Cassidy: not a new install. also back to where i started with 8.8.2. seeing if i can't clear this index and redo it
Tue, Jun 7, 2022, 14:39:00 - pdurbin: I guess if collection1 was missing, you wouldn't be able to search at all.
Tue, Jun 7, 2022, 14:40:10 - pdurbin: When you're done with 8.8.2... if it were me, I'd probably try to install 8.11 again.
Tue, Jun 7, 2022, 14:42:49 - pdurbin: To troubleshoot you could dump your Solr contents to stdout with something like this:

`curl -s 'http://localhost:8983/solr/collection1/select?rows=1000000&wt=json&indent=true&q=*%3A*'`
Tue, Jun 7, 2022, 14:43:14 - pdurbin: You'd want to make sure you see "permission" documents like this: `dataverse_339_permission`
Tue, Jun 7, 2022, 14:43:53 - pdurbin: not just "content" documents like this: `"id":"dataverse_339"`
Tue, Jun 7, 2022, 14:44:33 - pdurbin: Hmm, of course, you're saying the public content documents aren't visible.
Tue, Jun 7, 2022, 14:44:52 - pdurbin: For that you should see this: `"discoverableBy":["group_public"]`
Tue, Jun 7, 2022, 14:45:31 - Brian Cassidy: i think i just need to start fresh with solr. seems to have gone sideways!
Tue, Jun 7, 2022, 14:46:36 - pdurbin: nothing like a fresh install üòÑ
Tue, Jun 7, 2022, 14:54:36 - Brian Cassidy: index must've been corrupt.
Tue, Jun 7, 2022, 14:54:43 - Brian Cassidy: re-created it and re-indexed
Tue, Jun 7, 2022, 14:54:46 - Brian Cassidy: all good
Tue, Jun 7, 2022, 14:54:59 - pdurbin: nice!
Tue, Jun 7, 2022, 14:55:37 - Brian Cassidy: thanks y'all :)
Tue, Jun 7, 2022, 14:58:44 - pdurbin: sure üòÑ
Tue, Jun 7, 2022, 15:00:24 - Brian Cassidy: üéâ
Tue, Jun 7, 2022, 15:09:44 - pdurbin: poikilotherm: hey, I see you pushing commits late in the day. Want to talk about https://github.com/gdcc/rewrite ? üòÑ
Tue, Jun 7, 2022, 15:10:44 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: hey, I see you pus..."> You rang a bell?
Tue, Jun 7, 2022, 15:10:55 - poikilotherm: Doing fancy things with XOAI
Tue, Jun 7, 2022, 15:11:32 - poikilotherm: It's fun ripping apart the data provider code and putting it back together with modern Java capabilities
Tue, Jun 7, 2022, 15:12:13 - poikilotherm: I really hope this makes that lib more comprehensible... üôà
Tue, Jun 7, 2022, 15:12:47 - pdurbin: This got merged a few hours ago: https://github.com/ocpsoft/rewrite/pull/322
Tue, Jun 7, 2022, 15:12:55 - pdurbin: From our gdcc fork.
Tue, Jun 7, 2022, 15:13:23 - poikilotherm: Great!!!!!
Tue, Jun 7, 2022, 15:13:32 - poikilotherm: It's coming together!
Tue, Jun 7, 2022, 15:13:38 - poikilotherm: ü•≥
Tue, Jun 7, 2022, 15:13:43 - poikilotherm: üéâ
Tue, Jun 7, 2022, 15:14:47 - pdurbin: poikilotherm: should we put a snapshot release under gdcc on Maven Central?
Tue, Jun 7, 2022, 15:15:07 - poikilotherm: Uhm do you think they won't release one?
Tue, Jun 7, 2022, 15:15:15 - pdurbin: I have no idea.
Tue, Jun 7, 2022, 15:15:23 - pdurbin: They're actively working, which is great.
Tue, Jun 7, 2022, 15:15:47 - pdurbin: What we have now in my Payara 6 PR is jars I built on my Mac.
Tue, Jun 7, 2022, 15:16:03 - pdurbin: Does that make your skin crawl? üòÑ
Tue, Jun 7, 2022, 15:19:54 - poikilotherm: Well they ain't creating snapshots themselves
Tue, Jun 7, 2022, 15:20:11 - poikilotherm: (Looked at their Github actions)
Tue, Jun 7, 2022, 15:21:07 - pdurbin: I'm just thinking we could go ahead and swap out my Mac-built jars with gdcc Maven coordinates if we want. But to your point, we could also wait to see if they release something.
Tue, Jun 7, 2022, 15:22:39 - poikilotherm: As we need to wait for the fishes to eat their meat in the water üêüÔ∏è üêÆ (Payaras move), it might be OK to wait a little longer, right?
Tue, Jun 7, 2022, 15:23:23 - poikilotherm: (Not sure about that "doesn't it" here... What would be the correct thing to do here to express this?)
Tue, Jun 7, 2022, 15:23:37 - pdurbin: Yeah, that's what I'm thinking. Where Alpha 3?
Tue, Jun 7, 2022, 15:23:59 - pdurbin: ", right?"
Tue, Jun 7, 2022, 15:24:12 - pdurbin: ", no?"
Tue, Jun 7, 2022, 15:25:19 - poikilotherm: Quote "we'll release final by the end of June" Unquote. üôàüôâüôä
Tue, Jun 7, 2022, 15:30:15 - pdurbin: üòÑ
Tue, Jun 7, 2022, 15:31:04 - pdurbin: So you heard twice that there IS overlap of support for community edition, from 5 to 6? If there's a recording, I'd like to hear that part.
Tue, Jun 7, 2022, 15:39:58 - poikilotherm: https://youtu.be/Miu3VP5-Cc0?t=1414#
Tue, Jun 7, 2022, 15:40:29 - * pdurbin puts on headphones üéßÔ∏è
Tue, Jun 7, 2022, 15:41:47 - poikilotherm: "We will have a beta release before we have a final"
Tue, Jun 7, 2022, 15:42:14 - poikilotherm: "Beta would pass EE 10 compatibility"
Tue, Jun 7, 2022, 15:43:59 - poikilotherm: https://youtu.be/Miu3VP5-Cc0?t=1629
Tue, Jun 7, 2022, 15:44:00 - pdurbin: Right but the beta release is of 6.
Tue, Jun 7, 2022, 15:44:27 - poikilotherm: "What aI haven'd done here, is the overlay what's happening to Payara 5"
Tue, Jun 7, 2022, 15:44:58 - poikilotherm: "5 had it's penultimate release this /last month" 
Tue, Jun 7, 2022, 15:45:07 - pdurbin: "so there will be an overlap" ok
Tue, Jun 7, 2022, 15:45:25 - pdurbin: So 6 final comes out.... THEN a 5 for the community later. Phew
Tue, Jun 7, 2022, 15:45:26 - poikilotherm: "After 6 comes out the final release of 5 will come out"
Tue, Jun 7, 2022, 15:45:32 - poikilotherm: Yes
Tue, Jun 7, 2022, 15:45:33 - pdurbin: right
Tue, Jun 7, 2022, 15:46:16 - pdurbin: I guess time will tell how much overlap there is.
Tue, Jun 7, 2022, 15:46:24 - pdurbin: But you're right. This is promising.
Tue, Jun 7, 2022, 15:46:26 - poikilotherm: This is the most perfect timecode I think https://youtu.be/Miu3VP5-Cc0?t=1651
Tue, Jun 7, 2022, 15:47:13 - poikilotherm: <@pdurbin:matrix.org "I guess time will tell how much ..."> "There should be a period of time when that happens"
Tue, Jun 7, 2022, 15:47:42 - pdurbin: Yeah, a bit hand-wavy. But again, good news.
Tue, Jun 7, 2022, 15:48:07 - pdurbin: I'm still glad we've made some progress on getting off Payara 5 and EE 8.
Tue, Jun 7, 2022, 15:48:18 - pdurbin: Glad that we prioritized it.
Tue, Jun 7, 2022, 15:49:43 - poikilotherm: Here is the second time he mentions the 6 Final before 5 terminal release thing: https://youtu.be/Miu3VP5-Cc0?t=1937
Tue, Jun 7, 2022, 15:51:25 - poikilotherm: I honestly don't remember him mentioning a concrete period of time between 6 final and 5 terminal. I guess it will be a month or so...
Tue, Jun 7, 2022, 15:51:34 - poikilotherm: But before 6 final we have 6 beta
Tue, Jun 7, 2022, 15:51:49 - pdurbin: And we still need alpha 3.
Tue, Jun 7, 2022, 15:51:51 - poikilotherm: So this *should* give us 2-3 months to get things done
Tue, Jun 7, 2022, 15:52:11 - poikilotherm: Beware that he explicitly said that Alpha 3 might be not passing the TCK for 10 and might lack some EE 10 things
Tue, Jun 7, 2022, 15:52:45 - pdurbin: Yep, that's fine.
Tue, Jun 7, 2022, 15:52:53 - pdurbin: At least it'll be mostly EE 10.
Tue, Jun 7, 2022, 15:53:00 - pdurbin: Are you expecting breaking changes?
Tue, Jun 7, 2022, 15:53:25 - poikilotherm: Besides the need to move to Jakarta Faces 4? I am not aware of others
Tue, Jun 7, 2022, 15:53:42 - pdurbin: Sounds like big move.
Tue, Jun 7, 2022, 15:53:59 - poikilotherm: I linked to Bauke Scholz write up of this before ;-)
Tue, Jun 7, 2022, 15:56:13 - pdurbin: https://balusc.omnifaces.org/2021/11/whats-new-in-faces-40.html
Tue, Jun 7, 2022, 15:56:18 - poikilotherm: @channel Next Monday, 2022-06-13 at 15:00 CEST, 13:00 UTC, 09:00 EST the next German Dataverse Meeting will be hosted by fdm.nrw. 
Tue, Jun 7, 2022, 15:57:10 - poikilotherm: pdurbin: Mr Chief Community Officer, if you would like to swing by and say hello, I can send you details :-D
Tue, Jun 7, 2022, 15:58:09 - pdurbin: Is it in German?
Tue, Jun 7, 2022, 15:58:31 - poikilotherm: If we have no english-only speaking persons around, we might stick to German, yes
Tue, Jun 7, 2022, 15:59:38 - poikilotherm: Not sure how comfortable everyone is with sticking to english (they could come to community calls then)
Tue, Jun 7, 2022, 16:00:13 - poikilotherm: You could also send me a list of things you would like to announce / spread the word about, I'll happily translate that
Tue, Jun 7, 2022, 16:01:09 - pdurbin: Please send me the link. I might not be able to attend but I can try. You all can stick to German and then I can try to answer questions at the end or something.
Tue, Jun 7, 2022, 16:01:48 - poikilotherm: A learning experience :-) Enjoy the language of your relatives ancestors (IIRC)
Tue, Jun 7, 2022, 16:02:50 - pdurbin: And my wife's ancestors, actually. 100% of them as far as I know. I'm more of a mutt. üê∂
Tue, Jun 7, 2022, 16:10:44 - poikilotherm: BTW It is very likely that I'll be at https://rsecon2022.society-rse.org/ - so if any of you folks wanna join me there... Would love to chat in person again! We'll run a workshop for a HERMES MVP!
Tue, Jun 7, 2022, 16:12:39 - pdurbin: Where is it?
Tue, Jun 7, 2022, 16:12:54 - poikilotherm: Newcastle, England
Tue, Jun 7, 2022, 16:13:12 - poikilotherm: https://www.openstreetmap.org/relation/142282#map=10/55.0632/-1.7358
Tue, Jun 7, 2022, 16:13:43 - poikilotherm: UK the heart and spring of the RSE movement ü•≥
Tue, Jun 7, 2022, 16:13:53 - pdurbin: nice
Tue, Jun 7, 2022, 16:15:00 - pdurbin: Ah, more details at https://rsecon2022.society-rse.org
Tue, Jun 7, 2022, 16:15:12 - pdurbin: oh, you fixed the link already
Tue, Jun 7, 2022, 16:16:01 - pdurbin: Should we revive the "Dataverse Project-Related, Less Formal, and Community-Led Events (Dataverse Project Meetups)" spreadsheet at https://dataverse.org/events ?
Tue, Jun 7, 2022, 16:17:41 - poikilotherm: Uuuh post-covidian times breathe life to old things again ü•∞
Tue, Jun 7, 2022, 16:18:22 - poikilotherm: <@pdurbin:matrix.org "Should we revive the "Dataverse ..."> Sure why not :-D
Tue, Jun 7, 2022, 16:18:45 - pdurbin: Please feel free to add your event. That way we can find it again.
Tue, Jun 7, 2022, 16:19:16 - pdurbin: A place for everything and everything in its place.
Tue, Jun 7, 2022, 17:05:05 - carlsonp: has anyone gotten Dataverse to build on an Apple M1 ARM64 device? we're seeing some cases where dependencies aren't being resolved as part of the maven build step
Wed, Jun 8, 2022, 07:11:10 - pdurbin: carlsonp: am I right that beep was having trouble with an M1 at https://github.com/IQSS/dataverse/pull/8709#issuecomment-1133592015 ? Maybe we should ask beep to try a `mvn package` on the develop branch. My officemate is on an M1, I think, and `mvn package` works fine on develop.
Wed, Jun 8, 2022, 09:16:23 - pdurbin sent an image. (Media omitted)
Wed, Jun 8, 2022, 09:17:02 - pdurbin: 5 installations in Germany now. Thanks, lincoln_ ! üá©üá™
Wed, Jun 8, 2022, 10:09:50 - Don Sizemore: @pdurbin Good morning, sir. I don't know if you remember seeing any diagrams of the direct-upload / direct-download functionality? Jon is asking for the community meeting.
Wed, Jun 8, 2022, 10:11:34 - pdurbin: Hmm, qqmyers might know.
Wed, Jun 8, 2022, 10:11:52 - pdurbin: Don Sizemore: he's more active in Slack though. Mind asking him there?
Wed, Jun 8, 2022, 10:12:22 - Don Sizemore: Jon already wrote to him (and me). You have a near-perfect institutional memory, is why I asked.
Wed, Jun 8, 2022, 10:13:27 - pdurbin: heh, I'm honored
Wed, Jun 8, 2022, 10:13:35 - pdurbin: if only I could remember stuff at home!
Wed, Jun 8, 2022, 10:13:44 - pdurbin: my brain is too full of Dataverse üòÑ
Wed, Jun 8, 2022, 10:21:50 - pdurbin: Don Sizemore: no diagram here: https://osf.io/d8nmu/
Wed, Jun 8, 2022, 10:22:04 - Don Sizemore: Jim made one
Wed, Jun 8, 2022, 10:22:10 - pdurbin: orly
Wed, Jun 8, 2022, 10:22:17 - pdurbin: where?
Wed, Jun 8, 2022, 11:07:48 - beep: <@pdurbin:matrix.org "carlsonp: am I right that beep w..."> I just tried it again with carlsonp 's updates and it still fails on M1 with

failed to solve: executor failed running [/bin/sh -c cd /dataverse/ &&   export dpkgArch="$(dpkg --print-architecture)" &&   export JAVA_HOME="/usr/lib/jvm/java-11-openjdk-${dpkgArch}" &&   mvn package -DskipTests]: exit code: 1

Wed, Jun 8, 2022, 11:18:08 - pdurbin: beep: what about the develop branch?
Wed, Jun 8, 2022, 11:19:47 - beep: You mean in in carlsonp's fork?
Wed, Jun 8, 2022, 11:22:34 - pdurbin: No, sorry. I mean the default branch when you clone the "dataverse" repo. It's called "develop". My thought is: 1) clone 2) run `mvn package`.
Wed, Jun 8, 2022, 11:23:14 - pdurbin: basically this step (the maven version): https://guides.dataverse.org/en/5.10.1/developers/dev-environment.html#build-the-dataverse-software-war-file
Wed, Jun 8, 2022, 11:43:49 - beep: Oh, OK, building the stock Dataverse works all right with native `mvn package`. The problem with carlsonp's solution is somewhere in a build inside a container.
Wed, Jun 8, 2022, 11:44:07 - pdurbin: Phew. üòÑ
Wed, Jun 8, 2022, 11:44:19 - pdurbin: Do we have any leads?
Wed, Jun 8, 2022, 17:11:55 - pdurbin sent an image. (Media omitted)
Thu, Jun 9, 2022, 03:42:54 - Adina Wagner joined the room
Thu, Jun 9, 2022, 04:51:20 - mih joined the room
Thu, Jun 9, 2022, 04:52:43 - Laura Waite joined the room
Thu, Jun 9, 2022, 05:07:22 - lincoln_: is there a way to see the progress of re-indexing  on solr  in Dataverse
Thu, Jun 9, 2022, 05:08:42 - lincoln_: would like to know the speed/rate of reindexing from new dataverse v 5.10.1
for eg https://github.com/IQSS/dataverse/issues/50
Thu, Jun 9, 2022, 07:25:38 - pdurbin: lincoln_: if you look at server.log you should see something like "indexing dataset 42 of 132"
Thu, Jun 9, 2022, 07:31:00 - pdurbin: Oooh, a zip file previewer! So cool! https://edmond.mpdl.mpg.de/file.xhtml?fileId=182288
Thu, Jun 9, 2022, 07:31:20 - pdurbin: via https://github.com/IQSS/dataverse/pull/8727#issuecomment-1150802057
Thu, Jun 9, 2022, 08:07:55 - lincoln_: @pdurbin thanks...also do you have idea of downloading big files from Dataverse- with s3 direct (I have tried using the brower-interface >>download button (for 40gb dataset) and somehow it gives up on 25gb)
Note : Files are still in draft phase
Thu, Jun 9, 2022, 08:48:41 - lincoln_: (i increased the URL expiration time now...lets see)
Thu, Jun 9, 2022, 08:58:36 - mih: Dear all, I just wanted to drop a note here that next week will be a hackathon as part of the OHBM conference https://ohbm.github.io/hackathon2022/hacktrack
One of the projects will aim to lay the grounds for dedicated dataverse support in DataLad (https://www.datalad.org). The outcomes will materialize in a datalad extension: https://github.com/datalad/datalad-dataverse

The event is a hybrid: in-person in Glasgow plus a virtual component. We from the DataLad team will have people in both camps to help ensure that this is productive for all participants regardless of location. If anyone is interested in joining this effort, please just ping me -- I'll make sure to establish the connection. Thx!
Thu, Jun 9, 2022, 09:00:22 - Benjamin Poldrack joined the room
Thu, Jun 9, 2022, 09:00:55 - poikilotherm: mih: Some of you should drop by some of the sessions of the Dataverse Community Meeting next week and spread the news! https://projects.iq.harvard.edu/dcm2022
Thu, Jun 9, 2022, 09:02:01 - poikilotherm: This sounds great!
Thu, Jun 9, 2022, 09:02:11 - poikilotherm: Glad you are looking into this
Thu, Jun 9, 2022, 09:04:17 - Adina Wagner: Thanks for the pointer! I registered, and will try to show up. I'm travelling to Glasgow on two of those days and participation will be dependent on train wifi, though :) 
Thu, Jun 9, 2022, 09:05:10 - poikilotherm: Any tips for traveling to Glasgow? Will presumably be part of RSE Con 22 in Newcastel in September, same direction ;-) (And wanted to go by train)
Thu, Jun 9, 2022, 09:05:56 - Adina Wagner: I'm so glad you're also in here poikilotherm ! I'm sure one or the other JuelichData question could come up during the hackathon ...
Thu, Jun 9, 2022, 09:09:37 - poikilotherm: <@mih:matrix.org "Dear all, I just wanted to drop ..."> Thanks a ton! I also spread the news to the Community Slack!
Thu, Jun 9, 2022, 09:11:19 - Adina Wagner: plenty! From Juelich its one full day of travel one-way. Don't rely on DER business travel, they are not able to buy tickets (only until London). The cheapest and most convenient ticket was an interrail pass; our institute has dozens of researchers that use it. DER business travel is not able to buy it for you though. The interrail app/ticket booking interface is a pain but works, expect an hour or more of frustration. Other than the ticket you need to reserve trains (add them to your pass) and sometimes (for the Eurostar) buy seat reservations for about 30 Euro per train. Be early in Brussels (if you haven't used the eurostar before), the train behaves as if it is a plane and has airport-like checkin and baggage control. I can share more when I have made it to Glasgow, or where and how I failed if I don't make it ;-)
Thu, Jun 9, 2022, 09:15:07 - poikilotherm: <@adina_w:matrix.org "plenty! From Juelich its one ful..."> Splendid! I'd be happy to hear more üôÇ Best of luck!ü§û
Thu, Jun 9, 2022, 09:16:30 - Adina Wagner: thanks! :)
Thu, Jun 9, 2022, 09:23:37 - Stephan Heunis joined the room
Thu, Jun 9, 2022, 09:37:07 - pdurbin: Hey! I know Adina Wagner and mih ! We had beers at FOSDEM! https://twitter.com/philipdurbin/status/1223987847222431744
Thu, Jun 9, 2022, 09:38:00 - mih: More beer is needed!
Thu, Jun 9, 2022, 09:38:10 - Adina Wagner: yes! :) nice to "meet" again, pdurbin  - hope those weren't the last beers we're having together :)
Thu, Jun 9, 2022, 09:40:31 - pdurbin: Hopefully not! I'd love to got to FOSDEM again. We had a nice Dataverse meetup the day before. And I had fun at Open Science Days in Berlin. These were the before times. üòÑ
Thu, Jun 9, 2022, 09:41:31 - Adina Wagner: haha, "before times"üòÑ
Thu, Jun 9, 2022, 09:41:53 - pdurbin: This hackathon project looks amazing!
Thu, Jun 9, 2022, 09:42:08 - pdurbin sent an image. (Media omitted)
Thu, Jun 9, 2022, 09:45:07 - lincoln_: pdurbin: any comments on this please
Thu, Jun 9, 2022, 09:46:07 - lincoln_: the dataset is in draft state
Thu, Jun 9, 2022, 09:46:42 - pdurbin: lincoln_: draft state shouldn't matter. Are you sure direct download is working?
Thu, Jun 9, 2022, 09:46:57 - pdurbin: That your client is streaming directly from S3 I mean.
Thu, Jun 9, 2022, 09:47:17 - lincoln_: in this case yes
Thu, Jun 9, 2022, 09:47:44 - pdurbin: Ok, I'm never set this up myself but let me go to Slack for reinforcements.
Thu, Jun 9, 2022, 09:54:28 - pdurbin: lincoln_: does this help? "The only 'gives up' I could think of is a timeout somewhere - presumably directly on the S3 bucket for direct. The best way to debug is to open the browser dev console and go to the network tab (at leasst in Chrome, you have to go there before starting the download to see the download call). Any failure will show up there, i.e. a timeout would be a ~504 and the details should even tell you the 'server' giving that - e.g. an AWS LB or other thing in the network path."
Thu, Jun 9, 2022, 09:55:41 - lincoln_: thank you @pdurbin.. I am  currently doing the same
Thu, Jun 9, 2022, 10:02:43 - pdurbin: Adina Wagner mih What day and time is the Datalad/Dataverse hacking? The rain quit so I'm going to bike to work but I'll check back soon.
Thu, Jun 9, 2022, 10:03:06 - mih: 16-19th
Thu, Jun 9, 2022, 10:03:30 - mih: it is supposed to be "global" -- so *any* time ;-)
Thu, Jun 9, 2022, 10:35:45 - pdurbin: mihok, thanks. The 17th (Friday) is a Harvard holiday. Should I and perhaps some other Dataverse people try to carve out some time to answer questions on the 16th? Like poikilotherm said that's the last day of our (8th!) annual Dataverse conference. So it'll be a busy day. Asking questions in here any time is fine, of course!
Thu, Jun 9, 2022, 10:36:38 - poikilotherm: Ssssh pdurbin the 16th is a German holiday üòâ (I'm sure they'd love support from y'all)
Thu, Jun 9, 2022, 10:39:03 - pdurbin: Summer is tough! üòÑ
Thu, Jun 9, 2022, 10:41:17 - poikilotherm: Yeah, so many christian holidays over here during that time...  Ascension Day, Whit Monday, Corpus Christi (also I like the poor mans translation "Happy Corpse" for the last one better)
Thu, Jun 9, 2022, 10:48:03 - pdurbin: lincoln_ some more thoughts for you from the reinforcements:

"I would start with double-checking that it is indeed ‚Äúdirect‚Äù - that the direct download setting is actually properly enabled and that the data is coming directly from s3. But the browser dev console will confirm that.

Otherwise Dataverse is out of the equation once that redirect has been issued.

There is an expiration time limit on that S3 redirect url (configurable, 60 min. by default). Jim, do you know what happens if the download takes longer than url-expiration-minutes?

Phil, I think a good question to ask would be whether they are seeing a consistent time interval past which it ‚Äúgives up‚Äù."
Thu, Jun 9, 2022, 10:51:29 - pdurbin: lincoln_: more:

"Hold on, there‚Äôs a chance we may need to scratch all of the above - they are saying
> download button (for 40gb dataset)
They are talking about the size of the dataset; so this must be the ‚Äúdownload all‚Äù button. And that never goes to S3 directly.

So let‚Äôs confirm what download they are talking about. And make sure they understand that direct download does not apply to ‚Äúdownload all‚Äù."
Thu, Jun 9, 2022, 12:01:14 - pdurbin: Check out the "show downloads for a dataset" badge I made: https://groups.google.com/g/dataverse-community/c/PkDJCYTCVPI/m/ZD0KgEDDAQAJ üòÑ
Thu, Jun 9, 2022, 16:50:13 - pdurbin: Of course, you have to put it on a web server for it to work. Maybe I should do that.
Thu, Jun 9, 2022, 16:50:35 - pdurbin: But not today. And I'm off tomorrow. See you all Monday. Have a great weekend!
Fri, Jun 10, 2022, 01:43:06 - lincoln_: <@pdurbin:matrix.org "lincoln_ some more thoughts for ..."> thank you pdurbin . Meanwhile I wrote a python script to isolate files in specific chunks for download .
Fri, Jun 10, 2022, 01:43:58 - lincoln_: Message deleted
Fri, Jun 10, 2022, 03:50:00 - lincoln_: <@pdurbin:matrix.org "lincoln_: more:"> this makes it really clear...we are doing "download all"
Fri, Jun 10, 2022, 07:06:54 - beep: Hi! I'm pretty sure I have registered for the Dataverse Community Meeting, but I couldn't find a confirmation email, or a link so I am not sure what sessions I registered for. Is there a way to figure this out?
Fri, Jun 10, 2022, 09:50:12 - poikilotherm: pdurbin: I "just" wanted to add the capability of verifying the dates properly. Turned into a larger rewrite... üôà https://github.com/gdcc/xoai/pull/28
Fri, Jun 10, 2022, 09:50:45 - poikilotherm: Nearly 80% test coverage ü•≥ (of new code)
Fri, Jun 10, 2022, 09:59:37 - Philipp: Hi guys! Can someone help me with a DataCite API call? I'm trying to retrieve a list of all DOIs starting with "10.18710/B7BWXO/*". I've run this call:

curl --request GET \
     --url https://api.datacite.org/dois?query=doi:10.18710/B7BWXO/* \
     --header 'Accept: text/csv'

which works great, but it only returns the first 25 records. So, I need to add pagination; cf. https://support.datacite.org/docs/pagination. But I don't know how to combine the call above with the pagination call. I tried to combine the two with &, but it didn't work. Any suggestions? Thanks!
Fri, Jun 10, 2022, 10:39:45 - poikilotherm: <@philippc:matrix.org "Hi guys! Can someone help me wit..."> Playing around with it reveals it generates pages, but does not honor the cursor parameter. 

https://api.datacite.org/dois?page[cursor]=4&page[size]=2&query=doi:10.18710/B7BWXO/*
Fri, Jun 10, 2022, 10:41:13 - poikilotherm: There you go: https://api.datacite.org/dois?page[number]=2000&page[size]=2&query=doi:10.18710/B7BWXO/*
Fri, Jun 10, 2022, 10:43:01 - poikilotherm: Philipp: the docs are a bit misleading - you need to use `page[number]` (as seen on Queries & filtering), not `page[cursor]` (as stated on Pagination). Not sure if this is a bug, but you could suggest an edit...
Fri, Jun 10, 2022, 11:16:00 - Philipp: Thanks, poikilotherm! I'm trying to run your command  

curl --request GET \
     --url https://api.datacite.org/dois?page[number]=2000&page[size]=2&query=doi:10.18710/B7BWXO/* \
     --header 'Accept: text/csv' > B7BWXO_doi_list.csv
  
, but get this error message: -bash: --header: command not found
Fri, Jun 10, 2022, 11:16:39 - poikilotherm: `curl --request GET --url 'https://api.datacite.org/dois?page[number]=2000&page[size]=2&query=doi:10.18710/B7BWXO/*' --header 'Accept: text/csv' >  B7BWXO_doi_list.csv`
Fri, Jun 10, 2022, 11:19:55 - Philipp: Hm, I just tried once more, but the csv file i empty :-/
Fri, Jun 10, 2022, 11:20:26 - poikilotherm: I can only recommend usage of https://httpie.io for this. Curl is pesky about the unescaped `[]`
Fri, Jun 10, 2022, 11:20:51 - poikilotherm sent an image. (Media omitted)
Fri, Jun 10, 2022, 11:21:36 - poikilotherm: `http -pb "https://api.datacite.org/dois?page[number]=2000&page[size]=2&query=doi:10.18710/B7BWXO/*" "Accept: text/csv"`
Fri, Jun 10, 2022, 11:24:12 - poikilotherm: Philipp: this works for curl `curl --request GET --url "https://api.datacite.org/dois?page\[number\]=2000&page\[size\]=2&query=doi:10.18710/B7BWXO/*" --header 'Accept: text/csv'`
Fri, Jun 10, 2022, 11:25:09 - poikilotherm: My curl version: `curl 7.76.1 (x86_64-redhat-linux-gnu)` (just in case...)
Fri, Jun 10, 2022, 11:29:12 - Philipp: Ah, thanks! Now, there is some content in the file, but only one record. It seems the regex/wild card *in doi:10.18710/B7BWXO/* doesnt' work.
Fri, Jun 10, 2022, 11:29:34 - poikilotherm: This works perfectly fine for me here
Fri, Jun 10, 2022, 11:29:50 - poikilotherm: I do have 2 records as requested
Fri, Jun 10, 2022, 11:30:23 - poikilotherm sent an image. (Media omitted)
Fri, Jun 10, 2022, 11:30:55 - Philipp: Ah, ok, but the thing is I want to retrieve all the 20 000+ file DOIs of this dataset.
Fri, Jun 10, 2022, 11:31:14 - Philipp: The problem is:
Fri, Jun 10, 2022, 11:31:31 - poikilotherm sent an image. (Media omitted)
Fri, Jun 10, 2022, 11:31:32 - Philipp: the depositor uploaded a dataset with 20 000+ files
Fri, Jun 10, 2022, 11:31:32 - poikilotherm: Also works perfect for 5: 
Fri, Jun 10, 2022, 11:31:57 - poikilotherm: Datacite says you can request a page with up to 10000 elements
Fri, Jun 10, 2022, 11:32:13 - Philipp: ah sorry now I got it
Fri, Jun 10, 2022, 11:32:25 - poikilotherm: And I'd use JSON with this to create a list of the DOIs (if this is what you need)
Fri, Jun 10, 2022, 11:32:57 - poikilotherm: I can help you with the `jq` command :-)
Fri, Jun 10, 2022, 11:33:20 - Philipp: Yes, I know about the 10 000 limit, but DataCite says to get more than 10 000, you need to use the Cursor command
Fri, Jun 10, 2022, 11:33:34 - Philipp: Thanks! I've been doing some jf :)
Fri, Jun 10, 2022, 11:33:39 - Philipp: jc
Fri, Jun 10, 2022, 11:33:44 - poikilotherm: You have `"total": 27723`
Fri, Jun 10, 2022, 11:35:05 - Philipp: Hm, I managed to retrieve 1000
Fri, Jun 10, 2022, 11:35:26 - Philipp: what did you put into page number and size?
Fri, Jun 10, 2022, 11:35:57 - poikilotherm: I tried with page 2000 and size 2 to see a difference to page 1
Fri, Jun 10, 2022, 11:36:07 - poikilotherm: You can go for page 1 and size 10000
Fri, Jun 10, 2022, 11:37:35 - Philipp: hm, still only 1000 records :/
Fri, Jun 10, 2022, 11:37:58 - Philipp: where did you get the total=27723 from?
Fri, Jun 10, 2022, 11:38:09 - poikilotherm: Can confirm 1000 is max
Fri, Jun 10, 2022, 11:38:10 - poikilotherm sent an image. (Media omitted)
Fri, Jun 10, 2022, 11:38:18 - poikilotherm: Maybe you need to login for more in one go
Fri, Jun 10, 2022, 11:38:19 - Philipp: that's exactly hte number of records I need!
Fri, Jun 10, 2022, 11:39:03 - poikilotherm: Yes of course ‚úåÔ∏è
Fri, Jun 10, 2022, 11:39:05 - Philipp: so there's no way to use the cursor command?
Fri, Jun 10, 2022, 11:39:12 - poikilotherm: Try `curl --request GET --url "https://api.datacite.org/dois?page\[number\]=1&page\[size\]=1&query=doi:10.18710/B7BWXO/*" | jq ".meta.total"`
Fri, Jun 10, 2022, 11:39:46 - poikilotherm: <@philippc:matrix.org "so there's no way to use the cur..."> ??? the page[number] is your page cursor?
Fri, Jun 10, 2022, 11:39:49 - Philipp: works :)
Fri, Jun 10, 2022, 11:40:11 - poikilotherm: You also can see the number of pages
Fri, Jun 10, 2022, 11:40:20 - Philipp: not sure; see the DataCite guide: curl https://api.test.datacite.org/providers/caltech/dois?page[cursor]=1&page[size]=1000

Fri, Jun 10, 2022, 11:40:33 - Philipp: https://support.datacite.org/docs/pagination
Fri, Jun 10, 2022, 11:40:46 - Philipp: it says: Then use the returned "links.next" URL in the response for the next page:


Fri, Jun 10, 2022, 11:41:00 - Philipp: but I don't know what this means
Fri, Jun 10, 2022, 11:42:25 - poikilotherm: > Philipp: the docs are a bit misleading - you need to use `page[number]` (as seen on Queries & filtering), not `page[cursor]` (as stated on Pagination). Not sure if this is a bug, but you could suggest an edit...

Please see my post from above :-D
Fri, Jun 10, 2022, 11:43:05 - Philipp: ok, thanks! I just need to figure out how to get all 27000+ records into my file :)
Fri, Jun 10, 2022, 11:43:44 - poikilotherm: Uhm how about a shell script? 
Fri, Jun 10, 2022, 11:44:27 - poikilotherm: ```
for I in $(seq 1 28)
do
echo $I
done
```
Fri, Jun 10, 2022, 11:46:27 - Philipp: I'm not very good at that. I was thinking of adding mulitple commands in a sh file, but I don't know how to define start and end, i.e., where the next command should resume.
Fri, Jun 10, 2022, 11:46:42 - Andreas Czerniak: <@oliver:bertuch.name "```"> for i in {01..28} ; do echo $i ; done
Fri, Jun 10, 2022, 11:47:42 - Andreas Czerniak: <@aczerniak1:uni-bielefeld.de "for i in {01..28} ; do echo $i ;..."> without '0' as prefix :    for i in {1..10} ; do echo $i ; done 
Fri, Jun 10, 2022, 11:49:19 - Philipp: Sorry I lost you there. I've never done shell script other than combining single commands. So, your script would retrieve 28 * 1000 records?
Fri, Jun 10, 2022, 11:49:59 - Philipp: but how does it know where to resume after having retrieved the first 1000?
Fri, Jun 10, 2022, 12:01:46 - poikilotherm: OK this is really strange
Fri, Jun 10, 2022, 12:02:00 - poikilotherm: I now have tried to retrieve all 28 pages in chunks of 1000
Fri, Jun 10, 2022, 12:02:05 - poikilotherm: ```
for I in $(seq 1 28)
do
curl -sS --request GET --url "https://api.datacite.org/dois?page\[number\]=${I}&page\[size\]=1000&fields\[dois\]=id&query=doi:10.18710/B7BWXO/*" | jq ".data[].id"
done > dois
```
Fri, Jun 10, 2022, 12:02:27 - poikilotherm: But I still cannot access more than 10000 elements! It just starts over!
Fri, Jun 10, 2022, 12:02:54 - poikilotherm: (Confirmed via `cat dois | sort | uniq | wc -l`, giving 10000 unique DOIs)
Fri, Jun 10, 2022, 12:03:42 - poikilotherm: This is also corresponding to the "totalPages" result in the `meta` section of the response, which is `10` for a page size of `1000`
Fri, Jun 10, 2022, 12:04:25 - poikilotherm: This is not documented in the docs why this is happening - the help at https://support.datacite.org/docs/how-should-i-set-up-my-query-via-the-rest-api-to-retrieve-large-numbers-of-records-10000 is of no use, it just creates the same links as I do with my loop
Fri, Jun 10, 2022, 12:05:23 - poikilotherm: Also the page is containing diverging information - the text says use `page[cursor]` the example says use `page[number]` (as I found out before)
Fri, Jun 10, 2022, 12:05:41 - poikilotherm: Guess we need to reach out to DataCite peeps what is missing here
Fri, Jun 10, 2022, 12:05:54 - poikilotherm: (Maybe we need to do an authenticated request)
Fri, Jun 10, 2022, 12:06:54 - Andreas Czerniak: first 1000:  curl 'https://api.test.datacite.org/providers/caltech/dois?page\[size\]=1000' , next page of 1000 could be found in  :       jq '.links.next' 
Fri, Jun 10, 2022, 12:07:25 - poikilotherm: Andreas Czerniak: I am aware of that. Please note that I already create these next links myself in the loop.
Fri, Jun 10, 2022, 12:08:28 - Andreas Czerniak: Yes, have in mind, that the api seems to be not so stable over time especially oai. You could also use a datacite dump at https://archive.org/details/datacite_dump_20211022 instead.
Fri, Jun 10, 2022, 12:20:57 - poikilotherm: The reply of 10 pages max for page size 1000 does not make sense at all, despite we are missing sth here. Like the need to do an authenticated request
Fri, Jun 10, 2022, 12:20:57 - poikilotherm: ```
curl -sS --request GET --url "https://api.datacite.org/dois?page\[number\]=1&page\[size\]=1000&query=doi:10.18710/B7BWXO/*&fields\[doi\]=id" | jq ".meta"
{
  "total": 27723,
  "totalPages": 10,
  "page": 1,
...
```
Fri, Jun 10, 2022, 12:21:21 - poikilotherm: Philipp: I reached out via Twitter https://twitter.com/poi_ki_lo_therm/status/1535297315396804609
Fri, Jun 10, 2022, 12:34:02 - Philipp: Thanks!
Fri, Jun 10, 2022, 12:34:40 - Philipp: It seems thought that the json file contains all records?
Fri, Jun 10, 2022, 12:38:35 - Philipp: Grr... the json file also contains only 1000 records; cf. curl --request GET --url "https://api.datacite.org/dois?page\[number\]=1&page\[size\]=30000&query=doi:10.18710/B7BWXO/*" | jq -r '.data[] | [.id] | @csv' > B7BWXO_doi_list.csv
Fri, Jun 10, 2022, 12:40:13 - poikilotherm: <@philippc:matrix.org "Grr... the json file also contai..."> > ```
> for I in $(seq 1 28)
> do
> curl -sS --request GET --url "https://api.datacite.org/dois?page\[number\]=${I}&page\[size\]=1000&fields\[dois\]=id&query=doi:10.18710/B7BWXO/*" | jq ".data[].id"
> done > dois
> ```


Fri, Jun 10, 2022, 12:40:29 - poikilotherm: That's why you should use a loop ;-)
Fri, Jun 10, 2022, 12:41:01 - poikilotherm: It will iterate over a sequence 1 to 28 here and use this to construct the URL with the appropriate page numer
Fri, Jun 10, 2022, 12:41:17 - poikilotherm: But again: this is still limited to 10000 results, no matter what.
Fri, Jun 10, 2022, 12:41:32 - Philipp: Ah, ok :/
Fri, Jun 10, 2022, 12:41:50 - poikilotherm: That's why I reached out via Twitter ;-)
Fri, Jun 10, 2022, 12:41:59 - poikilotherm: I mentioned you, so you should see their response
Fri, Jun 10, 2022, 12:42:22 - Philipp: Why can't DataCite provide an API call to retrieve no matter how many records in ONE call??
Fri, Jun 10, 2022, 12:42:37 - Philipp: Yes, thanks a lot!
Fri, Jun 10, 2022, 12:42:57 - Philipp: I've been in contact with Mary from DataCite.
Fri, Jun 10, 2022, 12:43:01 - poikilotherm: Oh I understand why they are rate limiting! It's easy to abuse this stuff to create DoS attacks otherwise
Fri, Jun 10, 2022, 12:43:15 - Philipp: ah, ok, I see
Fri, Jun 10, 2022, 12:43:52 - poikilotherm: Message deleted
Fri, Jun 10, 2022, 12:43:53 - Philipp: The reason why I need this list is to change the DOI state of 27000+ file DOIs from findable to registered.
Fri, Jun 10, 2022, 12:44:59 - poikilotherm: Maybe File DOIs in Dataverse should be registered by default
Fri, Jun 10, 2022, 12:45:18 - poikilotherm: Avoids costly errors
Fri, Jun 10, 2022, 12:45:38 - poikilotherm: (IIRC registered DOIs ain't charged, right?)
Fri, Jun 10, 2022, 12:45:46 - Philipp: The problem was that a depositor uploaded 27000+ files into a dataset.
Fri, Jun 10, 2022, 12:46:00 - Philipp: and the curator didn't notice and tried to publish it
Fri, Jun 10, 2022, 12:46:10 - poikilotherm: Good luck with that ‚úåÔ∏è
Fri, Jun 10, 2022, 12:46:13 - Philipp: we recommend max. 200-300 files per dataset
Fri, Jun 10, 2022, 12:46:25 - poikilotherm: Takes ages, if works at all. DataCite API is sometimes unstable
Fri, Jun 10, 2022, 12:46:39 - Philipp: so there was an error when trying to publish
Fri, Jun 10, 2022, 12:46:44 - poikilotherm: But a large pile of shame on Dataverse there, too ;-)
Fri, Jun 10, 2022, 12:47:01 - Philipp: and now we have 27000+ file dois with no landing pages! :-/
Fri, Jun 10, 2022, 12:47:11 - poikilotherm: Yikes!
Fri, Jun 10, 2022, 12:47:13 - Philipp: my original idea was to delete the dois
Fri, Jun 10, 2022, 12:47:22 - Philipp: but of course you cannot delete
Fri, Jun 10, 2022, 12:47:24 - Philipp:  dois
Fri, Jun 10, 2022, 12:47:32 - Philipp: you need to change the doi state
Fri, Jun 10, 2022, 12:47:36 - poikilotherm: Not once they reached findable :-D
Fri, Jun 10, 2022, 12:47:43 - Philipp: yes .7
Fri, Jun 10, 2022, 12:47:45 - Philipp: :/
Fri, Jun 10, 2022, 12:48:08 - Philipp: now I want to create a .sh file with changing dois state commands
Fri, Jun 10, 2022, 12:48:28 - Philipp: but as you say the DataCite docs are somewhat flawed...
Fri, Jun 10, 2022, 12:49:35 - Philipp: well, now I need a break. Thanks for all the help!
Fri, Jun 10, 2022, 12:49:42 - Philipp: Have a nice weekend!
Fri, Jun 10, 2022, 13:58:20 - poikilotherm: Philipp: here's a script for you

```python
#! /usr/bin/env python3

import requests
from requests.exceptions import HTTPError
import sys

fields_filter = "fields[dois]=id"
query = "doi:10.18710/B7BWXO/*"
cursor  = "1"
query_template = "https://api.datacite.org/dois?page[cursor]={cursor}&page[size]=1000&{filter}&query={query}"
query_url = query_template.format(cursor=cursor, filter=fields_filter, query=query)


count = 0

# Print to stderr with this
def eprint(*args, **kwargs):
    print(*args, file=sys.stderr, **kwargs)

try:
    while(True):
        eprint(query_url)

        # Query
        response = requests.get(query_url)

        # If the response was successful, no Exception will be raised
        response.raise_for_status()

        # Get response as JSON data structure
        json = response.json()
        count = count + len(json["data"])

        # Print all ids to stdout
        for item in json["data"]:
            print(item["id"])

        # Grab the next url to query or break the loop when done (last page does not send a next link)
        if "next" in json["links"]:
            query_url = json["links"]["next"]
        else:
            break

except HTTPError as http_err:
    eprint(f'HTTP error occurred: {http_err}')  # Python 3.6
except Exception as err:
    eprint(f'Other error occurred: {err}')  # Python 3.6
else:
    eprint('Success! Read {count} items'.format(count=count))

```
Fri, Jun 10, 2022, 13:58:58 - poikilotherm sent an image. (Media omitted)
Fri, Jun 10, 2022, 14:00:11 - poikilotherm: Hope this helps to get you started - you could use this script as a start to update all the DOIs via REST. But be aware of the rate limits!
Fri, Jun 10, 2022, 14:00:48 - poikilotherm: (And to the Pythonistas out there: this is hacky, I know. I'm a Java guy.)
Fri, Jun 10, 2022, 14:11:44 - poikilotherm: https://twitter.com/Digi_Dogsbody was very helpful! :-)
Sun, Jun 12, 2022, 10:37:32 - Ilaria Belvedere: Hello everyone, it is me again :) Sorry to bother you, but is this repository on the installations map? https://rdm.aau.edu.et/
Sun, Jun 12, 2022, 10:38:50 - Ilaria Belvedere: (I am checking all Dataverse installations indexed by https://www.re3data.org)
Sun, Jun 12, 2022, 10:55:32 - Ilaria Belvedere: Same here: https://dataverse.rhi.hi.is/
Sun, Jun 12, 2022, 10:56:57 - Ilaria Belvedere: This one is a beta versione I think: https://adattar.unideb.hu/
Sun, Jun 12, 2022, 11:02:39 - Ilaria Belvedere: pdurbin: I don't want to spam them here, so maybe I should open other issues XD?
Mon, Jun 13, 2022, 04:47:24 - mih: Hey, I think QA here is already nice. If people want to join, that is great, but not critical. The docs look great and things seem straightforward from the technical point of view. We have a a CI setup on appveyor that provides us with a private dataverse instance to materialize  unit tests -- I think this should work.
Mon, Jun 13, 2022, 04:51:13 - mih: Quick Q: Given that a datalad extension is a python package, it seems like https://github.com/gdcc/pyDataverse is the way to go. While our API usage will be relatively minimal and straight-up `requests` usage is a possibility, `pydataverse` also seems to be rather lean. If anyone has experiences that would suggest not using this package, please share with us. Thanks!
Mon, Jun 13, 2022, 07:17:38 - pdurbin: mih: pyDataverse is definitely a good building block. It's widely used across the Dataverse community. We have stefankasberger to thank for creating and maintaining it!
Mon, Jun 13, 2022, 07:27:07 - pdurbin: Ilaria Belvedere: interesting! I didn't know about those installations. Being included on the map is opt-in. We wait for the installation to contact us. But maybe I could email them or something. Not sure.
Mon, Jun 13, 2022, 07:28:03 - Ilaria Belvedere: Oh, that's why they are not on the list!
Mon, Jun 13, 2022, 07:28:46 - Ilaria Belvedere: Yes, I think it is very interesting in order to understand how many installations are there!
Mon, Jun 13, 2022, 07:33:20 - pdurbin: Yes, definitely. Maybe we should track these unmapped installations somewhere. Like you say, some might still be in beta. Not ready to be on the map yet. Although registering in re3data seems like a big step. üòÑ
Mon, Jun 13, 2022, 07:36:41 - Ilaria Belvedere: Yes, I agree with you! Maybe adding another sheet on the file or something? Re3data indexes some of the Institutional Dataverses in the Harvard Dataverse, but others seem to have their own domain. 
Mon, Jun 13, 2022, 07:47:57 - pdurbin: Ilaria Belvedere: I see. Maybe for now we could open an issue like "What to do with an installation we find that isn't on the map." I agree, maybe a new sheet. But maybe they wouldn't want to be on the sheet either. üòÑ
Mon, Jun 13, 2022, 07:48:48 - pdurbin: There's an installation at a biotech that gave a talk at our annual meeting but they prefer not be on the map, last I checked.
Mon, Jun 13, 2022, 07:49:06 - pdurbin: So I'm just trying to be sensitive about their privacy.
Mon, Jun 13, 2022, 07:49:26 - pdurbin: Though the did give that talk. And it's on YouTube. Great talk. üòÑ
Mon, Jun 13, 2022, 08:01:44 - Ilaria Belvedere: I did not think about it, sorry D: ! Well, If it is okay with you I will open the issue as you suggested, just to "make some noise" XD
Mon, Jun 13, 2022, 08:34:11 - pdurbin: Ilaria Belvedere: yes, that would be great. We can discuss more there, and hopefully get some input from others. Make some noise! Thanks!
Mon, Jun 13, 2022, 09:38:44 - pdurbin: Ok, it wasn't just me having trouble getting into this chat room. There was outage for the Matrix server we use: https://status.matrix.org
Mon, Jun 13, 2022, 10:07:11 - Ilaria Belvedere: pdurbin Thanks to you :)
Mon, Jun 13, 2022, 10:13:32 - poikilotherm: pdurbin: I tried to convince people at the FDM NRW meeting to join us all here. Many have questions about Shibboleth & DELL S3 which I know have been topics around here üòÑ (of course also pointed to more or less recent discussion on the ML)
Mon, Jun 13, 2022, 10:14:52 - pdurbin: Great! The more the merrier!
Mon, Jun 13, 2022, 10:15:20 - pdurbin: poikilotherm: are you planning on keeping https://juchat.fz-juelich.de/channel/dataverse-de going?
Mon, Jun 13, 2022, 10:17:22 - poikilotherm: No idea
Mon, Jun 13, 2022, 10:17:34 - poikilotherm: Maybe it would be better to get people into Matrix
Mon, Jun 13, 2022, 10:18:06 - poikilotherm: That GDCC Slack is already at its max IMHO
Mon, Jun 13, 2022, 10:18:31 - poikilotherm: Matrix scales pretty good üòä
Mon, Jun 13, 2022, 10:18:51 - poikilotherm: And it should now be on par with all the features Slack offers us
Mon, Jun 13, 2022, 10:19:25 - pdurbin: By "at its max" do you mean this? "Some older messages may not be shown because your workspace has over 10,000 messages."
Mon, Jun 13, 2022, 10:22:28 - pdurbin: If so, I create this issue about that: https://github.com/IQSS/dataverse/issues/8712
Mon, Jun 13, 2022, 15:39:13 - Don Sizemore: @pdurbin the Dataverse home page should be populated by Solr, no? cached on first page load?
Mon, Jun 13, 2022, 15:42:11 - pdurbin: It used to be 100% populated by Solr, yes. But calls to the database have crept in. üòû
Mon, Jun 13, 2022, 15:42:31 - pdurbin: And yes, Solr caches pretty aggressively as far as I know.
Mon, Jun 13, 2022, 17:14:38 - pdurbin: Dataverse 5.11 is here! https://groups.google.com/g/dataverse-community/c/EZltr-L19RE/m/m9YBcrZLAwAJ
Mon, Jun 13, 2022, 17:16:21 - pdurbin: See you tomorrow at #dataverse2022! https://projects.iq.harvard.edu/dcm2022
Tue, Jun 14, 2022, 02:27:12 - @sblotgq067:matrix.org joined the room
Tue, Jun 14, 2022, 03:02:20 - mih: <@pdurbin:matrix.org "mih: pyDataverse is definitely a..."> Digging deeper: It seems as if we should make use of the SWORD API for file operations. The recommended https://github.com/swordapp/python-client-sword2 looks either extremely stable, or unmaintained. Anyone having experience with it? A rock to build on? Thx!
Tue, Jun 14, 2022, 03:04:16 - mih: This one looks more recent https://github.com/swordapp/sword3-client.py but it is unclear to me from the labels on the package whether v3 is or is not something that would by fully supported by dataverse
Tue, Jun 14, 2022, 04:04:55 - mih: I have written up a specification of the operations that we need to map onto the dataverse API in the DataLad-Dataverse hackathon: https://github.com/datalad/datalad-dataverse/issues/28 It would be great to get recommendations on the right pieces of the API to use for (all) these. I have sorted them by necessity (from nothing works without to OMG is this amazing). From my reading of the API docs it is not yet clear to me, how to best remove a file  -- this is a must have operation, though, so advice is much appreciated. Thx!
Tue, Jun 14, 2022, 05:11:16 - MihKhoa joined the room
Tue, Jun 14, 2022, 07:28:01 - pdurbin: mih: we maintain the SWORD API but it's somewhat frozen in time. New functionality goes into the native API. Here's how to upload a file with the native API: https://guides.dataverse.org/en/5.10.1/api/native-api.html#add-file-api
Tue, Jun 14, 2022, 07:29:00 - pdurbin: I had one of our interns hacking on that sword2 library but that was 9 years ago: https://github.com/swordapp/python-client-sword2/commits?author=pjbull
Tue, Jun 14, 2022, 07:29:24 - pdurbin: SWORDv3 is new-ish. We don't support it on the server-side.
Tue, Jun 14, 2022, 07:29:56 - pdurbin: Sadly, the only way to delete a file is via the SWORD API: https://guides.dataverse.org/en/5.10.1/api/sword.html#delete-a-file-by-database-id
Tue, Jun 14, 2022, 07:30:34 - pdurbin: We have an open issue about this: https://github.com/IQSS/dataverse/issues/3913
Tue, Jun 14, 2022, 07:31:28 - pdurbin: Ok, our conference is starting in half an hour. Gotta hop on my bike. https://projects.iq.harvard.edu/dcm2022
Tue, Jun 14, 2022, 08:07:40 - Pallinger P√©ter: Hello! I would like to have some advice on pyDataverse usage. Upon calling create_dataset, I get the following error:
{"status":"ERROR","message":"Validation Failed: Title is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ]), Subject is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ])."}
Tue, Jun 14, 2022, 08:08:17 - Pallinger P√©ter: Even though I do have a "title" in my fields in the citation metadatablock. Here is the json given to create_dataset:
Tue, Jun 14, 2022, 08:09:47 - Pallinger P√©ter: {"datasetVersion": {"metadataBlocks": {"citation": {"displayName": "Basic Metadata", "name": "citation", "fields": [{"typeName": "title", "multiple": false, "typeClass": "primitive", "value": "Datacite test back up?"}, {"typeName": "author", "multiple": true, "typeClass": "compound", "value": [{"authorName": {"typeName": "authorName", "multiple": false, "typeClass": "primitive", "value": "Admin, Dataverse"}, "authorAffiliation": {"typeName": "authorAffiliation", "multiple": false, "typeClass": "primitive", "value": "Dataverse.org"}}]}, {"typeName": "datasetContact", "multiple": true, "typeClass": "compound", "value": [{"datasetContactName": {"typeName": "datasetContactName", "multiple": false, "typeClass": "primitive", "value": "Admin, Dataverse"}, "datasetContactAffiliation": {"typeName": "datasetContactAffiliation", "multiple": false, "typeClass": "primitive", "value": "Dataverse.org"}, "datasetContactEmail": {"typeName": "datasetContactEmail", "multiple": false, "typeClass": "primitive", "value": "kcondon@yahoo.com"}}]}, {"typeName": "dsDescription", "multiple": true, "typeClass": "compound", "value": [{"dsDescriptionValue": {"typeName": "dsDescriptionValue", "multiple": false, "typeClass": "primitive", "value": "3"}}]}, {"typeName": "subject", "multiple": true, "typeClass": "controlledVocabulary", "value": ["Agricultural Sciences"]}, {"typeName": "depositor", "multiple": false, "typeClass": "primitive", "value": "Admin, Dataverse"}, {"typeName": "dateOfDeposit", "multiple": false, "typeClass": "primitive", "value": "2020-05-29"}]}}}, "termsOfUse": "This dataset is made available without information on how it can be used. You should communicate with the Contact(s) specified before use."}
Tue, Jun 14, 2022, 08:14:14 - pdurbin: Pallinger P√©ter: hi! What version of Dataverse are you using?
Tue, Jun 14, 2022, 08:14:40 - Pallinger P√©ter: 5.10, I think
Tue, Jun 14, 2022, 08:15:30 - Pallinger P√©ter: this is a test server I am experimenting upon, so may be 5.10.1
Tue, Jun 14, 2022, 08:16:01 - pdurbin: You might be suffering from this issue: https://github.com/IQSS/dataverse/issues/8663
Tue, Jun 14, 2022, 08:16:48 - pdurbin: Can you please try adding -H 'Content-type:application/json' ?
Tue, Jun 14, 2022, 08:33:34 - pdurbin: These videos from the community are really nice. If you're not already in the Zoom call, everyone is welcome! https://projects.iq.harvard.edu/dcm2022/agenda
Tue, Jun 14, 2022, 08:35:32 - Pallinger P√©ter: Thanks, I will try with the patched version of pyDataverse
Tue, Jun 14, 2022, 08:35:52 - pdurbin: cool, please keep us posted
Tue, Jun 14, 2022, 09:06:42 - Pallinger P√©ter: It seems to work, I used https://github.com/JR-1991/pyDataverse/commit/0fcfcd3fbc6bf1aec869899f715a51dca25e91be
Tue, Jun 14, 2022, 09:07:41 - pdurbin: Great! This is what we put in the Dataverse 5.11 release notes: The API Guide has been updated to explain that the Content-type header is now (as of Dataverse 5.6) necessary to create datasets via native API. (Issue #8663, PR #8676)
Tue, Jun 14, 2022, 09:15:38 - Pallinger P√©ter: What about https://github.com/gdcc/pyDataverse/issues/143 ? Can I send a pull request? Or is the content-header: application/json harmful for old dataverses?
Tue, Jun 14, 2022, 09:16:32 - pdurbin: Nope. Not harmful. Sure, all pull request sounds good. pyDataverse is maintained (an was created!) by stefankasberger 
Tue, Jun 14, 2022, 09:24:21 - poikilotherm: Nice answer by Gary King in why Microsoft may now use Dataverse as a name for their product: "we came to an agreement, but part of the agreement is not to talk about details". All glory to non-SLOPI NDAs. ü´£
Tue, Jun 14, 2022, 09:29:47 - pdurbin: heh
Tue, Jun 14, 2022, 09:49:04 - sennin: <@pallinger:sztaki.hu "What about https://github.com/gd..."> Hi. Please, would be great! Am now back from one year parental leave and will have a look at GitHub activities next week (basicly after my #Dataverse2022 presentations today and on thursday). 
Tue, Jun 14, 2022, 09:52:16 - Pallinger P√©ter: Ok, I sent it. Here: https://github.com/gdcc/pyDataverse/pull/145
Tue, Jun 14, 2022, 09:52:21 - sennin: <@mih:matrix.org "I have written up a specificatio..."> If you have any question, just get in touch directly (stefan.kasberger@univie.ac.at). I am not all the time in here, but Slack or Email work always.
Tue, Jun 14, 2022, 09:53:21 - Pallinger P√©ter: <@stefankasberger:matrix.org "If you have any question, just g..."> Thank you!
Tue, Jun 14, 2022, 16:59:42 - carlsonp: I believe I've fixed the Maven build system.  If others could test this again that would be great.  Thanks.  https://github.com/IQSS/dataverse/pull/8709
Tue, Jun 14, 2022, 17:00:58 - pdurbin: Is that the M1 thing?
Tue, Jun 14, 2022, 17:57:24 - pdurbin: Phew! Long day. Heading home.
Tue, Jun 14, 2022, 18:41:33 - carlsonp: yeah, I think it should be fixed now, there were binaries that weren't copied over to the container so it was failing on both M1 and AMD64 architectures
Tue, Jun 14, 2022, 18:41:40 - carlsonp: silly me
Wed, Jun 15, 2022, 02:02:01 - beep: carlsonp: I just tried and it builds and runs all right on M1. Great work!
Wed, Jun 15, 2022, 04:24:38 - MihKhoa: Hi guys, Can I use localhost for servername in httpd.conf file?
Wed, Jun 15, 2022, 04:32:48 - MihKhoa sent an image. (Media omitted)
Wed, Jun 15, 2022, 04:33:05 - MihKhoa: Can you help me ?
Wed, Jun 15, 2022, 06:05:34 - @sblotgq067:matrix.org left the room
Wed, Jun 15, 2022, 08:10:44 - pdurbin: beep: thanks for testing that!
Wed, Jun 15, 2022, 08:11:16 - pdurbin: MihKhoa: let's see... you're running in VirtualBox? Are you trying to set up a development environment?
Wed, Jun 15, 2022, 10:08:42 - pdurbin: I just ran a report of issues that installations have put on their project boards: https://docs.google.com/spreadsheets/d/1Dx-MN-gyCWCo2Lv9AQW_2yhWLD9LuO1nDnVhBroUOoQ/edit?usp=sharing
Wed, Jun 15, 2022, 10:16:12 - pdurbin: This issue is on three boards: https://github.com/IQSS/dataverse/issues/6874
Wed, Jun 15, 2022, 10:18:23 - pdurbin: Also on three boards: https://github.com/IQSS/dataverse/issues/4633
Wed, Jun 15, 2022, 10:20:20 - pdurbin: Also on three boards: https://github.com/IQSS/dataverse/issues/3383 (seems like the same issue as #6874)
Wed, Jun 15, 2022, 10:20:37 - pdurbin: All the other issues are on two boards or fewer.
Wed, Jun 15, 2022, 10:28:57 - carlsonp: <@beeppeeb:matrix.org "carlsonp: I just tried and it bu..."> thank you for re-testing, much appreciated
Wed, Jun 15, 2022, 11:02:55 - pdurbin: I just warmed up the thread about these project boards: https://groups.google.com/g/dataverse-community/c/z8ugn2KzNSc/m/p9tISI7UAwAJ
Wed, Jun 15, 2022, 12:58:20 - pdurbin: Nice! A Julia client library for Dataverse! https://twitter.com/GaelForget/status/1537033362543616005
Wed, Jun 15, 2022, 13:01:35 - poikilotherm: <@pdurbin:matrix.org "Nice! A Julia client library for..."> Should we offer him space at GDCC Github Org for this?
Wed, Jun 15, 2022, 13:38:10 - pdurbin: poikilotherm: great idea! https://github.com/gaelforget/Dataverse.jl/issues/4
Wed, Jun 15, 2022, 13:56:03 - pdurbin: "We envision a situation where thousands of Dataverse installations (due to EOSC) on the web can simultaneously search for data." -- Vyacheslav Tikhonov Thousands! üòÑ üéâ
Wed, Jun 15, 2022, 15:23:38 - poikilotherm: pdurbin: maybe we should invite Jan to add his MARVELOUS projects, to a gdcc place, too? https://github.com/JR-1991/easyDataverse This stuff is HOT üî•
Wed, Jun 15, 2022, 15:24:06 - pdurbin: poikilotherm: sure! Do you want to create the issue this time? üòÑ üî•
Wed, Jun 15, 2022, 15:24:18 - poikilotherm: I'll copy pasta your text  ‚úåÔ∏è
Wed, Jun 15, 2022, 15:24:29 - pdurbin: perfect
Wed, Jun 15, 2022, 15:26:56 - poikilotherm: <@pdurbin:matrix.org "perfect"> https://github.com/JR-1991/easyDataverse/issues/3
Wed, Jun 15, 2022, 15:40:26 - pdurbin: Looks good. I guess it's a client library. And more. üòÑ
Wed, Jun 15, 2022, 15:44:03 - poikilotherm: Hmm I think Jan went by the way to call it a client library factory :-D
Wed, Jun 15, 2022, 15:44:15 - poikilotherm: At least there was this nice factory pic ;-)
Wed, Jun 15, 2022, 15:45:43 - pdurbin: üòÑ
Wed, Jun 15, 2022, 21:02:47 - MihKhoa: <@pdurbin:matrix.org "MihKhoa: let's see... you're run..."> Yes. What's wrong with it?
Wed, Jun 15, 2022, 21:33:43 - pdurbin: MihKhoa: nothing. Have you tried the Vagrant? You seem to be on Windows. Please see https://guides.dataverse.org/en/5.11/developers/windows.html . You should end up on localhost (port 8888). We're always happy when people are setting up dev environments!
Thu, Jun 16, 2022, 03:59:20 - MihKhoa: <@pdurbin:matrix.org "MihKhoa: nothing. Have you tried..."> yup. Thank you very much
Thu, Jun 16, 2022, 08:18:54 - pdurbin: MihKhoa: sure, please keep the questions coming. Is there a feature you're working on?
Thu, Jun 16, 2022, 08:54:11 - pdurbin sent an image. (Media omitted)
Thu, Jun 16, 2022, 08:55:05 - pdurbin: From "Zacarias Benta, Jorge Gomes, Mario David, Joao Pina, C√©sar Ferreira, Jo√£o Cardoso, Filipa Pereira (Universidad do Minho): Developing a Distributed and Fault Tolerant Dataverse Architecture " at https://projects.iq.harvard.edu/dcm2022/agenda#widget-2 just now.
Thu, Jun 16, 2022, 09:05:35 - poikilotherm: pdurbin: you don't need my Jakarta branches anymore, right?
Thu, Jun 16, 2022, 09:09:19 - pdurbin: Nope. But thanks!
Thu, Jun 16, 2022, 09:09:37 - pdurbin: Great starting point. Much appreciated.
Thu, Jun 16, 2022, 09:21:57 - poikilotherm: My pleasure, as always pdurbin :-)
Thu, Jun 16, 2022, 09:22:34 - pdurbin: Now we just need Payara to release something. üòÑ
Thu, Jun 16, 2022, 09:23:50 - poikilotherm: Updating my container branch right now while listening to Harvards OpenDP presentation. Nice explanations!
Thu, Jun 16, 2022, 09:24:09 - pdurbin: Yeah, I like the classroom example. 85%
Thu, Jun 16, 2022, 09:25:19 - pdurbin sent an image. (Media omitted)
Thu, Jun 16, 2022, 09:26:05 - poikilotherm: Ah now I understand much better why you're on the team, too!
Thu, Jun 16, 2022, 09:26:09 - poikilotherm sent an image. (Media omitted)
Thu, Jun 16, 2022, 09:26:21 - poikilotherm: It needs the deep integration!
Thu, Jun 16, 2022, 09:26:34 - poikilotherm: That's quite something!
Thu, Jun 16, 2022, 09:26:38 - pdurbin: Well, I'm back to 100% Dataverse. And have been for a while. 6 months? 8 months? I forget.
Thu, Jun 16, 2022, 09:26:56 - poikilotherm: I still remember your speed limit sign :-D
Thu, Jun 16, 2022, 09:27:32 - poikilotherm: That was a european one, right? No 60 miles/hour in the US, aye?
Thu, Jun 16, 2022, 09:27:44 - pdurbin: Yeah, I ended up swapping that sign for the OpenDP logo: http://blog.greptilian.com/2021/03/01/splitting-time-between-dataverse-and-opendp/
Thu, Jun 16, 2022, 09:27:51 - poikilotherm: And good to have you back ‚úåÔ∏è
Thu, Jun 16, 2022, 09:28:11 - pdurbin: I guess I should write another blog post. Or at least add an update to the bottom.
Thu, Jun 16, 2022, 09:28:34 - pdurbin: I think I'm still listed on their website.
Thu, Jun 16, 2022, 09:29:14 - pdurbin: In related news, OpenDP is hiring a community manager: https://groups.google.com/a/g.harvard.edu/g/opendp-community/c/dZ1CL2OpwD8/m/D4s03GOjAQAJ
Thu, Jun 16, 2022, 09:30:08 - poikilotherm: Hey Mr Dataverse Chief Community Officer pdurbin , please stay with us üôè
Thu, Jun 16, 2022, 09:30:42 - pdurbin: I'm much more passionate about open data than sensitive data. üòÑ
Thu, Jun 16, 2022, 09:54:44 - poikilotherm: Looks like my literature recommendation about "Sustainable Architecture" was useful :-D
Thu, Jun 16, 2022, 09:55:04 - pdurbin: Oh? Link please. I must have missed that.
Thu, Jun 16, 2022, 09:55:27 - poikilotherm: One of Philipp sildes showed a picture from it ;-)
Thu, Jun 16, 2022, 09:55:45 - poikilotherm: https://sustainable-software-architecture.com/
Thu, Jun 16, 2022, 09:56:04 - poikilotherm: Poor choice of favicon üòÑ
Thu, Jun 16, 2022, 09:56:47 - pdurbin: Ah, I had bookmarked https://www.youtube.com/watch?v=iRR8OhIWgOE but not the web page. Thanks.
Thu, Jun 16, 2022, 10:22:11 - poikilotherm: pdurbin: Looks like there is a growing interest in having a container image ready to use...
Thu, Jun 16, 2022, 10:23:00 - poikilotherm: I should revamp my efforts on this now that it's not just me asking for it... üôà
Thu, Jun 16, 2022, 10:24:15 - pdurbin: poikilotherm: yes! Help! üòÑ
Thu, Jun 16, 2022, 10:24:28 - pdurbin: Was my brain dump coherent?
Thu, Jun 16, 2022, 10:26:22 - poikilotherm: In all all, yes. Of course there's always more, but it gets more complex the more you talk about the interdependencies of things
Thu, Jun 16, 2022, 10:26:44 - poikilotherm: I like that birds eye view you <del>showed</del> told us :-)
Thu, Jun 16, 2022, 10:27:41 - pdurbin: Good. Thanks. I'm trying to type it up in the notes. Maybe then I should send it to the mailing list. üòÑ
Thu, Jun 16, 2022, 10:28:21 - poikilotherm: Maybe one day we should have Dataverse Developers Unconference
Thu, Jun 16, 2022, 10:31:30 - pdurbin: Sure!
Thu, Jun 16, 2022, 10:46:44 - pdurbin: poikilotherm: ok, I typed up my brain dump. Can you please take a look? https://docs.google.com/document/d/1-Q3KsN1RvKSmPkaK4IBAkpmCZV5XnvDhSXNmlHsXUAg/edit?usp=sharing
Thu, Jun 16, 2022, 10:57:44 - pdurbin: poikilotherm: I'm ready to hit "send" on a message to the list. Any typos? üòÑ
Thu, Jun 16, 2022, 10:58:17 - pdurbin: Vyacheslav Tikhonov is talking. I should be listening to him instead. Sorry, Slava!
Thu, Jun 16, 2022, 10:58:25 - poikilotherm: Phil I'm next to present... Gimme a minute üòò
Thu, Jun 16, 2022, 10:58:46 - pdurbin: Oh, right right. You'll do great! Deep breath!
Thu, Jun 16, 2022, 11:24:58 - poikilotherm: Now that went much smoother than yesterday üòé
Thu, Jun 16, 2022, 11:25:22 - pdurbin: Good job.
Thu, Jun 16, 2022, 11:30:25 - poikilotherm: Reviewed your braindump, added two suggestions, no further issues pdurbin üòÄ Ship it! üö¢
Thu, Jun 16, 2022, 11:41:59 - pdurbin: Left some comments. Thanks!
Thu, Jun 16, 2022, 11:44:01 - pdurbin: Sent: https://groups.google.com/g/dataverse-community/c/wmGCSmRe6RI/m/I7Jb9_BaAAAJ
Thu, Jun 16, 2022, 13:45:53 - pdurbin: lincoln_: thanks for clarifying (the other day) that the problem you were having was with "download all". Yes, a script to download files one by one should help. There's also an experimental "zipper" that might be of interest: https://guides.dataverse.org/en/5.11/installation/advanced.html#standalone-zipper-service-tool
Thu, Jun 16, 2022, 14:04:08 - lincoln_: thanks oyu @pdurbin ill def try this one and let you know
Thu, Jun 16, 2022, 14:06:26 - pdurbin: Cool. We use it at Harvard Dataverse but again, it's experimental. üòÑ
Thu, Jun 16, 2022, 14:07:34 - pdurbin: lincoln_: also of interest, perhaps, might be this crawlable (with wget or similar) "dirindex" view of datasets: https://guides.dataverse.org/en/5.11/api/native-api.html#view-dataset-files-and-folders-as-a-directory-index
Thu, Jun 16, 2022, 14:07:46 - lincoln_: <@pdurbin:matrix.org "Cool. We use it at Harvard Datav..."> as long as it works :p
Thu, Jun 16, 2022, 14:08:52 - lincoln_: <@pdurbin:matrix.org "lincoln_: also of interest, perh..."> i tried with wget but as the dataset was still in draft..i could not download them
Thu, Jun 16, 2022, 14:10:08 - pdurbin: Can wget send headers? If so, maybe try sending the API token.
Thu, Jun 16, 2022, 14:11:00 - lincoln_: i am also not sure..but i tried with API token too
Thu, Jun 16, 2022, 14:11:18 - lincoln_: without luck
Thu, Jun 16, 2022, 14:11:30 - pdurbin: üòû
Thu, Jun 16, 2022, 14:11:54 - lincoln_: or may be my commands were wierd (happens oftenly)
Thu, Jun 16, 2022, 14:16:27 - lincoln_: one question do Dataverse also support custom export of datafile metadata
Thu, Jun 16, 2022, 14:21:43 - pdurbin: I think we dump all the file metadata we can as JSON.
Thu, Jun 16, 2022, 14:21:54 - pdurbin: It's fairly complete, I mean.
Thu, Jun 16, 2022, 14:22:14 - pdurbin: Is there something else in the database you want?
Thu, Jun 16, 2022, 14:25:24 - lincoln_: it would be nice to have Json file + each customized  metadata field contains the URI which it is derived from/referenced to
Thu, Jun 16, 2022, 14:26:51 - pdurbin: Maybe I'm hung up on you saying "export". You want to field for URI for each file? I new column in the database table?
Thu, Jun 16, 2022, 14:34:41 - lincoln_: Message deleted
Thu, Jun 16, 2022, 14:34:46 - poikilotherm: lincoln_: would a JSON-LD export help? https://demo.dataverse.org/api/datasets/export?exporter=OAI_ORE&persistentId=doi%3A10.70122/FK2/ALROOH
Thu, Jun 16, 2022, 14:35:36 - lincoln_: <@oliver:bertuch.name "lincoln_: would a JSON-LD export..."> is this also extended for customized metadata ?
Thu, Jun 16, 2022, 14:35:41 - poikilotherm: Aye
Thu, Jun 16, 2022, 14:35:57 - lincoln_: really..okay
Thu, Jun 16, 2022, 14:36:40 - poikilotherm: It has a default I don't know from the top of my head for the context URL if the metadata block doesn't provide a URL to base of
Thu, Jun 16, 2022, 14:37:04 - poikilotherm: If the block provides a URL, it will default to adding the field name after it for each field
Thu, Jun 16, 2022, 14:37:17 - poikilotherm: But you can override it IIRC with setting an explicit field URL
Thu, Jun 16, 2022, 14:37:41 - poikilotherm: It's not documented in details right now. A PR would be most welcome!
Thu, Jun 16, 2022, 14:38:37 - lincoln_: <@oliver:bertuch.name "But you can override it IIRC wit..."> may i know more please what you mean by this.?or further info
Thu, Jun 16, 2022, 14:40:41 - poikilotherm: Each field may provide a termURI https://guides.dataverse.org/en/latest/admin/metadatacustomization.html#datasetfield-field-properties
Thu, Jun 16, 2022, 14:41:25 - lincoln_: <@oliver:bertuch.name "Each field may provide a termURI..."> yes this I am aware
Thu, Jun 16, 2022, 14:42:07 - poikilotherm: You could go to demo.dataverse.org, create a dataset and add sth to the "kindOfData" field, then look at the JSON-LD output
Thu, Jun 16, 2022, 14:42:26 - poikilotherm: It has the termURI http://rdf-vocabulary.ddialliance.org/discovery#kindOfData
Thu, Jun 16, 2022, 14:42:31 - lincoln_: but to the best of my knowledge i did not see the url  on json_ld on my customized metadata field
Thu, Jun 16, 2022, 14:42:59 - poikilotherm: So in JSON-LD, it should have that URI and not be part of context "https://dataverse.org/schema/citation/"
Thu, Jun 16, 2022, 14:44:38 - poikilotherm: You could also reach out to Jim Myers who developed this export
Thu, Jun 16, 2022, 14:44:47 - poikilotherm: (And more like the OAI-ORE ingest)
Thu, Jun 16, 2022, 14:45:28 - lincoln_: although I have many customized metadata with uri .---during json_ld export

Thu, Jun 16, 2022, 14:46:06 - lincoln_: there is no any url
Thu, Jun 16, 2022, 14:46:58 - poikilotherm: From what I understood from Jim, this should be working - so it might be a bug! Please reach out to him via Slack/Mail/Github. I haven't made my hands dirty with this code at all, so it will be quicker to receive answers from him
Thu, Jun 16, 2022, 14:47:24 - lincoln_: JSON\_LD demo for example:
```@context	"http://schema.org"
@type	"Dataset"
@id	"https://doi.org/10.82289/Test\_VM/1XHFNA"
identifier	"https://doi.org/10.82289/Test\_VM/1XHFNA"
name	"test 544"
creator	
0	
name	"Author A"
1	
name	"Author B"
author	
0	
name	"Author A"
1	
name	"Author B"
datePublished	"2022-06-08"
dateModified	"2022-06-08"
version	"1"
description	
0	"The Dataset contains images of a process "A" with parameter in range \[a-b\]. (for Demo purpose)"
keywords	
0	"Chemistry"
1	"Engineering"
license	"http://creativecommons.org/licenses/by/4.0"
includedInDataCatalog	
@type	"DataCatalog"
name	"Root"
url	"http://localhost.localdomain:8080"
publisher	
@type	"Organization"
name	"Root"
provider	
@type	"Organization"
name	"Root"
distribution	
0	
@type	"DataDownload"
name	"byVWqfhbpfw.jpg"
fileFormat	"image/jpeg"
contentSize	1601558```
Thu, Jun 16, 2022, 14:47:31 - poikilotherm: pdurbin: do you think we can summon Jim here?
Thu, Jun 16, 2022, 14:48:06 - poikilotherm: lincoln_: can you edit your post and put \`\`\` around so it gets a code block? Just like Markdown
Thu, Jun 16, 2022, 14:49:59 - lincoln_: Message deleted by poikilotherm
Thu, Jun 16, 2022, 14:50:02 - poikilotherm: Example code block

```
Hello I'm a code block
```

Create me by 
\`\`\`
Hello I'm a code block
\`\`\`
Thu, Jun 16, 2022, 14:51:34 - lincoln_: thanks
Thu, Jun 16, 2022, 14:51:36 - lincoln_: done
Thu, Jun 16, 2022, 14:52:13 - poikilotherm: But it looks like copy pasta removed lots of the JSON info...?
Thu, Jun 16, 2022, 14:53:14 - lincoln_: wait ill upload the json file 
Thu, Jun 16, 2022, 14:54:32 - lincoln_: Message deleted
Thu, Jun 16, 2022, 14:54:38 - lincoln_: hope this helps
Thu, Jun 16, 2022, 14:55:12 - poikilotherm: ```json
{
  "@context": "http://schema.org",
  "@type": "Dataset",
  "@id": "https://doi.org/10.82289/Test_VM/1XHFNA",
  "identifier": "https://doi.org/10.82289/Test_VM/1XHFNA",
  "name": "test 544",
  "creator": [
    {
      "name": "Author A"
    },
    {
      "name": "Author B"
    }
  ],
  "author": [
    {
      "name": "Author A"
    },
    {
      "name": "Author B"
    }
  ],
  "datePublished": "2022-06-08",
  "dateModified": "2022-06-08",
  "version": "1",
  "description": [
    "The Dataset contains images of a process \"A\" with parameter in range [a-b]. (for Demo purpose)"
  ],
  "keywords": [
    "Chemistry",
    "Engineering"
  ],
  "license": "http://creativecommons.org/licenses/by/4.0",
  "includedInDataCatalog": {
    "@type": "DataCatalog",
    "name": "Root",
    "url": "http://localhost.localdomain:8080"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Root"
  },
  "provider": {
    "@type": "Organization",
    "name": "Root"
  },
  "distribution": [
    {
      "@type": "DataDownload",
      "name": "byVWqfhbpfw.jpg",
      "fileFormat": "image/jpeg",
      "contentSize": 1601558
    }
  ]
}
```
Thu, Jun 16, 2022, 14:55:40 - poikilotherm: Oh wait! You have been using the schema.org export!
Thu, Jun 16, 2022, 14:56:46 - poikilotherm sent an image. (Media omitted)
Thu, Jun 16, 2022, 14:58:03 - lincoln_ sent an image. (Media omitted)
Thu, Jun 16, 2022, 14:58:16 - lincoln_: right now i chose the last option thining of json_ld :(
Thu, Jun 16, 2022, 14:59:02 - lincoln_: but with oai_ore, yes i get the uri of customized metadata
Thu, Jun 16, 2022, 15:15:56 - pdurbin: poikilotherm: qqmyers is here but you should ping him in Slack to get his attention
Thu, Jun 16, 2022, 15:16:47 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: qqmyers is here bu..."> Thx pdurbin - for some unknown reason, the auto complete wouldn't let me choose his nick, so aI thought he's not in here.
Thu, Jun 16, 2022, 15:16:58 - poikilotherm: But for the time being, I think we're good
Thu, Jun 16, 2022, 15:17:03 - pdurbin: Customized metadata? At the dataset level? You can't customize metadata for files. Of course you can upload aux files for files if you want.
Thu, Jun 16, 2022, 15:17:20 - pdurbin: That's what DP Creator does.
Thu, Jun 16, 2022, 15:17:22 - poikilotherm: lincoln_: please ring a bell if we shall try to summon Jim
Thu, Jun 16, 2022, 15:26:55 - poikilotherm: pdurbin: from the top of your head - any other API endpoints for configuration retrieving data which is confidential/secrets besides authentication providers and database settings?
Thu, Jun 16, 2022, 15:27:44 - pdurbin: Uh. Confused.
Thu, Jun 16, 2022, 15:28:12 - pdurbin: API tokens are in the database.
Thu, Jun 16, 2022, 15:28:26 - pdurbin: Passwords for builtin users are hashed and stored in the database.
Thu, Jun 16, 2022, 15:28:36 - pdurbin: I'm not sure what you're getting at.
Thu, Jun 16, 2022, 15:28:45 - poikilotherm: No no no that wasn't what I meant :-D
Thu, Jun 16, 2022, 15:29:43 - poikilotherm: Trying to identify configuration API endpoints which you send a payload when setting the configuration that might contain secrets. Like the auth providers - the JSON contains a secret for the provider to integrate with
Thu, Jun 16, 2022, 15:30:50 - pdurbin: You want a secure way to configure Dataverse, especially when sending secrets.
Thu, Jun 16, 2022, 15:31:09 - poikilotherm: Yes of course
Thu, Jun 16, 2022, 15:31:25 - pdurbin: Over API or in a GUI?
Thu, Jun 16, 2022, 15:31:25 - poikilotherm: That's why I'm asking :-D
Thu, Jun 16, 2022, 15:31:41 - poikilotherm: OK let me give you a more sophisticated example
Thu, Jun 16, 2022, 15:32:32 - poikilotherm: Currently, when configuring an auth provider, you need to create a JSON file.

```json
{
    "id":"github",
    "factoryAlias":"oauth2",
    "title":"GitHub",
    "subtitle":"",
    "factoryData":"type: github | userEndpoint: NONE | clientId: FIXME | clientSecret: FIXME",
    "enabled":true
}
```
Thu, Jun 16, 2022, 15:32:47 - poikilotherm: So you are sending secrets over the wire to the API endpoint
Thu, Jun 16, 2022, 15:33:45 - poikilotherm: What I want: make the auth provider accept the data & scan it for sth like `${MPCONFIG=...:default}` and replace that placeholder with data from mpconfig
Thu, Jun 16, 2022, 15:34:32 - pdurbin: Hmm, interesting. Sure, sounds good.
Thu, Jun 16, 2022, 15:34:40 - poikilotherm: The motivation behind this: store the JSON somewhere as clear text. And replace the placeholder with a secret from some place else when loading the auth providers
Thu, Jun 16, 2022, 15:35:07 - poikilotherm: Of course this is completely optional, so backward compatible
Thu, Jun 16, 2022, 15:35:35 - pdurbin: So the code looks for `${MPCONFIG...` or whatever.
Thu, Jun 16, 2022, 15:35:51 - poikilotherm: So now I'm asking myself if there are other things we send to a configuration API endpoint that might carry secrets besides auth providers and database settings
Thu, Jun 16, 2022, 15:35:52 - pdurbin: Otherwise, assume it's the real `clientSecret`
Thu, Jun 16, 2022, 15:35:59 - poikilotherm: Exactly!
Thu, Jun 16, 2022, 15:36:17 - pdurbin: I mean, this is all our code. Shouldn't be too hard.
Thu, Jun 16, 2022, 15:36:30 - pdurbin: all that `factoryData` stuff
Thu, Jun 16, 2022, 15:37:15 - poikilotherm: ü§£ Yeah I know I know - this is an easy thing to do. So it would be easy for other things, too (excluding database settings here)
Thu, Jun 16, 2022, 15:38:55 - poikilotherm: (Hmm. Actually this might be a nice hack for the settings system... Anyway...)
Thu, Jun 16, 2022, 15:39:02 - pdurbin: poikilotherm: switching gears, any comment on https://github.com/gdcc/xoai/issues/35 ? üòÑ
Thu, Jun 16, 2022, 15:40:50 - poikilotherm: Formatter... Well... We could do that. Sonarcloud is also validating formatting. So we could start to add rules there. Would that active formating by program be a one shot thing in your eyes?
Thu, Jun 16, 2022, 15:41:26 - pdurbin: Sounds like a half step.
Thu, Jun 16, 2022, 15:41:58 - pdurbin: With Go and (I think) Rust there are no arguments. All code is formatted.
Thu, Jun 16, 2022, 15:42:20 - pdurbin: Complete consistency.
Thu, Jun 16, 2022, 15:44:14 - poikilotherm: But do we want the Google Java Style?
Thu, Jun 16, 2022, 15:44:36 - poikilotherm: How do you want to add it?
Thu, Jun 16, 2022, 15:44:44 - poikilotherm: Use a pre-commit hook?
Thu, Jun 16, 2022, 15:44:55 - poikilotherm: https://pre-commit.com/
Thu, Jun 16, 2022, 15:45:07 - pdurbin: Sure, pre commit hook is fine. Whatever.
Thu, Jun 16, 2022, 15:45:23 - pdurbin: I've never done this. I just want it. üòÑ
Thu, Jun 16, 2022, 15:45:46 - poikilotherm: https://github.com/macisamuele/language-formatters-pre-commit-hooks
Thu, Jun 16, 2022, 15:47:23 - pdurbin: Looks like it uses that Google thing: https://github.com/macisamuele/language-formatters-pre-commit-hooks/blob/v2.3.0/language_formatters_pre_commit_hooks/pretty_format_java.py
Thu, Jun 16, 2022, 15:48:02 - pdurbin: Which I guess if fine. I don't even know what Google's style is. I don't really care. I just want consistency and to not have to think about this stuff when I'm reviewing pull requests.
Thu, Jun 16, 2022, 15:48:52 - pdurbin: And if we can play around with this stuff in the xoai lib, great! Then, Dataverse! üòà
Thu, Jun 16, 2022, 15:49:13 - poikilotherm: https://github.com/diffplug/spotless/tree/main/plugin-maven
Thu, Jun 16, 2022, 15:49:42 - poikilotherm: This looks like you can have more than one format!
Thu, Jun 16, 2022, 15:49:50 - poikilotherm: And make it somewhat configurable
Thu, Jun 16, 2022, 15:51:13 - pdurbin: Sure, if we need it.
Thu, Jun 16, 2022, 15:51:41 - pdurbin: gofmt is not configurable and nobody complains, as far as I know
Thu, Jun 16, 2022, 15:52:22 - poikilotherm: Google java Format isn't, either
Thu, Jun 16, 2022, 15:52:39 - poikilotherm: Spotless can carry about more things
Thu, Jun 16, 2022, 15:52:43 - poikilotherm: Like license headers
Thu, Jun 16, 2022, 15:53:21 - poikilotherm: Looks for import orders, removes unused
Thu, Jun 16, 2022, 15:53:24 - poikilotherm: Etc
Thu, Jun 16, 2022, 15:53:50 - poikilotherm: https://github.com/diffplug/spotless/tree/main/plugin-maven#java
Thu, Jun 16, 2022, 15:53:52 - pdurbin: Go code won't even compile if you have unused imports.
Thu, Jun 16, 2022, 15:54:14 - poikilotherm: And it's easier to use via Maven than google formatter jar
Thu, Jun 16, 2022, 15:54:34 - pdurbin: Whatever you pick is fine.
Thu, Jun 16, 2022, 15:54:42 - poikilotherm: Do you want to create a pull request or shall I?
Thu, Jun 16, 2022, 15:54:58 - pdurbin: Can you? You're better at this stuff than I am!
Thu, Jun 16, 2022, 15:55:07 - poikilotherm: I am? You sure?
Thu, Jun 16, 2022, 15:55:15 - pdurbin: You can let me review it if you want. üòÑ
Thu, Jun 16, 2022, 15:55:34 - pdurbin: Do you agree with the idea?
Thu, Jun 16, 2022, 15:55:44 - pdurbin: Or are you like "Meh, who needs this?"
Thu, Jun 16, 2022, 15:55:52 - pdurbin: let tabs and spaces coexists
Thu, Jun 16, 2022, 15:55:57 - poikilotherm: It's an interesting experiment!
Thu, Jun 16, 2022, 15:56:11 - pdurbin: put braces whever you want
Thu, Jun 16, 2022, 15:56:20 - pdurbin: it's a free country!
Thu, Jun 16, 2022, 15:56:27 - poikilotherm: I definitely tried to get rid of all that cruft already and make this a consistent codebase. Sonarcloud was of great value
Thu, Jun 16, 2022, 15:56:57 - poikilotherm: I already enabled Sonarcloud rules about braces üòà
Thu, Jun 16, 2022, 15:57:04 - poikilotherm: But let's do this
Thu, Jun 16, 2022, 15:57:08 - poikilotherm: We have 30 minutes :-D
Thu, Jun 16, 2022, 15:57:24 - poikilotherm: Should be enough üëæ
Thu, Jun 16, 2022, 16:00:28 - pdurbin: go go go!
Thu, Jun 16, 2022, 16:06:36 - poikilotherm: B√§h I dislike 2 spaces indentation :-(
Thu, Jun 16, 2022, 16:08:02 - pdurbin: Hmm. Me too.
Thu, Jun 16, 2022, 16:08:20 - pdurbin: I guess I could get used to it.
Thu, Jun 16, 2022, 16:08:28 - pdurbin: Just like tabs in Go code.
Thu, Jun 16, 2022, 16:10:36 - poikilotherm: Ah! The Google AOSP variant does 4 spaces!
Thu, Jun 16, 2022, 16:11:13 - pdurbin: Weird!
Thu, Jun 16, 2022, 16:14:46 - poikilotherm: https://github.com/gdcc/xoai/pull/36
Thu, Jun 16, 2022, 16:17:24 - pdurbin: Overall, the changes look good to me.
Thu, Jun 16, 2022, 16:19:14 - pdurbin: So will this be automatic? Pre commit hook or something?
Thu, Jun 16, 2022, 16:20:27 - poikilotherm: Just adding it
Thu, Jun 16, 2022, 16:20:45 - poikilotherm: Of course every dev needs to activate pre-commit
Thu, Jun 16, 2022, 16:20:53 - poikilotherm: No way for git to enforce that AFAIK
Thu, Jun 16, 2022, 16:22:33 - pdurbin: But we could use a GitHub action maybe?
Thu, Jun 16, 2022, 16:23:35 - pdurbin: post-merge hook? I don't know what I'm talking about
Thu, Jun 16, 2022, 16:23:59 - poikilotherm: Manipulating the code from a CI job is though
Thu, Jun 16, 2022, 16:24:20 - poikilotherm: Needs write permissions etc
Thu, Jun 16, 2022, 16:25:45 - pdurbin: So you're typing `mvn spotless:apply`?
Thu, Jun 16, 2022, 16:26:10 - poikilotherm: Aye
Thu, Jun 16, 2022, 16:26:23 - pdurbin: And we'd teach every developer to do this.
Thu, Jun 16, 2022, 16:26:37 - pdurbin: It would be nicer if the CI did it automatically.
Thu, Jun 16, 2022, 16:26:57 - poikilotherm: Or just make them
```
pip install pre-commit
pre-commit install
```
Thu, Jun 16, 2022, 16:27:14 - poikilotherm: Rest is done for them :-D
Thu, Jun 16, 2022, 16:27:47 - pdurbin: We could have a check for pull requests, right? Fail if `mvn spotless:check` finds anything?
Thu, Jun 16, 2022, 16:30:23 - poikilotherm: Of course!
Thu, Jun 16, 2022, 16:32:18 - pdurbin: Ok, if that's easy enough, let's do that. With a GitHub Action?
Thu, Jun 16, 2022, 16:32:28 - poikilotherm: Sure. Closing session!
Thu, Jun 16, 2022, 16:32:36 - poikilotherm: Can continue in parallel
Thu, Jun 16, 2022, 16:34:53 - pdurbin: go go go!
Thu, Jun 16, 2022, 16:50:32 - poikilotherm: Just to be sure @pdurbin - you might want to have spotless apply changes to new changes only for Dataverse upstream... That's completely possible but might need some tweaks to the config
Thu, Jun 16, 2022, 16:51:11 - pdurbin: Ah, new changes only sounds good for core Dataverse. Good idea.
Thu, Jun 16, 2022, 16:51:33 - pdurbin: In practice, I assume if the check fails you have to reformat the whole file.
Thu, Jun 16, 2022, 16:53:29 - poikilotherm: Just pushed the pre-commit things
Thu, Jun 16, 2022, 16:53:53 - poikilotherm: Catches some more flaws in XML etc
Thu, Jun 16, 2022, 16:54:17 - poikilotherm: (That might also be done by spotless, I guess)
Thu, Jun 16, 2022, 16:55:00 - pdurbin: Ah, trailing-whitespace and such. Interesting.
Thu, Jun 16, 2022, 16:56:02 - pdurbin: I wouldn't have known about pre-commit-maven. See? You're faster at this stuff. üòÑ Looks great!
Thu, Jun 16, 2022, 16:56:19 - poikilotherm: Uhm yeah took some time on DuckDuck
Thu, Jun 16, 2022, 16:57:43 - poikilotherm: pdurbin do you want the spotless check to run in a separate action?
Thu, Jun 16, 2022, 16:57:52 - poikilotherm: Or should it fail the build?
Thu, Jun 16, 2022, 16:58:12 - poikilotherm: How pushy shall it be
Thu, Jun 16, 2022, 17:01:30 - pdurbin: Uh. Yes, the spotless check should fail the build. Make the contributor fix it. I don't know about the pre-commit checks. If you want.
Thu, Jun 16, 2022, 17:04:34 - poikilotherm: What inspiring closing speech by John!
Thu, Jun 16, 2022, 17:05:58 - pdurbin: Yes! I'm heading out. 4 day weekend due to Juneteeth and a bonus day. And next week we have a retreat Tue and Wed. So see you all Thu, June 23 and Fri 24, I guess. Have a good weekend!
Thu, Jun 16, 2022, 17:06:42 - poikilotherm: Bye!
Thu, Jun 16, 2022, 17:07:37 - poikilotherm: pdurbin: that PRs done.
Fri, Jun 17, 2022, 06:52:05 - mih: Quick update on our efforts to integrate DataLad and Dataverse: https://twitter.com/eknahm/status/1537740991838437376
Fri, Jun 17, 2022, 06:53:10 - mih: It would be great to get a pointer re https://github.com/datalad/datalad-dataverse/issues/27 -- the API requires us to specify "subjects", but the API does not seem to provide a list of supported subjects -- would be great to not have to hardcode it. Thanks in advance!
Fri, Jun 17, 2022, 08:24:26 - sennin set a profile picture
Fri, Jun 17, 2022, 08:32:29 - mih: Thx pdurbin !!
Fri, Jun 17, 2022, 09:30:51 - poikilotherm: @pdurbin @mih this might be related to the issue about metadata requirements, too, right? A JSON schema would send vocabularies with it, aye?
Fri, Jun 17, 2022, 09:32:49 - poikilotherm: https://github.com/IQSS/dataverse/issues/7173
Fri, Jun 17, 2022, 12:40:12 - mih: Next update from the hackathon: https://twitter.com/eknahm/status/1537835899156942853
Fri, Jun 17, 2022, 12:41:54 - mih: This means that we can deposit a full datalad dataset -- with or without -- the content of the tracked files on dataverse -- and also be able to `datalad clone` a fully functional dataset from it!
Fri, Jun 17, 2022, 12:43:12 - mih: Because the datalad dataset is basically a set of actionable metadata that includes identify and availability information on included files, it makes it possible to "deposit" TBs of files on dataverse, without having to necessarily host these TB it on dataverse too
Fri, Jun 17, 2022, 12:51:18 - Benjamin Poldrack: ^  In order to make it actually *ehem* a full dataset one question: 

It appears that dataverse is removing leading `.` from a file's path. Is that unconditionally the case, or is there something we can do about it?
Fri, Jun 17, 2022, 17:31:31 - Akio Sone joined the room
Mon, Jun 20, 2022, 08:39:10 - poikilotherm: Thx Benjamin Poldrack et al for opening https://github.com/IQSS/dataverse/issues/8807
Mon, Jun 20, 2022, 08:40:19 - poikilotherm: Benjamin Poldrack: sorry to be a pain - I saw in the issue you used Dataverse 5.11. Is this replicable with 5.11? (You might try on demo.dataverse.org)
Mon, Jun 20, 2022, 09:19:31 - Benjamin Poldrack: <@oliver:bertuch.name "Benjamin Poldrack: sorry to be a..."> No pain at all. Will try.
Mon, Jun 20, 2022, 09:31:03 - Benjamin Poldrack: <@oliver:bertuch.name "Benjamin Poldrack: sorry to be a..."> Yes, same thing at demo.dataverse.org - at least via webinterface. 
Mon, Jun 20, 2022, 09:31:26 - Benjamin Poldrack: Entered file path `.hidden`, reports `hidden`.
Mon, Jun 20, 2022, 09:33:27 - poikilotherm: OK. This will take some time for debugging. Can't take up right now, maybe @qqmyers gets to it faster. Will mention it on Slack
Mon, Jun 20, 2022, 09:33:44 - Benjamin Poldrack: Thx much!
Mon, Jun 20, 2022, 10:43:56 - @better_sleeping:converser.eu joined the room
Mon, Jun 20, 2022, 10:44:09 - @better_sleeping:converser.eu left the room
Mon, Jun 20, 2022, 11:41:28 - Henning Timm joined the room
Tue, Jun 21, 2022, 07:47:21 - lincoln_: one question: any idea on increasing the time limit for payara
Tue, Jun 21, 2022, 13:12:10 - Don Sizemore: lincoln_: do you mean the HTTP timeout?
Tue, Jun 21, 2022, 15:41:51 - poikilotherm: http://guides.dataverse.org/en/latest/installation/config.html#http-request-timeout-seconds ü´£
Wed, Jun 22, 2022, 03:20:19 - lincoln_: <@donsizemore:matrix.org "lincoln_: do you mean the HTTP t..."> yes
Wed, Jun 22, 2022, 03:20:26 - lincoln_: <@oliver:bertuch.name "http://guides.dataverse.org/en/l..."> thank you 
Wed, Jun 22, 2022, 11:06:58 - Ilaria Belvedere: Hello everyone, sorry for the question, but because of jet lag and work I wasn't able to attend the global meeting last week and so I would like to ask if some of the main discussions will be uploaded on Youtube as for the ones of last year
Wed, Jun 22, 2022, 11:47:44 - poikilotherm: Yes - they all have been recorded and will be available on YT in the future.
Wed, Jun 22, 2022, 11:56:37 - Ilaria Belvedere: Thank you :)
Thu, Jun 23, 2022, 09:24:42 - pdurbin: <@mih:matrix.org "Next update from the hackathon: ..."> Great news! Can you attend one of our community calls one day and give a demo?
Thu, Jun 23, 2022, 09:26:13 - mih: Sure, we'll need a moment to consolidate after the sprint, but I was already planning to post a demo online. No problem doing it live in a call 
Thu, Jun 23, 2022, 09:26:54 - pdurbin: mih: fantastic! Then next one is July 12: https://dataverse.org/community-calls
Thu, Jun 23, 2022, 09:29:14 - mih: ok, that particular one won't work for me personally, but maybe someone else from the team can make it
Thu, Jun 23, 2022, 09:31:50 - pdurbin: mih: no worries. We've had to cancel a lot of these due to summer vacations and such. Our regular schedule is every other week. So maybe you could give a demo in late July or August. No rush.
Thu, Jun 23, 2022, 09:34:44 - mih: I'll let you know
Thu, Jun 23, 2022, 09:53:39 - pdurbin: sounds good, thanks!
Thu, Jun 23, 2022, 09:54:41 - pdurbin: <@oliver:bertuch.name "Thx Benjamin Poldrack et al for ..."> Yes, thanks very much. I just left a comment. I think directories with a leading dot should be allow. I also just made a little noise in Slack about this.
Thu, Jun 23, 2022, 09:55:13 - poikilotherm: Hey pdurbin üëã Welcome back :-)
Thu, Jun 23, 2022, 09:55:53 - pdurbin: Thanks! Back for two days only! Then gone for two weeks. Off to Iceland.
Thu, Jun 23, 2022, 09:56:09 - poikilotherm: Sounds like a nice trip :-)
Thu, Jun 23, 2022, 09:57:25 - pdurbin: 25 anniversary. We've never been. Should be fun!
Thu, Jun 23, 2022, 10:02:52 - Akio Sone: pdurbin: I'm looking for a writing style-guide for Dataverse's guides; is there any section about it within Dataverse' developer's manual? 
Thu, Jun 23, 2022, 10:04:05 - pdurbin: Akio Sone: https://guides.dataverse.org/en/5.11/developers/documentation.html is the place to look. The main thing we say there is to always include a table of contents at the top.
Thu, Jun 23, 2022, 10:04:19 - pdurbin: Certainly there is more we could say. üòÑ
Thu, Jun 23, 2022, 10:07:33 - Akio Sone: <@pdurbin:matrix.org "Akio Sone: https://guides.datave..."> Can we link a svg file in a guide as an image file?
Thu, Jun 23, 2022, 10:10:29 - pdurbin: Akio Sone: sure! Here are some examples: https://guides.dataverse.org/en/5.11/style/foundations.html#logos
Thu, Jun 23, 2022, 10:11:14 - pdurbin: Please put the svg file under `doc/sphinx-guides/source/_static`
Thu, Jun 23, 2022, 10:12:00 - poikilotherm: <@a_sone:matrix.org "Can we link a svg file in a guid..."> Please consider using the Sphinx PlantUML extension if your SVG is a diagram - documentation as code üôÉ
Thu, Jun 23, 2022, 10:14:19 - pdurbin: poikilotherm: is there an example in the guides already?
Thu, Jun 23, 2022, 10:15:48 - poikilotherm: Not in our guide, but in what I wrote for K8s. http://k8s-docs.gdcc.io/en/v4.20/day1/deploy-behind-scenes.html
Thu, Jun 23, 2022, 10:16:52 - Akio Sone: For plantUML, which theme is acceptable for Dataverse's guide? I suspect most of them are not commensurate with the current coloring scheme of Dataverse's guides.
https://the-lum.github.io/puml-themes-gallery/
Thu, Jun 23, 2022, 10:17:15 - poikilotherm: Find the sources here for an example: http://k8s-docs.gdcc.io/en/v4.20/_sources/day1/deploy-behind-scenes.rst.txt
Thu, Jun 23, 2022, 10:17:46 - poikilotherm: <@a_sone:matrix.org "For plantUML, which theme is acc..."> I don't think there is yet! I know of some PlantUML PNGs included in the guide (see Make Data Count)
Thu, Jun 23, 2022, 10:18:02 - poikilotherm: That used the standard colors, nothing fancy
Thu, Jun 23, 2022, 10:18:32 - poikilotherm: But when using this with the "documentation as code" approach, it could be changed easily down the road
Thu, Jun 23, 2022, 10:18:50 - pdurbin: Akio Sone: whatever default theme is probably fine. If you make a pull request, we'll be able to see an HTML preview (thanks to poikilotherm ).
Thu, Jun 23, 2022, 10:20:36 - poikilotherm: Akio Sone: if you want to try out the sphinx plantuml extension, add it to the `requirements.txt` file. You'll need plantuml on your box, though. Read-the-docs has it installed by default AFAIK, so the preview should work out of the box
Thu, Jun 23, 2022, 10:27:49 - pdurbin: mih: for https://github.com/IQSS/dataverse/issues/8807 , what's a real world example of a hidden directory you'd like to upload to Dataverse, please?
Thu, Jun 23, 2022, 10:31:44 - mih: Every datalad dataset has a `.datalad` directory with datalad's own config and metadata
Thu, Jun 23, 2022, 10:31:50 - Akio Sone: poikilotherm: For most of my own document-wring on linux, I'm using asciidoc on VS Code with locally running plantUML or kroki servers. What shphinx editor with the capability of realtime preview of plantuml are you using?
Thu, Jun 23, 2022, 10:35:56 - poikilotherm: I'm using sphinx-autobuild all day long :-D
Thu, Jun 23, 2022, 10:36:13 - poikilotherm: We could add it to the Makefile, too :-)
Thu, Jun 23, 2022, 10:36:49 - poikilotherm: https://pypi.org/project/sphinx-autobuild/
Thu, Jun 23, 2022, 10:37:54 - poikilotherm: I love this in combo with https://github.com/twolfson/livereload-extensions :-)
Thu, Jun 23, 2022, 10:38:09 - poikilotherm: (Also available for Chrome/...)
Thu, Jun 23, 2022, 10:40:05 - poikilotherm: When developing a more complex diagram, I lately found https://plantuml-editor.kkeisuke.com and find it quite intuitive to use
Thu, Jun 23, 2022, 10:40:19 - pdurbin: mih: ok, `.datalad`. Thanks!
Thu, Jun 23, 2022, 10:47:55 - poikilotherm: pdurbin: MPCONFIG based JVM settings coming in... Some new ones already to be found at https://dataverse-guide--8810.org.readthedocs.build/en/8810/installation/config.html#jvm-options (the action happens in https://github.com/IQSS/dataverse/pull/8810)
Thu, Jun 23, 2022, 10:52:03 - pdurbin: Huh, so `dataverse.solr.host` for example. Great!
Thu, Jun 23, 2022, 10:57:41 - poikilotherm: And all relevant aspects of Solr URL configurable for the first time :-)
Thu, Jun 23, 2022, 10:58:01 - pdurbin: yeah, sorry about :SolrColonHost. I don't know what I was thinking
Thu, Jun 23, 2022, 10:58:10 - poikilotherm: That hardcoded core name "collection1" gave me some hard  times :-D
Thu, Jun 23, 2022, 10:59:22 - poikilotherm: Oh no worries - it'll be fixed now, even backward compatible. Just posted to Slack dv-tech about more difficult things... ü•¥
Fri, Jun 24, 2022, 16:27:45 - pdurbin: Ok, I just sent the community news a bit early ( https://groups.google.com/g/dataverse-community/c/7cUyLesUk-Q/m/UvYqWeRqHAAJ ) because I'm on vacation for the next two weeks. See you on Monday, July 11th! Have a great weekend!
Fri, Jun 24, 2022, 23:46:54 - MihKhoa: Hi everyone, I have built payara server, now I want to build dataverse web interface, but I don't know how to go, can you guide me
Sat, Jun 25, 2022, 04:37:24 - poikilotherm: Hi MihKhoa ! Please take a look at the detailed installation guides :-) https://guides.dataverse.org/en/latest/installation/index.html
Sun, Jun 26, 2022, 06:01:31 - MihKhoa: <@oliver:bertuch.name "Hi MihKhoa ! Please take a look ..."> yes, I also followed the installation instructions but I still don't understand how to build the interface. I use linux operating system, do I need to use netbean?
Sun, Jun 26, 2022, 06:05:01 - MihKhoa sent an image. (Media omitted)
Sun, Jun 26, 2022, 06:05:04 - MihKhoa: I got the payara server running, but i get an error when i run this url
Mon, Jun 27, 2022, 08:29:11 - lincoln_: <@khoa.dev:matrix.org "sent an image."> MihKhoa: Is there any error/anything on server.log?
Tue, Jun 28, 2022, 00:26:05 - @darklite:matrix.org joined the room
Tue, Jun 28, 2022, 11:21:07 - lincoln_: one question:
Is there any kubernetes for dataverse-v5.9 or higher? or any reference
Tue, Jun 28, 2022, 11:21:12 - analia-s: Hello everyone! I would like to know what is the best way to remove :8080 from the url. I have Apache installed, if I do it with reverse proxy is it ok?
Tue, Jun 28, 2022, 12:48:58 - Don Sizemore: analia-s: using Apache as a reverse proxy is fine. to remove the :8080 you'll edit the dataverse.siteUrl jvm-option in Payara's domain1/config/domain.xml file
Tue, Jun 28, 2022, 12:49:29 - Don Sizemore: lincoln_: I'm only aware of poikilotherm 's Kurbenetes installation
Tue, Jun 28, 2022, 14:30:47 - analia-s: <@donsizemore:matrix.org "analia-s: using Apache as a reve..."> Thanks!!! üòÅ
Thu, Jun 30, 2022, 03:42:46 - lincoln_: During publishing the dataset, the dataset got  locked and now is at that situation a bit longer.
Is there any other way to disable lock of dataset and republish the same dataset
I have come across this :
https://guides.dataverse.org/en/5.9/admin/troubleshooting.html#a-dataset-is-locked-and-cannot-be-edited-or-published
Thu, Jun 30, 2022, 03:42:56 - lincoln_: Message deleted
Thu, Jun 30, 2022, 04:04:51 - lincoln_: Found it!!  https://guides.dataverse.org/en/latest/api/native-api.html#id74
Thu, Jun 30, 2022, 11:13:01 - poikilotherm: <@donsizemore:matrix.org "lincoln_: I'm only aware of poik..."> lincoln_: If you want to talk K8s, I'm all ears. There is almost no visible progress, but lots of ideas. It's just a lack of dev time :-/
Thu, Jun 30, 2022, 11:57:51 - mrschue joined the room
Thu, Jun 30, 2022, 12:02:29 - mrschue: hi, i am actually trying to set up a dataverse on a k8s for testing purposes atm. Had some success using dv image also used by dataverse-docker, coronawhy/dataverse:5.8
by any chance, could anyone point me where the corresponding dockerfile for that image is located? I'd like to build one myself, but I'd like to understand how this one was created first 
Thu, Jun 30, 2022, 12:03:54 - mrschue: (the kubernetes configuration I just base off of the dataverse-kubernetes project btw)
Thu, Jun 30, 2022, 15:33:44 - poikilotherm: mrschue: that's one of my main purposes as well XD
Thu, Jun 30, 2022, 15:34:16 - poikilotherm: I know coronawhy/dataverse:5.8 was inherited from what I did for gdcc/dataverse-kubernetes Payara flavor
Thu, Jun 30, 2022, 15:35:11 - poikilotherm: I spent quite some time to look into optimizing images for Docker and Kubernetes usage and try to push for a much simplified setup and using standard tooling like Solr operator etc
Thu, Jun 30, 2022, 15:36:33 - poikilotherm: What I am missing most for Dataverse is an Operator which does the Bootstrapping and Database Setting handling.
Thu, Jun 30, 2022, 15:37:09 - poikilotherm: This is all very tedious with the approach I had for dataverse-kubernetes and should be improved to be more inline with what the world is doing now on K8s
Thu, Jun 30, 2022, 15:37:45 - poikilotherm: I'd really appreciate if someone would start building a Dataverse K8s Operator, with CRD and everything
Thu, Jun 30, 2022, 15:39:25 - poikilotherm: What I am currently pushing for is making Dataverse ready to read configuration for "JVM options" from other places than system properties. Like read config from env vars, read secrets from files etc. There is a standard way to do this in Java nowadays (Microprofile Config), but it's just me pushing for this stuff...
Thu, Jun 30, 2022, 15:41:07 - poikilotherm: It would be great if all the folks interested in containers and Kubernetes could gather, maybe for a meeting and we discuss what we want, what we need etc as a community. IQSS isn't into this stuff at all and I do have quite a bunch of ideas floating around. It would help in having backing from a community of users and it would help even more if we create things together
Thu, Jun 30, 2022, 15:43:24 - poikilotherm: I know that carlsonp came up with some stuff, Vyacheslav Tikhonov did dataverse-docker, @pameyer did dataverse-aio, me did dataverse-kubernetes and Kris from KU Leuven also did some stuff.
Thu, Jun 30, 2022, 15:43:50 - poikilotherm: It doesn't make that much sense to have 10s of approaches and everyone fight on its own...
Mon, Jul 4, 2022, 23:07:08 - MihKhoa: please help me
Mon, Jul 4, 2022, 23:07:19 - MihKhoa: server.log (Media omitted)
Tue, Jul 5, 2022, 04:30:19 - Benjamin Poldrack: Hi dataverse experts,

in the context of https://github.com/datalad/datalad-dataverse we are currently relying on a CI setup, where we use the demo docker from https://github.com/IQSS/dataverse-docker.git within an AppVeyor build, to test our code against. While it works in principle there are issues making this unreliable and annoying to work with.

The setup brings up the containers with docker-compose and then sends a request via curl to the search API every 10 seconds until we get an actual JSON response or give up after 10 minutes. Once that succeeds we go on to run our actual tests. There are two fundamental issues, though.

1. A lot of the times dataverse just doesn't become responsive at all within 10 minutes. Meaning: When it works, curl first reports not getting an answer, then we get a 404 page from payara and ultimately a JSON response to the search query. However, often that's not what's happening. Instead after the first two or three 404 responses there are suddenly competely empty responses only and forever (no complaint by `curl` about the response being empty, but there's nothing in the body. Restarting the job will most often solve it, but it's annoying and curious.

2. Once the initial setup works, there are still two ways this can turn out. Either the test run (and usually pass) - everything seems fine. Or (same commit - no change whatsoever) every request being sent by those tests suddenly gets a 403 response. I have not the sightest idea at the moment how that can be.

So, one way or another we need a more reliable setup. Hence, basically two questions:
1. Does any of that ring  a bell? Any hints on what may be the issue? Is one or two issues?

2. Is it feasible to switch to use demo.dataverse.org as the target for CI builds? Or will that be either too slow or simply ban us when being hit with automated requests that much?
Tue, Jul 5, 2022, 07:44:57 - lincoln_: during a typo in solr command...I am now facing this issue:
Error from server at http://localhost:8983/solr/collection1: Expected mime type application/octet-stream but got text/html. <h1>Bad Message 414</h1><pre>reason: URI Too Long</pre>]]
Tue, Jul 5, 2022, 07:45:17 - lincoln_: does anyone have experience with this error
Tue, Jul 5, 2022, 08:11:38 - lincoln_: okay i restarted the server followed by reindexing...solved
Tue, Jul 5, 2022, 09:45:40 - analia-s: Hello everyone! I get an error when I update the metadata of a dataset: Error ‚Äì The metadata could not be updated. But I see that the metadata is updated. Attached image of server.log
Tue, Jul 5, 2022, 09:46:13 - analia-s: image.png (Media omitted)
Tue, Jul 5, 2022, 10:21:03 - lincoln_: the error says that there are multiple values/input --given for one non-multiple metadata field
Tue, Jul 5, 2022, 11:45:00 - analia-s: Thanks!!!
Wed, Jul 6, 2022, 04:24:32 - mrschue: poikilotherm:  thanks for the reply!  
I am not part of the community per se, but am just trying to get dataverse to run for the company I work at in the context of a research collaboration. 
From this perspective (which I guess is not the target group for dataverse), I totally agree with you; it is really helpful to have simple-to-configure and simple-to-deploy solution up to modern standards. 
And I was super happy to find dataverse-kubernetes (thanks a lot!) as a starting point as I am far from a kubernetes expert myself nor do I know a lot about dataverse.


I think, for now I'll go ahead and build on top of the coronawhy image which seems to be working alright with solr 7.7 and postgres 10+ so far :) 
Wed, Jul 6, 2022, 05:11:24 - pvx1 joined the room
Wed, Jul 6, 2022, 05:11:59 - pvx1: Hi could someone help me to solve duplicate storage identifiers problem ?
Wed, Jul 6, 2022, 05:21:09 - poikilotherm: <@pvx1:matrix.org "Hi could someone help me to solv..."> Hi! Could you provide some more context and details? Thx!
Wed, Jul 6, 2022, 05:21:33 - poikilotherm: Sure thing! Glad this is helpful to someone üòâ
Wed, Jul 6, 2022, 05:22:17 - pvx1: I'm testing the procedure of upgrade from 5.0 -> 5.11. It is said in the upgrade procedures that v5.6 upgrade will fail if duplicate storage identifiers exist in the DB. 
Wed, Jul 6, 2022, 05:22:45 - pvx1: I have this problem from six different files for a long time...
Wed, Jul 6, 2022, 05:23:13 - pvx1: The following storage identifiers appear to be referenced from multiple non-harvested DvObjects:
      2 32 s3://dataverse:171d455e150-5ae0152405ed
      2 32 s3://dataverse:171d458f901-60ba1507775f
      2 32 s3://dataverse:171d4a04bcf-77a138eefb18
      2 32 s3://dataverse:171d4b623ef-6869af627338
      2 32 s3://dataverse:171d59e0ade-1823bffd446d
      2 32 s3://dataverse:171d649d6ff-fc7f076a79ad
(output saved in /tmp/storageidentifiers.tmp)
Looking up details for the affected datafiles:
10.14428 DVN/2QBQVJ s3://dataverse:171d455e150-5ae0152405ed 1314 2020-05-02 07:58:59.899 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d455e150-5ae0152405ed 1317 2020-05-02 07:58:59.899 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d458f901-60ba1507775f 1315 2020-05-02 07:58:59.899 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d458f901-60ba1507775f 1318 2020-05-02 07:58:59.899 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d4a04bcf-77a138eefb18 1323 2020-05-02 09:14:35.773 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d4a04bcf-77a138eefb18 1325 2020-05-02 09:14:35.773 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d4b623ef-6869af627338 1331 2020-05-02 09:36:59.59 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d4b623ef-6869af627338 1336 2020-05-02 09:36:59.59 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d59e0ade-1823bffd446d 1380 2020-05-02 13:42:42.103 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d59e0ade-1823bffd446d 1383 2020-05-02 13:42:42.103 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d649d6ff-fc7f076a79ad 1410 2020-05-02 16:54:37.658 application/octet-stream
10.14428 DVN/2QBQVJ s3://dataverse:171d649d6ff-fc7f076a79ad 1415 2020-05-02 16:54:37.658 application/octet-stream
(output saved in /tmp/duplicates_info.tmp) 
Wed, Jul 6, 2022, 05:26:01 - poikilotherm: OK so this PR introduces the change: https://github.com/IQSS/dataverse/pull/7741
Wed, Jul 6, 2022, 05:26:22 - poikilotherm: Adding the uniqueness constraint
Wed, Jul 6, 2022, 05:26:50 - poikilotherm: I guess you ran the detection script?
Wed, Jul 6, 2022, 05:27:17 - poikilotherm: https://github.com/IQSS/dataverse/blob/develop/scripts/issues/7451/check_datafiles_7451.sh
Wed, Jul 6, 2022, 05:27:49 - poikilotherm: (At least from the output you included it seems like you did)
Wed, Jul 6, 2022, 05:27:59 - pvx1: Yes. The problem is present for 6 different files.
Wed, Jul 6, 2022, 05:30:10 - poikilotherm: OK. Before going further, please be aware about the info that was put here: https://github.com/IQSS/dataverse/blob/develop/scripts/issues/7451/PRE-RELEASE-INFO.txt 

> For local files, rather than attempt to make any changes right away (this being an issue of data integrity with a potential to affect your  users) it will instruct you to end the produced diagnostic information to support@dataverse.org so that we can assist you in resolving the issues in your database. 
Wed, Jul 6, 2022, 05:30:31 - poikilotherm: Nonetheless, you could try to resolve these few number of cases on your own
Wed, Jul 6, 2022, 05:32:53 - pvx1: I read it and sent the output on monday to the support but I haven't get a support ticket till now.
Wed, Jul 6, 2022, 05:33:18 - poikilotherm: Ah OK that might be because Harvard/IQSS is mostly on holidays right now.
Wed, Jul 6, 2022, 05:34:07 - poikilotherm: You should have received an automated response with a ticket number, though...
Wed, Jul 6, 2022, 05:35:46 - pvx1: Oh yes. I apologize. It was in the spams ! 
Wed, Jul 6, 2022, 05:36:11 - poikilotherm: The dev with the most experience about this problem, Leonid, is on vacation. IIRC until next week. pdurbin is out until next Monday, too. If you can't wait until then, you might give it a shot to fix this on your own.
Wed, Jul 6, 2022, 05:37:34 - pvx1: No problem. I will wait. No urgency ! Thank you !
Wed, Jul 6, 2022, 05:38:45 - poikilotherm: You're most welcome :-)
Thu, Jul 7, 2022, 02:28:53 - poikilotherm: https://twitter.com/Payara_Fish/status/1544707746997624834?t=r3l9wFQ7IIo3tpGkxlSPeA&s=09
Thu, Jul 7, 2022, 08:12:33 - lincoln_: Anyone who can provide me info/link/files/any resource related to archiving procedure/workflow(anything) adopted for Dataverse?
All i have right now is this link
https://guides.dataverse.org/en/latest/admin/backups.html

Thu, Jul 7, 2022, 09:30:33 - poikilotherm: <@lincoln_:matrix.org "Anyone who can provide me info/l..."> Does this help? https://guides.dataverse.org/en/latest/installation/config.html#bagit-export
Thu, Jul 7, 2022, 09:38:21 - lincoln_: thank you poikilotherm ....Are there anything else more that you are aware of?
Thu, Jul 7, 2022, 09:39:30 - poikilotherm: <@lincoln_:matrix.org "thank you poikilotherm ....Are t..."> https://guides.dataverse.org/en/latest/admin/integrations.html?highlight=duracloud#research-data-preservation
Thu, Jul 7, 2022, 09:41:39 - poikilotherm: And you might be interested in adding your own, custom workflow lincoln_  - Docs here: https://guides.dataverse.org/en/latest/developers/workflows.html
Thu, Jul 7, 2022, 09:44:54 - lincoln_: ill have a look over them .thank you poikilotherm .
Thu, Jul 7, 2022, 10:24:29 - poikilotherm: pdurbin  I estimate Payara 6 Alpha 3 will be upon us on your rearrival. I see RC tags for it https://github.com/payara/Payara/tags
Fri, Jul 8, 2022, 22:54:05 - @darklite:matrix.org: Message deleted by poikilotherm
Mon, Jul 11, 2022, 05:05:17 - sennin: The first, initial release of dataverse_tests is out! A collection of tests for Dataverse, with some helpful functionalities to dump, create and remove data from your installation. It's #opensource and written in #python. https://github.com/gdcc/dataverse_tests/releases/tag/0.1.0
Mon, Jul 11, 2022, 11:38:59 - poikilotherm: <@oliver:bertuch.name "pdurbin  I estimate Payara 6 Alp..."> I lost that bet pdurbin - no Alpha 3 release yet, still RC2 üôà
Tue, Jul 12, 2022, 08:54:44 - @dylanpalmertokens:matrix.org joined the room
Tue, Jul 12, 2022, 14:56:48 - pdurbin: poikilotherm: yeah, tags but no release. Bummer.
Tue, Jul 12, 2022, 14:58:05 - poikilotherm: Not even an Alpha3 tag :-(
Tue, Jul 12, 2022, 14:58:16 - poikilotherm: Maybe they are waiting for the final EE 10 release
Tue, Jul 12, 2022, 14:58:34 - pdurbin: MihKhoa lincoln_ analia-s mrschue Benjamin Poldrack pvx1 I see you all had questions when I was in Iceland getting Covid. Thanks to poikilotherm and Don Sizemore for answering as much as possible! If questions remain, I'm happy to help!
Tue, Jul 12, 2022, 14:59:08 - poikilotherm: <@oliver:bertuch.name "Maybe they are waiting for the f..."> https://twitter.com/Payara_Fish/status/1546532292507668486
Tue, Jul 12, 2022, 14:59:43 - pdurbin: Maybe.
Tue, Jul 12, 2022, 15:00:07 - pdurbin: Well, I'm glad we made some progress, at least. Hurry up and wait.
Tue, Jul 12, 2022, 15:01:07 - poikilotherm: pdurbin: get well soon y'all!
Tue, Jul 12, 2022, 15:28:02 - pdurbin: thanks üòÑ
Wed, Jul 13, 2022, 06:08:00 - @dylanpalmertokens:matrix.org left the room
Thu, Jul 14, 2022, 09:16:42 - Ilaria Belvedere: Hello, sorry for the stupid question, but here it is. I installed dataverse docker locally in demo version (the one with docker compose), and created a few Dataverse Collections. I published the root one, but I can not publish nor edit the sub Collections..Is It normal?üòÅüòÜ
Thu, Jul 14, 2022, 09:36:52 - pdurbin: Ilaria Belvedere: does the account have permission to publish? Have you tried publishing with a superuser account like "dataverseAdmin"? Is there a "Publish" button? Any errors in the browser? Any errors in server.log?
Thu, Jul 14, 2022, 09:58:47 - Ilaria Belvedere: Hello :) Yes, I logged with the superuser account and there Is the publish button, but I can only click on the button for the root
Thu, Jul 14, 2022, 10:01:31 - pdurbin: What happens when you click the button that isn't working? Any errors?
Thu, Jul 14, 2022, 10:03:42 - Ilaria Belvedere: No, It is not "clickable", but It is visible
Thu, Jul 14, 2022, 10:05:02 - pdurbin: disabled
Thu, Jul 14, 2022, 10:05:39 - Ilaria Belvedere: Yes
Thu, Jul 14, 2022, 10:10:52 - pdurbin: Can you publish via API?
Thu, Jul 14, 2022, 10:13:27 - pdurbin: Ilaria Belvedere: here's a thought. I'd love to get some feedback to carlsonp for his docker compose pull request anyway. Would you like to try https://github.com/IQSS/dataverse/pull/8709 to see if you have the same problem there?
Thu, Jul 14, 2022, 10:15:14 - Ilaria Belvedere: Okay, I will try this, thank you very much :) I will keep you updated
Thu, Jul 14, 2022, 10:17:28 - pdurbin: I would also suggest creating an issue at https://github.com/IQSS/dataverse-docker/issues so Vyacheslav Tikhonov knows you're having problems.
Thu, Jul 14, 2022, 10:40:08 - Ilaria Belvedere: Thank you :)
Thu, Jul 14, 2022, 10:49:49 - pdurbin: Sure. I don't think this is a bug in Dataverse itself but who knows.
Thu, Jul 14, 2022, 11:50:36 - pdurbin: Slides from #dataverse2022 are up! https://groups.google.com/g/dataverse-community/c/m-dhFVEKFZU/m/1Yx7ajXAAAAJ
Fri, Jul 15, 2022, 05:08:01 - Ilaria Belvedere: Hello, thank you for your suggestion about publishing via API, I was able to do it (as for the matter of disabled buttons, I still haven't figured it out, but maybe there was something in my installation?). By the way, I have another little problem, which I will open an issue for if it is the case: I am struggling to upload a logo file or a footer in the root themes function via interface, I checked the images dimensions and so on, but they seem fine. When I upload it, for a second the image displays on the screen, but then it disappears and only a phrase remains. The page seems to still be loading, but even after a while it does not upload it. I tried to customize the navbar via API, but I can't find my payara "logos" directory as explained here: https://guides.dataverse.org/en/latest/installation/config.html. Maybe I am doing something wrong again, because I am still trying to learn (never did something like this before XD).
Fri, Jul 15, 2022, 09:51:39 - pdurbin: Ilaria Belvedere: I think I've seen this bug. Is the uploaded image actually there after you hit Save?
Fri, Jul 15, 2022, 09:52:36 - pdurbin: Please take a look at https://github.com/IQSS/dataverse/issues/8297
Fri, Jul 15, 2022, 09:56:58 - lincoln_: @pdurbin: I am currently looking for the archives of data from dataverse...
.Are there any other resources than you know of apart from this:
https://guides.dataverse.org/en/latest/admin/backups.html?highlight=backup  and https://guides.dataverse.org/en/latest/installation/config.html?highlight=archive#id151
Fri, Jul 15, 2022, 10:00:50 - Ilaria Belvedere: <@pdurbin:matrix.org "Ilaria Belvedere: I think I've s..."> Thank you very much :)
Fri, Jul 15, 2022, 10:01:28 - pdurbin: lincoln_: there's also https://guides.dataverse.org/en/latest/admin/integrations.html#research-data-preservation (which covers export to Archivematica)
Fri, Jul 15, 2022, 11:16:50 - Ceilyn Boyd joined the room
Fri, Jul 15, 2022, 17:00:22 - pdurbin: Have a good weekend, everyone!
Tue, Jul 19, 2022, 03:46:46 - Ilaria Belvedere: Hello again, sorry if I am always asking for help, but I still can not figure how to solve several problems about branding. I am on the Dataverse demo docker installed locally. As I told you before, when I try to upload the logo in the root theme option via web interface, not only there is the common bug of the "loading" sign, but it also happens that the image is not displayed and, at its place, there is only plain text. For example, I select a PNG and, for a brief moment, It Is visible as if the upload was complete, but then there Is no image anymore. After clicking on "save changes" the problem remains: instead of an image, there Is plain text describing the image (for example, "Dataverse Unipi logo", where Dataverse Unipi is the name I chose for my installation). I tried to use the API but I am not able to do It. Similarly, when I try to custom the homepage via API as described in the configuration guide (by setting the sample HTML customized page in the admin settings), It seems that there are not changes. Help me pleaseüò≠
Tue, Jul 19, 2022, 05:34:18 - lincoln_: Ilaria Belvedere: can you try with some other random images with recommended size (for checking)
or try the same logo (but with smaller dimensions)
Tue, Jul 19, 2022, 06:03:59 - Ilaria Belvedere: I tried something like these, but I Will try again and let you know, thank you very much 
Tue, Jul 19, 2022, 06:55:06 - j-n-c (@jose_carvalho:matrix.org): Ilaria Belvedere: is it possible that you have several instances of dataverse running on the same environment (possibly behing a load balancer)? perhaps you are uploading the image on one instance and then viewing the dataverse collections through another instance that does not have the loaded file on the logos directory (/usr/local/payara5/glassfish/domains/domain1/docroot/logos/).

regarding the homepage, where have you put the homepage file? what is the output of the command curl -X GET http://localhost:8080/api/admin/settings/:HomePageCustomizationFile
Tue, Jul 19, 2022, 06:55:08 - j-n-c (@jose_carvalho:matrix.org): ?
Tue, Jul 19, 2022, 07:00:13 - j-n-c (@jose_carvalho:matrix.org): @room how can I stop the execution of an havesting client? I have an harvesting client that is runnigng for almost 24h now. I have restarted payara and it keeps running. I cannot see any OS processes that could be related with this task. On the DB I see that this client is signaled as "harvestingnow"
Tue, Jul 19, 2022, 07:00:33 - j-n-c (@jose_carvalho:matrix.org) sent an image. (Media omitted)
Tue, Jul 19, 2022, 07:00:50 - j-n-c (@jose_carvalho:matrix.org): (table havestingclient)
Tue, Jul 19, 2022, 07:01:21 - j-n-c (@jose_carvalho:matrix.org): any help would be much appreciated
Tue, Jul 19, 2022, 07:05:24 - Ilaria Belvedere: <@jose_carvalho:matrix.org "Ilaria Belvedere: is it possible..."> Hello, thank you for your suggestion :) I am not sure about it, It should be only one, but maybe I messed with something, I Will give It a check! 
Tue, Jul 19, 2022, 07:06:54 - Ilaria Belvedere: <@jose_carvalho:matrix.org "Ilaria Belvedere: is it possible..."> I thought I had to make a directory var and then move the file there, as soon as I am on my computer I'll check the output of the get command, thank a lot!
Tue, Jul 19, 2022, 07:09:02 - j-n-c (@jose_carvalho:matrix.org): You don't. on our installation we have put the file on /usr/local/payara5/glassfish/domains/domain1/docroot/custom-homepage.html
Tue, Jul 19, 2022, 07:09:34 - Ilaria Belvedere: Mmmm
Tue, Jul 19, 2022, 07:09:45 - Ilaria Belvedere: So It all depends on that directory
Tue, Jul 19, 2022, 07:09:51 - Ilaria Belvedere: But I haven't got it
Tue, Jul 19, 2022, 07:10:02 - lincoln_: <@ilariabelvedere:matrix.org "So It all depends on that direct..."> not necessarily
Tue, Jul 19, 2022, 07:10:16 - j-n-c (@jose_carvalho:matrix.org): and have set the :HomePageCustomizationFile variable with curl -X PUT -d ''/usr/local/payara5/glassfish/domains/domain1/docroot/custom-homepage.html" http://localhost:8080/api/admin/settings/:HomePageCustomizationFile
Tue, Jul 19, 2022, 07:10:40 - Ilaria Belvedere: Okay, thank you :) 
Tue, Jul 19, 2022, 07:11:33 - lincoln_: <@jose_carvalho:matrix.org "and have set the :HomePageCustom..."> yes the path has to be absolute --in this case.... /usr/.../.../custom-homepage.html
Tue, Jul 19, 2022, 07:11:45 - j-n-c (@jose_carvalho:matrix.org): the key point is that you set the variable to the exact location wher you have put the file and that file permissions are correctly set (OS user dataverse must be able to read the file)
Tue, Jul 19, 2022, 07:14:38 - Ilaria Belvedere: If I install everything again on another computer?
Tue, Jul 19, 2022, 07:17:26 - j-n-c (@jose_carvalho:matrix.org): if using docker you should not need to install things on another computer. if you can, wipe your docker images and containers so that you have a clean environment and test this again
Tue, Jul 19, 2022, 07:17:46 - j-n-c (@jose_carvalho:matrix.org): if this is not feasible, check that you only have one container running
Tue, Jul 19, 2022, 07:19:03 - Ilaria Belvedere: Thank you üòÉ
Tue, Jul 19, 2022, 07:56:55 - pdurbin: j-n-c: if you look at the "stop harvesting job" issue at https://github.com/IQSS/dataverse/issues/7940 you can see some recent commits. A pull request is probably coming soon.
Tue, Jul 19, 2022, 10:40:25 - Sherry Lake: UVa is upgrading from V 5.9 to V 5.11 (of course updating along the way V5.10 & V5.10.1) and I was wondering if V5.11 is "stable"? I see that Harvard is still at V5.10.1, just a timing/lack of people to do the upgrade only and not a problem with the version?
Tue, Jul 19, 2022, 10:47:48 - pdurbin: Sherry Lake: hi! Always a good question! I think 5.11 is fairly stable. At Harvard we've been busy with a two day retreat and people out on vacation. I can ask when we plan to upgrade.
Tue, Jul 19, 2022, 10:54:44 - Don Sizemore: Sherry Lake: thank you for asking, I was meaning to check on that myself
Tue, Jul 19, 2022, 10:55:17 - Don Sizemore: Sherry Lake: I'm on the fence between targeting 5.9 and 5.11 - so many licensing changes
Tue, Jul 19, 2022, 10:55:32 - pdurbin: I did find this bug in 5.11 yesterday (HTML tags popup not showing). Not sure if it's a show stopper for you: https://github.com/IQSS/dataverse/issues/8846
Tue, Jul 19, 2022, 11:10:21 - Sherry Lake: <@donsizemore:matrix.org "Sherry Lake: I'm on the fence be..."> I went through the scripts to check. Luckily we did not have too many non-conforming (in the new license configuration).
Tue, Jul 19, 2022, 11:11:24 - Sherry Lake: <@pdurbin:matrix.org "I did find this bug in 5.11 yest..."> Thanks for the info.... not a show stopper, since only "me" DataverseAdmin can create sub-collections.
Tue, Jul 19, 2022, 11:12:08 - pdurbin: Well, please note it happens in datasets too.
Tue, Jul 19, 2022, 11:12:31 - pdurbin: You can try it on demo if you like. It's already on 5.11.
Tue, Jul 19, 2022, 12:01:39 - j-n-c (@jose_carvalho:matrix.org): <@pdurbin:matrix.org "j-n-c: if you look at the "stop ..."> Thank You pdurbin . that has solved my issue of stopping the havesting process
Tue, Jul 19, 2022, 12:29:46 - Sherry Lake: Message deleted
Tue, Jul 19, 2022, 13:34:34 - pdurbin: j-n-c: great!
Tue, Jul 19, 2022, 17:20:23 - poikilotherm: pdurbin: still no Payara Alpha 3. Guess my odds ain't that bad: I say 90/10 they are waiting for the final EE 10 release.
Wed, Jul 20, 2022, 07:43:27 - poikilotherm: https://github.com/payara/Payara/releases/tag/payara-server-6.2022.1.Alpha3
Wed, Jul 20, 2022, 08:54:21 - pdurbin: poikilotherm: thanks for the heads up! This seems to work: https://s3.eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/6.2022.1.Alpha3/payara-6.2022.1.Alpha3.zip
Wed, Jul 20, 2022, 08:56:24 - pdurbin: I constructed that download link manually. Alpha 3 isn't yet listed at https://www.payara.fish/downloads/payara-platform-community-edition/
Wed, Jul 20, 2022, 09:07:25 - pdurbin: Sherry Lake Don Sizemore we now have an issue to track upgrading Harvard to 5.11: https://github.com/IQSS/dataverse.harvard.edu/issues/174
Wed, Jul 20, 2022, 09:16:58 - pdurbin: poikilotherm: I'm not sure I fully understand what you're saying here: "I do see there is value in being able to identify a single file within a dataset. Currently, the way handles and DOIs work, this is not possible with just the dataset DOI. It's very convenient to precisely identify a single file when referencing the data e.g. in workflow contexts" -- https://groups.google.com/g/dataverse-community/c/hFZRMXJ_-CE/m/lfO-kcB6AAAJ
Wed, Jul 20, 2022, 09:17:13 - pdurbin: You can identify a single file with its database id, right?
Wed, Jul 20, 2022, 09:17:47 - poikilotherm: Yes, but you cannot use the DOI of the dataset with a query parameter or similar to access the file directly
Wed, Jul 20, 2022, 09:18:03 - poikilotherm: The DOI is always pointing to the dataset
Wed, Jul 20, 2022, 09:18:54 - poikilotherm: The whole point behind a PID is a non-breakable link. Using the database id based file link is not capable of being a PID
Wed, Jul 20, 2022, 09:19:29 - pdurbin: And you don't like the solution of minting PIDs for files, which is supported, right?
Wed, Jul 20, 2022, 09:19:51 - poikilotherm: That's not what I'm saying
Wed, Jul 20, 2022, 09:20:04 - pdurbin: see, I'm confused üòÑ
Wed, Jul 20, 2022, 09:20:08 - poikilotherm: :-D
Wed, Jul 20, 2022, 09:20:14 - pdurbin: time for a quick call?
Wed, Jul 20, 2022, 09:20:18 - poikilotherm: Sure
Wed, Jul 20, 2022, 09:20:20 - poikilotherm: Where
Wed, Jul 20, 2022, 09:20:22 - poikilotherm: Here?
Wed, Jul 20, 2022, 09:20:30 - Jitsi widget added by pdurbin
Wed, Jul 20, 2022, 09:25:34 - pdurbin: https://orcid.org/0000-0002-9528-9470
Wed, Jul 20, 2022, 09:31:08 - pdurbin: https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/TJCLKP/3VSTKY
Wed, Jul 20, 2022, 09:31:47 - poikilotherm: <@pdurbin:matrix.org "https://dataverse.harvard.edu/fi..."> https://commons.datacite.org/doi.org/10.7910/dvn/tjclkp/3vstky
Wed, Jul 20, 2022, 09:32:23 - poikilotherm: https://api.datacite.org/application/vnd.datacite.datacite+xml/10.7910/dvn/tjclkp/3vstky
Wed, Jul 20, 2022, 09:32:54 - poikilotherm: <@oliver:bertuch.name "https://api.datacite.org/applica..."> ```
<relatedIdentifiers>
    <relatedIdentifier relatedIdentifierType="DOI" relationType="IsPartOf">doi:10.7910/DVN/TJCLKP</relatedIdentifier>
  </relatedIdentifiers>
```
Wed, Jul 20, 2022, 09:34:13 - poikilotherm: https://support.datacite.org/docs/datacite-metadata-schema-v44-mandatory-properties#101-resourcetypegeneral
Wed, Jul 20, 2022, 09:35:30 - poikilotherm: https://www.dublincore.org/specifications/dublin-core/dcmi-terms/#section-7
Wed, Jul 20, 2022, 09:43:43 - pdurbin: https://schema.org/Dataset
Wed, Jul 20, 2022, 09:48:00 - poikilotherm sent an image. (Media omitted)
Wed, Jul 20, 2022, 10:12:25 - pdurbin: Does anyone have anything they want to present or demo during next week's community call?
Wed, Jul 20, 2022, 10:17:26 - Don Sizemore: @pdurbin no, but I have a quick Payara6 question if you're available
Wed, Jul 20, 2022, 10:17:33 - pdurbin: Sure!
Wed, Jul 20, 2022, 10:18:08 - Don Sizemore: I have a payara6 branch in our OdumInstitute fork (don't remember why) but I'll want to test Payara6 Alpha3 against 8305-payara6, yes? (or was there another, better branch)
Wed, Jul 20, 2022, 10:18:29 - pdurbin: Yes, please. That branch.
Wed, Jul 20, 2022, 10:18:48 - pdurbin: That's the one behind https://github.com/IQSS/dataverse/pull/8774
Wed, Jul 20, 2022, 10:18:52 - Don Sizemore: in the issue it looks like I had done a few runs against develop, but wanted to be sure I was kicking the right tires
Wed, Jul 20, 2022, 10:18:59 - Don Sizemore: üëçÔ∏è
Wed, Jul 20, 2022, 10:19:18 - pdurbin: That branch has the namespace changes (javax -> jakarta), which we need.
Wed, Jul 20, 2022, 10:21:35 - poikilotherm: <@pdurbin:matrix.org "That branch has the namespace ch..."> Plus some extras ;-)
Wed, Jul 20, 2022, 10:21:55 - poikilotherm: IIRC it DOES NOT yet have the Jakarta Faces 4.0 changes!!!!!!
Wed, Jul 20, 2022, 10:22:29 - poikilotherm: I am very excited how this will affect us
Wed, Jul 20, 2022, 10:23:17 - pdurbin: "excited"
Wed, Jul 20, 2022, 10:23:32 - pdurbin: Does PrimeFaces support JSF 4?
Wed, Jul 20, 2022, 10:34:55 - poikilotherm: image.png (Media omitted)
Wed, Jul 20, 2022, 10:35:06 - poikilotherm: Should be safe with P11
Wed, Jul 20, 2022, 10:35:18 - poikilotherm: Fingers crossed ü´∞
Wed, Jul 20, 2022, 10:35:30 - pdurbin: fantastic!
Thu, Jul 21, 2022, 09:47:01 - Benjamin Poldrack: Hi, I have an API question: I am using pyDataverse to `get_dataset_versions` for a bulk retrieval of all available files across versions. Now, that gives me a list of dicts (per dataset version). Is that list reliable in its order (latest first) or do I need to parse `versionNumber` + `versionMinorNumber` (or `lastUpdateTime`, I guess) in order to find the latest in that list?
Thu, Jul 21, 2022, 09:55:24 - pdurbin: Benjamin Poldrack: I'm pretty sure the versions are in order. Is that what you're seeing?
Thu, Jul 21, 2022, 09:56:17 - Benjamin Poldrack: Yes, that's what I am seeing. Just not sure, whether I shoud dare rely on it ;-)
Thu, Jul 21, 2022, 09:57:16 - pdurbin: In the API Guide we don't seem to make any claim that they'll be in order. üòÑ I'm looking at https://guides.dataverse.org/en/5.11/api/native-api.html#list-versions-of-a-dataset
Thu, Jul 21, 2022, 10:00:06 - Benjamin Poldrack: Yes. Example shows it in (same) order, too. But no explicit claim.
Thu, Jul 21, 2022, 10:02:34 - pdurbin: If it helps, the "versions" field in the "dataset" entity/table has `@OrderBy("versionNumber DESC, minorVersionNumber DESC")`
Thu, Jul 21, 2022, 10:03:52 - pdurbin: I dunno. If it's quick enough for you to sort them the way you like, I'd go ahead and do that rather than relying on unspecified behavior (from the perspective of the API Guide).
Thu, Jul 21, 2022, 10:08:53 - Benjamin Poldrack: Yes, agree. Thanks!
Thu, Jul 21, 2022, 10:09:42 - pdurbin: Sure. I'm still a bit bummed we didn't record your demo. Oh well. Next time, right? üòÑ
Thu, Jul 21, 2022, 10:40:13 - Benjamin Poldrack: I'll make a better one with shinier version ;-)
Thu, Jul 21, 2022, 10:53:23 - pdurbin: Benjamin Poldrack: if you record a demo on your own, I'd be happy to put it on DataverseTV: https://dataverse.org/dataversetv
Thu, Jul 21, 2022, 10:57:17 - Benjamin Poldrack: Cool. Will post a link once I have it. Getting closer to a release, but also vacation time, so might be a couple of weeks. We'll see.
Thu, Jul 21, 2022, 10:59:56 - pdurbin: No rush! It's still a little mind blowing... `git push` to Dataverse. ü§Ø
Thu, Jul 21, 2022, 11:16:44 - Benjamin Poldrack: <@pdurbin:matrix.org "No rush! It's still a little min..."> And clone/fetch from! :)
Thu, Jul 21, 2022, 11:17:07 - pdurbin: right, that too üòÑ
Thu, Jul 21, 2022, 11:18:15 - j-n-c (@jose_carvalho:matrix.org): Hi! I have an Dataverse installation that was configured to use a Solr cluster. however I want to test using a local Solr instance. I have searched the domain.xml for a Solr property and the installation file for how to set this, but haven't been able to do so
Thu, Jul 21, 2022, 11:18:51 - j-n-c (@jose_carvalho:matrix.org): could someone please direct me to where the Solr configuratin is set so that I can change it?
Thu, Jul 21, 2022, 11:19:25 - pdurbin: j-n-c: it's a database setting: https://guides.dataverse.org/en/5.11/installation/config.html#solrhostcolonport
Thu, Jul 21, 2022, 11:19:39 - pdurbin: (as opposed to a JVM option, which is domain.xml)
Thu, Jul 21, 2022, 11:21:38 - j-n-c (@jose_carvalho:matrix.org): thank you. I had seen that config, but for some reason it was not set curl -X GET http://localhost:8080/api/admin/settings/:SolrHostColonPort
{"status":"ERROR","message":"Setting :SolrHostColonPort not found"} so I thought it had to be configured elsewhere
Thu, Jul 21, 2022, 11:21:47 - j-n-c (@jose_carvalho:matrix.org): I will test that. thank YOU
Thu, Jul 21, 2022, 11:22:46 - pdurbin: Yep, sure. If it's not set, it should default to localhost.
Thu, Jul 21, 2022, 11:22:57 - pdurbin: (and the standard port)
Thu, Jul 21, 2022, 13:43:07 - Jitsi widget removed by poikilotherm
Thu, Jul 21, 2022, 13:45:29 - poikilotherm: pdurbin: looks like it's a good thing to have Solr endpoint configurable via MPCONFIG üòé (future version, PR available)
Thu, Jul 21, 2022, 13:49:14 - pdurbin: yep
Fri, Jul 22, 2022, 08:36:29 - Don Sizemore: poikilotherm: I also don't see Dataverse using invokeBasic() https://bugzilla.redhat.com/show_bug.cgi?id=2108543
Fri, Jul 22, 2022, 08:38:26 - poikilotherm: <@donsizemore:matrix.org "poikilotherm: I also don't see D..."> Ha! No. Should be OK
Fri, Jul 22, 2022, 08:39:29 - Don Sizemore: Thank you. I like hearing these things on a Friday.
Mon, Jul 25, 2022, 04:28:57 - jjbig joined the room
Mon, Jul 25, 2022, 04:36:02 - poikilotherm: pdurbin: as prettyfaces/rewrite 5.0.0.Alpha1 is out, I pushed a commit to 8305-payara6 to update the dep in POM and remove the local build.
Mon, Jul 25, 2022, 04:36:22 - poikilotherm: If this ain't working for us, we can simply drop that commit
Mon, Jul 25, 2022, 09:13:43 - pdurbin: poikilotherm: sounds good. So we'll use the older Alpha 2 branch to test it?
Mon, Jul 25, 2022, 09:14:29 - poikilotherm: Actually I'm working on fix for prettyfaces to update to EE 10
Mon, Jul 25, 2022, 09:14:54 - pdurbin: It needs an update? That's what I was worried about.
Mon, Jul 25, 2022, 09:15:35 - poikilotherm: Remember the UIComponentELTag in the server log from Alpha3 that triggered a "class not found" exception?
Mon, Jul 25, 2022, 09:15:54 - poikilotherm: It's being used in the prettyfaces config module...
Mon, Jul 25, 2022, 09:16:18 - poikilotherm: Getting these things out should do the trick for us :-)
Mon, Jul 25, 2022, 09:16:46 - poikilotherm: And I guess this should be merged into the EE 9 branch, too - all of this stuff being used has been deprecated looooooong time ago
Mon, Jul 25, 2022, 09:17:11 - pdurbin: Oh! It's because of PrettyFaces!
Mon, Jul 25, 2022, 09:17:17 - pdurbin: good sleuthing
Mon, Jul 25, 2022, 09:17:38 - poikilotherm: https://github.com/ocpsoft/rewrite/issues/345
Mon, Jul 25, 2022, 09:18:57 - pdurbin: Nice. Should we mention UIComponentELTag specifically in that issue? Sure enough, here it is: https://github.com/ocpsoft/rewrite/blob/5.0.0.Alpha1/config-prettyfaces/src/main/java/com/ocpsoft/pretty/faces/component/PrettyTagBase.java#L23
Mon, Jul 25, 2022, 09:27:33 - analia-s: Hello everyone! I would like to know if there is any way to change the prefix DOI 10.5072, I configured DOI with a new prefix but the created datasets have the default prefix
Mon, Jul 25, 2022, 09:30:59 - pdurbin: analia-s: when you get a dump of the settings at http://localhost:8080/api/admin/settings do you see both prefixes?
Mon, Jul 25, 2022, 09:39:41 - analia-s: <@pdurbin:matrix.org "analia-s: when you get a dump of..."> No, there is only the new prefix
Mon, Jul 25, 2022, 09:43:39 - pdurbin: Hmm. Did you restart Payara?
Mon, Jul 25, 2022, 09:47:57 - analia-s: <@pdurbin:matrix.org "Hmm. Did you restart Payara?"> Yes. If I create a new dataset, the new prefix is ‚Äã‚Äãassigned, but the previous datasets continue with the default prefix.
Mon, Jul 25, 2022, 09:48:36 - pdurbin: Oh, oh. I was wondering if I was misunderstanding. Ok. So your problem is that your old dataset have the old prefix.
Mon, Jul 25, 2022, 09:50:15 - analia-s: Yes
Mon, Jul 25, 2022, 09:51:43 - pdurbin: I'd suggest emailing support@dataverse.org for a complete answer but I think it will be a two step process.
Mon, Jul 25, 2022, 09:52:04 - pdurbin: step 1. change the "authority" in the "dvobject" table - https://guides.dataverse.org/en/5.6/schemaspy/tables/dvobject.html
Mon, Jul 25, 2022, 09:52:29 - pdurbin: step 2. send metadata to DataCite: https://guides.dataverse.org/en/5.11/admin/dataverses-datasets.html#send-dataset-metadata-to-pid-provider
Mon, Jul 25, 2022, 09:55:32 - analia-s: <@pdurbin:matrix.org "step 1. change the "authority" i..."> Ok!! Thanks üòÄ
Mon, Jul 25, 2022, 09:56:23 - pdurbin: Oh and I'd suggest reindexing the dataset too.
Mon, Jul 25, 2022, 09:59:30 - analia-s: OküëçÔ∏è
Mon, Jul 25, 2022, 11:12:18 - poikilotherm: pdurbin: Oh oh... I tried to built prettyfaces rewrite with Java 11...
Mon, Jul 25, 2022, 11:12:23 - poikilotherm: To no success
Mon, Jul 25, 2022, 11:12:48 - poikilotherm: And the Github ACtion uses Java 17 and 18...
Mon, Jul 25, 2022, 11:20:14 - pdurbin: bleh, thanks for trying
Mon, Jul 25, 2022, 11:21:03 - pdurbin: Wow, check out this busted up, discontinued "Payara 5 Community" image: https://twitter.com/Payara_Fish/status/1551585195400249345
Mon, Jul 25, 2022, 11:28:08 - poikilotherm: Not sure what they are trying to tell me with that... :_/
Mon, Jul 25, 2022, 11:32:47 - pdurbin: Not sure. üòÑ At least in the email they say, "Payara 6 Community will take its place. This will run with Jakarta EE 10 and there is no guarantee Jakarta EE / Java EE 8 applications will work."
Mon, Jul 25, 2022, 11:47:15 - poikilotherm: Yeah well guess it's not easy to shape a good community communication into 256 chars of tweet
Mon, Jul 25, 2022, 11:47:33 - poikilotherm: pdurbin: I opened https://github.com/ocpsoft/rewrite/issues/346 about the JDK 11 built :-(
Mon, Jul 25, 2022, 12:23:49 - poikilotherm: SUCCESS! Downgrading to Spring 5 made the build happen with JDK 11 again
Mon, Jul 25, 2022, 12:58:20 - pdurbin: poikilotherm: great!
Mon, Jul 25, 2022, 13:04:25 - pdurbin: poikilotherm: what if you push a branch to https://github.com/poikilotherm/reproducer-payara6-ee10-jsf with PrettyFaces/Rewrite 5.0.0.Alpha1 to show (for https://github.com/ocpsoft/rewrite/issues/345 ) that we can't deploy to Payara 6 Alpha 3 (EE 10). I assume we'll see an error in server.log about UIComponentELTag. That is, can we make it easy for the PrettyFaces/Rewrite developers to see how their library isn't compatible with EE 10?
Mon, Jul 25, 2022, 16:22:58 - snooze joined the room
Mon, Jul 25, 2022, 16:51:34 - snooze: Is this where we can ask questions about the API? I'm trying to do a little search and download program in python, and I'm having trouble figuring out the documentation.
Mon, Jul 25, 2022, 16:52:35 - snooze: Specifically the part how one can download a file with `GET http://$SERVER/api/access/datafile/:persistentId?persistentId=doi:10.5072/FK2/J8SJZB`
Mon, Jul 25, 2022, 16:54:42 - snooze: I'm trying to download the datasets from `https://dataverse.unc.edu/dataset.xhtml?persistentId=hdl:1902.29/H-2345`,
 so I do a wget `https://dataverse.unc.edu/api/access/datafile/:persistentId?persistentId=hdl:1902.29/H-2345`
but this only leads to a 404 error
Mon, Jul 25, 2022, 16:57:11 - pdurbin: snooze: yes! But! There's a storm coming and I'm about to bike home to try to beat it. üòÑ It looks like UNC does not have persistent IDs at the file level so to download you must use the file id (database id).
Mon, Jul 25, 2022, 16:57:42 - pdurbin: If you click a file you can find the id in the URL: https://dataverse.unc.edu/file.xhtml?fileId=23567&version=1.0 (this file id is 23567)
Mon, Jul 25, 2022, 16:58:15 - pdurbin: Also, if you go to a file landing page like that you can sometimes see a "Download URL". In this case:  https://dataverse.unc.edu/api/access/datafile/23567 
Mon, Jul 25, 2022, 17:03:05 - snooze: I noticed that I can do that too. The problem with that is that the "entity_id" which is returned in the search ID is not the same as the database id ü´§
Mon, Jul 25, 2022, 17:03:34 - snooze: \`https://dataverse.unc.edu/api/search?q=title:Harris+1973+Nuclear+Power+Survey+study+no+2345&type=dataset&show_entity_ids=true\`
is the querry (minus my key )
Mon, Jul 25, 2022, 17:04:27 - snooze: And the entity returned for
`Harris 1973 Energy Shortage Survey, study no. 2345`
is
`"entity\_id": 2219,`

Edit: I updated the link because I noticed I posted the wrong one in reference to yours
Mon, Jul 25, 2022, 17:05:15 - snooze: search.json (Media omitted)
Tue, Jul 26, 2022, 08:58:22 - lincoln_: As Bagit Export is archival copy of Published Dataset. Has anyone extended it for draft datasets (manually)? Or any Idea
Tue, Jul 26, 2022, 09:28:22 - pdurbin: snooze: 2261 is the entity id of a dataset. To download files you need to use the file id.
Tue, Jul 26, 2022, 09:28:52 - pdurbin: Unless you want ALL files in the dataset. Then you could used the entity/database id of the dataset to download a zip of all files.
Tue, Jul 26, 2022, 09:29:24 - pdurbin: lincoln_: I'm not sure but I'm asking qqmyers who knows all things BagIt. üòÑ
Tue, Jul 26, 2022, 09:31:34 - snooze: <@pdurbin:matrix.org "Unless you want ALL files in the..."> I would prefer all files in a zip file. My understanding was that this would work: `https://dataverse.unc.edu/api/access/datafile/2219`
Except this returns a 404
Tue, Jul 26, 2022, 09:33:07 - pdurbin: There's no file landing page at https://dataverse.unc.edu/file.xhtml?fileId=2219 so I assume 2219 is not a file id.
Tue, Jul 26, 2022, 09:33:41 - pdurbin: There is a dataset at https://dataverse.unc.edu/dataset.xhtml?id=2219 so 2219 must be a dataset id.
Tue, Jul 26, 2022, 09:34:41 - pdurbin: snooze: here are the docs on how to download a zip file of all files from a dataset via API: https://guides.dataverse.org/en/5.3/api/dataaccess.html#basic-download-by-dataset
Tue, Jul 26, 2022, 09:34:51 - pdurbin: (5.3 since that's the version UNC is running)
Tue, Jul 26, 2022, 09:35:33 - qqmyers: Other than the concern that an archival copy of a mutable draft version doesn't make sense, archival Bags probably could be created for drafts. I'm not aware of anyone working on that. The closest has been some discussions about 'transfer' bags, with just enough info to recreate the dataset (i.e. the original files included) and 'archival' bags that include things like the ingested file versions as well/things you couldn't recreate if you no longer had Dataverse running in the far future.
Tue, Jul 26, 2022, 09:36:24 - qqmyers: The archival Bag mechanism is superuser at present - we don't create partial bags based on what a given person can see...
Tue, Jul 26, 2022, 09:37:51 - qqmyers: FWIW: The way bags are created is essentially to read the OAI_ORE export and retrieve the files that are listed there - would be pretty straight forward to do the same outside of Dataverse (assuming you have permission to get the files.)
Tue, Jul 26, 2022, 09:40:13 - snooze: <@pdurbin:matrix.org "snooze: here are the docs on how..."> I've read this over a few times yesterday, which is why I'm here now. 

https://guides.dataverse.org/en/5.11/api/search.html
has `show_entity_ids`, which, in it's description says it's the database ID. Is this not the database ID used to download a zip of the files?
Tue, Jul 26, 2022, 09:42:19 - snooze: search.json (Media omitted)
Tue, Jul 26, 2022, 09:42:44 - snooze: Here's the result of the search 
Tue, Jul 26, 2022, 09:44:24 - snooze: The search results entity_id does not match the database IDs for downloading files and I'm not sure why
Tue, Jul 26, 2022, 09:46:20 - pdurbin: snooze: here, please try this: curl -L -O -J https://dataverse.unc.edu/api/access/dataset/:persistentId/?persistentId=hdl:1902.29/H-2345
Tue, Jul 26, 2022, 09:47:18 - pdurbin: You should get a file called dataverse_files.zip with a bunch of "harris" files in it.
Tue, Jul 26, 2022, 09:52:34 - snooze: That does work. Give me a minute to look over this. I thought I already tried this but it wasn't working for some reason
Tue, Jul 26, 2022, 09:53:10 - pdurbin: It might be `/access/dataset` vs `/access/datafile`
Tue, Jul 26, 2022, 10:01:31 - snooze: That's exactly it
Tue, Jul 26, 2022, 10:01:38 - snooze: Thank you so much
Tue, Jul 26, 2022, 10:02:06 - pdurbin: snooze: sure! Also, Don Sizemore is from UNC. You two should go have a coffee or something. ‚òïÔ∏è
Tue, Jul 26, 2022, 10:09:49 - snooze: Long story short, I'm not from UNC, but I am a student at another university doing research. I discovered dataverse because of UNC when looking for survey datasets the other week
Tue, Jul 26, 2022, 10:11:23 - snooze: I started doing a deeper dive into dataverse and noticed they had an API. So since I was recently learning python on the side, I thought it would be a fun project to make a small download tool for dataverse.
Tue, Jul 26, 2022, 10:13:36 - pdurbin: Oh! That would be fantastic! We have something called DVUploader. Sometimes we talk about a need for a DVDownloader. üòÑ
Tue, Jul 26, 2022, 10:15:48 - pdurbin: To all: Just a reminder about the community call in ~45 minutes: https://dataverse.org/community-calls
Tue, Jul 26, 2022, 10:16:02 - pdurbin: snooze: you could talk about your idea at the call if you want ^^
Tue, Jul 26, 2022, 10:19:08 - snooze: If it ever gets to be in a state which I think will be releasable to the general public, I'll be sure to let others know. I'm quite new to python, so I don't yet know the best practices. Like for example, I'm still using wget to download, which I'm not sure is the best and most portable way to download files across all platforms yet. I'd like to reduce dependencies where possible.
Tue, Jul 26, 2022, 10:20:37 - snooze: <@pdurbin:matrix.org "snooze: you could talk about you..."> Thanks for the heads up. Unfortunately, I don't think I'll be able to make it this time around. But I'll put it on my calendar and I'll attend the next time I can make it!
Tue, Jul 26, 2022, 10:21:27 - pdurbin: No worries. Instead of wget you could use pyDataverse: https://pypi.org/project/pyDataverse/
Tue, Jul 26, 2022, 10:21:35 - pdurbin: created by stefankasberger 
Tue, Jul 26, 2022, 10:24:15 - Don Sizemore: @snooze I wrote a python script for that if you'd like to take a look
Tue, Jul 26, 2022, 10:24:51 - Don Sizemore: @snooze it's older code, pull requests welcome: https://github.com/OdumInstitute/dataverse-toolbox/blob/master/download_dataset_original_format.py
Tue, Jul 26, 2022, 10:30:54 - snooze: This is very helpful, thank you. This actually gave me some ideas to improve my own tool
Tue, Jul 26, 2022, 10:32:10 - Don Sizemore: "zip" downloading of a dataset sounds handy but may not give you the original version of tabular files, and may fail due to the size of the dataset
Tue, Jul 26, 2022, 10:32:33 - Don Sizemore: I wrote that script to placate our archivists who were angriful (full of anger) every time they needed to easily download a dataset
Tue, Jul 26, 2022, 10:35:01 - snooze: So that's why you iterated over each file ID. I see.
Tue, Jul 26, 2022, 10:36:05 - snooze: I never saw an "original" param for zipped datasets, but I thought that it could just be undocumented
Tue, Jul 26, 2022, 10:36:41 - Don Sizemore: I don't think it's there.
Tue, Jul 26, 2022, 10:36:43 - snooze: Seems thats not the case
Tue, Jul 26, 2022, 10:38:14 - snooze: Personally, I don't mind if data is not in it's original format, so I'd probably implement both download methods
Tue, Jul 26, 2022, 10:40:23 - pdurbin: "By default, tabular files are downloaded in their ‚Äúarchival‚Äù form (tab-separated values). To download the original files (Stata, for example), add format=original as a query parameter." -- https://guides.dataverse.org/en/5.3/api/dataaccess.html#downloading-all-files-in-a-dataset
Tue, Jul 26, 2022, 10:40:46 - pdurbin: Maybe this should be more obvious in the curl examples. Pull requests welcome!
Tue, Jul 26, 2022, 11:21:17 - snooze: A lot of the datasets I was looking at already had both a tab and a portable spss version of the same data. But many also do not.
Tue, Jul 26, 2022, 11:24:01 - snooze: I can see use cases for both. SPSS files are easy to use when you use pyreadstat, but tab separated is non-proprietary but can be harder to use
Tue, Jul 26, 2022, 11:47:52 - poikilotherm: pdurbin: post meeting talk here? üòÑ
Tue, Jul 26, 2022, 11:49:23 - poikilotherm sent an image. (Media omitted)
Tue, Jul 26, 2022, 11:49:23 - poikilotherm: Guess you wanted to see this one dropping the war like a hot potato 
Tue, Jul 26, 2022, 11:51:32 - pdurbin: Bleh. Have you pushed this branch?
Tue, Jul 26, 2022, 11:51:58 - poikilotherm: Of course
Tue, Jul 26, 2022, 11:52:21 - poikilotherm: https://github.com/poikilotherm/reproducer-payara6-ee10-jsf/blob/74046637419aaa51e75b1d7f6379b60eea6e2de3/src/test/java/org/example/it/DeployPrettyfacesTest.java
Tue, Jul 26, 2022, 11:52:53 - poikilotherm: Clone and run with `mvn -Parq-payara-managed verify`
Tue, Jul 26, 2022, 11:54:26 - poikilotherm: üîãincluded for Primefaces and simple deployments to be OK
Tue, Jul 26, 2022, 11:55:07 - pdurbin: Thanks. It's downloading the world.
Tue, Jul 26, 2022, 11:55:48 - poikilotherm: Maven is nice unless you checkout a new project :-D
Tue, Jul 26, 2022, 11:56:45 - pdurbin: Hmm, I probably need to stop my local Payara first. I'm getting this: [ERROR]   DeployGFWebJSFTest ¬ª Lifecycle The server is already running! Managed containe...
Tue, Jul 26, 2022, 11:56:55 - poikilotherm: Absolutely
Tue, Jul 26, 2022, 11:58:45 - pdurbin: Ok, yep: java.lang.NoClassDefFoundError: jakarta/faces/webapp/UIComponentELTag.
Tue, Jul 26, 2022, 12:00:06 - poikilotherm: I also know why it falls over although we aren't using the involved components - tags get registred by JSF the second you have the JAR in the lib folder. Which means you're going sideways instantly
Tue, Jul 26, 2022, 12:00:18 - pdurbin: Maybe add a new comment to https://github.com/ocpsoft/rewrite/issues/345 with a link to your reproducer and the verify command?
Tue, Jul 26, 2022, 12:03:26 - poikilotherm: <@pdurbin:matrix.org "Maybe add a new comment to https..."> https://github.com/ocpsoft/rewrite/issues/345#issuecomment-1195675592
Tue, Jul 26, 2022, 12:10:02 - poikilotherm sent an image. (Media omitted)
Tue, Jul 26, 2022, 12:10:10 - pdurbin: Heh. That's right I made you do it. Thanks!
Tue, Jul 26, 2022, 12:10:20 - poikilotherm: "Pre Big Bang" ü§£
Tue, Jul 26, 2022, 12:10:58 - pdurbin: üòÑ
Tue, Jul 26, 2022, 12:33:51 - poikilotherm: pdurbin: Payara 6 Alpha 4 RC1 !!!!! Things happening fast!
Tue, Jul 26, 2022, 13:33:17 - pdurbin: whoa
Wed, Jul 27, 2022, 10:21:04 - kindjohn joined the room
Wed, Jul 27, 2022, 10:30:33 - analia-s sent an image. (Media omitted)
Wed, Jul 27, 2022, 10:30:35 - analia-s: Hello everyone! I get an error when I update the metadata of a dataset: Error ‚Äì The metadata could not be updated. It happens when I select an article type in the journal metadata
Wed, Jul 27, 2022, 10:33:24 - pdurbin: analia-s: if you look at https://guides.dataverse.org/en/5.11/_downloads/4e04c8120d51efab20e480c6427f139c/dataset-create-new-all-default-fields.json
Wed, Jul 27, 2022, 10:34:07 - pdurbin: ... you should see an example for how to construct the JSON. journalArticleType, etc
Wed, Jul 27, 2022, 10:54:50 - analia-s: <@pdurbin:matrix.org "analia-s: if you look at https:/..."> I didn't make any changes to the metadata. I select only one type of article because it is a controlled vocabulary. Could it be a language problem? 
Wed, Jul 27, 2022, 10:55:49 - pdurbin: Hmm. Maybe. Can you show us the JSON you're using?
Wed, Jul 27, 2022, 11:13:24 - analia-s: How do I get it?
Wed, Jul 27, 2022, 11:25:14 - pdurbin: analia-s: oh! I think I was confused. I assumed you were updating metadata via API (with JSON). Instead, are you updating metadata using the GUI, the web interface?
Wed, Jul 27, 2022, 11:26:02 - pdurbin: And now that I look closer at the error you posted, it seems like you need to update your Solr schema. Let me check something quick.
Wed, Jul 27, 2022, 11:27:09 - pdurbin: analia-s: ok, journalArticleType change and there's a line in the 5.11 release notes about what to do: https://github.com/IQSS/dataverse/releases/tag/v5.11
Wed, Jul 27, 2022, 11:27:19 - pdurbin: Edit schema.xml and for journalArticleType change multiValued from "false" to "true" and then restart Solr. Alternatively, download and use the version from https://github.com/IQSS/dataverse/releases/download/v5.11/schema.xml . By default the file can be found at /usr/local/solr/solr-8.11.1/server/solr/collection1/conf/schema.xml.
Wed, Jul 27, 2022, 11:27:36 - pdurbin: Does that make sense?
Wed, Jul 27, 2022, 11:28:11 - pdurbin: It should look like this: <field name="journalArticleType" type="text_en" multiValued="true" stored="true" indexed="true"/>
Wed, Jul 27, 2022, 11:28:34 - pdurbin: Basically, as of 5.11, multiple values are now allowed in the field.
Wed, Jul 27, 2022, 11:43:11 - analia-s: Thank you very much! Now it works correctly!üòÄüëçÔ∏è
Wed, Jul 27, 2022, 11:43:25 - pdurbin: Fantastic!
Thu, Jul 28, 2022, 08:12:20 - jose piccoli joined the room
Thu, Jul 28, 2022, 08:12:41 - jose piccoli: Message deleted
Thu, Jul 28, 2022, 08:15:12 - jose piccoli: Hi. I'm trying to run the curl commands to install Dataverse Previewers but it doesn't work for me. I think I'm running the commands wrong, in the queryParameters section do I have to replace the fileId, siteUrl, apiToken, etc? :
curl -X POST -H 'Content-type: application/json' http://localhost:8080/api/admin/externalTools -d \ "{ \"displayName\":\"Read Text\", \"description\ ":\"Read the text file.\", \"scope\":\"file\", \"type\":\"explore\", \"hasPreviewMode\":\"true\", \" toolUrl\":\"https://globaldataversecommunityconsortium.github.io/dataverse-previewers/previewers/TextPreview.html\", \"toolParameters\": { \"queryParameters\":[ {\"fileid\":\ "{fileId}\"}, {\"siteUrl\":\"{siteUrl}\"}, {\"key\":\"{apiToken}\"}, {\"datasetid\":\"{ datasetId}\"}, {\"datasetversion\":\"{datasetVersion}\"}, {\"locale\":\"{localeCode}\"} ] }, \"contentType\":\"text/ plain\" }"
Thu, Jul 28, 2022, 08:39:26 - pdurbin: jose piccoli: hi! No, you should have to adjust the JSON. You seem to be using the older tools under the longer GitHub org though. Can you please try these? https://github.com/gdcc/dataverse-previewers/blob/master/5.2curlcommands.md
Thu, Jul 28, 2022, 08:39:42 - pdurbin: poikilotherm: morning. Do you have time to talk about architecture?
Thu, Jul 28, 2022, 08:41:06 - pdurbin: (and anyone else who's interested, of course!)
Thu, Jul 28, 2022, 09:26:53 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: morning. Do you ha..."> Morning! Sorry, had a meeting. How may I help ya?
Thu, Jul 28, 2022, 09:27:31 - Jitsi widget added by pdurbin
Thu, Jul 28, 2022, 09:31:34 - pdurbin: https://harvard.zoom.us/my/pdurbin
Thu, Jul 28, 2022, 10:51:14 - pdurbin: poikilotherm: thanks for chatting! Here's a link to the architecture folder: https://drive.google.com/drive/folders/1q5wBEzts5iOBAjfXD_Y2ohFyuXTECaJL?usp=sharing
Thu, Jul 28, 2022, 11:37:48 - jose piccoli: Is this ok? curl -X POST -H 'Content-type: application/json' http://localhost:8080/api/admin/externalTools -d \'{"displayName":"Read Text","description": "Read the text file.","toolName":"textPreviewer","scope":"file","types":["preview"],"toolUrl":"https://gdcc.github.io/dataverse -previewers/previewers/v1.3/TextPreview.html","toolParameters": {"queryParameters":[{"siteUrl":"http://localhost:8080"},{"datasetversion":":draft"} ,{"locale":"en"}]},"contentType":"text/plain"}'
Thu, Jul 28, 2022, 11:43:02 - pdurbin: jose piccoli: from a quick look, yes, that looks better. Is it working?
Thu, Jul 28, 2022, 11:44:10 - pdurbin: jose piccoli: actually, you shouldn't need to change the siteUrl stuff.
Thu, Jul 28, 2022, 11:44:34 - pdurbin: same with locale. you should be able to leave it alone
Thu, Jul 28, 2022, 14:09:22 - jose piccoli: Sorry but I do not understand. How should the command be? Do you have an exact example? I would like the previewer to work on all datasets
Thu, Jul 28, 2022, 14:10:08 - pdurbin: No worries. It's confusing. Assuming you're running Dataverse 5.2 or higher, you can use the exact curl commands at https://github.com/gdcc/dataverse-previewers/blob/master/5.2curlcommands.md
Thu, Jul 28, 2022, 14:10:30 - pdurbin: That is, you shouldn't have to edit the JSON in the curl commands at all.
Thu, Jul 28, 2022, 14:27:06 - Don Sizemore: @pdurbin knock knock?
Thu, Jul 28, 2022, 14:27:18 - pdurbin: sir. what can i do for you?
Thu, Jul 28, 2022, 14:27:34 - Don Sizemore: I had an interesting question this afternoon. Wondering if it's worth an issue.
Thu, Jul 28, 2022, 14:28:27 - Don Sizemore: A lady asked "what are these UNFs? why do they show up in the citation field?" They would like the ability to disable UNF display, as people are including it in their citations.
Thu, Jul 28, 2022, 14:28:53 - Don Sizemore: I understand they're fingerprints, but I can also understand their not wanting researchers including them in all citation entries. Worth an issue for a toggle? (or even feasible?)
Thu, Jul 28, 2022, 14:30:55 - pdurbin: Please check this out:  Create a config to remove UNF from sample citations #7328 - https://github.com/IQSS/dataverse/issues/7328
Thu, Jul 28, 2022, 14:31:09 - Don Sizemore: :exploding head: I promise you I searched
Thu, Jul 28, 2022, 14:31:43 - pdurbin: Hmm, I wonder if "sample" should be removed from that issue. Not sure why it's there.
Thu, Jul 28, 2022, 14:32:07 - pdurbin: Anyway, you or she could certainly add a comment. You could put it on the UNC board. Etc.
Thu, Jul 28, 2022, 14:32:10 - jose piccoli: It does not work. server.log shows this: Could not find key "externaltools.textPreviewer.displayname" in bundle file: ]]
Thu, Jul 28, 2022, 14:32:26 - pdurbin: jose piccoli: what version of Dataverse are you running?
Thu, Jul 28, 2022, 14:35:27 - jose piccoli: Te version 5.10.1
Thu, Jul 28, 2022, 14:36:24 - pdurbin: Are you using a custom Bundle.properties? For a non-English language, for example.
Thu, Jul 28, 2022, 14:38:54 - jose piccoli: Yes: in italian
Thu, Jul 28, 2022, 14:39:38 - pdurbin: Ok, can you please try adding a line for `externaltools.textPreviewer.displayname=View Text` in that file?
Thu, Jul 28, 2022, 14:39:59 - pdurbin: or whatever makes sense in Italian üòÑ
Thu, Jul 28, 2022, 15:16:04 - jose piccoli: Server.log shows this: Servlet.service() for servlet Faces Servlet threw exception javax.faces.application.ViewExpiredException: viewId:/file.xhtml
Thu, Jul 28, 2022, 15:18:00 - pdurbin: jose piccoli: hmm. Can you please refresh the page? Or try a different browser?
Thu, Jul 28, 2022, 15:25:58 - jose piccoli: I have the same error
Thu, Jul 28, 2022, 15:26:15 - pdurbin: Anything in server.log?
Thu, Jul 28, 2022, 15:30:20 - pdurbin: (from Payara)
Thu, Jul 28, 2022, 15:33:07 - pdurbin: usually /usr/local/payara5/glassfish/domains/domain1/logs/server.log
Thu, Jul 28, 2022, 15:38:41 - jose piccoli: [INFO] [] [javax.enterprise.system.container.web.com.sun.web.security] [tid: _ThreadID=87 _ThreadName=http-thread-pool::http-listener-1(5)] [timeMillis: 1659036838751] [levelValue: 800] [[
  Context path from ServletContext:  differs from path from bundle: /]]
Thu, Jul 28, 2022, 15:40:20 - pdurbin: hmm
Thu, Jul 28, 2022, 15:41:34 - pdurbin: jose piccoli: can you please open an issue at https://github.com/gdcc/dataverse-previewers/issues ? Please mention the version you're running and the fact that you have a custom Bundle.properties for Italian.
Thu, Jul 28, 2022, 15:42:30 - pdurbin: Also, if you upload a text file to Dataverse, do you see a Preview tab when you go to the file landing page? Is it working at all?
Thu, Jul 28, 2022, 15:43:24 - pdurbin: Here's an example of the Preview tab for a text file: https://dataverse.harvard.edu/file.xhtml?fileId=6183105&datasetVersionId=325210
Thu, Jul 28, 2022, 15:49:29 - jose piccoli: I see this
Thu, Jul 28, 2022, 15:49:52 - jose piccoli sent an image. (Media omitted)
Thu, Jul 28, 2022, 15:50:47 - pdurbin: Ok! The tool was added, at least. But it can't retrieve the file?
Thu, Jul 28, 2022, 15:51:50 - pdurbin: You might want to look at "Network" in your browser tools.
Thu, Jul 28, 2022, 16:01:52 - jose piccoli sent an image. (Media omitted)
Thu, Jul 28, 2022, 16:01:53 - jose piccoli sent an image. (Media omitted)
Thu, Jul 28, 2022, 16:07:14 - pdurbin: Mixed content. The previewer is on https (hosted on GitHub Pages). Is your Dataverse server https? Or http? It should be https.
Thu, Jul 28, 2022, 16:18:40 - jose piccoli: I changed the jvm-options-Ddataverse.siteUrl=http:// to https:// now it works!!! Thanks for your great help!!!
Thu, Jul 28, 2022, 16:18:56 - pdurbin: Nice! Good job. üòÑ
Thu, Jul 28, 2022, 17:03:24 - pdurbin: A good note to end the day on. See you all tomorrow. üòÑ
Fri, Jul 29, 2022, 02:38:43 - Jitsi widget removed by poikilotherm
Fri, Jul 29, 2022, 13:15:58 - Alfredo Cosco joined the room
Fri, Jul 29, 2022, 13:44:05 - pdurbin: Alfredo Cosco: hi! Want to talk about https://groups.google.com/g/dataverse-community/c/tKDREKEk9VE/m/-6qpJj-FAwAJ ?
Fri, Jul 29, 2022, 17:04:21 - pdurbin: Have a good weekend, everyone!
Mon, Aug 1, 2022, 09:43:55 - pdurbin: Happy Monday. The videos from #dataverse2022 are now up on YouTube! https://groups.google.com/g/dataverse-community/c/nt0xeQ8tO-s/m/47DIZ2ZcBAAJ
Tue, Aug 2, 2022, 02:46:54 - lincoln_: <@pdurbin:matrix.org "lincoln_: I'm not sure but I'm a..."> any luck pdurbin 
Tue, Aug 2, 2022, 07:10:34 - pdurbin: Huh, I thought he replied here or somewhere but I haven't found it.
Tue, Aug 2, 2022, 07:12:19 - pdurbin: lincoln_: found it: https://matrix.to/#/!AmypvmJtUjBesRrnLM:matrix.org/$tmVgxfB6XhH-xttwdqQgOEheaLvAS6_xXL6-gBBk6P4
Tue, Aug 2, 2022, 07:12:30 - pdurbin: Other than the concern that an archival copy of a mutable draft version doesn't make sense, archival Bags probably could be created for drafts. I'm not aware of anyone working on that. The closest has been some discussions about 'transfer' bags, with just enough info to recreate the dataset (i.e. the original files included) and 'archival' bags that include things like the ingested file versions as well/things you couldn't recreate if you no longer had Dataverse running in the far future.
Tue, Aug 2, 2022, 07:12:37 - pdurbin: The archival Bag mechanism is superuser at present - we don't create partial bags based on what a given person can see...
Tue, Aug 2, 2022, 07:12:44 - pdurbin: FWIW: The way bags are created is essentially to read the OAI_ORE export and retrieve the files that are listed there - would be pretty straight forward to do the same outside of Dataverse (assuming you have permission to get the files.)
Tue, Aug 2, 2022, 08:50:54 - lincoln_: thank you @pdurbin :)
Tue, Aug 2, 2022, 09:31:49 - pdurbin: Sure, thank qqmyers üòÑ
Tue, Aug 2, 2022, 10:21:17 - pdurbin: Akio Sone: welcome! Have you been here for a long time? üòÑ
Tue, Aug 2, 2022, 13:27:27 - Don Sizemore: @pdurbin I have a crazy idea
Tue, Aug 2, 2022, 13:34:44 - pdurbin: Don Sizemore: I love crazy ideas!
Tue, Aug 2, 2022, 13:35:10 - Don Sizemore: well, my little versioning list I pulled on Friday? used the JSON from dataverse-metrics
Tue, Aug 2, 2022, 13:35:20 - Don Sizemore: which is less complete than the JSON from dataverse-installations
Tue, Aug 2, 2022, 13:35:55 - Don Sizemore: if possible, I'd like for dataverse-metrics to get its hostname values from dataverse-installations
Tue, Aug 2, 2022, 13:36:23 - Don Sizemore:  (though dataverse-metrics wants a URL, and not all installations serve HTTPS)
Tue, Aug 2, 2022, 13:38:37 - pdurbin: Well, we have this: https://github.com/IQSS/dataverse-metrics/commit/2e6560e
Tue, Aug 2, 2022, 13:38:42 - pdurbin: which I'll try to explain
Tue, Aug 2, 2022, 13:39:01 - pdurbin: basically, there's already a script to pull JSON from the map for the metrics app to use
Tue, Aug 2, 2022, 13:39:09 - pdurbin: but perhaps you mean on the fly?
Tue, Aug 2, 2022, 13:39:57 - pdurbin: (the metrics app uses the JSON for the name of the installation. better to show that than the URL. friendlier)
Tue, Aug 2, 2022, 13:40:20 - Don Sizemore: I mean that https://github.com/IQSS/dataverse-metrics/blob/master/global/all-dataverse-installations.json differs from https://github.com/IQSS/dataverse-installations/blob/master/data/data.json
Tue, Aug 2, 2022, 13:40:31 - pdurbin: yes, absolutely it does
Tue, Aug 2, 2022, 13:41:01 - pdurbin: we can do a quick call if you want. Matrix even has jitsi üòÑ
Tue, Aug 2, 2022, 13:41:14 - pdurbin: (but I'd need to grab a room so I don't drive Steve crazy)
Tue, Aug 2, 2022, 13:41:15 - Don Sizemore: I think one should be authoritative; all-dataverse-installations.json is much more current
Tue, Aug 2, 2022, 13:41:37 - Don Sizemore: it's just me thinking out loud. it may not be feasible for one reason or another, but on Friday it meant we missed some 5.11 installations
Tue, Aug 2, 2022, 13:41:59 - pdurbin: hmm, I think of the map JSON as being the most complete and current
Tue, Aug 2, 2022, 13:42:13 - Don Sizemore: yes
Tue, Aug 2, 2022, 13:43:35 - Don Sizemore: it's not a priority, but if you think it isn't too-crazy-an-idea I can open an issue, likely in the dataverse-metrics repo
Tue, Aug 2, 2022, 13:44:05 - pdurbin: sure, for it
Tue, Aug 2, 2022, 13:44:18 - pdurbin: by the way, the map JSON is influenced by the metrics JSON
Tue, Aug 2, 2022, 13:44:45 - pdurbin: if a hostname is found in the metrics JSON, the map JSON gets a value like `has_metrics=true`
Tue, Aug 2, 2022, 13:45:07 - pdurbin: I guess it's just `metrics=true`
Tue, Aug 2, 2022, 13:45:10 - Don Sizemore: see, this is why I asked
Tue, Aug 2, 2022, 13:45:17 - pdurbin: and then we link to the metrics from the installations popup on the map
Tue, Aug 2, 2022, 13:46:18 - pdurbin sent an image. (Media omitted)
Tue, Aug 2, 2022, 13:46:25 - pdurbin: "included in metrics" ^^
Tue, Aug 2, 2022, 13:48:53 - Don Sizemore: I now have 12 open issues in that repo.
Tue, Aug 2, 2022, 13:53:04 - pdurbin: üòÑ
Tue, Aug 2, 2022, 13:53:09 - pdurbin: now we have 13 standards
Tue, Aug 2, 2022, 13:53:15 - pdurbin: now we have 14 standards
Tue, Aug 2, 2022, 14:01:35 - pdurbin: https://xkcd.com/927/
Tue, Aug 2, 2022, 14:38:58 - pdurbin: we just made a hotfix called 5.11.1: https://github.com/IQSS/dataverse/releases/tag/v5.11.1
Tue, Aug 2, 2022, 14:39:15 - pdurbin: has important data integrity fixes
Tue, Aug 2, 2022, 15:02:50 - pdurbin: please see https://groups.google.com/g/dataverse-community/c/Y5FLip9RR3U/m/Hh0eiLfgBAAJ
Tue, Aug 2, 2022, 15:03:13 - pdurbin: in short, please don't run 5.11
Tue, Aug 2, 2022, 17:31:48 - kuhlaid joined the room
Wed, Aug 3, 2022, 09:09:12 - pdurbin: We upgraded Harvard Dataverse and demo to 5.11.1.
Thu, Aug 4, 2022, 08:30:11 - pdurbin: poikilotherm: you seem to be doing some backlog grooming üòÑ
Thu, Aug 4, 2022, 08:30:27 - poikilotherm: You asked me to :-D
Thu, Aug 4, 2022, 08:30:36 - pdurbin: aw
Thu, Aug 4, 2022, 08:30:51 - pdurbin: can you make Dataverse deploy faster?
Thu, Aug 4, 2022, 08:31:25 - poikilotherm: üò¨
Thu, Aug 4, 2022, 08:31:32 - poikilotherm: Though question
Thu, Aug 4, 2022, 08:31:45 - poikilotherm: I'll try with "Maybe?"
Thu, Aug 4, 2022, 08:32:07 - pdurbin: heh, no worries
Thu, Aug 4, 2022, 08:32:11 - pdurbin: just dreaming
Thu, Aug 4, 2022, 08:32:34 - poikilotherm: Large Java apps always suffered from long load times
Thu, Aug 4, 2022, 08:33:25 - poikilotherm: Java is all about running stable for a long time, not so much for firing up things quickly. That changed a bit with Quarkus, but large apps will still be large apps
Thu, Aug 4, 2022, 08:34:53 - pdurbin: Well, I'm thinking of the dev feedback loop primarily (and selfishly).
Thu, Aug 4, 2022, 08:35:11 - pdurbin: Quarkus dev mode is super fast. A great experience. Have you tried it?
Thu, Aug 4, 2022, 08:43:40 - poikilotherm: Yes with a little demo thingy
Thu, Aug 4, 2022, 08:44:02 - poikilotherm: Thing is - I don't know how fast quarkus:dev will be with a large app like Dataverse
Thu, Aug 4, 2022, 08:44:18 - poikilotherm: All I have seen and messed around are small demo s
Thu, Aug 4, 2022, 08:44:44 - poikilotherm: Even those are faster, but what happens when its more than a few classes?
Thu, Aug 4, 2022, 08:45:12 - pdurbin: Yeah, that was a criticism internally when I brought a Red Hat guy in to talk about Quarkus. "Of course the demo is fast. It's a tiny app."
Thu, Aug 4, 2022, 08:45:35 - pdurbin: need more science
Thu, Aug 4, 2022, 08:45:38 - pdurbin: more experience
Thu, Aug 4, 2022, 08:46:13 - poikilotherm: Bean scanning also scans all JARs, right?
Thu, Aug 4, 2022, 08:46:41 - poikilotherm: Maybe there is a speed increase by switching to annotated?
Thu, Aug 4, 2022, 08:46:48 - pdurbin: all the deps, the many, many deps? I assume so
Thu, Aug 4, 2022, 08:47:23 - pdurbin: anyway, no need to solve this now. we have https://github.com/IQSS/dataverse/issues/5593
Thu, Aug 4, 2022, 13:30:03 - Don Sizemore: poikilotherm: are you still using the `dataverse-k8s` jobs on jenkins.dataverse.org?
Thu, Aug 4, 2022, 13:30:19 - poikilotherm: Not really. Feel free to drop
Thu, Aug 4, 2022, 13:31:00 - Don Sizemore: Not drop but maybe suspend. They generate about 40GB of Docker data per worker node, per day. That's a lot of wear on the disks (but worth it if the tests are in use)
Fri, Aug 5, 2022, 08:05:46 - pdurbin: I added a new feature to DataverseTV last night. Now you can specify a start time (in seconds) for a YouTube video. This means we can have multiple rows/cards for a single YouTube video and have a "slides" link for each talk (when there are multiple talks in a single video).
Fri, Aug 5, 2022, 08:07:08 - pdurbin: Oh and because the thumbnail is often not of the speaker or the speaker's slides in this scenario (many talks per video), I also added a way to say "just show the generic DataverseTV image on the card".
Fri, Aug 5, 2022, 08:07:35 - pdurbin: I added talks by Matthew and Ana as examples, currently near the top of https://iqss.github.io/dataverse-tv/
Fri, Aug 5, 2022, 08:08:37 - pdurbin: Of course, this would be much more work, many more rows to add. And I don't even have descriptions for those two talks. But I think being able to click and go directly to the talk is nice. And having a link for the slides for that particular talk is very nice too.
Fri, Aug 5, 2022, 08:44:09 - pdurbin: Maybe we can crowdsource some of the work. üòÑ
Fri, Aug 5, 2022, 08:54:53 - Ilaria Belvedere: Thank you very much :)
Fri, Aug 5, 2022, 08:55:30 - pdurbin: For the new "start time" feature? üòÑ
Fri, Aug 5, 2022, 08:58:49 - Ilaria Belvedere: Yes :)
Fri, Aug 5, 2022, 08:59:35 - pdurbin: I'm glad you like it! If you (or anyone here) want to help add videos to the Google Spreadsheet, please let me know!
Fri, Aug 5, 2022, 09:00:28 - pdurbin: The spreadsheet is linked from https://github.com/IQSS/dataverse-tv
Fri, Aug 5, 2022, 09:05:54 - Ilaria Belvedere: Yes, of course :) Maybe in the next weeks I will be more able to partecipate  (I am writing now the emails to the people that don't appear in the map, finally! :))
Fri, Aug 5, 2022, 09:08:42 - pdurbin: Ah, great! Please don't pester them too much. We still want the model to be "opt-in". üòÑ But a nudge shouldn't hurt. üòÑ
Fri, Aug 5, 2022, 09:10:37 - pdurbin: By the way, you can see the number of videos on DataverseTV at https://iqss.github.io/iqss-metrics-dashboard/dataverse.html . If we use this new "start time" method a lot, we could have a lot more. Most of the sessions for the Dataverse Community Meeting have multiple talks.
Fri, Aug 5, 2022, 09:12:53 - Ilaria Belvedere: <@pdurbin:matrix.org "Ah, great! Please don't pester t..."> I will be calm ahahha
Fri, Aug 5, 2022, 09:13:23 - pdurbin: wine first instead of coffee üòÑ
Fri, Aug 5, 2022, 09:14:15 - Ilaria Belvedere: I am still a student do they'll be soft with me (I hope) ahah
Fri, Aug 5, 2022, 09:14:20 - Ilaria Belvedere: so*
Fri, Aug 5, 2022, 09:14:33 - pdurbin: yeah, no worries
Fri, Aug 5, 2022, 09:14:51 - Ilaria Belvedere: üëçÔ∏è
Fri, Aug 5, 2022, 16:59:19 - pdurbin: Have a good weekend, everyone!
Sun, Aug 7, 2022, 07:06:09 - Ilaria Belvedere: Hello! Two silly Sunday questions: What about searching datasets by License? Or the possibility of putting "License" in the browsing facets?
Mon, Aug 8, 2022, 05:55:42 - Ilaria Belvedere: <@pdurbin:matrix.org "The spreadsheet is linked from h..."> Hello! The spreadsheet can be updated by listing single presentations (inside a session, like for example Software session) discussed during the Dataverse Community Meeting 2022 or any other conference, right?
Mon, Aug 8, 2022, 06:28:11 - elger joined the room
Mon, Aug 8, 2022, 06:51:57 - pdurbin: Ilaria Belvedere: hi! For the license questions, neither are possible and https://github.com/IQSS/dataverse/issues/7482 tracks this. You are very welcome to comment on that issue to say that you're interested (and any details).

For the DataverseTV spreadsheet, the best thing would be to first click "request access". Then I can give you the ability to modify it. Then you could make a small change to an existing row. (We could ask poikilotherm for a description of his talk for example.) Then you'll see that https://iqss.github.io/dataverse-tv/ updates immediately when you refresh the page (because it operates off the spreadsheet directly).
Mon, Aug 8, 2022, 06:53:47 - Ilaria Belvedere: Thank you very much :)
Mon, Aug 8, 2022, 06:54:38 - pdurbin: Sure, also, over the weekend I added the ability to change the image for a video to a GitHub avatar.
Mon, Aug 8, 2022, 06:55:11 - pdurbin: Because when you have six talks with the same image (because they're from the same YouTube video), it's nice to have some variety. üòÑ
Mon, Aug 8, 2022, 06:57:35 - poikilotherm: pdurbin you rang a bell?
Mon, Aug 8, 2022, 06:57:55 - poikilotherm: BTW looks like you're an early bird again :-D
Mon, Aug 8, 2022, 06:58:22 - pdurbin: Yeah, my family really likes to sleep in during the summer so it's the best time for hacking. üòÑ
Mon, Aug 8, 2022, 06:58:36 - poikilotherm: I feel you :-D
Mon, Aug 8, 2022, 06:58:40 - Ilaria Belvedere: Here it is hot as hell :( and it is 1 p., ahaha
Mon, Aug 8, 2022, 06:58:43 - Ilaria Belvedere: p.m.
Mon, Aug 8, 2022, 06:58:44 - pdurbin: I'm trying to move my home server to a new VM. It's taking a while.
Mon, Aug 8, 2022, 06:59:43 - pdurbin: Here it's been hot for weeks but it's supposed to finally break sometime Wednesday.
Mon, Aug 8, 2022, 07:00:15 - Ilaria Belvedere: Let's hope to get some rain soon
Mon, Aug 8, 2022, 07:06:45 - pdurbin: We finally got a little yesterday but it's very dry here.
Mon, Aug 8, 2022, 07:15:34 - Ilaria Belvedere: I don't think current worldwide situation is helping at all for this issue, unfortunately. And before, humankind has not been better anyway (little blue moment, sorry) XD
Mon, Aug 8, 2022, 07:16:24 - pdurbin: That's ok. In good news, reviewdog is still working hard for us. Check this out, poikilotherm https://github.com/IQSS/dataverse/commit/c6e362c
Mon, Aug 8, 2022, 07:18:11 - poikilotherm: <@pdurbin:matrix.org "We finally got a little yesterda..."> Looking at the weather forecast for this week Boston looks like you'll have a pretty hot day tomorrow
Mon, Aug 8, 2022, 07:19:38 - poikilotherm: <@pdurbin:matrix.org "That's ok. In good news, reviewd..."> YEAH! Gooooood doggo! ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è
Mon, Aug 8, 2022, 07:20:07 - poikilotherm: üê∂üëè
Mon, Aug 8, 2022, 07:23:31 - pdurbin: So poikilotherm do you have a description of your talk for Ilaria Belvedere to add to DataverseTV?
Mon, Aug 8, 2022, 07:23:57 - poikilotherm: I can send you the abstract I sent for the call
Mon, Aug 8, 2022, 07:27:18 - poikilotherm: Would that help pdurbin ?
Mon, Aug 8, 2022, 07:29:54 - pdurbin: Well, the idea is to give Ilaria Belvedere some content to update the spreadsheet with. So she gets used to how it works. 
Mon, Aug 8, 2022, 07:30:27 - pdurbin: Ilaria Belvedere: of course you're also welcome to make a small change to a description. Add an extra period or something. üòÑ
Mon, Aug 8, 2022, 07:31:36 - pdurbin: I hope the abstract is short. Can see how it looks. üòÑ
Mon, Aug 8, 2022, 07:33:32 - pdurbin: Ilaria Belvedere: I found your gmail address from the google group and just gave you "Editor" access to the DataverseTV spreadsheet. Have fun!
Mon, Aug 8, 2022, 07:43:37 - Ilaria Belvedere: Thank you :)
Mon, Aug 8, 2022, 08:31:47 - g.sarigiannis joined the room
Mon, Aug 8, 2022, 08:34:41 - pdurbin: Ilaria Belvedere: if it's easier, maybe we could do a call about DataverseTV spreadsheet. I can explain how it work, how to help, etc.
Mon, Aug 8, 2022, 08:42:25 - poikilotherm: ```
HERMES: Metadata-rich, automateable research software publication

To satisfy the principles of FAIR software, software sustainability and software citation, research software must be formally published. Publication repositories make this possible and provide published software versions with unique and persistent identifiers. However, software publication is still a tedious, mostly manual process.

To streamline software publication, HERMES (HElmholt Rich MEtadata Software publications), a project funded by the Helmholtz Metadata Collaboration and brought to life by DLR, HZDR and FZJ, develops automated workflows to publish research software with rich metadata. The tooling developed by the project utilizes continuous integration solutions to retrieve,collate, and process existing metadata in source repositories, and publish them on publication repositories, including checks against existing metadata requirements. To accompany the tooling and enable researchers to easily reuse it, the project also provides comprehensive documentation and templates for widely used CI solutions.

This talk will provide insights into the current status of HERMES; started just after DCM 2021. Enabling Dataverse software as a target repository for software publications, missing functionality needs to be added and aligned with other activities like workflow deposition. Current and future efforts of the projects funded development work on Dataverse codebase will be discussed during the talk.

https://software-metadata.pub
https://github.com/hermes-hmc/workflow
https://go.fzj.de/obertuch
https://github.com/poikilotherm

```
Mon, Aug 8, 2022, 08:45:55 - Ilaria Belvedere: <@pdurbin:matrix.org "Ilaria Belvedere: if it's easier..."> Thank you, I will let you know when I'll try to fill the spreadsheet, thanks!
Mon, Aug 8, 2022, 08:48:02 - pdurbin: Ilaria Belvedere: sure, no rush. I'm actually on vacation next week. After then is fine.
Mon, Aug 8, 2022, 08:49:22 - pdurbin: poikilotherm: so, check out some of the long cards such as Kristi Park's talk. The description is 669 characters long and I already think the card is a bit too long/tall. Your abstract is over 1600 characters long. üòÑ We should probably come up with a character limit.
Mon, Aug 8, 2022, 08:49:59 - poikilotherm: How about a teaser option?
Mon, Aug 8, 2022, 08:50:51 - pdurbin: Like we have in Dataverse?
Mon, Aug 8, 2022, 08:51:10 - pdurbin: We have ... and then click for more.
Mon, Aug 8, 2022, 08:53:49 - pdurbin: ... to read the full description
Mon, Aug 8, 2022, 08:58:04 - pdurbin: Anyway, please feel to open an issue: https://github.com/IQSS/dataverse-tv/issues
Mon, Aug 8, 2022, 09:06:06 - pdurbin: By the way, I hacked on the roadmap page on Friday. It's a work in progress but I'm happy to hear any feedback: https://www.iq.harvard.edu/roadmap-dataverse-project
Mon, Aug 8, 2022, 11:47:25 - pdurbin: Any topics or demos for tomorrow's community call?
Mon, Aug 8, 2022, 12:51:13 - Ilaria Belvedere: Do you know about this? https://gitea-s2i2s.isti.cnr.it/concordia/dataverse-lrs
Mon, Aug 8, 2022, 12:54:20 - pdurbin: No... Neat!
Mon, Aug 8, 2022, 12:58:52 - Ilaria Belvedere: I happened to discover it because I saw in Slava Tykhonov's presentation that CNR is one of the partner institution in the SSHOC project about Dataverse, and the one who made the integration is affiliated with CNR
Mon, Aug 8, 2022, 13:12:13 - pdurbin: Nice. Good find!
Mon, Aug 8, 2022, 13:18:30 - Ilaria Belvedere: Thanks! Shouldn't it be listed somewhere or something like that?
Mon, Aug 8, 2022, 14:04:41 - pdurbin: I mean, it's mostly a fork of the official previewers, from what I can tell.
Mon, Aug 8, 2022, 14:05:24 - pdurbin: Maybe there could be a section of the README at https://github.com/gdcc/dataverse-previewers called "related projects" or something.
Mon, Aug 8, 2022, 17:01:38 - pdurbin: If anyone has any topics or demos for the community call tomorrow, lemme know! https://dataverse.org/community-calls
Tue, Aug 9, 2022, 08:32:58 - poikilotherm: <@pdurbin:matrix.org "If anyone has any topics or demo..."> I just asked Johannes Darms to join https://github.com/IQSS/dataverse/issues/8904#issuecomment-1209321522 so we can talk about his idea
Tue, Aug 9, 2022, 08:35:52 - pdurbin: Great!
Tue, Aug 9, 2022, 08:37:36 - Johannes Darms joined the room
Tue, Aug 9, 2022, 08:38:28 - Johannes Darms: I haven't prepared much, but I'm happy to explain my idea later
Tue, Aug 9, 2022, 08:47:55 - pdurbin: Fantastic! Should we advertise a bit? Send a message to the mailing list? Drop a message in Slack?
Tue, Aug 9, 2022, 08:52:04 - Ilaria Belvedere: When are you doing the call? 
Tue, Aug 9, 2022, 08:52:39 - Johannes Darms: I'm not sure about that. I'm still a dataverse newbie, and likely missed some important aspects while writing the feature request. 
Tue, Aug 9, 2022, 08:53:50 - poikilotherm: <@ilariabelvedere:matrix.org "When are you doing the call?"> https://dataverse.org/community-calls The next one is TODAY at 3 PM UTC
Tue, Aug 9, 2022, 08:54:45 - poikilotherm: <@johannes.darms:matrix.org "I'm not sure about that. I'm sti..."> Oh no worries about that. It's a very open and welcoming community and a fresh look on things might be helpful sometimes! And we are here to explain missing things ;-)
Tue, Aug 9, 2022, 08:59:22 - pdurbin: It's nice to be nice
Tue, Aug 9, 2022, 09:00:18 - pdurbin: The agenda doc is open for writing so please go ahead and add something
Tue, Aug 9, 2022, 09:09:16 - pdurbin: This is the notes doc: https://docs.google.com/document/d/1N32UZEzw3a2CuZCuflmLpwIi4AXEl7LyS1PZh9GHJEA/edit?usp=sharing
Tue, Aug 9, 2022, 09:09:21 - pdurbin: Should we add something?
Tue, Aug 9, 2022, 09:13:00 - pdurbin: Ok, now that I'm at my desk and have my coffee I'm reading https://github.com/IQSS/dataverse/issues/8904 and it makes sense. People are people, right? Describe them the same way whether they are authors, contributors, etc. Is that the gist of it?
Tue, Aug 9, 2022, 09:15:01 - Johannes Darms: yes
Tue, Aug 9, 2022, 09:17:22 - pdurbin: Great. I feel like there are some related open issues about this. "Why can't I add 'affiliation' to contributor?" or something.
Tue, Aug 9, 2022, 09:17:57 - pdurbin:  Citation Metadata: Add Affiliation and Identifier for Contributors #3048 - https://github.com/IQSS/dataverse/issues/3048
Tue, Aug 9, 2022, 09:18:04 - pdurbin: (and identifier)
Tue, Aug 9, 2022, 09:24:39 - pdurbin: Ok, I left a comment on Johannes Darms 's issue, at least. I don't think we necessarily need an agenda item. It looks like there's already a bullet under "community questions" for this. Perfect.
Tue, Aug 9, 2022, 09:25:43 - Johannes Darms: I've added that one
Tue, Aug 9, 2022, 09:30:46 - pdurbin: Johannes Darms: perfect. I hope you don't mind but I added your name to the bullet.
Tue, Aug 9, 2022, 11:54:30 - pdurbin: Johannes Darms: thanks for presenting that issue! If you like, perhaps you could like to your slides from the issue.
Tue, Aug 9, 2022, 14:43:21 - Ilaria Belvedere: Hi again! I've been wondering: is there a way to download metadata about search results via interface? 
Tue, Aug 9, 2022, 14:44:47 - pdurbin: You want to know what people have been searching for? You could use Google Analytics for that. Or open source alternatives like Matomo.
Tue, Aug 9, 2022, 14:47:14 - Ilaria Belvedere: Mmm, more like this, for example: by using advanced search on Harvard Dataverse I search for authors affiliation and I would like to see the results as a csv or something listed
Tue, Aug 9, 2022, 14:47:38 - Ilaria Belvedere: the metadata results*
Tue, Aug 9, 2022, 14:48:13 - pdurbin: You want search results as a CSV. Ok. Hmm. I guess you could use the API and transform the JSON to CSV.
Tue, Aug 9, 2022, 14:48:27 - Ilaria Belvedere: Thanks :)!
Tue, Aug 9, 2022, 14:49:31 - Ilaria Belvedere: Not via interface, but by using the the API, okay üëçÔ∏è
Tue, Aug 9, 2022, 14:51:35 - pdurbin: Ilaria Belvedere: please check out this related thread: https://groups.google.com/g/dataverse-community/c/l41Cp2KEf9M/m/coQn8penAgAJ
Tue, Aug 9, 2022, 15:00:05 - Ilaria Belvedere: Thank you! I am trying to get an idea about how many researchers from my institution actually upload data on Harvard Dataverse. But some of them wrote "Universit√† di Pisa" and others "University of Pisa". Is there a way to connect the two phrases to point out they refer to the same entity as it happens in libraries catalogue, for example? 
Tue, Aug 9, 2022, 15:01:13 - Ilaria Belvedere: Like this, but for the other fields: https://github.com/IQSS/dataverse/issues/7937
Tue, Aug 9, 2022, 15:03:03 - pdurbin: I mean, probably, but maybe just compare them with a script?
Tue, Aug 9, 2022, 15:04:47 - Ilaria Belvedere: Yeah, you're right. I am never actually thinking about these solutions because I am a humanist and I was thinking about authority control and several thoughts about the various shapes of names ahaha
Tue, Aug 9, 2022, 15:06:53 - pdurbin: Pisa probably has a ROR. And ID.
Tue, Aug 9, 2022, 15:07:02 - pdurbin: https://github.com/IQSS/dataverse/issues/6640
Tue, Aug 9, 2022, 15:07:44 - pdurbin: Ilaria Belvedere: here it is: https://ror.org/03ad39j10
Tue, Aug 9, 2022, 15:08:49 - pdurbin: Ideally we'd be storing a ROR id in addition to a string like "University of Pisa".
Tue, Aug 9, 2022, 15:09:04 - Ilaria Belvedere: :O
Tue, Aug 9, 2022, 15:09:14 - Ilaria Belvedere: That would be GREAT
Tue, Aug 9, 2022, 15:38:18 - pdurbin: üòÑ
Tue, Aug 9, 2022, 16:11:02 - pdurbin: Ilaria Belvedere: please feel free to create an issue about the "CSV from search results" idea.
Wed, Aug 10, 2022, 08:02:48 - poikilotherm: Don Sizemore pdurbin when you have a minute, may I ask you a potentially dumb question in context of https://github.com/IQSS/dataverse/issues/5361 ?
Wed, Aug 10, 2022, 09:09:23 - pdurbin: poikilotherm: absolutely
Wed, Aug 10, 2022, 09:40:25 - poikilotherm: Alright, here comes. How about I cleanup these shell scripts in scripts/api (setup-all.sh and related) to be more friendly with other targets than localhost:8080 and create a startup bean that will do the bootstrap by calling the script? (Of course configurable if/if not, where the scripts are etc)
Wed, Aug 10, 2022, 09:41:11 - poikilotherm: Not running this bare minimum script by hand when not using the classic installation installer would be helpful...
Wed, Aug 10, 2022, 09:43:19 - poikilotherm: Would that be helpful with dataverse-ansible Don Sizemore ?
Wed, Aug 10, 2022, 10:22:46 - pdurbin: Let's pull carlsonp in as well, if we can, since he's adding a docker compose file.
Wed, Aug 10, 2022, 11:24:57 - pdurbin: Certainly I'm okay with localhost and 8080 not being hard-coded.
Wed, Aug 10, 2022, 16:34:15 - Don Sizemore: poikilotherm: it sounds good to me, though I'd run a bunch of that by Leonid
Thu, Aug 11, 2022, 17:02:53 - pdurbin: Ok, I'm out of here. Off tomorrow. Have a nice weekend! Off all next week too! Bye!
Fri, Aug 12, 2022, 03:11:54 - Ilaria Belvedere: Have a good week :) 
Fri, Aug 12, 2022, 09:38:27 - lincoln_: one question
Is there a way to bypass the md5 check of files during upload?

Fri, Aug 12, 2022, 11:02:10 - Don Sizemore: I don't see a way to do this using :FileFixityChecksumAlgorithm. You might open an issue requesting a possible :FileFixityChecksumAlgorithm value of NONE?
Mon, Aug 15, 2022, 10:29:03 - lincoln_: <@donsizemore:matrix.org "I don't see a way to do this usi..."> Don Sizemore: because I have like thousands of files for a Dataset ,and dvuplader  checks up the md5 of all the files uploaded for the dataset.. the upload speed decreases exponentially  with time.
Mon, Aug 15, 2022, 11:20:19 - Don Sizemore: lincoln_: Jim is pretty quick to respond to stuff like this. You might open an issue at https://github.com/GlobalDataverseCommunityConsortium/dataverse-uploader/issues
Tue, Aug 16, 2022, 06:19:25 - lincoln_: Don Sizemore: done :)
Wed, Aug 17, 2022, 03:50:35 - Johannes Darms: Are there any plans to update/migrate to Citation MetadateBlock to DataCite 4.4?
Wed, Aug 17, 2022, 03:50:54 - Johannes Darms: Or is someone interested in that work?
Wed, Aug 17, 2022, 04:02:35 - Johannes Darms: done
Wed, Aug 17, 2022, 07:08:27 - poikilotherm: <@johannes.darms:matrix.org "Or is someone interested in that..."> Actually I am looking into this with the necessary refactoring for DataCite registration of software. Help would of course be appreciated ‚ò∫Ô∏è
Wed, Aug 17, 2022, 07:09:24 - Johannes Darms: Sure, we could team up :)
Mon, Aug 22, 2022, 04:36:44 - lincoln_: I have one question:
Mon, Aug 22, 2022, 04:36:47 - lincoln_ sent an image. (Media omitted)
Mon, Aug 22, 2022, 04:37:22 - lincoln_: does anyone know how to make Files count to 0?
And what are the benefits of it?
Mon, Aug 22, 2022, 09:10:54 - pdurbin: lincoln_: I'm not sure I understand. Have you done a search or clicked a facet? What is in the URL?
Mon, Aug 22, 2022, 09:16:03 - pdurbin: <@johannes.darms:matrix.org "Are there any plans to update/mi..."> I don't think there is an open issue specifically about upgrading to that version but there are some action items related to what Dataverse sends to DataCite in this draft plan for an NIH grant (GREI) we're working on: https://docs.google.com/document/d/1z6pPVT4_fc833thD9MyhoAMy2lwKDmCFX5QtKq8I04Y
Mon, Aug 22, 2022, 10:20:08 - lincoln_: pdurbin:ah I understood...i actually clicked a facet...

I have one issue. there is a dataset with lot of files (in thousands) and whenever I click that dataset  I get internal server problem. (or the url stops working)
any Ideas to tackle this?
Mon, Aug 22, 2022, 10:48:34 - pdurbin: lincoln_: yikes! Internal server error (500) is no good. I would look at server.log. Please feel feel free to email it to us at support@dataverse.org
Mon, Aug 22, 2022, 10:48:57 - lincoln_: its more of like 503
Mon, Aug 22, 2022, 10:51:36 - pdurbin: gotcha
Mon, Aug 22, 2022, 10:55:18 - lincoln_: there is nothing on server log
Mon, Aug 22, 2022, 11:00:53 - pdurbin: Hmm, 500 is almost always in server.log. Not sure about 503. Can you show a screenshot?
Mon, Aug 22, 2022, 11:01:12 - Don Sizemore: @pdurbin may I ask a question about Shibboleth conversion?
Mon, Aug 22, 2022, 11:02:21 - pdurbin: sure, go for it
Mon, Aug 22, 2022, 11:04:39 - Don Sizemore: suppose someone creates a local Dataverse account, alias@unc.edu, and uses it as recently as last week.
Mon, Aug 22, 2022, 11:05:18 - Don Sizemore: according to the user, on Friday Dataverse prompted her to convert this account to Shibboleth, apparently out of the blue.
Mon, Aug 22, 2022, 11:05:52 - Don Sizemore: she has an institutional account which can own the collection she created using this alias account, but I'm puzzled why Dataverse never prompted until Friday (if I understand the timeline correctly)
Mon, Aug 22, 2022, 11:06:41 - Don Sizemore: I'm wondering if something changed within the IdP to make Shibboleth suddenly recognize this alias@unc.edu address as one of its own
Mon, Aug 22, 2022, 11:09:44 - pdurbin: Someone with a local account is probably used to logging in with the local option.
Mon, Aug 22, 2022, 11:10:03 - pdurbin: To log in with shib (and trigger conversion) is a different path.
Mon, Aug 22, 2022, 11:10:40 - Don Sizemore: I'm not sure I understand the order in which the user did what - it seems like the alias@unc.edu local account should still work
Mon, Aug 22, 2022, 11:11:07 - pdurbin: No, when you convert the local account is gone.
Mon, Aug 22, 2022, 14:12:11 - Don Sizemore: that's what I expected - but I don't see the conversion log entries in Payara's server.log, and the old account is still there.
Mon, Aug 22, 2022, 14:12:49 - Don Sizemore: I think my initial question was whether Dataverse/Shibboleth offered to convert based on the entire e-mail address, or on "@unc.edu" belonging to our IdP
Mon, Aug 22, 2022, 14:14:00 - pdurbin: The offer to convert is based on the entire email address.
Mon, Aug 22, 2022, 14:14:13 - Don Sizemore: ze plot thickens
Mon, Aug 22, 2022, 14:14:21 - pdurbin: üòÑ
Mon, Aug 22, 2022, 14:15:12 - pdurbin: Maybe there are IdPs out there that assert email addresses coming from multiple domains. @harvard.edu, @hbs.edu etc.
Mon, Aug 22, 2022, 14:16:33 - pdurbin: But you shouldn't have multiple accounts after converting. That's weird.
Mon, Aug 22, 2022, 14:16:37 - pdurbin: You could merge them.
Mon, Aug 22, 2022, 15:49:29 - elger: Hello. I want to use DVUploader to upload a 300MB file. In response I get "413 Request Entity Too Large".

I set the limit quite high:

`curl -X PUT -d 2000000000 http://localhost:8080/api/admin/settings/:MaxFileUploadSizeInBytes`.

Unfortunately DVUploader still says "Request Entity Too Large". I tried restarting the Dataverse installation, didn't help.

The limit is respected when I enable upload via the Web - I see "Select files or drag and drop into the upload widget. File upload limit is 1.9 GB per file. "
Did I miss something? I would appreciate your help.
Mon, Aug 22, 2022, 15:51:54 - pdurbin: elger: hmm, DVUploader is using Dataverse APIs. Have you tried using the API directly?
Mon, Aug 22, 2022, 15:56:16 - elger: Not yet, but I will try.
Mon, Aug 22, 2022, 15:58:03 - pdurbin: here you go: https://guides.dataverse.org/en/5.11.1/api/getting-started.html#uploading-files
Mon, Aug 22, 2022, 16:03:56 - pdurbin: Do you happen to be using multiple stores? You can set :MaxFileUploadSizeInBytes per store.
Mon, Aug 22, 2022, 16:07:26 - pdurbin: Here's where the check happens: https://github.com/IQSS/dataverse/blob/v5.11.1/src/main/java/edu/harvard/iq/dataverse/util/FileUtil.java#L779
Mon, Aug 22, 2022, 16:22:03 - pdurbin: elger: I talked to qqmyers and it sounds like it's a known issue. Can you please create an issue at https://github.com/GlobalDataverseCommunityConsortium/dataverse-uploader/issues to document it?
Mon, Aug 22, 2022, 16:27:04 - pdurbin: Also, I'm curious if it worked via API. üòÑ
Mon, Aug 22, 2022, 16:30:29 - pdurbin: Actually, I'm also curious if you can upload the 300 MB file via the web interface.
Mon, Aug 22, 2022, 16:41:50 - pdurbin: Both should work, I would think.
Mon, Aug 22, 2022, 17:10:27 - pdurbin: Any topics or demos for the community call tomorrow? https://dataverse.org/community-calls
Mon, Aug 22, 2022, 18:22:55 - elger: pdurbin Thank you for the information. It appears that uploading via the web interface does not accept files larger than 999KB, despite the high limit information. Trying to upload a 1MB file fails. Only the upload circle/icon spins endlessly.

I only have one storage. There seems to be something wrong with my Dataverse. This is a learning installation. Installed using https://github.com/IQSS/dataverse-docker
Tue, Aug 23, 2022, 09:02:56 - pdurbin: elger: hmm, ok. Sounds pretty broken. Sounds like DVUploader is innocent. üòÑ I'd suggest opening an issue on the dataverse-docker repo. Vyacheslav Tikhonov should see it.
Tue, Aug 23, 2022, 09:05:31 - lincoln_: Hi pdurbin  yes it was 500 internal server error. Although I could use the "Files" from the facet and click on them but while accessing their  dataset (that contains thousands of files) I get this error. I have emailed support@dataverse.org
Tue, Aug 23, 2022, 09:05:34 - lincoln_: today
Tue, Aug 23, 2022, 09:07:01 - lincoln_: i have checked the cpu and memory usage and they are below the threshold
Tue, Aug 23, 2022, 09:07:56 - pdurbin: lincoln_: thanks, I see it: https://help.hmdc.harvard.edu/Ticket/Display.html?id=324896
Tue, Aug 23, 2022, 09:09:43 - pdurbin: Hmm, the only Dataverse code in the stack trace is the api router stuff. Is there a longer stack trace available?
Tue, Aug 23, 2022, 09:10:40 - lincoln_: When I get the internal server error from GUI (clicking on dataset) there are no msg/updates on server.log
Tue, Aug 23, 2022, 09:12:43 - pdurbin: Is your server on a public URL? Can I try to trigger the error myself?
Tue, Aug 23, 2022, 09:13:59 - lincoln_: yes it is on public URL. But the dataset is in draft (still)
Tue, Aug 23, 2022, 09:14:22 - pdurbin: ok, and I'm confused, you get the 500 when you visit the dataset landing page?
Tue, Aug 23, 2022, 09:14:30 - pdurbin: or when you try to export the dataset as JSON?
Tue, Aug 23, 2022, 09:14:37 - lincoln_: both
Tue, Aug 23, 2022, 09:15:10 - lincoln_: with landing page- no updates on serverlog
with API- at least some msg on server.log
Tue, Aug 23, 2022, 09:15:23 - pdurbin: Got it. And you have ~75,000 files?
Tue, Aug 23, 2022, 09:15:28 - lincoln_: yup
Tue, Aug 23, 2022, 09:15:45 - pdurbin: Can you double zip them? So they stay as a zip?
Tue, Aug 23, 2022, 09:16:58 - lincoln_: yes i can zip them .. ( as a correcive measure for future ref)

But i was wondering if there are any other solutions to this As i can clearly access their files but not the dataset ( I mean access them)
Tue, Aug 23, 2022, 09:20:43 - lincoln_: some changes on payara server that could be made
Tue, Aug 23, 2022, 09:24:14 - pdurbin: That would be nice but I'm not aware of any. Please check out https://github.com/IQSS/dataverse/issues/6808
Tue, Aug 23, 2022, 09:24:39 - pdurbin: It's about performance not a 500 error but the highest number of files tested was 1349.
Tue, Aug 23, 2022, 09:25:12 - pdurbin: What do you think? New issue about the 500 error? And link to that issue as related?
Tue, Aug 23, 2022, 09:27:01 - lincoln_: <@pdurbin:matrix.org "That would be nice but I'm not a..."> well he didnot mention s3 anywhere... so it might be his server is at max capacity
Tue, Aug 23, 2022, 09:27:35 - lincoln_: also its 2020..so dataverse_oldver
Tue, Aug 23, 2022, 09:28:09 - pdurbin: Yeah. Do you mind creating a new issue? A please upload your server log and mention the ticket number.
Tue, Aug 23, 2022, 09:30:52 - lincoln_: sure
Tue, Aug 23, 2022, 09:32:40 - pdurbin: thanks!
Tue, Aug 23, 2022, 09:37:58 - lincoln_: Message deleted
Tue, Aug 23, 2022, 09:48:40 - lincoln_: https://github.com/IQSS/dataverse/issues/8928
Tue, Aug 23, 2022, 09:56:00 - pdurbin: lincoln_: thanks! üéâ
Tue, Aug 23, 2022, 10:06:45 - lincoln_: pdurbin: If possible, could you also please ask  qqmyers ?
Tue, Aug 23, 2022, 10:08:01 - pdurbin: qqmyers? Sure. Do you want to ask him yourself in Slack?
Tue, Aug 23, 2022, 10:09:42 - pdurbin: I'm happy to send you (and anyone here) an invite.
Tue, Aug 23, 2022, 10:11:36 - lincoln_: i think it will be quicker if you ask him. 
But thanks for the invitation.
Tue, Aug 23, 2022, 10:12:13 - pdurbin: Do you want to ask during the community call? It's ~45 minutes from now: https://dataverse.org/community-calls
Tue, Aug 23, 2022, 10:12:56 - lincoln_: actually its almost end of the work (for today)
Tue, Aug 23, 2022, 10:13:01 - lincoln_: for me
Tue, Aug 23, 2022, 10:13:15 - pdurbin: yeah, I'll DM him
Tue, Aug 23, 2022, 10:13:29 - lincoln_: pdurbin: thanks a ton :)
Tue, Aug 23, 2022, 10:13:38 - pdurbin: done
Tue, Aug 23, 2022, 10:13:52 - pdurbin: sure üòÑ
Tue, Aug 23, 2022, 11:39:35 - poikilotherm: Sorry for not coming to the community call - had to sort out some other stuff. Staying in US for a week did things to my inbox üôÉ
Tue, Aug 23, 2022, 12:03:31 - pdurbin: Don't worry. Soon you'll be able to watch a demo on DataverseTV. üì∫Ô∏è
Tue, Aug 23, 2022, 12:47:12 - Don Sizemore: pdurbin: got time for a crazy idea?
Tue, Aug 23, 2022, 13:21:58 - pdurbin: Don Sizemore: always!
Tue, Aug 23, 2022, 14:31:50 - Don Sizemore: @pdurbin well, I talked to Jim, and I talked to Jon, and ... I'd be curious to see what you think
Tue, Aug 23, 2022, 14:32:07 - Don Sizemore: @pdurbin I'm looking for a merger of deaccessioning and the destroy endpoint
Tue, Aug 23, 2022, 14:32:31 - Don Sizemore: destroy makes me edgy because it's scorched earth; deaccessioning doesn't allow deletion of a parent collection
Tue, Aug 23, 2022, 14:33:01 - pdurbin: What problem are you trying to solve? Can't delete the parent collection?
Tue, Aug 23, 2022, 14:33:26 - Don Sizemore: recent file deletion bugs have made me edgy about calling the destroy API endpoint in general. Jim suggested deaccessioning.
Tue, Aug 23, 2022, 14:33:36 - Don Sizemore: end game is to zap spam datasets (and parent collection)
Tue, Aug 23, 2022, 14:34:11 - Don Sizemore: something like an "unpublish" feature which an archivist could call through the web interface
Tue, Aug 23, 2022, 14:34:28 - pdurbin: People have definitely asked for "unpublish".
Tue, Aug 23, 2022, 14:34:55 - pdurbin: https://github.com/IQSS/dataverse/issues/4895
Tue, Aug 23, 2022, 14:35:50 - Don Sizemore: exactly, though in the case of spam datasets it might be nice to somehow disable re-publishing
Tue, Aug 23, 2022, 14:35:55 - Don Sizemore: I may just update the issue
Tue, Aug 23, 2022, 14:36:21 - pdurbin: You'd probably want to click "revoke roles" or whatever in the user dashboard.
Tue, Aug 23, 2022, 14:36:54 - pdurbin: Probably do that first, actually. Then unpublish.
Tue, Aug 23, 2022, 14:37:21 - pdurbin: Maybe it could be a checkbox for unpublish ([ ] also revoke roles).
Tue, Aug 23, 2022, 14:37:59 - Don Sizemore: well, our defined roles grant :authenticated-users the ability to create collections, so...
Tue, Aug 23, 2022, 14:38:20 - pdurbin: hmm
Tue, Aug 23, 2022, 14:38:41 - Don Sizemore: eh, just an afternoon annoyance. I updated the issue with my two cents... thanks.
Tue, Aug 23, 2022, 14:39:57 - pdurbin: Sure. Two more things. File deletion bugs should be contained to the dataset. Other datasets shouldn't be affected. So it should be safe to use detroy.

You can prevent publishing with an extra metadata check for spam.
Tue, Aug 23, 2022, 14:40:17 - pdurbin: For both collections and datasets.
Tue, Aug 23, 2022, 14:41:23 - pdurbin: https://guides.dataverse.org/en/5.11.1/installation/config.html#datasetmetadatavalidatorscript
Tue, Aug 23, 2022, 14:46:38 - pdurbin sent an image. (Media omitted)
Tue, Aug 23, 2022, 14:46:48 - pdurbin: Upload with Globus button ^^
Tue, Aug 23, 2022, 15:03:52 - pdurbin sent an image. (Media omitted)
Tue, Aug 23, 2022, 15:04:36 - pdurbin: Download from Globus button ^^ Looks a little weird, don't you think?
Wed, Aug 24, 2022, 04:21:31 - lincoln_: <@pdurbin:matrix.org "Do you want to ask during the co..."> i have resolved this problem ...by increasing timeout of  Apache  config file
Wed, Aug 24, 2022, 05:38:25 - lincoln_: memory_error.txt (Media omitted)
Wed, Aug 24, 2022, 05:38:28 - lincoln_: Another completely different challenge: Is there a way to tacle this problem Out of space: JavaHeap space  (file included)
Wed, Aug 24, 2022, 07:14:27 - poikilotherm: <@lincoln_:matrix.org "Another completely different cha..."> Sounds like you need to increase the amount of RAM you assigned to Dataverse/Payara
Wed, Aug 24, 2022, 07:27:10 - poikilotherm: There are a few different methods to tune the allocated heap space depending on how you deploy Dataverse. The method differs between classic installations and container usage.
Wed, Aug 24, 2022, 07:27:58 - poikilotherm: Assuming you're on a classic installation, please look at the `-Xmx` and `-Xms` options. See for example https://blog.payara.fish/fine-tuning-payara-server-5-in-production
Wed, Aug 24, 2022, 07:28:22 - poikilotherm: (You might want to check first what you have set in your domain.xml)
Wed, Aug 24, 2022, 07:28:47 - poikilotherm: By default, the installer assigns 2GB
Wed, Aug 24, 2022, 07:34:38 - poikilotherm: BTW if you want to monitor memory usage, you might want to look at the `/metrics` endpoint
Wed, Aug 24, 2022, 07:35:00 - poikilotherm: This is out of the box compatible with Promethesu
Wed, Aug 24, 2022, 07:36:24 - poikilotherm: (This is provided my MicroProfile Metrics, see https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/Metrics/Metrics%20Configuration.html)
Wed, Aug 24, 2022, 07:37:45 - Don Sizemore: @poikilotherm I have a dumb Payara alias question, when you have a minute
Wed, Aug 24, 2022, 07:37:58 - poikilotherm: <@donsizemore:matrix.org "@poikilotherm I have a dumb Paya..."> Go ahead
Wed, Aug 24, 2022, 07:38:39 - poikilotherm: (I doubt it'll be dumb)
Wed, Aug 24, 2022, 07:39:19 - Don Sizemore: regarding dataverse.files.<id>.secret-key and aliases
Wed, Aug 24, 2022, 07:39:47 - Don Sizemore: there's no example, so the asadmin create-alias command simply creates an alias named ^^
Wed, Aug 24, 2022, 07:40:05 - Don Sizemore: and the secret file merely contains "AWS_SECRET_KEY=" - it's that straightforward?
Wed, Aug 24, 2022, 07:40:24 - poikilotherm: I think you are mixing up things here
Wed, Aug 24, 2022, 07:40:59 - Don Sizemore: I told you it was a dumb question.
Wed, Aug 24, 2022, 07:41:19 - Don Sizemore: desired end result is to hide the AWS secret key as an alias instead of in the service account home directory
Wed, Aug 24, 2022, 07:41:24 - poikilotherm: Are you using `create-alias` or `create-password-alias`?
Wed, Aug 24, 2022, 07:41:42 - poikilotherm: Because I tried to look for the former which doesn't seem to exist?
Wed, Aug 24, 2022, 07:42:02 - Don Sizemore: I'm just looking at the docs... so probably `create-password-alias`
Wed, Aug 24, 2022, 07:42:29 - Don Sizemore: we're a ways off from testing this, but I'm happy to make a pull request to provide an example for future secret aliasers
Wed, Aug 24, 2022, 07:43:54 - poikilotherm: One moment please
Wed, Aug 24, 2022, 07:44:54 - Don Sizemore: thank you for your help
Wed, Aug 24, 2022, 07:45:18 - poikilotherm: You might want to look at https://guides.dataverse.org/en/latest/installation/config.html#dataverse-db-password for an example
Wed, Aug 24, 2022, 07:45:57 - poikilotherm: I also started adding examples in my PR for adding MPCONFIG configurability to PID stuff https://dataverse-guide--8828.org.readthedocs.build/en/8828/installation/config.html#dataverse-pid-datacite-password
Wed, Aug 24, 2022, 07:46:12 - Don Sizemore: yes. that was my question above. the password.txt file should just contain the ENV variable and value? and I just name the alias `dataverse.files.<id>.secret-key`?
Wed, Aug 24, 2022, 07:46:56 - poikilotherm: Are you doing this manually or from a script?
Wed, Aug 24, 2022, 07:47:04 - poikilotherm: Manually there is no need to create the file
Wed, Aug 24, 2022, 07:47:35 - Don Sizemore: neither, yet. I see it will accept input without a file passed. I'm asking about the name of the alias, and the contents of the supplied input.
Wed, Aug 24, 2022, 07:47:47 - poikilotherm: I see
Wed, Aug 24, 2022, 07:48:30 - poikilotherm: Let me look for some authoritative docs to link you to for the content
Wed, Aug 24, 2022, 07:48:53 - Don Sizemore: I was just curious if you had tested it and/or used it. I'm guilty of assuming you submitted the PR to add those docs, is why I asked.
Wed, Aug 24, 2022, 07:48:58 - poikilotherm: The name of the alias though would be as you stated - but of course replacing `<id>` with the real name
Wed, Aug 24, 2022, 07:48:58 - Don Sizemore: if it was Jim I can pester him
Wed, Aug 24, 2022, 07:49:11 - poikilotherm: No it was me :-D
Wed, Aug 24, 2022, 07:50:23 - Don Sizemore: and the input I provide the create command is similar to the other aliases: `AWS_SECRET_KEY=<value>` or whatever
Wed, Aug 24, 2022, 07:51:42 - poikilotherm: The best docs I can find on this is from `asadmin create-password-alias --help`:

```
EXAMPLES
       Example 1, Creating a Password Alias Interactively
           This example creates the password alias jmspassword-alias
           interactively.

               asadmin> create-password-alias jmspassword-alias
               Enter the alias password>
               Enter the alias password again>
               Command create-password-alias executed successfully.

       Example 2, Creating a Password Alias Noninteractively
           This example uses the --passwordfile option of the asadmin utility
           to create the password alias winuser noninteractively.

               $ asadmin --passwordfile aspwfile.txt create-password-alias winuser
               Command create-password-alias executed successfully.
           The file aspwfile.txt contains the following entry to specify the
           alias password:

               AS_ADMIN_ALIASPASSWORD=sp@rky

```
Wed, Aug 24, 2022, 07:52:23 - Don Sizemore: this is what I'm expecting to see. I guess I'll test the contents to see what it wants when the time comes.
Wed, Aug 24, 2022, 07:53:38 - poikilotherm: So in your case you would do it like this:

```
echo "AS_ADMIN_ALIASPASSWORD=my-secret-key" > pwfile.txt
asadmin create-password-alias --passwordfile pwfile.txt dataverse.files.mystore.secret-key
```
Wed, Aug 24, 2022, 07:53:59 - poikilotherm: Note you could also use the "directory config source"
Wed, Aug 24, 2022, 07:54:20 - poikilotherm: https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/Config/Directory.html
Wed, Aug 24, 2022, 07:54:32 - poikilotherm: (I contributed this to Payara, too ;-) )
Wed, Aug 24, 2022, 07:54:52 - Don Sizemore: except in the above example, for S3, it would be `AWS_SECRET_ACCESS_KEY=`
Wed, Aug 24, 2022, 07:55:08 - poikilotherm: No no no!!!
Wed, Aug 24, 2022, 07:55:20 - poikilotherm: I gave you an appropriate example :-)
Wed, Aug 24, 2022, 07:55:50 - Don Sizemore: thank you - this is what i'm asking.
Wed, Aug 24, 2022, 07:56:41 - poikilotherm: Again: if this is confusing, creating simple files with just secret in it, named as the configuration property might be easier
Wed, Aug 24, 2022, 07:57:06 - Don Sizemore: an example in the docs would be great here. I may submit a PR for you to review
Wed, Aug 24, 2022, 07:58:07 - poikilotherm: So after configuring the directory for the source with Payara (`asadmin set-config-dir --directory=xxx`) it would boil down to `echo "mysecretkey" > xxx/dataverse.files.mystore.secret-key` 
Wed, Aug 24, 2022, 07:58:18 - poikilotherm: <@donsizemore:matrix.org "an example in the docs would be ..."> Sure thing!
Wed, Aug 24, 2022, 07:58:36 - poikilotherm: Maybe we should have a section on how to create these aliases in the docs
Wed, Aug 24, 2022, 07:58:46 - poikilotherm: As they are used in a few places
Wed, Aug 24, 2022, 07:58:50 - poikilotherm: So we can crosslink
Wed, Aug 24, 2022, 07:59:03 - poikilotherm: And maybe copy pasta the help page
Wed, Aug 24, 2022, 07:59:14 - poikilotherm: It seems to be hard to find online
Wed, Aug 24, 2022, 07:59:46 - Don Sizemore: well, I would've expected it to want the name of the variable, for example. but sounds like it wants `AS_ADMIN_ALIASPASSWORD` across the board
Wed, Aug 24, 2022, 08:00:38 - poikilotherm: This comes from how password files work, see https://glassfish.org/docs/latest/reference-manual/asadmin.html
Wed, Aug 24, 2022, 08:01:07 - Don Sizemore: oh, I believe you. once I've tested this somewhere I'll submit a doc PR
Wed, Aug 24, 2022, 08:01:25 - poikilotherm: IIRC the installer is using it, too
Wed, Aug 24, 2022, 08:01:54 - Don Sizemore: yes. but the S3 credentials section could use the example for future generations
Wed, Aug 24, 2022, 08:02:16 - poikilotherm: I'd appreciate that!
Wed, Aug 24, 2022, 08:02:34 - poikilotherm: I sticked with the interactive form for the other examples
Wed, Aug 24, 2022, 08:03:21 - poikilotherm: Maybe we can have an explanation also providing the file based example and locate this in a more general section, then do cross linking from the other places to it?
Wed, Aug 24, 2022, 08:04:04 - Don Sizemore: yes, but we need to be certain to state that it always wants that same variable for input.
Wed, Aug 24, 2022, 08:04:20 - poikilotherm: I am certain :-D
Wed, Aug 24, 2022, 08:04:40 - poikilotherm: There would be only 1 exception: if you try to set your admin user password
Wed, Aug 24, 2022, 08:05:04 - poikilotherm: From the docs linked above:

```
--passwordfile
-W

    Specifies the name, including the full path, of a file that contains password entries in a specific format.
    Note that any password file created to pass as an argument by using the --passwordfile option should be protected with file system permissions. Additionally, any password file being used for a transient purpose, such as setting up SSH among nodes, should be deleted after it has served its purpose.
    The entry for a password must have the AS_ADMIN_ prefix followed by the password name in uppercase letters, an equals sign, and the password.
    The entries in the file that are read by the asadmin utility are as follows:

        `AS_ADMIN_PASSWORD=`administration-password

        `AS_ADMIN_MASTERPASSWORD=`master-password
        The entries in this file that are read by subcommands are as follows:

        AS_ADMIN_NEWPASSWORD=`new-administration-password (read by the link:start-domain.html#start-domain-1[`start-domain(1)] subcommand)

        AS_ADMIN_USERPASSWORD=`user-password (read by the link:create-file-user.html#create-file-user-1[`create-file-user(1)] subcommand)

        AS_ADMIN_ALIASPASSWORD=`alias-password (read by the link:create-password-alias.html#create-password-alias-1[`create-password-alias(1)] subcommand)

        AS_ADMIN_MAPPEDPASSWORD=`mapped-password (read by the link:create-connector-security-map.html#create-connector-security-map-1[`create-connector-security-map(1)] subcommand)

        AS_ADMIN_WINDOWSPASSWORD=`windows-password (read by the link:create-node-dcom.html#create-node-dcom-1[`create-node-dcom(1)], install-node-dcom(1), and update-node-dcom(1) subcommands)

        AS_ADMIN_SSHPASSWORD=`sshd-password (read by the link:create-node-ssh.html#create-node-ssh-1[`create-node-ssh(1)], install-node(1), install-node-ssh(1), and update-node-ssh(1) subcommands)

        AS_ADMIN_SSHKEYPASSPHRASE=`sshd-passphrase (read by the link:create-node-ssh.html#create-node-ssh-1[`create-node-ssh(1)], install-node(1), install-node-ssh(1), and update-node-ssh(1) subcommands)

        AS_ADMIN_JMSDBPASSWORD= jdbc-user-password (read by the configure-jms-cluster(1) subcommand)
        These password entries are stored in clear text in the password file. To provide additional security, the create-password-alias subcommand can be used to create aliases for passwords that are used by remote subcommands. The password for which the alias is created is stored in an encrypted form. If an alias exists for a password, the alias is specified in the entry for the password as follows:

```
Wed, Aug 24, 2022, 08:08:10 - poikilotherm: You can see an example for how to change the asadmin user password here: https://github.com/poikilotherm/dataverse/blob/a4ec6f2113e7bbc559c0c62afb95799d0af04af4/modules/container-base/src/main/docker/Dockerfile#L114-L116
Wed, Aug 24, 2022, 08:58:51 - lincoln_: <@oliver:bertuch.name "(You might want to check first w..."> poikilotherm: exactly which line it would be please
Wed, Aug 24, 2022, 08:59:25 - poikilotherm: <@lincoln_:matrix.org "poikilotherm: exactly which line..."> Just search for Xmx
Wed, Aug 24, 2022, 09:00:15 - lincoln_: thanks
Wed, Aug 24, 2022, 09:01:10 - poikilotherm: Remember to restart after changes in domain.xml üôÉ
Wed, Aug 24, 2022, 09:01:34 - lincoln_: thank you ....it seems there are two Xmx..ill delete one
Wed, Aug 24, 2022, 09:02:34 - lincoln_: should I?
Wed, Aug 24, 2022, 09:09:03 - poikilotherm: Can you copy pasta excerpts?
Wed, Aug 24, 2022, 09:09:23 - poikilotherm: Sth like `grep -C10 Xmx domain.xml`
Wed, Aug 24, 2022, 09:11:06 - lincoln_: yeah i still see two of them
Wed, Aug 24, 2022, 09:14:02 - poikilotherm: Can you please paste those here? (without secrets - but there shouldn't be any)
Wed, Aug 24, 2022, 09:15:11 - lincoln_: ```
<jvm-options>-Xmx4303m</jvm-options>
<jvm-options>-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl\</jvm-options>
</java-config>
<availability-service>
<web-container-availability>\</web-container-availability>
<ejb-container-availability sfsb-store-pool-name="jdbc/hastore">\</ejb-container-availability>
</availability-service>
<network-config>
<protocols>
<protocol name="http-listener-1">

<jvm-options>[9|]--add-opens=java.base/java.net=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.base/java.nio=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.base/java.util=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.base/sun.nio.ch=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.management/sun.management=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.base/sun.net.www.protocol.jrt=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.base/sun.net.www.protocol.jar=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.naming/javax.naming.spi=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED</jvm-options>
<jvm-options>[9|]--add-opens=java.logging/java.util.logging=ALL-UNNAMED</jvm-options>
<jvm-options>-Xmx512m</jvm-options>
<jvm-options>-XX:NewRatio=2</jvm-options>
<jvm-options>-XX:+UnlockDiagnosticVMOptions</jvm-options>
<jvm-options>-Dcom.sun.enterprise.config.config_environment_factory_class=com.sun.enterprise.config.serverbeans.AppserverConfigEnvironmentFactory</jvm-options>
<jvm-options>-Djava.awt.headless=true</jvm-options>
<jvm-options>-Djava.security.auth.login.config=${com.sun.aas.instanceRoot}/config/login.conf</jvm-options>
<jvm-options>-Djava.security.policy=${com.sun.aas.instanceRoot}/config/server.policy</jvm-options>
```
Wed, Aug 24, 2022, 09:16:03 - poikilotherm: Hmm that Xmx512m shouldn't be there
Wed, Aug 24, 2022, 09:17:25 - lincoln_: okay ill delete that

Wed, Aug 24, 2022, 09:18:48 - poikilotherm: Hmm I see it here too
Wed, Aug 24, 2022, 09:18:55 - poikilotherm: So should be good to go with it+
Wed, Aug 24, 2022, 09:19:20 - poikilotherm: It's the default config getting overriden by your settings
Wed, Aug 24, 2022, 09:19:52 - poikilotherm: Well, depending on what you are trying to do in your installation, 4GiB might just be not enough
Wed, Aug 24, 2022, 09:20:14 - poikilotherm: Have you verified the JVM process uses the memory?
Wed, Aug 24, 2022, 09:20:23 - poikilotherm: Are you using file ingest / full text indexing?
Wed, Aug 24, 2022, 09:21:22 - lincoln_: ingest/full tesxt indexing (currently stopped)
Ill have a look over other JVM process too
Wed, Aug 24, 2022, 09:21:29 - lincoln_: thank you
Wed, Aug 24, 2022, 09:21:37 - poikilotherm: Well you should provide loads of more RAM then
Wed, Aug 24, 2022, 09:21:55 - poikilotherm: Full text indexing and ingest stuff can easily get very memory intensive
Wed, Aug 24, 2022, 09:22:40 - lincoln_: ah okay.......any disadvantage of increasing more RAM say to 50%  of available RAM
Wed, Aug 24, 2022, 09:23:13 - poikilotherm: Depends on how much "available RAM" would be :-D
Wed, Aug 24, 2022, 09:24:14 - poikilotherm: Here's what I would do: if your VM/... has 16GiB, give Dataverse 70% for heap and DO MONITORING. Without you will not know about peaks etc
Wed, Aug 24, 2022, 09:24:33 - poikilotherm: You can downsize memory very easily if you are seeing you will not need that much
Wed, Aug 24, 2022, 09:24:35 - pdurbin: The installer sets the heap to 50% of available RAM: https://github.com/IQSS/dataverse/blob/v5.11.1/scripts/installer/install.py#L428
Wed, Aug 24, 2022, 09:25:28 - lincoln_: thank you poikilotherm  pdurbin ..
one last question
Wed, Aug 24, 2022, 09:26:16 - poikilotherm: Usually you'd go for 1GiB of RAM for OS in classic installations.
Wed, Aug 24, 2022, 09:26:27 - poikilotherm: 2-4GiB for native memory
Wed, Aug 24, 2022, 09:26:39 - poikilotherm: Then it's about 10-11GiB for heap
Wed, Aug 24, 2022, 09:26:47 - lincoln_: I am currently doing monitoring using " top -i "
is there also anything from payara gui 
Wed, Aug 24, 2022, 09:26:51 - poikilotherm: Again, in a 16GiB installatio
Wed, Aug 24, 2022, 09:27:33 - poikilotherm: lincoln_: while top -i is fine for viewing at the recent situation, you shouldn't be relying on this for serious operations
Wed, Aug 24, 2022, 09:28:10 - poikilotherm: You definitely would wan't to monitor the /metrics endpoint, as it reveals heap and nonheap usage
Wed, Aug 24, 2022, 09:28:28 - poikilotherm: This is very internal to the JVM and is hard to look at from the outside (also possible)
Wed, Aug 24, 2022, 09:29:09 - poikilotherm: I guess these days most folks go for stuff like Prometheus + Grafana for time series monitoring
Wed, Aug 24, 2022, 09:29:32 - poikilotherm: (But there are other options, too)
Wed, Aug 24, 2022, 09:30:06 - lincoln_: i think Prometheus + grafana will do the trick for me...thanks
Wed, Aug 24, 2022, 09:32:21 - poikilotherm: If you want to try less complicated setups, take a look at collectd and the JMX plugin.
Wed, Aug 24, 2022, 09:32:31 - poikilotherm: Prometheus is a beast on its own
Wed, Aug 24, 2022, 09:33:10 - lincoln_: more options --->more confusionüòµ‚Äçüí´ 
Wed, Aug 24, 2022, 09:33:27 - poikilotherm: Yeah, a DevOps life is hard
Wed, Aug 24, 2022, 09:34:14 - lincoln_: haha.....
also do we also need : -Xms2048m
Wed, Aug 24, 2022, 09:34:21 - lincoln_: in domain.xml
Wed, Aug 24, 2022, 09:35:02 - poikilotherm: Wait what? I thought there is only 1 occurance now which is 4GiB?
Wed, Aug 24, 2022, 09:35:08 - poikilotherm: Oh sorry misread
Wed, Aug 24, 2022, 09:35:17 - poikilotherm: Xm**s**
Wed, Aug 24, 2022, 09:35:27 - poikilotherm: Message deleted
Wed, Aug 24, 2022, 09:36:04 - poikilotherm: Yeah, that is the _initial_ heap size
Wed, Aug 24, 2022, 09:36:09 - lincoln_: <@lincoln_:matrix.org "haha....."> no this xms2048 , i copied it from the manual :p
Wed, Aug 24, 2022, 09:36:23 - poikilotherm: The JVM will allocate this during startup and grow from there
Wed, Aug 24, 2022, 09:37:29 - lincoln_: thanks a ton poikilotherm 
Wed, Aug 24, 2022, 09:40:27 - poikilotherm: Good morning pdurbin 
Wed, Aug 24, 2022, 09:41:09 - pdurbin: üëã
Wed, Aug 24, 2022, 09:41:12 - poikilotherm: I just dropped https://github.com/IQSS/dataverse/pull/8933
Wed, Aug 24, 2022, 09:41:43 - pdurbin: Yes, I was just looking at https://dataverse-guide--8933.org.readthedocs.build/en/8933/container/ ! A whole new guide! The Container Guide!
Wed, Aug 24, 2022, 09:43:00 - pdurbin: How much does this overlap with carlsonp 's pull request?
Wed, Aug 24, 2022, 09:43:25 - pdurbin: This one about docker-compose: https://github.com/IQSS/dataverse/pull/8709
Wed, Aug 24, 2022, 09:44:06 - pdurbin: Can you two join forces? üòÑ
Wed, Aug 24, 2022, 09:45:14 - poikilotherm: Well as he is already doing separated images for the different components, it might be useful
Wed, Aug 24, 2022, 09:45:44 - poikilotherm: The base image is much more restricted
Wed, Aug 24, 2022, 09:46:14 - Benjamin (SODHA): Greetings, data munchers!
Wed, Aug 24, 2022, 09:46:22 - Benjamin (SODHA): It's been a while since I last came here, phew
Wed, Aug 24, 2022, 09:46:22 - poikilotherm: The goal is using this stuff in dev + production, so you should only add stuff you really need
Wed, Aug 24, 2022, 09:46:35 - poikilotherm: Hi Benjamin (SODHA) 
Wed, Aug 24, 2022, 09:46:38 - poikilotherm: Welcome back
Wed, Aug 24, 2022, 09:47:09 - poikilotherm: Folks at Uni Leuven have been really hacking on some stuff
Wed, Aug 24, 2022, 09:47:15 - Benjamin (SODHA) set a profile picture
Wed, Aug 24, 2022, 09:47:20 - poikilotherm: Good to have you back, too!
Wed, Aug 24, 2022, 09:47:26 - Benjamin (SODHA): Hey there poikilotherm 
Wed, Aug 24, 2022, 09:47:33 - Benjamin (SODHA): Have they now?
Wed, Aug 24, 2022, 09:47:37 - pdurbin: yeah, where ya been Benjamin (SODHA) 
Wed, Aug 24, 2022, 09:47:38 - Benjamin (SODHA): KU Leuven?
Wed, Aug 24, 2022, 09:47:54 - Benjamin (SODHA): pdurbin: Buried underneath data, of course!
Wed, Aug 24, 2022, 09:48:09 - pdurbin: you gotta munch your way out
Wed, Aug 24, 2022, 09:48:23 - Benjamin (SODHA): Haha I will üç´
Wed, Aug 24, 2022, 09:48:25 - Benjamin (SODHA): Ever since we've launched our installation, it's been pouring in!
Wed, Aug 24, 2022, 09:48:27 - pdurbin: Here's the latest demo video from KU Leuven: https://groups.google.com/g/dataverse-community/c/0WmMONTkzOA/m/DgshmqtnAQAJ
Wed, Aug 24, 2022, 09:48:36 - Benjamin (SODHA): Well, not really, but we do have 80+ published datasets
Wed, Aug 24, 2022, 09:48:44 - Benjamin (SODHA): We are very happy that we can rely on Dataverse :)
Wed, Aug 24, 2022, 09:49:51 - Benjamin (SODHA): It would seem that, between DANS and KU Leuven, Dutch speakers have lots of ideas to improve Dataverse!
Wed, Aug 24, 2022, 09:50:09 - pdurbin: The Dutch. They are never satisfied.
Wed, Aug 24, 2022, 09:50:48 - Benjamin (SODHA): I was wondering if anyone had encountered this problem since transitioning to DV v5?
Wed, Aug 24, 2022, 09:50:49 - Benjamin (SODHA): https://github.com/IQSS/dataverse/issues/8921
Wed, Aug 24, 2022, 09:51:07 - Benjamin (SODHA): It's not you (DV), it's me (us, SODHA)? ü§î
Wed, Aug 24, 2022, 09:52:18 - pdurbin: Ah, it's on my list to reply to that. But I haven't dug in. I feel like I've seen this on my laptop but I'm not sure when. You can reproduce it easily?
Wed, Aug 24, 2022, 09:53:24 - Benjamin (SODHA): Yes: all you need is a Dataverse installation that used to exist in version 4
Wed, Aug 24, 2022, 09:53:26 - poikilotherm: pdurbin: is this a duplicate of https://github.com/IQSS/dataverse/issues/8832
Wed, Aug 24, 2022, 09:53:57 - pdurbin: Pretty much, yeah. I thought this was fixed in 5.11.1.
Wed, Aug 24, 2022, 09:54:08 - poikilotherm: It has the 5.12 milestone on it
Wed, Aug 24, 2022, 09:54:12 - Benjamin (SODHA): Oh yup, that looks like it
Wed, Aug 24, 2022, 09:54:17 - Benjamin (SODHA): My bad üôÅ
Wed, Aug 24, 2022, 09:54:26 - pdurbin: Oh! Hmm.
Wed, Aug 24, 2022, 09:54:27 - poikilotherm: Yupp went into https://github.com/IQSS/dataverse/pull/8834
Wed, Aug 24, 2022, 09:54:36 - Benjamin (SODHA): Good eyes there poikilotherm, thanks!
Wed, Aug 24, 2022, 09:55:01 - pdurbin: Yeah, should be fixed in the next release.
Wed, Aug 24, 2022, 09:55:19 - pdurbin: Benjamin (SODHA): do you mind closing that issue as a duplicate?
Wed, Aug 24, 2022, 09:55:34 - Benjamin (SODHA): pdurbin:  Will do üëçÔ∏è
Wed, Aug 24, 2022, 09:55:36 - poikilotherm: I just did mauahahahahahahaha
Wed, Aug 24, 2022, 09:55:40 - pdurbin: heh
Wed, Aug 24, 2022, 09:56:35 - Benjamin (SODHA): <@oliver:bertuch.name "I just did mauahahahahahahaha"> I feel like the Flash just ran past me!
Wed, Aug 24, 2022, 09:57:06 - pdurbin: poikilotherm: now please go close all the other open issues that should be closed. Get us down from 1,248 open issues to something smaller.
Wed, Aug 24, 2022, 09:57:25 - pdurbin: You should see poikilotherm on a bike. Hard to keep up.
Wed, Aug 24, 2022, 09:57:41 - poikilotherm: <@pdurbin:matrix.org "poikilotherm: now please go clos..."> No problemo. I'll heat the API script and just nuke 'em all üòù
Wed, Aug 24, 2022, 09:57:53 - pdurbin: üî•
Wed, Aug 24, 2022, 09:58:29 - poikilotherm: It was a hot day - you were just holding back, so I could follow around üòìüí¶üö≤Ô∏è
Wed, Aug 24, 2022, 09:59:36 - poikilotherm: Was a fun ride though!
Wed, Aug 24, 2022, 10:00:13 - Benjamin (SODHA): <@pdurbin:matrix.org "You should see poikilotherm on a..."> poikilotherm is probably inspired by Peter Sloterdijk, German biker-philosopher extraordinaire!
Wed, Aug 24, 2022, 10:00:15 - poikilotherm: I now do know what it's like when pdurbin says he "is about to bike to work". I'm kinda jealous!
Wed, Aug 24, 2022, 10:01:32 - poikilotherm: pdurbin: we could create a Dataverse TV channel with "do a recording of your bike way to work" :-D
Wed, Aug 24, 2022, 10:02:01 - poikilotherm: Might be interesting to see all the different ways to bike into Dataverse installation places
Wed, Aug 24, 2022, 10:03:13 - pdurbin: and release it on bike to work day: https://en.wikipedia.org/wiki/Bike-to-Work_Day
Wed, Aug 24, 2022, 10:03:41 - Benjamin (SODHA): Here at SODHA, we're really excited to finally transition to version 5+ of Dataverse! We've fooled around a lot with our own, now-version 5 test instance
Wed, Aug 24, 2022, 10:04:00 - Benjamin (SODHA): We're especially glad that several problems with tabular data files, esp. Excel files, were solved with v5
Wed, Aug 24, 2022, 10:04:30 - pdurbin: Benjamin (SODHA): glad to hear. Bug fixes are important. Any features you're excited about?
Wed, Aug 24, 2022, 10:05:47 - Benjamin (SODHA): pdurbin: I like a lot the revamping of the right part of this section
Wed, Aug 24, 2022, 10:05:49 - Benjamin (SODHA) sent an image. (Media omitted)
Wed, Aug 24, 2022, 10:06:00 - Benjamin (SODHA): The bigger, more visible "Access Dataset" button
Wed, Aug 24, 2022, 10:06:17 - Benjamin (SODHA): + the freshly relabeled "Contacter Owner" button
Wed, Aug 24, 2022, 10:06:39 - Benjamin (SODHA): Which helps distinguishing it from contacting the Dataverse administration on the homepage
Wed, Aug 24, 2022, 10:07:23 - Benjamin (SODHA): Altogether it looks better and cleaner I think
Wed, Aug 24, 2022, 10:08:13 - pdurbin: We have our (sadly, former) UI/UX expert Tania to thank for the redesign.
Wed, Aug 24, 2022, 10:08:48 - Benjamin (SODHA): Oh no, Tania has left IQSS? üòÆ
Wed, Aug 24, 2022, 10:08:59 - pdurbin: Yeah, she posted about it on the list. One sec.
Wed, Aug 24, 2022, 10:09:20 - pdurbin: her farewell: https://groups.google.com/g/dataverse-community/c/JWKVFzt7ugw/m/WiaYa4pDAQAJ
Wed, Aug 24, 2022, 10:11:35 - Benjamin (SODHA): I pulled out the list of new things we like about DV 5!
Wed, Aug 24, 2022, 10:12:15 - Benjamin (SODHA): - 5.7 reinforced custom controlled vocabulary support -- we have yet to see if that solves the interference of templates but I'm excited!
Wed, Aug 24, 2022, 10:12:44 - Benjamin (SODHA): - 5.7 dataset workflow tags -- not sure we'll make use of that right away but it looks very interesting; I wonder if our users will use them on their own
Wed, Aug 24, 2022, 10:12:54 - Benjamin (SODHA): - 5.7 breadcrumbs!
Wed, Aug 24, 2022, 10:13:12 - Benjamin (SODHA): - 5.7 better iconography to distinguish datasets & files
Wed, Aug 24, 2022, 10:13:30 - Benjamin (SODHA): - 5.8 embargos -- not our priority, but we know many users requested it
Wed, Aug 24, 2022, 10:13:44 - Benjamin (SODHA): - 5.9 dynamic ORCIDs -- vv nice
Wed, Aug 24, 2022, 10:14:12 - Benjamin (SODHA): - 5.9 specific user role just for receiving access requests -- excellent! we requested that
Wed, Aug 24, 2022, 10:15:14 - Benjamin (SODHA): - 5.10 greater control of licensing options incl. by default -- another great improvement üôè
Wed, Aug 24, 2022, 10:16:02 - Benjamin (SODHA): Oh and two golden ones
Wed, Aug 24, 2022, 10:16:25 - Benjamin (SODHA): - 5.4 handling special characters (vital for us Dutch- and French-speaking country)
Wed, Aug 24, 2022, 10:16:38 - Benjamin (SODHA): - 5.5 possibility to sort out users on admin panel -- great!
Wed, Aug 24, 2022, 10:17:27 - Benjamin (SODHA): Version 4 is kinda mean in this respect because the cursor changes into the "pointing hand" icon when you hover over the admin panel column labels, but they aren't actually dynamic üò≠
Wed, Aug 24, 2022, 10:20:37 - pdurbin: Heh. So mean. Wow! I'm glad I asked! This is quite a morale boost! I'll have to send it around internally. Thanks!
Wed, Aug 24, 2022, 10:22:00 - Benjamin (SODHA): There's actually more to it :D because I wanted to make sure my manager understand why we would want to put our developer (Youssef! whom you & Oliver have met -- so many years ago, before the War) on the task of updating our installations
Wed, Aug 24, 2022, 10:23:02 - pdurbin: Youssef who bought me a beer and waffles at FOSDEM. üç∫ üßá
Wed, Aug 24, 2022, 10:23:35 - poikilotherm: The very same place you met with our friendly Datalad folks :-)
Wed, Aug 24, 2022, 10:23:39 - Benjamin (SODHA): <@pdurbin:matrix.org "Youssef who bought me a beer and..."> It's true, you had a privileged encounter!
Wed, Aug 24, 2022, 10:23:53 - poikilotherm: FOSDEM is great
Wed, Aug 24, 2022, 10:24:00 - poikilotherm: Maybe we should meet again there :-D
Wed, Aug 24, 2022, 10:24:18 - Benjamin (SODHA): I've never attended FOSDEM :x My brother, who is an actual computer developer, often does
Wed, Aug 24, 2022, 10:24:26 - poikilotherm: European Dataverse Hackathon and invite friends :-)
Wed, Aug 24, 2022, 10:25:06 - poikilotherm: We could even invite "foes" like Dataverse's evil sister
Wed, Aug 24, 2022, 10:25:17 - poikilotherm: (Those are great people)
Wed, Aug 24, 2022, 10:25:34 - pdurbin: poikilotherm: you came to the Dataverse meetup Benjamin (SODHA) hosted but not FOSDEM! Crazy!
Wed, Aug 24, 2022, 10:26:23 - pdurbin: Benjamin (SODHA) even had the Dataverse meetup as a FOSDEM "fringe" event. Perfect. We should do this again.
Wed, Aug 24, 2022, 10:26:57 - pdurbin: There's a whole science track at FOSDEM. Or whatever it's called. Great people. Great sessions.
Wed, Aug 24, 2022, 10:27:20 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA) even had the Da..."> We were sneaky like that
Wed, Aug 24, 2022, 10:28:14 - Benjamin (SODHA): pdurbin!! How is the office doggo doing???
Wed, Aug 24, 2022, 10:28:18 - Benjamin (SODHA): Davies, is it?
Wed, Aug 24, 2022, 10:28:56 - pdurbin: Oh dear. If you didn't like the news on Tania you will like the new on Davis even less.
Wed, Aug 24, 2022, 10:29:18 - pdurbin: Let's just say it was uttered, "Can 2020 get any worse?!?"
Wed, Aug 24, 2022, 10:29:18 - Benjamin (SODHA): Noooo
Wed, Aug 24, 2022, 10:29:29 - Benjamin (SODHA): Don't tell me :(
Wed, Aug 24, 2022, 10:29:37 - pdurbin: Also, Danny left too. He also posted on the list. I can dig it up if you like.
Wed, Aug 24, 2022, 10:29:48 - Benjamin (SODHA): As in, left left?
Wed, Aug 24, 2022, 10:30:04 - Benjamin (SODHA): Or just relocated to pursue office doggoing career elsewhere?
Wed, Aug 24, 2022, 10:30:28 - pdurbin: Danny's farewell: https://groups.google.com/g/dataverse-community/c/4bbT1N07mCA/m/cageRO_aFgAJ
Wed, Aug 24, 2022, 10:31:00 - pdurbin: he's at a doggo-related startup now, genetic testing, I believe
Wed, Aug 24, 2022, 10:33:08 - thierry_it joined the room
Wed, Aug 24, 2022, 10:33:56 - thierry_it: Hi everyone. Im new to this group. Hope you all are doing fine :-)
Wed, Aug 24, 2022, 10:34:43 - poikilotherm: Welcome to Dataverse community thierry_it :-)
Wed, Aug 24, 2022, 10:34:54 - thierry_it: Im also new to Dataverse and i would like to know if this is the correct place to place some questions i have
Wed, Aug 24, 2022, 10:35:17 - poikilotherm: Depends on if you want to talk about https://dataverse.org or the MS product
Wed, Aug 24, 2022, 10:35:44 - thierry_it: Yeah, The Dataverse.org. Not the MS
Wed, Aug 24, 2022, 10:36:01 - poikilotherm: You've come to the right place :-)
Wed, Aug 24, 2022, 10:36:02 - pdurbin: I'm pretty sure thierry_it started this thread: https://groups.google.com/g/dataverse-community/c/OChcEeZadHY/m/ZBNquIxbAQAJ . Please go ahead! Welcome!
Wed, Aug 24, 2022, 10:36:16 - thierry_it: Happy to hear that.
Wed, Aug 24, 2022, 10:37:07 - thierry_it: Im left to learn on my own, and lost in docs
Wed, Aug 24, 2022, 10:37:40 - Benjamin (SODHA): Hi thierry_it, Ben from SODHA, Belgium here üëã
Wed, Aug 24, 2022, 10:38:02 - thierry_it: So please be patient with my questions, may be are reaally basics
Wed, Aug 24, 2022, 10:38:34 - thierry_it: I would certainly like some help about creating users for Dataverse, is this easy ?
Wed, Aug 24, 2022, 10:39:14 - pdurbin: Yes? I hope so? üòÑ
Wed, Aug 24, 2022, 10:39:31 - pdurbin: Most users create themselves! They sign up, I mean. üòÑ
Wed, Aug 24, 2022, 10:39:53 - thierry_it: So, i dont create users from inside the Admin page ?
Wed, Aug 24, 2022, 10:40:10 - pdurbin: Nope.
Wed, Aug 24, 2022, 10:41:39 - pdurbin: These are the ways users can log in (based on how you've configured Dataverse): https://guides.dataverse.org/en/5.11.1/user/account.html#account-log-in-options
Wed, Aug 24, 2022, 10:42:21 - pdurbin: If you go to https://dataverse.harvard.edu you can see several options under "Sign Up".
Wed, Aug 24, 2022, 10:42:39 - pdurbin: But we (Harvard Dataverse) don't have all the options configured.
Wed, Aug 24, 2022, 10:42:55 - pdurbin: Like the crazy one poikilotherm added. üòÑ
Wed, Aug 24, 2022, 10:43:20 - poikilotherm: But you can still pre-register builtin users! There are installations using this. But private ones only, I guess
Wed, Aug 24, 2022, 10:43:43 - thierry_it: <@pdurbin:matrix.org "These are the ways users can log..."> So, thats the key point. Im just configuring my site, and i dont know which way to go
Wed, Aug 24, 2022, 10:44:12 - poikilotherm: You're running a public facing installation?
Wed, Aug 24, 2022, 10:44:49 - thierry_it: Not yet
Wed, Aug 24, 2022, 10:45:07 - poikilotherm: But you aim for it to be public accessible?
Wed, Aug 24, 2022, 10:45:39 - thierry_it: One minute im asking my project leader
Wed, Aug 24, 2022, 10:46:37 - Benjamin (SODHA): If you're going for a more "select" philosophy regarding user admission, you can also heavily restrict their by-default prerogatives by configuring user roles in the admin panel (homepage, Edit > Permissions)
Wed, Aug 24, 2022, 10:47:15 - Benjamin (SODHA): pdurbin So quite the turnover then in recent years? üòÆ
Wed, Aug 24, 2022, 10:47:56 - pdurbin: Benjamin (SODHA): sigh, yes. Our front end guy Mike is gone too. And Merce, of course. I assume you heard she left.
Wed, Aug 24, 2022, 10:48:41 - Benjamin (SODHA): Yup :(
Wed, Aug 24, 2022, 10:49:06 - Benjamin (SODHA): I cited one of her papers recently
Wed, Aug 24, 2022, 10:49:24 - Benjamin (SODHA): Is everybody getting replaced or?
Wed, Aug 24, 2022, 10:50:33 - pdurbin: Well, we'll hire a new Danny first. That's the plan anyway.
Wed, Aug 24, 2022, 10:52:12 - pdurbin: thierry_it: does your organization have some kind of centralized login system? OAuth? Shibboleth? OIDC? CAS? LDAP? Something like that?
Wed, Aug 24, 2022, 10:54:14 - Benjamin (SODHA): Currently reading a book about design, Giles Colborne's "Simple and Usable"
Wed, Aug 24, 2022, 10:54:38 - Benjamin (SODHA): He goes to town on "expert users" who are very pleasant to engage with but who will make unrepresentative requests and complain about the tiniest things
Wed, Aug 24, 2022, 10:54:54 - Benjamin (SODHA): Makes me self-conscious about some of the issues I might have opened on GitHub üòÖ
Wed, Aug 24, 2022, 10:56:45 - poikilotherm: <@benjamin_peuch:matrix.org "Makes me self-conscious about so..."> Welcome to imposter club. Here's your member card ü™™
Wed, Aug 24, 2022, 10:57:56 - poikilotherm: Sometime it's hard to focus and decide on what users might need, especially as our community is so diverse
Wed, Aug 24, 2022, 10:59:04 - poikilotherm: Seems like KU Leuven is doing bold moves on this part. It sounded like they try to conduct use case surveys and listen very closely to their users.
Wed, Aug 24, 2022, 10:59:18 - poikilotherm: And they have a bunch of people working on this
Wed, Aug 24, 2022, 11:00:08 - poikilotherm: Which is very unusual - so far I only know about IQSS having as many people working on it. (Sparing the CeON folks from Warsaw here as they created a hard fork)
Wed, Aug 24, 2022, 11:00:39 - Benjamin (SODHA): We really ought to partner up. I'll tug at my boss's sleeve about that
Wed, Aug 24, 2022, 11:03:58 - pdurbin: recently Texas A&M University published a usability study of Dataverse: https://doi.org/10.7191/jeslib.2022.1233
Wed, Aug 24, 2022, 11:04:30 - pdurbin: my summary: somewhat hard for new users
Wed, Aug 24, 2022, 11:04:48 - pdurbin: but overall positive, I'd say
Wed, Aug 24, 2022, 11:06:03 - Benjamin (SODHA): I'm going to talk about Dataverse quite a bit in an upcoming paper!
Wed, Aug 24, 2022, 11:06:41 - Benjamin (SODHA): One of my key points will likely be: we must bear in mind when looking at software like DV that it's a specialized tool for a very specialized audience, and many expected users are (or should be) information specialists themselves to some degree
Wed, Aug 24, 2022, 11:07:10 - Benjamin (SODHA): Now, that is not to say that we can get away with bad design or expect our users to do more than the average user
Wed, Aug 24, 2022, 11:07:25 - Benjamin (SODHA): But it is a fairly niche audience
Wed, Aug 24, 2022, 11:08:04 - pdurbin: Yep. Absolutely.
Wed, Aug 24, 2022, 11:08:53 - pdurbin: Knowledge workers, if you will.
Wed, Aug 24, 2022, 11:09:16 - Benjamin (SODHA): Having used not too long ago several instances of catalogues to complete my studies, I can say that Dataverse is far from the worse of the lot
Wed, Aug 24, 2022, 11:15:33 - pdurbin: Phew. We have UX students from Simmons College (one of whom, Liz, we later hired) to thank for determining how unusable our 3.x version was. This lead to a rewrite that became 4.0.
Wed, Aug 24, 2022, 11:17:45 - Benjamin (SODHA): Do you have old screenshots of v3 around? :D
Wed, Aug 24, 2022, 11:17:55 - Benjamin (SODHA): I don't mean to poke fun. Just curious
Wed, Aug 24, 2022, 11:20:20 - poikilotherm: Sorry pdurbin I just opened a new issue. üò¨ https://github.com/IQSS/dataverse/issues/8934
Wed, Aug 24, 2022, 11:20:31 - poikilotherm: I'm no good at closing them
Wed, Aug 24, 2022, 11:21:10 - poikilotherm: At least I'm working on these myself ü§ó
Wed, Aug 24, 2022, 11:22:08 - pdurbin: Benjamin (SODHA): this installation is still on DVN 3.x: http://dataverse.acg.maine.edu
Wed, Aug 24, 2022, 11:22:52 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): this installat..."> Ah, I think GlassFish needs some configuration here before the website can be accessed?
Wed, Aug 24, 2022, 11:22:55 - thierry_it: <@oliver:bertuch.name "But you aim for it to be public ..."> The answer: We want internal users to have access based on roles, and yes public users which can access just certain documents based on some rules
Wed, Aug 24, 2022, 11:23:52 - pdurbin: Benjamin (SODHA): whoops! Please try http://dataverse.acg.maine.edu/dvn/ (via https://dataverse.org/installations )
Wed, Aug 24, 2022, 11:24:48 - poikilotherm: <@thierry_it:matrix.org "The answer: We want internal use..."> Great! Looks like you'd want to answer pdurbin question for yourself next :-)
Wed, Aug 24, 2022, 11:25:03 - poikilotherm: > thierry_it: does your organization have some kind of centralized login system? OAuth? Shibboleth? OIDC? CAS? LDAP? Something like that?


Wed, Aug 24, 2022, 11:27:18 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): whoops! Please..."> Many thanks!
Wed, Aug 24, 2022, 11:27:58 - pdurbin: Benjamin (SODHA): sure, I can also dig up the 3.x usability study if you like. It was kind of a game changer. Or at least a wake up call.
Wed, Aug 24, 2022, 11:31:48 - pdurbin: poikilotherm: yes, you are very good at opening issues. And closing them with pull requests! Please keep them coming!
Wed, Aug 24, 2022, 11:49:42 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): sure, I can al..."> I won't be needing it for now, but thanks a lot! You are as resourceful as ever üòä
Wed, Aug 24, 2022, 11:49:49 - Benjamin (SODHA): An information specialist for sure
Wed, Aug 24, 2022, 11:56:03 - Benjamin (SODHA): My day comes at an end, and my cup runneth over
Wed, Aug 24, 2022, 11:56:17 - Benjamin (SODHA): Have a great day, pdurbin, and a nice evening, poikilotherm!
Wed, Aug 24, 2022, 12:01:52 - thierry_it: <@oliver:bertuch.name "> thierry_it: does your organiza..."> Sure, we have LDAP and also OAM. We would like to use OAM
Wed, Aug 24, 2022, 12:12:41 - poikilotherm: <@thierry_it:matrix.org "Sure, we have LDAP and also OAM...."> What type of OAM is this?
Wed, Aug 24, 2022, 13:51:32 - pdurbin: thierry_it: I have the same question. üòÑ Is it some Oracle thing?
Wed, Aug 24, 2022, 17:21:17 - pdurbin: Good chat today. Have a good night, everyone. üòÑ
Thu, Aug 25, 2022, 04:49:43 - Benjamin (SODHA): Behold! üîÆ
Thu, Aug 25, 2022, 06:16:03 - pdurbin: Back for more, eh? üòÑ
Thu, Aug 25, 2022, 06:17:31 - Benjamin (SODHA): I'm hooked ü™ù
Thu, Aug 25, 2022, 06:48:13 - pdurbin: Benjamin (SODHA): is there a preprint of your paper?
Thu, Aug 25, 2022, 06:48:38 - Benjamin (SODHA): pdurbin: Not yet. I'm still doing a literature review
Thu, Aug 25, 2022, 06:48:52 - Benjamin (SODHA): But I'm planning to submit it to open access journals. First candidate is the IJDC
Thu, Aug 25, 2022, 06:49:18 - Benjamin (SODHA): http://www.ijdc.net/
Thu, Aug 25, 2022, 06:54:15 - Benjamin (SODHA): Brb nom nom lunch üçé
Thu, Aug 25, 2022, 06:57:49 - pdurbin: "This journal provides immediate open access to its content on the principle that making research freely available to the public supports a greater global exchange of knowledge." Awesome.
Thu, Aug 25, 2022, 09:06:04 - Benjamin (SODHA): <@pdurbin:matrix.org ""This journal provides immediate..."> I know, right? And I've read several good papers in it
Thu, Aug 25, 2022, 09:07:14 - pdurbin: It would be fun to publish something in JOSS: https://joss.theoj.org
Thu, Aug 25, 2022, 09:07:58 - Benjamin (SODHA): Oof, too much akin to pure, actual computer science for me üòÖ But yay for open access!
Thu, Aug 25, 2022, 09:08:27 - pdurbin: They do all their reviews on GitHub! Perfect! üòÑ
Thu, Aug 25, 2022, 09:09:53 - pdurbin: Now you've got me thinking of the next Dataverse gathering. Not the annual community meeting. Smaller gatherings like the one you hosted. Where should the next one be?
Thu, Aug 25, 2022, 09:25:04 - Benjamin (SODHA): Why Tanzania, of course!
Thu, Aug 25, 2022, 09:25:15 - Benjamin (SODHA): üåçÔ∏è üáπüáø
Thu, Aug 25, 2022, 09:25:40 - Benjamin (SODHA): More seriously, I cannot speak for them but I'm sure DANS would love to host
Thu, Aug 25, 2022, 09:26:10 - Benjamin (SODHA): Hopefully I can get Slava drunk enough so that he'll reveal the secret technique they have devised to do massive data transfers to or from Dataverse (I'm not even sure anymore now; it used to be a big worry of ours)
Thu, Aug 25, 2022, 09:26:28 - Benjamin (SODHA): Also, thick Dutch sammiches ü•™ ü•™ ü•™
Thu, Aug 25, 2022, 09:28:25 - pdurbin: Sure! I've never been to Africa.
Thu, Aug 25, 2022, 09:29:57 - Benjamin (SODHA): I've only been to R√©union island
Thu, Aug 25, 2022, 09:30:27 - Benjamin (SODHA): What about you, poikilotherm?
Thu, Aug 25, 2022, 09:47:28 - poikilotherm: Oh I'll go anywhere as long as there is funding
Thu, Aug 25, 2022, 09:47:42 - poikilotherm: Happy to give any talk you want 
Thu, Aug 25, 2022, 09:48:11 - pdurbin: same
Thu, Aug 25, 2022, 10:17:53 - pdurbin: Benjamin (SODHA): my daughter's friend (13 or so) just got back from Brussels and loved it. She talked about some sort of carpet in the main square. And she speaks French (from Quebec) and enjoyed that. And the food, especially chocolate.
Thu, Aug 25, 2022, 10:24:26 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): my daughter's ..."> Wonderful!
Thu, Aug 25, 2022, 10:24:32 - Benjamin (SODHA) sent an image. (Media omitted)
Thu, Aug 25, 2022, 10:24:44 - Benjamin (SODHA): It's all flowers üåª
Thu, Aug 25, 2022, 10:25:14 - Benjamin (SODHA): Brussels has many flaws, but we usually seduce most everybody either with beer or with chocolate. Or both #sneaky
Thu, Aug 25, 2022, 10:25:27 - pdurbin: Wow, gorgeous. Good timing on her family's part. üòÑ
Thu, Aug 25, 2022, 10:26:08 - poikilotherm: Benjamin (SODHA): you had me at "choc"
Thu, Aug 25, 2022, 10:27:52 - pdurbin: bike-commute.jpg (Media omitted)
Thu, Aug 25, 2022, 10:28:31 - pdurbin: poikilotherm: that was on my ride home yesterday. Ice cream to the left. School with the Dataverse logo on the right, if you remember.
Thu, Aug 25, 2022, 11:11:55 - poikilotherm: It actually looks like they want to go inside the building straight ahead. Maybe some ice cream drive through takeout üöÄüò∫üç¶üçßüç®
Thu, Aug 25, 2022, 11:15:12 - pdurbin: What's cool is that a cop rolled up and blocked traffic with his cruiser and waved all the cyclists through.
Thu, Aug 25, 2022, 11:21:01 - poikilotherm: üëç
Thu, Aug 25, 2022, 11:21:33 - poikilotherm: pdurbin: a neat article on using Arquilian https://itnext.io/testing-jakarta-ee-9-web-application-in-a-servlet-container-with-arquillian-ec2d42947cd
Thu, Aug 25, 2022, 11:23:58 - pdurbin: oh, I thought it was dead
Thu, Aug 25, 2022, 11:24:22 - pdurbin: I had an intern play with it many years ago.
Thu, Aug 25, 2022, 11:55:04 - Benjamin (SODHA): The day is over; the evening is mine ‚úä
Thu, Aug 25, 2022, 11:55:17 - Benjamin (SODHA): I wish you fine adventures and scrumptious meals, gentlemen
Thu, Aug 25, 2022, 11:55:19 - Benjamin (SODHA): (and happy coding)
Thu, Aug 25, 2022, 11:56:06 - poikilotherm: We just had ü§ó
Thu, Aug 25, 2022, 12:41:24 - pdurbin: I might go grab some free ice cream: https://hr.fas.harvard.edu/event/cookie-monstah-ice-cream-truck-fas-affiliates-10
Thu, Aug 25, 2022, 15:03:48 - pdurbin: Ilaria Belvedere: your outreach efforts are working! Thanks! Check out https://github.com/IQSS/dataverse-installations/issues/160
Thu, Aug 25, 2022, 15:12:14 - Ilaria Belvedere: Thank you very much! I am glad the communication Is working!
Thu, Aug 25, 2022, 15:13:11 - pdurbin: We should probably keep track of which installations you contacted and when. So we don't pester them again or too often. üòÑ
Thu, Aug 25, 2022, 15:13:37 - Ilaria Belvedere: Pestering Is nice xD
Thu, Aug 25, 2022, 15:13:50 - pdurbin: one time pestering
Thu, Aug 25, 2022, 15:13:59 - Ilaria Belvedere: Anyway, I can write down the names and send them to you!
Thu, Aug 25, 2022, 15:14:04 - pdurbin: maybe twice, with a long sleep in between üòÑ
Thu, Aug 25, 2022, 15:14:24 - Ilaria Belvedere: They seemed happy
Thu, Aug 25, 2022, 15:14:30 - Ilaria Belvedere: ü§£
Thu, Aug 25, 2022, 15:14:44 - pdurbin: They probably like the attention. üòÑ
Thu, Aug 25, 2022, 15:15:27 - pdurbin: I was in Berlin (with poikilotherm ) giving a talk at Open Science Days a few years back. It's too bad I didn't know I should visit them!
Thu, Aug 25, 2022, 15:18:10 - Ilaria Belvedere: I am sorry about that
Thu, Aug 25, 2022, 15:18:52 - pdurbin: That's ok. I'll just have to go back. Nice city.
Thu, Aug 25, 2022, 15:18:59 - Ilaria Belvedere: Partecipating at these conferences seems very nice!
Thu, Aug 25, 2022, 15:19:14 - pdurbin: absolutely!
Thu, Aug 25, 2022, 15:20:21 - Ilaria Belvedere: Never been there, but It Is surely an interesting city
Thu, Aug 25, 2022, 15:21:02 - Ilaria Belvedere: Not related to the topic, but what about Harvard Library?! I can't Imagine itü§©
Thu, Aug 25, 2022, 15:21:13 - Ilaria Belvedere: Or the New York Public Library
Thu, Aug 25, 2022, 15:21:16 - Ilaria Belvedere: #sigh
Thu, Aug 25, 2022, 15:22:59 - pdurbin: Hmm, I think I've been to both. At least briefly. Or maybe I just saw it in Ghostbusters.
Thu, Aug 25, 2022, 15:23:25 - pdurbin: carlsonp: are you here? I was trying to summon you the other day. üòÑ
Thu, Aug 25, 2022, 15:23:32 - carlsonp: so in using the Azure container scanning capabilities, it looks like there's about 70 high CVE vulnerabilities mostly in Maven, it appears as if all of them are addressable via rev-ing versions in the `pom.xml`
Thu, Aug 25, 2022, 15:23:49 - carlsonp: hello, yeah sorry, been busy lately, trying to get Dataverse deployed to Azure :)
Thu, Aug 25, 2022, 15:24:00 - pdurbin: yikes, ok, we look at dependabot reports for some of this
Thu, Aug 25, 2022, 15:24:30 - pdurbin: maaaaybe I should give you access to the dataverse-security repo
Thu, Aug 25, 2022, 15:24:56 - carlsonp: sure sorry, yeah didn't mean to just drop the bomb there...
Thu, Aug 25, 2022, 15:25:15 - pdurbin: No worries. The official channel is to email security@dataverse.org
Thu, Aug 25, 2022, 15:26:07 - carlsonp: I'm taking a stab at rev-ing the dependencies one at a time and then re-running the build but I am not a Java or Maven expert
Thu, Aug 25, 2022, 15:26:13 - poikilotherm: carlsonp: welcome back! And welcome to the prayers club. Here's your member card ü™™ I've been preaching dependency cleanup and stuff for a long time now üòâ
Thu, Aug 25, 2022, 15:26:38 - pdurbin: hmm, we should probably put that address somewhere in the guides that's more prominent than https://guides.dataverse.org/en/5.11.1/#other-resources
Thu, Aug 25, 2022, 15:27:40 - pdurbin: at least we also list it at https://dataverse.org/contact and https://github.com/IQSS/dataverse/blob/v5.11.1/CONTRIBUTING.md#bug-reportsissues
Thu, Aug 25, 2022, 15:27:52 - Ilaria Belvedere: <@pdurbin:matrix.org "Hmm, I think I've been to both. ..."> You should because you can XD 
Thu, Aug 25, 2022, 15:28:14 - pdurbin: poikilotherm wrote the book on dependency cleanup. Then we merged it. But we still need to read it. üòÑ
Thu, Aug 25, 2022, 15:28:39 - pdurbin: with diagrams and everything
Thu, Aug 25, 2022, 15:28:54 - poikilotherm: We should do a share pic generator for Dataverse developer clubs
Thu, Aug 25, 2022, 15:29:05 - pdurbin: what's that?
Thu, Aug 25, 2022, 15:29:36 - pdurbin: poikilotherm: should we show carlsonp your new container work? That's why I was trying to summon him?
Thu, Aug 25, 2022, 15:29:54 - pdurbin: carlsonp: a Container Guide, if you believe it. Another book by poikilotherm 
Thu, Aug 25, 2022, 15:29:58 - poikilotherm: Look at the issues I created about housekeeping... üôà https://github.com/IQSS/dataverse/issues?q=is%3Aissue+is%3Aclosed+dependency+housekeeping
Thu, Aug 25, 2022, 15:30:47 - poikilotherm: <@pdurbin:matrix.org "what's that?"> A recent example: https://sharepic.fsfe.org/
Thu, Aug 25, 2022, 15:31:09 - poikilotherm: Sure - if he's in the mood
Thu, Aug 25, 2022, 15:32:11 - poikilotherm: I even have the very thin Dockerfile here to build the app image from the base. It of course is relying on all the other stuff I partly created PRs for
Thu, Aug 25, 2022, 15:34:52 - pdurbin: carlsonp: how's the deployment to Azure going in general? Any blockers? I assume you're using containers?
Thu, Aug 25, 2022, 15:36:14 - poikilotherm: <@pdurbin:matrix.org "carlsonp: how's the deployment t..."> Azure offers VMs like AWS, too - he's not necessarily using AKS
Thu, Aug 25, 2022, 15:36:59 - carlsonp: I'm trying to deploy via AKS, and learn Kubernetes, Helm, and Terraform all at once haha.  Good thing is I have a great MS developer helping me
Thu, Aug 25, 2022, 15:37:44 - carlsonp: we've got all the Terraform stuff setup, I got containers automatically building via the Azure Container Registry tasks this week
Thu, Aug 25, 2022, 15:37:56 - carlsonp: the MS devs are going to go do the Helm stuff
Thu, Aug 25, 2022, 15:38:29 - carlsonp: I know some folks have done Helm already, there's some community efforts around that, hopefully they're using that as reference
Thu, Aug 25, 2022, 15:38:54 - poikilotherm: carlsonp: I'm happy to handover dataverse-kubernetes. YOu might be interested in the stuff I'm trying to upstream into the application to make container lifestyle easier
Thu, Aug 25, 2022, 15:39:06 - pdurbin: Helm? I thought that was the old thing and Operators are new thing (but it's hard to keep up).
Thu, Aug 25, 2022, 15:39:29 - poikilotherm: <@pdurbin:matrix.org "Helm? I thought that was the old..."> Matter of taste üôä
Thu, Aug 25, 2022, 15:39:46 - pdurbin: Red Hat wants us to develop an Operator for Dataverse.
Thu, Aug 25, 2022, 15:39:58 - pdurbin: Or at least they did. That was a couple years ago.
Thu, Aug 25, 2022, 15:40:11 - carlsonp: gosh I dunno, my vote would be anything reasonable to get back into the main Dataverse repo is a "good thing"
Thu, Aug 25, 2022, 15:40:16 - poikilotherm: <@pdurbin:matrix.org "Red Hat wants us to develop an O..."> I at least had some ideas for that... https://github.com/gdcc/dvopa
Thu, Aug 25, 2022, 15:41:31 - poikilotherm: <@carlsonp:matrix.org "gosh I dunno, my vote would be a..."> My idea so far was about trying to separate concerns. Do useful images from upstream, make deployment ways for them in separate projects
Thu, Aug 25, 2022, 15:41:47 - carlsonp: the various community efforts are great but the MS dev said the same thing that containers are essentially necessary for modern easy development these days, the Dataverse community will attract more developers if it's easy to get up and running
Thu, Aug 25, 2022, 15:42:53 - carlsonp: sure yeah you all are the experts, I'm just the dummy that pops in here and there haha
Thu, Aug 25, 2022, 15:42:53 - pdurbin: Yes. poikilotherm please hit him with your new container stuff. üòÑ Sounds like he's in the mood. üòÑ
Thu, Aug 25, 2022, 15:43:10 - poikilotherm: This is precisely what I'd say, too. And it's why I am mostly concentrating on enabling the app instead of investing in the side project
Thu, Aug 25, 2022, 15:43:44 - poikilotherm: <@pdurbin:matrix.org "Yes. poikilotherm please hit him..."> carlsonp are you in the mood for some videoconferencing?
Thu, Aug 25, 2022, 15:44:18 - pdurbin: I'm happy to join too if that's ok. üòÑ
Thu, Aug 25, 2022, 15:44:24 - carlsonp: sure, I might even be able to rope in the MS developer too if we all want to come up with a plan or something
Thu, Aug 25, 2022, 15:45:04 - carlsonp: less duplication of work
Thu, Aug 25, 2022, 15:45:17 - pdurbin: For now, here's poikilotherm 's proposed Container Guide: https://dataverse-guide--8933.org.readthedocs.build/en/8933/container/
Thu, Aug 25, 2022, 15:46:17 - poikilotherm: So - where and when
Thu, Aug 25, 2022, 15:46:20 - poikilotherm: Kids are in bed
Thu, Aug 25, 2022, 15:46:24 - poikilotherm: I'm available
Thu, Aug 25, 2022, 15:46:45 - pdurbin: My office mate is here but I'll jump in a room across the hall.
Thu, Aug 25, 2022, 15:46:51 - poikilotherm: But tired - my vocal skills might suffer
Thu, Aug 25, 2022, 15:47:07 - carlsonp: I've got 30 min free, I can send ya'll a Teams invite if you like
Thu, Aug 25, 2022, 15:47:16 - pdurbin: bleh, teams
Thu, Aug 25, 2022, 15:47:27 - pdurbin: this chat room has a video option. works pretty well!
Thu, Aug 25, 2022, 15:47:37 - carlsonp: oh ok
Thu, Aug 25, 2022, 15:47:54 - poikilotherm: Should we try or use Zoom?
Thu, Aug 25, 2022, 15:48:10 - poikilotherm: I guess the MS dev would most easily chime in via Teams?
Thu, Aug 25, 2022, 15:48:28 - pdurbin: ima bet he or she has zoom
Thu, Aug 25, 2022, 15:48:54 - carlsonp: mmm yeah, maybe just us for now, I'll have to check
Thu, Aug 25, 2022, 15:49:17 - poikilotherm: What timezone are you folks in?
Thu, Aug 25, 2022, 15:49:23 - poikilotherm: It's CEST for me.
Thu, Aug 25, 2022, 15:49:32 - carlsonp: Mountain
Thu, Aug 25, 2022, 15:49:45 - poikilotherm: Just asking for the option of repeating this again sometime later
Thu, Aug 25, 2022, 15:49:46 - pdurbin: Eastern
Thu, Aug 25, 2022, 15:50:10 - poikilotherm: OK Eastern is CEST-1, what would Mountain be?
Thu, Aug 25, 2022, 15:50:14 - pdurbin: We used to list timezone in our "who's who in IRC" doc. We should do this for Matrix. üòÑ
Thu, Aug 25, 2022, 15:50:29 - pdurbin: minus two more
Thu, Aug 25, 2022, 15:50:51 - pdurbin: it's 1:50 pm there
Thu, Aug 25, 2022, 15:51:14 - poikilotherm: Yeah just added a Yellowknife timezone to my taskbar clock
Thu, Aug 25, 2022, 15:51:20 - poikilotherm: Gosh I hate timezones
Thu, Aug 25, 2022, 15:53:14 - poikilotherm: OK I'll just hit the VC button
Thu, Aug 25, 2022, 15:53:16 - Jitsi widget added by poikilotherm
Thu, Aug 25, 2022, 15:57:53 - carlsonp: hi
Thu, Aug 25, 2022, 15:57:56 - carlsonp: I can hold on
Thu, Aug 25, 2022, 15:58:01 - carlsonp: stupid microphone
Thu, Aug 25, 2022, 15:58:05 - carlsonp: apologies
Thu, Aug 25, 2022, 15:59:58 - carlsonp: yes I can hear
Thu, Aug 25, 2022, 16:00:12 - carlsonp: hold on, let me try my work computer
Thu, Aug 25, 2022, 16:00:17 - carlsonp: one second
Thu, Aug 25, 2022, 16:24:17 - pdurbin: We do have conf/docker-dcm/docker-compose.yml , technically. üòÑ
Thu, Aug 25, 2022, 16:38:12 - poikilotherm: https://grafana.com/docs/grafana/latest/setup-grafana/configure-docker/
Thu, Aug 25, 2022, 16:40:10 - poikilotherm: https://github.com/IQSS/dataverse-security/issues/12
Thu, Aug 25, 2022, 16:49:27 - poikilotherm: https://dataverse-guide--8933.org.readthedocs.build/en/8933/container/base-image.html#build-instructions
Thu, Aug 25, 2022, 16:51:43 - pdurbin: "On every build, check that there are no convergence problems hiding in the shadows." -- poikilotherm (CEST,UTC+2) in https://guides.dataverse.org/en/5.11.1/developers/dependencies.html
Thu, Aug 25, 2022, 16:54:34 - pdurbin: carlsonp: please see https://github.com/IQSS/dataverse/blob/v5.11.1/modules/dataverse-parent/pom.xml for the versions you're looking for.
Thu, Aug 25, 2022, 17:02:24 - poikilotherm: Awesome! Finally more people up for good container stuff :-D
Thu, Aug 25, 2022, 17:03:12 - pdurbin: Yep. That was fun. üòÑ
Thu, Aug 25, 2022, 17:03:49 - pdurbin: Does anyone here want to talk about containers in a future community call? If so, please üëçÔ∏è
Thu, Aug 25, 2022, 17:22:25 - poikilotherm: carlsonp pdurbin and everyone else interested: just wanted to let you know I added a small note on what we talked about today in https://github.com/IQSS/dataverse/pull/8709#issuecomment-1227774161, as people searching for things and wondering about what is going on should have something to look at.
Thu, Aug 25, 2022, 18:09:24 - poikilotherm: pdurbin: you still there?
Thu, Aug 25, 2022, 18:55:55 - Jitsi widget removed by poikilotherm
Fri, Aug 26, 2022, 04:23:10 - Benjamin (SODHA): Behold! ü™ê
Fri, Aug 26, 2022, 06:44:25 - pdurbin: plop
Fri, Aug 26, 2022, 06:48:39 - poikilotherm: You shall not pass üßô
Fri, Aug 26, 2022, 06:49:55 - poikilotherm: Does anyone here know from the top of their head if we support multipart/form uploads via JAXRS these days?
Fri, Aug 26, 2022, 07:16:10 - Benjamin (SODHA): I'm afraid I can't help. I'm just not IT enough :x
Fri, Aug 26, 2022, 07:16:38 - Benjamin (SODHA): The weekend is already on my doorstep! I shall see you, gentlemen and merry fellows, in the future üõ∏
Fri, Aug 26, 2022, 07:18:31 - Don Sizemore: carlsonp: poikilotherm (CEST,UTC+2) pdurbin I'm around and interested in working on Docker stuff, but everyone has their own opinions on what should be done, and how. So... I guess let me know if you want me to test stuff, particularly on Rocky 9 now that the AWS AMI is out.
Fri, Aug 26, 2022, 07:19:02 - Don Sizemore: poikilotherm (CEST,UTC+2): pdurbin I haven't forgotten testing develop on the most recent Payara6 Alpha; it's pretty far up on my two-page to-do list.
Fri, Aug 26, 2022, 07:22:05 - pdurbin: Benjamin (SODHA): I just replied to this (exciting) thread about user storage quotas with a link to an issue you opened. Please feel free (all of you) to reply as well! https://groups.google.com/g/dataverse-community/c/-N98chdR_7g/m/hBclmALAEAAJ
Fri, Aug 26, 2022, 07:23:48 - pdurbin: <@oliver:bertuch.name "Does anyone here know from the t..."> I think so? I'm seeing `multiPart("file", new File(pathToFile), mimeType);` here for example: https://github.com/IQSS/dataverse/blob/v5.11.1/src/test/java/edu/harvard/iq/dataverse/api/UtilIT.java#L676
Fri, Aug 26, 2022, 07:24:38 - poikilotherm: I ran into https://github.com/gdcc/pyDataverse/issues/137#issuecomment-1228359125 today as a user could not upload their 14GB file from a HPC
Fri, Aug 26, 2022, 07:25:10 - poikilotherm: (Just for context where my question came from)
Fri, Aug 26, 2022, 07:25:52 - pdurbin: Yeah I have an unread message for that issue in my email. Thanks for the handy link. üòÑ
Fri, Aug 26, 2022, 07:26:29 - pdurbin: I guess I'd ask the user to try curl first. To determine if it's pyDataverse or not.
Fri, Aug 26, 2022, 07:26:43 - Don Sizemore: @pdurbin how much discussion do you think would have to happen to plan a "destroy" button in the admin dashboard?
Fri, Aug 26, 2022, 07:26:55 - poikilotherm: Oh it is! We run into the 2GB size limit of the requests lib
Fri, Aug 26, 2022, 07:28:45 - pdurbin: https://guides.dataverse.org/en/5.11.1/api/getting-started.html#uploading-files leads to `curl -F` which is "multipart/form-data according to RFC 2388" according to `man curl`.
Fri, Aug 26, 2022, 07:29:37 - poikilotherm: BTW I basically sent them the upload script by Ana Trisovic. It's so neat to use, maybe we should make it a small CLI app, too (instead of just a Github Action)
Fri, Aug 26, 2022, 07:30:08 - pdurbin: Don Sizemore: hmm, the dashboard is already superuser only. Less than usual. Plus we have no UI/UX person on staff right now. üò¢
Fri, Aug 26, 2022, 07:30:23 - Don Sizemore: @pdurbin Julian would love one - as would our archivists.
Fri, Aug 26, 2022, 07:30:34 - pdurbin: poikilotherm (CEST,UTC+2): you know about DVUploader by qqmyers right? It's in the User Guide.
Fri, Aug 26, 2022, 07:30:46 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): you k..."> Yes, but no Java on the HPC
Fri, Aug 26, 2022, 07:30:52 - pdurbin: oh
Fri, Aug 26, 2022, 07:31:13 - pdurbin: Yeah when I was a sysadmin I hated Java. Just like all the other sysadmins around me. Seems a bit odd now. üòÑ
Fri, Aug 26, 2022, 07:31:15 - poikilotherm: (At least I understood it's like this)
Fri, Aug 26, 2022, 07:32:32 - Don Sizemore: @pdurbin that's because back then Java's memory management was NOM NOM NOM
Fri, Aug 26, 2022, 07:32:50 - pdurbin: Don Sizemore: any many other archivists, I bet. Are you ok with destroying (via the dashboard) a single dataset at a time? Defer any sort of batch mode, I'm saying. And who's coding this up?
Fri, Aug 26, 2022, 07:33:19 - pdurbin: *and many
Fri, Aug 26, 2022, 07:33:32 - Don Sizemore: @pdurbin I like single at a time, with confirmation/verification screen. May try to wrangle Matthew or pay Jim.
Fri, Aug 26, 2022, 07:34:27 - pdurbin: Perfect. I'd vote medium on the effort. On the small side of medium. The API already exists. But you might have to fight with JSF.
Fri, Aug 26, 2022, 07:35:05 - pdurbin: High value feature for not all that much effort.
Fri, Aug 26, 2022, 09:26:29 - pdurbin: Oliver, are you seriously keeping your name as poikilotherm (CEST,UTC+2) ? üòÑ
Fri, Aug 26, 2022, 09:27:13 - poikilotherm: Dunno. Makes my timezone Mr Captain Obvious
Fri, Aug 26, 2022, 09:31:49 - pdurbin: here, I opened an issue at least: https://github.com/IQSS/chat.dataverse.org/issues/17
Fri, Aug 26, 2022, 09:31:54 - Don Sizemore: c'est utc, l√† bas!
Fri, Aug 26, 2022, 11:00:06 - pdurbin: poikilotherm (CEST,UTC+2): maybe instead of a "people" site, it should be a "connections" site. People would still have profiles like https://www.drupal.org/u/dries but you could have /topics/sensitive-data and /countries/germany and /installations/data.fz-juelich.de etc. All linked, of course. connections.dataverse.org or something. üòÑ
Fri, Aug 26, 2022, 11:08:58 - poikilotherm: Looks like you need some Linked Data :-D
Fri, Aug 26, 2022, 11:09:32 - Don Sizemore: @pdurbin I dunno how long we wait for official RHEL 9 Shibboleth RPMs, but https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/commit/ca1e09dd68c19d8aeccc49d29136f99c7b99ffaf
Fri, Aug 26, 2022, 11:09:38 - poikilotherm: But please don't store it in a blockchain
Fri, Aug 26, 2022, 11:10:19 - Don Sizemore: are we proposing a Dataverse social media site?
Fri, Aug 26, 2022, 11:10:46 - poikilotherm: Not sure. Maybe some Dataverse Social Community Site
Fri, Aug 26, 2022, 11:11:15 - poikilotherm: Let's not build a new social network stored in datasets and dataverse collections ;-)
Fri, Aug 26, 2022, 11:12:22 - Don Sizemore: before it was Dataverse, it was the Dataverse Network (DVN)
Fri, Aug 26, 2022, 11:12:55 - Ilaria Belvedere: Global Dataverse Community Consortium?
Fri, Aug 26, 2022, 11:38:32 - pdurbin: Ilaria Belvedere: have you heard of the GDCC?
Fri, Aug 26, 2022, 11:39:43 - Ilaria Belvedere: Sure
Fri, Aug 26, 2022, 11:40:47 - pdurbin: Don Sizemore: one problem I'm trying to solve is, "How can I discover which installations and people know about the topic I'm interested in (e.g. running Dataverse in Docker). And is there a way for me to send a more targeted message to them instead of emailing the main list?"
Fri, Aug 26, 2022, 11:42:01 - pdurbin: Another problem, well perhaps goal, is "How can the Dataverse project highlight all the great work that people and installations are doing? Shall we have profile pages for people?" (Installations have a dot and a popup on a map, at least, which is something.)
Fri, Aug 26, 2022, 11:44:44 - thierry_it: <@oliver:bertuch.name "What type of OAM is this?"> Hi. im back. Yes, it is Oracle Access Management - OAM version 12.2.1.3.0
Fri, Aug 26, 2022, 11:45:00 - Ilaria Belvedere: I think the second point is very interesting. It Is not Easy to read every feature and news in detail. If there could be something more interactive about that, It would be great
Fri, Aug 26, 2022, 11:45:41 - pdurbin: Ilaria Belvedere: sorry, which second point do you mean? The targeted message idea?
Fri, Aug 26, 2022, 11:45:53 - Ilaria Belvedere: <@pdurbin:matrix.org "Another problem, well perhaps go..."> This
Fri, Aug 26, 2022, 11:46:10 - pdurbin: thierry_it: does OAM support OIDC or OAuth or SAML/Shibboleth?
Fri, Aug 26, 2022, 11:47:01 - pdurbin: Ilaria Belvedere: I see. So you're interested in reading about features? You've seen https://dataverse.org/software-features right?
Fri, Aug 26, 2022, 11:47:23 - Ilaria Belvedere: Yes, I am not explaining It well
Fri, Aug 26, 2022, 11:47:41 - pdurbin: Heh, no worries. I'm off to get some more coffee anyway.
Fri, Aug 26, 2022, 11:50:15 - Ilaria Belvedere: The thing Is, the features section Is complete and understandable, but It does not provide this: "to highlight all the great work that people and installations are doing". Maybe, as you suggested, there should be a way to make It easier for a curious user to land to this information in the form of profile Pages and so on
Fri, Aug 26, 2022, 11:50:45 - thierry_it: <@pdurbin:matrix.org "thierry_it: does OAM support OID..."> I understand it supports SAML so we suspect we could use Shibboleth
Fri, Aug 26, 2022, 11:51:13 - Ilaria Belvedere: To learn about Dataverse and write the thesis, I had to Explore all the guides quite in detail
Fri, Aug 26, 2022, 11:52:01 - Ilaria Belvedere: But to learn about Dataverse single installations (what they were doing ecc, the new features they produced), I had to read articles, look for their institutional sites ecc
Fri, Aug 26, 2022, 11:53:20 - Ilaria Belvedere: There Is the map, and It Is great
Fri, Aug 26, 2022, 11:54:25 - Ilaria Belvedere: But It could be implemented maybe. That's why I was talking about GDCC, 'cause It seems the best way to link all the nodes in the aspect of communication
Fri, Aug 26, 2022, 11:54:50 - pdurbin: thierry_it: great! Lots of Dataverse installations use SAML/Shibboleth (including ours at Harvard). Should work. Please let us know if it doesn't!
Fri, Aug 26, 2022, 11:55:29 - Ilaria Belvedere: The community already exists and It Is awesome and communicates a lot. That needs to be underlined 
Fri, Aug 26, 2022, 11:55:51 - pdurbin: Right. Lots of great talks on DataverseTV, for example. üòÑ
Fri, Aug 26, 2022, 11:56:50 - Ilaria Belvedere: More "marketing" üòÑ
Fri, Aug 26, 2022, 11:57:22 - pdurbin: Obviously, Dataverse doesn't have a marketing department. üòÑ Help! üòÑ
Fri, Aug 26, 2022, 11:59:47 - Ilaria Belvedere: Well, several ideas can be carried out. Then, they should be implementedüòÑ
Fri, Aug 26, 2022, 12:00:53 - pdurbin: Should the popup of an installation on the map show what they've done and new features they produced? Or at least a link to such things?
Fri, Aug 26, 2022, 12:01:46 - Ilaria Belvedere: Yes
Fri, Aug 26, 2022, 12:02:02 - pdurbin: Ok. Please feel free to create an issue about this. üòÑ
Fri, Aug 26, 2022, 12:03:30 - pdurbin: A mockup would be great too, if you feel like it. üòÑ
Fri, Aug 26, 2022, 12:08:17 - Ilaria Belvedere: About GDCC, what about  writing articles in a "blog" style? 
Fri, Aug 26, 2022, 12:08:49 - Ilaria Belvedere: Not only posts
Fri, Aug 26, 2022, 12:10:25 - pdurbin: We haven't blogged about a new installation in a while, but we used to. I think this is the most recent: https://dataverse.org/blog/data-inra
Fri, Aug 26, 2022, 12:11:40 - pdurbin: We could link to that blog post from the popup in the map for INRA.
Fri, Aug 26, 2022, 12:11:58 - pdurbin: nice pictures of smiling faces in that post
Fri, Aug 26, 2022, 12:47:46 - poikilotherm: pdurbin: please take a look if you think this is sufficient docs on the vars. https://dataverse-guide--8933.org.readthedocs.build/en/8933/container/base-image.html#publishing-and-updates I also incorporated the other style changes you requested.
Fri, Aug 26, 2022, 12:48:37 - poikilotherm: And I found out you can actually push a short and long description for Docker Hub with a Github action, so it can be source controlled! :-)
Fri, Aug 26, 2022, 12:49:36 - poikilotherm: I have quite a list of tweaks left to do at https://github.com/IQSS/dataverse/pull/8933#issue-1349418802 üòù
Fri, Aug 26, 2022, 12:56:07 - poikilotherm: Folks it's getting late here. Heading out. Have a good weekend everyone
Fri, Aug 26, 2022, 13:12:52 - Ilaria Belvedere: Have a good weekend!
Fri, Aug 26, 2022, 13:24:04 - pdurbin: poikilotherm (CEST,UTC+2): "Publishing and Updates" looks great! And good news about the description on Docker Hub. Thanks. Wow, lots of tweaks. Have a good weekend! Thanks again!
Fri, Aug 26, 2022, 13:39:17 - pdurbin: Ilaria Belvedere: the problem with blog posts is that they take forever to write. üòÑ Not that I wrote that on about INRA. Or any of the previous posts.
Fri, Aug 26, 2022, 15:46:19 - pdurbin: Have a good weekend, all!
Mon, Aug 29, 2022, 14:40:21 - pdurbin: It's quiet. Too quiet!
Mon, Aug 29, 2022, 15:00:53 - pdurbin: Ah, I see carlsonp is around. Question for you about the meeting Wednesday.
Mon, Aug 29, 2022, 16:20:55 - carlsonp: sure
Mon, Aug 29, 2022, 16:21:23 - pdurbin: carlsonp: should we invite Slava? Or is that too many cooks. üòÑ
Mon, Aug 29, 2022, 16:23:32 - carlsonp: I'm not sure who that is sorry
Mon, Aug 29, 2022, 16:23:40 - carlsonp: totally up to you all
Mon, Aug 29, 2022, 16:23:54 - pdurbin: Oh! The guy behind this repo: https://github.com/IQSS/dataverse-docker
Mon, Aug 29, 2022, 16:24:21 - pdurbin: and many other Dataverse things üòÑ
Mon, Aug 29, 2022, 16:25:01 - carlsonp: oh cool, yeah I mean if we're chatting container stuff that might be great
Mon, Aug 29, 2022, 16:25:05 - carlsonp: get everyone on the same page
Mon, Aug 29, 2022, 16:25:11 - pdurbin: exactly
Mon, Aug 29, 2022, 16:25:33 - carlsonp: I didn't want to suck up too much of ya'lls time, figured if we could just brainstorm high level what we want that would be great
Mon, Aug 29, 2022, 16:26:00 - carlsonp: and hopefully coordinate with Microsoft on their developer resources/plan
Mon, Aug 29, 2022, 16:26:23 - pdurbin: right, makes sense
Mon, Aug 29, 2022, 16:26:33 - pdurbin: I sent Slava a DM, will keep you posted.
Mon, Aug 29, 2022, 16:26:39 - carlsonp: super
Mon, Aug 29, 2022, 17:00:18 - carlsonp: I wonder if dependabot is smart enough to pick up on the version injections being done in the `pom.xml` files?
Mon, Aug 29, 2022, 17:00:32 - pdurbin: I sure hope so.
Mon, Aug 29, 2022, 17:01:47 - pdurbin: Yeah, seems to work fine. An example: https://github.com/IQSS/dataverse/pull/8900
Mon, Aug 29, 2022, 17:02:21 - pdurbin: (bumps a version in modules/dataverse-parent/pom.xml)
Mon, Aug 29, 2022, 17:27:16 - carlsonp: looks like some of the library versions in the counter-processor need some updates
Tue, Aug 30, 2022, 01:07:14 - poikilotherm: Morning folks!
Tue, Aug 30, 2022, 01:07:57 - poikilotherm: Actually renovate bot is a much more sophisticated bot, as it is more configurable etc.
Tue, Aug 30, 2022, 01:08:12 - poikilotherm: Maybe we should introduce them sometime
Tue, Aug 30, 2022, 09:53:23 - pdurbin: poikilotherm (CEST,UTC+2): is that the spammy one? üòÑ
Tue, Aug 30, 2022, 09:53:36 - poikilotherm: Bah
Tue, Aug 30, 2022, 09:53:45 - poikilotherm: It's configurable
Tue, Aug 30, 2022, 09:53:54 - poikilotherm: You can tell it to shut up
Tue, Aug 30, 2022, 09:56:55 - pdurbin: I'm sure it's all good stuff.
Tue, Aug 30, 2022, 09:59:06 - pdurbin: Ilaria Belvedere: check this out: https://github.com/IQSS/dataverse-installations/issues/161
Tue, Aug 30, 2022, 10:01:59 - pdurbin: carlsonp: ok, Vyacheslav Tikhonov is in. If I send you his email can you please add him to the invite?
Tue, Aug 30, 2022, 10:02:54 - carlsonp: it looks like it already got to him, he accepted, 4t...@gmail.com
Tue, Aug 30, 2022, 10:03:15 - pdurbin: Oh, perfect. Can you also please change my email from gmail to harvard?
Tue, Aug 30, 2022, 10:03:32 - carlsonp: I tried sending it to your harvard email but it bounced for some reason?
Tue, Aug 30, 2022, 10:03:42 - pdurbin: Huh. Ok. Nevermind then!
Tue, Aug 30, 2022, 10:03:58 - carlsonp: *shrugs* sorry, I dunno
Tue, Aug 30, 2022, 10:35:14 - Jitsi widget added by pdurbin
Tue, Aug 30, 2022, 10:35:54 - pdurbin: I told poikilotherm (CEST,UTC+2) I'd demo some Web Components stuff I've been hacking on but others are welcome to join. ^^
Tue, Aug 30, 2022, 10:38:31 - pdurbin: Whoops, forgot I can't share my screen. Let's use https://harvard.zoom.us/my/pdurbin
Tue, Aug 30, 2022, 11:42:01 - repetersen joined the room
Tue, Aug 30, 2022, 14:06:48 - Jitsi widget removed by pdurbin
Tue, Aug 30, 2022, 16:09:59 - carlsonp: does anyone have tips on seeing the dependencies of dependencies? I'm trying `mvn dependency:tree` and it appears as if a new and old version of `commons-compress` is being downloaded
Tue, Aug 30, 2022, 16:11:56 - poikilotherm: That's pretty unusual - Maven should rest on 1 version
Tue, Aug 30, 2022, 16:12:55 - pdurbin: That "tree" command is the one I know.
Tue, Aug 30, 2022, 16:13:05 - carlsonp: in the root `pom.xml`, it has it listed but the version is managed by `<dependencyManagement>` above, however, I don't see it above..
Tue, Aug 30, 2022, 16:13:09 - poikilotherm: It's definitely using 1 version, compress 1.21. Lemme check on the <dependencyManagement> Section
Tue, Aug 30, 2022, 16:13:48 - poikilotherm: <@carlsonp:matrix.org "in the root `pom.xml`, it has it..."> It's in dataverse-parent. https://github.com/poikilotherm/dataverse/blob/b449150d8e602dfdddc67ccc9d0705c86da5eb2a/modules/dataverse-parent/pom.xml#L91-L95
Tue, Aug 30, 2022, 16:14:54 - poikilotherm: Depending on your IDE, you might have a little icon next to dependency that is clickable and sends you to the parent definition
Tue, Aug 30, 2022, 16:15:09 - poikilotherm: At least IntelliJ IDEA is doing a good job with this - your mileage may vary
Tue, Aug 30, 2022, 16:15:29 - carlsonp: [INFO] --- maven-war-plugin:3.3.2:war (default-war) @ dataverse ---
Downloading from central: https://repo.maven.apache.org/maven2/org/apache/commons/commons-compress/1.19/commons-compress-1.19.pom
Tue, Aug 30, 2022, 16:15:37 - carlsonp: could it be this maven-war-plugin?
Tue, Aug 30, 2022, 16:16:20 - poikilotherm: regarding "above" - historically (before I pushed IQSS to use a proper parent module), everything was in _one_ POM. Guess the wording wasn't adapted
Tue, Aug 30, 2022, 16:16:30 - poikilotherm: <@carlsonp:matrix.org "could it be this maven-war-plugi..."> Absolutely!
Tue, Aug 30, 2022, 16:18:13 - poikilotherm: I see WAR plugin use Plexus Archiver using commons-compress
Tue, Aug 30, 2022, 16:18:48 - poikilotherm: However, dependencies of Maven plugins don't need to be bothered with in terms of what ends up in the WAR
Tue, Aug 30, 2022, 16:19:31 - carlsonp: <@oliver:bertuch.name "However, dependencies of Maven p..."> sorry, not sure I follow...
Tue, Aug 30, 2022, 16:20:49 - poikilotherm: Maybe just my limited capability of using English - let me rephrase
Tue, Aug 30, 2022, 16:21:10 - carlsonp: oh no, your English is better than mine :D
Tue, Aug 30, 2022, 16:21:19 - poikilotherm: IIRC you are looking for dependencies that are vulnerable
Tue, Aug 30, 2022, 16:21:59 - carlsonp: correct, yeah it's pulling 1.19 and 1.20 of `commons-compress` which are the ones with issues
Tue, Aug 30, 2022, 16:22:23 - poikilotherm: So what you want to know then is whether the final package (the WAR or a container image, etc) has some vulnerable dependencies packaged inside of it
Tue, Aug 30, 2022, 16:22:53 - poikilotherm: WAR files are basically just fancy ZIP with a defined, well known structure
Tue, Aug 30, 2022, 16:23:19 - poikilotherm: You'll find any of the deps from the compile/runtime scope within the WAR under WEB-INF/lib
Tue, Aug 30, 2022, 16:23:57 - poikilotherm: What you are seeing about downloaded dependencies is a dependency of the build plugin. These dependencies will never end up in the final WAR package
Tue, Aug 30, 2022, 16:24:05 - poikilotherm: They are only used during the build
Tue, Aug 30, 2022, 16:24:16 - carlsonp: ahh I think I see where you're going, so maybe I should just delete the entirety of the build dependencies in `~/.m2` as part of the Dockerfile to ensure they're not still there and tagged as a security issue when they're not even used
Tue, Aug 30, 2022, 16:24:30 - poikilotherm: OMG please don't do this
Tue, Aug 30, 2022, 16:24:31 - carlsonp: gotcha
Tue, Aug 30, 2022, 16:25:12 - poikilotherm: Let me introduce you to an old friend of mine: https://docs.docker.com/develop/develop-images/multistage-build/
Tue, Aug 30, 2022, 16:25:29 - poikilotherm: I ditched him for Docker Maven Plugin though :-D https://dmp.fabric8.io/
Tue, Aug 30, 2022, 16:26:42 - poikilotherm: What everybody wants in the end is an image consisting of as less layers as possible, arranged in a most efficient way to make use of as much caching as possible
Tue, Aug 30, 2022, 16:26:57 - carlsonp: yeah I should have done a multi-stage build in that PR... darn, well, I guess that'll be phase two
Tue, Aug 30, 2022, 16:27:27 - carlsonp: ok thanks I understand more now
Tue, Aug 30, 2022, 16:27:43 - poikilotherm: Here's an idea
Tue, Aug 30, 2022, 16:28:01 - poikilotherm: What we could do once we are ready with the base images and stuff
Tue, Aug 30, 2022, 16:28:10 - poikilotherm: You could still do the build within a multistage build
Tue, Aug 30, 2022, 16:28:28 - poikilotherm: And then reuse my base image to get the WAR stuff in place
Tue, Aug 30, 2022, 16:28:56 - poikilotherm: That way you don't need to bother with all the tool deps and Payara and stuff
Tue, Aug 30, 2022, 16:29:11 - carlsonp: yeah that makes way more sense
Tue, Aug 30, 2022, 16:29:30 - poikilotherm: That will skip the Docker Plugin execution
Tue, Aug 30, 2022, 16:29:42 - poikilotherm: So might be a little more convenient to use
Tue, Aug 30, 2022, 16:30:22 - poikilotherm: You could of course add lots of ARGS to use different java versions etc.
Tue, Aug 30, 2022, 16:30:44 - poikilotherm: Or leave that to the more fancy Docker Maven Plugin build
Tue, Aug 30, 2022, 16:31:24 - poikilotherm: Depends on what you are trying to achieve in the end ;-)
Tue, Aug 30, 2022, 16:35:47 - carlsonp: yeah we should write down some notes tomorrow, that would help me outline what the desired end-state is
Tue, Aug 30, 2022, 16:36:17 - carlsonp: my brain can't keep up, I like diagrams :)
Tue, Aug 30, 2022, 16:36:42 - poikilotherm: Maybe it would help if each of us (Slava, you, me) would try to come up with a vision in like 2-3 sentences
Tue, Aug 30, 2022, 16:37:27 - carlsonp: yeah, suspect we're all really close, it's just understanding the different pieces
Tue, Aug 30, 2022, 16:42:35 - pdurbin: If you like diagrams you found the right guy. poikilotherm (CEST,UTC+2) has added a lot to our guides. üòÑ
Tue, Aug 30, 2022, 16:43:06 - pdurbin: looking forward to the call tomorrow!
Tue, Aug 30, 2022, 16:43:16 - poikilotherm: <@pdurbin:matrix.org "If you like diagrams you found t..."> blushes
Tue, Aug 30, 2022, 16:43:24 - carlsonp: yeah I noticed the what I assume are graphviz in the Maven dependencies section, those are awesome
Tue, Aug 30, 2022, 16:44:06 - poikilotherm: Maybe I should add some C4 diagrams to the containers guide draft
Tue, Aug 30, 2022, 16:45:11 - pdurbin: Here's me trying to explain what an API is (as requested): https://guides.dataverse.org/en/5.11.1/api/intro.html#what-is-an-api
Tue, Aug 30, 2022, 16:49:44 - poikilotherm: After careful consideration and rethinking, it is likely I eventually will be creating two (image) tags for the base image: 1) `release` (for `master` branch) and 2) `develop`.
Tue, Aug 30, 2022, 16:50:26 - poikilotherm: Does it sound reasonable to not add images for experiments like different Payara version or Java version on Dockerhub?
Tue, Aug 30, 2022, 16:51:18 - carlsonp: maybe keep the experimental stuff in the Github registry, and public consumable stuff in Dockerhub?
Tue, Aug 30, 2022, 16:51:56 - poikilotherm: Well anyone would be free to push stuff the GHCR but I really have a hard time thinking it would be of much use
Tue, Aug 30, 2022, 16:52:22 - poikilotherm: Is such experimental stuff ever going to be pulled from there?
Tue, Aug 30, 2022, 16:53:02 - poikilotherm: In understand someone would like to push an experimental Dataverse image to some registry for further experimentation (or a forked one)
Tue, Aug 30, 2022, 16:53:40 - poikilotherm: But in that case, it seems likely that person would be capable of building the base image to their liking on their own
Wed, Aug 31, 2022, 03:46:16 - Florian Willems joined the room
Wed, Aug 31, 2022, 04:13:34 - poikilotherm: üëãFlorian Willems 
Wed, Aug 31, 2022, 06:56:00 - pdurbin: It's ~5am for carlsonp ... still a little time to sleep before he, poikilotherm (CEST,UTC+2) Vyacheslav Tikhonov and I meet with Microsoft about containers. üòÑ
Wed, Aug 31, 2022, 06:56:29 - poikilotherm: Yeah!
Wed, Aug 31, 2022, 06:56:43 - poikilotherm: It's 0700 for you :-)
Wed, Aug 31, 2022, 06:57:06 - poikilotherm: Me currently processing calorie intake for lunch
Wed, Aug 31, 2022, 07:07:06 - pdurbin: Some upcoming talks about Dataverse: https://www.iq.harvard.edu/news/join-dataverse-grei-collaborative-webinar-series
Wed, Aug 31, 2022, 08:59:53 - Benjamin (SODHA): Behold!
Wed, Aug 31, 2022, 09:00:54 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): I just replied..."> Thanks pdurbin!
Wed, Aug 31, 2022, 09:04:23 - Benjamin (SODHA): <@donsizemore:matrix.org "are we proposing a Dataverse soc..."> ‚ù§Ô∏è Meet üî• HOT üî• Dataverse users in ü´µ YOUR ü´µ area TODAY ‚ù§Ô∏è
Wed, Aug 31, 2022, 09:06:41 - Benjamin (SODHA): Ilaria Belvedere Hey Ilaria :) How's it going with the thesis?
Wed, Aug 31, 2022, 10:43:51 - poikilotherm: Nice talking carlsonp ! That was dope! Please keep the ideas and thoughts coming! I'd really appreciate being pushed to the max with this stuff üòÉ
Wed, Aug 31, 2022, 10:45:07 - pdurbin: Did I say I hate meetings? I take it back!
Wed, Aug 31, 2022, 10:47:18 - poikilotherm: Maybe we should invite the nice Microsoft folks to this place üôÉ
Wed, Aug 31, 2022, 10:47:28 - poikilotherm: We're the dark side, we got cookies üç™
Wed, Aug 31, 2022, 10:49:47 - pdurbin: Absolutely, but I didn't write down that email. If you did, please feel free to send an invite!
Wed, Aug 31, 2022, 11:04:30 - poikilotherm: <@pdurbin:matrix.org "Absolutely, but I didn't write d..."> I extracted it from the appointment üôà
Wed, Aug 31, 2022, 11:11:54 - hshahin333 joined the room
Wed, Aug 31, 2022, 11:12:09 - carlsonp: welcome hshahin333 !
Wed, Aug 31, 2022, 11:12:18 - hshahin333: Hi team! Great work on this
Wed, Aug 31, 2022, 11:21:10 - pdurbin: hshahin333: welcome! I'm curious, do you know some of the Sun/Oracle heavy hitters in the Java space that now work for Microsoft? Ed Burns, Reza Rahman, and others I can't think of right now.
Wed, Aug 31, 2022, 11:30:26 - pdurbin: Bruno Borges
Wed, Aug 31, 2022, 11:31:23 - poikilotherm: <@pdurbin:matrix.org "Bruno Borges"> Uuuuh the "I hate YAML" guy! He's awesome in Java but I disagree on the YAML take üòÖ
Wed, Aug 31, 2022, 11:31:47 - Ilaria Belvedere: <@benjamin_peuch:matrix.org "Ilaria Belvedere Hey Ilaria :) H..."> Hey! I am waiting for my supervisor to give me a feedback about it
Wed, Aug 31, 2022, 11:32:29 - pdurbin: poikilotherm (CEST,UTC+2): Adam Bien hates YAML too.
Wed, Aug 31, 2022, 11:35:11 - pdurbin: Ilaria Belvedere: there's Dataverse in there, right? Is there a draft we can read? A pre-print? üòÑ
Wed, Aug 31, 2022, 11:37:21 - Benjamin (SODHA): pdurbin Ilaria interviewed us (SODHA)! (among other Dataverse-reliant organizations)
Wed, Aug 31, 2022, 11:37:30 - Benjamin (SODHA): Dataverse brought us fame! We are rock stars now!
Wed, Aug 31, 2022, 11:37:49 - Benjamin (SODHA): Now where are my royalties üí∞Ô∏èüí∞Ô∏èüí∞Ô∏è
Wed, Aug 31, 2022, 12:21:56 - pdurbin: orly
Wed, Aug 31, 2022, 12:22:52 - pdurbin: better than "all I got was this Dataverse sticker" üòÑ
Wed, Aug 31, 2022, 12:28:41 - Ilaria Belvedere: Do you understand italian? XD I still need to translate itüòÑ
Wed, Aug 31, 2022, 12:31:52 - pdurbin: Oh dear. I'm afraid not!
Wed, Aug 31, 2022, 12:32:43 - pdurbin: My wife and I went to Rome for our 20th anniversary. People said "prego" a lot. üòÑ
Wed, Aug 31, 2022, 12:33:38 - Ilaria Belvedere: Yes, it is something we say in response to "thank you"
Wed, Aug 31, 2022, 12:38:20 - Ilaria Belvedere: Several English words have Latin roots, so there is still some connection somehow xD 
Wed, Aug 31, 2022, 12:39:46 - pdurbin: Growing up it was Prego vs Ragu, both spaghetti sauces.
Wed, Aug 31, 2022, 12:41:43 - Ilaria Belvedere: And "Pizza", "Mafia", "Mandolino" üòÜüòÜüòÜ
Wed, Aug 31, 2022, 14:53:55 - carlsonp: any chance anyone has tried Solr version 9 yet w/Dataverse?
Wed, Aug 31, 2022, 15:27:58 - pdurbin: It feels wrong to üëéÔ∏è but by that I mean "no". üòÑ
Wed, Aug 31, 2022, 15:28:14 - carlsonp: gotcha
Wed, Aug 31, 2022, 15:29:25 - pdurbin: It's hard to keep up with Solr releases.
Wed, Aug 31, 2022, 15:37:40 - pdurbin: which I guess is a good thing
Wed, Aug 31, 2022, 17:01:34 - pdurbin: better than relying on a dead product
Wed, Aug 31, 2022, 17:44:00 - carlsonp: snyk might be another option from a security standpoint to look for vulnerabilities and automatically submit PRs for patches in addition to dependabot, https://docs.snyk.io/integrations/git-repository-scm-integrations/github-integration
Wed, Aug 31, 2022, 18:11:18 - poikilotherm: It's so nice to have someone else than just me talking about all these things üòÖ
Wed, Aug 31, 2022, 18:12:18 - carlsonp: poikilotherm (CEST,UTC+2): I just got your base image to build :)
Wed, Aug 31, 2022, 18:12:31 - poikilotherm: Noice!
Wed, Aug 31, 2022, 18:12:32 - carlsonp: just stock, I didn't change anything
Wed, Aug 31, 2022, 18:12:39 - poikilotherm: Cool
Wed, Aug 31, 2022, 18:12:48 - poikilotherm: Hopefully it wasn't too complicated 
Wed, Aug 31, 2022, 18:13:01 - carlsonp: no haha, I ran one command, easy-peasy
Wed, Aug 31, 2022, 18:13:12 - poikilotherm: That's how I like it!
Wed, Aug 31, 2022, 18:13:19 - poikilotherm: Attamaven
Wed, Aug 31, 2022, 18:14:13 - poikilotherm: I still need to write down the pieces to get multi arch builds going.
Wed, Aug 31, 2022, 18:14:32 - poikilotherm: By default, multiarch will only be puilt with the push target, so should be OK
Wed, Aug 31, 2022, 18:14:40 - poikilotherm: CI takes care of that 
Wed, Aug 31, 2022, 18:14:53 - carlsonp: I can try on my Raspberry Pi in like a week
Wed, Aug 31, 2022, 18:15:18 - carlsonp: ya'll with the fancy M1s... I'm jealous
Wed, Aug 31, 2022, 18:15:24 - poikilotherm: While I guess that would be nice, it shouldn't be necessary 
Wed, Aug 31, 2022, 18:15:47 - poikilotherm: Docker buildx can use QEMU to built on aRM64 even on x86
Wed, Aug 31, 2022, 18:16:07 - carlsonp: oooh, fancy
Wed, Aug 31, 2022, 18:16:25 - poikilotherm: But it seems unlikely a dev would run all arches on ones laptop
Wed, Aug 31, 2022, 18:16:49 - poikilotherm: I mean why would someone build a x86_64 on an M1/2 to run tests
Wed, Aug 31, 2022, 18:17:32 - poikilotherm: (Or the other way round)
Wed, Aug 31, 2022, 18:18:42 - carlsonp: what's the `RUN true` thing you have in the Dockerfile? is that some secret hack that I'm not aware of?
Wed, Aug 31, 2022, 18:19:10 - poikilotherm: @carlsonp what would you think about having a /makedatacount dir that is a Docker Volume or K8s volume to share those logs between Dataverse and the  COUNTER processor?
Wed, Aug 31, 2022, 18:19:28 - poikilotherm: <@carlsonp:matrix.org "what's the `RUN true` thing you ..."> It's just a fancy way of adding a line break
Wed, Aug 31, 2022, 18:19:52 - carlsonp: oh ha, ok
Wed, Aug 31, 2022, 18:20:00 - poikilotherm: The RUN cannot be empty but it looks more clean to have all commands on next line
Wed, Aug 31, 2022, 18:20:19 - carlsonp: sure, essentially break off the counter-processor into it's own service? 
Wed, Aug 31, 2022, 18:20:29 - poikilotherm: I plugged that shamelessly from the Payara folks as I kinda liked it
Wed, Aug 31, 2022, 18:20:40 - poikilotherm: <@carlsonp:matrix.org "sure, essentially break off the ..."> Yes please!
Wed, Aug 31, 2022, 18:20:45 - carlsonp: makes sense to me
Wed, Aug 31, 2022, 18:21:58 - poikilotherm: Noice. I plugged (again) adding VOLUMEs to the Dockerfile to make anonymous volumes by default to avoid writing into the overlayfs from the KU Leuven folks
Wed, Aug 31, 2022, 18:22:34 - poikilotherm: I didn't have those before because they don't matter.on K8s but it might come in handy for docker-compose
Wed, Aug 31, 2022, 18:23:23 - poikilotherm: Not sure though if that should go into the app or the base image ü§î
Wed, Aug 31, 2022, 18:23:59 - poikilotherm: (As with the other directories just in there for Dataverse)
Wed, Aug 31, 2022, 18:25:16 - carlsonp: it looks like `counter-processor` is an optional library, so I guess separate makes the most sense no? or rather not in the base image?
Wed, Aug 31, 2022, 18:25:47 - poikilotherm: Oh sure that one is like Captain Obvious to not include at all
Wed, Aug 31, 2022, 18:26:06 - poikilotherm: I meant the directories where these things store data
Wed, Aug 31, 2022, 18:26:20 - carlsonp: I put a few PRs in to rev `counter-processor`, that one needs some attention, it addresses multiple CVEs
Wed, Aug 31, 2022, 18:26:41 - carlsonp: I'm kind of surprised that wasn't just folded into Dataverse in some fashion
Wed, Aug 31, 2022, 18:28:06 - poikilotherm: Oh IIRC it's maintained by the Make Data Count folks
Wed, Aug 31, 2022, 18:28:31 - poikilotherm: And I guess no one wanted to take on the burden to reimplement this stuff
Wed, Aug 31, 2022, 18:29:27 - poikilotherm: It was a little bit back and forth with the log format, so maybe it would have been better to do those API calls on our own
Wed, Aug 31, 2022, 18:29:38 - poikilotherm: Jim should know why he did as he did
Wed, Aug 31, 2022, 18:29:49 - poikilotherm: I bet there where good reasons 
Wed, Aug 31, 2022, 20:02:19 - Fernando Santana joined the room
Wed, Aug 31, 2022, 20:04:21 - Fernando Santana: Hello team Dataverse others members, this is problem in Dataverse 5.9 with Docker, realize publish Dataverse, only the publish dataset presentation message error. 
Wed, Aug 31, 2022, 20:04:38 - Fernando Santana sent an image. (Media omitted)
Wed, Aug 31, 2022, 20:07:06 - Fernando Santana: This is configuration (Doi Protocol, Username, Password, Authority, Doi Provider) 
Thu, Sep 1, 2022, 07:26:09 - pdurbin: Fernando Santana: thanks for opening https://github.com/IQSS/dataverse/issues/8951 about this. Vyacheslav Tikhonov do you think the issue belongs in https://github.com/IQSS/dataverse-docker/issues ?
Thu, Sep 1, 2022, 07:27:29 - Don Sizemore: will DataCite publish without HTTPS?
Thu, Sep 1, 2022, 07:29:46 - pdurbin: poikilotherm (CEST,UTC+2) carlsonp for the record, qqmyers wasn't super involved in the decision to use Counter Processor instead of writing our own implementation of Make Data Count (MDC) rules within Dataverse itself. Steve, Matthew, and I were most involved. Jim definitely was the first to put MDC into production (we still haven't at Harvard) and fixed many things along the way. FYI that MDC is making a Javascript widget as an alternative to parsing server side logs. I'm not sure when it will be available.
Thu, Sep 1, 2022, 07:31:11 - pdurbin: Don Sizemore: I *think* Fernando Santana is from http://dataverse.intracidacs.org which is non-HTTPS. Not sure.
Thu, Sep 1, 2022, 07:31:45 - Don Sizemore: @carlsonp pull requests made outside of the core Dataverse repo don't always make it onto their project board. you've got to add your card to the column, or pester somebody to add it
Thu, Sep 1, 2022, 07:33:48 - Don Sizemore: @pdurbin I'd check siteUrl first, then possibly suspect https as a DataCite requirement
Thu, Sep 1, 2022, 07:37:07 - pdurbin: I mean, I *think* you can even register DOIs with DataCite from behind a firewall. But who knows.
Thu, Sep 1, 2022, 07:37:35 - pdurbin: From a dev laptop for example.
Thu, Sep 1, 2022, 07:37:37 - Don Sizemore: I thought DataCite needed to call back
Thu, Sep 1, 2022, 07:37:54 - poikilotherm: IIRC DataCite does no check on the URL material you provide
Thu, Sep 1, 2022, 07:38:49 - poikilotherm: As you can only mint a PID with them when you are a member , maybe it's just not worth spending CPU cycles on that
Thu, Sep 1, 2022, 07:39:37 - pdurbin: Not sure. I use the FAKE DOI provider all the time so I'm never reaching out to DataCite. Leonid has his dev laptop configured to use a DataCite test account. But the siteUrl for his laptop is probably http://localhost:8080. Again, not sure.
Thu, Sep 1, 2022, 07:40:05 - poikilotherm: I could wiretap on our test installation
Thu, Sep 1, 2022, 07:41:04 - pdurbin: My guess is that it's a config issue.
Thu, Sep 1, 2022, 07:41:20 - pdurbin: Fernando Santana: is there anything interesting in server.log when you try to publish?
Thu, Sep 1, 2022, 07:42:47 - poikilotherm: I'd say let's see some logs
Thu, Sep 1, 2022, 07:43:04 - poikilotherm: DataCite is also famous for having outages in their API
Thu, Sep 1, 2022, 07:43:40 - pdurbin: Should we have more fun images (maybe some cartoon animals) on the landing page for this chat room? The idea is to draw people in and show that it's a fun place. Please see https://github.com/IQSS/chat.dataverse.org/issues/18 for some drawings from me and my 13 year old. Everyone gets to decide which animal they are.
Thu, Sep 1, 2022, 07:45:04 - poikilotherm: Ah that reminds me of our beloved Datalad friends and their friendly pic on bringing both worlds together
Thu, Sep 1, 2022, 07:45:26 - poikilotherm: Please send her my regards
Thu, Sep 1, 2022, 07:51:17 - poikilotherm: I love the pics, yet I'm not sure what fungi and fern are standing for
Thu, Sep 1, 2022, 07:59:25 - pdurbin: "I like mushrooms. And ferns are cool."
Thu, Sep 1, 2022, 08:04:26 - poikilotherm: I see. I'm still puzzled if this might include talking about very different things in this chatroom and talk past each other
Thu, Sep 1, 2022, 08:54:45 - Fernando Santana: Hello, explaining today how the server is located, the access URL is dataverse.cidacs.org

I put the https to verify that it could be a possible problem in the publication of the DOI, but even with HTTPS it presents this problem.

The URL you mentioned dataverse.intracidacs.org no longer exists, so we are migrated from a cloud provider as the other had some service unavailability problems.
Thu, Sep 1, 2022, 08:55:27 - Fernando Santana: I did the test with the HDL protocol, DOI, with the FK2 shoulder, organization namespace.
Thu, Sep 1, 2022, 08:55:48 - Fernando Santana: But still the DOI is not found.
Thu, Sep 1, 2022, 08:56:21 - Fernando Santana: Firewall policies were released, even so the problem persists.
Thu, Sep 1, 2022, 08:57:14 - Fernando Santana: the docker image used from datavere was this one - https://github.com/IQSS/dataverse-docker
Thu, Sep 1, 2022, 08:59:37 - Fernando Santana: As you quoted this link - https://github.com/IQSS/dataverse-docker I will validate too.
Thu, Sep 1, 2022, 09:12:24 - pdurbin: Fernando Santana: hi! Since your URL changed can you please open an issue at https://github.com/IQSS/dataverse-installations/issues about this? You're welcome to start with a blank issue rather than a template.
Thu, Sep 1, 2022, 09:14:30 - pdurbin: Fernando Santana: as to your actual problem, if you reproduce the error and then send server.log to support@dataverse.org we can take a look.
Thu, Sep 1, 2022, 09:15:05 - pdurbin: Fernando Santana: another idea for you... try to POST to DataCite's API from curl to make sure it's working outside of Dataverse.
Thu, Sep 1, 2022, 09:16:17 - pdurbin: https://status.datacite.org looks green for weeks but if I hear of other Dataverse installations having trouble, I'll definitely say something.
Thu, Sep 1, 2022, 09:21:23 - pdurbin sent an image. (Media omitted)
Thu, Sep 1, 2022, 09:21:32 - pdurbin: already some progress on the new chat logo ^^
Thu, Sep 1, 2022, 09:32:40 - pdurbin: Please let me know what animal you'd like to be!
Thu, Sep 1, 2022, 09:55:28 - lincoln_: @pdurbin: ill choose hamster
Thu, Sep 1, 2022, 12:14:57 - Fernando Santana: Test via terminal with command curl --user username:password https://mds.datacite.org/doi/{prefix}/..  message below: DOI not found 
Thu, Sep 1, 2022, 12:15:27 - Fernando Santana: tests done for plataform Homolog and Production 
Thu, Sep 1, 2022, 12:42:45 - poikilotherm: carlsonp pdurbin should we add a scheduled OWASP scan in a Maven profile like I did for sword and xoai? See https://github.com/gdcc/xoai/blob/branch-5.0/.github/workflows/maven-security.yml
Thu, Sep 1, 2022, 12:43:05 - poikilotherm: It reports to the security tab of a repo
Thu, Sep 1, 2022, 12:43:34 - carlsonp: oooh yes, that would be stellar
Thu, Sep 1, 2022, 12:43:58 - carlsonp: yeah I think these versions of packages are going to need to be updated more frequently than they are now
Thu, Sep 1, 2022, 12:44:09 - poikilotherm: Certainly
Thu, Sep 1, 2022, 12:44:43 - poikilotherm: Dependabot seems to be annoying folks, but maybe heads up from the security scan are helpful?
Thu, Sep 1, 2022, 12:45:06 - poikilotherm: Not sure I could make it open new issues in that certain repo though...
Thu, Sep 1, 2022, 12:45:48 - poikilotherm: (This was mostly targeting pdurbinwho  familiar with the former dependabot experiences)
Thu, Sep 1, 2022, 12:56:05 - Fernando Santana:  I will be realize installation dataverse in linux without docker 
Thu, Sep 1, 2022, 13:05:43 - Don Sizemore: @carsonp in happier times I used to run Grype fairly often
Thu, Sep 1, 2022, 13:07:05 - Don Sizemore: @carlsonp it would be good to open security issues in the dataverse-security repo - do you have access?
Thu, Sep 1, 2022, 13:07:30 - carlsonp: I don't, if you or someone who does would like to add me that would be super
Thu, Sep 1, 2022, 13:13:36 - pdurbin: Fernando Santana: "DOI not found" with curl too? Hmm. Another thought is that you could contact DataCite support.
Thu, Sep 1, 2022, 13:29:45 - pdurbin: poikilotherm (CEST,UTC+2): so they go here, for example: https://github.com/gdcc/sword2-server/security/code-scanning
Thu, Sep 1, 2022, 13:30:45 - pdurbin: seems like a good idea to me
Thu, Sep 1, 2022, 13:31:11 - pdurbin: belt and suspenders. dependabot plus this bot
Thu, Sep 1, 2022, 13:54:10 - poikilotherm: Yeah.
Thu, Sep 1, 2022, 13:55:08 - poikilotherm: There are some packages to create comments/issues from a SARIF report, but the model of a private security repo isn't very common I guess. And the CI shouldn't have access to that repo.
Thu, Sep 1, 2022, 14:01:25 - pdurbin: whatever works
Thu, Sep 1, 2022, 14:27:11 - pdurbin: whatever is awesome üòÑ
Thu, Sep 1, 2022, 14:59:50 - pdurbin: I just sent out the community news: https://groups.google.com/g/dataverse-community/c/udNf2Uz169k/m/lif71XuDAQAJ
Thu, Sep 1, 2022, 16:49:20 - pdurbin: My long weekend starts now. See everyone on Tuesday.
Thu, Sep 1, 2022, 17:20:28 - carlsonp: have fun
Thu, Sep 1, 2022, 19:03:38 - pdurbin: Ok! I just updated the image on the home page for this chat with the drawing my daughter made. It looks like this:
Thu, Sep 1, 2022, 19:03:56 - pdurbin sent an image. (Media omitted)
Thu, Sep 1, 2022, 19:04:34 - pdurbin: I hope you like it! You are welcome to give feedback here or at https://github.com/IQSS/chat.dataverse.org/issues/18
Thu, Sep 1, 2022, 21:28:30 - Fernando Santana: exist error config below; 
Thu, Sep 1, 2022, 21:28:31 - Fernando Santana: 
  "status": "OK",
  "data": {
    ":Authority": "10.57833",
    ":Shoulder": "cidacs/",
    ":DoiProvider": "DataCite",
    ":BlockedApiPolicy": "localhost-only",
    ":Protocol": "doi",
    ":SolrHostColonPort": "solr:8983",
    ":BlockedApiEndpoints": "admin,builtin-users",
    ":AllowSignUp": "yes",
    ":SignUpUrl": "/dataverseuser.xhtml?editMode=CREATE",
    ":UploadMethods": "native/http",
    ":CV": "CV"
  }
}
Thu, Sep 1, 2022, 21:28:37 - Fernando Santana: ?
Thu, Sep 1, 2022, 21:28:54 - Fernando Santana:  Info ‚Äì This draft version needs to be published. When ready for sharing, please publish it so that others can see these changes.
√ó Dataset DOI Not Reserved ‚Äì The DOI displayed in the citation for this dataset has not yet been reserved with DataCite. Please do not share this DOI until it has been reserved.
Fri, Sep 2, 2022, 04:08:28 - Benjamin (SODHA): Behold! üë¢
Fri, Sep 2, 2022, 05:06:38 - Benjamin (SODHA): <@pdurbin:matrix.org "Ok! I just updated the image on ..."> Talent most certainly runs in family üòä It is very cute!
Fri, Sep 2, 2022, 05:29:15 - Benjamin (SODHA): Youssef thought so, too!
Fri, Sep 2, 2022, 07:56:22 - Don Sizemore: @carlsonp I don't have the access to add you, but if you drop a note to support@dataverse.org someone at IQSS can.
Fri, Sep 2, 2022, 09:44:54 - Miguel Silva joined the room
Fri, Sep 2, 2022, 09:45:09 - Miguel Silva: Hi all
Fri, Sep 2, 2022, 09:45:20 - Miguel Silva: https://www.linkedin.com/in/migueltomas/
Fri, Sep 2, 2022, 09:46:04 - Miguel Silva: found dataverse yesterday. And now i'm looking to know how can i collaborate in code dev
Fri, Sep 2, 2022, 09:46:23 - Miguel Silva: can anyone point me in the right direction ?
Fri, Sep 2, 2022, 09:49:06 - Miguel Silva set a profile picture
Fri, Sep 2, 2022, 09:49:52 - Benjamin (SODHA): https://github.com/IQSS/dataverse
Fri, Sep 2, 2022, 09:50:01 - Benjamin (SODHA): This is where the magic happens ‚ú®
Fri, Sep 2, 2022, 09:50:38 - Miguel Silva: yes. already dropped a neat feature request for smart DAQ devices 
Fri, Sep 2, 2022, 09:51:32 - Miguel Silva: which contributor should i contact first Benjamin (SODHA) ?
Fri, Sep 2, 2022, 09:52:49 - Benjamin (SODHA): <@aeonlabs:matrix.org "which contributor should i conta..."> I'd say pdurbin is always a good start. He logs in here very often
Fri, Sep 2, 2022, 09:53:08 - Miguel Silva: great. thanks
Fri, Sep 2, 2022, 10:29:07 - Don Sizemore: Miguel Silva: if you're interested in contributing, the Developer's Guide may be a good place to start? https://guides.dataverse.org/en/latest/developers/index.html
Sat, Sep 3, 2022, 18:29:13 - El Mtz joined the room
Mon, Sep 5, 2022, 10:37:51 - jmfc joined the room
Mon, Sep 5, 2022, 10:39:23 - jmfc: Good afternoon.
Mon, Sep 5, 2022, 10:40:29 - jmfc: I've been trying to setup the dataverse-metrics project as an installation-level app. But I'm struggling with the last few steps of the configuration.
Mon, Sep 5, 2022, 10:40:38 - jmfc: Can anyone point me in the right direction?
Tue, Sep 6, 2022, 06:56:49 - pdurbin: jmfc: it's been a while since I set up dataverse-metrics but I can try to help. Which steps are giving you trouble?
Tue, Sep 6, 2022, 06:57:32 - pdurbin: Miguel Silva: welcome! How can we help you get started with the code? üòÑ
Tue, Sep 6, 2022, 06:57:56 - pdurbin: carlsonp: if you haven't been added yet, please let me know and I'll add you.
Tue, Sep 6, 2022, 06:58:26 - pdurbin: Fernando Santana: are you still having trouble with DataCite?
Tue, Sep 6, 2022, 08:16:26 - Don Sizemore: @pdurbin welcome back - I'm very interested in this MDC Javascript widget, and searched GitHub for it unsuccessfully on Friday.
Tue, Sep 6, 2022, 09:10:43 - jmfc: pdurbin: I've managed to successfully edit the config.local.json.
But I'm unsure if I need to run any of the python scripts to have it just collect and display metrics from a single instance.
Tue, Sep 6, 2022, 09:11:14 - poikilotherm: pdurbin welcome back! :-) I'm at #RSECon2022 this week so a bit occupied. Nonetheless I stumbled over this: https://ralph.blog.imixs.com/2022/09/04/are-you-crazy-still-using-jsf
Tue, Sep 6, 2022, 09:11:25 - jmfc: Furthermore it's not very clear in the documentation what I need to do to have the index.html be displayed. Do I need to tweek the virtual hosts in apache?
Tue, Sep 6, 2022, 09:48:46 - pdurbin: Don Sizemore: I can't find it either.
Tue, Sep 6, 2022, 09:48:58 - pdurbin: poikilotherm (CEST,UTC+2): bookmarked, thanks
Tue, Sep 6, 2022, 09:49:35 - pdurbin: jmfc: in dev, host index.html with `python3 -m http.server`. In prod, sure, apache sounds fine.
Tue, Sep 6, 2022, 09:50:53 - pdurbin: jmfc: honest, that dataverse-metrics app changed enough after a big rewrite that I'm not sure if the single instance version still requires python or not. It used to. Let me take a look at the README.
Tue, Sep 6, 2022, 09:51:47 - pdurbin: "This app does not use any local cache and doesn't require python or a cron job to run."
Tue, Sep 6, 2022, 09:52:10 - pdurbin: Sounds like it should "just work"? Without Python.
Tue, Sep 6, 2022, 09:52:47 - pdurbin: qqmyers did the re-write. We can grab him if there are further questions.
Tue, Sep 6, 2022, 10:09:44 - pdurbin: The Javascript must call into CORS-enabled Dataverse APIs directly.
Tue, Sep 6, 2022, 10:24:19 - jmfc: pdurbin: I'll give it a try.
Tue, Sep 6, 2022, 10:24:31 - pdurbin: that's the spirit üòÑ
Tue, Sep 6, 2022, 10:30:55 - pdurbin: The community call starts in half an hour: https://dataverse.org/community-calls . I'm planning on doing a demo of upload via Globus.
Tue, Sep 6, 2022, 11:00:43 - carlsonp: pdurbin: yeah if you can add me that would be great, ty
Tue, Sep 6, 2022, 12:26:57 - pdurbin: carlsonp: I just sent you an invite
Tue, Sep 6, 2022, 12:27:46 - pdurbin: <@donsizemore:matrix.org "@pdurbin welcome back - I'm very..."> Don Sizemore: I just asked about this and was told it's being tracked at https://portal.productboard.com/71qotggkmbccdwzokuudjcsb/c/62-usage-stats-processing-as-a-service via https://datacite.org/roadmap.html
Tue, Sep 6, 2022, 14:06:42 - pdurbin: Don Sizemore: in addition to the above... I MAY have just found it: https://github.com/datacite/datacite-tracker
Tue, Sep 6, 2022, 14:07:36 - pdurbin: via https://github.com/datacite/keeshond which seems related
Tue, Sep 6, 2022, 14:34:13 - pdurbin: poikilotherm (CEST,UTC+2): I have questions about your MPCONFIG PR. A little late for your timezone. üòÑ
Tue, Sep 6, 2022, 14:48:31 - poikilotherm: pdurbin: currently it's actually BST, not CEST
Tue, Sep 6, 2022, 14:48:38 - poikilotherm: So UTC+1
Tue, Sep 6, 2022, 14:48:46 - poikilotherm: Hit me, I'll catch up
Tue, Sep 6, 2022, 14:48:58 - poikilotherm: Currently at conference dinner ‚ò∫Ô∏è
Tue, Sep 6, 2022, 14:51:57 - pdurbin: I'm not sure the release note snippet makes sense. Nothing is actually changing, right? So all this seems wrong or at least premature:

"Some options have been renamed for better consistency. Docs have been changed and enhanced accordingly. **Important** to know: any old settings remain to work as-is, but you'll find deprecation hints in the logs."
Tue, Sep 6, 2022, 15:04:48 - poikilotherm: Oh that might have been some premature optimization of leftovers from before when this was one single PR
Tue, Sep 6, 2022, 15:05:03 - poikilotherm: Please feel free to remove and or alter
Tue, Sep 6, 2022, 15:05:12 - pdurbin: Ok, I think I see other leftovers in the edits to the guides. Yes, will remove at will.
Tue, Sep 6, 2022, 16:05:12 - pdurbin: Pushed.
Tue, Sep 6, 2022, 16:05:31 - pdurbin: Hmm, there's a lot of "klass" in here. I guess it's fine. üòÑ
Tue, Sep 6, 2022, 16:20:43 - poikilotherm: yeah, you can't use class because reserved word
Tue, Sep 6, 2022, 16:21:01 - pdurbin: yeah, recently I saw clazz in a PR
Tue, Sep 6, 2022, 16:21:06 - poikilotherm: Klass is quite common even in JVM source code ‚ò∫Ô∏è
Tue, Sep 6, 2022, 16:21:30 - pdurbin: style guide territory, perhaps üòÑ
Tue, Sep 6, 2022, 16:21:37 - poikilotherm: But if you folks prefer clazz, that's fine üò∫
Tue, Sep 6, 2022, 16:22:07 - poikilotherm: Plus a Checkstyle rule to let reviewdog bark at the wrong thing
Tue, Sep 6, 2022, 16:23:50 - pdurbin: I don't know what we use (if anything) at IQSS.
Tue, Sep 6, 2022, 16:24:13 - pdurbin: both are fine with me
Tue, Sep 6, 2022, 16:25:28 - pdurbin: Uh oh. What have I done? `java.lang.IllegalStateException: Recursive update`
Tue, Sep 6, 2022, 16:44:53 - pdurbin: poikilotherm (CEST,UTC+2): it seems like I have to add ConfigProvider.getConfig() even if I don't use it?
Tue, Sep 6, 2022, 16:53:42 - pdurbin: poikilotherm (CEST,UTC+2): I just left you a comment: https://github.com/IQSS/dataverse/pull/8823#issuecomment-1238637878
Tue, Sep 6, 2022, 17:02:03 - pdurbin: <@pdurbin:matrix.org "The community call starts in hal..."> I recorded the Globus demo: https://groups.google.com/g/dataverse-community/c/Uy-J9dLNQ1g/m/_pBmvbwJAwAJ
Wed, Sep 7, 2022, 10:46:55 - pdurbin: poikilotherm (CEST,UTC+2): flawless after the Payara ugrade.
Wed, Sep 7, 2022, 11:23:31 - Don Sizemore: @pdurbin knock knock regarding Payara upgrade?
Wed, Sep 7, 2022, 11:26:32 - pdurbin: who's there?
Wed, Sep 7, 2022, 11:28:08 - Don Sizemore: two questions about the most recent Payara (which I fully support, BTW)
Wed, Sep 7, 2022, 11:29:16 - Don Sizemore: one I should look up in the PR but I've already started asking here: you've documented the EJB/databases removal bits that seem to happen in the later 5.2020.n versions, and
two, did you test 5.2022.3 against S3? versions 5.2021.8 and above started filling up the Payara logs like crazy with S3 warnings
Wed, Sep 7, 2022, 11:31:44 - pdurbin: Oh, right, those extra dirs. I saw some comments about that recently.
Wed, Sep 7, 2022, 11:32:18 - Don Sizemore: and I suspect we'll want to squelch some log levels in logging.properties
Wed, Sep 7, 2022, 11:33:00 - pdurbin: I haven't test on S3 at all. Just on my laptop.
Wed, Sep 7, 2022, 11:33:05 - pdurbin: tested*
Wed, Sep 7, 2022, 11:37:46 - poikilotherm: Please keep me posted, I wanted to include notes on that stuff as requested
Wed, Sep 7, 2022, 11:38:10 - pdurbin: yes, I just found where you said you would üòÑ
Wed, Sep 7, 2022, 11:38:22 - pdurbin: #66 in the security repo
Wed, Sep 7, 2022, 11:43:54 - pdurbin: Ok, I left a comment about the dirs here: https://github.com/IQSS/dataverse/pull/8949#issuecomment-1239568246
Wed, Sep 7, 2022, 11:45:16 - pdurbin: Not sure what to say about S3. Don Sizemore right now "how to test" says "follow instructions". Want me to add that you're concerned about logging?
Wed, Sep 7, 2022, 11:46:12 - Don Sizemore: I just remember the S3 logging going nuts along about 5.2021.8 or so. Would be good to include a line on how to silence them, assuming they're benign.
Wed, Sep 7, 2022, 11:47:34 - pdurbin: I added this: @donsizemore says to check for greatly increased logging when using S3. We might need to document how to lower the logging level.
Wed, Sep 7, 2022, 11:48:42 - Don Sizemore: I may be making noise about only certain filetypes, but here's the issue from back when: https://github.com/IQSS/dataverse/issues/8219
Wed, Sep 7, 2022, 11:49:20 - pdurbin: Awesome. I added the issue number. Thanks!
Wed, Sep 7, 2022, 14:05:00 - pdurbin: Ilaria Belvedere: hi! Do you have a moment? Question about https://github.com/IQSS/dataverse-installations/issues/145
Thu, Sep 8, 2022, 07:06:10 - pdurbin: no rush üòÑ
Thu, Sep 8, 2022, 07:15:32 - Ilaria Belvedere: Sorry
Thu, Sep 8, 2022, 07:15:39 - Ilaria Belvedere: I have to graduate and I am but overwhelmed
Thu, Sep 8, 2022, 07:15:43 - Ilaria Belvedere: A bit
Thu, Sep 8, 2022, 07:30:05 - pdurbin: No worries! My wife went to grad school. I get it. üòÑ
Thu, Sep 8, 2022, 07:50:22 - zbenta joined the room
Thu, Sep 8, 2022, 09:47:23 - zbenta: Hi guys, I was just wondering if it is possible to "catch" the "dataset creation event" so I could trigger a python script that would connect to several external APIs and get some data that would be aromatically filled in the metadata of such new dataset?
Thu, Sep 8, 2022, 09:48:13 - pdurbin: Hmm. Vyacheslav Tikhonov would probably advise using database triggers. I haven't played with this myself.
Thu, Sep 8, 2022, 09:48:54 - pdurbin: It's much easier to catch the "dataset publish" event.
Thu, Sep 8, 2022, 09:49:06 - pdurbin: That's what workflows are based on.
Thu, Sep 8, 2022, 09:49:35 - pdurbin: https://guides.dataverse.org/en/5.11.1/developers/workflows.html
Thu, Sep 8, 2022, 09:49:53 - pdurbin: PostPublishDataset trigger
Thu, Sep 8, 2022, 09:50:13 - pdurbin: maybe we should add a PostCreateDataset trigger üòÑ
Thu, Sep 8, 2022, 09:56:24 - pdurbin: zbenta: from Slava: https://github.com/IQSS/dataverse-docker/blob/master/triggers/external-service.sql
Thu, Sep 8, 2022, 09:57:05 - pdurbin: and here's the python script: https://github.com/IQSS/dataverse-docker/blob/master/triggers/external-services.py
Thu, Sep 8, 2022, 09:57:11 - zbenta: Thanks, Vyacheslav Tikhonov  already sent me the url.
Thu, Sep 8, 2022, 09:57:48 - pdurbin: Ah. Ok. I'm also asking in Slack to see if anyone has ideas. You are also welcome to ask on the mailing list, of course. Lots more people there.
Thu, Sep 8, 2022, 11:48:20 - pdurbin: Not that it helps for "create dataset" but there's a second trigger for "publish dataset"... the external validation scripts.
Thu, Sep 8, 2022, 11:48:44 - pdurbin: zbenta: please feel free to create a GitHub issue for what you want.
Thu, Sep 8, 2022, 14:52:53 - Don Sizemore: @pdurbin may I pick your institutional memory?
Thu, Sep 8, 2022, 14:55:20 - pdurbin: hit me
Thu, Sep 8, 2022, 14:56:00 - Don Sizemore: Johns Hopkins was running 4.13.
Thu, Sep 8, 2022, 14:56:23 - Don Sizemore: Their archivist sent me a screenshot of a DRAFT dataset version, with a "Published on" date, big as day.
Thu, Sep 8, 2022, 14:56:44 - Don Sizemore: Now that I have them on 5.3, the "Published on" field for DRAFT datasets is now empty, as I think it probably should be.
Thu, Sep 8, 2022, 14:57:17 - Don Sizemore: I tried to search for an open issue to explain this change in behavior, but a search for "version draft published" returned 467 issues
Thu, Sep 8, 2022, 14:57:37 - pdurbin: we have issues
Thu, Sep 8, 2022, 15:13:32 - pdurbin: I asked Steve. He doesn't remember changing it. I think we all agree it's an improvement, though, to not show a published date on a draft version. üòÑ "Celebrate the now" is what I said. üéâ
Thu, Sep 8, 2022, 16:20:12 - pdurbin: Whoops! I just merged a PR into master. Reverted it.
Thu, Sep 8, 2022, 16:55:55 - pdurbin: I miss our QA guy. üò≠
Fri, Sep 9, 2022, 08:10:18 - Don Sizemore: how long is he out?
Fri, Sep 9, 2022, 08:14:30 - pdurbin: quite a while
Fri, Sep 9, 2022, 08:17:34 - pdurbin: I just invited this person with installation woes to join us here in Matrix: https://groups.google.com/g/dataverse-community/c/1N0oI5d_uTU/m/EfzexV9aAwAJ
Fri, Sep 9, 2022, 08:21:33 - Don Sizemore: her description mirrors my experience with Payara crashing on Rocky 9
Fri, Sep 9, 2022, 08:24:10 - pdurbin: Yeah, it would be nice, I guess, if it's just a Rocky-specific problem. I was heartened that she got a good install on Ubuntu.
Fri, Sep 9, 2022, 08:27:56 - Joe Gonzalez joined the room
Fri, Sep 9, 2022, 08:28:28 - Ilaria Belvedere: <@pdurbin:matrix.org "Ilaria Belvedere: hi! Do you hav..."> At last I replied! üòÑ
Fri, Sep 9, 2022, 08:32:04 - Joe Gonzalez: Hi guys. I was just following a conversation on the group site by someone that had a permissions issue with setup-all*.log on Rocky 9 that might be related to Payara. I'm having the same issue, but I'm using Rocky 8. Any help or insight will be greatly appreciated. TIA
Fri, Sep 9, 2022, 08:32:06 - pdurbin: Ilaria Belvedere: oh. Great! I'll go look. Specifically, can you DM me a list of the ten or so installations you reached out to? I don't want to accidentally spam them. üòÑ
Fri, Sep 9, 2022, 08:32:25 - Ilaria Belvedere: Sure 
Fri, Sep 9, 2022, 08:32:29 - pdurbin: Thanks!
Fri, Sep 9, 2022, 08:32:53 - pdurbin: Joe Gonzalez: same issue, huh? Don Sizemore any thoughts? ^^
Fri, Sep 9, 2022, 08:32:53 - Ilaria Belvedere: Sorry I know I should send them before, It was not intentional
Fri, Sep 9, 2022, 08:33:27 - pdurbin: Ilaria Belvedere: no, no, it's fine. It's just that we reached out to an installation this week and I thought, "Uh oh." üòÑ
Fri, Sep 9, 2022, 08:33:52 - Joe Gonzalez sent an image. (Media omitted)
Fri, Sep 9, 2022, 08:34:47 - Joe Gonzalez sent an image. (Media omitted)
Fri, Sep 9, 2022, 08:34:54 - pdurbin: When I was young and dumber I'd just chmod 777 and run stuff as root. But please don't do that. üòÑ
Fri, Sep 9, 2022, 08:35:27 - Don Sizemore: I haven't seen a permissions issue with setup-all*.log on Rocky 9, and I don't know for certain what Lynette's problem was. I do know that Payara crashed on me repeatedly during Dataverse installation on Rocky 9.
Fri, Sep 9, 2022, 08:35:59 - pdurbin: Joe Gonzalez: does that "setup" log file get written?
Fri, Sep 9, 2022, 08:37:16 - Don Sizemore: if it's a manual installation you just need to be sure the dataverse service account can write to /tmp/dvinstall or wherever
Fri, Sep 9, 2022, 08:37:35 - Joe Gonzalez: <@pdurbin:matrix.org "Joe Gonzalez: does that "setup" ..."> Where would that log file be?
Fri, Sep 9, 2022, 08:38:24 - Joe Gonzalez: <@donsizemore:matrix.org "if it's a manual installation yo..."> Thank, Don. Let me take a look at permissions
Fri, Sep 9, 2022, 08:41:44 - pdurbin: Joe Gonzalez: "The scripts/api/setup-all.*.log files left behind by the installer." https://guides.dataverse.org/en/5.11.1/installation/intro.html#information-to-send-to-support-when-installation-fails
Fri, Sep 9, 2022, 08:42:01 - pdurbin: so the "scripts/api" folder
Fri, Sep 9, 2022, 08:48:17 - Joe Gonzalez: So this would be in the /tmp/dvinstall directory? If it's not there, can I assume this dir and its contents are created during the installation process? I don't see it, so perhaps my issue is 'dataverse' service account access as Don suggested
Fri, Sep 9, 2022, 08:57:42 - Don Sizemore: Joe Gonzalez: it's wherever you unzipped the installer from GitHub
Fri, Sep 9, 2022, 09:00:07 - Don Sizemore: if it's in your home directory that may be the issue, but if you're in an EC2 instance, be careful with changing home directory permissions
Fri, Sep 9, 2022, 09:02:17 - Joe Gonzalez: I have it in /tmp, but 'dataverse' user didn't have write. I know I need to delete the postgres table in order to rerun the installer, but is there anything else I should clear before attempting to re-run it?
Fri, Sep 9, 2022, 09:23:53 - Ilaria Belvedere: <@pdurbin:matrix.org "Ilaria Belvedere: no, no, it's f..."> Sent them to you via mail :)
Fri, Sep 9, 2022, 10:04:19 - pdurbin: Ilaria Belvedere: got it! Thanks!
Fri, Sep 9, 2022, 10:05:23 - pdurbin: Joe Gonzalez: sorry, I was on a call. Please let me know if this helps: https://guides.dataverse.org/en/5.11.1/installation/installation-main.html#fresh-reinstall
Fri, Sep 9, 2022, 10:08:04 - pdurbin: A call with thierry_it . Nice talking to you about OAM, Shib, etc.!
Fri, Sep 9, 2022, 10:29:57 - Sherry Lake: Sherry here..... Can anyone else verify that DataCite connection is down?
Fri, Sep 9, 2022, 10:30:15 - pdurbin: Hmm, let's look at https://status.datacite.org
Fri, Sep 9, 2022, 10:30:30 - Sherry Lake: I checked the status, but it says "OK".
Fri, Sep 9, 2022, 10:30:31 - pdurbin: looks pretty green!
Fri, Sep 9, 2022, 10:30:52 - Sherry Lake: Getting this via email:
Fri, Sep 9, 2022, 10:30:53 - Sherry Lake: Hello,
Dashboard for Clinical Outcome Reference Values in Adolescent Patients 5-7 months after ACL Reconstruction (view at https://dataverse.lib.virginia.edu/dataset.xhtml?persistentId=doi:10.18130/V3/JNPHUB ) in School of Education & Human Development (view at https://dataverse.lib.virginia.edu/dataverse/education ) could not be published due to a failure to register, or update the Global Identifier for the dataset or one of the files in it. Contact support if this continues to happen.

You may contact UVa Library for support at libra@virginia.edu.

Thank you,
University of Virginia Dataverse Support
University of Virginia Library

Fri, Sep 9, 2022, 10:31:05 - pdurbin: oh dear
Fri, Sep 9, 2022, 10:31:30 - Sherry Lake: and this in the log: [2022-09-09T10:24:31.913-0400] [Payara 5.2021.10] [SEVERE] [] [edu.harvard.iq.dataverse.DataCiteRESTfullClient] [tid: _ThreadID=220 _ThreadName=__ejb-thread-pool12] [timeMillis: 1662733471913] [levelValue: 1000] [[
  Response from postUrl: 502, <html>^M
<head><title>502 Bad Gateway</title></head>^M
<body>^M
<center><h1>502 Bad Gateway</h1></center>^M
</body>^M
</html>^M
]]

Fri, Sep 9, 2022, 10:31:31 - pdurbin: 1.0 is published. I guess this is a new version.
Fri, Sep 9, 2022, 10:31:52 - Sherry Lake: Yes, he is replacing a file. so should be at 2.0
Fri, Sep 9, 2022, 10:32:14 - Sherry Lake: ANd this in the log:
Fri, Sep 9, 2022, 10:32:15 - Sherry Lake: [2022-09-09T10:21:54.673-0400] [Payara 5.2021.10] [SEVERE] [] [edu.harvard.iq.dataverse.DataCiteRESTfullClient] [tid: _ThreadID=221 _ThreadName=__ejb-thread-pool13] [timeMillis: 1662733314673] [levelValue: 1000] [[
  Response from postMetadata: 503, <html>^M
<head><title>503 Service Temporarily Unavailable</title></head>^M
<body>^M
<center><h1>503 Service Temporarily Unavailable</h1></center>^M
</body>^M
</html>^M
]]
Fri, Sep 9, 2022, 10:33:09 - Sherry Lake: I tried it with one of my production datasets and I too get the error:
Fri, Sep 9, 2022, 10:33:50 - pdurbin: Sherry Lake: should we work on https://github.com/IQSS/dataverse/issues/5760 ? If you think so, please leave a comment. üòÑ
Fri, Sep 9, 2022, 10:34:57 - Sherry Lake: Dataverse is using MDS, right? 

Fri, Sep 9, 2022, 10:35:11 - pdurbin: yeah
Fri, Sep 9, 2022, 10:35:32 - pdurbin: Let me see if any tickets are coming in for Harvard Dataverse.
Fri, Sep 9, 2022, 10:36:36 - pdurbin: Yep, from about 45 minutes ago: https://help.hmdc.harvard.edu/Ticket/Display.html?id=326018
Fri, Sep 9, 2022, 10:38:00 - pdurbin: Hmm, this one failed about an hour ago but then worked 10 minutes later: https://help.hmdc.harvard.edu/Ticket/Display.html?id=326015 . So maybe it's intermittent?
Fri, Sep 9, 2022, 10:39:29 - pdurbin: Just those two issues it looks like. But I'd say "all green" isn't completely accurate.
Fri, Sep 9, 2022, 10:41:21 - Sherry Lake: My dataset, just updated. to V1.3, but then I tried once more and it is getting an error.


Fri, Sep 9, 2022, 10:43:12 - pdurbin: Woof. What can we do? We're dependent on DataCite being up, right?
Fri, Sep 9, 2022, 10:44:12 - Sherry Lake: I'll send an email to support@datacite.org for them to check. 
Fri, Sep 9, 2022, 10:45:42 - pdurbin: That's a good idea. I should check their twitter.
Fri, Sep 9, 2022, 10:46:27 - pdurbin: nothing at https://twitter.com/DataCite
Fri, Sep 9, 2022, 10:46:57 - pdurbin: I let our support folks know in Slack. Thanks for the heads up, Sherry.
Fri, Sep 9, 2022, 10:47:14 - Sherry Lake: Seems to work occasionally.....

Fri, Sep 9, 2022, 10:47:32 - pdurbin: Ok. So maybe up and down.
Fri, Sep 9, 2022, 10:47:55 - pdurbin: non-green üòÑ
Fri, Sep 9, 2022, 10:50:25 - pdurbin: Sherry Lake: I guess you could put up a banner at the top of your installation.
Fri, Sep 9, 2022, 10:50:52 - Sherry Lake: Yes, I can do that!
Fri, Sep 9, 2022, 10:51:09 - pdurbin: üòÑ Otherwise, our hands are tied.
Fri, Sep 9, 2022, 10:51:44 - Sherry Lake: I sent an email to support@datacite, but they will probably ask lots of technical questions. So I might be back.....
Fri, Sep 9, 2022, 10:52:08 - pdurbin: If they're truly up and down, the probably know about it. üòÑ
Fri, Sep 9, 2022, 10:52:11 - pdurbin: they*
Fri, Sep 9, 2022, 10:56:56 - pdurbin sent an image. (Media omitted)
Fri, Sep 9, 2022, 10:57:09 - pdurbin: Sherry Lake: are you subscribed to this? ^^
Fri, Sep 9, 2022, 10:58:40 - pdurbin: I'm suggesting to our support team that perhaps we should subscribe.
Fri, Sep 9, 2022, 11:00:12 - Sherry Lake: Yes, I am subscribed, as when I just tried got a "already subscribed" message 
Fri, Sep 9, 2022, 11:01:13 - pdurbin: Ok. Do you recall getting emails from this? Were they useful? Timely?
Fri, Sep 9, 2022, 11:16:44 - Sherry Lake: I really don't remember. I know I have gotten some, but it has been awhile.
Fri, Sep 9, 2022, 11:18:18 - pdurbin: Sherry Lake: ok. Thanks. I see your banner. Looks good.
Fri, Sep 9, 2022, 11:19:01 - pdurbin: I guess that's about all we can do.
Fri, Sep 9, 2022, 11:20:01 - Philipp: Hi! I'm wondering whether there is a way to download a single file in from a dataset draft via API by specifying the file id?
Fri, Sep 9, 2022, 11:20:45 - pdurbin: Yep, should work, as long as you have permission.
Fri, Sep 9, 2022, 11:21:26 - pdurbin: https://guides.dataverse.org/en/5.11.1/api/dataaccess.html#basic-file-access
Fri, Sep 9, 2022, 11:22:35 - pdurbin: You have to pass your API token, of course: https://guides.dataverse.org/en/5.11.1/api/dataaccess.html#authentication-and-authorization
Fri, Sep 9, 2022, 11:23:36 - Philipp: Thanks! Yes, I saw these commands, but I'm struggling to combine them into a command including the API token; which curl parameters do I need?
Fri, Sep 9, 2022, 11:24:54 - Philipp: I tried curl -L -O -J -H X-Dataverse-key:xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx https://dataverse.org/api/access/datafiles/159209, but it didn't work
Fri, Sep 9, 2022, 11:25:40 - pdurbin: That looks... right? Here. I'll try with this file (note "Download URL"):
Fri, Sep 9, 2022, 11:25:51 - pdurbin sent an image. (Media omitted)
Fri, Sep 9, 2022, 11:29:04 - Philipp: it results in a file with this content: {"type":"http:\/\/www.w3.org\/Protocols\/rfc2616\/rfc2616-sec10.html#sec10.4.5","title":"Invalid URL path.","status":404,"detail":"Not Found."}
Fri, Sep 9, 2022, 11:29:24 - pdurbin: `curl -L -O -J -H "X-Dataverse-key:$API_TOKEN" https://demo.dataverse.org/api/access/datafile/1985361` worked but the file has an odd name: 1985361
Fri, Sep 9, 2022, 11:30:26 - pdurbin: -J is supposed to use the remote header name. Not sure why it's not working. Maybe because the file is on S3?
Fri, Sep 9, 2022, 11:31:01 - pdurbin: Philipp: but you don't get any file at all?
Fri, Sep 9, 2022, 11:31:31 - pdurbin: Philipp: oh, your server name is dataverse.org and should probably be demo.dataverse.org
Fri, Sep 9, 2022, 11:32:04 - Philipp: Ah!! Stupid me, I forgot the quotation marks!! Your command seems to work, it's downloading now! thanks!
Fri, Sep 9, 2022, 11:32:23 - pdurbin: oh good
Fri, Sep 9, 2022, 11:34:09 - zbenta sent an image. (Media omitted)
Fri, Sep 9, 2022, 11:34:21 - zbenta: Hi guys, is anyone experience issues when trying to update a dataset's metada using the API. 
I can get the metadata using the api, but for the life of me I'm not able to update it. I always get an empty response "{}"  back from the server.
Fri, Sep 9, 2022, 11:38:08 - zbenta: By the way I'm using dataverse version 5.11.1
Fri, Sep 9, 2022, 11:38:52 - pdurbin: Usually when you see {} there's a stacetrace in server.log. Anything interesting in there?
Fri, Sep 9, 2022, 11:43:03 - zbenta: Just taking a lokk at it :D
Fri, Sep 9, 2022, 11:43:22 - zbenta: [2022-09-09T15:40:19.024+0000] [Payara 5.2022.2] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=136 _ThreadName=http-thread-pool::http-listener-1(25)] [timeMillis: 1662738019024] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB DatasetFieldServiceBean, method: public boolean edu.harvard.iq.dataverse.DatasetFieldServiceBean.isValidCVocValue(edu.harvard.iq.dataverse.DatasetFieldType,java.lang.String)]]

[2022-09-09T15:40:19.024+0000] [Payara 5.2022.2] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=136 _ThreadName=http-thread-pool::http-listener-1(25)] [timeMillis: 1662738019024] [levelValue: 900] [[

Fri, Sep 9, 2022, 11:44:01 - zbenta: javax.ejb.EJBException: class org.glassfish.json.JsonStringImpl cannot be cast to class javax.json.JsonObject (org.glassfish.json.JsonStringImpl and javax.json.JsonObject are in unnamed module of loader org.apache.felix.framework.BundleWiringImpl$BundleClassLoader @3e180022)
Fri, Sep 9, 2022, 11:44:18 - zbenta: The last one look "yummy" 
Fri, Sep 9, 2022, 11:44:25 - pdurbin: sounds like it doesn't like the JSON
Fri, Sep 9, 2022, 11:44:40 - pdurbin: What if you use the JSON from the guides? (I assume you edited it.) Does it work?
Fri, Sep 9, 2022, 11:45:32 - zbenta: It is weird, because I'm passing it the same json I extracted using the API, just changed the author name to see if it was working
Fri, Sep 9, 2022, 11:45:57 - pdurbin: Ah but you have to edit it.
Fri, Sep 9, 2022, 11:46:07 - pdurbin: which is very weird, admittedly
Fri, Sep 9, 2022, 11:46:15 - pdurbin: but at least we documented it (somewhat recently)
Fri, Sep 9, 2022, 11:47:04 - zbenta: Yes, I'm looking at the documentation, we even tried using the json file from the docuementation but still we have the same issue.
Fri, Sep 9, 2022, 11:47:51 - zbenta: Let me try it out with a published dataset to see if there is any difference.
Fri, Sep 9, 2022, 11:48:23 - pdurbin: If the JSON in the documentation doesn't work, please open an issue!
Fri, Sep 9, 2022, 11:49:27 - pdurbin: Is this the API endpoint you're using? https://guides.dataverse.org/en/5.11.1/api/native-api.html#update-metadata-for-a-dataset
Fri, Sep 9, 2022, 11:53:35 - pdurbin: We do use doc/sphinx-guides/source/_static/api/dataset-update-metadata.json in a test (InReviewWorkflowIT), so it should work.
Fri, Sep 9, 2022, 11:57:10 - pdurbin: The test does `.put("/api/datasets/:persistentId/versions/:draft?persistentId=" + persistentId)` ... very similar to what you have.
Fri, Sep 9, 2022, 11:58:12 - pdurbin: https://github.com/IQSS/dataverse/blob/v5.11.1/src/test/java/edu/harvard/iq/dataverse/api/InReviewWorkflowIT.java#L175-L176
Fri, Sep 9, 2022, 12:00:04 - zbenta: > Is this the API endpoint you're using? https://guides.dataverse.org/en/5.11.1/api/native-api.html#update-metadata-for-a-dataset

yes
Fri, Sep 9, 2022, 12:07:27 - pdurbin: I just ran that test on my laptop and it passed.
Fri, Sep 9, 2022, 12:07:48 - pdurbin: zbenta: would you be able to try the JSON from the guides on https://demo.dataverse.org to see if it works?
Fri, Sep 9, 2022, 12:16:39 - zbenta: I'l give it a try
Fri, Sep 9, 2022, 12:24:07 - zbenta: Wich dataset shoud I try to update? 
Fri, Sep 9, 2022, 12:26:21 - zbenta: I'll create my own
Fri, Sep 9, 2022, 12:30:15 - zbenta: On the demo site it works
Fri, Sep 9, 2022, 12:30:49 - zbenta: ü•¥
Fri, Sep 9, 2022, 12:37:50 - zbenta: Do we need to setup anything special for this to work? I tried the same json on a fresh dataset on my machine and it doesn't work.
Fri, Sep 9, 2022, 12:38:35 - zbenta: Our API key is valid, because we can get the metadata from other dataset using the existing API key.
Fri, Sep 9, 2022, 12:59:25 - Sherry Lake: pdurbin: Email response from DataCite Support: 
Fri, Sep 9, 2022, 12:59:26 - Sherry Lake: > We are investigating an issue that may be causing degraded API performance at this time. We will be in touch as the issue is resolved.

  

Fri, Sep 9, 2022, 13:52:21 - pdurbin: Sherry Lake: interesting. Thanks. Still green on the status site. No tweets.
Fri, Sep 9, 2022, 13:52:47 - pdurbin: zbenta: do you have custom metadata, especially with required fields?
Fri, Sep 9, 2022, 14:01:44 - Sherry Lake: Hey it is Yellow now:    https://status.datacite.org/  and I got a status update notification via email.
Fri, Sep 9, 2022, 14:03:40 - pdurbin: thanks for letting us know!
Fri, Sep 9, 2022, 15:00:28 - pdurbin: investigating: https://twitter.com/DataCite/status/1568298246019350531

fixing: https://twitter.com/DataCite/status/1568307607206772737
Fri, Sep 9, 2022, 15:00:34 - pdurbin: (thanks, poikilotherm (CEST,UTC+2) )
Fri, Sep 9, 2022, 15:50:28 - Joe Gonzalez: Thanks for your help this morning, pdurbin and Don Sizemore ! My instance is up and running ü•≥
Fri, Sep 9, 2022, 15:50:50 - pdurbin: Fantastic news! A great way to head into the weekend. üòÑ
Fri, Sep 9, 2022, 15:52:02 - pdurbin: I'm heading out a little early. In 10 minutes. More time for kayaking since it's getting dark earlier. üö£ üåô Have a good weekend, everyone!
Fri, Sep 9, 2022, 15:52:22 - Joe Gonzalez: Indeed it is! Have a great weekend
Mon, Sep 12, 2022, 09:14:24 - pdurbin: poikilotherm (CEST,UTC+2): thanks for hacking on https://github.com/IQSS/dataverse/pull/8949 . I just added a suggestion. Happy to discuss.
Mon, Sep 12, 2022, 13:03:23 - Don Sizemore: pdurbin: poikilotherm (CEST,UTC+2) dumb question?
Mon, Sep 12, 2022, 13:04:58 - poikilotherm: Hit me
Mon, Sep 12, 2022, 13:05:18 - poikilotherm: And there is no such thing as dumb questions 
Mon, Sep 12, 2022, 13:06:56 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): thank..."> You happy with what I added to the guides about lib/databases?
Mon, Sep 12, 2022, 13:19:51 - pdurbin: poikilotherm (CEST,UTC+2): yeah. I think we're good. At a high level I think it's weird we have to maintain a list of directories to rm -rf but whatever. I guess it's a Glassfish/Payara thing. üòÑ
Mon, Sep 12, 2022, 13:30:44 - Don Sizemore: poikilotherm (CEST,UTC+2): I'm testing your Payara-5.2022.3 branch. Was wondering whether the payara.version bump in pom.xml necessitated rebuilding the warfile, assuming yes.
Mon, Sep 12, 2022, 13:30:58 - Don Sizemore: however, about that: "stderr_lines": ["/bin/sh: line 1: 11141 Aborted                 (core dumped) mvn -DcompilerArgument=-Xlint:unchecked test -P all-unit-tests -T 2C clean package > mvn.out"
Mon, Sep 12, 2022, 13:33:25 - Don Sizemore: this is openjdk-11.0.16.1 so it has that stability bugfix they released last week
Mon, Sep 12, 2022, 13:39:31 - Don Sizemore: I'm realizing my Vagrantfile only allows 4GB of RAM - bumping that to 8.
Mon, Sep 12, 2022, 13:43:22 - pdurbin: So much memory. Let's rewrite everything in Rust. /me ducks
Mon, Sep 12, 2022, 13:44:04 - poikilotherm: <@donsizemore:matrix.org "poikilotherm (CEST,UTC+2): I'm t..."> Your assumption is correct. The new version means updated BOM which means updated deps and shipped JARs
Mon, Sep 12, 2022, 13:44:49 - poikilotherm: I have no idea why this should consume so much memory
Mon, Sep 12, 2022, 13:45:01 - poikilotherm: The unit test isn't failing though, right?
Mon, Sep 12, 2022, 13:45:12 - poikilotherm: (In CI)
Mon, Sep 12, 2022, 13:45:18 - Don Sizemore: the JVM crashed compiling the warfile
Mon, Sep 12, 2022, 13:45:29 - poikilotherm: Not sure how much memory these ephemeral runner VMs have
Mon, Sep 12, 2022, 13:46:11 - Don Sizemore: the JVM has been crashing quite a bit on Payara launch during my Rocky 9 testing - why I haven't submitted a PR yet
Mon, Sep 12, 2022, 13:46:48 - Don Sizemore: I'm beginning to wonder whether my buildbox has a flaky DIMM or something
Mon, Sep 12, 2022, 13:46:49 - poikilotherm: > Hardware specification for Windows and Linux virtual machines:
> 
>    2-core CPU (x86_64)
>    7 GB of RAM
>    14 GB of SSD space

Mon, Sep 12, 2022, 13:47:20 - poikilotherm: That's from GH official docs on their runner specs 
Mon, Sep 12, 2022, 13:48:00 - poikilotherm: <@donsizemore:matrix.org "I'm beginning to wonder whether ..."> Builds fine on my maschine with 32GB üòú
Mon, Sep 12, 2022, 13:48:29 - poikilotherm: I can try with a container having memory limits 
Mon, Sep 12, 2022, 13:48:32 - Don Sizemore: this one has 16; the Vagrantfile specified 4
Mon, Sep 12, 2022, 13:48:36 - poikilotherm: If that helps
Mon, Sep 12, 2022, 13:48:59 - Don Sizemore: dumped core again
Mon, Sep 12, 2022, 13:49:30 - poikilotherm: Wait
Mon, Sep 12, 2022, 13:49:33 - Don Sizemore: Current thread (0x00007fe39411d000):  JavaThread "C2 CompilerThread0" daemon [_thread_in_native, id=12346, stack(0x00007fe353dfe000,0x00007fe353eff000)]
Mon, Sep 12, 2022, 13:49:46 - poikilotherm: What is the Maven default for JVM RAM allocation?
Mon, Sep 12, 2022, 13:50:09 - poikilotherm: Because this is sth controlled by Maven 
Mon, Sep 12, 2022, 13:50:41 - poikilotherm: https://jenkov.com/tutorials/maven/maven-memory-limits.html
Mon, Sep 12, 2022, 13:50:48 - poikilotherm: Maybe give it a shot?
Mon, Sep 12, 2022, 13:51:42 - Don Sizemore: I'm not certain memory is the problem
Mon, Sep 12, 2022, 13:52:09 - poikilotherm: By default, the maximum heap allocation is 256 - 512 MB (-Xms256m to -Xmx512m). This default limit does not work while building a large, complex Java project, and it is recommended that you have at least 1024 MB of maximum heap. If you encounter the java.lang.OutOfMemoryError error at any point during a Maven build, it is mostly due to the lack of memory. 
Mon, Sep 12, 2022, 13:52:21 - poikilotherm: https://subscription.packtpub.com/book/application-development/9781783983865/1/ch01lvl1sec10/configuring-the-heap-size
Mon, Sep 12, 2022, 13:52:43 - poikilotherm: Well it might be! It's easy to change and see if it helps
Mon, Sep 12, 2022, 13:55:28 - Don Sizemore: OpenJDK 64-Bit Server VM warning: Ignoring option MaxPermSize; support was removed in 8.0
Mon, Sep 12, 2022, 13:58:28 - poikilotherm: <@donsizemore:matrix.org "OpenJDK 64-Bit Server VM warning..."> Don't think we need to bother with that one.
Mon, Sep 12, 2022, 13:58:40 - poikilotherm: BTW you are using a recent Maven version on this box, aye?
Mon, Sep 12, 2022, 13:58:52 - Don Sizemore: 3.8.6
Mon, Sep 12, 2022, 14:00:57 - Don Sizemore: manual compilation with same options succeeded - `-Xmx1024m` must have done the trick!
Mon, Sep 12, 2022, 14:21:32 - Don Sizemore: SIGSEV. Problematic frame: [libjvm.so+0x64eee9]  Compile::remove_useless_nodes(Unique_Node_List&)+0x89
Mon, Sep 12, 2022, 14:28:08 - poikilotherm: Wow
Mon, Sep 12, 2022, 14:28:24 - poikilotherm: This doesn't sound like JVM relatdd
Mon, Sep 12, 2022, 14:29:17 - poikilotherm: At least nothing likely caused by Payara 
Mon, Sep 12, 2022, 14:30:55 - Don Sizemore: I compile it manually on the host (Ubuntu 22), it succeeds.
Mon, Sep 12, 2022, 14:31:09 - Don Sizemore: I compile it manually inside the guest (Rocky 8.6), it succeeds.
Mon, Sep 12, 2022, 14:31:31 - Don Sizemore: Ansible compiles it as part of its standard run: core dump.
Mon, Sep 12, 2022, 15:06:45 - Don Sizemore: the maven command, for anyone playing along at home, is "mvn -DcompilerArgument=-Xlint:unchecked test -P all-unit-tests  -T 2C clean package"
Tue, Sep 13, 2022, 04:20:59 - cesarferreira joined the room
Tue, Sep 13, 2022, 06:23:05 - @leouieda:matrix.org joined the room
Tue, Sep 13, 2022, 08:02:15 - analia-s: Hi guys! I think that the statistics counter does not work correctly. In the metrics section of the root dataverse it shows 36 downloads but there are datasets with 100 downloads or more
Tue, Sep 13, 2022, 08:04:15 - pdurbin: analia-s: is this on your production installation of Dataverse? Can you please give us a link to it?
Tue, Sep 13, 2022, 08:05:08 - analia-s: yes! https://dataverse.unr.edu.ar/ 
Tue, Sep 13, 2022, 08:06:11 - pdurbin: Thanks, can you also link to a dataset with lots of downloads?
Tue, Sep 13, 2022, 08:06:55 - pdurbin: I love the title of this dataset, by the way: "Dataset: Audio recordings of grazing jaw movements in dairy cattle"
Tue, Sep 13, 2022, 08:08:43 - analia-s: https://dataverse.unr.edu.ar/dataset.xhtml?persistentId=doi:10.57715/UNR/PTDCEY
Tue, Sep 13, 2022, 08:10:00 - pdurbin: I see. 205 downloads for titulacion.png alone.
Tue, Sep 13, 2022, 08:14:27 - pdurbin: That "36 Downloads" on the homepage seems to come from guestbookResponseServiceBean.getCountOfAllGuestbookResponses() - https://github.com/IQSS/dataverse/blob/v5.10.1/src/main/webapp/dataverse.xhtml#L450
Tue, Sep 13, 2022, 08:15:37 - pdurbin: analia-s: I wonder if you're suffering from this issue: https://github.com/IQSS/dataverse/issues/8840
Tue, Sep 13, 2022, 08:16:13 - pdurbin: A pull request came in from qqmyers just yesterday to address it: https://github.com/IQSS/dataverse/pull/8972
Tue, Sep 13, 2022, 08:21:24 - pdurbin: analia-s: I left a comment on the issue. I'll follow up with qqmyers to see what he thinks. My other thought is that we could play with the Metrics API to see if it matches the GUI.
Tue, Sep 13, 2022, 08:22:00 - pdurbin: https://dataverse.unr.edu.ar/api/info/metrics/downloads shows 833 downloads.
Tue, Sep 13, 2022, 08:22:54 - pdurbin: Weird. I added this to my comment. Does 833 sound more accurate?
Tue, Sep 13, 2022, 08:24:08 - analia-s: yes
Tue, Sep 13, 2022, 08:29:13 - pdurbin: I guess you could try the vacuum in that pull request but I'd suggest doing it on a test server. It hasn't even been reviewed yet, let alone gone through QA.
Tue, Sep 13, 2022, 09:03:18 - analia-s: Will it be fixed in future versions?
Tue, Sep 13, 2022, 09:52:05 - pdurbin: analia-s: well, that issue I linked will probably be fixed by that pull request, yes. I'm not 100% sure if that's your issue. I'll ask qqmyers .
Tue, Sep 13, 2022, 09:53:20 - pdurbin: analia-s: ah, qqmyers replied already saying vacuuming should help: https://github.com/IQSS/dataverse/issues/8840#issuecomment-1245370223
Tue, Sep 13, 2022, 09:54:04 - pdurbin: analia-s: but first you should run those two SELECT statements in that comment. And compare the output.
Tue, Sep 13, 2022, 10:15:26 - analia-s sent an image. (Media omitted)
Tue, Sep 13, 2022, 10:15:26 - analia-s sent an image. (Media omitted)
Tue, Sep 13, 2022, 10:18:14 - analia-s: Now it shows 739 downloads on the homepage but just restart postgres and payara
Tue, Sep 13, 2022, 11:48:33 - Don Sizemore: @pdurbin does "12222" sound like a valid identifier from DataCite? I thought they were random, and 6-character
Tue, Sep 13, 2022, 11:51:08 - pdurbin: analia-s: I wonder if restarting postgres does a vacuum. Can you please leave a comment at https://github.com/IQSS/dataverse/issues/8840 ?
Tue, Sep 13, 2022, 11:52:50 - pdurbin: Don Sizemore: just digits for an identifier is normal if you configure Dataverse that way. Please see https://guides.dataverse.org/en/5.11.1/installation/config.html#identifiergenerationstyle
Tue, Sep 13, 2022, 11:54:31 - Don Sizemore: @pdurbin we have a number of (mostly older) datasets with such an identifier, but I'm not sure why.
Tue, Sep 13, 2022, 11:55:03 - analia-s: <@pdurbin:matrix.org "analia-s: I wonder if restarting..."> yes! thanks!!üòÄ
Tue, Sep 13, 2022, 12:04:15 - Don Sizemore: @pdurbin now that I look, that dataset was created back in 2018, possibly under EZ-ID? don't remember when we switched.
Tue, Sep 13, 2022, 12:07:50 - pdurbin: Gotcha. Well, the type of identifier gets decided on the Dataverse side and is configurable. Whether it's a number or a short alphanumeric string. DataCite takes either.
Tue, Sep 13, 2022, 14:49:36 - poikilotherm: Tick tack pdurbin: https://twitter.com/JakartaEE/status/1569729048892276736
Tue, Sep 13, 2022, 14:49:59 - pdurbin: sep 22
Tue, Sep 13, 2022, 14:50:35 - pdurbin: poikilotherm (CEST,UTC+2): I was just thinking earlier, would like to help manage the https://twitter.com/dataverseorg account?
Tue, Sep 13, 2022, 14:51:23 - pdurbin: send some tweets, I mean
Tue, Sep 13, 2022, 14:51:28 - pdurbin: reply or whatever
Tue, Sep 13, 2022, 14:51:41 - pdurbin: Danny and Merce used to do it.
Tue, Sep 13, 2022, 14:52:12 - pdurbin: I keep getting asked if I want to but I'm off Twitter these days.
Tue, Sep 13, 2022, 14:53:05 - pdurbin: Oh, and also, we're talking re-architecture in tech hours in 7 minutes.
Tue, Sep 13, 2022, 14:55:13 - poikilotherm: Oh I guess I should join then
Tue, Sep 13, 2022, 14:56:16 - poikilotherm: Ad Twitter: maybe. Dunno. Can we add a bot retweeting everything with @dataverseorg or #Dataverse in it?
Tue, Sep 13, 2022, 14:57:00 - pdurbin: Tweet from here, for example? From this room?
Tue, Sep 13, 2022, 15:12:12 - Joe Gonzalez: Hey guys, apologies in advance if this question has been asked and answered before: I'm putting together a Dataverse install for a research division at a corporate client. We're early on in the process, but I know their infrastructure folks are going to be concerned about Payara 5 rapidly approaching EOL and whether or not unsupported software will run afoul of any of their infrastructure policies. Is there a plan or roadmap in place for when Dataverse can operate on Payara 6? Just trying to anticipate any "gotchas". TIA
Tue, Sep 13, 2022, 15:23:24 - pdurbin: Joe Gonzalez: hi! Here's the Payara 6 pull request in the context of our project board: https://github.com/orgs/IQSS/projects/2#card-82778891
Tue, Sep 13, 2022, 15:25:34 - Joe Gonzalez: <@pdurbin:matrix.org "Joe Gonzalez: hi! Here's the Pay..."> Great, thank you!
Tue, Sep 13, 2022, 15:26:03 - pdurbin: In short, we need to get back to that pull request. We're aware of the looming EOL.
Tue, Sep 13, 2022, 15:28:28 - Joe Gonzalez: Thank you. Knowing this should keep them happy. I should have some leeway between official EOL and when I'm required to upgrade.
Tue, Sep 13, 2022, 15:29:07 - pdurbin: Cool. Also, corporate client! Rare! Exciting! üéâ
Tue, Sep 13, 2022, 15:30:14 - Joe Gonzalez: It is, and I'm curious how they embrace it. I'm new to this software, and so far I love what I see. Would be happy to contribute however I can.
Tue, Sep 13, 2022, 15:37:35 - pdurbin: Joe Gonzalez: fantastic! Want me to assign you to some issues?!? üòÑ
Tue, Sep 13, 2022, 15:40:07 - Joe Gonzalez: üòÜ I'm almost there. As soon as I get this install into a sandbox, I'll have time for sure!
Tue, Sep 13, 2022, 15:40:17 - pdurbin: awesome
Tue, Sep 13, 2022, 16:38:41 - pdurbin: poikilotherm (CEST,UTC+2): thanks for coming to tech hours. I hope you found it interesting. üòÑ
Tue, Sep 13, 2022, 16:39:00 - poikilotherm: Yeah it was fun
Tue, Sep 13, 2022, 16:39:21 - poikilotherm: And it seemed like I was somewhat helpful ü§ó
Tue, Sep 13, 2022, 16:39:43 - pdurbin: oh definitely
Tue, Sep 13, 2022, 16:39:53 - pdurbin: We appreciate your perspective.
Tue, Sep 13, 2022, 16:40:19 - pdurbin: One point I wanted to make is that lots and lots of webapps have great success without using JSF. üòÑ
Tue, Sep 13, 2022, 16:50:11 - poikilotherm: Very true
Tue, Sep 13, 2022, 16:50:26 - pdurbin: JSF is just all we know.
Tue, Sep 13, 2022, 16:50:55 - pdurbin: And if you're committed to Jakarta EE, which we are, JSF should definitely be considered.
Tue, Sep 13, 2022, 16:51:22 - poikilotherm: Well JSF isn't the holy grail. But changing from this really needs careful architecture changes and choices.
Tue, Sep 13, 2022, 16:51:29 - pdurbin: But I'm sure there are Jakarta EE backends out there (or maybe MicroProfile) that have non-JSF front ends and do just fine.
Tue, Sep 13, 2022, 16:54:33 - pdurbin: Not that I can find any. üòÑ
Tue, Sep 13, 2022, 16:54:45 - poikilotherm: Of course! Lot's of the microservice things are all about doing this
Tue, Sep 13, 2022, 16:58:53 - poikilotherm: But maybe it's easier to find Spring + Frontend Framework examples
Tue, Sep 13, 2022, 16:59:30 - poikilotherm: Spring really catched quite a bunch of people, as Java EE was so slow and unattractive. This might change now with Jakarta
Tue, Sep 13, 2022, 17:00:16 - poikilotherm: You could also look at projects like JHipster https://www.jhipster.tech/
Tue, Sep 13, 2022, 17:00:35 - poikilotherm: This stuff is trying to bring all the tech together
Tue, Sep 13, 2022, 17:01:11 - poikilotherm: "Full Stack" is the new buzzword for this kinda stuff
Tue, Sep 13, 2022, 17:01:16 - poikilotherm: (and devs)
Tue, Sep 13, 2022, 17:03:05 - pdurbin: Right, I need a "Who uses JHipster" link.
Tue, Sep 13, 2022, 17:04:14 - pdurbin: Ah, here it is: https://www.jhipster.tech/companies-using-jhipster/
Tue, Sep 13, 2022, 17:05:04 - pdurbin: These all seem to be companies. Which is fine, I guess, but it would be nice to see some open source projects.
Tue, Sep 13, 2022, 17:10:10 - poikilotherm: You could also search for `topic:jhipster` on Github
Tue, Sep 13, 2022, 17:11:25 - pdurbin: Thanks. This one uses Angular: https://github.com/mraible/21-points
Tue, Sep 13, 2022, 17:12:00 - poikilotherm: https://github.com/klask-io/klask-io
Tue, Sep 13, 2022, 17:12:10 - pdurbin: (You have to be really into your stack to add a topic for it to your repo.) üòÑ
Tue, Sep 13, 2022, 17:12:36 - poikilotherm: :-D
Tue, Sep 13, 2022, 17:12:48 - poikilotherm: Well we could add topics to Dataverse repo
Tue, Sep 13, 2022, 17:12:57 - poikilotherm: Currently it only states "hacktoberfest"
Tue, Sep 13, 2022, 17:13:10 - poikilotherm: Add Jakarta, JSF and others
Tue, Sep 13, 2022, 17:13:15 - poikilotherm: Make  things discoverable
Tue, Sep 13, 2022, 17:13:37 - pdurbin: Klask also seems to use Angular.
Tue, Sep 13, 2022, 17:16:03 - poikilotherm: pdurbin: speaking of Hacktoberfest: are you folks ready to accept PRs? I estimate there will be an increase in PRs coming in
Tue, Sep 13, 2022, 17:16:21 - pdurbin: Oh, right. Hacktoberfest. Hmm.
Tue, Sep 13, 2022, 17:16:40 - pdurbin: I tried to get people here excited about it one year.
Tue, Sep 13, 2022, 17:17:14 - pdurbin: I'm happy for more contributions. I think! üòÑ
Tue, Sep 13, 2022, 17:17:18 - poikilotherm: It boils down to adding a "hacktoberfest-accepted" label to qualifying PRs
Tue, Sep 13, 2022, 17:18:04 - poikilotherm: So if there isn't enough capacity, you might still make 'em count for shirts
Tue, Sep 13, 2022, 17:18:11 - poikilotherm: 40k shirts only!
Tue, Sep 13, 2022, 17:20:07 - pdurbin: Do you want to manage it? What would you need from us? You can add labels already.
Tue, Sep 13, 2022, 17:20:40 - poikilotherm: We should agree on some basic rules I guess.
Tue, Sep 13, 2022, 17:20:56 - poikilotherm: Maybe have different levels of requirements for types of PR
Tue, Sep 13, 2022, 17:21:08 - pdurbin: Sure.
Tue, Sep 13, 2022, 17:21:49 - pdurbin: We'd also need to coordinate what gets into a sprint. Otherwise review and QA won't happen. 68 open pull requests.
Tue, Sep 13, 2022, 17:22:16 - poikilotherm: Maybe larger code things would be OK to just receive the label
Tue, Sep 13, 2022, 17:22:41 - poikilotherm: Larger docs only might need a review and approval?
Tue, Sep 13, 2022, 17:23:09 - poikilotherm: And small stuff & typos etc only count when merged? (Also technically once approved they already count for Hacktoberfest)
Tue, Sep 13, 2022, 17:23:18 - pdurbin: Maybe we don't apply the able until the PR is in "This Sprint" which means it has been prioritized.
Tue, Sep 13, 2022, 17:24:26 - poikilotherm: See, maybe we should ask the community and the IQSS team how they feel about this. Encourage contributions but try not to overwhelm maintainers
Tue, Sep 13, 2022, 17:24:52 - pdurbin: I guess you could ask on the mailing list.
Tue, Sep 13, 2022, 17:24:58 - pdurbin: As for me, I'm fried after that meeting.
Tue, Sep 13, 2022, 17:25:08 - pdurbin: Time to bike home. Thanks again for joining!
Wed, Sep 14, 2022, 06:44:34 - pdurbin: 52 videos! I just finished adding them to DataverseTV: https://groups.google.com/g/dataverse-community/c/nt0xeQ8tO-s/m/5zWTWAg4BwAJ
Wed, Sep 14, 2022, 06:45:14 - pdurbin: From #dataverse2022, that is. Please feel free to suggest edits. I'm also happy to give access to edit the spreadsheet directly.
Wed, Sep 14, 2022, 08:07:07 - zbenta: Not particularly, we are using the default metadata fields for testing purposes and in the future we will define our own metadata blocks.
Wed, Sep 14, 2022, 09:08:44 - pdurbin: zbenta: if memory serves, your JSON works on our demo server but not your server. What could be different?
Wed, Sep 14, 2022, 09:10:56 - zbenta: I have no idea, we are using the same version of dataverse. It might be that I'm using an admin token to edit the metadata of a curator's dataset.
Wed, Sep 14, 2022, 09:11:10 - pdurbin: Did you see the comment by qqmyers at https://github.com/IQSS/dataverse/issues/8976#issuecomment-1246727270 ?
Wed, Sep 14, 2022, 09:11:30 - pdurbin: I just saw it myself. About :CVocConf.
Wed, Sep 14, 2022, 09:13:49 - zbenta: Yep, saw the notification at the same time
Wed, Sep 14, 2022, 09:13:57 - zbenta: I'll take a look into it.
Wed, Sep 14, 2022, 09:14:59 - pdurbin: It's probably an easy thing to test quick.
Wed, Sep 14, 2022, 09:15:41 - pdurbin: Thanks for opening the issue. It's nice to have some tracking around this. Plus other folks can join in the conversation asynchronously.
Wed, Sep 14, 2022, 09:19:29 - zbenta: I'll give some feedback both here and on the issue.
Wed, Sep 14, 2022, 09:45:49 - pdurbin: <@pdurbin:matrix.org "`curl -L -O -J -H "X-Dataverse-k..."> Philipp: I don't know if you got an odd file name or not (just a number, I mean) but Don Sizemore just opened this: https://github.com/IQSS/dataverse/issues/8977 (thanks, Don). Seems like a real bug starting around 5.10.
Wed, Sep 14, 2022, 10:05:50 - pdurbin: legit bug, as we say
Wed, Sep 14, 2022, 10:15:34 - zbenta: > I'll give some feedback both here and on the issue.

Problem solved
Wed, Sep 14, 2022, 10:20:08 - pdurbin: zbenta: great! Do you want to go ahead and close that issue?
Wed, Sep 14, 2022, 10:21:21 - zbenta: Sure thing pdurbin , thanks for the help qqmyers . 
Wed, Sep 14, 2022, 10:23:07 - pdurbin: Thanks! Only 1265 issues to go!
Wed, Sep 14, 2022, 13:34:46 - pdurbin: poikilotherm (CEST,UTC+2) carlsonp #7000 mpconfig merged: https://github.com/IQSS/dataverse/pull/8823
Wed, Sep 14, 2022, 14:07:56 - poikilotherm: Yesssssysss
Wed, Sep 14, 2022, 14:08:18 - poikilotherm: Greeeeaaaat
Wed, Sep 14, 2022, 14:08:26 - poikilotherm: ü•∞
Wed, Sep 14, 2022, 14:11:10 - hshahin333: Hi team, any examples/support for running Dataverse alongside SolrCloud? Many of the examples I see are those with running against one Solr instance
Wed, Sep 14, 2022, 14:30:14 - pdurbin: hshahin333: hi! Good question. I feel like SolrCloud may have come up in a recent talk. Was that zbenta talk, maybe?
Wed, Sep 14, 2022, 14:42:22 - pdurbin: Nope, standalone Solr: https://osf.io/fjw9t
Wed, Sep 14, 2022, 14:42:42 - pdurbin: But if memory serves, zbenta talked about SolrCloud, at least.
Wed, Sep 14, 2022, 14:43:03 - pdurbin: Here's the video of his talk: https://www.youtube.com/watch?v=-Re_elg67e8&t=1733s
Wed, Sep 14, 2022, 14:43:10 - pdurbin: hshahin333: ^^
Wed, Sep 14, 2022, 14:43:41 - pdurbin: I would suggest asking on the mailing list. You'll reach many more people there: https://groups.google.com/g/dataverse-community
Wed, Sep 14, 2022, 14:51:53 - poikilotherm: <@hshahin333:matrix.org "Hi team, any examples/support fo..."> ü§©
Wed, Sep 14, 2022, 14:52:18 - poikilotherm: I would love to see people use it...
Wed, Sep 14, 2022, 14:53:01 - poikilotherm: Basically that's why I want to provide a ZIP with a Dataverse Solr core template
Wed, Sep 14, 2022, 14:54:02 - poikilotherm: üò≤ https://github.com/IQSS/dataverse/issues/8980
Wed, Sep 14, 2022, 14:55:12 - pdurbin: It looks like Michel might be using SolrCloud: https://groups.google.com/g/dataverse-community/c/oncYnLhJyHI/m/WsAnmf9TAgAJ
Wed, Sep 14, 2022, 14:56:19 - poikilotherm: pdurbin: do we want to include https://github.com/IQSS/dataverse/pull/8915 in 5.12? It's really small although looking large. Doesn't change much by default. Simply uses the Payara defaults but makes it configurable
Wed, Sep 14, 2022, 14:57:02 - pdurbin: poikilotherm (CEST,UTC+2): do you know that book "If you give a mouse a cookie"? üòÑ
Wed, Sep 14, 2022, 14:57:37 - poikilotherm: Nope. But I know the saying "Wenn man dir den kleinen Finger reicht, reisst du gleich den ganzen Arm ab". 
Wed, Sep 14, 2022, 14:57:38 - pdurbin: Our (stretch?) goal is to get 5.12 out in a week (please don't quote me on that!) so I'd say no.
Wed, Sep 14, 2022, 14:58:32 - poikilotherm: OK. It's fine. Can be in 5.13. Nothing really blocking me for now, just convienience
Wed, Sep 14, 2022, 14:58:54 - pdurbin: good
Wed, Sep 14, 2022, 14:59:01 - poikilotherm: Welcome back hshahin333 feel free to chime in anytime
Wed, Sep 14, 2022, 14:59:38 - poikilotherm: Oh we have honoured guests in the house, juliangautier is with us! üëã
Wed, Sep 14, 2022, 15:01:44 - poikilotherm: pdurbin: I'm going to rebase all those PRs for more on #7000
Wed, Sep 14, 2022, 15:01:54 - poikilotherm: So glad it's merged
Wed, Sep 14, 2022, 15:02:19 - pdurbin: I figured this would give you something to do. Keep you moving. üòÑ /me cracks whip
Wed, Sep 14, 2022, 15:04:50 - poikilotherm: pdurbin: "crack the whip: Behave in a domineering and demanding way toward one's subordinates." üò≤üò®üôà
Wed, Sep 14, 2022, 15:05:17 - pdurbin: in a joking way, of course
Wed, Sep 14, 2022, 15:05:46 - pdurbin: perhaps we have a strange sense of humor
Wed, Sep 14, 2022, 15:06:08 - poikilotherm: Right away Sir, rebasing now!
Wed, Sep 14, 2022, 15:06:14 - poikilotherm: üòù
Wed, Sep 14, 2022, 15:07:45 - poikilotherm: pdurbin: I imagine you wildly shaking your phone https://play.google.com/store/apps/details?id=com.developdroid.android.whip&gl=US
Wed, Sep 14, 2022, 15:07:59 - juliangautier: Hey all. I downloaded the Element app on my phone last week and now I get push notifications for every message lol. So I'll probably be popping in more often
Wed, Sep 14, 2022, 15:08:22 - poikilotherm: You can limit that to "mention only" if you want
Wed, Sep 14, 2022, 15:09:09 - poikilotherm: And there should be an option to get alarmed on keywords. No idea how to set those.
Wed, Sep 14, 2022, 15:16:05 - pdurbin: juliangautier: the notifications... yeah. It's very configurable. A little confusing. üòÑ
Wed, Sep 14, 2022, 15:18:13 - juliangautier: I can figure it out I'm sure, if the notifications get to be too much. I was just explaining why I joined the chat and why I might join more often üôÇ
Wed, Sep 14, 2022, 15:20:24 - pdurbin: juliangautier: it's nice to have more IQSSers here.
Wed, Sep 14, 2022, 15:21:27 - pdurbin: hshahin333: I think you should try to contact the folks who run https://entrepot.recherche.data.gouv.fr and see if they run SolrCloud.
Wed, Sep 14, 2022, 15:25:31 - pdurbin: (I bet Michel helped them set it up.)
Wed, Sep 14, 2022, 15:28:43 - hshahin333: Thanks team, this is helpful and thanks for reference. After a little review I don't think the schema.xml or solrconfig.xml files need to change if using SolrCloud which was my worry, they just need to be uploaded to zookeeper - I may give it a try and see how it goes: https://solr.apache.org/guide/6_6/using-zookeeper-to-manage-configuration-files.html#UsingZooKeepertoManageConfigurationFiles-UploadingConfigurationFilesusingbin_solrorSolrJ
Wed, Sep 14, 2022, 15:29:32 - pdurbin: hshahin333: great! Please keep us and especially poikilotherm (CEST,UTC+2) with any updates!
Wed, Sep 14, 2022, 20:57:38 - carlsonp: just a note, some of the container security issues that we noticed are likely false positives for Solr specifically, working with our internal team to make sure they don't get flagged
Thu, Sep 15, 2022, 07:31:40 - pdurbin: I always want to say good morning but I guess I'll say good new day. Sounds weird. You know what I mean. Nice to see you all here.
Thu, Sep 15, 2022, 08:11:13 - poikilotherm: I guess "Hello" is also pretty daytime-agnostic
Thu, Sep 15, 2022, 09:08:11 - pdurbin: plop
Thu, Sep 15, 2022, 09:08:19 - pdurbin: That's what some French people do.
Thu, Sep 15, 2022, 09:08:30 - pdurbin: I think it means "I'm here."
Thu, Sep 15, 2022, 09:11:07 - pdurbin: seems kinda fun üòÑ
Thu, Sep 15, 2022, 09:26:11 - pdurbin: Johannes Darms: I bounced your email into our ticketing system and replied there. Please let me know if you got it. Thanks! This ticket: https://help.hmdc.harvard.edu/Ticket/Display.html?id=326241
Thu, Sep 15, 2022, 09:50:58 - Leonhard Maylein joined the room
Thu, Sep 15, 2022, 09:59:35 - poikilotherm: <@pdurbin:matrix.org "That's what some French people d..."> Belgian people seem to go with "Behold!", right Benjamin (SODHA) ? üòÖ
Thu, Sep 15, 2022, 10:07:30 - pdurbin: Yeah, maybe "Behold!" can be our thing. üòÑ
Thu, Sep 15, 2022, 10:48:22 - zbenta: Does anyone have an idea about what attributes does dataverse use/expects while creating an account using oauth? We have tried an external IDP, tested it out and it works(kind of). We are able to create accounts and login into dataverse, but when we look at the userpersistentid in the database, it is a mess, compared to a user that uses egi as their idp. 
Thu, Sep 15, 2022, 10:48:27 - zbenta sent an image. (Media omitted)
Thu, Sep 15, 2022, 10:49:01 - zbenta: We used another instance to setup orcid as our idp and the results are what we expected.
Thu, Sep 15, 2022, 10:49:17 - zbenta sent an image. (Media omitted)
Thu, Sep 15, 2022, 10:49:39 - zbenta: We get the ORCID as the persistentuserid
Thu, Sep 15, 2022, 10:49:54 - pdurbin: <@zbenta:matrix.org "We get the ORCID as the persiste..."> Yes, this is by design.
Thu, Sep 15, 2022, 10:50:12 - zbenta: We believe it has something to do with the data that is being sent by the idp we configured
Thu, Sep 15, 2022, 10:50:43 - pdurbin: Wait, are you logging in with ORCID?
Thu, Sep 15, 2022, 10:51:19 - pdurbin: If you log in with ORCID persistentid should be the ORCID id.
Thu, Sep 15, 2022, 10:51:20 - zbenta: if we use the idp as a proxy to orcid we get this mess.
Thu, Sep 15, 2022, 10:51:22 - zbenta sent an image. (Media omitted)
Thu, Sep 15, 2022, 10:51:47 - pdurbin: I don't know what that qtf thing is.
Thu, Sep 15, 2022, 10:52:21 - pdurbin: I saw "we set up orcid as our idp". So they log in with ORCID?
Thu, Sep 15, 2022, 10:52:42 - zbenta: We are talking wiht the person that configured the idp we are using to see what is happening with the data that is being sent to dataverse.
Thu, Sep 15, 2022, 10:54:09 - zbenta: > I saw "we set up orcid as our idp". So they log in with ORCID?

We have 2 situations one where we configured ORCID by the book as the documentation states, we use "..."factoryData":"type: orcid | userEndpoint: https://pub.orcid.org/v2.1/{ORCID}/person ..."
Thu, Sep 15, 2022, 10:54:23 - pdurbin: ok, good üòÑ
Thu, Sep 15, 2022, 10:54:35 - zbenta: and this works flawlessly 
Thu, Sep 15, 2022, 10:54:42 - pdurbin: phew üòÖ
Thu, Sep 15, 2022, 10:55:56 - zbenta: The second situation we have configured it as follows "..."factoryData":"type: oidc | issuer: https://connect.qua.rctsaai.pt..." and we are able to login as wellm¬´, since this idp acts as "proxy" for orcid.
Thu, Sep 15, 2022, 10:56:16 - pdurbin: Ok, I guess that's not supported then. üòÑ
Thu, Sep 15, 2022, 10:56:33 - pdurbin: I mean, maybe we can make it work? Not sure.
Thu, Sep 15, 2022, 10:57:04 - zbenta: We want to be able use that idp to acces a indentification that is specific to Portugal wich is called Ci√™nciaID.
Thu, Sep 15, 2022, 10:57:54 - zbenta: We would like to know if dataverse catches any specific metadata field from the idp that it uses as the userpersistentid.
Thu, Sep 15, 2022, 10:58:21 - zbenta: We would ask the administrators of the idp to format the data so it would be compatible.
Thu, Sep 15, 2022, 10:58:43 - pdurbin: Let's see. From GitHub I believe we store the integer that is your GitHub id.
Thu, Sep 15, 2022, 10:59:04 - pdurbin: That is, we try to store something reasonable and unique.
Thu, Sep 15, 2022, 10:59:16 - pdurbin: It's been a while since I've looked at this, honestly.
Thu, Sep 15, 2022, 11:00:37 - zbenta: In Portugal we use CienciaID to identify  Researchers and students, for exemple, my profile is this https://www.cienciavitae.pt//pt/8017-C444-0F1D
Thu, Sep 15, 2022, 11:01:12 - zbenta: My identifier is "8017-C444-0F1D"
Thu, Sep 15, 2022, 11:01:37 - zbenta: I would like to have this as my persistentuserid
Thu, Sep 15, 2022, 11:02:00 - pdurbin: Sure, and we have something similar for HarvardKey. An opaque, unique identifier. We put this in userpersistentid along with the IdP entityID (separated by a pipe | ).
Thu, Sep 15, 2022, 11:02:36 - pdurbin: You can probably have it if you use SAML/Shibboleth if your IdP support that.
Thu, Sep 15, 2022, 11:03:25 - pdurbin: Your IdP probably sends it across the wire as the eppn. (I would anyway.)
Thu, Sep 15, 2022, 11:13:27 - pdurbin: Oh! You're using OIDC. That means poikilotherm (CEST,UTC+2) may be able to help. üòÑ
Thu, Sep 15, 2022, 11:16:27 - pdurbin: Is 8017-C444-0F1D coming across the wire at all?
Thu, Sep 15, 2022, 11:16:53 - pdurbin: I don't see it in your screenshots.
Thu, Sep 15, 2022, 11:20:36 - zbenta: pdurbin:  Do you have and idea of what attribute/claim that is being used to map the persistenuserid?
Thu, Sep 15, 2022, 11:20:47 - pdurbin: For OIDC?
Thu, Sep 15, 2022, 11:21:42 - pdurbin: For Shibboleth/SAML it's eppn.
Thu, Sep 15, 2022, 11:22:09 - zbenta: for OIDC
Thu, Sep 15, 2022, 11:22:30 - pdurbin: I don't know. poikilotherm (CEST,UTC+2) wrote the code. I guess I could try to dig into it and find it.
Thu, Sep 15, 2022, 11:29:15 - pdurbin: Ok, I think it's here: https://github.com/IQSS/dataverse/blob/v5.11.1/src/main/java/edu/harvard/iq/dataverse/authorization/providers/oauth2/oidc/OIDCAuthProvider.java#L204
Thu, Sep 15, 2022, 11:29:26 - pdurbin: userInfo.getSubject().getValue()
Thu, Sep 15, 2022, 11:29:35 - pdurbin: so whatever subject is, I think
Thu, Sep 15, 2022, 11:29:38 - pdurbin: if that helps
Thu, Sep 15, 2022, 11:34:10 - pdurbin: Maybe you could print out userInfo.getSubject().toJSONString() to see if there's anything interesting in there.
Thu, Sep 15, 2022, 11:37:21 - zbenta: > Maybe you could print out userInfo.getSubject().toJSONString() to see if there's anything interesting in there.

That would require a compilation of the project, right?
Thu, Sep 15, 2022, 11:38:05 - zbenta: I don't knwo if I'm right, but ti looks like dataverse is a war file provided by payara.
Thu, Sep 15, 2022, 11:38:19 - pdurbin: Yeah, you'd have to recompile.
Thu, Sep 15, 2022, 11:38:32 - pdurbin: I would say "deployed to Payara" but yes.
Thu, Sep 15, 2022, 11:39:59 - poikilotherm: I can't chime in right now. Can catch up later this evening 
Thu, Sep 15, 2022, 11:40:46 - * pdurbin shakes fist at timezones ‚úä
Thu, Sep 15, 2022, 11:40:55 - zbenta: ok, thanks poikilotherm (CEST,UTC+2) 
Thu, Sep 15, 2022, 11:41:54 - jmfc set a profile picture
Thu, Sep 15, 2022, 13:53:55 - Don Sizemore: @pdurbin any chance I could ask a small favor?
Thu, Sep 15, 2022, 13:57:18 - pdurbin: Don Sizemore: for you? Anything.
Thu, Sep 15, 2022, 13:58:30 - Don Sizemore: @pdurbin do you still have access to your Splunk logs?
Thu, Sep 15, 2022, 13:59:15 - Don Sizemore: specifically I'm curious to see if you all are seeing or have seen NPEs with initFilesTree() and/or getFilesTreeRoot()
Thu, Sep 15, 2022, 13:59:29 - pdurbin: doesn't ring a bell
Thu, Sep 15, 2022, 13:59:37 - Don Sizemore: it looks like privateURLs are involved but I haven't correlated all the times yet
Thu, Sep 15, 2022, 13:59:47 - pdurbin: huh
Thu, Sep 15, 2022, 14:00:01 - pdurbin: well, obviously, if you can reproduce it, lemme know
Thu, Sep 15, 2022, 14:16:56 - Don Sizemore: I'm trying to *find* the "tree view" toggle
Thu, Sep 15, 2022, 14:17:31 - pdurbin: Oh, it's only for dataset where the files are in a hierarchy.
Thu, Sep 15, 2022, 14:17:43 - pdurbin: We don't show it for a flat list of files.
Thu, Sep 15, 2022, 14:19:58 - pdurbin: Don Sizemore: here's one: https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/ZUXCCK
Thu, Sep 15, 2022, 14:20:38 - pdurbin: Oh and I do have access to our Splunk logs. I missed that earlier.
Thu, Sep 15, 2022, 14:26:48 - pdurbin: Nothing in Splunk for the last 7 days.
Thu, Sep 15, 2022, 14:28:59 - Don Sizemore: so, I think I found the bug, but I'm not sure how to reproduce it.
Thu, Sep 15, 2022, 14:29:59 - Don Sizemore: they have two datasets (neither published) which keep throwing this NPE in initFilesTree(). our archivist never gets the "change view" pair of buttons atop the file list. this may be the bug?
Thu, Sep 15, 2022, 14:31:39 - pdurbin: An NPE is a bug.
Thu, Sep 15, 2022, 14:31:51 - pdurbin: Can you reproduce it on the demo server?
Thu, Sep 15, 2022, 14:32:09 - Don Sizemore: I don't have access to the server.log there and Leonid is about to reinstall it.
Thu, Sep 15, 2022, 14:32:26 - pdurbin: heh, touche
Thu, Sep 15, 2022, 14:32:31 - Don Sizemore: Visually, there's not much in the UI: server.log barfs the NPE; the user doesn't get the "Change View" heading
Thu, Sep 15, 2022, 14:32:34 - Don Sizemore: I think that's the bug
Thu, Sep 15, 2022, 14:32:52 - pdurbin: If you want, email server.log to support@dataverse.org
Thu, Sep 15, 2022, 14:33:11 - pdurbin: along with the version so the line numbers make sense
Thu, Sep 15, 2022, 14:33:24 - Don Sizemore: yeah, but I'm not sure how to reproduce it. this is older data (4.13) that got upgraded to 5.10.1 over the past three weeks.
Thu, Sep 15, 2022, 14:34:00 - pdurbin: the worst kind
Thu, Sep 15, 2022, 14:34:39 - pdurbin: anyway, I'm curious which line is throwing the NPE
Thu, Sep 15, 2022, 14:36:18 - Don Sizemore: as of 5.10.1 it's edu.harvard.iq.dataverse.DatasetPage.initFilesTree(DatasetPage.java:2215)
Thu, Sep 15, 2022, 14:37:38 - pdurbin: Ok so https://github.com/IQSS/dataverse/blob/v5.10.1/src/main/java/edu/harvard/iq/dataverse/DatasetPage.java#L2215
Thu, Sep 15, 2022, 14:37:47 - pdurbin:         for ( FileMetadata fileMetadata :workingVersion.getFileMetadatasSortedByLabelAndFolder()) {
Thu, Sep 15, 2022, 14:37:54 - pdurbin: so workingVersion is null
Thu, Sep 15, 2022, 14:37:55 - pdurbin: why?
Thu, Sep 15, 2022, 14:39:15 - Don Sizemore: @pdurbin this dataset version funsie is why I was a little concerned, though this predates 5.11
Thu, Sep 15, 2022, 14:41:01 - pdurbin: Yeah. Those damn ghost drafts. I started a thread in #dv-tech, if that helps.
Thu, Sep 15, 2022, 14:41:51 - carlsonp: *sighs* - Cybersecurity: "It says there's a fix, can't you just patch this Jar in Solr?" me: "no, this is an upstream issue and it's a false positive", Cybersecurity: "You can patch this right? We can't run with vulnerabilities" ... *eye twitches*
Thu, Sep 15, 2022, 14:45:01 - Don Sizemore: carlsonp: is this log4j?
Thu, Sep 15, 2022, 14:45:08 - carlsonp: nope
Thu, Sep 15, 2022, 14:45:36 - Don Sizemore: I didn't expect so, but in case it was, you _could_ simply swap out the log4j jars in Solr, you just have to get them all.
Thu, Sep 15, 2022, 14:46:07 - carlsonp: yeah it's some other dependencies sadly
Thu, Sep 15, 2022, 14:48:23 - pdurbin: carlsonp: does that mean you'll cook up a PR to upgrade all of Solr? üòÑ What makes sense?
Thu, Sep 15, 2022, 14:48:57 - carlsonp: lol I wish, even solr:9 is flagging on some stuff
Thu, Sep 15, 2022, 14:49:04 - pdurbin: wow
Thu, Sep 15, 2022, 14:49:23 - pdurbin: can't win but don't give up üòÑ
Thu, Sep 15, 2022, 14:49:34 - carlsonp: we're going to have to setup an exception but getting Cybersecurity on board with that is going to be challenging
Thu, Sep 15, 2022, 14:50:08 - pdurbin: fight fight fight
Thu, Sep 15, 2022, 14:50:29 - carlsonp: don't worry, I'm not giving up that easily haha
Thu, Sep 15, 2022, 15:06:50 - poikilotherm: <@zbenta:matrix.org "pdurbin:  Do you have and idea o..."> https://connect2id.com/learn/openid-connect#id-token
Thu, Sep 15, 2022, 15:07:32 - poikilotherm: The IDP decides on the content of `sub`
Thu, Sep 15, 2022, 15:09:08 - pdurbin: ok, so I wasn't far off with "subject" üòÑ
Thu, Sep 15, 2022, 15:09:14 - pdurbin: zbenta: ^^
Thu, Sep 15, 2022, 15:09:21 - pdurbin: thanks poikilotherm (CEST,UTC+2) 
Thu, Sep 15, 2022, 15:10:36 - poikilotherm: This will not reveal anything - it is only useful to change the value into something you can serialize with JSON. https://www.javadoc.io/static/com.nimbusds/oauth2-oidc-sdk/9.43.1/src-html/com/nimbusds/oauth2/sdk/id/Identifier.html#line.147
Thu, Sep 15, 2022, 15:11:07 - pdurbin: Oh. Bummer. But is there a way to get more info into server.log?
Thu, Sep 15, 2022, 15:11:27 - poikilotherm: Still trying to see what is the actual problem
Thu, Sep 15, 2022, 15:14:53 - poikilotherm: I guess this is the real question:
> We want to be able use that idp to acces a indentification that is specific to Portugal wich is called Ci√™nciaID.
> We would like to know if dataverse catches any specific metadata field from the idp that it uses as the userpersistentid.
> We would ask the administrators of the idp to format the data so it would be compatible.
Thu, Sep 15, 2022, 15:16:26 - poikilotherm: I guess what you could do is use the OIDC playground to retrieve the id token and see it's contents https://openidconnect.net/
Thu, Sep 15, 2022, 15:16:45 - poikilotherm: You can configure it to point to your IdP, provide the credentials etc
Thu, Sep 15, 2022, 15:16:56 - pdurbin: zbenta: ^^
Thu, Sep 15, 2022, 15:17:28 - poikilotherm: I don't know where that special ID is stored with the response
Thu, Sep 15, 2022, 15:17:36 - poikilotherm: It might even be not included in the standard claims
Thu, Sep 15, 2022, 15:17:48 - poikilotherm: But there should be something in the docs of the IdP
Thu, Sep 15, 2022, 15:18:09 - poikilotherm: Some statement etc how they send the ID to you
Thu, Sep 15, 2022, 15:18:21 - pdurbin: sounds promising
Thu, Sep 15, 2022, 15:20:09 - poikilotherm: The place to be for mapping the id token supplied information is here: https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/authorization/providers/oauth2/oidc/OIDCAuthProvider.java#L201-L210
Thu, Sep 15, 2022, 15:21:14 - poikilotherm: Currently, there is no mapping or other stuff in place to reorder to mangle the information into different fields of the user model
Thu, Sep 15, 2022, 15:21:28 - poikilotherm: Would be a valuable extension though
Thu, Sep 15, 2022, 15:22:15 - poikilotherm: That means: if the IdP is for whatever reason not using these special IDs as their `sub` value, you'll have a hard time
Thu, Sep 15, 2022, 15:23:26 - pdurbin: In Shib you can map attrbutes. Map NameID to eppn for example. So maybe "special ID" can be mapped to "sub" in an OIDC world.
Thu, Sep 15, 2022, 15:28:33 - poikilotherm: My question would be: why would you do that.
Thu, Sep 15, 2022, 15:28:55 - poikilotherm: The `sub` value is meant to used as the primary id in an application
Thu, Sep 15, 2022, 15:29:05 - poikilotherm: It's guaranteed to be unique
Thu, Sep 15, 2022, 15:29:07 - poikilotherm: Etc
Thu, Sep 15, 2022, 15:31:01 - pdurbin: Well, in a Shib world, if you have a good relationship with your IdP people, maybe you don't need to remap anything. Maybe they'll send eppn for you. But since you control the SP on your Dataverse server, who can do whatever mapping you need to if your IdP people won't send eppn.
Thu, Sep 15, 2022, 15:32:36 - poikilotherm: I see
Thu, Sep 15, 2022, 15:32:54 - poikilotherm: Within the OIDC world, this should be mitigated by the standard
Thu, Sep 15, 2022, 15:33:31 - pdurbin: sounds neat and tidy üòÑ
Thu, Sep 15, 2022, 15:37:29 - poikilotherm: http://web.archive.org/web/20220901182427/https://openid.net/specs/openid-connect-core-1_0.html#IDToken
Thu, Sep 15, 2022, 15:37:54 - poikilotherm: > `sub`: REQUIRED. Subject Identifier. A locally unique and never reassigned identifier within the Issuer for the End-User, which is intended to be consumed by the Client, e.g., 24400320 or AItOawmwtWwcT0k51BayewNvutrJUqsvl6qs7A4. It MUST NOT exceed 255 ASCII characters in length. The sub value is a case sensitive string.
Thu, Sep 15, 2022, 15:38:46 - poikilotherm: So this actually is what you want for the primary id. Never changing, always the same.
Thu, Sep 15, 2022, 15:39:41 - pdurbin: Cool. In the Shib world I get the impression that corporations use NameId and schools use eppn (part of eduPerson).
Thu, Sep 15, 2022, 15:39:51 - poikilotherm: Meh
Thu, Sep 15, 2022, 15:40:13 - poikilotherm: The OIDC world has standard claims to retrieve data about a user
Thu, Sep 15, 2022, 15:40:14 - poikilotherm: http://web.archive.org/web/20220901182427/https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims
Thu, Sep 15, 2022, 15:41:02 - poikilotherm: Usually you need to send along the auth request that you require certain scopes to be sent back. Scopes are groups of claims.
Thu, Sep 15, 2022, 15:41:30 - poikilotherm: That enables the IdP to ask you about "hey this party wants to access this and that data"
Thu, Sep 15, 2022, 15:41:41 - poikilotherm: Consent screens. Really crucial
Thu, Sep 15, 2022, 15:42:07 - poikilotherm: Not common in SAML world üôÑ
Thu, Sep 15, 2022, 15:43:23 - poikilotherm: Of course these standard claims do not offer academic stuff like affiliation / eppn whatever. Which is why most of the providers provide you custom scopes and claims
Thu, Sep 15, 2022, 15:44:58 - pdurbin: What lab you are in, etc. üòÑ
Thu, Sep 15, 2022, 15:47:22 - poikilotherm: Precisely :-)
Thu, Sep 15, 2022, 15:50:28 - poikilotherm: To give you a real world example: Helmholtz AAI has docs on their scopes and the claims/attributes that come with it: https://hifis.net/doc/helmholtz-aai/attributes/#oauth2oidc
Thu, Sep 15, 2022, 15:50:54 - poikilotherm: So I would expect the üáµüáπ IdP has something similar
Thu, Sep 15, 2022, 15:52:24 - pdurbin: yeah
Thu, Sep 15, 2022, 15:55:29 - poikilotherm: Maybe someone would want to store all those ID stuff somewhere. Like the ORCID etc. On the other hand, with plans on UI etc yet to be made, we should just keep it as is for now
Thu, Sep 15, 2022, 16:03:14 - pdurbin: Recently Ceilyn Boyd asked me if HarvardKey (Shibboleth) starting putting ORCID IDs in the SAML assertion, could we store the ORCID in Dataverse. Sure, it'll take a little dev work but it would be a nice feature. We'd treat the ORCID as trusted/verified like we do when an email address comes from SAML.
Thu, Sep 15, 2022, 16:49:23 - Don Sizemore: @pdurbin I don't suppose you recorded your Globus demo?
Thu, Sep 15, 2022, 16:50:44 - pdurbin: Don Sizemore: of course I did: https://groups.google.com/g/dataverse-community/c/Uy-J9dLNQ1g/m/_pBmvbwJAwAJ
Fri, Sep 16, 2022, 03:55:35 - Benjamin (SODHA): Behold!
Fri, Sep 16, 2022, 03:57:19 - Benjamin (SODHA): ü•Æ
Fri, Sep 16, 2022, 04:03:28 - Benjamin (SODHA): You know you want the moon cake
Fri, Sep 16, 2022, 04:22:10 - zbenta: Thanks poikilotherm (CEST,UTC+2) and pdurbin for the input, I'll try to mess around with openidconnect playground to see what I'm getting from the idp.
Fri, Sep 16, 2022, 06:52:37 - pdurbin: <@oliver:bertuch.name "Belgian people seem to go with "..."> Right. üòÑ
Fri, Sep 16, 2022, 06:53:16 - poikilotherm: We should ask Ouahalou Youssef for validation of our claim
Fri, Sep 16, 2022, 07:03:06 - Benjamin (SODHA): <@oliver:bertuch.name "Belgian people seem to go with "..."> That's trademark me tho
Fri, Sep 16, 2022, 07:03:27 - Benjamin (SODHA): I just feel the need to remind everybody I'm an English major
Fri, Sep 16, 2022, 07:03:41 - Benjamin (SODHA): (even though I actually have French & Belgian citizenships and I've never been in the army)
Fri, Sep 16, 2022, 07:03:51 - Benjamin (SODHA): (I'm also not a dad even though I make the silliest of jokes)
Fri, Sep 16, 2022, 07:04:15 - Benjamin (SODHA): <@oliver:bertuch.name "We should ask Ouahalou Youssef f..."> Youssef is both much more reasonable than me & much more skilled with computers
Fri, Sep 16, 2022, 07:04:22 - Benjamin (SODHA): (And still I'm his boss; go figure)
Fri, Sep 16, 2022, 07:04:35 - Benjamin (SODHA): (Actually, based on Dilbert's comics, that sounds like a very common situation)
Fri, Sep 16, 2022, 07:04:49 - Benjamin (SODHA): <@pdurbin:matrix.org "That's what some French people d..."> We do!
Fri, Sep 16, 2022, 07:05:16 - Benjamin (SODHA): <@pdurbin:matrix.org "I always want to say good mornin..."> There's always "Good day," but I guess you might fear sounding unnecessarily Australian? üòú
Fri, Sep 16, 2022, 07:09:36 - poikilotherm: How about "Guten Tag" then? üòú
Fri, Sep 16, 2022, 07:10:58 - Benjamin (SODHA): Genau!
Fri, Sep 16, 2022, 08:15:58 - zbenta: > (And still I'm his boss; go figure)

Maybe you've talked your way to the top and he's more of a quiet person üòÖ
Fri, Sep 16, 2022, 08:32:32 - Benjamin (SODHA): <@zbenta:matrix.org "> (And still I'm his boss; go fi..."> I have koalafications tho üê®
Fri, Sep 16, 2022, 08:32:37 - Benjamin (SODHA): I am a digital archivist!
Fri, Sep 16, 2022, 08:33:13 - Benjamin (SODHA): But I think many people in this line of work feel some kind of 'Puter Envy
Fri, Sep 16, 2022, 09:07:40 - pdurbin: At least you have no fear of GitHub Benjamin (SODHA) and that's not nothin'.
Fri, Sep 16, 2022, 09:08:00 - Benjamin (SODHA): <@pdurbin:matrix.org "At least you have no fear of Git..."> You have trained me well, Master
Fri, Sep 16, 2022, 09:08:08 - Benjamin (SODHA): I mean, you have greatly helped us Philip!
Fri, Sep 16, 2022, 09:08:56 - pdurbin: heh, if you ever want to dive into some code, lemme know!
Fri, Sep 16, 2022, 09:11:18 - Benjamin (SODHA): Dataverse is Java-heavy, I understand? üò∞
Fri, Sep 16, 2022, 09:11:59 - pdurbin: Yeah but our map is Python and Javascript, for example.
Fri, Sep 16, 2022, 09:12:22 - pdurbin: https://github.com/IQSS/dataverse-installations
Fri, Sep 16, 2022, 09:12:36 - pdurbin: Lots of code to hack on. üòÑ
Fri, Sep 16, 2022, 09:12:42 - Don Sizemore: @pdurbin good morning. I have a low-priority question, when you have a minute.
Fri, Sep 16, 2022, 09:12:58 - pdurbin: Don Sizemore: hit me ü™ì
Fri, Sep 16, 2022, 09:13:15 - Don Sizemore: You said something in Slack yesterday that stuck with me: "an NPE is a bug."
Fri, Sep 16, 2022, 09:13:24 - pdurbin: oh yes
Fri, Sep 16, 2022, 09:13:47 - pdurbin: well, an uncaught NPE is a bug
Fri, Sep 16, 2022, 09:13:50 - Don Sizemore: I've been a little comforted to see similar NPEs in Johns Hopkins' logs to those I've grown accustomed to seeing in UNC Dataverse's logs
Fri, Sep 16, 2022, 09:14:18 - Don Sizemore: but if you want me to report such things (particularly getDatasetAuthors, which seems to be the most common) I can start opening issues as I have time
Fri, Sep 16, 2022, 09:15:09 - pdurbin: Well, let's see. Logs are good but what's better is the log with the steps that trigger the bug.
Fri, Sep 16, 2022, 09:15:30 - Don Sizemore: I think in both cases for me it's old data parsed by new code
Fri, Sep 16, 2022, 09:16:02 - pdurbin: Usually that's how it goes. This is broken (in UI or API). Please show us the stacktrace. Then we have a connection. Cause and effect.
Fri, Sep 16, 2022, 09:16:05 - Don Sizemore: but the dataset page regularly throws NPEs somewhere in getDatasetAuthors
Fri, Sep 16, 2022, 09:16:22 - pdurbin: but the page seems fine?
Fri, Sep 16, 2022, 09:16:32 - pdurbin: or does it blow up?
Fri, Sep 16, 2022, 09:17:01 - Don Sizemore: I dunno, I can start correlating log entries. Johns Hopkins wants TreeView functionality so I'll be poking around on their server some more today.
Fri, Sep 16, 2022, 09:18:01 - pdurbin: If I recall, yesterday you said the whole page doesn't blow up but the tree view button never appears (which is still bad but less bad).
Fri, Sep 16, 2022, 09:18:26 - Don Sizemore: I don't have access to the datasets in question, but Betsy didn't notice anything in the UI, so that's a good sign.
Fri, Sep 16, 2022, 09:19:03 - pdurbin: didn't notice a tree button
Fri, Sep 16, 2022, 09:22:13 - pdurbin: Anyway, I could probably go in our Splunk and find a bunch of NPEs. We aren't in the habit of looking for these. There are tools in this space. Sentry. Raygun.
Fri, Sep 16, 2022, 09:25:20 - Joe Gonzalez: Good morning everyone. Anyone have (or know where I could find) a conceptual system diagram for Dataverse? I need something like that for the infrastructure folks at the client I'm installing Dataverse for. TIA!
Fri, Sep 16, 2022, 09:26:27 - pdurbin: Joe Gonzalez oh man, we were just talking about this! Right, poikilotherm (CEST,UTC+2) ? I can link you to stuff in the guides. I'm curious what you have in mind though. What do you expect to see in the diagram?
Fri, Sep 16, 2022, 09:27:29 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 09:28:01 - pdurbin: Is that one ^^ close? It's from https://guides.dataverse.org/en/5.11.1/installation/prep.html
Fri, Sep 16, 2022, 09:28:42 - Joe Gonzalez: At a high level, perhaps how a user would interact with the system and the associated underlying software (Solr, Postgres, etc)
Fri, Sep 16, 2022, 09:29:55 - Joe Gonzalez: Actually, that looks great! I'll run it by them. If they need more, I can try to supplement it. Thank you! üôè
Fri, Sep 16, 2022, 09:30:32 - pdurbin: Sure. Let me give you two user-level diagrams too. And an issue to comment on if you like.
Fri, Sep 16, 2022, 09:30:52 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 09:31:03 - Joe Gonzalez: Yes, please. 
Fri, Sep 16, 2022, 09:31:09 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 09:31:22 - pdurbin: Those are both from the User Guide.
Fri, Sep 16, 2022, 09:32:39 - pdurbin: Hmm, I think there are two issues. This one from Don Sizemore about an AWS diagram: https://github.com/IQSS/dataverse/issues/8922
Fri, Sep 16, 2022, 09:33:21 - poikilotherm: Message deleted
Fri, Sep 16, 2022, 09:33:29 - poikilotherm: I can also provide you this one
Fri, Sep 16, 2022, 09:33:47 - poikilotherm: It was made for something else though
Fri, Sep 16, 2022, 09:34:05 - poikilotherm: Oh wait, I withdraw that one
Fri, Sep 16, 2022, 09:34:40 - poikilotherm: Wasn't showing current state but some discussion we had... üôà
Fri, Sep 16, 2022, 09:35:13 - pdurbin: I can't find the other issue but it was basically asking for that "3webservers" diagram to be updated, I think.
Fri, Sep 16, 2022, 09:36:44 - pdurbin: Joe Gonzalez: anyway, please feel free to open a fresh issue and describe what you want if none of the above suits you. Diagrams really help people.
Fri, Sep 16, 2022, 09:37:33 - poikilotherm: Here we go again... An interactive modeling tool (such as Structurizer or others) would come in handy here
Fri, Sep 16, 2022, 09:37:51 - poikilotherm: (Please don't ü™ì me)
Fri, Sep 16, 2022, 09:38:02 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 09:38:16 - pdurbin: poikilotherm (CEST,UTC+2): that's the one I shared with Len and Stefano yesterday.
Fri, Sep 16, 2022, 09:38:35 - pdurbin: From https://eclipse-ee4j.github.io/jakartaee-tutorial/#distributed-multitiered-applications
Fri, Sep 16, 2022, 09:38:38 - poikilotherm: Ah beautiful stack/tech domains
Fri, Sep 16, 2022, 09:38:47 - pdurbin: But no API!
Fri, Sep 16, 2022, 09:38:56 - poikilotherm: (Relating to the talk by Carola here)
Fri, Sep 16, 2022, 09:39:19 - pdurbin: How would you add an API? Just draw a box that say "API"? Or would you refer to it as a servlet?
Fri, Sep 16, 2022, 09:39:42 - poikilotherm: Uhm maybe there is a similar diagram for JAX-RS?
Fri, Sep 16, 2022, 09:39:50 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 09:39:58 - poikilotherm: Urgh
Fri, Sep 16, 2022, 09:40:01 - pdurbin: JAX-RS Resource... from https://eclipse-ee4j.github.io/jakartaee-firstcup/creating-example001.html
Fri, Sep 16, 2022, 09:40:16 - pdurbin: my kingdom for a good diagram
Fri, Sep 16, 2022, 09:40:29 - poikilotherm: I'm not sure I like that one
Fri, Sep 16, 2022, 09:40:51 - poikilotherm: It's missing the client
Fri, Sep 16, 2022, 09:41:37 - poikilotherm: Man don't get me tempted to start a C4 model for Dataverse...
Fri, Sep 16, 2022, 09:41:48 - poikilotherm: I gotta run, pick up my little one from kindergarden
Fri, Sep 16, 2022, 09:42:33 - pdurbin: Bye! And I was just going to ask him how many servlets he thinks Dataverse has. Oh well. Ma√±ana.
Fri, Sep 16, 2022, 09:48:22 - Benjamin (SODHA): You may be very kind, but German children are Kinder
Fri, Sep 16, 2022, 09:49:20 - pdurbin: On the walk to school my daughter and I saw a guy with a shirt that said, "I keep my dad jokes in a dad-a-base."
Fri, Sep 16, 2022, 09:51:08 - Benjamin (SODHA): In Spain and Latin America, they show great reverence towards database administrators
Fri, Sep 16, 2022, 09:51:15 - Benjamin (SODHA): Or, as they put it, El Administr'adore
Fri, Sep 16, 2022, 09:55:50 - pdurbin: Don Sizemore: please let me put it this way. You are very welcome to open an issue about an NPE. But maybe consider it a placeholder until we can associate it with a user action. Maybe someone else googling for the error will find it and know what the action is and tell us.
Fri, Sep 16, 2022, 09:57:32 - pdurbin: At that point, the issue becomes a lot more actionable. Otherwise it can be a bit of a fishing expedition. üé£
Fri, Sep 16, 2022, 10:15:30 - Benjamin (SODHA): So I'm going through O'Reilly's main book on designing interfaces, my final read before I start a-writin'
Fri, Sep 16, 2022, 10:15:34 - Benjamin (SODHA) sent an image. (Media omitted)
Fri, Sep 16, 2022, 10:15:39 - Benjamin (SODHA): A fascinating work
Fri, Sep 16, 2022, 10:15:50 - Benjamin (SODHA): Many of the best practices it recommends, Dataverse follows!
Fri, Sep 16, 2022, 10:16:56 - pdurbin: Nice! Maybe I should read it. Third edition. Cool.
Fri, Sep 16, 2022, 10:17:26 - Benjamin (SODHA): It is really exhaustive
Fri, Sep 16, 2022, 10:17:54 - pdurbin: Benjamin (SODHA): do you recognize this author? üòÑ I have a copy of this book on my bookshelf: https://www.amazon.com/Tania-Schlatter/e/B00F60C1WE%3Fref=dbs_a_mng_rwt_scns_share
Fri, Sep 16, 2022, 10:18:17 - Benjamin (SODHA): I most certainly do! Tania has often reacted to our suggestions on GitHub üëçÔ∏è üôè
Fri, Sep 16, 2022, 10:18:33 - pdurbin: I miss her so much.
Fri, Sep 16, 2022, 10:18:52 - Benjamin (SODHA): Ooh that book of hers looks vv cool
Fri, Sep 16, 2022, 10:19:23 - pdurbin: She's a friend. Our kids were in kindergarten together. We still hang out but I don't see her as much, of course.
Fri, Sep 16, 2022, 10:19:48 - pdurbin: It's a great book. Highly recommended. We were lucky to have her as long as we did.
Fri, Sep 16, 2022, 10:51:22 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 10:51:46 - pdurbin: poikilotherm (CEST,UTC+2) (and others): for when you're back. What do you think? ^^
Fri, Sep 16, 2022, 11:15:47 - Benjamin (SODHA): I must now mosey on to greener pastures
Fri, Sep 16, 2022, 11:15:52 - Benjamin (SODHA): Have a nice weekend y'all!
Fri, Sep 16, 2022, 11:28:52 - Joe Gonzalez: Thanks pdurbin , the diagrams really help üôè
Fri, Sep 16, 2022, 11:29:24 - pdurbin: Joe Gonzalez: sure, that last one is more of a concept. There is no SPA in Dataverse currently.
Fri, Sep 16, 2022, 11:31:10 - pdurbin sent an image. (Media omitted)
Fri, Sep 16, 2022, 11:31:14 - pdurbin: one more ^^
Fri, Sep 16, 2022, 11:33:37 - Joe Gonzalez: Is it fair to suggest the arrows going to the DB and Solr are bi-directional given that they're used for information retrieval?
Fri, Sep 16, 2022, 11:33:48 - pdurbin: definitely
Fri, Sep 16, 2022, 11:34:13 - Joe Gonzalez: Very helpful, many thanks!
Fri, Sep 16, 2022, 14:29:44 - Don Sizemore: pdurbin: I've had a request of Dataverse TV
Fri, Sep 16, 2022, 14:29:59 - pdurbin: Oh ho! Let's hear it.
Fri, Sep 16, 2022, 14:30:44 - Don Sizemore: One of the Johns Hopkins archivists would like a School House Rocks "Dataverse" version of "I'm Just a Bill" to help them better understand the upload/checksum/ingest/publication processes under the hood.
Fri, Sep 16, 2022, 14:39:56 - pdurbin: heh
Fri, Sep 16, 2022, 14:40:08 - pdurbin: under the hood?
Fri, Sep 16, 2022, 14:40:32 - pdurbin: how far down the rabbit hole?
Fri, Sep 16, 2022, 15:03:18 - poikilotherm: > <@pdurbin:matrix.org> sent an image.

I like the idea to showcase the difference. It was hard to spot for me, but that's maybe just me. I'm dumb sometimes.

Now that I saw the difference, I still would like to mention some points.

For me, the diagram doesn't depict enough of the complexity involved and the relations between the components. I'm kinda missing what's happening in the browser, what on server side. The abstraction the API provides and how this is different with JSF and a clientside framework could be more emphasized on. When looking at it without knowing about the involved underlying tech and complexity, it's hard so see why it's more than "just do it".
Fri, Sep 16, 2022, 15:05:52 - pdurbin: That's fair.
Fri, Sep 16, 2022, 15:06:12 - pdurbin: Browsers are clients. So that's where they would be in the diagram.
Fri, Sep 16, 2022, 15:06:41 - pdurbin: Apache serves up the SPA. It's executed client-side, of course, which isn't shown.
Fri, Sep 16, 2022, 15:07:50 - pdurbin: I reused a diagram that already showed a load balancer. In this version you could think of half of the traffic going to the old JSF solution and half going to the new SPA solution.
Fri, Sep 16, 2022, 15:16:30 - pdurbin: And yeah, I can imagine people saying, "Just do it." The diagram makes it look easy, not on purpose. üòÑ
Fri, Sep 16, 2022, 15:22:29 - poikilotherm: Maybe this is the point where it might be necessary to use a more distinguished modelling like C4, as this allows for more than just boxes and arrows.
Fri, Sep 16, 2022, 15:22:47 - pdurbin: Sure, no objection. üòÑ
Fri, Sep 16, 2022, 15:23:10 - poikilotherm: Good diagrams are hard work
Fri, Sep 16, 2022, 15:23:13 - pdurbin: and we can blow stuff up with C4 üí£Ô∏è
Fri, Sep 16, 2022, 15:23:42 - poikilotherm: üí•
Fri, Sep 16, 2022, 15:24:30 - pdurbin: Is SPA the right term?
Fri, Sep 16, 2022, 15:24:47 - poikilotherm: I wasn't to say anything but I am not sure
Fri, Sep 16, 2022, 15:25:17 - pdurbin: I can't find a better term than SPA so that's what I went with.
Fri, Sep 16, 2022, 15:26:15 - pdurbin: And I like how https://en.wikipedia.org/wiki/Single-page_application#Server_architecture explains three types of APIs:

- thin API
- thick stateful API
- thick stateless API
Fri, Sep 16, 2022, 15:29:23 - poikilotherm: I guess some would like to see a "thin server".
Fri, Sep 16, 2022, 15:29:56 - pdurbin: thin API or thin server?
Fri, Sep 16, 2022, 15:30:08 - poikilotherm: Thin server architecture
A SPA moves logic from the server to the client, with the role of the web server evolving into a pure data API or web service. This architectural shift has, in some circles, been coined "Thin Server Architecture" to highlight that complexity has been moved from the server to the client, with the argument that this ultimately reduces overall complexity of the system. 
Fri, Sep 16, 2022, 15:30:30 - poikilotherm: "the role of the web server evolving into a pure data API or web service"
Fri, Sep 16, 2022, 15:31:48 - poikilotherm: Actually this might be a more sane approach than trying to reshape the current thing into a "thick stateful" one.
Fri, Sep 16, 2022, 15:32:17 - poikilotherm: Clear, separated roles definitely reduce complexity
Fri, Sep 16, 2022, 15:32:57 - pdurbin: Our APIs are thin.
Fri, Sep 16, 2022, 15:33:07 - poikilotherm: Yes
Fri, Sep 16, 2022, 15:33:20 - pdurbin: And no one has built an SPA on top yet.
Fri, Sep 16, 2022, 15:33:33 - poikilotherm: Because it's hard work :-D
Fri, Sep 16, 2022, 15:33:40 - pdurbin: heh, exactly
Fri, Sep 16, 2022, 15:33:43 - poikilotherm: Aaaand a lot of it
Fri, Sep 16, 2022, 15:34:19 - poikilotherm: But trying to reshape from a thin model to a thick one sounds... Ambitious
Fri, Sep 16, 2022, 15:34:54 - poikilotherm: It might be just as much work and effort as creating an SPA on top of the existing API
Fri, Sep 16, 2022, 15:35:53 - pdurbin: Right. So where do you put the effort?
Fri, Sep 16, 2022, 15:36:03 - pdurbin: Pick your poison.
Fri, Sep 16, 2022, 15:36:08 - poikilotherm: Which brings me back to the diagram: adding the element of state management in there might be a key point
Fri, Sep 16, 2022, 15:36:51 - pdurbin: I hear you. Not sure how to draw it. Want the Graphviz/dot source?
Fri, Sep 16, 2022, 15:37:17 - poikilotherm: <@pdurbin:matrix.org "Pick your poison."> 100%. This is where you need to decide if you want to drink the poison of JavaScript frontends being a fullblood Java dev
Fri, Sep 16, 2022, 15:37:41 - poikilotherm: <@pdurbin:matrix.org "I hear you. Not sure how to draw..."> I don't know, too. :-D
Fri, Sep 16, 2022, 15:37:42 - pdurbin: might turn into something good for Halloween
Fri, Sep 16, 2022, 15:38:17 - poikilotherm: Oh here is an idea: SPAs are quite common. Maybe there is a C4 example to reuse/extend?
Fri, Sep 16, 2022, 15:40:13 - poikilotherm: https://c4model.com/img/bigbankplc-Containers.png
Fri, Sep 16, 2022, 15:42:00 - pdurbin: Do you have the source for it?
Fri, Sep 16, 2022, 15:42:21 - poikilotherm: This is done in Structurizr, but maybe C4 Plantuml has this replicated?
Fri, Sep 16, 2022, 15:42:37 - poikilotherm: BTW here is a component view of this thing https://c4model.com/img/bigbankplc-Components.png
Fri, Sep 16, 2022, 15:42:52 - poikilotherm: There is the SPA communicating with the API etc
Fri, Sep 16, 2022, 15:43:52 - poikilotherm: Yeah they have the examples in PlantUML https://github.com/plantuml-stdlib/C4-PlantUML
Fri, Sep 16, 2022, 15:44:06 - poikilotherm: It's not looking as good though
Fri, Sep 16, 2022, 15:44:46 - poikilotherm: Maybe, just maybe, it might be worth looking at the structurizer lite thing
Fri, Sep 16, 2022, 15:51:00 - pdurbin: If you figure it all out, I'm happy to use it. üòÑ
Fri, Sep 16, 2022, 15:51:21 - pdurbin: I just showed both diagrams to Leonid.
Fri, Sep 16, 2022, 15:52:26 - pdurbin: He likes the "push half the traffic to the new thing" idea.

And the "stop pushing half the traffic to the new thing if it's on fire" idea. üî•
Fri, Sep 16, 2022, 15:53:54 - poikilotherm: Ha A/B testing is meant to be done with similar UI/UX...
Fri, Sep 16, 2022, 15:54:21 - pdurbin: 42 shades of blue
Fri, Sep 16, 2022, 15:57:56 - Joe Gonzalez: Is there anyway around the smtp server requirement during install? Wasn't an issue before (during my tests I was using smtp.gmail.com) but now that or any open, publicly available smtp servers are timing out and localhost isn't working either. Any suggestions? TIA
Fri, Sep 16, 2022, 15:58:25 - pdurbin: nc -l 25
Fri, Sep 16, 2022, 15:59:05 - pdurbin: For more context, please see https://guides.dataverse.org/en/5.11.1/developers/dev-environment.html#run-the-dataverse-software-installer-script
Fri, Sep 16, 2022, 15:59:17 - poikilotherm: Joe Gonzalez: you did configure an MTA on your box, aye?
Fri, Sep 16, 2022, 15:59:57 - poikilotherm: The tiniest MTA I know would be https://wiki.archlinux.org/title/Msmtp
Fri, Sep 16, 2022, 16:00:20 - poikilotherm: Should be available on all distros, I just like the Arch Wiki
Fri, Sep 16, 2022, 16:01:41 - Joe Gonzalez: Let me try that, thanks poikilotherm (CEST,UTC+2) and pdurbin 
Fri, Sep 16, 2022, 16:05:56 - Joe Gonzalez: Curious as to why the gmail server stopped working. Used that a few days ago without issue. Same image, same software
Fri, Sep 16, 2022, 16:08:17 - pdurbin: Dunno. Should work fine with Gmail.
Fri, Sep 16, 2022, 16:12:08 - poikilotherm: <@josephgonzalez:matrix.org "Curious as to why the gmail serv..."> Image?
Fri, Sep 16, 2022, 16:12:20 - pdurbin: corporate image
Fri, Sep 16, 2022, 16:12:45 - Joe Gonzalez: AWS EC2 image (Rocky 8)
Fri, Sep 16, 2022, 16:19:15 - Joe Gonzalez: For context: I'm experimenting with the install on my own AWS account before I try this on my client's VPC, where my access to certain things will be limiting
Fri, Sep 16, 2022, 16:23:22 - pdurbin: Joe Gonzalez: you could try our ec2-create-instance script if you like: https://guides.dataverse.org/en/5.11.1/developers/testing.html#running-the-full-api-test-suite-using-ec2
Fri, Sep 16, 2022, 16:23:52 - pdurbin: We use to run our API test suite but you can also just spin up a one off ec2 instance with it.
Fri, Sep 16, 2022, 16:24:24 - pdurbin: Many thanks to Don Sizemore for maintaining it (and the test infra!) over the years.
Fri, Sep 16, 2022, 16:25:18 - pdurbin: Actually, this is probably a better link (same script, better context for what you're talking about): https://guides.dataverse.org/en/5.11.1/developers/deployment.html#deploying-the-dataverse-software-to-amazon-web-services-aws
Fri, Sep 16, 2022, 16:26:08 - Joe Gonzalez: This is awesome, thank you!
Fri, Sep 16, 2022, 16:26:35 - pdurbin: Oh sure. May your Amazon bill be ever low.
Fri, Sep 16, 2022, 16:27:31 - Joe Gonzalez: Indeed!
Fri, Sep 16, 2022, 17:07:00 - pdurbin: Ok, I've got rowers to pick up at the river. (My daughter's on the crew team.) Have a good weekend, everyone!
Fri, Sep 16, 2022, 17:13:01 - Joe Gonzalez: Have a great weekend!
Sun, Sep 18, 2022, 21:19:22 - pdurbin: I just made a table of Dataverse installations by country: https://iqss.github.io/dataverse-installations/bycountry.html . 34 countries! I love it.
Mon, Sep 19, 2022, 10:05:37 - Benjamin (SODHA): <@pdurbin:matrix.org "I just made a table of Dataverse..."> Precious documentation! Thanks a lot, pdurbin 
Mon, Sep 19, 2022, 10:07:04 - pdurbin: Oh. Sure. It was fun. I'm learning Web Components, which is a new-ish standard built into browsers that allows you to build components (sort of like React, Vue, Angular, etc.).
Mon, Sep 19, 2022, 13:14:01 - poikilotherm: Arrr! üêí üèùÔ∏è Release today! On "International Talk Like A Pirate" Day!
Mon, Sep 19, 2022, 13:29:04 - pdurbin: monkey island?
Mon, Sep 19, 2022, 13:36:24 - Lynette Garcia Perez joined the room
Mon, Sep 19, 2022, 13:37:54 - Lynette Garcia Perez: Hello everyone I have an issue with dataverse. I had dataverse runing in ubuntu 20.4. I even uploaded my first dataset. I tried to configure a test account in data cite and modified the domain.xlm file, and then I restarted payara service. Now I can't access dataverse, I only see payara default page. Do you know what could happened?
Mon, Sep 19, 2022, 13:39:20 - pdurbin: Hmm. Is domain.xml still valid XML after editing? If you saved a copy before editing, can you put it back? Any errors in server.log?
Mon, Sep 19, 2022, 13:44:15 - Lynette Garcia Perez: server.log have this errors
Mon, Sep 19, 2022, 13:44:18 - Lynette Garcia Perez: [2022-09-19T17:04:12.252+0000] [Payara 5.2021.6] [WARNING] [] [com.hazelcast.spi.impl.operationservice.impl.Invocation] [tid: _ThreadID=51 _ThreadName=hz.relaxed_ride.>
  [192.168.10.125]:4900 [development] [4.2] Future.complete(Object) on completed future. Request: Invocation{op=com.hazelcast.map.impl.operation.SetOperation{serviceNa>
java.lang.Exception
        at com.hazelcast.spi.impl.AbstractInvocationFuture.warnIfSuspiciousDoubleCompletion(AbstractInvocationFuture.java:1253)
        at com.hazelcast.spi.impl.AbstractInvocationFuture.complete0(AbstractInvocationFuture.java:1230)
        at com.hazelcast.spi.impl.AbstractInvocationFuture.complete(AbstractInvocationFuture.java:1219)
        at com.hazelcast.spi.impl.operationservice.impl.Invocation.complete(Invocation.java:672)
        at com.hazelcast.spi.impl.operationservice.impl.Invocation.detectAndHandleTimeout(Invocation.java:444)
        at com.hazelcast.spi.impl.operationservice.impl.InvocationMonitor$MonitorInvocationsTask.run0(InvocationMonitor.java:327)
        at com.hazelcast.spi.impl.operationservice.impl.InvocationMonitor$FixedRateMonitorTask.run(InvocationMonitor.java:283)
        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.base/java.lang.Thread.run(Thread.java:829)
]]

[2022-09-19T17:04:13.252+0000] [Payara 5.2021.6] [WARNING] [] [com.hazelcast.spi.impl.operationservice.impl.Invocation] [tid: _ThreadID=51 _ThreadName=hz.relaxed_ride.>
  [192.168.10.125]:4900 [development] [4.2] Future.complete(Object) on completed future. Request: Invocation{op=com.hazelcast.map.impl.operation.SetOperation{serviceNa>
java.lang.Exception
        at com.hazelcast.spi.impl.AbstractInvocationFuture.warnIfSuspiciousDoubleCompletion(AbstractInvocationFuture.java:1253)
        at com.hazelcast.spi.impl.AbstractInvocationFuture.complete0(AbstractInvocationFuture.java:1230)
        at com.hazelcast.spi.impl.AbstractInvocationFuture.complete(AbstractInvocationFuture.java:1219)
        at com.hazelcast.spi.impl.operationservice.impl.Invocation.complete(Invocation.java:672)
        at com.hazelcast.spi.impl.operationservice.impl.Invocation.detectAndHandleTimeout(Invocation.java:444)
        at com.hazelcast.spi.impl.operationservice.impl.InvocationMonitor$MonitorInvocationsTask.run0(InvocationMonitor.java:327)
        at com.hazelcast.spi.impl.operationservice.impl.InvocationMonitor$FixedRateMonitorTask.run(InvocationMonitor.java:283)
        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.base/java.lang.Thread.run(Thread.java:829)
]]

[2022-09-19T17:04:14.252+0000] [Payara 5.2021.6] [WARNING] [] [com.hazelcast.spi.impl.operationservice.impl.Invocation] [tid: _ThreadID=51 _ThreadName=hz.relaxed_ride.>
  [192.168.10.125]:4900 [development] [4.2] Future.complete(Object) on completed future. Request: Invocation{op=com.hazelcast.map.impl.operation.SetOperation{serviceNa>
java.lang.Exception

Mon, Sep 19, 2022, 13:49:55 - pdurbin: Lynette Garcia Perez: yikes! I don't think I've seen this before. The only thing you did was edit domain.xml?
Mon, Sep 19, 2022, 13:49:57 - Lynette Garcia Perez: I changed back domain.xml
Mon, Sep 19, 2022, 13:51:42 - Lynette Garcia Perez: yes, only user and password of datacite in <jmv-options>-Ddoi.username and Ddoi.password lines
Mon, Sep 19, 2022, 13:56:49 - Lynette Garcia Perez: I tried to restart payara after i changed domain.xml but I got an this error :  There is a process already using the admin port 4848 -- it could be another instance of Payara Server or Payara Micro.
Is not the first time I get this error so I killed all glassfish process and start payara again, as I did it before. But this time, payara default page  show up in my browser instead of dataverse
Mon, Sep 19, 2022, 13:58:03 - pdurbin: It sounds like the war file is no longer deployed. Do you see anything "dataverse" when you run `asadmin list-applications`?
Mon, Sep 19, 2022, 13:58:41 - Lynette Garcia Perez: yes. asadmin> list-applications
dataverse  <ejb, health, metrics, openapi, web>

Mon, Sep 19, 2022, 13:59:42 - pdurbin: Good. What if you curl http://localhost:8080/api/info/version
Mon, Sep 19, 2022, 14:00:57 - Lynette Garcia Perez: Payara page
Mon, Sep 19, 2022, 14:01:00 - Lynette Garcia Perez: <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Payara Server  5.2021.6 #badassfish - Error report</title><style type="text/css"><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP Status 404 - Not Found</h1><hr/><p><b>type</b> Status report</p><p><b>message</b>Not Found</p><p><b>description</b>The requested resource is not available.</p><hr/><h3>Payara Server  5.2021.6 #badassfish</h3></body></html>l
Mon, Sep 19, 2022, 14:01:34 - pdurbin: Hmm. It's as if list-applications is lying to us. "Dataverse is deployed! Really!"
Mon, Sep 19, 2022, 14:02:03 - pdurbin: I say we undeploy the war. Stop Payara. Start Payara. Then deploy the war.
Mon, Sep 19, 2022, 14:09:12 - Lynette Garcia Perez: asadmin> deploy /usr/local/dvinstall/dataverse.war
remote failure: Error occurred during deployment: Application with name dataverse is already registered. Either specify that redeployment must be forced, or redeploy the application. Or if this is a new deployment, pick a different name. Please see server.log for more details.
Command deploy failed.

Mon, Sep 19, 2022, 14:09:54 - pdurbin: That error is normal if a war file is deployed. Are you able to undeploy the war?
Mon, Sep 19, 2022, 14:10:08 - pdurbin: `asadmin undeploy dataverse`
Mon, Sep 19, 2022, 14:17:49 - Lynette Garcia Perez: It has not finished. Does it take so much?
Mon, Sep 19, 2022, 14:18:10 - pdurbin: I would give it 20 seconds.
Mon, Sep 19, 2022, 14:19:57 - Lynette Garcia Perez: ./asadmin undeploy dataverse
remote failure: Application dataverse is not deployed on this target [server]
Command undeploy failed.

Mon, Sep 19, 2022, 14:22:48 - pdurbin: But `list-applications` still says "dataverse"?
Mon, Sep 19, 2022, 14:22:59 - pdurbin: If so, it sounds like Payara is confused.
Mon, Sep 19, 2022, 14:23:32 - Lynette Garcia Perez: no. Nothing to list.
No applications are deployed to this target server.
Command list-applications executed successfully.

Mon, Sep 19, 2022, 14:23:56 - pdurbin: Ok, good! Now can you please stop Payara?
Mon, Sep 19, 2022, 14:24:34 - pdurbin: `asadmin stop-domain`
Mon, Sep 19, 2022, 14:26:26 - Lynette Garcia Perez: ok 
Mon, Sep 19, 2022, 14:26:37 - Lynette Garcia Perez: domain1 is not running
Mon, Sep 19, 2022, 14:27:17 - pdurbin: Ok, now please start it
Mon, Sep 19, 2022, 14:27:28 - pdurbin: `asadmin start-domain`
Mon, Sep 19, 2022, 14:27:47 - Lynette Garcia Perez: There is a process already using the admin port 4848 -- it could be another instance of Payara Server or Payara Micro.
Command start-domain failed.

Mon, Sep 19, 2022, 14:28:02 - pdurbin: Ah ha! Find it and kill it! üòÑ
Mon, Sep 19, 2022, 14:28:54 - Lynette Garcia Perez: ok, ha ha, domain1 is starting
Mon, Sep 19, 2022, 14:29:18 - Lynette Garcia Perez: Command start-domain executed successfully.

Mon, Sep 19, 2022, 14:29:36 - pdurbin: Great, then please `list-applications`. No "dataverse" yet, hopefully.
Mon, Sep 19, 2022, 14:30:10 - Lynette Garcia Perez: no, nothing to list
Mon, Sep 19, 2022, 14:30:22 - pdurbin: Ok, now please try to deploy
Mon, Sep 19, 2022, 14:31:41 - Lynette Garcia Perez: ü§û
Mon, Sep 19, 2022, 14:32:29 - pdurbin: üôè
Mon, Sep 19, 2022, 14:33:34 - Lynette Garcia Perez: PER01003: Deployment encountered SQL Exceptions:

Mon, Sep 19, 2022, 14:33:56 - pdurbin: that might be normal üòÑ
Mon, Sep 19, 2022, 14:34:06 - Lynette Garcia Perez: Command deploy completed with warnings.
Mon, Sep 19, 2022, 14:34:46 - Lynette Garcia Perez: Yes, I thought so, the database is already configured
Mon, Sep 19, 2022, 14:35:13 - pdurbin: Right.
Mon, Sep 19, 2022, 14:35:24 - pdurbin: It's a long story. üòÑ
Mon, Sep 19, 2022, 14:36:05 - Lynette Garcia Perez: And there is my dataverse!! But What I did wrong?
Mon, Sep 19, 2022, 14:37:13 - pdurbin: Um. Let's see. Nothing. I don't think. Payara got confused. It happens.
Mon, Sep 19, 2022, 14:45:11 - Lynette Garcia Perez: but I lost my files in my dataset
Mon, Sep 19, 2022, 14:45:58 - pdurbin: oh dear
Mon, Sep 19, 2022, 14:46:09 - pdurbin: This is a test server, right?
Mon, Sep 19, 2022, 14:46:31 - pdurbin: Are they in the default "files" directory?
Mon, Sep 19, 2022, 14:46:46 - Lynette Garcia Perez: yes, but now I,m worry
Mon, Sep 19, 2022, 14:46:52 - Lynette Garcia Perez: yes
Mon, Sep 19, 2022, 14:47:08 - pdurbin: I'd be worried if you weren't worried. üòÑ
Mon, Sep 19, 2022, 14:47:10 - Lynette Garcia Perez: they are in the default files directory
Mon, Sep 19, 2022, 14:47:44 - pdurbin: But not associated with your dataset?
Mon, Sep 19, 2022, 14:48:22 - Lynette Garcia Perez: I had one dataverse, one dataset and 3 files in the dataset
Mon, Sep 19, 2022, 14:50:36 - pdurbin: I'm not sure why the files would be gone.
Mon, Sep 19, 2022, 14:51:48 - Lynette Garcia Perez: don't worry I will upload it again
Mon, Sep 19, 2022, 14:52:19 - Lynette Garcia Perez: in domain.xml doi password option looks like this. ${ALIAS=doi_password_alias}
Mon, Sep 19, 2022, 14:53:53 - Lynette Garcia Perez: I have to replace only "doi_password_alias" with my password?
Mon, Sep 19, 2022, 14:55:02 - pdurbin: Um. It's complicated. The easy way is to put your password in domain.xml in plain text. The more secure way is to use that "alias" feature of Payara. This is a test server, perhaps you could try the easy way first. It's up to you. üòÑ
Mon, Sep 19, 2022, 14:55:24 - pdurbin: "since this is a test server," I meant
Mon, Sep 19, 2022, 14:55:59 - Lynette Garcia Perez: ok, that's  what I did 

Mon, Sep 19, 2022, 14:56:18 - Lynette Garcia Perez: I'll try again
Mon, Sep 19, 2022, 14:56:57 - pdurbin: Sounds good. Are you using a test account or real account from DataCite?
Mon, Sep 19, 2022, 14:57:12 - Lynette Garcia Perez: test account
Mon, Sep 19, 2022, 14:57:18 - pdurbin: ok
Mon, Sep 19, 2022, 14:57:43 - Lynette Garcia Perez: thank you for your time
Mon, Sep 19, 2022, 14:58:21 - pdurbin: Oh sure, happy to help. üòÑ
Mon, Sep 19, 2022, 14:58:36 - pdurbin: Sorry to hear about the Payara trouble. Hopefully it only happens rarely.
Mon, Sep 19, 2022, 14:59:50 - Lynette Garcia Perez: ok. I'm learning too, thanks for your patience
Mon, Sep 19, 2022, 15:02:54 - pdurbin: Better to ask than give up. üòÑ
Mon, Sep 19, 2022, 15:10:11 - Don Sizemore: @pdurbin can you help me find those Dataverse architecture diagrams?
Mon, Sep 19, 2022, 15:17:19 - pdurbin sent an image. (Media omitted)
Mon, Sep 19, 2022, 15:17:29 - pdurbin: dotarch1.dot (Media omitted)
Mon, Sep 19, 2022, 15:17:47 - pdurbin: That's the one I like. Nice straight lines. I uploaded the source too.
Mon, Sep 19, 2022, 15:18:21 - pdurbin: `dot -Tpng dotarch1.dot -o /tmp/out.png`
Mon, Sep 19, 2022, 15:19:15 - Don Sizemore: yeah, I found the earlier version of that one, but she wants "where does the data go" which is largely installation-specific
Mon, Sep 19, 2022, 15:19:36 - pdurbin: Oh. Right. No S3 or filesystem. Please feel free to add this!
Mon, Sep 19, 2022, 15:19:43 - pdurbin: Len pointed this out too.
Mon, Sep 19, 2022, 15:20:15 - pdurbin: Hell, you could probably swap out Rserve, who is sort of a bit player. üòÑ
Mon, Sep 19, 2022, 18:53:12 - poikilotherm: carlsonp pdurbin you might enjoy what I just pushed as docs here: https://dataverse-guide--8933.org.readthedocs.build/en/8933/container/base-image.html
Tue, Sep 20, 2022, 07:19:00 - Don Sizemore: @pdurbin as an archivist she wants a "path the data travels" through Dataverse - a different facet of the architecture. The three copies of each file when local storage is involved, where the metadata lives, everything an archivist would want to know.
Tue, Sep 20, 2022, 07:45:42 - pdurbin: Don Sizemore: hmm. I'd say open an issue, if you don't mind. Seems like a good diagram for the User Guide.
Tue, Sep 20, 2022, 07:46:30 - Don Sizemore: oh, I'm not really asking, just seeing if one existed. yes, it does seem like a good addition to the user guide.
Tue, Sep 20, 2022, 07:49:03 - poikilotherm: Speaking of storage...
Tue, Sep 20, 2022, 07:49:29 - poikilotherm: I'm looking into creating a small patch for https://github.com/IQSS/dataverse/issues/6656, making the tempdir thing for uploads configurable
Tue, Sep 20, 2022, 07:50:18 - poikilotherm: How do you folks feel about a setting `dataverse.files.uploads`, defaulting to `/tmp/dataverse`?
Tue, Sep 20, 2022, 07:50:38 - poikilotherm: (The Payara default is `domain1/generated/jsp/dataverse`)
Tue, Sep 20, 2022, 07:52:09 - poikilotherm: (Reminder: nowadays we use `dataverse.files.directory` setting, where a `/temp` folder is used to store files after upload finished for further analysis. It's not used for anything else anymore)
Tue, Sep 20, 2022, 07:52:36 - pdurbin: Making that directory configurable? Sure!
Tue, Sep 20, 2022, 07:55:37 - pdurbin: Also, nice diagram! I forgot about it. Don Sizemore ^^ (but it's more for the back end)
Tue, Sep 20, 2022, 07:56:58 - Don Sizemore: it's the "Bill on Capitol Hill" diagram Johns Hopkins wants.
Tue, Sep 20, 2022, 07:56:55 - poikilotherm: So you think `/tmp/dataverse` would be an OK choice for the default? Or should the default still be the `./generated/jsp/dataverse` thing?
Tue, Sep 20, 2022, 07:57:52 - Don Sizemore: @poikilotherm files beneath `/tmp` get cleaned up after 10 days by default on Red Hat systems. this may be preferable, or may warrant a caution in the documentation?
Tue, Sep 20, 2022, 07:58:23 - Don Sizemore: @poikilotherm if Dataverse likes to manage its own `generated/` hierarchy that may result in a surprise from time to time
Tue, Sep 20, 2022, 08:31:11 - pdurbin: poikilotherm (CEST,UTC+2): /tmp feels like potential security risk so I'd go with that jsp thing as the default, please.
Tue, Sep 20, 2022, 08:34:52 - pdurbin: I guess you can use MPCONFIG now. üéâ
Tue, Sep 20, 2022, 09:06:23 - poikilotherm: Hmm Don Sizemore is correct about those surprises...
Tue, Sep 20, 2022, 09:06:57 - poikilotherm: Maybe we can go with `domain1/uploads` so it isn't as random/hidden anymore?
Tue, Sep 20, 2022, 09:07:15 - poikilotherm: So it would be next to `domain1/docroot`
Tue, Sep 20, 2022, 09:09:44 - poikilotherm: At least it's much more explainable as a mountpoint for a tmpfs or volume...
Tue, Sep 20, 2022, 09:26:46 - pdurbin: You're looking for a sane default. You could suggest domain1/uploads and see what people think in code review, sure.
Tue, Sep 20, 2022, 12:06:45 - pdurbin: nice community call
Tue, Sep 20, 2022, 12:07:32 - pdurbin: including a demo of https://github.com/gdcc/dvwebloader
Tue, Sep 20, 2022, 14:23:52 - Don Sizemore: @poikilotherm will be pleased to know that today I reinstalled Ubuntu 22 on the new SSD I got, and his `8947-payara-5-2022-3` warfile compiled straightaway with no `XmX` modification
Tue, Sep 20, 2022, 14:24:03 - Don Sizemore: so perhaps my Payara6 testing can proceed.
Tue, Sep 20, 2022, 14:32:06 - pdurbin: nice
Wed, Sep 21, 2022, 08:55:35 - pdurbin: What's new, Dataversians?
Wed, Sep 21, 2022, 08:59:56 - Benjamin (SODHA): Just found out about that presentation you and the whole gang gave at PREC in 2020!
Wed, Sep 21, 2022, 09:00:11 - Benjamin (SODHA): Imma cite you
Wed, Sep 21, 2022, 09:00:27 - pdurbin: What did you call me?
Wed, Sep 21, 2022, 09:00:29 - pdurbin: PREC?
Wed, Sep 21, 2022, 09:00:47 - Benjamin (SODHA): P-REC'S, sorry
Wed, Sep 21, 2022, 09:01:06 - Benjamin (SODHA): Sounds like I'm calling you a dinosaur ü¶ñ
Wed, Sep 21, 2022, 09:01:24 - pdurbin: Rarw. Link, please.
Wed, Sep 21, 2022, 09:01:34 - Benjamin (SODHA): [proceedings] Trisovic, A., Durbin, P., Schlatter, T., Durand, G., Barbosa, S., Brooke, D., & Crosas, M. (2020). Advancing computational reproducibility in the Dataverse data repository platform. In I. Jimenez, C. Maltzahn, & J. Lofstead (Eds.), P-RECS ‚Äô20: Proceedings of the 3rd International Workshop on Practical Reproducible Evaluation of Computer Systems (pp. 15‚Äì20). doi:10.1145/3391800.3398173
Wed, Sep 21, 2022, 09:01:34 - pdurbin: or citation, if you prefer
Wed, Sep 21, 2022, 09:02:14 - pdurbin: Oh, yes, that's our Ana doing all the work and adding me as... SECOND AUTHOR? Wow, nice. ‚≠êÔ∏è
Wed, Sep 21, 2022, 09:02:29 - Benjamin (SODHA): Ayup
Wed, Sep 21, 2022, 09:02:59 - Benjamin (SODHA): Isn't or wasn't there a Sheryl in the IQSS team as well?
Wed, Sep 21, 2022, 09:03:06 - Benjamin (SODHA): I'm thinking about a name I often saw on GitHub
Wed, Sep 21, 2022, 09:03:26 - Benjamin (SODHA): Oh, I also need to find a way to cite Don Sizemore!
Wed, Sep 21, 2022, 09:04:15 - pdurbin: Well, there's Sherry Lake at UVa. She coined the term "Dataverse Keeper", helps maintain the map of installations, plays soccer with us, etc.
Wed, Sep 21, 2022, 09:04:26 - Benjamin (SODHA): Ah yes! Thank you
Wed, Sep 21, 2022, 09:05:12 - Benjamin (SODHA): Oh yes, she has written quite a bit. I can easily cite her
Wed, Sep 21, 2022, 09:05:24 - Benjamin (SODHA): (I ought to read her, too üòÖ)
Wed, Sep 21, 2022, 09:06:36 - pdurbin: Oh good, the P-RECS paper is on https://dataverse.org/publications
Wed, Sep 21, 2022, 09:07:35 - pdurbin: That list is mostly (all?) stuff Merce wrote or was corresponding author on.
Wed, Sep 21, 2022, 09:08:22 - pdurbin: Maybe I can sneak your paper on there, Benjamin (SODHA) , once it's out. üòÑ
Wed, Sep 21, 2022, 09:08:33 - pdurbin: Keep it fresh.
Wed, Sep 21, 2022, 09:08:49 - Benjamin (SODHA): It's going to be really focused on Dataverse, and it will be mostly in praise of it üòä
Wed, Sep 21, 2022, 09:09:33 - pdurbin: I wouldn't have it any other way.
Wed, Sep 21, 2022, 09:10:18 - pdurbin: All this hype is killing me though.
Wed, Sep 21, 2022, 09:10:31 - pdurbin: Will we get it for Christmas? üéÑ
Wed, Sep 21, 2022, 09:10:47 - Benjamin (SODHA): I'm sure I'll be done with it next week at the latest
Wed, Sep 21, 2022, 09:10:53 - Benjamin (SODHA): The rest is in IJDC's hands
Wed, Sep 21, 2022, 09:11:25 - Benjamin (SODHA): They are very transparent (kinda SLOPPY if you will) with the dates when they received, sent back, then received the revised versions of submissions
Wed, Sep 21, 2022, 09:11:40 - Benjamin (SODHA): I saw a few year-long gaps between some of these üôÉ
Wed, Sep 21, 2022, 09:12:00 - Benjamin (SODHA): But that was only occasionally the case
Wed, Sep 21, 2022, 09:12:38 - pdurbin: Nice. JOSS is super transparent. Reviews done on GitHub.
Wed, Sep 21, 2022, 09:13:15 - Benjamin (SODHA): Journal of Open Social Science?
Wed, Sep 21, 2022, 09:13:58 - pdurbin: https://joss.theoj.org
Wed, Sep 21, 2022, 09:14:08 - pdurbin: Journal of Open Source Software
Wed, Sep 21, 2022, 09:14:36 - Benjamin (SODHA): Hmm Youssef and I could write about the scripts that he developed
Wed, Sep 21, 2022, 09:15:34 - pdurbin: poikilotherm (CEST,UTC+2): by the way, JOSS is explicitly for having a paper be the citable thing for software. Old school.
Wed, Sep 21, 2022, 09:19:11 - pdurbin: Benjamin (SODHA): after the Dataverse fringe event you hosted I wandered over to FOSDEM and attended this talk about JOSS, which was really good: https://archive.fosdem.org/2020/schedule/event/open_research_joss/
Wed, Sep 21, 2022, 09:22:45 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): after the Data..."> Interesting! As long as it's open, I'm in for it
Wed, Sep 21, 2022, 09:27:08 - Benjamin (SODHA): I remember seeing a very interesting report on the "citedness" and "citeability" of various elements
Wed, Sep 21, 2022, 09:27:28 - Benjamin (SODHA): Which for some things -- traditional publications: books, articles, what have you -- is of course well established
Wed, Sep 21, 2022, 09:27:56 - Benjamin (SODHA): But indeed, for other things like software, it's still rather unstructured
Wed, Sep 21, 2022, 09:28:09 - Benjamin (SODHA): I'd say, thanks to endeavors like Dataverse, citing datasets is now a given!
Wed, Sep 21, 2022, 09:28:11 - Benjamin (SODHA): (or it ought to be)
Wed, Sep 21, 2022, 09:31:26 - pdurbin: Yeah, we're getting there with datasets. If you set up Make Data Count, you can see how many citations your datasets are getting.
Wed, Sep 21, 2022, 09:34:09 - Benjamin (SODHA): Oof. We really need to go on with that
Wed, Sep 21, 2022, 09:34:13 - Benjamin (SODHA): üìà
Wed, Sep 21, 2022, 09:56:14 - Don Sizemore: Benjamin (SODHA): cite _me_? ‚Äî Don Sizemore, Scullery Maid
Wed, Sep 21, 2022, 09:56:46 - Benjamin (SODHA): <@donsizemore:matrix.org "Benjamin (SODHA): cite _me_? ‚Äî D..."> Cite her? I hardly knew her!
Wed, Sep 21, 2022, 09:58:01 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): after the Data..."> They named their robot Whedon üòÇ
Wed, Sep 21, 2022, 09:58:18 - pdurbin: yeah üòÑ
Wed, Sep 21, 2022, 10:00:18 - Benjamin (SODHA): The Tidyverse? What is that? Competition??? ‚öîÔ∏è
Wed, Sep 21, 2022, 10:04:36 - pdurbin: Heh. The Tidyverse is a thing. Ask any R programmer.
Wed, Sep 21, 2022, 10:09:22 - Benjamin (SODHA): pdurbin JOSS won't take papers on small utilities though (around 21:00 in the presentation). I don't think our script will qualify
Wed, Sep 21, 2022, 10:10:37 - pdurbin: bah
Wed, Sep 21, 2022, 10:10:51 - pdurbin: time to pad it, I guess
Wed, Sep 21, 2022, 10:10:57 - pdurbin: some bloat
Wed, Sep 21, 2022, 10:11:14 - Benjamin (SODHA): :D
Wed, Sep 21, 2022, 10:11:24 - Benjamin (SODHA): I'm a scientist and an English major
Wed, Sep 21, 2022, 10:11:25 - Benjamin (SODHA): I can do that
Wed, Sep 21, 2022, 10:41:11 - Sherry Lake: Actually, I am called ‚ÄúKeeper of the Dataverse" üòâ
Wed, Sep 21, 2022, 10:42:53 - poikilotherm: OMG people talking about software publications in this room and I'm out, talking about building a studio
Wed, Sep 21, 2022, 10:43:45 - poikilotherm: Benjamin (SODHA) I talked a lot about "research software readiness" of repositories during the last DCM. It's on Youtube, if you wanna take a look
Wed, Sep 21, 2022, 10:44:19 - poikilotherm: (And I will be co-author of a future paper on this topic, stay tuned)
Wed, Sep 21, 2022, 10:44:20 - Benjamin (SODHA): <@oliver:bertuch.name "Benjamin (SODHA) I talked a lot ..."> Gladly!
Wed, Sep 21, 2022, 10:45:01 - Benjamin (SODHA): I wonder what you mean by _readiness_ in this context
Wed, Sep 21, 2022, 10:47:49 - poikilotherm: What does a repository need to fulfill to be ready to take research software in
Wed, Sep 21, 2022, 10:48:04 - poikilotherm: It's quite a list actually!
Wed, Sep 21, 2022, 11:10:47 - Benjamin (SODHA): Ahha
Wed, Sep 21, 2022, 11:10:59 - Benjamin (SODHA): Hopefully ours checks all boxes üòÑüò¨
Wed, Sep 21, 2022, 11:11:08 - Benjamin (SODHA): I must be off. Tally ho! üëã
Wed, Sep 21, 2022, 12:25:44 - poikilotherm: pdurbin Don Sizemore : time for a stupid question? I wondered if I can make a certain system property / env var for integration testing happen to see if my upload folder things works...
Wed, Sep 21, 2022, 12:25:54 - poikilotherm: (And have it a test for it))
Wed, Sep 21, 2022, 13:12:27 - Don Sizemore: @poikilotherm I can make it a configurable "group_var" in Ansible
Wed, Sep 21, 2022, 13:30:48 - pdurbin: poikilotherm (CEST,UTC+2): testFileIdentifierFormats sets properties: https://github.com/IQSS/dataverse/blob/3a91b76deb392e571503d5c9b57f84a5bdd1fb5f/src/test/java/edu/harvard/iq/dataverse/dataaccess/FileAccessIOTest.java#L295
Wed, Sep 21, 2022, 13:31:55 - poikilotherm: Oh I definitely need to set this before the deployment. It's a servlet context property so very early non changeable 
Wed, Sep 21, 2022, 13:33:48 - pdurbin: Oh. Right. Sounds like Don's group var might help though.
Wed, Sep 21, 2022, 13:34:58 - pdurbin: I've definitely asked for the ability to change this or that setting during the Ansible run.
Wed, Sep 21, 2022, 13:37:13 - poikilotherm: Don Sizemore: how should that look like?
Wed, Sep 21, 2022, 13:37:45 - poikilotherm: pdurbin: do we have a possibility to run a test on the server and look into its file system?
Wed, Sep 21, 2022, 13:38:57 - poikilotherm: Maybe it's just not worth the effort... One time test, works forever
Wed, Sep 21, 2022, 13:39:01 - Don Sizemore: open an issue at https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/ with a proposed system location; an Ansible task can then create it and configure it.
Wed, Sep 21, 2022, 13:48:21 - pdurbin: Don Sizemore: you should move to that sweet sweet gdcc org. So short!
Wed, Sep 21, 2022, 13:48:41 - pdurbin: poikilotherm (CEST,UTC+2): sometimes I have the test generate a file on the ec2 instance.
Wed, Sep 21, 2022, 13:48:50 - Don Sizemore: @pdurbin that's been on my list for a while
Wed, Sep 21, 2022, 13:49:39 - pdurbin: Let's see. I guess I also generate files on the Jenkins side as well. The client. Maybe I'll make a small CSV, for example, and upload it to the ec2 instance as part of a test.
Wed, Sep 21, 2022, 17:02:28 - pdurbin: ```
$ cat data/data.json | jq '.installations[].continent' -r | sort | uniq -c | sort -r
  37 Europe
  20 North America
  16 South America
  12 Asia
   2 Africa
   1 Australia
```
Wed, Sep 21, 2022, 17:13:38 - poikilotherm: Way to go Europe!
Wed, Sep 21, 2022, 17:53:07 - pdurbin: yeah, yeah
Thu, Sep 22, 2022, 04:06:40 - Benjamin (SODHA): What about the rest of Oceania tho?
Thu, Sep 22, 2022, 06:55:37 - pdurbin: When I was a kid there were nine planets.
Thu, Sep 22, 2022, 06:56:45 - pdurbin: Benjamin (SODHA): I told my daughter about your "Behold!" (TM) and she reminded me of this: https://cdn.dogomedia.com/assets/flipbook/The_Adventures_of_super_diaper_baby_excerpt/15.jpg
Thu, Sep 22, 2022, 07:06:13 - Benjamin (SODHA): <@pdurbin:matrix.org "When I was a kid there were nine..."> And the Berlin Wall, too üß±
Thu, Sep 22, 2022, 07:06:47 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): I told my daug..."> Ah, Captain Underpants! ü¶∏
Thu, Sep 22, 2022, 07:10:18 - pdurbin: We drove through Dave Pilkey's home town recently. It's not far from where my wife is from (or I'm from for that matter). I was disappointed they didn't build a statue of him.
Thu, Sep 22, 2022, 07:32:58 - poikilotherm sent an image. (Media omitted)
Thu, Sep 22, 2022, 07:32:59 - poikilotherm: pdurbin: did you see this on GH? 
Thu, Sep 22, 2022, 08:01:56 - pdurbin: poikilotherm (CEST,UTC+2): I put screenshots of how we set things up in https://github.com/IQSS/dataverse/issues/8166
Thu, Sep 22, 2022, 08:02:12 - poikilotherm: pdurbin: could this be helpful for the ongoing discussion? https://c4model.com/assets/software-architecture-diagram-review-checklist.pdf
Thu, Sep 22, 2022, 09:06:29 - pdurbin: sure, maybe
Thu, Sep 22, 2022, 10:03:40 - poikilotherm: Thanks for joining us pdurbin Benjamin Poldrack 
Thu, Sep 22, 2022, 10:37:18 - pdurbin: It was fun!
Thu, Sep 22, 2022, 10:37:43 - pdurbin: It seems like DataLab already has a nice dataset landing page.
Thu, Sep 22, 2022, 10:40:42 - pdurbin: https://datalad.github.io/datalad-catalog/
Thu, Sep 22, 2022, 11:22:14 - poikilotherm: Yeah generated from metadata and nice templates :-)
Thu, Sep 22, 2022, 11:53:36 - pdurbin: Let's build a small app with a Jakarta EE backend and an SPA front end: https://github.com/IQSS/dataverse/issues/8987
Thu, Sep 22, 2022, 11:53:41 - pdurbin: But what should the app be?
Thu, Sep 22, 2022, 12:21:54 - pdurbin: Something the community can use?
Thu, Sep 22, 2022, 12:22:00 - pdurbin: A bot for this chat room?
Thu, Sep 22, 2022, 12:24:03 - poikilotherm: I just hit https://github.com/payara/Payara/issues/5901... üò¨
Thu, Sep 22, 2022, 12:25:50 - pdurbin: poikilotherm (CEST,UTC+2): woof. But what kind of little app should we build?
Thu, Sep 22, 2022, 12:26:36 - poikilotherm: Maybe something for the downloader?
Thu, Sep 22, 2022, 12:27:35 - poikilotherm: Integrate it well with the rest, have it have a nice UI to see the status of a downloadable ZIP brewing
Thu, Sep 22, 2022, 12:29:25 - pdurbin: A downloader.
Thu, Sep 22, 2022, 12:29:39 - pdurbin: Wait, THE downloader? Do we already have a downloader?
Thu, Sep 22, 2022, 12:29:51 - poikilotherm: We have that CGI-BIN thing
Thu, Sep 22, 2022, 12:29:56 - pdurbin: oh, the zipper
Thu, Sep 22, 2022, 12:33:03 - pdurbin: I was thinking maybe an app that does't have a database. That just pulls from public data related to the community such as the installations JSON, DataverseTV spreadsheet, etc.
Thu, Sep 22, 2022, 12:33:24 - poikilotherm: Oh it doesn't need a database :-)
Thu, Sep 22, 2022, 12:33:35 - poikilotherm: It could use the Dataverse instance via API
Thu, Sep 22, 2022, 12:35:06 - poikilotherm: It would be nice to have something really to be deployed to some server
Thu, Sep 22, 2022, 12:35:18 - poikilotherm: Something of value not just toy petting
Thu, Sep 22, 2022, 12:45:00 - pdurbin: Right. Would be nice to deploy it somewhere. Not sure where.
Thu, Sep 22, 2022, 13:21:08 - Lynette Garcia Perez: Hello, I'm have a problem with my dataverse again. I uploaded a dataset in csv format and while it was ingested I got an error. Now dataverse is not running.
Thu, Sep 22, 2022, 13:22:12 - Lynette Garcia Perez: [2022-09-21T17:10:32.272+0000] [Payara 5.2021.6] [WARNING] [] [javax.resourceadapter.mqjmsra.inbound.message] [tid: _ThreadID=155 _ThreadName=orb-thread-pool>
  MQJMSRA_MR2001: run:Caught Exception from onMessage():Redelivering:
javax.ejb.EJBException: message-driven bean method public abstract void javax.jms.MessageListener.onMessage(javax.jms.Message) system exception
        at org.glassfish.ejb.mdb.MessageBeanContainer.deliverMessage(MessageBeanContainer.java:1246)
        at org.glassfish.ejb.mdb.MessageBeanListenerImpl.deliverMessage(MessageBeanListenerImpl.java:131)
        at com.sun.enterprise.connectors.inbound.MessageEndpointInvocationHandler.invoke(MessageEndpointInvocationHandler.java:171)
        at com.sun.proxy.$Proxy513.onMessage(Unknown Source)
        at com.sun.messaging.jms.ra.OnMessageRunner.run(OnMessageRunner.java:283)
        at com.sun.enterprise.connectors.work.OneWork.doWork(OneWork.java:108)
        at com.sun.corba.ee.impl.threadpool.ThreadPoolImpl$TaskRunner.run(ThreadPoolImpl.java:189)
        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
        at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: javax.ejb.EJBTransactionRolledbackException: Exception thrown from bean: >
        at com.sun.ejb.containers.BaseContainer.mapLocal3xException(BaseContainer.java:2377)
        at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2174)
        at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2095)
        at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)
        at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)
        at com.sun.proxy.$Proxy273.sendNotificationEmail(Unknown Source)
        at edu.harvard.iq.dataverse.__EJB31_Generated__MailServiceBean__Intf____Bean__.sendNotificationEmail(Unknown Source)
        at edu.harvard.iq.dataverse.UserNotificationServiceBean.sendNotification(UserNotificationServiceBean.java:120)
        at edu.harvard.iq.dataverse.UserNotificationServiceBean.sendNotification(UserNotificationServiceBean.java:109)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)
        at org.glassfish.ejb.security.application.EJBSecurityManager.runMethod(EJBSecurityManager.java:588)
        at org.glassfish.ejb.security.application.EJBSecurityManager.invoke(EJBSecurityManager.java:408)
        at com.sun.ejb.containers.BaseContainer.invokeBeanMethod(BaseContainer.java:4826)
        at com.sun.ejb.EjbInvocation.invokeBeanMethod(EjbInvocation.java:665)
        at com.sun.ejb.containers.interceptors.AroundInvokeChainImpl.invokeNext(InterceptorManager.java:834)
        at com.sun.ejb.EjbInvocation.proceed(EjbInvocation.java:615)
        at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.doCall(SystemInterceptorProxy.java:163)
        at com.sun.ejb.containers.interceptors.SystemInterceptorProxy.aroundInvoke(SystemInterceptorProxy.java:140)
        at jdk.internal.reflect.GeneratedMethodAccessor187.invoke(Unknown Source)
        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
        at java.base/java.lang.reflect.Method.invoke(Method.java:566)

Thu, Sep 22, 2022, 17:24:29 - pdurbin: Lynette Garcia Perez: is email being sent ok in general? I see "mail service bean" in the mix above. Can you please send more of server.log to support@dataverse.org?
Thu, Sep 22, 2022, 18:45:20 - Lynette Garcia Perez: No, It does not send any email. I'm going to send to support@dataverse.org my server.log file.
Fri, Sep 23, 2022, 04:36:02 - Benjamin (SODHA): Ah, it's been a while since I last saw an error report from DV
Fri, Sep 23, 2022, 04:36:20 - Benjamin (SODHA): We have tested the program so extensively, we have tamed it! ‚úä
Fri, Sep 23, 2022, 04:36:39 - Benjamin (SODHA): And also we keep up with the updates, so that means fewer errors in general of course üòÅ
Fri, Sep 23, 2022, 04:39:45 - Benjamin (SODHA): Also, whenever I look at these warnings that mention Beans, I cannot help but think...
Fri, Sep 23, 2022, 04:39:49 - Benjamin (SODHA) sent an image. (Media omitted)
Fri, Sep 23, 2022, 04:40:00 - Benjamin (SODHA) sent an image. (Media omitted)
Fri, Sep 23, 2022, 04:40:01 - Benjamin (SODHA): Behold the beans!
Fri, Sep 23, 2022, 07:11:38 - pdurbin: heh ‚òïÔ∏è
Fri, Sep 23, 2022, 07:11:58 - pdurbin: Benjamin (SODHA): are you saying you opened an issue?
Fri, Sep 23, 2022, 07:12:22 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): are you saying..."> Hi Philip! No, I was just referring to the copy-paste above
Fri, Sep 23, 2022, 07:13:17 - pdurbin: Oh, from Lynette Garcia Perez . Yes. I need to see if the ticket came in.
Fri, Sep 23, 2022, 07:15:44 - pdurbin: found it: https://help.hmdc.harvard.edu/Ticket/Display.html?id=326774 , thanks Lynette Garcia Perez 
Fri, Sep 23, 2022, 07:17:21 - pdurbin: Benjamin (SODHA)  (and others), did you see the conversation about a little app above?
Fri, Sep 23, 2022, 07:17:43 - pdurbin: <@pdurbin:matrix.org "Let's build a small app with a J..."> this
Fri, Sep 23, 2022, 07:19:08 - Benjamin (SODHA): Which is it?
Fri, Sep 23, 2022, 07:19:09 - Benjamin (SODHA): https://en.wikipedia.org/wiki/Spa_(disambiguation)#Computing_and_technology
Fri, Sep 23, 2022, 07:20:05 - pdurbin: https://en.wikipedia.org/wiki/Single-page_application
Fri, Sep 23, 2022, 07:20:32 - pdurbin: It a more modern approach.
Fri, Sep 23, 2022, 07:20:46 - pdurbin: The old way is all on the server.
Fri, Sep 23, 2022, 07:23:22 - Benjamin (SODHA): Ah yes, I think I have browsed websites that are written this way!
Fri, Sep 23, 2022, 07:23:30 - Benjamin (SODHA): That, or it was just super smooth
Fri, Sep 23, 2022, 07:23:52 - pdurbin: Yeah, it tends to be smoother. No pull page refreshes.
Fri, Sep 23, 2022, 07:24:38 - pdurbin: So for that issue the idea is to hack together a small site that uses this approach. But what site should we build?
Fri, Sep 23, 2022, 07:24:56 - pdurbin: One idea I have is a "people" site. I started hacking on this: http://tmp.greptilian.com/tmp/people/01/
Fri, Sep 23, 2022, 07:25:34 - pdurbin: poikilotherm (CEST,UTC+2): suggested (above) a downloader app. Download files from a dataset into a zip (one by one to avoid the zip limit).
Fri, Sep 23, 2022, 07:25:40 - pdurbin: What other ideas do people have?
Fri, Sep 23, 2022, 07:25:42 - Benjamin (SODHA): Heyyy I'm top of the list! üëë
Fri, Sep 23, 2022, 07:25:55 - pdurbin: heh, I thought you'd like that
Fri, Sep 23, 2022, 07:26:15 - Benjamin (SODHA): Oh you smooth developer~
Fri, Sep 23, 2022, 07:26:56 - pdurbin: The data is coming from the old "list of contributors" spreadsheet linked from CONTRIBUTING.md. It's really out of date. I added a couple columns and people.
Fri, Sep 23, 2022, 07:27:06 - Benjamin (SODHA): <@pdurbin:matrix.org "So for that issue the idea is to..."> An 'agenda' of organizations that use Dataverse?
Fri, Sep 23, 2022, 07:27:16 - Benjamin (SODHA): (just a list with some info, not thinking about the world map here)
Fri, Sep 23, 2022, 07:28:01 - pdurbin: like this? https://github.com/orgs/IQSS/projects/21
Fri, Sep 23, 2022, 07:30:22 - Benjamin (SODHA): That could an idea for the layout, sure
Fri, Sep 23, 2022, 07:30:25 - Benjamin (SODHA): I'm thinking now
Fri, Sep 23, 2022, 07:30:39 - Benjamin (SODHA): Most of those usually more fluid websites I've stumbled upon were...
Fri, Sep 23, 2022, 07:30:45 - Benjamin (SODHA): Restaurant websites, I think
Fri, Sep 23, 2022, 07:31:07 - Benjamin (SODHA): The advantage thereof that the information there is very predictable, almost standardized
Fri, Sep 23, 2022, 07:31:31 - Benjamin (SODHA): And it's 5-6 webpages that anyone expects at best (menu, opening hours and contact info, etc)
Fri, Sep 23, 2022, 07:31:50 - Benjamin (SODHA): In this light, Dataverse wouldn't be incompatible
Fri, Sep 23, 2022, 07:32:17 - Benjamin (SODHA): As I'm writing right now in my paper, Dataverse is a robust application because you cannot easily get lost in it
Fri, Sep 23, 2022, 07:32:27 - Benjamin (SODHA): It's all tightly knit
Fri, Sep 23, 2022, 07:33:36 - pdurbin: I think you lost me. Do you like Dataverse the way it is or do you want something more fluid?
Fri, Sep 23, 2022, 07:34:37 - Benjamin (SODHA): Haha sorry. What I mean is, Dataverse is good because it's very structured and predictable
Fri, Sep 23, 2022, 07:34:46 - pdurbin: ok
Fri, Sep 23, 2022, 07:34:55 - Benjamin (SODHA): But an upgrade like the one you suggest sounds good still
Fri, Sep 23, 2022, 07:35:04 - Benjamin (SODHA): I'm all for improving UX
Fri, Sep 23, 2022, 07:35:07 - pdurbin: worth exploring at least
Fri, Sep 23, 2022, 07:36:17 - pdurbin: For your agenda idea, have you seen the aggregations of issues from boards I've put together? Most recently about a month ago: https://docs.google.com/spreadsheets/d/1ptt0dut_W5hIImOnJFEKOE-u_WfC8H_NWF9h-374HD0/edit?usp=sharing
Fri, Sep 23, 2022, 07:36:42 - pdurbin: Another app idea would be to do that.
Fri, Sep 23, 2022, 07:38:00 - pdurbin: See, now I'm putting Don Sizemore at the top of http://tmp.greptilian.com/tmp/people/01/ since I see he's WATCHING. üòÑ
Fri, Sep 23, 2022, 07:38:20 - pdurbin: (We never had this with IRC.)
Fri, Sep 23, 2022, 08:12:57 - lincoln_: @pdurbin Is dataverse v12  going to be  released with Globus integration? :)
Fri, Sep 23, 2022, 08:18:56 - Joe Gonzalez: Good morning. I'm getting this exact same issue: https://github.com/IQSS/dataverse/issues/8505
Fri, Sep 23, 2022, 08:20:58 - Don Sizemore: Joe Gonzalez: that sounds like an intermittent problem with DataCite. how long/often have you tried to publish?
Fri, Sep 23, 2022, 08:22:01 - Joe Gonzalez: I got this from the tester on the team... he's been trying over the last couple of days.
Fri, Sep 23, 2022, 08:22:01 - Don Sizemore: Joe Gonzalez: it is possible that Leonid missed a DataCite setting when he upgraded demo.dataverse.org last week, but I see a bunch of stuff published on Wednesday
Fri, Sep 23, 2022, 08:22:46 - Don Sizemore: Joe Gonzalez: if it's a consistent error, you may want to open a ticket with support@dataverse.org so that someone with access to the system logs can see what's going on
Fri, Sep 23, 2022, 08:23:13 - Joe Gonzalez: For further context: this is a test install on AWS
Fri, Sep 23, 2022, 08:23:42 - Joe Gonzalez: So perhaps I didn't install or configure something correctly?
Fri, Sep 23, 2022, 08:24:07 - Don Sizemore: ah. does your test instance use https? DataCite doesn't like an http/https mismatch. also check your -Ddataverse.siteUrl jvm-option, as DataCite uses that to "call back"
Fri, Sep 23, 2022, 08:25:04 - Joe Gonzalez: That's it, yes... I have an unsecured instance to the testers while I set up SSL. Thank you!
Fri, Sep 23, 2022, 08:25:12 - Joe Gonzalez: *gave
Fri, Sep 23, 2022, 08:25:41 - Don Sizemore: I hope I'm telling you correctly, but it's definitely something to check
Fri, Sep 23, 2022, 08:27:36 - Joe Gonzalez: Thank you, Don
Fri, Sep 23, 2022, 09:09:40 - pdurbin: <@lincoln_:matrix.org "@pdurbin Is dataverse v12  going..."> Yes, because we merged https://github.com/IQSS/dataverse/pull/8891
Fri, Sep 23, 2022, 09:32:13 - pdurbin: <@josephgonzalez:matrix.org "Good morning. I'm getting this e..."> I'm checking with Ceilyn Boyd about this.
Fri, Sep 23, 2022, 09:33:46 - pdurbin: Oh. Wait. It looks like Don Sizemore helped already. The plan is to enable SSL and try again, Joe Gonzalez ?
Fri, Sep 23, 2022, 09:40:26 - Antonio Fernando joined the room
Fri, Sep 23, 2022, 09:42:22 - Antonio Fernando: Hi guys, i need you help! how modified the map installation on dataverse, example:  server-xpto - DNS xpto01.dataverse.org  modified for xpto02.dataverse.org (https://dataverse.org/installations) 
Fri, Sep 23, 2022, 09:43:18 - Antonio Fernando: this configuration is done domain.xml off payara or execute command curl in dataverse ? 
Fri, Sep 23, 2022, 09:44:27 - Antonio Fernando: i have an installation with dns (dataverse.intracidacs.org) but I want to modify
Fri, Sep 23, 2022, 09:44:41 - Antonio Fernando: for new dns - dataverse.cidacs.org
Fri, Sep 23, 2022, 09:45:20 - pdurbin: No more "intra"?
Fri, Sep 23, 2022, 09:46:03 - Antonio Fernando: correct, the access now is dataverse.cidacs.org is not but dataverse.intracidacs.org
Fri, Sep 23, 2022, 09:47:18 - pdurbin: fixed: https://github.com/IQSS/dataverse-installations/commit/164d51b
Fri, Sep 23, 2022, 09:47:28 - pdurbin: Antonio Fernando: thanks for letting us know!
Fri, Sep 23, 2022, 09:48:15 - pdurbin: The maintainers of the map are me, juliangautier and Sherry Lake . If none of us are active here, you are also welcome to create an issue at https://github.com/IQSS/dataverse-installations/issues
Fri, Sep 23, 2022, 09:48:26 - Antonio Fernando: thank you! 
Fri, Sep 23, 2022, 09:48:35 - pdurbin: You're very welcome. üòÑ
Fri, Sep 23, 2022, 09:49:11 - Antonio Fernando: remember me ?
Fri, Sep 23, 2022, 09:49:30 - Antonio Fernando: talked to you every day. hahahaha
Fri, Sep 23, 2022, 09:50:59 - pdurbin: My poor brain. I'm looking through my notes.
Fri, Sep 23, 2022, 09:51:30 - pdurbin: This is exactly why I'm playing around with a "people" site: http://tmp.greptilian.com/tmp/people/01/
Fri, Sep 23, 2022, 09:51:42 - pdurbin: Antonio Fernando: are you on GitHub?
Fri, Sep 23, 2022, 09:51:59 - Antonio Fernando: you supported me on first install in 2019
Fri, Sep 23, 2022, 09:52:29 - pdurbin: Oh. Good! In the "before days". üòÑ
Fri, Sep 23, 2022, 09:53:39 - Benjamin (SODHA): Before the war
Fri, Sep 23, 2022, 10:59:44 - Joe Gonzalez: <@pdurbin:matrix.org "Oh. Wait. It looks like Don Size..."> That's the plan, pdurbin 
Fri, Sep 23, 2022, 10:59:53 - pdurbin: great
Fri, Sep 23, 2022, 11:01:07 - Joe Gonzalez: Dataverse shouldn't have issues running on Payara5 Enterprise (paid) version right? asking for a friend üôÇ
Fri, Sep 23, 2022, 11:03:34 - carlsonp: need to desperately work on some slides and funding proposals but... I did have some great conversations in-person with our internal folks and Microsoft folks around our Dataverse deployment for Azure, hope to jump back into it more next week, learned a bunch more about Azure, small steps :)
Fri, Sep 23, 2022, 11:03:52 - carlsonp: we had a 2 day summit
Fri, Sep 23, 2022, 11:24:51 - poikilotherm: pdurbin: do you think people would call me crazy if I put up a feature PR that has Arquillian in it?
Fri, Sep 23, 2022, 11:47:33 - pdurbin: carlsonp: great! I was wondering about next steps. üòÑ I'm happy to join more calls.
Fri, Sep 23, 2022, 11:47:50 - pdurbin: poikilotherm (CEST,UTC+2): I thought it was dead but sure, go for it.
Fri, Sep 23, 2022, 11:48:24 - poikilotherm: To the contrary! It's used now for Jakarta TCKs!
Fri, Sep 23, 2022, 11:48:42 - pdurbin: Ah, I'm out of date then. Please proceed!
Fri, Sep 23, 2022, 13:32:36 - pdurbin: Joe Gonzalez: there's a new comment: https://github.com/IQSS/dataverse/issues/8505#issuecomment-1256405718 . If you can add a comment too, I'd appreciate it!
Fri, Sep 23, 2022, 14:50:08 - Joe Gonzalez: <@pdurbin:matrix.org "Joe Gonzalez: there's a new comm..."> Great. Thank you pdurbin 
Fri, Sep 23, 2022, 15:14:43 - pdurbin: sure thing
Fri, Sep 23, 2022, 16:09:35 - poikilotherm: Hacktoberfest registration open as of Monday!!! https://hacktoberfest.com/
Fri, Sep 23, 2022, 16:10:09 - pdurbin: free t-shirts!
Fri, Sep 23, 2022, 16:10:19 - poikilotherm: And the hunt is on for #9000
Fri, Sep 23, 2022, 16:10:30 - poikilotherm: We're at 8993
Fri, Sep 23, 2022, 16:13:58 - pdurbin: 5 digits before long, I'm sure üòÑ
Fri, Sep 23, 2022, 16:40:21 - pdurbin: I changed it to a table: http://tmp.greptilian.com/tmp/people/02/ ... poikilotherm (CEST,UTC+2) who has a timezone in his name, maybe we could assume the timezone of the installation but let people override it.
Fri, Sep 23, 2022, 16:41:14 - poikilotherm: Would it be helpful to show the current time in there?
Fri, Sep 23, 2022, 16:41:21 - pdurbin: Probably!
Fri, Sep 23, 2022, 16:41:35 - pdurbin: Great minds think alike. I had the same thought last night.
Fri, Sep 23, 2022, 16:41:36 - poikilotherm: Maybe as a web-component of the timezone entrty?
Fri, Sep 23, 2022, 16:42:01 - poikilotherm: oh oh oh here's another thought
Fri, Sep 23, 2022, 16:42:18 - poikilotherm: How about a timezone map/cluster/table of dataversians?
Fri, Sep 23, 2022, 16:42:45 - poikilotherm: with a color fade between night and day
Fri, Sep 23, 2022, 16:42:54 - poikilotherm: so you can see if it's night for someone
Fri, Sep 23, 2022, 16:43:54 - carlsonp: ties to their dataverse installation or institution could be helpful as well, when you're chatting with someone and can figure out their affiliation
Fri, Sep 23, 2022, 16:44:26 - carlsonp: details on their installation could show how it was installed (Kubernetes, manual install, etc.)
Fri, Sep 23, 2022, 16:46:34 - carlsonp: you could also look at their contributions on Github to the project, frequency and recency of commits, participation in chat, etc. to build a picture as to, "is this person an active contributor, more of a consumer, or just new in general?"
Fri, Sep 23, 2022, 16:47:13 - carlsonp: my PhD was social + technical congruence and relationships in OSS :D
Fri, Sep 23, 2022, 16:47:58 - carlsonp: figuring out how healthy OSS communities "tick" is super interesting to me
Fri, Sep 23, 2022, 16:48:04 - poikilotherm: And still: great work so far! üéâ
Fri, Sep 23, 2022, 16:56:00 - pdurbin: carlsonp: link to your thesis, please!
Fri, Sep 23, 2022, 16:56:36 - pdurbin: I like the color fade idea. See that dark blue, almost black? That means I'm not likely to reply on chat right now. üòÑ
Fri, Sep 23, 2022, 16:58:19 - carlsonp: <@pdurbin:matrix.org "I like the color fade idea. See ..."> it's not earth shattering or anything but I had fun working on it: http://lib.dr.iastate.edu/etd/14663/
Fri, Sep 23, 2022, 16:59:00 - pdurbin: I was gonna print it out while I'm here at work but 192 pages?!? Maybe not. üòÑ Thanks!
Fri, Sep 23, 2022, 16:59:10 - pdurbin: Speaking of which, I gotta get out of here.
Fri, Sep 23, 2022, 16:59:18 - pdurbin: Have a great weekend everyone!
Fri, Sep 23, 2022, 16:59:23 - carlsonp: you too!
Fri, Sep 23, 2022, 18:37:10 - poikilotherm: Man now I'm glad I did this Arquillian thing. It really helped me get my CDI Injection stuff right, as it's hard to test w/o container context. And deploying Dataverse for this is kinda overkill! Much faster done this way!
Mon, Sep 26, 2022, 08:03:14 - pdurbin: Nice. Can't wait to see it.
Mon, Sep 26, 2022, 10:13:15 - pdurbin: poikilotherm (CEST,UTC+2): thanks for the demo! Looks great.
Mon, Sep 26, 2022, 10:14:43 - pdurbin: poikilotherm (CEST,UTC+2): this is the video I watched:  Adobe Developers Live | OSGi inside - why we love it and why you don't really need to care - https://www.youtube.com/watch?v=YGaSlbio2wU
Mon, Sep 26, 2022, 10:17:19 - poikilotherm: https://airhacks.fm/#episode_199 https://airhacks.fm/#episode_186 https://airhacks.fm/#episode_175 and many more! Just scan for OSGi on airhacks.fm
Mon, Sep 26, 2022, 10:17:41 - pdurbin: Right, I believe he's been talking to the main OSGi guy.
Mon, Sep 26, 2022, 10:17:55 - poikilotherm: Need to relisten those
Mon, Sep 26, 2022, 10:18:38 - pdurbin: At least at the beginning, Adam has trouble understanding why a webapp would need to be modular. It's just extra complexity in his eyes.
Mon, Sep 26, 2022, 10:18:55 - pdurbin: But I don't think he works on products so much.
Mon, Sep 26, 2022, 10:19:09 - pdurbin: Mostly internal projects.
Mon, Sep 26, 2022, 12:53:18 - poikilotherm: Asking myself now if there is a podcast with Carola
Mon, Sep 26, 2022, 12:56:05 - poikilotherm: Ha! Yes! Unfortunately in üá©üá™ only https://softwarearchitektour.podigee.io/88-episode-87-modularisierung-grundlagen-der-architektur
Mon, Sep 26, 2022, 13:16:19 - pdurbin: I found one in English. And I watched the video you linked recently.
Tue, Sep 27, 2022, 08:43:18 - poikilotherm: @pdurbin https://github.com/IQSS/dataverse/issues/9000 ü•≥
Tue, Sep 27, 2022, 09:15:04 - pdurbin: poikilotherm (CEST,UTC+2): nice! Should we start with a Google doc? Easier to edit.
Tue, Sep 27, 2022, 11:52:25 - pdurbin: I created a DNS entry for my "people site" idea: https://people.dataverse.org . What do you think? Useful?
Tue, Sep 27, 2022, 11:52:41 - pdurbin: I worked a bit on timezones this morning. The timezone comes from the installation unless you override it.
Tue, Sep 27, 2022, 11:53:07 - pdurbin: I know some of you gave feedback already (I'll scroll up) but I'm happy for more. üòÑ
Tue, Sep 27, 2022, 14:15:21 - poikilotherm sent an image. (Media omitted)
Tue, Sep 27, 2022, 14:15:41 - poikilotherm: It's not responsive üò±ü´£üôà
Tue, Sep 27, 2022, 14:29:32 - pdurbin: yeah
Tue, Sep 27, 2022, 14:30:39 - pdurbin: On small screens maybe it should switch from a table to cards.
Wed, Sep 28, 2022, 07:15:00 - Don Sizemore: what if I run multiple installations?
Wed, Sep 28, 2022, 07:20:09 - pdurbin: Don Sizemore: good question! In the spreadsheet that feeds that UI I call it "primary installation". Maybe we could track more installations per person on a detailed view of a person? A profile, if you will?
Wed, Sep 28, 2022, 07:30:02 - Don Sizemore: @pdurbin you can number them in grey hairs
Wed, Sep 28, 2022, 07:39:10 - Don Sizemore: on a related note, we still have zero applicants for our sysadmin position.
Wed, Sep 28, 2022, 08:02:05 - Don Sizemore: @poikilotherm if you know anyone who would like to move to North Carolina, Odum is hiring https://unc.peopleadmin.com/postings/240597
Wed, Sep 28, 2022, 08:02:55 - Don Sizemore: "UNIX" == "Linux"; a mixture of cloud and on-premise machines and services
Wed, Sep 28, 2022, 08:38:02 - poikilotherm: I'm afraid I don't! üòî
Wed, Sep 28, 2022, 08:38:38 - poikilotherm: It's hard out there. Industry wages are so much higher and the market for good sysadmins is getting smaller by the day
Wed, Sep 28, 2022, 08:57:18 - pdurbin: Don Sizemore: would the sysadmin do some Dataverse stuff? If so, post it on the list!
Wed, Sep 28, 2022, 09:36:24 - pdurbin: poikilotherm (CEST,UTC+2): here's where Michael answered his own question about dropping a jar file into the Glassfish/Payara lib directory to make use of an SPI interface: https://stackoverflow.com/questions/44012813/classnotfoundexception-when-using-serviceloader-in-glassfish4-java-ee-app/44190510#44190510
Wed, Sep 28, 2022, 09:36:35 - pdurbin: And he gave a live demo of this at JavaOne. See slide 74 of https://dataverse.org/presentations/open-monolith-keeping-your-codebase-and-your-headaches-small
Wed, Sep 28, 2022, 10:02:50 - Don Sizemore: @pdurbin the sysadmin would absolutely do some Dataverse stuff. currently there is only one me, and my boss(es) would like to change that.
Wed, Sep 28, 2022, 10:03:31 - Don Sizemore: @poikilotherm by "market for good sysadmins" do you mean the applicant pool, or the available positions?
Wed, Sep 28, 2022, 10:05:28 - pdurbin: I would think the market for good sysadmins is getting larger by the day.
Wed, Sep 28, 2022, 10:54:14 - pdurbin: <@oliver:bertuch.name "It's not responsive üò±ü´£üôà"> Hmm, https://react-bootstrap.github.io/components/table/#responsive
Wed, Sep 28, 2022, 11:12:03 - pdurbin: poikilotherm (CEST,UTC+2) (et al.): is this better? https://people.dataverse.org/react/build/ More responsive?
Wed, Sep 28, 2022, 11:47:23 - Benjamin (SODHA): It's prettier I would say, but I'm not sure what you mean in the way of responsiveness, pdurbin?
Wed, Sep 28, 2022, 11:47:46 - pdurbin: "looks ok on mobile" üòÑ
Wed, Sep 28, 2022, 12:48:48 - Benjamin (SODHA): Oh yes, it looks very good on mobile here!
Wed, Sep 28, 2022, 12:49:16 - Benjamin (SODHA): Maybe just add something, like a thin light blue line on the right side, to indicate that more data are available if the user sidescrolls?
Wed, Sep 28, 2022, 12:49:22 - Benjamin (SODHA): I must be off. Good luck!
Wed, Sep 28, 2022, 13:30:15 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2) (et al..."> I'm not a big fan of scrolling tables from left to right on a mobile phone
Wed, Sep 28, 2022, 13:30:51 - poikilotherm: So personally, I would prefer to have every row transformed into a block, having to scroll top/down
Wed, Sep 28, 2022, 13:31:01 - pdurbin: It says "responsive". üòÑ So it must be better. üòÑ
Wed, Sep 28, 2022, 13:31:18 - pdurbin: yeah, that's what I meant by card. card, block, whatever
Wed, Sep 28, 2022, 13:31:21 - poikilotherm: It might even be useful to transform and hide - make the entries short and expandable
Wed, Sep 28, 2022, 13:31:35 - poikilotherm: Oh card is definitely a nice way to phrase it
Wed, Sep 28, 2022, 13:32:42 - poikilotherm: Again: this is just personal preference. There might be good reasons or a different taste of a majority to do it a different way with left/right scrolling etc
Wed, Sep 28, 2022, 13:35:20 - pdurbin: For now, I'm not so focused on mobile. I'm playing with React. So we can have two SPAs to compare against each other.
Wed, Sep 28, 2022, 13:36:11 - Joe Gonzalez: I'm having a hell of a time trying to secure Payara with a letsencrypt cert. Tried both securing https://domain:8181 and port forwarding with Apache via 443. The cert is okay on Apache but not Payara. Anyone experience anything like this?
Wed, Sep 28, 2022, 13:41:17 - pdurbin: I usually only put the cert on Apache.
Wed, Sep 28, 2022, 13:41:31 - Don Sizemore: Joe Gonzalez: I've only done this with Apache. If you're not using Shibboleth, you could also front Payara with nginx.
Wed, Sep 28, 2022, 13:42:25 - Joe Gonzalez: So, just Apache and forward 443 --> 8080?
Wed, Sep 28, 2022, 13:42:53 - Don Sizemore: yes. the docs say to use mod_ajp but I'm not sure whether that's an absolute requirement
Wed, Sep 28, 2022, 13:44:37 - Joe Gonzalez: I've tried that and I'm getting a 503 error... I guess I'm messing something up in either the httpd.conf or ssl.conf files 
Wed, Sep 28, 2022, 13:44:41 - pdurbin: Well, ProxyPass. I guess that's forwarding.
Wed, Sep 28, 2022, 13:45:15 - pdurbin: Joe Gonzalez: here's the ProxyPass stuff: https://guides.dataverse.org/en/5.11.1/installation/shibboleth.html#edit-apache-ssl-conf-file
Wed, Sep 28, 2022, 13:45:41 - Joe Gonzalez: I'll check that out, thanks guys
Wed, Sep 28, 2022, 13:46:04 - pdurbin: sure thing
Wed, Sep 28, 2022, 13:46:07 - Don Sizemore: I think you just want `ProxyPass / ajp://localhost:8009/`
Wed, Sep 28, 2022, 13:46:49 - pdurbin: Someday we'll move that ProxyPass stuff out of the shib doc and into the config doc. It's not just for shib.
Wed, Sep 28, 2022, 13:47:30 - Don Sizemore: would you like an "SSL Termination" section for the prereqs page?
Wed, Sep 28, 2022, 13:48:10 - pdurbin: well, we have https://guides.dataverse.org/en/5.11.1/installation/config.html#network-ports and https://guides.dataverse.org/en/5.11.1/installation/config.html#forcing-https ... it's all related in my mind.
Wed, Sep 28, 2022, 13:48:45 - pdurbin: As we document, I like leaving Payara on its default ports. And fronting it with Apache where it's soooo much easier to set up certs.
Wed, Sep 28, 2022, 13:49:27 - Don Sizemore: plus running it as root to listen on 443
Wed, Sep 28, 2022, 13:52:59 - Joe Gonzalez: Just so I'm clear, "it" being Apache or Payara? I don't run Payara as root
Wed, Sep 28, 2022, 13:54:16 - pdurbin: Sorry. Let me try again. Please don't run Payara as root. We recommend running Payara as a service user ("dataverse" in the guides but whatever) on Payara's default port. Then we front Payara with Apache with that ProxyPass line.
Wed, Sep 28, 2022, 13:54:51 - Joe Gonzalez: Understood, thank you
Wed, Sep 28, 2022, 13:56:25 - pdurbin: Sure. If you feel like improving the guides around this, please feel free to make a pull request! üòÑ
Wed, Sep 28, 2022, 14:08:38 - poikilotherm: <@donsizemore:matrix.org "yes. the docs say to use mod_ajp..."> It is when using Shib
Wed, Sep 28, 2022, 14:15:07 - Don Sizemore: @poikilotherm that's what I remembered (but my memory is hazy)
Wed, Sep 28, 2022, 14:15:17 - Don Sizemore: @pdurbin guess who's trying `make latexpdf` -- LaTeX Error: Too deeply nested.
Wed, Sep 28, 2022, 14:17:15 - pdurbin: Yeah, you need AJP for Shib. Doesn't hurt to use it for non-Shib.
Wed, Sep 28, 2022, 14:17:23 - pdurbin: Trying to build a PDF version of the guides?
Wed, Sep 28, 2022, 14:39:27 - Don Sizemore: @pdurbin I got 89 pages worth of PDF before it croaked
Wed, Sep 28, 2022, 14:55:03 - pdurbin: nice
Thu, Sep 29, 2022, 09:14:19 - carlsonp: silly question, if I use object storage with Dataverse and someone downloads a file, is Dataverse and Payara serving up the file or are they directly consuming it from object storage?
Thu, Sep 29, 2022, 09:14:41 - carlsonp: basically, which piece is the potential bottleneck
Thu, Sep 29, 2022, 09:15:08 - pdurbin: For S3 we support direct download (and upload) so that the bytes don't have to pass through Payara.
Thu, Sep 29, 2022, 09:15:40 - pdurbin: Please look for "direct" at https://dataverse.org/software-features
Thu, Sep 29, 2022, 09:15:52 - carlsonp: ok perfect, thanks!
Thu, Sep 29, 2022, 09:20:50 - carlsonp: "This option can handle files >40GB and could be appropriate for files up to a TB. Other options can scale farther, " is the "other" option the Data Capture Module or are there even more options?
Thu, Sep 29, 2022, 09:22:51 - pdurbin: Hmm, I didn't write that. DCM/rsync will probably be deprecated: https://github.com/IQSS/dataverse/issues/8985

Probably the reference is to Globus. Coming soon in 5.12! I'm hacking on the release notes now. (Feedback welcome!) https://github.com/IQSS/dataverse/pull/8996
Thu, Sep 29, 2022, 09:33:54 - carlsonp: another perhaps odd question, since Dataverse supports multiple storage configurations, could we deploy Dataverse as usual in Azure for example, and then have two s3 object storage options, one in Azure and one on-prem?
Thu, Sep 29, 2022, 10:13:32 - lincoln_: <@pdurbin:matrix.org "For S3 we support direct downloa..."> just to be specific . Is the download of a dataset (all the files, while pressing "download all") also bypassing the Payara server? (afaik on dataverse v5.10 it was not the case)
Thu, Sep 29, 2022, 10:20:28 - pdurbin: carlsonp: yes, absolutely. You can configure each S3 object store to be on whatever URL. You could have a mix of AWS, Azure, Minio, etc.
Thu, Sep 29, 2022, 10:22:33 - pdurbin: lincoln_: you're right. Download all is a special case. What's happening there is that zip is being created by Payara (by default) or by a little process (probably on the server running Payara) we call the zipper. It's more efficient to download files individually because they can go straight from S3 to the client machine.
Thu, Sep 29, 2022, 10:26:10 - lincoln_: pdurbin: Could we know when  dataverse v12  will be released :p?
Thu, Sep 29, 2022, 10:27:40 - pdurbin: Absolutely. I always drop a link in here as soon as a new release is out. What features are you most interested in?
Thu, Sep 29, 2022, 10:27:52 - lincoln_: GLOBUS-integration
Thu, Sep 29, 2022, 10:30:02 - pdurbin: Nice. Did you watch the demo on DataverseTV? üòÑ Or maybe you attended that call.
Thu, Sep 29, 2022, 10:31:13 - lincoln_: yeah..i saw the demo..But had few queries over 
for eg should the direct-upload and download for the endpoint of s3  be enabled  while using Globus
Thu, Sep 29, 2022, 10:55:55 - pdurbin: "For everything here to work, Dataverse must also be configured to use the specified S3 bucket as a ‚Äònormal‚Äô S3 store. This is well documented in the Dataverse Installation Guide .With this design, files can also be uploaded to this bucket using Dataverse‚Äôs standard file upload mechanism. The recommended setting would include configuring upload-redirect: true which configures that mechanism to support multipart file uploads which has some parallelism."
Thu, Sep 29, 2022, 10:56:59 - pdurbin: lincoln_: so the answer seems to be "yes". That's from https://docs.google.com/document/d/1mwY3IVv8_wTspQC0d4ddFrD2deqwr-V5iAGHgOy4Ch8/edit?usp=sharing
Thu, Sep 29, 2022, 10:57:38 - lincoln_: Thank you :)
Thu, Sep 29, 2022, 10:57:51 - pdurbin: Sure. That doc will be linked from the 5.12 guides.
Thu, Sep 29, 2022, 10:58:10 - pdurbin: We want to document more stuff in the guides themselves. Maybe you can help us with that. üòÑ
Thu, Sep 29, 2022, 10:58:35 - lincoln_: yes definitely :)
Thu, Sep 29, 2022, 10:59:32 - pdurbin: Great! This is what we have so far: https://github.com/IQSS/dataverse/blob/7c1683b8eebb2065b548ce0274aa290bc51a1199/doc/sphinx-guides/source/developers/big-data-support.rst#globus-file-transfer
Thu, Sep 29, 2022, 11:00:15 - pdurbin: We plan to set up Globus at Harvard Dataverse. When we do, we'll probably try to make improvements to the guides then. However, please feel free to make a pull request before then!
Thu, Sep 29, 2022, 11:00:38 - lincoln_: sure 
Thu, Sep 29, 2022, 11:04:43 - lincoln_: pdurbin: Currently i am a bit busy on other office to-dos, but Ill keep this in mind too :)
Thu, Sep 29, 2022, 11:19:51 - lincoln_: just dont fully rely on me though..i am used to disappointing people, its like my hobby :P
Thu, Sep 29, 2022, 11:21:51 - pdurbin: heh
Thu, Sep 29, 2022, 11:22:48 - pdurbin: I just discovered a new podcast: "Stories about the FAIR principles in practice, for scientists who want to compound their impacts, not their errors." https://podcast.polyneme.xyz - Machine-Centric Science
Thu, Sep 29, 2022, 12:59:24 - Don Sizemore: @pdurbin hey hey. Kevin and I always chicken-and-egg over that. Ready for me to bump Dataverse-Ansible, for real?
Thu, Sep 29, 2022, 13:18:34 - pdurbin: Uh. üòÑ Not sure. What do we usually do? 
Thu, Sep 29, 2022, 13:20:40 - Don Sizemore: Kevin tells me when and I bump Dataverse-Ansible
Thu, Sep 29, 2022, 13:20:55 - Don Sizemore: He and I had a lot of Slack DMs that nobody ever saw
Thu, Sep 29, 2022, 13:22:31 - pdurbin: Heh. Ok. Well, we're SLOPI here. üòÑ Please help me understand. We haven't bumped Dataverse to 5.12 yet. If we bump Ansible to 5.12 now, does that mean that all Jenkins jobs will fail (except for the job tied to the bumping of 5.12 for Dataverse)? I hope I'm making sense!
Thu, Sep 29, 2022, 13:22:54 - Don Sizemore: well, I can bump just jenkins.yml if you like
Thu, Sep 29, 2022, 13:23:15 - Don Sizemore: but yes, Jenkins jobs will fail once you update pom.xml
Thu, Sep 29, 2022, 13:23:56 - Don Sizemore: I may also have a favor to ask of you (once the version bump is sorted) because, although I work in a library, I'm consistently terrible at searching GitHub issues.
Thu, Sep 29, 2022, 13:46:45 - pdurbin: Maybe we could try this next time? Too late this time. üòÑ

- ensure develop is passing
- bump jenkins.yml in Ansible
- create PR to bump Dataverse, ensure tests pass
- review and merge PR to bump Dataverse
- ensure develop is passing
- merge develop to master, ensure tests pass
- make release, upload artifacts
- bump main.yml, etc. in Ansible
Thu, Sep 29, 2022, 13:47:10 - pdurbin: But yeah, I like your idea that we don't have to bump all the Ansible .yml files if we don't want to.
Thu, Sep 29, 2022, 13:56:02 - Don Sizemore: memorytests.yml belongs exclusively to Leonid, IIRC
Thu, Sep 29, 2022, 13:58:36 - pdurbin: sounds right
Thu, Sep 29, 2022, 13:58:50 - pdurbin: which issue are you looking for?
Thu, Sep 29, 2022, 15:31:04 - Don Sizemore: I see this PR allowing AWS keys/secrets to be set as jvm-options, but is there a documented way to set the secret key as an alias?
Thu, Sep 29, 2022, 15:31:06 - Don Sizemore: https://github.com/IQSS/dataverse/pull/8313
Thu, Sep 29, 2022, 15:39:20 - pdurbin: Don Sizemore: I believe it would work the same way as this one. You'd use `asadmin create-password-alias` like this (but I haven't tried it): https://guides.dataverse.org/en/5.11.1/installation/config.html#dataverse-db-password
Thu, Sep 29, 2022, 15:40:22 - Don Sizemore: in 5.10 and above, since that's where 8313 got merged?
Thu, Sep 29, 2022, 15:41:01 - pdurbin: right
Thu, Sep 29, 2022, 15:41:22 - Don Sizemore: I'm going to try this on our looming "sensitive Dataverse proof-of-concept" and report back with a doc PR
Thu, Sep 29, 2022, 15:41:33 - pdurbin: Awesome. Thanks!
Thu, Sep 29, 2022, 15:42:09 - Don Sizemore: I'm sorry I didn't get my Rocky 9 stuff into 5.12. Things have been a little crazy down here.
Thu, Sep 29, 2022, 15:46:57 - pdurbin: Meh, no worries. The early adopters can jump in anyway if they want. üòÑ
Thu, Sep 29, 2022, 15:47:37 - Don Sizemore: I really do think all of that kerfuffle was the slow storage in my buildbox. What I get for buying something on sale.
Thu, Sep 29, 2022, 15:48:29 - pdurbin: heh
Fri, Sep 30, 2022, 02:57:29 - Benjamin (SODHA): _Kerfuffle_ has got to be one of the greatest words of the English language üòÑ
Fri, Sep 30, 2022, 06:23:19 - poikilotherm: <@pdurbin:matrix.org "Don Sizemore: I believe it would..."> This is the way to go for any password aliases!!! It's the same thing everywhere!
Fri, Sep 30, 2022, 07:18:07 - Don Sizemore: @poikilotherm thank you. will try it out and report back.
Fri, Sep 30, 2022, 07:56:41 - pdurbin: early GREI call /me yawns
Fri, Sep 30, 2022, 10:30:12 - Don Sizemore: poikilotherm (CEST,UTC+2): would you create both access-key and secret-key as password aliases (since they're each keys?) or just secret-key?
Fri, Sep 30, 2022, 10:30:23 - Don Sizemore: Benjamin (SODHA): if anything I'm quite the feather-ruffler
Fri, Sep 30, 2022, 10:50:43 - Don Sizemore: poikilotherm (CEST,UTC+2): `com.amazonaws.SdkClientException: Unable to find a region via the region provider chain. Must provide an explicit region in the builder or setup environment to supply a region.`
Fri, Sep 30, 2022, 10:50:59 - Don Sizemore: poikilotherm (CEST,UTC+2): so it still wants ~/.aws/config
Fri, Sep 30, 2022, 10:51:57 - pdurbin: bummer
Fri, Sep 30, 2022, 10:52:09 - Don Sizemore: that's minor, hiding the credentials are killer
Fri, Sep 30, 2022, 10:52:57 - pdurbin: so you can't hide the region? not so bad
Fri, Sep 30, 2022, 10:55:35 - Don Sizemore: or rather, it wants config in credentials: `Found the legacy config profiles file at [/home/dataverse/.aws/config]. Please move it to the latest default location [~/.aws/credentials]`
Fri, Sep 30, 2022, 10:55:38 - poikilotherm: <@donsizemore:matrix.org "poikilotherm (CEST,UTC+2): would..."> You really should do this with the secret key. It's arguable if it's necessary for the user key. Maybe just do it for both of 'em
Fri, Sep 30, 2022, 10:58:15 - poikilotherm: > <@donsizemore:matrix.org> that's minor, hiding the credentials are killer

Behold! Did you use `dataverse.files.<id>.custom-endpoint-region`?
Fri, Sep 30, 2022, 11:00:17 - Don Sizemore: I did not, but it doesn't like ~/.aws/credentials at all
Fri, Sep 30, 2022, 11:01:21 - Don Sizemore: "Only used when using custom endpoint?"
Fri, Sep 30, 2022, 11:01:29 - poikilotherm: Maybe the updated AWS SDK changed its behaviour
Fri, Sep 30, 2022, 11:02:12 - poikilotherm: By the time I wrote this, it was working as stated in the notes
Fri, Sep 30, 2022, 11:02:15 - poikilotherm: 

    Providing both AWS CLI profile files (as setup in first step) and static keys, credentials from ~/.aws will win over configured keys when valid!

    A non-empty dataverse.files.<id>.profile will be ignored when no credentials can be found for this profile name. Current codebase does not make use of ‚Äúnamed profiles‚Äù as seen for AWS CLI besides credentials.

Fri, Sep 30, 2022, 11:02:39 - poikilotherm: What a bummer this thing ain't integration tested
Fri, Sep 30, 2022, 11:02:46 - Don Sizemore: I'll test custom-endpoint-region, but things appeared to be working with ~/.aws/config
Fri, Sep 30, 2022, 11:02:53 - poikilotherm: pdurbin: Arquillian for the rescue?
Fri, Sep 30, 2022, 11:03:57 - poikilotherm: <@donsizemore:matrix.org "I'll test custom-endpoint-region..."> So you can now have the secrets defined via MPCONFIG and still work with it?
Fri, Sep 30, 2022, 11:04:27 - Don Sizemore: give me a second, testing with `custom-endpoint-region`
Fri, Sep 30, 2022, 11:04:31 - poikilotherm: It's obviously not what I wanted - I really want to get rid of all the files
Fri, Sep 30, 2022, 11:06:43 - Don Sizemore: poikilotherm (CEST,UTC+2): it should be noted that this is a test server, running payara-5.2021.9
Fri, Sep 30, 2022, 11:07:12 - poikilotherm: With develop?
Fri, Sep 30, 2022, 11:07:21 - Don Sizemore: 5.10.1
Fri, Sep 30, 2022, 11:07:26 - poikilotherm: Ah ok
Fri, Sep 30, 2022, 11:07:42 - Don Sizemore: the next server I try this one will be running 5.12
Fri, Sep 30, 2022, 11:08:24 - Don Sizemore: poikilotherm (CEST,UTC+2): yeah, it doesn't like `dataverse.files.s3.custom-endpoint-region`
Fri, Sep 30, 2022, 11:10:41 - poikilotherm: Meh
Fri, Sep 30, 2022, 11:11:24 - poikilotherm: Sounds like their behaviour has changed... The profile cred Provider is in the loop so it's now asking for the config file
Fri, Sep 30, 2022, 11:11:27 - pdurbin: poikilotherm (CEST,UTC+2): yes to more automated testing!
Fri, Sep 30, 2022, 11:11:53 - poikilotherm: Dunno if there is an API option to make it ignore when missing
Fri, Sep 30, 2022, 11:14:07 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): yes t..."> Obviously people then would need to learn Arquillian... The other option would be to use Testcontainers for ITs with this - IIRC the storage layer is not depending heavily on CDI/EJB. *But* that would need Docker installed...
Fri, Sep 30, 2022, 11:14:42 - poikilotherm: Actually Testcontainers here would enable a far better IT than Arquillian... You need an S3 endpoint to connect to.
Fri, Sep 30, 2022, 11:15:07 - poikilotherm: Combining both enables best of both üòã
Fri, Sep 30, 2022, 11:15:35 - poikilotherm: But I already see the wall I'm gonna crash into with this...
Fri, Sep 30, 2022, 11:15:45 - pdurbin: üòÑ
Fri, Sep 30, 2022, 11:16:03 - Don Sizemore: poikilotherm (CEST,UTC+2): so, good news: on Dataverse 5.10.1 with Payara-5.2021.9, with access-key in MPconfig and secret-key as a password alias and the region defined in ~/.aws/config, it works.
Fri, Sep 30, 2022, 11:16:44 - poikilotherm: Ok 5.10.1 still should have the old AWS SDK....
Fri, Sep 30, 2022, 11:16:54 - Don Sizemore: so you have to define the region in ~/aws but hiding the secret-key was the goal
Fri, Sep 30, 2022, 11:17:08 - Don Sizemore: i'll have a new test server next week with 5.12 I hope, will tinker again then.
Fri, Sep 30, 2022, 11:17:17 - poikilotherm: Strange thing. I tested this. It worked without the files. No idea what I might have done differently 
Fri, Sep 30, 2022, 11:17:44 - Don Sizemore: I don't mind adding the config file. Not having the AWS key on the filesystem in wonderful.
Fri, Sep 30, 2022, 11:18:38 - poikilotherm: I will retest this with the next MPCONFIG iteration, also enabling all the rest of the properties
Fri, Sep 30, 2022, 11:18:49 - Don Sizemore: I had a PR in mind, but it wouldn't make it into 5.12 anyway, so maybe I'll submit for 5.13 once I test on the newer server
Fri, Sep 30, 2022, 13:41:15 - pdurbin: adding bootstrap to my web component
Fri, Sep 30, 2022, 15:47:31 - Don Sizemore: @pdurbin promise you won't kill me
Fri, Sep 30, 2022, 15:47:57 - Don Sizemore: @pdurbin remember you tracked down what you thought was the new DataCite MDC JavaScript widget?
Fri, Sep 30, 2022, 15:49:43 - pdurbin: The one I posted about this morning at https://github.com/IQSS/dataverse.harvard.edu/issues/75#issuecomment-1263648845 ? üòÑ
Fri, Sep 30, 2022, 15:51:37 - Don Sizemore: @pdurbin yes yes yes!
Fri, Sep 30, 2022, 15:54:29 - pdurbin: don't quote me but might be out by the end of the year, we were told this morning
Fri, Sep 30, 2022, 15:58:18 - pdurbin: <@pdurbin:matrix.org "adding bootstrap to my web compo..."> There. Now the Web Components version also has Bootstrap: https://people.dataverse.org
Fri, Sep 30, 2022, 15:58:40 - pdurbin: See also https://github.com/IQSS/dataverse/issues/8987#issuecomment-1263945409
Fri, Sep 30, 2022, 15:59:03 - pdurbin: And with that, I'm out of here. 8 to 4 today. Have a good weekend, everyone!
Fri, Sep 30, 2022, 16:20:35 - Joe Gonzalez: Hey guys, I followed the Apache SSL instructions and I'm still getting a 503 Service Unavailable when using ProxyPass / ajp://localhost:8009/

I even used ProxyPass / http://localhost:8080/ as suggested on a Payara blog and nothing.

If I comment out the ProxyPass, I get the default Apache welcome page with a working cert. If I go to http://domain:8080, I get a working (but unsecured) default Dataverse login page. I just can't seem to get Apache to front Payara.
Sat, Oct 1, 2022, 14:52:17 - pdurbin: Joe Gonzalez: let's please pick this up on Monday.
Sat, Oct 1, 2022, 14:52:24 - pdurbin: Meanwhile...
Sat, Oct 1, 2022, 14:52:39 - pdurbin: I just announced our participation in Hacktoberfest, which begins today! https://groups.google.com/g/dataverse-community/c/X8Q0cz0ERQ8/m/k5NKkuIUBgAJ
Sun, Oct 2, 2022, 15:45:12 - pdurbin sent an image. (Media omitted)
Sun, Oct 2, 2022, 15:45:29 - pdurbin: Hmm, what could that graph be about? üòÑ
Sun, Oct 2, 2022, 18:53:02 - pdurbin: I posted my script and an explanation here on the "issue backlog" thread: https://groups.google.com/g/dataverse-dev/c/Pkces_MBqR8/m/YndHLawYBgAJ
Mon, Oct 3, 2022, 03:39:29 - Benjamin (SODHA): <@pdurbin:matrix.org "Hmm, what could that graph be ab..."> Number of issues opened in IQSS's GitHub repository?
Mon, Oct 3, 2022, 06:21:07 - poikilotherm: Looks like I have been with you folks for quite some time... üôà
Mon, Oct 3, 2022, 06:46:12 - Benjamin (SODHA): I need to pump up my own numbers!
Mon, Oct 3, 2022, 06:46:15 - Benjamin (SODHA): Those are rookie numbers!
Mon, Oct 3, 2022, 07:27:05 - pdurbin: Benjamin (SODHA): that's right, get to work, rookie!
Mon, Oct 3, 2022, 07:28:26 - Benjamin (SODHA): <@pdurbin:matrix.org "Hmm, what could that graph be ab..."> Now correlate them with pull requests!
Mon, Oct 3, 2022, 07:28:43 - Benjamin (SODHA): I'm afraid I'll be among the whiny ones, who keep opening issues but barely submit any code :')
Mon, Oct 3, 2022, 07:33:12 - pdurbin: Actually, pull requests are already included. (They share numbers.)
Mon, Oct 3, 2022, 07:56:02 - pdurbin: What I'm excited about it how little code (15 lines with comments) it took to pull down the data and aggregate it. And if you don't hit the GitHub API too hard you don't have to auth.
Mon, Oct 3, 2022, 07:59:27 - pdurbin: Also, it would be trivial to pull out the üëçÔ∏è üöÄ etc stuff:

```
      "+1": 2,
      "-1": 0,
      "laugh": 0,
      "hooray": 0,
      "confused": 0,
      "heart": 0,
      "rocket": 2,
      "eyes": 0
```
Mon, Oct 3, 2022, 08:00:06 - pdurbin: this field is interesting: `    "author_association": "CONTRIBUTOR",`
Mon, Oct 3, 2022, 08:00:35 - pdurbin: (can also be `NONE` or `MEMBER`)
Mon, Oct 3, 2022, 08:01:03 - pdurbin: number of comments
Mon, Oct 3, 2022, 08:02:28 - pdurbin: No listing of the boards/projects the issue is on. Oh well. I already have a script for that.
Mon, Oct 3, 2022, 08:05:59 - pdurbin: Anyway, I already posted my new toy, my new "byauthor" script to dev list (see above) but I just pushed it here as well: https://github.com/pdurbin/scripts/commit/329d9d9
Mon, Oct 3, 2022, 09:27:03 - pdurbin: For Hacktoberfest what do I have to do when the PRs start rolling in?
Mon, Oct 3, 2022, 09:42:31 - pdurbin: My take on https://hacktoberfest.com/participation/#pr-mr-details is that since our repo already has the "hacktoberfest" topic, there's nothing else I have to do. Please correct me if I'm wrong!
Mon, Oct 3, 2022, 10:51:00 - Miguel Silva: hi all
Mon, Oct 3, 2022, 10:51:34 - Miguel Silva: i have a question about the dataverse API integration into a ESP32 MCU using  ESP32's WiFI library
Mon, Oct 3, 2022, 10:52:02 - Miguel Silva: i'm getting an error when i connect to the server 
Mon, Oct 3, 2022, 10:52:43 - Miguel Silva: i'm using the url 
https://dataverse.harvard.edu/api/datasets/6552890/add?key=xxxxxxxxxxxxxxxxxxxxxxxx
Mon, Oct 3, 2022, 10:52:46 - Miguel Silva: and port 8080
Mon, Oct 3, 2022, 10:53:01 - Miguel Silva:     WiFiClient client;
Mon, Oct 3, 2022, 10:53:13 - Miguel Silva:     if (!client.connect(char_url, 8080)) {
      Serial.println("Cloud server URL connection FAILED!");
      Serial.println(char_url);
      return;
    }
    Serial.println("Connected to the Dataverse.");
Mon, Oct 3, 2022, 10:53:24 - Miguel Silva: can anyone here assist me ?
Mon, Oct 3, 2022, 10:53:28 - Miguel Silva: thank you
Mon, Oct 3, 2022, 11:16:12 - Miguel Silva: (for instance is the port 8080 correct ? )
Mon, Oct 3, 2022, 11:17:49 - pdurbin: Miguel Silva: no, you should use 443 (https)
Mon, Oct 3, 2022, 11:18:35 - pdurbin: Miguel Silva: actually, please use the demo server if you're just testing: https://demo.dataverse.org
Mon, Oct 3, 2022, 11:22:08 - pdurbin: Miguel Silva: this is for https://github.com/IQSS/dataverse/issues/8956 right?
Mon, Oct 3, 2022, 11:22:45 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: no, you should use..."> hi
Mon, Oct 3, 2022, 11:23:02 - Miguel Silva: yes you are correct is for the same issue i left on Github
Mon, Oct 3, 2022, 11:23:41 - pdurbin: Is this an Arduino? I looked for serial.println and found https://www.arduino.cc/reference/en/language/functions/communication/serial/println/
Mon, Oct 3, 2022, 11:24:16 - Miguel Silva: noooo. Serial.print is to output data using serial UART
Mon, Oct 3, 2022, 11:24:41 - pdurbin: ok, so this: https://en.wikipedia.org/wiki/Universal_asynchronous_receiver-transmitter
Mon, Oct 3, 2022, 11:25:18 - Miguel Silva: (now you're testing my coding skills ....)
Mon, Oct 3, 2022, 11:25:29 - Miguel Silva: (beware, i have 30 years of training ....)
Mon, Oct 3, 2022, 11:25:35 - Miguel Silva: ;)
Mon, Oct 3, 2022, 11:25:36 - pdurbin: Would it make sense to have a UART client library at https://guides.dataverse.org/en/5.11.1/api/client-libraries.html ?
Mon, Oct 3, 2022, 11:25:53 - Miguel Silva: actually i'm using the WIFI client library
Mon, Oct 3, 2022, 11:26:17 - Miguel Silva: https://github.com/espressif/arduino-esp32/blob/master/libraries/WiFi/src/WiFiClient.h
Mon, Oct 3, 2022, 11:26:41 - pdurbin: cool
Mon, Oct 3, 2022, 11:26:41 - Miguel Silva: (i'm replying to the message you left on github.
Mon, Oct 3, 2022, 11:27:13 - pdurbin: I'm new to all this. It sure looks like an Arduino client library. üòÑ
Mon, Oct 3, 2022, 11:35:00 - Miguel Silva: okok
Mon, Oct 3, 2022, 11:35:13 - Miguel Silva: just left a reply on the feature request 
Mon, Oct 3, 2022, 11:35:25 - Miguel Silva: https://github.com/IQSS/dataverse/issues/8956
Mon, Oct 3, 2022, 11:35:58 - Miguel Silva: so I'm open to all kinds of code collaboration and contribute to improve dataverse .
Mon, Oct 3, 2022, 11:36:06 - Miguel Silva: how/where can i start ?
Mon, Oct 3, 2022, 11:37:09 - pdurbin: Well, over the weekend I flagged a bunch of small issues for Hacktoberfest. Are any of these of interest? https://groups.google.com/g/dataverse-community/c/X8Q0cz0ERQ8/m/k5NKkuIUBgAJ
Mon, Oct 3, 2022, 11:38:01 - pdurbin: I'm sort of thinking maybe a small issue (even just a doc change) before you embark on the very cool features you're brainstorming about in that issue.
Mon, Oct 3, 2022, 11:42:32 - Miguel Silva: i think is wise too. 
Mon, Oct 3, 2022, 11:42:42 - Miguel Silva: will have a look
Mon, Oct 3, 2022, 11:42:46 - Miguel Silva: thank you
Mon, Oct 3, 2022, 11:44:14 - pdurbin: You're quite welcome!
Mon, Oct 3, 2022, 11:52:45 - Miguel Silva: here's a photo with the prototype smart DAQ I'm referring to
Mon, Oct 3, 2022, 11:52:50 - Miguel Silva sent an image. (Media omitted)
Mon, Oct 3, 2022, 11:53:06 - Miguel Silva: (testing and debugging right now )
Mon, Oct 3, 2022, 11:53:13 - pdurbin: nice
Mon, Oct 3, 2022, 11:53:44 - Miguel Silva: features a tensilica MCU Lx7 dual core 240Mhz 
Mon, Oct 3, 2022, 11:54:19 - Miguel Silva: only 12bit . but enough for a prototype 
Mon, Oct 3, 2022, 11:54:41 - pdurbin: Can it make 8 bit chiptunes? üòÑ
Mon, Oct 3, 2022, 11:54:56 - Miguel Silva: yes it can !!!!!
Mon, Oct 3, 2022, 11:55:16 - pdurbin: Nice. poikilotherm (CEST,UTC+2) if we ever get that podcast going. ^^
Mon, Oct 3, 2022, 12:07:46 - Miguel Silva: perhaps one with  24bit resolution then ....
Mon, Oct 3, 2022, 12:09:24 - Joe Gonzalez: <@pdurbin:matrix.org "Joe Gonzalez: let's please pick ..."> pdurbin: Solved. After some digging, found out I had to run: sudo setsebool -P httpd_can_network_connect on

Worked fine after that
Mon, Oct 3, 2022, 13:16:31 - pdurbin: Joe Gonzalez: I knew you'd figure it out. Good job. Please see also https://guides.dataverse.org/en/5.11.1/developers/selinux.html
Mon, Oct 3, 2022, 13:46:39 - Don Sizemore: @pdurin I know you don't have anything to do right now, but a) I'm here if you need help with stuff, and b) may I ask a question?
Mon, Oct 3, 2022, 13:47:15 - Don Sizemore: @pdurbin even
Mon, Oct 3, 2022, 13:58:11 - Joe Gonzalez: <@pdurbin:matrix.org "Joe Gonzalez: I knew you'd figur..."> Wow, completely missed that in the documentation. Thanks!
Mon, Oct 3, 2022, 14:00:01 - pdurbin: Joe Gonzalez: sure. I wrote it for CentOS 6. If you'd like to update it for el 8 or 9, lemme know!
Mon, Oct 3, 2022, 14:00:11 - pdurbin: Don Sizemore: hit me
Mon, Oct 3, 2022, 14:00:19 - pdurbin: Miguel Silva: what bash script?
Mon, Oct 3, 2022, 14:02:22 - pdurbin: (I saw a bash script mentioned here: https://github.com/IQSS/dataverse/issues/9015#issuecomment-1265822971 )
Mon, Oct 3, 2022, 14:03:22 - Don Sizemore: @pdurbin I've seen you tagging issues with "Hacktoberfest" labels. Before I submit my PR for Dataverse-Metrics, must issue #77 be tagged "Hacktoberfest"?
Mon, Oct 3, 2022, 14:04:36 - pdurbin: I think I need to add a "topic" to the repo. One moment.
Mon, Oct 3, 2022, 14:04:57 - pdurbin: oh, it's already there
Mon, Oct 3, 2022, 14:05:02 - pdurbin: I think you're good!
Mon, Oct 3, 2022, 14:05:32 - pdurbin: poikilotherm (CEST,UTC+2) might be able to tell us for sure. Or I'd suggest asking qqmyers 
Mon, Oct 3, 2022, 14:10:14 - Don Sizemore: @pdurbin I mean, I'm not that invested, but it's Hacktoberfest and this is my first PR of the month
Mon, Oct 3, 2022, 14:10:27 - pdurbin: get that t-shirt!
Mon, Oct 3, 2022, 14:13:18 - Don Sizemore: I chose the tree before
Mon, Oct 3, 2022, 14:13:26 - Don Sizemore: I hope they planted one
Mon, Oct 3, 2022, 14:13:28 - pdurbin: oh, right
Mon, Oct 3, 2022, 14:13:35 - pdurbin: Don Sizemore: are you part of this? "The latest link for the guides should be updated on the guides server to point to the newest version."
Mon, Oct 3, 2022, 14:13:54 - Don Sizemore: pdurbin: Kevin usually did that, but I'm happy to. just pointing a symlink
Mon, Oct 3, 2022, 14:14:10 - pdurbin: He'd ssh into the guides server?
Mon, Oct 3, 2022, 14:14:26 - Don Sizemore: he did quite often. ~34GB worth of guides up there
Mon, Oct 3, 2022, 14:14:40 - pdurbin: mmm, docutastic!
Mon, Oct 3, 2022, 14:15:34 - pdurbin: Well, I'm happy for you to do it but maybe you could shoot me the ssh key at some point just in case.
Mon, Oct 3, 2022, 14:16:00 - pdurbin: I'm going to add this step to the "making releases" page in the dev guide.
Mon, Oct 3, 2022, 14:16:07 - pdurbin: "Talk to Don" üòÑ
Mon, Oct 3, 2022, 14:17:07 - Don Sizemore: "send Don over-the-counter sedatives"
Mon, Oct 3, 2022, 14:18:34 - pdurbin: Huh. And I guess we only have the one "guides" job on Jenkins?
Mon, Oct 3, 2022, 14:18:52 - pdurbin: That must be why there are 34GB. Probably used for PRs too.
Mon, Oct 3, 2022, 14:19:13 - Don Sizemore: there are a bunch of guide builds on the server, prepended by issue number/title
Mon, Oct 3, 2022, 14:19:29 - pdurbin: mixed in with actual releases?
Mon, Oct 3, 2022, 14:19:44 - Don Sizemore: they're all subdirectories (hence the "latest" symlink)
Mon, Oct 3, 2022, 14:19:55 - pdurbin: ok
Mon, Oct 3, 2022, 14:19:56 - Don Sizemore: but yes, mixed in at that level
Mon, Oct 3, 2022, 14:21:53 - pdurbin: not that it matters but do you know why there's only one job in the build history at https://jenkins.dataverse.org/job/guides.dataverse.org/ ?
Mon, Oct 3, 2022, 16:01:03 - poikilotherm: <@pdurbin:matrix.org "For Hacktoberfest what do I have..."> You might think about adding the "accepted" tag described on the website if sth looks good so people get their PRs accepted fast but no additional load is generated on you folks
Mon, Oct 3, 2022, 16:02:15 - pdurbin: yeah, it seems like that extra label is optional
Mon, Oct 3, 2022, 16:04:06 - poikilotherm: <@pdurbin:matrix.org "Would it make sense to have a UA..."> Nope, this wouldn't help IMHO. It might be interesting to have a C++ library. Making it available via https://platformio.org/ then might help in using it on different platforms
Mon, Oct 3, 2022, 16:08:01 - pdurbin: we had someone ask for c# (csharp) once, not c++ that I remember
Mon, Oct 3, 2022, 16:08:16 - poikilotherm: Ha no C# on embedded CPUs ;-)
Mon, Oct 3, 2022, 16:09:20 - poikilotherm: I'm not convinced using a direct connection from an embedded device to Dataverse is a good idae
Mon, Oct 3, 2022, 16:09:56 - poikilotherm: Lot's of URL calls necessary etc
Mon, Oct 3, 2022, 16:10:35 - poikilotherm: Depending on the architecture of your embedded application, you might prefer a lightweight approach
Mon, Oct 3, 2022, 16:11:43 - pdurbin: Oh, poikilotherm (CEST,UTC+2) not to steer you away from this but I'm thinking I should add a diagram or two to https://github.com/IQSS/dataverse-people . I would probably default to dot/graphviz.
Mon, Oct 3, 2022, 16:12:28 - poikilotherm: It might be the perfect opportunity to practice C4 or similar üòâ
Mon, Oct 3, 2022, 16:15:30 - pdurbin: should I start with the file you sent me a while back?
Mon, Oct 3, 2022, 16:15:53 - pdurbin: if I can find it
Mon, Oct 3, 2022, 16:16:16 - poikilotherm: Actually I think you should take a look at the model based approach
Mon, Oct 3, 2022, 16:16:40 - poikilotherm: For the Dataverse codebase this is the only reasonable way to go
Mon, Oct 3, 2022, 16:16:50 - pdurbin: does that mean C4?
Mon, Oct 3, 2022, 16:18:22 - poikilotherm: I *think* arc42 might be an alternative, too
Mon, Oct 3, 2022, 16:18:39 - pdurbin: huh, ok
Mon, Oct 3, 2022, 16:18:45 - pdurbin: if you get me started, I'll try it
Mon, Oct 3, 2022, 16:19:01 - pdurbin: but meanwhile I might start with dot/graphviz
Mon, Oct 3, 2022, 16:19:08 - pdurbin: just to have something
Mon, Oct 3, 2022, 16:19:31 - pdurbin: I think I'd like to show the ports, the proxy to 8080.
Mon, Oct 3, 2022, 16:20:16 - poikilotherm: Implementation details üòâ
Mon, Oct 3, 2022, 16:20:24 - pdurbin: don't show the ports?
Mon, Oct 3, 2022, 16:20:56 - poikilotherm: Well in C4 there is a specific diagram type for this: https://c4model.com/#DeploymentDiagram
Mon, Oct 3, 2022, 16:21:09 - poikilotherm: But it's _supplementary_
Mon, Oct 3, 2022, 16:21:42 - poikilotherm: The main value lies in the architecture model!
Mon, Oct 3, 2022, 16:21:52 - pdurbin: ok
Mon, Oct 3, 2022, 16:22:01 - pdurbin: nice diagram though
Mon, Oct 3, 2022, 16:22:10 - pdurbin: they should have the source next to it
Mon, Oct 3, 2022, 16:23:41 - pdurbin: good stuff under "samples" at https://github.com/plantuml-stdlib/C4-PlantUML
Mon, Oct 3, 2022, 16:26:40 - pdurbin: Ok, C4-PlantUML seems to work. Is that what I should use?
Mon, Oct 3, 2022, 16:26:58 - poikilotherm: <@pdurbin:matrix.org "they should have the source next..."> https://structurizr.com/dsl?example=big-bank-plc
Mon, Oct 3, 2022, 16:27:37 - poikilotherm: Note the different diagram types you can choose on the right
Mon, Oct 3, 2022, 16:27:51 - poikilotherm: These are all coming from the model definition on the left
Mon, Oct 3, 2022, 16:28:38 - pdurbin: Hmm, that one didn't work:

```
$ java -jar ~/tools/plantuml/plantuml.1.2021.10.jar -DRELATIVE_INCLUDE="." bigbank.puml 
Warning: the fonts "Times" and "Times" are not available for the Java logical font "Serif", which may have unexpected appearance or behavior. Re-enable the "Times" font to remove this warning.
Warning: no image in bigbank.puml
No diagram found
```
Mon, Oct 3, 2022, 16:29:27 - poikilotherm: Oh C4 Plantuml is nice, BUT it is not a modelling approach
Mon, Oct 3, 2022, 16:30:05 - poikilotherm: It's a "diagramming tool"
Mon, Oct 3, 2022, 16:30:37 - poikilotherm: That's because you create a static snapshot of a system, not backed by a model as its source
Mon, Oct 3, 2022, 16:31:33 - pdurbin sent an image. (Media omitted)
Mon, Oct 3, 2022, 16:31:41 - pdurbin: I got that one from the git repo to work.
Mon, Oct 3, 2022, 16:32:20 - pdurbin: I hear you on the modeling. But I need working tools. üòÑ
Mon, Oct 3, 2022, 16:33:21 - poikilotherm: https://c4model.com/#Tooling
Mon, Oct 3, 2022, 16:33:45 - poikilotherm: *Maybe* you want to try out one of the listed "modelling tools"?
Mon, Oct 3, 2022, 16:34:06 - poikilotherm: Structurizer is nice but a little strange to begin with
Mon, Oct 3, 2022, 16:34:37 - poikilotherm: ARchinsight is in early dev stage
Mon, Oct 3, 2022, 16:34:53 - poikilotherm: Maybe you want to give the visual modelling tools a try?
Mon, Oct 3, 2022, 16:35:38 - pdurbin: Structurizer seems complicated. PlantUML is easy.
Mon, Oct 3, 2022, 17:01:34 - pdurbin: Maybe I need to try it when I'm fresh. Time to go home. 'Night all!
Tue, Oct 4, 2022, 01:39:45 - tt003091 joined the room
Tue, Oct 4, 2022, 01:39:50 - tt003091: HI..
Tue, Oct 4, 2022, 01:40:07 - tt003091: can help me how to use DataVerse  system ?
Tue, Oct 4, 2022, 01:41:13 - tt003091: i have already install in our server but how to use that ?
Tue, Oct 4, 2022, 01:41:45 - tt003091: and please confirm if Dataverse system in our server have to configure as public access ?
Tue, Oct 4, 2022, 07:06:39 - pdurbin: tt003091: no, you don't have to configure public access. Some organizations run Dataverse behind a firewall.
Tue, Oct 4, 2022, 07:07:31 - pdurbin: Does anyone here have time to help Lynette Garcia Perez who is having trouble deploying? Please see https://groups.google.com/g/dataverse-community/c/H9XdA1T_bfU/m/UnW26OPEBgAJ
Tue, Oct 4, 2022, 08:41:09 - Miguel Silva: <@pdurbin:matrix.org "tt003091: no, you don't have to ..."> not ready yet for such simple task
Tue, Oct 4, 2022, 09:06:53 - pdurbin: Most Dataverse installations are NOT behind a firewall, I think. üòÑ They harvest from each other, publish metadata to DataCite, get crawled by Google Dataset Search, etc.
Tue, Oct 4, 2022, 09:22:27 - pdurbin: Don Sizemore: thanks for replying to Lynette Garcia Perez !
Tue, Oct 4, 2022, 09:57:59 - pdurbin: The community call will start in about an hour: https://dataverse.org/community-calls
Tue, Oct 4, 2022, 10:04:38 - poikilotherm: <@pdurbin:matrix.org "The community call will start in..."> Afraid I can't make it - Taxi Papa is getting a call
Tue, Oct 4, 2022, 10:24:22 - Lynette Garc√≠a joined the room
Tue, Oct 4, 2022, 10:29:53 - poikilotherm: OK change of plans - I can join y'all a bit later
Tue, Oct 4, 2022, 10:34:31 - pdurbin: cool
Tue, Oct 4, 2022, 10:34:54 - pdurbin: Lynette Garc√≠a: hi! How's that install going? I saw your email and it seems like Don Sizemore is helping (thanks!).
Tue, Oct 4, 2022, 10:46:56 - Lynette Garc√≠a: Hi! Here I am agai, ha ha. I tried to reinstall dataverse but I still having this error: remote failure: Error occurred during deployment: Exception while loading the app : EJB Container initialization error. Please see server.log for more details.
Command deploy failed.

Tue, Oct 4, 2022, 10:47:56 - Lynette Garc√≠a: I did a fresh reinstall following the instructions from here https://guides.dataverse.org/en/4.9.2/installation/installation-main.html#fresh-reinstall
Tue, Oct 4, 2022, 10:49:35 - pdurbin: Hmm, I'm running the community call in ~10 minutes (you're welcome to join! https://dataverse.org/community-calls ) and then juliangautier and I are meeting a former colleague for lunch but I can try to help after. Or someone here might be able to help.
Tue, Oct 4, 2022, 10:50:29 - pdurbin: not sure what timezone you're in but I'm starting to get organized about this if you'd like to be added to https://people.dataverse.org üòÑ (a new site)
Tue, Oct 4, 2022, 10:53:30 - Lynette Garc√≠a: ok, thanks, yes add me to people.dataverse.org, I 'am at GTM-6 time zone, in Central America
Tue, Oct 4, 2022, 10:54:12 - pdurbin: Sure. Are you on GitHub? If so, what's your username, please?
Tue, Oct 4, 2022, 10:55:00 - Lynette Garc√≠a: lgarciap is my github user
Tue, Oct 4, 2022, 10:55:48 - pdurbin: thanks, added!
Tue, Oct 4, 2022, 10:55:53 - Lynette Garc√≠a: thanks
Tue, Oct 4, 2022, 11:16:08 - Miguel Silva: <@pdurbin:matrix.org "Hmm, I'm running the community c..."> im on the community zoom meeting. no one is there ....
Tue, Oct 4, 2022, 11:39:44 - pdurbin: Miguel Silva: looks like you found us üòÑ Thanks for joining!
Tue, Oct 4, 2022, 14:40:27 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: looks like you fou..."> i did! 
Tue, Oct 4, 2022, 16:45:27 - pdurbin: news sent: https://groups.google.com/g/dataverse-community/c/LCzMvGIFreY/m/ocqY_s4GBwAJ
Tue, Oct 4, 2022, 16:45:34 - pdurbin: now to get the release out
Tue, Oct 4, 2022, 17:53:11 - pdurbin: so close but time to go home for the day
Wed, Oct 5, 2022, 03:45:14 - tt003091: OK but we our data verse have to join with global dataverse, right ?
Wed, Oct 5, 2022, 03:46:14 - tt003091: in our internal we can access dataverse with our internal network but how to access on public?
Wed, Oct 5, 2022, 03:46:39 - tt003091: please confirm if our dataverse have to join with global data verse with public IP ?
Wed, Oct 5, 2022, 04:49:36 - lincoln_: tt003091: i am not sure if i understood you question but are you talking about "https" for production dataverse
Wed, Oct 5, 2022, 08:47:17 - pdurbin: tt003091: your installation has to be public IF you want it on this map: https://dataverse.org/installations üòÑ
Wed, Oct 5, 2022, 08:48:02 - pdurbin: tt003091: but if you don't care about the map, you can run a non-public installation
Wed, Oct 5, 2022, 08:59:02 - lincoln_: pdurbin I see zip previewer in betatest. :) https://github.com/gdcc/dataverse-previewers/tree/master/previewers
Wed, Oct 5, 2022, 09:24:16 - pdurbin: Nice!
Wed, Oct 5, 2022, 09:32:58 - pdurbin: If we get that zip previewer (and downloader!) in place, I'm thinking about reorganizing my dataset to put all my primary data (dozens of JSON files from the GitHub API) in a zip. Then my only real data file would be a tabular file (ingested from CSV, an aggregation of the JSON files). Basically, my dataset would be a lot cleaner looking, I think.
Wed, Oct 5, 2022, 09:34:51 - pdurbin: This "open source at Harvard" dataset: https://doi.org/10.7910/DVN/TJCLKP
Wed, Oct 5, 2022, 10:20:05 - pdurbin: 5.12 is out! https://github.com/IQSS/dataverse/releases/tag/v5.12
Wed, Oct 5, 2022, 10:54:05 - lincoln_: quick question: is globus connection to s3 a paid service(subscription based)?
Wed, Oct 5, 2022, 10:55:21 - pdurbin: hmm, good question
Wed, Oct 5, 2022, 10:55:57 - pdurbin: I think that part is paid, yes. The desktop client is free. But please don't quote me on that!
Wed, Oct 5, 2022, 10:56:24 - pdurbin: We could look at the doc and see what it says.
Wed, Oct 5, 2022, 10:56:26 - lincoln_: haha luckily i didnt
Wed, Oct 5, 2022, 10:57:04 - pdurbin: https://guides.dataverse.org/en/5.12/developers/big-data-support.html#globus-file-transfer
Wed, Oct 5, 2022, 10:57:09 - lincoln_: i was looking at Globus yesterday and saw this Globus S3 connection module as subscription based
Wed, Oct 5, 2022, 10:57:27 - pdurbin: "Globus transfer requires use of the Globus S3 connector which requires a paid Globus subscription at the host institution. Users will need a Globus account which could be obtained via their institution or directly from Globus (at no cost)."
Wed, Oct 5, 2022, 10:57:32 - pdurbin: Does that help?
Wed, Oct 5, 2022, 10:57:50 - lincoln_: yes thank you  very clear
Wed, Oct 5, 2022, 10:57:58 - pdurbin: phew üòÖ
Wed, Oct 5, 2022, 10:58:03 - lincoln_: haha
Wed, Oct 5, 2022, 10:58:31 - pdurbin: Pull requests for the docs are welcome! It's Hacktoberfest afterall. üòÑ
Wed, Oct 5, 2022, 10:58:34 - Don Sizemore: @pdurbin dumb quostion?
Wed, Oct 5, 2022, 10:58:40 - Don Sizemore: question, even
Wed, Oct 5, 2022, 10:58:45 - pdurbin: hit me
Wed, Oct 5, 2022, 10:58:58 - Don Sizemore: looking at default.config, I don't see a way to disable Rserve
Wed, Oct 5, 2022, 11:00:16 - Don Sizemore: is that worth an issue for the Python installer? --disable-rserve or some such?
Wed, Oct 5, 2022, 11:02:15 - pdurbin: Huh, interesting.
Wed, Oct 5, 2022, 11:02:29 - pdurbin: I mean, the installer doesn't actually set up RServe does it?
Wed, Oct 5, 2022, 11:02:29 - Don Sizemore: would be a minor tweak to the installer. a Hacktoberfest issue, even!
Wed, Oct 5, 2022, 11:02:47 - pdurbin: It just sets a JVM option or database setting (I forget which), right?
Wed, Oct 5, 2022, 11:03:29 - Don Sizemore: good point, but it'll still set a JVM-option to a non-existent service
Wed, Oct 5, 2022, 11:04:00 - Don Sizemore: and we dropped Rserve from Jenkins a while ago, so perhaps this is a non-issue
Wed, Oct 5, 2022, 11:04:02 - pdurbin: Right. And Benjamin (SODHA) is watching! üëÄ He opened https://github.com/IQSS/dataverse/issues/8711
Wed, Oct 5, 2022, 11:04:15 - pdurbin: which is highly related
Wed, Oct 5, 2022, 11:05:59 - Don Sizemore: I'll carry on with my default.config
Wed, Oct 5, 2022, 11:07:08 - pdurbin: Don Sizemore: I guess what I'm trying to say is that if we offer in the installer that people can opt out of R and Rserve and RData... they'll have a new problem, Benjamin (SODHA) 's problem in that issue he opened... hard coded options to download formats that won't be available because Rserve isn't running. So probably the thing to do is fix Benjamin (SODHA) 's issue first. Am I making sense?
Wed, Oct 5, 2022, 11:08:09 - Don Sizemore: @pdurbin I'm installing a "secure/dark" Dataverse today/this week without Rserve, so we'll just suffer the 404s in the mean time. I may just remove the jvm-options after the installer finishes.
Wed, Oct 5, 2022, 11:08:47 - Don Sizemore: I think I was anticipating a problem which won't manifest (not that I do that, ever).
Wed, Oct 5, 2022, 11:13:15 - pdurbin: just because you're paranoid don't mean they're not after you
Wed, Oct 5, 2022, 11:31:19 - poikilotherm: <@donsizemore:matrix.org "good point, but it'll still set ..."> @donsizemore Please note my PR which is related here: https://github.com/IQSS/dataverse/pull/8830
Wed, Oct 5, 2022, 11:39:28 - pdurbin: poikilotherm (CEST,UTC+2): right, good. How do you propose that we disable Rserve from MPCONFIG? A new setting. A special for DATAVERSE_RSERVE_HOST?
Wed, Oct 5, 2022, 11:42:04 - poikilotherm: Taking a look at the ingest code, it won't help ya to remove the settings.
Wed, Oct 5, 2022, 11:43:26 - poikilotherm: I bet the safest existing way would we to disable the ingest for Rdata reads via filesize limit
Wed, Oct 5, 2022, 11:43:37 - poikilotherm: https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/util/SystemConfig.java#L613-L613
Wed, Oct 5, 2022, 11:44:03 - poikilotherm: This type of special construction of setting names is driving me nuts
Wed, Oct 5, 2022, 11:44:42 - poikilotherm: Dataverse configuration code is a pain :-/
Wed, Oct 5, 2022, 11:47:39 - pdurbin: Sure, yes, but what I'm asking is, what should the person configuring Dataverse do. Should we have a new setting called DATAVERSE_RSERVE_ENABLED that can be set to false?
Wed, Oct 5, 2022, 11:48:16 - pdurbin: That is, perhaps we could have a pattern for disabling this or that feature.
Wed, Oct 5, 2022, 11:48:33 - poikilotherm: Haha Don Sizemore you will even experience that some files will be tried to get converted and Rserve is accessed... It's completely non-configurable behaviour... https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/dataaccess/DataConverter.java#L248-L248
Wed, Oct 5, 2022, 11:50:11 - poikilotherm: The Rdata ingest stuff might be moved out into an SPI-loaded JAR. If not present, won't be loaded.
Wed, Oct 5, 2022, 11:50:34 - poikilotherm: The rserve based conversion seems to be related to downloads?
Wed, Oct 5, 2022, 11:51:54 - poikilotherm: I guess pdurbin that feature flags would be a good thing to have anyway
Wed, Oct 5, 2022, 11:57:31 - pdurbin: Ah, sure, if the whole jar is not present... no feature for you!
Wed, Oct 5, 2022, 11:58:46 - pdurbin: But yeah, I'm basically talking about feature flags. We already have some of these but they're pretty ad hoc. No real pattern, I don't believe. I think they often have "enabled" in the name and you can set it to false.
Wed, Oct 5, 2022, 12:05:51 - pdurbin: poikilotherm (CEST,UTC+2): can you think of why GitHub Actions didn't run on these PRs that I just updated from develop? https://github.com/IQSS/dataverse/pull/8732 https://github.com/IQSS/dataverse/pull/8733 https://github.com/IQSS/dataverse/pull/8239
Wed, Oct 5, 2022, 12:31:02 - pdurbin: Nevermind, working now. Just delayed. Some problem at GitHub: https://www.githubstatus.com
Wed, Oct 5, 2022, 12:49:39 - poikilotherm: <@pdurbin:matrix.org "But yeah, I'm basically talking ..."> Maybe we should habe sth like `dataverse.feature.X` around?
Wed, Oct 5, 2022, 13:03:41 - pdurbin: hmm, maybe
Wed, Oct 5, 2022, 13:25:40 - Don Sizemore: @poikilotherm in my case, Rserve won't be installed at all, but I like setting the Rdata ingest limit to zero to avoid errors in the logs
Wed, Oct 5, 2022, 15:12:16 - pdurbin: makes sense
Wed, Oct 5, 2022, 15:18:29 - skunkygreat joined the room
Wed, Oct 5, 2022, 15:18:34 - pdurbin: Lynette Garc√≠a: how's the install going? I'm following along at https://groups.google.com/g/dataverse-community/c/H9XdA1T_bfU/m/UnW26OPEBgAJ
Thu, Oct 6, 2022, 06:57:32 - pdurbin: new video on DataverseTV: Introduction to Generalist Repositories for NIH Data Sharing - https://dataverse.org/dataversetv
Thu, Oct 6, 2022, 09:04:59 - pdurbin: I believe we're meeting in an hour to talk about what to send to DataCite. Agenda/notes/zoom link: https://docs.google.com/document/d/1tNnvVh8jYY1g53BEwpJmMmm9w6Vgy_Q7RrmFjGnYOyA/edit?usp=sharing
Thu, Oct 6, 2022, 09:48:04 - pdurbin: Confirmed! All are welcome.
Thu, Oct 6, 2022, 11:45:00 - pdurbin: poikilotherm (CEST,UTC+2) Philipp what did you think? Good meeting?
Thu, Oct 6, 2022, 11:45:56 - poikilotherm: I was VERY confused about lots of things we started with because my head is too deep into the codebase üòù
Thu, Oct 6, 2022, 11:46:09 - pdurbin: heh
Thu, Oct 6, 2022, 11:46:22 - pdurbin: you had to come up for some open air
Thu, Oct 6, 2022, 11:47:44 - poikilotherm: Good I wore a mask üôà
Thu, Oct 6, 2022, 11:51:42 - poikilotherm: Folks, I'm heading out but as always don't hesitate to mention me
Thu, Oct 6, 2022, 12:02:13 - pdurbin: Nice, Matt Buys added some comments on the doc.
Thu, Oct 6, 2022, 14:09:38 - pdurbin: (exec director of DataCite)
Fri, Oct 7, 2022, 07:19:30 - pdurbin: Playing around with https://github.com/GPortas/dataverse-react-poc and https://github.com/GPortas/dataverse/tree/session_api_auth
Fri, Oct 7, 2022, 08:43:15 - pdurbin: I find this especially interesting: `npm run build && cd build && jar -cvf react-poc.war .`
Fri, Oct 7, 2022, 09:13:25 - Miguel Silva: I just uploaded to SSRN a new revision of my upcoming MethodX paper. 

"Usage of a Smart DAQ to Upload Live Experimental Data to a Cloud-Based Data Repository with DOI and Unique Data Fingerprint"

This revision, a work in progress, includes the first revision of a firmware piece of code running on proposed smart DAQ devices. With the ability to do LIVE experimental data upload to Harvard university #dataverse. 

All #opensource and also #openhardware. 
Anyone can have a look at Elsevier's SSRN website here
https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4210504

Fri, Oct 7, 2022, 09:26:39 - pdurbin: Miguel Silva: cool. Any data related to the paper? If so, you could upload it somewhere and give it a DOI. üòÑ
Fri, Oct 7, 2022, 09:27:17 - pdurbin: Also, I spotted a typo. It should be "Zenodo" rather than "Zonodo".
Fri, Oct 7, 2022, 09:28:41 - pdurbin: Oh! You already have a couple datasets up! https://doi.org/10.7910/DVN/LJ0TUA and https://doi.org/10.7910/DVN/3EQYWX . Great!
Fri, Oct 7, 2022, 09:29:09 - pdurbin: It's a bummer your Excel files didn't go through ingest. üòû
Fri, Oct 7, 2022, 09:35:39 - Miguel Silva: yes.  yes.  will do that. with time.  appreciate the head up .though 
First things first. And in my case, is now the open hardware PCB schematics: 12bit one channel smart DAQ PCB is done and ready, next a 24bit  one channel smart DAQ PCB and next a smart DAQ for fiber optics sensors . 
Fri, Oct 7, 2022, 09:37:35 - Miguel Silva: in between I'll be building and optimizing the firmware code to run on Tensilica's LX7 MCUs . In the end, a even a 4th grade kid will be able to upload experimental data to a repository
Fri, Oct 7, 2022, 09:38:02 - pdurbin: Nice. I have an 8th grader.
Fri, Oct 7, 2022, 09:38:58 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: cool. Any data rel..."> those datasets are from a previous research project , I'm finally terminating . 
Fri, Oct 7, 2022, 09:39:26 - pdurbin: oh, ok
Fri, Oct 7, 2022, 09:42:16 - pdurbin: poikilotherm (CEST,UTC+2): `react-poc was successfully deployed in 88 milliseconds`
Fri, Oct 7, 2022, 09:44:01 - Miguel Silva: here's the 12bit installed on a specimen 
Fri, Oct 7, 2022, 09:44:04 - Miguel Silva sent an image. (Media omitted)
Fri, Oct 7, 2022, 09:44:42 - Miguel Silva: a close up
Fri, Oct 7, 2022, 09:44:54 - Miguel Silva sent an image. (Media omitted)
Fri, Oct 7, 2022, 09:45:14 - Miguel Silva sent an image. (Media omitted)
Fri, Oct 7, 2022, 09:46:55 - Miguel Silva: added a security IC the ATSHA204A for secure  & unique identification of individual data measurements . suitable for open environments 
Fri, Oct 7, 2022, 09:47:40 - Miguel Silva: has up to 1Gb of SPI onboard storage
Fri, Oct 7, 2022, 10:02:14 - pdurbin: What kind of experiments?
Fri, Oct 7, 2022, 10:11:49 - Miguel Silva: this particular one, has a 4 pin IO with one Analog/ Digital  plus 2 pins for I2C  sensors . Onboard it has a LSM6DS3 motion sensor and a SHT3x temp and humidity sensor 
Fri, Oct 7, 2022, 10:12:31 - Miguel Silva: basic experiments such as measuring electrical resistance  are trivial on this
Fri, Oct 7, 2022, 10:18:52 - Miguel Silva: (up to 4 digits)
Fri, Oct 7, 2022, 10:21:30 - Miguel Silva: what will be really ...interesting to do research  is to explain diferences in measured values between a 12bit and a 24bit for the exact same experiment 
Fri, Oct 7, 2022, 10:21:46 - pdurbin: Ok, so experiments where you measure temperature, humidity, or electrical resistance. Sounds useful. Not for me but for someone I'm sure!
Fri, Oct 7, 2022, 10:23:06 - Miguel Silva: the I2C external connection enables much more sensors: for instance Gas sensors for Carbon dioxide measurements 
Fri, Oct 7, 2022, 10:29:54 - pdurbin: poikilotherm (CEST,UTC+2): you have to set the context root like this: `payara-asadmin deploy --contextroot new build/react-poc.war` then go to http://localhost:8080/new/
Fri, Oct 7, 2022, 10:39:42 - Joe Gonzalez: Good morning everyone. Just wanted to clarify something from the config page: https://guides.dataverse.org/en/5.3/installation/config.html#doiprovider
Fri, Oct 7, 2022, 10:40:59 - Joe Gonzalez: In order to shut off the DOI publishing process in a development environment, do I set just doi.username to FAKE or all three mentioned jvm-options?
Fri, Oct 7, 2022, 10:43:43 - pdurbin: Just FAKE is all you need. It short circuits the rest of the settings.
Fri, Oct 7, 2022, 10:44:07 - Joe Gonzalez: just for doi.username?
Fri, Oct 7, 2022, 10:44:19 - pdurbin: oh, no sorry, one sec
Fri, Oct 7, 2022, 10:44:39 - pdurbin: I always look here: https://guides.dataverse.org/en/5.12/developers/dev-environment.html#configure-your-development-environment-for-publishing
Fri, Oct 7, 2022, 10:44:49 - pdurbin: curl http://localhost:8080/api/admin/settings/:DoiProvider -X PUT -d FAKE
Fri, Oct 7, 2022, 10:44:54 - pdurbin: That should do it.
Fri, Oct 7, 2022, 10:45:46 - Joe Gonzalez: Nothing to do in the domain.xml file then?
Fri, Oct 7, 2022, 10:45:57 - pdurbin: Nope. It's a database setting.
Fri, Oct 7, 2022, 10:46:15 - Joe Gonzalez: Awesome, thank you
Fri, Oct 7, 2022, 10:46:19 - pdurbin: sure thing
Fri, Oct 7, 2022, 10:46:42 - pdurbin: That reminds me. carlsonp if it' not too early for you we should talk more about https://github.com/IQSS/dataverse/issues/8635 sometime. üòÑ
Fri, Oct 7, 2022, 10:52:58 - lincoln_: it ends up changing your domain.xml file to FAKE (afaik)
Fri, Oct 7, 2022, 10:53:25 - pdurbin: no, it should only be in the database
Fri, Oct 7, 2022, 10:53:35 - pdurbin: I hate to be contrary. üòÑ
Fri, Oct 7, 2022, 10:53:38 - lincoln_: ah okay
Fri, Oct 7, 2022, 10:53:43 - lincoln_: thanks
Fri, Oct 7, 2022, 10:54:11 - pdurbin: sure
Fri, Oct 7, 2022, 10:55:13 - pdurbin: poikilotherm (CEST,UTC+2) has a vision for moving us beyond just database settings and JVM options. Merging this PR for 5.12 is helping us get there: https://github.com/IQSS/dataverse/pull/8823
Fri, Oct 7, 2022, 10:55:44 - pdurbin: "THIS PULL REQUEST IS THE MOST BASIC INFRASTRUCTURE FOR #8823, #8824, #8825, #8826, #8827, #8828" ... so more to come! üòÑ
Fri, Oct 7, 2022, 11:02:11 - pdurbin: (I'm not sure why he's SHOUTING. Just excited, I guess.) üòÑ
Fri, Oct 7, 2022, 11:06:07 - lincoln_: haha
Fri, Oct 7, 2022, 15:48:06 - pdurbin: quiet... too quiet... should I go ahead and wish everyone a good weekend?
Fri, Oct 7, 2022, 15:48:35 - pdurbin: I just booked flights and a hotel for JavaOne in a couple weeks. Four of us are going. Should be fun. And educational, of course.
Fri, Oct 7, 2022, 16:24:51 - pdurbin: Have a good weekend! Thank you for flying Dataverse!
Sat, Oct 8, 2022, 12:35:13 - Miguel Silva: This is the very first Initial Test Run of my own making smart DAQ PCB doing LIVE experimental Data upload to Harvard's Dataverse.
Mind you, this is synthetic fake experimental data as this is only a Test run for debugging and code improvement purposes.
https://www.youtube.com/watch?v=kxd2yBH9rH0
Sat, Oct 8, 2022, 12:35:31 - Miguel Silva: Anyone can follow writing for this proof-of-concept smart DAQ device at Elsevier's SSRN
https://papers.ssrn.com/sol3/papers.cfm?abstract_id=4210504
Sat, Oct 8, 2022, 12:36:25 - Miguel Silva: The  current draft version of the document already has a working version of the firmware  able to upload a CSV dataset file to a repository 
Mon, Oct 10, 2022, 07:42:25 - pdurbin: Oh, I forgot to mention, it's a holiday here. See you Tuesday!
Mon, Oct 10, 2022, 07:47:09 - thomasweiss joined the room
Tue, Oct 11, 2022, 07:12:32 - Don Sizemore: @pdurbin Good morning. If you've got a minute, I'd love for you to glance over #327632
Tue, Oct 11, 2022, 07:41:06 - pdurbin: Don Sizemore: morning. Can't dig deep right now but seems related to https://help.hmdc.harvard.edu/Ticket/Display.html?id=327154 and https://iqss.slack.com/archives/CVB2SMDFX/p1664907918687759?thread_ts=1664903624.574829&cid=CVB2SMDFX
Tue, Oct 11, 2022, 07:59:24 - Don Sizemore: @pdurbin I would be curious to know if UT Austin is using Cirrus Bridge
Tue, Oct 11, 2022, 11:33:58 - Don Sizemore: @pdurbin could you help me stop catastrophizing?
Tue, Oct 11, 2022, 11:35:04 - pdurbin: Soon! It's lunchtime. ü•™
Tue, Oct 11, 2022, 16:53:34 - pdurbin: Big news! https://www.iq.harvard.edu/news/directors-update-dataverse
Wed, Oct 12, 2022, 03:28:21 - Benjamin (SODHA): Congrats on getting a new director üëë
Wed, Oct 12, 2022, 07:16:14 - pdurbin: heh, thanks
Wed, Oct 12, 2022, 07:16:58 - pdurbin: and there's this: "a series of thoughtful discussions about innovation and a relaunch plan for the platform"
Wed, Oct 12, 2022, 07:44:20 - Benjamin (SODHA): Replacements at last? :)
Wed, Oct 12, 2022, 08:47:43 - Miguel Silva: hi all,
I'm leaving here the link with the initial revision of the repository with the firmware code for Open & LIVE dataset upload to a dataverse repository. The firmware is optimized for Tensilica's Xtrensa LX6/7 microcontrollers . here's the link
https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo
Wed, Oct 12, 2022, 08:49:40 - Miguel Silva: pdurbin:  quick question: regarding the max upload frequency of a dataset file to a database repository. To avoid any kind of BAN, what is the maximum number of uploads per hour allowed? thank you 
Wed, Oct 12, 2022, 09:19:35 - pdurbin: Miguel Silva: I assume you mean for Harvard Dataverse rather than the 87 other installations that have their own policies. The API Terms of Use is here (nothing specific about per hour that I see): https://support.dataverse.harvard.edu/harvard-dataverse-api-terms-use
Wed, Oct 12, 2022, 09:20:22 - pdurbin: <@benjamin_peuch:matrix.org "Replacements at last? :)"> Well, no jobs have been posted yet. "We plan to post and backfill the Dataverse Development Project Manager position and are in the process of developing the plan for the posting of other Dataverse roles to add to our current team."
Wed, Oct 12, 2022, 09:27:59 - Matt Buys joined the room
Wed, Oct 12, 2022, 09:33:38 - thomasweiss: Hi! I'm not sure who to address this to so I will just post here, but feel free to DM. We are a small company developing an open source research data management software (wwww.indiscale.com/linkahead). In a nutshell, this system offers a way to combine data from different sources and get additional functionality on top of it. One of it is to publish to a repository from there (and we already have this working for one repository). We are interested in getting to know more softwares in the open source eco system and I think having a chat with someone that is involved with developing Dataverse would be very interesting. Is there any recommended way of starting such a conversation or is this the right place?
Wed, Oct 12, 2022, 09:37:34 - pdurbin: thomasweiss: please hold on, that extra "w" was tripping me up. Looking. üëÄ
Wed, Oct 12, 2022, 09:37:51 - pdurbin: oooh, plantuml, lovely
Wed, Oct 12, 2022, 09:37:54 - thomasweiss: haha oops that's what I get for entering a link manually
Wed, Oct 12, 2022, 09:38:18 - pdurbin: sorry, distracted by Matt Buys ... welcome! üëã
Wed, Oct 12, 2022, 09:39:19 - pdurbin: thomasweiss: so, my first thought is that we should get you on the agenda for a community call: https://dataverse.org/community-calls
Wed, Oct 12, 2022, 09:39:49 - pdurbin: That's the time we have set aside to talk about all sort of things and this is certainly on topic.
Wed, Oct 12, 2022, 09:44:34 - thomasweiss: Sounds good! 18th at 3pm UTC would work. Should I just add it?
Wed, Oct 12, 2022, 09:46:50 - pdurbin: Actually, please hold on. A bunch of us will be at JavaOne next week (including me and I'd love to hear what you have to say). I need to see if we have someone to host that call at all. Do you want me to put you on the agenda for Nov. 1?
Wed, Oct 12, 2022, 09:47:19 - thomasweiss: üëçÔ∏è sounds good
Wed, Oct 12, 2022, 09:48:21 - pdurbin: Let's get the doc updated and then I'd suggest that you email the list about it.
Wed, Oct 12, 2022, 09:49:49 - pdurbin: (I'm asking on Slack about canceling next week's call.)
Wed, Oct 12, 2022, 09:51:22 - pdurbin: thomasweiss: so is the idea that you grab a CSV from here, an Excel file from there, do some analysis, and then publish the combined data and code to a repository such as Dataverse?
Wed, Oct 12, 2022, 09:56:51 - thomasweiss: yea pretty much that. get data from different places/machines, do processing, analysis, automate whatever you can and need, then publish to repository. also you get version control, rights management and better API access to your complete data set
Wed, Oct 12, 2022, 09:57:59 - pdurbin sent an image. (Media omitted)
Wed, Oct 12, 2022, 09:58:35 - pdurbin: Maybe your tool could be listed under "Data Explorer" as another external tool. That screenshot is from https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/TJCLKP/3VSTKY&version=3.0
Wed, Oct 12, 2022, 09:59:56 - pdurbin: That is, maybe you use a certain file as a starting point. "I definitely want this data." And then clicking "LinkAhead" opens a tab with your tool. Your tool downloads that data. And then you go shopping for more data, I guess.
Wed, Oct 12, 2022, 10:01:30 - pdurbin: For more on external tools: https://guides.dataverse.org/en/5.12/api/external-tools.html
Wed, Oct 12, 2022, 10:09:09 - pdurbin: People in the Dataverse community definitely have a need to combine data from multiple datasets. Your tool could help.
Wed, Oct 12, 2022, 10:10:49 - thomasweiss: Great! Yeah I'm looking forward to the community call. Any estimate how much time there would be to give an intro on the call? 
Wed, Oct 12, 2022, 10:12:22 - thomasweiss: For anyone interested, we are having an online event tmr that will show case some technical aspects but goes a bit into the other direction, we are showing how to use eLabFTW as a data source then. http://www.indiscale.com/events/
Wed, Oct 12, 2022, 10:27:42 - pdurbin: thomasweiss: well, we don't want you to go on and on. Maybe 20 minutes? Plus a few minutes for Q&A? Also, we sometime record parts of the call. Let me know if you'd like me to record.
Wed, Oct 12, 2022, 10:28:14 - pdurbin: Also, to all, next week's community call is canceled. I'll update the website and email the list.
Wed, Oct 12, 2022, 10:28:48 - thomasweiss: yup that's good
Wed, Oct 12, 2022, 10:29:09 - thomasweiss: recording is fine
Wed, Oct 12, 2022, 10:29:59 - pdurbin: Great. Maybe we'll get you on DataverseTV: https://dataverse.org/dataversetv üòÑ üì∫Ô∏è
Wed, Oct 12, 2022, 10:41:01 - pdurbin: thomasweiss: ok, please find your name on this agenda/notes doc and edit away: https://docs.google.com/document/d/1LphLb5zW41ZBkXFQFGheTWjE4AJRKIM4Fg2r_uMyObg/edit?usp=sharing . Please wait a moment to email the list until I announce we're canceling next week.
Wed, Oct 12, 2022, 10:49:05 - thomasweiss: The list is the google group right?
Wed, Oct 12, 2022, 10:49:35 - pdurbin: Yep, I just hinted at your presentation: https://groups.google.com/g/dataverse-community/c/uuoWXqwej9s/m/mbvzlxRoCQAJ
Wed, Oct 12, 2022, 12:23:30 - lincoln_: one quick question: Is Persistent Id also needed for file download via api (as mentioned in Manual latest)
https://guides.dataverse.org/en/latest/api/native-api.html#id98
Wed, Oct 12, 2022, 12:31:14 - lincoln_: normally the command(below) should work right?
curl -H "X-Dataverse-key:APIKEY"  http://Server_url/api/access/datafile/fileid
Wed, Oct 12, 2022, 12:39:15 - lincoln_: ah okay 
i replace "curl" with "wget"..its all good now
Wed, Oct 12, 2022, 13:25:54 - pdurbin: lincoln_: all good? Good! üòÑ
Wed, Oct 12, 2022, 13:35:35 - lincoln_: although ....is persistent id on datafile still valid?
Wed, Oct 12, 2022, 13:35:57 - pdurbin: yep, should work
Wed, Oct 12, 2022, 13:36:18 - pdurbin: for example:  https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/TJCLKP/3VSTKY 
Wed, Oct 12, 2022, 13:39:10 - lincoln_: in my case i see this

Wed, Oct 12, 2022, 13:39:11 - lincoln_ sent an image. (Media omitted)
Wed, Oct 12, 2022, 13:39:20 - lincoln_: am i doing somthing wrong
Wed, Oct 12, 2022, 13:39:24 - lincoln_: ?
Wed, Oct 12, 2022, 13:39:44 - pdurbin: No. It just means you don't have file PIDs turned on.
Wed, Oct 12, 2022, 13:40:13 - pdurbin: Are you using FAKE?
Wed, Oct 12, 2022, 13:40:27 - lincoln_: <@pdurbin:matrix.org "yep, should work"> okay now...my question will be :P
what if it is turned off

No i am not using FAKE
Wed, Oct 12, 2022, 13:41:39 - lincoln_: dataverse 5.11.1
Wed, Oct 12, 2022, 13:41:39 - pdurbin: https://guides.dataverse.org/en/5.12/installation/config.html#filepidsenabled
Wed, Oct 12, 2022, 13:42:40 - lincoln_: <@pdurbin:matrix.org "for example:  https://dataverse...."> but I still dont want file level registry only dataset level.
Is there any other alternative

Wed, Oct 12, 2022, 13:43:08 - pdurbin: Uh. I'm confused.
Wed, Oct 12, 2022, 13:43:26 - pdurbin: Do you want your data files to each have PIDs?
Wed, Oct 12, 2022, 13:44:21 - lincoln_: <@pdurbin:matrix.org "for example:  https://dataverse...."> i just want to download individual files at my present condition (without files with PID)
Wed, Oct 12, 2022, 13:44:58 - lincoln_: because some time ago 
curl -H "X-Dataverse-key:APIKEY"  http://Server_url/api/access/datafile/fileid
Wed, Oct 12, 2022, 13:45:02 - lincoln_: was working
Wed, Oct 12, 2022, 13:45:17 - pdurbin: and now it's not working
Wed, Oct 12, 2022, 13:45:25 - lincoln_: yea
Wed, Oct 12, 2022, 13:45:34 - lincoln_: could you try please
Wed, Oct 12, 2022, 13:46:28 - pdurbin: https://dataverse.harvard.edu/api/access/datafile/3371438
Wed, Oct 12, 2022, 13:46:38 - pdurbin: (same file as before)
Wed, Oct 12, 2022, 13:47:07 - lincoln_: okay..what if the file is unpublished/draft
Wed, Oct 12, 2022, 13:47:35 - pdurbin: then you pass in the token/key like you showed
Wed, Oct 12, 2022, 13:48:34 - lincoln_: yes.....
so my question is 
is this command working for you ?
curl -H "X-Dataverse-key:APIKEY"  http://Server_url/api/access/datafile/fileid
Wed, Oct 12, 2022, 13:48:44 - lincoln_: or am i only the one facing problem :)
Wed, Oct 12, 2022, 13:49:05 - pdurbin: well, we have a lot of API tests that do that and they're passing
Wed, Oct 12, 2022, 13:50:16 - pdurbin: You could try the form where you add `?key=xxx` to the URL
Wed, Oct 12, 2022, 13:50:36 - lincoln_: okay
Wed, Oct 12, 2022, 13:52:39 - lincoln_: nope. it didnot work for me
Wed, Oct 12, 2022, 13:53:01 - lincoln_: any way the wget still works ..its fine
Wed, Oct 12, 2022, 13:53:35 - pdurbin: so weird
Wed, Oct 12, 2022, 13:54:14 - pdurbin: maybe you can email support@dataverse.org with more details. the URL you're using and (I guess) the API token (I'd suggest changing it after)
Wed, Oct 12, 2022, 13:55:06 - lincoln_: its on my test machine..but i will contact support desk..thank you for your help :)
Wed, Oct 12, 2022, 13:55:52 - pdurbin: what error do you get?
Wed, Oct 12, 2022, 14:00:58 - lincoln_: i dont know if this is an error but this is what i got..
* Connection #0 to host localhost left intact

Wed, Oct 12, 2022, 14:02:00 - lincoln_: but really I request you to try 
curl -H "X-Dataverse-key:APIKEY"  http://Server_url/api/access/datafile/fileid
Wed, Oct 12, 2022, 14:02:27 - lincoln_: for unpublished datafile
Wed, Oct 12, 2022, 14:02:33 - pdurbin: Can I ask you to try it on https://demo.dataverse.org ? It should work there.
Wed, Oct 12, 2022, 14:03:09 - lincoln_: i will let you know :)
Wed, Oct 12, 2022, 14:03:15 - pdurbin: thanks üòÑ
Wed, Oct 12, 2022, 16:14:53 - pdurbin: juliangautier: did you see that Matt Buys joined? üéâ
Wed, Oct 12, 2022, 16:33:21 - pdurbin: carlsonp: hey are you around?
Wed, Oct 12, 2022, 16:34:37 - poikilotherm: I'm dusting of https://github.com/gdcc/dvcli because we now have more and more scientists asking for depositing larger numbers of files and ZIPs ain't helping 'em. They seem to enjoy a small Python app on CLI though
Wed, Oct 12, 2022, 16:35:19 - poikilotherm: Especially as many are using Python anyway, this comes in handy for 'em. dvuploader requires Java, different ecosystem
Wed, Oct 12, 2022, 16:35:33 - pdurbin: Nice!
Wed, Oct 12, 2022, 16:45:26 - pdurbin: poikilotherm (CEST,UTC+2): no hits for dvcli: https://guides.dataverse.org/en/latest/search.html?q=dvcli
Wed, Oct 12, 2022, 16:46:09 - poikilotherm: Oh well it never really was a living project
Wed, Oct 12, 2022, 16:46:15 - poikilotherm: DOA I guess
Wed, Oct 12, 2022, 16:46:24 - pdurbin: üßü
Wed, Oct 12, 2022, 16:46:35 - poikilotherm: Started it with admin & management in mind
Wed, Oct 12, 2022, 16:47:29 - poikilotherm: But with Ana creating the action and people requesting an easy way to go with a Python solution, I thought this would be a good time to kick the tires again
Wed, Oct 12, 2022, 16:48:44 - pdurbin: Sure. Everyone loves Python.
Wed, Oct 12, 2022, 16:49:14 - poikilotherm: Oh I thought maybe a JBang thing could help reuse Java stuff like dvuploader
Wed, Oct 12, 2022, 16:49:29 - poikilotherm: But I dunno if HPC people would be happy with this
Wed, Oct 12, 2022, 16:49:53 - poikilotherm: No idea if HPC clusters even have Java installed
Wed, Oct 12, 2022, 16:51:31 - pdurbin: Write it in Go. Just give 'em a binary. Like jq ‚ù§Ô∏è
Thu, Oct 13, 2022, 05:02:02 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: I assume you mean ..."> thank you. yes for the Harvard dataverse. Still, I'm getting an error when I upload a new dataset file every 2-3 min or so. So I'm asking if this error can be due to a temporary BAN 
Thu, Oct 13, 2022, 06:48:10 - lincoln_: DOwnloading unpublished/draft- datafile via API doesnot work in Demo Dataverse as well using this code
curl -H "X-Dataverse-key:APIKEY"  http://Server\_url/api/access/datafile/fileid
or
curl -H  http://Server\_url/api/access/datafile/fileid?key=API\_Key
Thu, Oct 13, 2022, 08:14:56 - pvx1: Hi. I have a question about temporary directories used by dataverse.  Dataverse is configured with the option -Ddataverse.files.directory=/usr/local/dvn/data to store temp files under this directory. It is the way it works with the ui uploader. 
Thu, Oct 13, 2022, 08:15:46 - pvx1: When using the java tool DVuploader, dataverse stores the temp file in /tmp. File patter is MIMExxxxxxx.tmp
Thu, Oct 13, 2022, 08:16:01 - pvx1: Why ?  Can we change this behaviour ?
Thu, Oct 13, 2022, 08:27:33 - pdurbin: pvx1: hi! poikilotherm (CEST,UTC+2) is trying to fix this. If you want, you can leave a review on https://github.com/IQSS/dataverse/pull/8983
Thu, Oct 13, 2022, 08:43:00 - pvx1: Everything runs fine when uploading through the web interface. I changed the temp dir in the config and it's ok. I don't understand why the temp dir is different when using DVuploader. Does it rely on a glassfish component that should be configured elsewhere ?
Thu, Oct 13, 2022, 09:06:19 - pdurbin: pvx1: let me ask qqmyers or try to summon him here. I'm sure he knows.
Thu, Oct 13, 2022, 09:14:51 - pdurbin: lincoln_: on the demo server are you @test_lincoln?
Thu, Oct 13, 2022, 09:17:28 - pdurbin: lincoln_: If so, I just gave you access to this unpublished file so it should work. It works for me:

```
curl -H "X-Dataverse-key:$API_TOKEN" https://demo.dataverse.org/api/access/datafile/2009726
```
Thu, Oct 13, 2022, 09:17:50 - pdurbin: `curl -H "X-Dataverse-key:$API_TOKEN" https://demo.dataverse.org/api/access/datafile/2009726`
Thu, Oct 13, 2022, 09:18:35 - pdurbin: Miguel Silva: are your files CSV or similar? Are they going through ingest? If so, perhaps the dataset is locked until ingest is done.
Thu, Oct 13, 2022, 09:36:55 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: are your files CSV..."> you are correct. If that is the case...ingest is slowwwww..... i be better moving into a SQLite solution then. 
thank you
Thu, Oct 13, 2022, 09:42:43 - pdurbin: Miguel Silva: there's a flag to prevent ingest. skipIngest=true or something
Thu, Oct 13, 2022, 09:43:37 - pdurbin: "tabIngest":"false" - https://guides.dataverse.org/en/5.12/api/native-api.html#add-a-file-to-a-dataset
Thu, Oct 13, 2022, 09:46:50 - pdurbin: pvx1: nothing yet but maybe poikilotherm (CEST,UTC+2) knows
Thu, Oct 13, 2022, 09:48:18 - poikilotherm: "Mein Name ist Hase und ich wei√ü von nichts."
Thu, Oct 13, 2022, 09:49:52 - poikilotherm: > How the idiom came into being
> 
> The answer is: hares have nothing to do with this idiom. In fact, this idiom goes back to a man whose last name was Hase. Victor von Hase was a law student in Heidelberg who had to stand trial in 1855. At the time, he was said to have helped a friend to escape because the latter had previously shot a student in a duel.
> 
> When Victor von Hase was asked to comment on the case in court, he simply said, "My name is Hase; I know nothing about anything." The word got around so much at the time that we still use Victor's statement as a figure of speech today.
Thu, Oct 13, 2022, 09:52:31 - poikilotherm: pdurbin: DVUploader is using the JAX-RS API, aye?
Thu, Oct 13, 2022, 09:56:32 - pdurbin: yep
Thu, Oct 13, 2022, 09:56:44 - pdurbin: native api
Thu, Oct 13, 2022, 09:56:59 - pdurbin: and this: https://guides.dataverse.org/en/5.12/developers/s3-direct-upload-api.html
Thu, Oct 13, 2022, 09:57:58 - poikilotherm: And Jersey (our JAX-RS implementation) runs within the servlet context, aye?
Thu, Oct 13, 2022, 09:59:55 - pdurbin: Well, it's all servlets as far as I understand. Not the Faces servlet.
Thu, Oct 13, 2022, 10:01:33 - pvx1: I forgot to mention that I tested it with very large file. Maybe this is related to the Mime multi part upload.
Thu, Oct 13, 2022, 10:01:34 - pdurbin: Around the same time we had "Know Nothings" running around: https://en.wikipedia.org/wiki/Know_Nothing
Thu, Oct 13, 2022, 10:02:17 - pvx1: Maybe if I change the jvm option java.io.tempdir ?
Thu, Oct 13, 2022, 10:02:52 - pvx1: (BTW I never succeeded in using direct S3 upload. Will retry after we do the upgrade of the server. Still in 5.0)
Thu, Oct 13, 2022, 10:03:11 - pdurbin: pvx1: "The difference is that instead of domains/domain1/generated/jsp/dataverse folder, Jersey uses whatever java.io.tempdir is pointing to" according to https://github.com/IQSS/dataverse/issues/6656#issuecomment-621392312
Thu, Oct 13, 2022, 10:03:59 - pvx1: Is there a risk to change java.io.tempdir to the same directory of domains/domain1/generated/jsp/dataverse
Thu, Oct 13, 2022, 10:04:11 - pdurbin: (Jersey being JAX-RS, the API)
Thu, Oct 13, 2022, 10:04:20 - pdurbin: good question
Thu, Oct 13, 2022, 10:05:09 - pdurbin: (I'm asking)
Thu, Oct 13, 2022, 10:07:27 - poikilotherm: Looks like I _did_ some digging before, looking at #6656 :-D
Thu, Oct 13, 2022, 10:12:00 - lincoln_: <@pdurbin:matrix.org "lincoln_: If so, I just gave you..."> yeah that csv file worked::i have shared you an image file now:
could you try that one please
curl -H "X-Dataverse-key:$API_TOKEN" https://demo.dataverse.org/api/access/datafile/2009724
Thu, Oct 13, 2022, 10:18:19 - Miguel Silva: <@pdurbin:matrix.org ""tabIngest":"false" - https://gu..."> yes. i'm already setting it as false on the JsonData  stream. Still , i'm receiving a JSON error message "Failed to add file to dataset."
Thu, Oct 13, 2022, 10:22:21 - Miguel Silva: pdurbin:  on the web platform i have the message " Publish in Progress ‚Äì The dataset is locked while the persistent identifiers are being registered or updated, and/or the physical files are being validated." . Since last October 8th 
Thu, Oct 13, 2022, 10:23:26 - pdurbin: Miguel Silva: I'd suggest checking for locks before each upload: https://guides.dataverse.org/en/5.12/api/native-api.html#dataset-locks
Thu, Oct 13, 2022, 10:24:22 - lincoln_: <@aeonlabs:matrix.org "pdurbin:  on the web platform i ..."> i have been there for locking..you have to manually remove the lock
Thu, Oct 13, 2022, 10:24:51 - pdurbin: lincoln_: please try this: `curl -L -O -J -H "X-Dataverse-key:$API_TOKEN" https://demo.dataverse.org/api/access/datafile/2009724`
Thu, Oct 13, 2022, 10:25:23 - Miguel Silva: <@lincoln_:matrix.org "i have been there for locking..y..."> ohhhh... ok.  i'm looking for it right now..... can'tfind it though 
Thu, Oct 13, 2022, 10:26:34 - lincoln_: https://guides.dataverse.org/en/latest/api/native-api.html#id78
Thu, Oct 13, 2022, 10:26:41 - lincoln_: here exactly
Thu, Oct 13, 2022, 10:27:05 - lincoln_: from api you can also verify the lock on your dataset
Thu, Oct 13, 2022, 10:27:40 - pdurbin: lincoln_: without `-L` (follow) you get `HTTP/1.1 303 See Other`
Thu, Oct 13, 2022, 10:27:53 - Miguel Silva: Thank you guys !!!! Awesome . 
Thu, Oct 13, 2022, 10:28:16 - lincoln_: <@pdurbin:matrix.org "lincoln_: please try this: `curl..."> Ill try this one
Thu, Oct 13, 2022, 10:29:47 - lincoln_: <@aeonlabs:matrix.org "yes. i'm already setting it as f..."> regarding this i suggest you try DV-uploader Beta release (for files uploading)..and see if the problem still persists
Thu, Oct 13, 2022, 10:30:27 - pdurbin: lincoln_: please note that the downloaded file will be called "2009724". We haven't figured out if this is a bug in Dataverse or curl (my money's on Dataverse üòÑ but who know, there's a linked issue on the curl side). Don Sizemore opened an issue about this, the filename being a number (the database id of the file): https://github.com/IQSS/dataverse/issues/8977
Thu, Oct 13, 2022, 10:33:35 - lincoln_: funny..
curl -L -O -J -H "X-Dataverse-key:$API_TOKEN" https://demo.dataverse.org/api/access/datafile/2009724 -o outputfilename.jpg
Thu, Oct 13, 2022, 10:33:50 - lincoln_: doesnot rename 2009724- output
Thu, Oct 13, 2022, 10:33:58 - pdurbin: sad
Thu, Oct 13, 2022, 10:34:28 - pdurbin: anyway, the token works, right? üòÑ
Thu, Oct 13, 2022, 10:38:29 - lincoln_: yeah...:(
Thu, Oct 13, 2022, 10:38:45 - lincoln_: but it worksü¶•
Thu, Oct 13, 2022, 10:39:57 - poikilotherm: <@lincoln_:matrix.org "funny.."> That "-O -o" thing looks weird - you sure this is the right cmdline options?
Thu, Oct 13, 2022, 10:41:06 - lincoln_: yeah you are right.. i fortgot the -0
Thu, Oct 13, 2022, 10:41:13 - lincoln_: now it works
Thu, Oct 13, 2022, 10:41:19 - lincoln_: thanks poikilotherm (CEST,UTC+2) and pdurbin 
Thu, Oct 13, 2022, 10:43:27 - pdurbin: sure thing
Thu, Oct 13, 2022, 10:43:33 - pdurbin: told ya! üòÑ
Thu, Oct 13, 2022, 10:43:35 - * pdurbin ducks
Thu, Oct 13, 2022, 10:46:13 - lincoln_: However the need of extra  "-L and -J" for images but not for tabular files are funny
Thu, Oct 13, 2022, 10:48:10 - pdurbin: I agree! I'm not sure why exactly. The demo server uses S3 and is configured for direct download.
Thu, Oct 13, 2022, 10:48:30 - lincoln_: it happens  on my VM as well, also same s3 config (direct download)
Thu, Oct 13, 2022, 10:50:10 - lincoln_: okay i am off now..see you all tomorrow
Thu, Oct 13, 2022, 10:50:32 - pdurbin: bye!
Thu, Oct 13, 2022, 10:50:43 - pdurbin: pvx1: "I feel like it should be safe-ish." The same dir question.
Thu, Oct 13, 2022, 10:50:57 - pdurbin: "on a second thought - idk. it feels wrong. the directory does not exist before the application is deployed. and changes between redeployments."
Thu, Oct 13, 2022, 10:51:01 - pvx1: Thank you !
Thu, Oct 13, 2022, 10:51:02 - pdurbin: "changing the primefaces temp to a shared dedicated tempdir outside the domain tree seems like a better way.

"
Thu, Oct 13, 2022, 10:51:26 - pdurbin: And yes, I'm trying to get Leonid to join here. "Eventually" he says. üéâ
Thu, Oct 13, 2022, 10:51:56 - pvx1: pdurbin: I could just change to a directory plenty of free space (our /tmp is tiny)
Thu, Oct 13, 2022, 10:52:24 - poikilotherm: Huh? Primefaces and JAX-RS?
Thu, Oct 13, 2022, 10:52:35 - poikilotherm: Are we talking about the same thing here?
Thu, Oct 13, 2022, 10:53:08 - pdurbin: poikilotherm (CEST,UTC+2): the fun of chat is trying to keep up üòÑ
Thu, Oct 13, 2022, 10:55:48 - pdurbin: weirdly, I sort of prefer how we don't use threads here. old school
Thu, Oct 13, 2022, 10:55:59 - pdurbin: please just wait your turn üòÑ
Thu, Oct 13, 2022, 10:56:53 - pdurbin: not that I can turn them off (I looked)
Thu, Oct 13, 2022, 10:57:17 - pdurbin: see also https://github.com/IQSS/chat.dataverse.org/issues/16
Thu, Oct 13, 2022, 11:00:02 - poikilotherm: lincoln_ pdurbin interesting:
Thu, Oct 13, 2022, 11:00:05 - poikilotherm sent an image. (Media omitted)
Thu, Oct 13, 2022, 11:00:50 - poikilotherm: Looks like the tabular data file is served by Dataverse directly (so there is a remote file name) and the image is served via direct download
Thu, Oct 13, 2022, 11:01:17 - poikilotherm: Could this be because of some fancy pants ingest / aux file thing?
Thu, Oct 13, 2022, 11:03:14 - poikilotherm: @pdurbin did you notice the `Content-Type: text/tab-separated-values; name="Drinks.tab";charset=UTF-8` ? Is this name thing supposed to be in there?
Thu, Oct 13, 2022, 11:04:07 - pdurbin: poikilotherm (CEST,UTC+2): I'm not sure about that name thing. Please feel free to leave a comment on https://github.com/IQSS/dataverse/issues/8977
Thu, Oct 13, 2022, 11:04:09 - poikilotherm: Following the redirect for S3 direct download reveals this header (part only here):
```
Content-Disposition: attachment; filename*=UTF-8''SOTTR_Wallpaper_1280x1024.jpg
Content-Type: image/jpeg
```
Thu, Oct 13, 2022, 11:06:15 - pdurbin: I know the header of a tabular file is stored in the database (and we might want to change this): https://github.com/IQSS/dataverse/issues/8524 ... so probably Dataverse/Payara has to reconstruct the file. Header from the database, the rest from S3. So that's why it's different than an image, I bet.
Thu, Oct 13, 2022, 11:17:06 - poikilotherm: Left a comment as requested https://github.com/IQSS/dataverse/issues/8977#issuecomment-1277782064
Thu, Oct 13, 2022, 11:22:14 - poikilotherm: carlsonp pdurbin looks like the next Payara version has a fix for this: https://github.com/payara/Payara/issues/5901
Thu, Oct 13, 2022, 11:22:30 - poikilotherm: Kinda crucial for me images :-(
Thu, Oct 13, 2022, 11:26:00 - pdurbin: poikilotherm (CEST,UTC+2): thanks for the comment!
Thu, Oct 13, 2022, 11:27:51 - pdurbin: poikilotherm (CEST,UTC+2): sorry, a fix for what now?
Thu, Oct 13, 2022, 11:29:37 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): sorry..."> The failing deployments of Dataverse with my new base image :-(
Thu, Oct 13, 2022, 11:29:58 - poikilotherm: They introduced a nasty bug with postboot scripts which will be fixed in the next Payara version
Thu, Oct 13, 2022, 11:35:20 - carlsonp: <@pdurbin:matrix.org "carlsonp: hey are you around?"> hey sorry, work has been busy, and I'm likely moving so next two months will be kinda bananas
Thu, Oct 13, 2022, 11:36:13 - carlsonp: still pushing Dataverse, trying to get some exceptions in place still on the Solr CVE false positives
Thu, Oct 13, 2022, 11:39:01 - carlsonp: <@pdurbin:matrix.org "That reminds me. carlsonp if it'..."> yes, if it's something easy or you can give me some pointers/guidance that would be great
Thu, Oct 13, 2022, 11:58:42 - pdurbin: carlsonp: hey! Do you want to meet up in Las Vegas next week? ‚ô•Ô∏è‚ô†Ô∏è‚ô¶Ô∏è‚ô£Ô∏è
Thu, Oct 13, 2022, 11:59:38 - carlsonp: ha! that would be awesome, but I'm presenting at a local IT conference next week *tear*
Thu, Oct 13, 2022, 12:00:05 - pdurbin: Ah. Bummer. I'm flying in Monday and out Friday. JavaOne.
Thu, Oct 13, 2022, 12:00:25 - carlsonp: nice
Thu, Oct 13, 2022, 12:00:59 - pdurbin: Oh. I hate to be a whiner but is your thesis in .txt or .epub format? The PDF is hard to read on my phone.
Thu, Oct 13, 2022, 12:01:15 - carlsonp: I'm trying to get our product owner to present on Dataverse at NLIT next year, *fingers crossed*
Thu, Oct 13, 2022, 12:01:21 - pdurbin: nice!
Thu, Oct 13, 2022, 12:01:29 - carlsonp: oof sorry, I think just PDF
Thu, Oct 13, 2022, 12:01:41 - pdurbin: bah, oh well üòÑ
Thu, Oct 13, 2022, 12:01:53 - pdurbin: it's too long to print out
Thu, Oct 13, 2022, 12:02:05 - pdurbin: too big to carry around
Thu, Oct 13, 2022, 12:02:41 - carlsonp: honestly, just read the intro, you'll probably be bored to death haha
Thu, Oct 13, 2022, 12:04:21 - pdurbin: Ha. Anyway, lunch time here. Please keep me and poikilotherm (CEST,UTC+2) et. al posted on any news with your deployment and containerization etc.
Thu, Oct 13, 2022, 12:05:11 - Miguel Silva: üçü care for some french fries ?
Thu, Oct 13, 2022, 12:06:14 - carlsonp: yeah definitely, haven't forgot about ya'll, I'm hoping we'll dive back in soon
Fri, Oct 14, 2022, 07:46:32 - pdurbin sent an image. (Media omitted)
Fri, Oct 14, 2022, 07:47:48 - pdurbin: Open issues by creator. I've been working from the bottom up. Just finished Kir√°ly P√©ter . Next up is Sherry Lake or Benjamin (SODHA) . Then Philipp . Then the dreaded poikilotherm (CEST,UTC+2) ! üòÑ
Fri, Oct 14, 2022, 07:48:44 - pdurbin: Again, here's the script I wrote to get these numbers (which actually include PRs, actually): https://groups.google.com/g/dataverse-dev/c/Pkces_MBqR8/m/YndHLawYBgAJ
Fri, Oct 14, 2022, 07:50:40 - Miguel Silva: I'm leaving here to anyone who finds it of interest 

The presented code was made to make a POST request to a Dataverse repository, however, can be easily adapted to any other POST request. Finally, the code below is optimized for Tensilica's Xtensa LX6/7 microprocessors, vis-a-vis ESP32.

https://stackoverflow.com/a/74039995/13794189
Fri, Oct 14, 2022, 07:51:30 - Miguel Silva: I'm leaving here to anyone who finds it of interest 

The piece of code below is from a firmware code I've been programming lately to use on Tensilica's Xtensa LX6/7 compatible MCUs (ESP32). The code below makes an HTTPS request using WIFIClientsecure library.

https://stackoverflow.com/a/74068670/13794189
Fri, Oct 14, 2022, 07:52:23 - pdurbin: very cool
Fri, Oct 14, 2022, 07:53:10 - Miguel Silva: üòçüëçÔ∏èüé∏üé∏üé∏üé∏üé∏üé∏üé∏üé∏üé∏üé∏üé∏
Fri, Oct 14, 2022, 07:56:43 - pdurbin: üòÑ
Fri, Oct 14, 2022, 08:14:07 - pdurbin: poikilotherm (CEST,UTC+2): we could do a call and go through yours if you want. I'm waiting for the rain to quit before I bike in.
Fri, Oct 14, 2022, 08:25:01 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): we co..."> Not today - busy day here
Fri, Oct 14, 2022, 08:38:28 - pdurbin: Heh, no worries. Plenty other open issues, believe me. Some of them have been quite stale so I'm often asking, "Are you still interested in this?" or "Are you aware of a new feature that somewhat addresses this?"
Fri, Oct 14, 2022, 08:39:26 - pdurbin: Don Sizemore: I have you in a different category, since you come to so many meetings, but you're on my list too, buddy.
Fri, Oct 14, 2022, 08:40:06 - Don Sizemore: I'm guilty of bulk-deleting all those GitHub notifications. If things quiet down this afternoon I can pore through my authored issues?
Fri, Oct 14, 2022, 08:40:24 - pdurbin: As you wish.
Fri, Oct 14, 2022, 08:40:57 - pdurbin: You'd be ahead of the game. I'm planning on nagging everyone to do this.
Fri, Oct 14, 2022, 08:42:13 - pdurbin: I don't mind lots of open issue, what I mind is stale issues.
Fri, Oct 14, 2022, 08:42:25 - pdurbin: If they're legit, leave 'em open.
Fri, Oct 14, 2022, 08:42:55 - pdurbin: I do, however, wonder if we should have a place for ideas rather than issues.
Fri, Oct 14, 2022, 08:43:11 - pdurbin: I mean, I don't care at all how many posts there are on the mailing list.
Fri, Oct 14, 2022, 08:43:28 - pdurbin: Or how many messages we generate here in chat.
Fri, Oct 14, 2022, 08:43:58 - pdurbin: It's mostly seen as a sign of health and vitality, having a lot of chatter.
Fri, Oct 14, 2022, 08:45:28 - pdurbin: I've been flagging some issues with "Type: Suggestion" when it's an idea. The thing is, some suggestions are small and easy to implement. Others are friggin' huge.
Fri, Oct 14, 2022, 08:50:56 - Don Sizemore: I concede I'm in your top ten list of issue authors.
Fri, Oct 14, 2022, 08:51:33 - Don Sizemore: you might label the "Suggestion" issues with a "Help Wanted?"
Fri, Oct 14, 2022, 08:54:49 - poikilotherm: <@pdurbin:matrix.org "I do, however, wonder if we shou..."> There is Github Discussion for this kind of stuff these days
Fri, Oct 14, 2022, 09:00:48 - pdurbin: Yes, I'm back and forth on "Help Wanted" labels. I did just add one here: https://github.com/IQSS/dataverse/issues/6733 ... generally, the help doesn't come so fast, I've found.
Fri, Oct 14, 2022, 09:01:13 - pdurbin: Maybe we should try GitHub Discussions on some other repo before committing to it. But which one?
Fri, Oct 14, 2022, 09:20:56 - pdurbin: The main repo is the big dog.
Fri, Oct 14, 2022, 12:01:00 - Miguel Silva: hi all,
today's Smart DAQ firmware update is already available on Github for anyone to have a go.
Have an awesome weekend all !!!

https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo/blob/main/README.md
Fri, Oct 14, 2022, 12:26:01 - pdurbin: Miguel Silva: you too! I'm wondering if parts ESP32_Dataverse.ino could be factored out into a client library that could be listed here: https://guides.dataverse.org/en/5.12/api/client-libraries.html
Fri, Oct 14, 2022, 12:51:07 - pdurbin: poikilotherm (CEST,UTC+2): you'd like this one: Delightful Integration Tests with Testcontainers [LRN3700]
Fri, Oct 14, 2022, 12:57:51 - poikilotherm: <@pdurbin:matrix.org "Maybe we should try GitHub Discu..."> You could try with XOAI. Or one of the GDCC ones
Fri, Oct 14, 2022, 12:59:47 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): you'd..."> Hmm?
Fri, Oct 14, 2022, 13:00:10 - pdurbin sent an image. (Media omitted)
Fri, Oct 14, 2022, 13:00:16 - pdurbin: I'm picking sessions for JavaOne
Fri, Oct 14, 2022, 13:00:25 - pdurbin: some are full already, unfortunately
Fri, Oct 14, 2022, 13:01:02 - pdurbin: Yeah, I wonder which GDCC repo would generate discussion. Maybe https://github.com/gdcc/dataverse-external-vocab-support ?
Fri, Oct 14, 2022, 13:04:19 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: you too! I'm wonde..."> great ideia !!! Let me do some code cleaning first and then i get back to you
Fri, Oct 14, 2022, 13:05:03 - pdurbin: Miguel Silva: great. If you want an empty repo under https://github.com/gdcc please just let me, poikilotherm (CEST,UTC+2) or Don Sizemore know.
Fri, Oct 14, 2022, 13:15:34 - Don Sizemore: am I a gdcc admin?
Fri, Oct 14, 2022, 13:18:41 - pdurbin: oh, maybe of the other org? one sec
Fri, Oct 14, 2022, 13:19:40 - pdurbin sent an image. (Media omitted)
Fri, Oct 14, 2022, 13:19:45 - Don Sizemore: I wasn't an admin of the "long" one because I'm not technically an employee
Fri, Oct 14, 2022, 13:20:07 - Don Sizemore: least access, least privilege, Don can't break nuthin'
Fri, Oct 14, 2022, 13:20:40 - pdurbin: whoops, I just made you an owner
Fri, Oct 14, 2022, 13:20:48 - pdurbin: lemme know if I should flip it back to member
Fri, Oct 14, 2022, 13:21:07 - Don Sizemore: depends on how much work you want me to do ;)
Fri, Oct 14, 2022, 13:21:22 - pdurbin: üòÑ I'll leave it
Fri, Oct 14, 2022, 14:48:22 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: great. If you want..."> nah. I'm good. in the meantime already created one here: https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library
Fri, Oct 14, 2022, 14:50:27 - pdurbin: Miguel Silva: nice! A logo and everything! üéâ
Fri, Oct 14, 2022, 16:26:07 - pdurbin: Thinking about auth for a frontend built in React or similar: https://github.com/IQSS/dataverse/issues/9063
Fri, Oct 14, 2022, 16:52:52 - pdurbin: Geospatial search anyone? https://github.com/GlobalDataverseCommunityConsortium/dataverse/commit/c7c16d4
Fri, Oct 14, 2022, 16:59:23 - pdurbin: Whelp, I'm off. I'll be at JavaOne ‚òïÔ∏è in Las Vegas ‚ô•Ô∏è‚ô†Ô∏è‚ô¶Ô∏è‚ô£Ô∏è next week but I'll try to pop in here when I can. Have a great weekend!
Sat, Oct 15, 2022, 04:30:29 - poikilotherm: In case anybody wants to experiment with it: I pushed my WIP for dvcli. It can already delete and upload files! https://github.com/gdcc/dvcli
Sat, Oct 15, 2022, 07:27:42 - Miguel Silva: pdurbin:  the C Library is now available on the repository and ready to download. you may add the link to the list of libraries available .
https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library
Sat, Oct 15, 2022, 14:28:13 - myneighboursdog joined the room
Sat, Oct 15, 2022, 14:34:45 - myneighboursdog: Hi, I am new to the proejct and wanted to run `mvn package` but it seems there is a wrong dependency in the pom.xml. There is `titanium-json-ld` with version `1.3.0-SNAPSHOT` and I can't seem to find it neither in maven central nor in https://oss.sonatype.org declared in https://github.com/filip26/titanium-json-ld/blob/main/pom_parent.xml as a snapshot repo. Any suggestions?
Sat, Oct 15, 2022, 14:35:16 - myneighboursdog: I used the current master branch. And I also tried the latest release v5.12
Sat, Oct 15, 2022, 14:41:40 - myneighboursdog: Okay seems to be a local issue. Don't know what went wrong. Resolved now.
Mon, Oct 17, 2022, 05:57:27 - Ramin (@ramincat:matrix.org) joined the room
Mon, Oct 17, 2022, 06:02:41 - Ramin (@ramincat:matrix.org): Hi , the installation guidelines recommend a  RHEL derivative. Are there any experiences with  CentOs?
Mon, Oct 17, 2022, 06:18:14 - myneighboursdog: I'm not going to install a new distro just because your software is built to only run on CentOs in 2022. I find that a bit ridiculous tbh. I see that there is also the option of using Vagrant so I'm probably going to use this
Mon, Oct 17, 2022, 07:36:24 - Don Sizemore: myneighboursdog: Dataverse will install and run on most any Linux distribution (or OS X if you prefer).
Mon, Oct 17, 2022, 07:37:11 - Don Sizemore: @Ramin Dataverse's CI testing used CentOS until it became Stream. Now we use Rocky and/or Debian/Ubuntu.
Mon, Oct 17, 2022, 07:48:34 - myneighboursdog: Don Sizemore Well I tried running it on Manjaro but I failed due to the systemctl daemon script throwing some errors. That's where I stopped
Mon, Oct 17, 2022, 07:51:12 - Don Sizemore: what did the error say?
Mon, Oct 17, 2022, 08:00:07 - poikilotherm: <@myneighboursdog:matrix.org "I'm not going to install a new d..."> Hi there! Please note that usually folks joining here are very welcome to ask for help, but that gets much easier if you do it in a more polite fashion. Thank you!
Mon, Oct 17, 2022, 08:02:24 - poikilotherm: myneighboursdog: you are also very welcome to help testing Dataverse on more platforms and share your experience here. It would also be very nice to see more contributions from the community to https://guides.dataverse.org for installation adventures not sticking to the recommended and _tested_ way of installing this in a production environment.
Mon, Oct 17, 2022, 08:04:29 - poikilotherm: That said, Dataverse is a large and complex beast of software (I may say that as I got my hands dirty with it more than once). It's also free and open source, so let's be grateful the IQSS provides the manpower to have it as stable as possible and test thoroughly for each release. That's a lot of work usually not very visible from the frontpage.
Mon, Oct 17, 2022, 08:06:55 - lincoln_: poikilotherm (CEST,UTC+2): While starting a payara server I am getting this error, any idea what I should do 
Waiting for domain1 to start .....................................................Error starting domain domain1.
The server exited prematurely with exit code 1.
Before it died, it produced the following output:

Launching Payara Server on Felix platform
Registered com.sun.enterprise.glassfish.bootstrap.osgi.EmbeddedOSGiGlassFishRuntime@c429fc4 in service registry.



#!## LogManagerService.postConstruct : rootFolder=/usr/local/payara5/glassfish
#!## LogManagerService.postConstruct : templateDir=/usr/local/payara5/glassfish/lib/templates
#!## LogManagerService.postConstruct : src=/usr/local/payara5/glassfish/lib/templates/logging.properties
#!## LogManagerService.postConstruct : dest=/usr/local/payara5/glassfish/domains/domain1/config/logging.properties
Completed shutdown of Log manager service
Completed shutdown of GlassFish runtime
We are in non-embedded mode, so fish.payara.server.internal.core.glassfish [218] has nothing to do.
Oct 17, 2022 1:34:20 PM com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner createBundleProvisioner
INFO: Create bundle provisioner class = class com.sun.enterprise.glassfish.bootstrap.osgi.BundleProvisioner.
[#|2022-10-17T13:34:24.060+0200|INFO|Payara 5.2021.9|javax.enterprise.logging|_ThreadID=21;_ThreadName=RunLevelControllerThread-1666006463918;_TimeMillis=1666006464060;_LevelValue=800;_MessageID=NCLS-LOGGING-00009;|
  Running Payara Version: Payara Server  5.2021.9 #badassfish (build 878)|#]

[#|2022-10-17T13:34:24.067+0200|INFO|Payara 5.2021.9|javax.enterprise.logging|_ThreadID=21;_ThreadName=RunLevelControllerThread-1666006463918;_TimeMillis=1666006464067;_LevelValue=800;_MessageID=NCLS-LOGGING-00010;|
  Server log file is using Formatter class: com.sun.enterprise.server.logging.ODLLogFormatter|#]

[#|2022-10-17T13:34:24.361+0200|WARNING|Payara 5.2021.9|javax.enterprise.system.tools.monitor|_ThreadID=23;_ThreadName=RunLevelControllerThread-1666006463924;_TimeMillis=1666006464361;_LevelValue=900;_MessageID=NCLS-MON-00504;|
  Encountered exception during agent attach|#]

Mon, Oct 17, 2022, 08:07:06 - poikilotherm: Back to topic: myneighboursdog I can only second what Don Sizemore says! Usually you should run this on a production grade distro like Redhat or Debian and we know that works quite well.
Mon, Oct 17, 2022, 08:07:46 - poikilotherm: lincoln_: which Dataverse version please?
Mon, Oct 17, 2022, 08:08:09 - lincoln_: v 5.11.1
Mon, Oct 17, 2022, 08:08:17 - poikilotherm: (I see you're running Payara 5.2021.9, so that might cause trouble depending on the Dataverse version)
Mon, Oct 17, 2022, 08:08:42 - lincoln_: it was running properly till last week
Mon, Oct 17, 2022, 08:09:12 - poikilotherm: Oh so it crashed? Is this a test or a prod system?
Mon, Oct 17, 2022, 08:09:22 - lincoln_: luckily a test system
Mon, Oct 17, 2022, 08:09:27 - poikilotherm: Phew.
Mon, Oct 17, 2022, 08:09:41 - poikilotherm: So did it crash or did you try to restart
Mon, Oct 17, 2022, 08:10:06 - poikilotherm: BTW is this all you can get from server.log?
Mon, Oct 17, 2022, 08:10:08 - lincoln_: i tried to restart and after that i have been getting this error
Mon, Oct 17, 2022, 08:10:17 - poikilotherm: I see
Mon, Oct 17, 2022, 08:11:00 - lincoln_: anything that i can do would be really appreciated
Mon, Oct 17, 2022, 08:11:04 - poikilotherm: Oh wait did you see "Encountered exception during agent attach"? Do you run any special java agents?
Mon, Oct 17, 2022, 08:11:41 - lincoln_: yea i did changed the java from 11 to older versions and now i changed the version to the 11
Mon, Oct 17, 2022, 08:12:27 - poikilotherm: Yikes!
Mon, Oct 17, 2022, 08:13:10 - poikilotherm: So what you do there? Did you rebuild the WAR with JDK 8?
Mon, Oct 17, 2022, 08:13:52 - lincoln_: no the older java was only used for other applications
Mon, Oct 17, 2022, 08:14:31 - poikilotherm: OK please double check Payara uses Dataverse with JRE/JDK 11
Mon, Oct 17, 2022, 08:14:53 - poikilotherm: Please also do a firstaid thing before digging deeper:
```
    rm -rf $PAYARA/glassfish/domains/domain1/generated
    rm -rf $PAYARA/glassfish/domains/domain1/osgi-cache
    rm -rf $PAYARA/glassfish/domains/domain1/lib/databases
```
Mon, Oct 17, 2022, 08:15:25 - poikilotherm: Try to start Payara again after that
Mon, Oct 17, 2022, 08:15:58 - poikilotherm: No worries, it's safe to do this and will remove any caches etc. Sometimes Payara has a hiccup with stuff left in there
Mon, Oct 17, 2022, 08:17:19 - poikilotherm: FWIW: if you are trying out stuff with different Java versions, please take a look at things like https://sdkman.io, https://asdf-vm.com and others. It helps a lot!
Mon, Oct 17, 2022, 08:17:51 - Don Sizemore: what a great project logo
Mon, Oct 17, 2022, 08:19:01 - lincoln_: poikilotherm (CEST,UTC+2): thank you..but deleting those folders didnot help
Mon, Oct 17, 2022, 08:21:03 - lincoln_: any other tips /suggestions that i could possibly do
Mon, Oct 17, 2022, 08:21:24 - lincoln_: to remove the  error
Mon, Oct 17, 2022, 08:22:12 - poikilotherm: Can you run `asadmin start-domain --verbose domain1` and see if you get more useful output in server.log?
Mon, Oct 17, 2022, 08:23:05 - poikilotherm: BTW you are sure you have enough memory?
Mon, Oct 17, 2022, 08:23:18 - poikilotherm: Do you monitor memory usage during startup?
Mon, Oct 17, 2022, 08:23:54 - poikilotherm: Sometimes, when you don't have enough memory, GC and swap might run wild, trying to do their best to stay alive
Mon, Oct 17, 2022, 08:24:26 - poikilotherm: (Asking because you said it's a test system, which are often rather limited)
Mon, Oct 17, 2022, 08:25:00 - lincoln_: thank you...i ll have a look again
Mon, Oct 17, 2022, 08:25:54 - pdurbin: myneighboursdog: we mostly use Rocky these days, not CentOS. Are you seeing "CentOS only" somewhere in the guides?
Mon, Oct 17, 2022, 08:35:39 - Don Sizemore: @pdurbin Phil! you're going to miss your flight!
Mon, Oct 17, 2022, 08:37:00 - pdurbin: I'm not even packed! üõ´
Mon, Oct 17, 2022, 08:40:48 - pdurbin: Miguel Silva: great news about the C library! Would you like an empty repo under the "gdcc" org?
Mon, Oct 17, 2022, 08:41:22 - pdurbin: poikilotherm (CEST,UTC+2): don't forget to add dvcli to the guides!
Mon, Oct 17, 2022, 08:46:39 - lincoln_: <@oliver:bertuch.name "BTW you are sure you have enough..."> poikilotherm (CEST,UTC+2): thank you..yeah I should be a bit careful next time :p
Mon, Oct 17, 2022, 08:51:18 - poikilotherm: <@lincoln_:matrix.org "poikilotherm (CEST,UTC+2): thank..."> So that actually was the problem?
Mon, Oct 17, 2022, 08:58:31 - * pdurbin packs his GNU hat
Mon, Oct 17, 2022, 09:38:01 - Benjamin (SODHA): Looking for stickers. Found this one pretty neat
Mon, Oct 17, 2022, 09:38:02 - Benjamin (SODHA): https://www.redbubble.com/fr/i/sticker/Sorcier-Open-Source-8-bits-Programmation-par-blushingcrow/28049941.EJUG5
Mon, Oct 17, 2022, 10:19:19 - lincoln_: <@oliver:bertuch.name "So that actually was the problem..."> yeah memory thing
Mon, Oct 17, 2022, 10:21:08 - poikilotherm: <@benjamin_peuch:matrix.org "Looking for stickers. Found this..."> Ha I reconstructed that as an SVG once and printed it on a shirt :-)
Mon, Oct 17, 2022, 13:47:19 - poikilotherm: Benjamin (SODHA): This is my latest catch on stickers: https://socrse.myspreadshop.co.uk/rse+unicorn+magic-A6318627501e05c116a01f2a6?productType=1459&sellable=LnByYpv4vYcxd2EvJpld-1459-215&appearance=839&size=251
Mon, Oct 17, 2022, 14:23:45 - Miguel Silva: <@pdurbin:matrix.org "I'm not even packed! üõ´"> no need. Is already available here!
Mon, Oct 17, 2022, 14:24:02 - Miguel Silva: <@aeonlabs:matrix.org "no need. Is already available he..."> https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library
Mon, Oct 17, 2022, 14:25:28 - Miguel Silva: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): don't..."> The wiki already has included an Index with links to the API documentation . Any thing specific you like it to be added , let me know
Mon, Oct 17, 2022, 16:00:05 - pdurbin: Miguel Silva: ok. Perfectly fine to keep the C library where it is. Can you please make a pull request to add it to https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/api/client-libraries.rst ?
Mon, Oct 17, 2022, 19:02:31 - Don Sizemore: @pdurbin I may have a favor to ask of you, in between your Nevadan revelry?
Mon, Oct 17, 2022, 23:55:08 - pdurbin: Don Sizemore: sure, it's early here. üòÑ
Tue, Oct 18, 2022, 03:09:24 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: ok. Perfectly fine..."> this is now completed !!!
Tue, Oct 18, 2022, 03:20:53 - Benjamin (SODHA): <@oliver:bertuch.name "Benjamin (SODHA): This is my lat..."> Yay unicorns! ü¶Ñ
Tue, Oct 18, 2022, 03:38:37 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/) joined the room
Tue, Oct 18, 2022, 03:49:33 - poikilotherm: We should meet for Fosdem and hack on Dataverse, so we can exchange some stickers üòÅ
Tue, Oct 18, 2022, 05:13:28 - Henning Timm: Speaking of documentation fixed: I just toyed around a little bit with SOLR reindexing on one of my test instances. The [docs](https://guides.dataverse.org/en/latest/admin/solr-search-index.html#full-reindex) still mention [Issue #50](https://github.com/IQSS/dataverse/issues/50) and that reindexing can take unexpectedly long. This seems to be fixed now, so I would open a PR to remove this line from the docs. 
Tue, Oct 18, 2022, 05:16:11 - Henning Timm: Whilst I am at this: I don't have much experience with SOLR, so I do not fully understand what the sentence "does not ensure a completely clean index" entails. Does this mean that some files might not be indexed, indexed incorrectly, or that 'zombie' files remain in the index? If this is easy to explain, I can expand this part a bit.
Tue, Oct 18, 2022, 05:43:47 - Henning Timm: Yay, I created fork nr 400 üéàüéâ
Tue, Oct 18, 2022, 07:14:16 - Don Sizemore: @pdurbin are you aware of any Dataverse installations running in an egress-restricted network space, using Shibboleth authentication?
Tue, Oct 18, 2022, 07:14:51 - Don Sizemore: @pdurbin login succeeds, the user information shows up in the DB, then the ShibServiceBean throws a timeout within Payara
Tue, Oct 18, 2022, 07:15:16 - Don Sizemore: @pdurbin I'm assuming it already has the call-back from Shibboleth since the user information populates in the DB
Tue, Oct 18, 2022, 07:15:45 - Don Sizemore: @pdurbin one thing the cloud team here can't tell me: why the instance can't reach the public interface on the load balancer, even using a proxy for egress
Tue, Oct 18, 2022, 07:16:17 - Don Sizemore: @pdurbin my suspicion is that Payara is somehow trying to call /Shibboleth.sso/DiscoFeed (?) for session or other information, and can't reach it.
Tue, Oct 18, 2022, 07:16:51 - Don Sizemore: @pdurbin they want me to wedge the FQDN into /etc/hosts as a test, about which I'm not crazy, but will try this morning.
Tue, Oct 18, 2022, 10:03:34 - pdurbin: Benjamin (SODHA) poikilotherm (CEST,UTC+2) are you going to FOSDEM? Jealous.
Tue, Oct 18, 2022, 10:05:11 - pdurbin: Henning Timm: we use the term "stale" to mean a doc is still in Solr but should be, because a dataset was destroy, for example. There's an API to detect these called "status": https://guides.dataverse.org/en/5.12/admin/solr-search-index.html#index-and-database-consistency
Tue, Oct 18, 2022, 10:05:45 - pdurbin: Henning Timm: also, even though issue 50 is closed, indexing is still pretty slow. If you think you can improve it, please try!
Tue, Oct 18, 2022, 10:06:16 - pdurbin: Don Sizemore: I've always thought that Shib should work from behind a firewall but I've never tried it.
Tue, Oct 18, 2022, 10:06:38 - pdurbin: Folks on the Shib users mailing list should know.
Tue, Oct 18, 2022, 10:06:53 - Don Sizemore: there be dragons on that list.
Tue, Oct 18, 2022, 10:08:11 - pdurbin: they seldom bite
Tue, Oct 18, 2022, 10:09:37 - Don Sizemore: I've got several Shib instances running behind a firewall now, this one is different because _outgoing_ traffic is restricted. This morning they gave me a NAT gateway and allowed it to contact the external interface on the load balancer. Now to wrangle another tester.
Tue, Oct 18, 2022, 11:00:46 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA) poikilotherm (C..."> I'm afraid I'm too introverted and not computer-savvy enough to go there üòÖ
Tue, Oct 18, 2022, 11:00:51 - Benjamin (SODHA): But Youssef might!
Tue, Oct 18, 2022, 11:01:35 - pdurbin: There are some very friendly Open Source Design people there.
Tue, Oct 18, 2022, 11:02:41 - pdurbin: https://discourse.opensourcedesign.net/t/fosdem-2023/3093
Tue, Oct 18, 2022, 12:39:50 - myneighboursdog: <@oliver:bertuch.name "Hi there! Please note that usual..."> Well I'm certainly sorry if that came over in a not polite way. That wasn't my intention.
Tue, Oct 18, 2022, 12:45:47 - myneighboursdog: <@donsizemore:matrix.org "what did the error say?"> `journalctl -xeu rserve.service` says:

```
The process /usr/bin/mkdir could not be executed and failed.

The error number returned by this process is ERRNO.
```
Tue, Oct 18, 2022, 13:06:32 - pdurbin: myneighboursdog: no worries. I'm assuming the guides need to be updated? Did you see "CentOS only" somewhere?
Tue, Oct 18, 2022, 13:19:16 - Miguel Silva: I WON !!!!! second prize in The Eurocircuits
& Electromaker contest wiht the Smart DAQ prototype, the one running the Dataverse Firmware for LIVE experimental data upload to a repository 

check it out here:
https://lnkd.in/eZsQcjdW
Tue, Oct 18, 2022, 13:46:49 - pdurbin sent an image. (Media omitted)
Tue, Oct 18, 2022, 13:47:01 - pdurbin: JavaOne kickoff ^^
Tue, Oct 18, 2022, 14:42:10 - poikilotherm: Enjoy!
Tue, Oct 18, 2022, 14:43:36 - pdurbin: Thanks. I'm in a lab that uses https://github.com/oracle/oci-react-samples/tree/springboot
Tue, Oct 18, 2022, 14:45:09 - pdurbin: To see the lab you have to log in: bit.ly/ocw22-hol2798
Tue, Oct 18, 2022, 14:46:23 - pdurbin: Basically, it's building and deploying a react/springboot app to kubernetes 
Tue, Oct 18, 2022, 15:38:46 - Henning Timm: Thank for the info pdurbin I created a PR for the changes. After carefully re-reading the linked Issue, I decided to keep the link and just change the wording a little. Having a link to some example times can be really valuable.
Tue, Oct 18, 2022, 15:40:05 - Henning Timm: Enjoy the conference :)
Tue, Oct 18, 2022, 15:41:00 - pdurbin: Ah, now I see it: https://github.com/IQSS/dataverse/pull/9071 ... thanks!
Tue, Oct 18, 2022, 15:41:34 - pdurbin: Now I'm in this session: https://github.com/oktadev/okta-jhipster-microservices-oauth-example
Tue, Oct 18, 2022, 17:48:19 - poikilotherm: pdurbin: hacking away on https://github.com/ocpsoft/rewrite/pull/350 for leisure today üòÑ
Tue, Oct 18, 2022, 18:02:37 - pdurbin: poikilotherm (CEST,UTC+2): thanks! It's on my list to get back to Lincoln! Please express our appreciation!
Tue, Oct 18, 2022, 18:03:01 - poikilotherm: Of course!
Tue, Oct 18, 2022, 19:20:10 - pdurbin: In a talk by https://github.com/Emily-Jiang about MicroProfile.
Tue, Oct 18, 2022, 19:20:41 - pdurbin: Showing cdi first: https://github.com/OpenLiberty/guide-cdi-intro
Tue, Oct 18, 2022, 19:21:23 - pdurbin: bit.ly/ocw22-tut3721 ... login required 
Tue, Oct 18, 2022, 19:42:57 - pdurbin: https://github.com/Emily-Jiang/tutorial-microprofile
Tue, Oct 18, 2022, 20:49:52 - pdurbin sent an image. (Media omitted)
Tue, Oct 18, 2022, 22:11:10 - pdurbin sent an image. (Media omitted)
Wed, Oct 19, 2022, 09:02:39 - lincoln_: One question: I have made an external tool for an xml file (for testing) and integrated to dataverse.
But I can see the preview button only for the files which have been uploaded/created after integration of the external tool..Is there anything that could enable the old files as well to have this button
Wed, Oct 19, 2022, 11:59:55 - pdurbin: External tools are shown for this or that content type (MIME type). Do the old files have the right content type?
Wed, Oct 19, 2022, 13:21:55 - pdurbin: In a talk by Venkat: https://pragprog.com/titles/vsjava8/functional-programming-in-java/
Wed, Oct 19, 2022, 13:29:36 - pdurbin sent an image. (Media omitted)
Wed, Oct 19, 2022, 13:41:52 - pdurbin: http://blog.agiledeveloper.com/2015/06/lambdas-are-glue-code.html
Wed, Oct 19, 2022, 14:13:01 - pdurbin sent an image. (Media omitted)
Wed, Oct 19, 2022, 14:44:34 - pdurbin: Talk on modernization: https://www.menti.com/alfersbf2y85
Wed, Oct 19, 2022, 14:49:38 - pdurbin sent an image. (Media omitted)
Wed, Oct 19, 2022, 14:53:58 - pdurbin sent an image. (Media omitted)
Wed, Oct 19, 2022, 14:56:55 - pdurbin sent an image. (Media omitted)
Wed, Oct 19, 2022, 16:28:57 - pdurbin: Now a demo of https://github.com/Azure-Samples/acme-fitness-store
Wed, Oct 19, 2022, 16:43:23 - pdurbin: Now https://playwright.dev/java/docs/intro
Wed, Oct 19, 2022, 16:46:06 - pdurbin: Using this example: https://github.com/spring-projects/spring-petclinic
Wed, Oct 19, 2022, 16:55:43 - pdurbin: Actually this: https://github.com/Azure-Samples/build2022-spring-petclinic
Thu, Oct 20, 2022, 09:07:34 - lincoln_: small correction on the Dataverse\_Manual here:
https://guides.dataverse.org/en/latest/installation/config.html#id160
Instead the command line should look like this: (validated for localfileArchive)
curl -X POST -H "X-Dataverse-key: \<key>" http://localhost:8080/api/admin/submitDatasetVersionToArchive/:persistentID/\<versionNum>?persistentID=\<doi-of-dataset>

Also a reference from the dataverse-google-group:
https://groups.google.com/g/dataverse-community/c/UdGIaPjmKGA/m/2qOwImRIBgAJ
Thu, Oct 20, 2022, 10:49:34 - pdurbin: lincoln_: thanks! Want to make a pull request?
Thu, Oct 20, 2022, 10:52:34 - lincoln_: would be better if someone could...
Thu, Oct 20, 2022, 10:55:37 - pdurbin: lincoln_: no worries. You could create an issue if you like. Maybe Sherry Lake will create a pull request. üòÑ
Thu, Oct 20, 2022, 10:57:42 - lincoln_: https://github.com/IQSS/dataverse/issues/9090
Thu, Oct 20, 2022, 10:57:44 - lincoln_: pdurbin: thanks
Thu, Oct 20, 2022, 10:58:23 - pdurbin: Thanks!!
Thu, Oct 20, 2022, 13:35:51 - pdurbin: In this talk: https://github.com/Cpano/ocw2022-consulting
Thu, Oct 20, 2022, 13:36:32 - pdurbin: Some neat slides from a designer:
Thu, Oct 20, 2022, 13:36:45 - pdurbin sent an image. (Media omitted)
Thu, Oct 20, 2022, 13:37:01 - pdurbin sent an image. (Media omitted)
Thu, Oct 20, 2022, 13:37:11 - pdurbin sent an image. (Media omitted)
Thu, Oct 20, 2022, 13:37:22 - pdurbin sent an image. (Media omitted)
Thu, Oct 20, 2022, 13:38:03 - pdurbin: Plus lots of techie details from a dev. Sort of an odd mix.
Thu, Oct 20, 2022, 13:51:26 - pdurbin: Talked to them after. Really nice people.
Thu, Oct 20, 2022, 17:31:15 - pdurbin sent an image. (Media omitted)
Thu, Oct 20, 2022, 17:31:27 - pdurbin: poikilotherm (CEST,UTC+2): ^^
Thu, Oct 20, 2022, 17:32:10 - pdurbin: By https://github.com/shelajev
Thu, Oct 20, 2022, 17:36:50 - pdurbin: https://engineering.atspotify.com/2018/01/testing-of-microservices/
Thu, Oct 20, 2022, 17:40:02 - pdurbin sent an image. (Media omitted)
Thu, Oct 20, 2022, 17:40:21 - pdurbin: "adopt"!
Thu, Oct 20, 2022, 18:56:33 - pdurbin: The code he demoed: https://github.com/testcontainers/workshop
Thu, Oct 20, 2022, 18:56:48 - pdurbin: Talked to him after. Nice guy.
Thu, Oct 20, 2022, 21:08:40 - pdurbin: https://demo.dataverse.org and https://dataverse.harvard.edu have been upgraded to 5.12 (thanks to Leonid üéâ). Enjoy!
Fri, Oct 21, 2022, 06:03:22 - Ramin (@ramincat:matrix.org): Hi, I want to specify a metadatablock with a "fieldType" that has a type of "boolean" - visualized with a checkbox. From what I see in the docs, such a fieldType does not exist.  Does somebody have an idea, if something like that can somehow be added, or if there is some kind of hack for it (e.g. using an "int", or a text with a controlledVocabulary...)
Fri, Oct 21, 2022, 06:55:07 - Ramin (@ramincat:matrix.org): <@ramincat:matrix.org "Hi, I want to specify a metadata..."> ok, I am experimenting a bit with this.... However now I cannot reload my tsv. I am getting a 500 status with no body. But the server (still running in docker says: ``` _status="ERROR";_code=500;_message="Internal server error. More details available at the server logs.";_incidentId="aac36900-6435-4746-84de-bfaa259bba51";_interalError="ArrayIndexOutOfBoundsException";_requestUrl="http://localhost:8080/api/v1/admin/datasetfield/load";_requestMethod="POST"||#]
```)   . So 2 questions: 1 Where can I find the logs. 2 Is it possible to delete a metadatablock?
Fri, Oct 21, 2022, 09:28:53 - lincoln_: one workaround you can have a controlled vocabulary for that field type- true/false or 0/1  and so on
(which you have already mentioned)
Fri, Oct 21, 2022, 09:31:57 - lincoln_: what does ...domain/domains1/logs/server.log says?
Fri, Oct 21, 2022, 09:36:05 - lincoln_: pdurbin: Globus?
Fri, Oct 21, 2022, 10:06:24 - Ramin (@ramincat:matrix.org): <@lincoln_:matrix.org "what does ...domain/domains1/log..."> Thankts for the reply. Yes, I will use Vocabularies! I will check the logs on Monday.... However, I didnt find any endpoint to delete a metadatablock so I added pgadmin to the docker-compose and deleted a bunch of rows in different tables üòÜ
Fri, Oct 21, 2022, 10:25:55 - lincoln_: Ramin: AFAIK, once customized metadata block are in..they cannot be deleted .but however the names could be altered . (as mentioned in the Dataverse Manual)
and since you are the superuser ( i guess) you could simply uncheck them too
Fri, Oct 21, 2022, 11:29:45 - pdurbin: Ramin: hi! There's an open issue about booleans: https://github.com/IQSS/dataverse/issues/7961 ... Please feel free to leave a comment.
Fri, Oct 21, 2022, 11:31:24 - pdurbin: <@lincoln_:matrix.org "pdurbin: Globus?"> No, we didn't set up Globus.
Fri, Oct 21, 2022, 11:33:44 - pdurbin: lincoln_: you could keep an eye on https://github.com/IQSS/dataverse/issues/9032
Fri, Oct 21, 2022, 14:13:59 - Miguel Silva: Hi all
Fri, Oct 21, 2022, 14:14:13 - Miguel Silva: an awesome weekend to all 
Fri, Oct 21, 2022, 14:14:22 - Miguel Silva: ü§†
Fri, Oct 21, 2022, 14:22:07 - pdurbin: You too! I'm at the airport in Las Vegas. Looking forward to watching my daughter in The Head of the Charles on Sunday when I get home.
Fri, Oct 21, 2022, 14:49:03 - pdurbin: https://en.wikipedia.org/wiki/Head_of_the_Charles_Regatta
Mon, Oct 24, 2022, 09:43:45 - pdurbin: I just sent this to the mailing list: "Dataverse leadership, job posting for project manager" - https://groups.google.com/g/dataverse-community/c/6wxOcyd0x1U/m/SChiiCrACAAJ
Mon, Oct 24, 2022, 11:45:31 - pdurbin: Hey, I think I've got geospatial search working.
Mon, Oct 24, 2022, 11:45:43 - pdurbin sent an image. (Media omitted)
Mon, Oct 24, 2022, 11:46:10 - pdurbin: 4 km radius matches: `curl "http://localhost:8080/api/search?q=*&geo_point=42.3,-71.1&geo_radius=4"`
Mon, Oct 24, 2022, 11:46:29 - pdurbin: 1 km radius does not: `curl "http://localhost:8080/api/search?q=*&geo_point=42.3,-71.1&geo_radius=1"`
Mon, Oct 24, 2022, 11:47:01 - pdurbin: If anyone would like to play around with this: https://github.com/IQSS/dataverse/pull/8239
Mon, Oct 24, 2022, 12:05:13 - pdurbin: I just left a comment here: https://github.com/IQSS/dataverse/pull/8239#issuecomment-1289260365
Mon, Oct 24, 2022, 12:05:20 - pdurbin: feedback welcome, as always
Mon, Oct 24, 2022, 15:08:42 - Joe Gonzalez: Hey guys, quick question about customizing the UI: my client wants their logo and name on the top. The style guide describe the sections in the HTML but I'm unclear if I should modify the xhtml pages or the Bootstrap CSS directly. If it's the latter, where are they located? TIA
Mon, Oct 24, 2022, 15:10:06 - pdurbin: Joe Gonzalez: you probably want something like this:

`curl -X PUT -d '/var/www/dataverse/branding/custom-header.html' http://localhost:8080/api/admin/settings/:HeaderCustomizationFile`
Mon, Oct 24, 2022, 15:10:19 - pdurbin: from https://guides.dataverse.org/en/5.12/installation/config.html#custom-header
Mon, Oct 24, 2022, 15:10:44 - pdurbin: That is, put your custom header in a file called `custom-homepage.html` (for example).
Mon, Oct 24, 2022, 15:11:46 - Joe Gonzalez: and that'll overwrite the default branding settings?
Mon, Oct 24, 2022, 15:13:21 - pdurbin: It'll add a header to the top
Mon, Oct 24, 2022, 15:13:49 - pdurbin sent an image. (Media omitted)
Mon, Oct 24, 2022, 15:14:01 - pdurbin: It'll add a "Custom Header" ^^
Mon, Oct 24, 2022, 15:14:13 - pdurbin: The "Navbar" will still be there.
Mon, Oct 24, 2022, 15:14:33 - pdurbin: Does that make sense?
Mon, Oct 24, 2022, 15:21:33 - Joe Gonzalez: I see, yes. Thank you
Mon, Oct 24, 2022, 15:23:38 - pdurbin: Cool. You can also change the logo in the navbar, if you want.
Mon, Oct 24, 2022, 15:41:54 - Don Sizemore: @pdurbin may I ask a "what if?" question?
Mon, Oct 24, 2022, 15:42:35 - pdurbin: Certainty 
Mon, Oct 24, 2022, 15:43:48 - Don Sizemore: suppose we wanted to "disable" a Shibboleth IDP. we'd call the "convertShibUserToBuiltIn" API endpoint, but the e-mail address wouldn't change.
Mon, Oct 24, 2022, 15:44:08 - Don Sizemore: this particular provider is wedged in to our Shib2.xml, it isn't part of the InCommon feed.
Mon, Oct 24, 2022, 15:45:19 - Don Sizemore: I'm imagining the important bits of the API endpoint remove the entry from authenticateduserlookup, but... what if the e-mail address should remain the same?
Mon, Oct 24, 2022, 15:50:52 - pdurbin: What you probably need to do, when you run the convert operation, is use some other email. Then switch it back, of course.
Mon, Oct 24, 2022, 15:52:42 - pdurbin: I think you're describing this bug: https://github.com/IQSS/dataverse/issues/3834
Mon, Oct 24, 2022, 16:01:03 - Don Sizemore: when u rite u rite
Mon, Oct 24, 2022, 16:01:46 - pdurbin: It's a bug. Please put it on the UNC board if you are so moved.
Tue, Oct 25, 2022, 07:35:48 - Benjamin (SODHA): pdurbin: Did you go casino hopping in Vegaüí≤?
Tue, Oct 25, 2022, 07:57:56 - pdurbin: Heh. It's hard to avoid the casinos in Vegas. I stayed at Caesar's Palace. There were events in the Venetian. We tried to go to dinner in Rio (not veggie friendly enough). We saw a light show at the Wynn.
Tue, Oct 25, 2022, 07:58:36 - pdurbin sent an image. (Media omitted)
Tue, Oct 25, 2022, 08:17:10 - lincoln_: <@pdurbin:matrix.org "sent an image."> 500 internal server error
Tue, Oct 25, 2022, 09:39:28 - poikilotherm sent an image. (Media omitted)
Tue, Oct 25, 2022, 09:39:34 - poikilotherm: pdurbin üò±
Tue, Oct 25, 2022, 10:59:10 - pdurbin: Heh. poikilotherm (CEST,UTC+2) why the üò± ?
Tue, Oct 25, 2022, 10:59:42 - pdurbin: I was a little disappointed that there was no Payara booth at JavaOne, by the way. Once I got a free t-shirt from them.
Tue, Oct 25, 2022, 12:42:02 - Don Sizemore: @pdurbin may I ask another of my dumb questions?
Tue, Oct 25, 2022, 12:48:22 - pdurbin: But of course 
Tue, Oct 25, 2022, 12:50:00 - Don Sizemore: @pdurbin they want me to disable Google and GitHub Auth providers. what happens to existing users with entries in authenticateduserlookup?
Tue, Oct 25, 2022, 12:50:29 - Don Sizemore: @pdurbin I fully expect they won't be able to log in, but will Dataverse get upset if the auth provider is in authenticateduserlookup but removed from the list of authproviders?
Tue, Oct 25, 2022, 12:52:07 - pdurbin: I don't know. I'd check permissions, I guess.
Tue, Oct 25, 2022, 12:54:10 - pdurbin: And groups.
Tue, Oct 25, 2022, 12:56:31 - pdurbin: I'd check if you can still merge accounts.
Tue, Oct 25, 2022, 13:00:51 - pdurbin: You could see what the user traces API shows.
Tue, Oct 25, 2022, 13:12:54 - poikilotherm: <@pdurbin:matrix.org "Heh. poikilotherm (CEST,UTC+2) w..."> Last 5 Release and we are not on EE10 yet
Tue, Oct 25, 2022, 13:20:28 - pdurbin: Well, an RC. But I hear you. Please make some noise in #dv-tech
Tue, Oct 25, 2022, 13:25:54 - Don Sizemore: @pdurbin My concern is that, when the authenticateduser and authenticateduserlookup tables got out of whack during Shibboleth testing, Dataverse wouldn't launch.
Tue, Oct 25, 2022, 13:27:09 - Don Sizemore: @pdurbin it would go into a loop of SQL errors, and never finished loading.
Tue, Oct 25, 2022, 13:29:46 - pdurbin: Yikes, I hope not.
Tue, Oct 25, 2022, 13:34:11 - pdurbin: How did you fix it?
Tue, Oct 25, 2022, 13:39:48 - Don Sizemore: I reinstalled from scratch.
Tue, Oct 25, 2022, 13:39:59 - pdurbin: Woof
Tue, Oct 25, 2022, 13:41:23 - Don Sizemore: Jon wants me to disable Google and GitHub auth on our production Dataverse, pronto, and I'm not sure what's going to happen
Tue, Oct 25, 2022, 13:48:03 - pdurbin: Well, easy to add back if necessary.
Tue, Oct 25, 2022, 14:41:13 - poikilotherm: Not that we have it enabled as we use our IDM, but did I miss sth Don Sizemore?
Tue, Oct 25, 2022, 14:43:17 - pdurbin: poikilotherm (CEST,UTC+2): thanks for posting in #dv-tech. It means more when it comes from customers.
Tue, Oct 25, 2022, 14:43:46 - poikilotherm: I'm a bad customers then...
Tue, Oct 25, 2022, 14:44:26 - poikilotherm: Coming into the shop, moving things around, breaking things and still wanting customer service 
Tue, Oct 25, 2022, 14:44:56 - poikilotherm: Even bringing new items not sold by the shop and leaving them unattended...
Tue, Oct 25, 2022, 14:46:26 - pdurbin: any OIDC bug is all yours üòÑ
Tue, Oct 25, 2022, 14:46:43 - poikilotherm: BTW pdurbin I might have an idea about the authentication codebase. How about throwing all the custom stuff out and going for EE only
Tue, Oct 25, 2022, 14:47:03 - poikilotherm: Leave it as a job for the appserver
Tue, Oct 25, 2022, 14:47:47 - poikilotherm: No idea if that works for all the pesky details, but it crossed my mind
Tue, Oct 25, 2022, 14:50:50 - Don Sizemore: @poikilotherm long story, but we're disabling it today.
Tue, Oct 25, 2022, 14:53:34 - pdurbin: poikilotherm (CEST,UTC+2): are you referring to an EE 10 feature for auth?
Tue, Oct 25, 2022, 14:54:20 - poikilotherm: Hmm actually I think this has been around for quite some time
Tue, Oct 25, 2022, 14:55:42 - pdurbin: I can dig up some old docs from back when I settled on using shibd.
Tue, Oct 25, 2022, 14:56:33 - pdurbin: Here: https://docs.google.com/document/d/1y2axfd_ScmXVICFlV8AuPDdp5xHwTag54pUpVefzs5g/edit?usp=sharing
Tue, Oct 25, 2022, 14:56:44 - poikilotherm: Oh wait this seems to be a Payara implementation of the Jakarta Security thing! https://docs.payara.fish/community/docs/Technical%20Documentation/Public%20API/Security%20Extensions.html
Tue, Oct 25, 2022, 14:57:24 - pdurbin: Right, what I heard at JavaOne is that security-related EE APIs are getting better.
Tue, Oct 25, 2022, 14:59:12 - poikilotherm: https://jakarta.ee/specifications/security/3.0/jakarta-security-spec-3.0.html
Tue, Oct 25, 2022, 15:00:03 - pdurbin: Only 56 pages.
Tue, Oct 25, 2022, 15:00:23 - poikilotherm: Looks like there is now https://eclipse-ee4j.github.io/soteria/ on it's way as the reference implementation of the 3.0 spec
Tue, Oct 25, 2022, 15:00:25 - pdurbin: I have a love/hate relationship with docs.
Tue, Oct 25, 2022, 15:04:19 - poikilotherm: But anyway, maybe this is just a fantasy and we'd be better of creating auth plugins. Dunno. Just things crossing my way.
Tue, Oct 25, 2022, 15:04:43 - pdurbin: If it supports plugins, great.
Tue, Oct 25, 2022, 15:04:51 - pdurbin: tl;dr
Tue, Oct 25, 2022, 16:15:42 - poikilotherm: The moment you discover a bug in an application server by trying to get an integration test right... üò¨ (https://github.com/payara/Payara/issues/5842#issuecomment-1291079002)
Tue, Oct 25, 2022, 16:18:07 - pdurbin: heh
Tue, Oct 25, 2022, 16:18:24 - pdurbin: How worried are you about our JSF pages working on EE 10?
Tue, Oct 25, 2022, 16:18:53 - poikilotherm: As soon as this Rewrite thing is supporting EE10 we should be fine
Tue, Oct 25, 2022, 16:19:06 - poikilotherm: More or less :-D
Tue, Oct 25, 2022, 16:19:40 - poikilotherm: Are we using fancy custom UI components? JSP tags? Anything? None that I'm aware of
Tue, Oct 25, 2022, 16:19:59 - poikilotherm: The thing why it didn't work last time was because rewrite
Tue, Oct 25, 2022, 16:20:08 - poikilotherm: Fixing this as we speak
Tue, Oct 25, 2022, 16:21:04 - pdurbin: Yes! Many thanks for getting back to Lincoln!
Tue, Oct 25, 2022, 16:22:35 - poikilotherm: This is a fun leisure programming thing :-D
Tue, Oct 25, 2022, 16:22:48 - poikilotherm: Learning a lot here
Tue, Oct 25, 2022, 16:22:50 - pdurbin: Phew üòÖ
Tue, Oct 25, 2022, 16:23:44 - pdurbin: I'm still having fun with geospatial search. I think it'll be a nice feature, especially for dataset authors who have been dutifully filling in bounding boxes all this time.
Wed, Oct 26, 2022, 07:55:17 - Benjamin (SODHA): Many thanks for all the feedback you have given us recently on GitHub, pdurbin! üéÅ
Wed, Oct 26, 2022, 08:02:34 - pdurbin: Benjamin (SODHA): yeah? Helpful? I hope I'm not being a pest. ü™≥
Wed, Oct 26, 2022, 08:03:48 - Benjamin (SODHA): Not at all. Some of those issues had been lying dormant for quite a while ü™¶
Wed, Oct 26, 2022, 08:04:00 - Benjamin (SODHA): So it was very pleasant to see them addressed!
Wed, Oct 26, 2022, 08:04:29 - Benjamin (SODHA): I'm surprised I didn't notice more of these changes by myself ü§î I try to read the version notes carefully
Wed, Oct 26, 2022, 08:04:52 - Benjamin (SODHA): I have yet to do it for v5.12 but I did it for all of them up until now (I started with v4.18, something like that)
Wed, Oct 26, 2022, 08:07:36 - Benjamin (SODHA): pdurbin I hope I'm not too pesky either, what with all those issues (and only few ensuing PRs)
Wed, Oct 26, 2022, 08:09:59 - pdurbin: Right, I guess in some cases for you we actually implemented something new that helps. üòÑ
Wed, Oct 26, 2022, 08:42:52 - Benjamin (SODHA): <@pdurbin:matrix.org "Right, I guess in some cases for..."> More than once üôå
Wed, Oct 26, 2022, 08:48:02 - pdurbin: Great! We're on the same page.
Wed, Oct 26, 2022, 09:23:21 - pdurbin: I don't mind if issues are somewhat dormant as long as someone is still interested in the feature or bothered by the bug. If no one cares, close it!
Wed, Oct 26, 2022, 09:36:01 - pdurbin: Is anyone here interested in NetCDF?
Wed, Oct 26, 2022, 11:00:28 - pdurbin: Hmm, what if we use https://people.dataverse.org to track who is interested in this or that feature (like NetCDF)?
Wed, Oct 26, 2022, 14:21:36 - pdurbin: More on NetCDF: https://github.com/IQSS/dataverse/issues/9053#issuecomment-1292427822
Wed, Oct 26, 2022, 16:08:10 - Miguel Silva: Hi pdurbin: yesterday saw an email üìß with a job vacancy for project manager. By any chance, is there any possibility of remote from Belgium üáßüá™? 
Wed, Oct 26, 2022, 17:01:34 - pdurbin: Miguel Silva: I wondered this myself. It says this...

Location
USA - MA - Cambridge

... and the word "remote" doesn't appear at all, so my guess is that non-remote is preferred. But you could ask!
Thu, Oct 27, 2022, 06:51:26 - pdurbin: I moved the geospatial search pull request to code review: https://github.com/IQSS/dataverse/pull/8239
Thu, Oct 27, 2022, 08:10:38 - Gael Forget joined the room
Thu, Oct 27, 2022, 08:36:09 - poikilotherm: TIL about https://vale.sh/ - sth for you to look at pdurbin 
Thu, Oct 27, 2022, 09:05:21 - pdurbin: poikilotherm (CEST,UTC+2): perhaps, but I'm pretty happy with vi from the command line. üòÑ
Thu, Oct 27, 2022, 09:05:43 - poikilotherm: No no no you get it all wrong
Thu, Oct 27, 2022, 09:05:50 - poikilotherm: It's a linter for prose
Thu, Oct 27, 2022, 09:06:26 - pdurbin: Oh, I see. So it does more than `:set spell` in vi.
Thu, Oct 27, 2022, 09:06:33 - poikilotherm: Yes!
Thu, Oct 27, 2022, 09:06:39 - poikilotherm: A lot more :-D
Thu, Oct 27, 2022, 09:07:03 - pdurbin: avoid using will?
Thu, Oct 27, 2022, 09:07:11 - pdurbin: Why is it called Google.Will?
Thu, Oct 27, 2022, 09:07:20 - pdurbin: This is from Google?
Thu, Oct 27, 2022, 09:07:36 - pdurbin: I will use will at will.
Thu, Oct 27, 2022, 09:08:15 - poikilotherm: Everybody can use and write rules. You can reuse rules others wrote
Thu, Oct 27, 2022, 09:08:36 - pdurbin: I'm not sure I need more rules in my life.
Thu, Oct 27, 2022, 09:09:00 - pdurbin: Might be useful if I was trying to write in Spanish.
Thu, Oct 27, 2022, 09:09:13 - poikilotherm: OK I should probably give some context
Thu, Oct 27, 2022, 09:09:33 - poikilotherm: This linter is meant to be used within workflows for "docs as code"
Thu, Oct 27, 2022, 09:09:45 - poikilotherm: So you can maintain a single style within a docs base
Thu, Oct 27, 2022, 09:10:07 - pdurbin: Ah, sure, more consistency in the guides would be nice.
Thu, Oct 27, 2022, 09:10:21 - pdurbin: It even works with .rst
Thu, Oct 27, 2022, 09:10:50 - poikilotherm: See, I knew you would find this interesting
Thu, Oct 27, 2022, 09:11:06 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: I wondered this my..."> Hummm ... right question wrong person ? ?......
Thu, Oct 27, 2022, 09:11:32 - pdurbin: poikilotherm (CEST,UTC+2): this would be handy for headings in our guides, to make them all title case: https://vale.sh/explorer/ap/
Thu, Oct 27, 2022, 09:12:05 - Miguel Silva sent an image. (Media omitted)
Thu, Oct 27, 2022, 09:12:06 - Miguel Silva: My proof-of-concept smart 12bit ADC DAQ with ability to do live experimental data measurements and do LIVE upload do a Dataverse.org is now DONE! and ready to be part of any experimental research campaign. All open source. All open hardware. If you like it. Or if you like it in a 24bit version and with  multiple ADC channels drop me a message. 
Get it on my Github . Link on my Linkedin profile.

Thu, Oct 27, 2022, 09:13:02 - pdurbin: Miguel Silva: the position reports to Stefano. Did you see https://www.iq.harvard.edu/news/directors-update-dataverse ?
Thu, Oct 27, 2022, 09:13:35 - pdurbin: Gael Forget: hi! Are you here to talk about NetCDF?! üòç
Thu, Oct 27, 2022, 09:14:14 - pdurbin: Miguel Silva: I should have time today to look at your PR to add your new C library to the guides.
Thu, Oct 27, 2022, 09:14:21 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: the position repor..."> Thanks ! Will reach Stefano 
Thu, Oct 27, 2022, 09:15:30 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: I should have time..."> Awesome! I see it could also be made available as C# library ....
Thu, Oct 27, 2022, 09:23:13 - pdurbin: Miguel Silva: really? We had someone ask about C# but maybe 5-6 years ago.
Thu, Oct 27, 2022, 09:58:57 - pdurbin: poikilotherm (CEST,UTC+2): I'd love your thoughts on this, a new login endpoint. Builtin users only right now. What about OIDC? https://github.com/GPortas/dataverse/commit/063f8da278681dc3235f57bfb253846505e1acb8#diff-2760b7b66da044df9c55fd82d3351313525ac5c0e90748e2dc9bd732f7569f2eR270-R271
Thu, Oct 27, 2022, 11:17:38 - poikilotherm: What am I looking at?
Thu, Oct 27, 2022, 11:18:16 - pdurbin: heh
Thu, Oct 27, 2022, 11:18:22 - pdurbin: A new way for builtin users to log in.
Thu, Oct 27, 2022, 11:18:31 - poikilotherm: I see
Thu, Oct 27, 2022, 11:18:33 - poikilotherm: What for?
Thu, Oct 27, 2022, 11:18:40 - poikilotherm: Api toen not enough?
Thu, Oct 27, 2022, 11:18:52 - pdurbin: I guess not.
Thu, Oct 27, 2022, 11:19:05 - pdurbin: It's for SPAs. React, etc.
Thu, Oct 27, 2022, 11:19:33 - pdurbin: How will OIDC work when we aren't using JSF?
Thu, Oct 27, 2022, 16:49:44 - pdurbin: Miguel Silva: merged! Thanks again!
Thu, Oct 27, 2022, 20:13:24 - pdurbin: Wow, JitPack seems incredibly useful. It compiles and hosts Maven artifacts based on GitHub repos: https://github.com/IQSS/dataverse-client-java/issues/11
Fri, Oct 28, 2022, 01:12:39 - poikilotherm: <@pdurbin:matrix.org "Wow, JitPack seems incredibly us..."> Yeah, I've seen some projects use it. It adds some burden to a user because you need to add the repo to the POM. And releasing to Maven Central isn't very hard to do...
Fri, Oct 28, 2022, 01:33:15 - poikilotherm: <@pdurbin:matrix.org "How will OIDC work when we aren'..."> Here's what you need to do for that... https://auth0.com/docs/manage-users/cookies/spa-authenticate-with-cookies
Fri, Oct 28, 2022, 01:43:35 - poikilotherm: That SPA y'all want is going to be an interesting choice when it comes to authentication. https://blog.samlsecurity.com/post/saml-for-react-spa/#the-problem-with-saml-in-spa-in-browser-application
Fri, Oct 28, 2022, 01:44:59 - poikilotherm: Sounds like a broker authenticator will become a standard component of the new stack
Fri, Oct 28, 2022, 01:45:25 - poikilotherm: The SPA will talk some modern standard with that and leave auth to it
Fri, Oct 28, 2022, 01:47:35 - poikilotherm: (Of course the SPA could also use something else than OIDC with the broker - like OAuth. Or maybe JWT.)
Fri, Oct 28, 2022, 05:21:33 - Miguel Silva: Hi everyone.
Fri, Oct 28, 2022, 05:22:14 - Miguel Silva: i've just updated the Github repo . Anyone of interest here's the link
https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo
Fri, Oct 28, 2022, 05:22:51 - Miguel Silva: revision 11-2022 for the Smart 12bit ADC DAQ is ready. This revision includes a 12bit reference voltage analyzer as a function of the PCB temperature.

Recap of onboard functionalities:

- reference voltage analyzer
- Motion sensor
- Temperature sensor
- Humidity sensor
- 1x  12bit channel with ADC and I2C capabilities and built-in ohmmeter (configurable by jumper pin )

In real life this smart DAQ is able to:

- all kinds of 3V to 5V Digital sensors can be connected to this smart DAQ.
- connect to all kinds of sensors compatible with the I2C protocol. (max 115 sensors simultaneously)
- measure voltage in the range of  \[0;3.3V\]
- measure electrical resistance \[0; 10^6\] Ohm
- do temperature and humidity compensation on all measurements
- has a motion sensor to know if anyone moved a specimen during an experiment
Fri, Oct 28, 2022, 06:54:45 - pdurbin: Cool.
Fri, Oct 28, 2022, 06:56:10 - pdurbin: poikilotherm (CEST,UTC+2): wow, so we need something like Keycloak? I guess that's ok. We can't drop SAML support.
Fri, Oct 28, 2022, 06:56:39 - pdurbin: @metamattj:matrix.org: hi! Are you around?
Fri, Oct 28, 2022, 07:38:34 - pdurbin: Benjamin (SODHA): sorry it took so long to come to a conclusion about https://github.com/IQSS/dataverse/issues/6733
Fri, Oct 28, 2022, 07:43:16 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): sorry it took ..."> No worries. It was no big issue in my view. I just signaled it because I thought maybe it went against the logic of Dataverse (displaying several instances/versions/states for a single dataset). Also, I think in the beginning we looked into the Deaccession feature extensively‚Ä¶ but it turns out we don't need to make use of it very often.
Fri, Oct 28, 2022, 07:43:45 - Benjamin (SODHA): Matter of fact, I think we never _needed_ to use it. We only ever tested it.
Fri, Oct 28, 2022, 07:44:17 - Benjamin (SODHA): I hope we're not splitting hairs too much by mentioning things like that at SODHA. üòÖ
Fri, Oct 28, 2022, 07:45:27 - Benjamin (SODHA): Now that I look at the Google doc you pointed to, I can see that each case scenario has been anticipated.
Fri, Oct 28, 2022, 08:17:04 - pdurbin: It's nice having design docs. Sometimes I forget what we decided back then. üòÑ
Fri, Oct 28, 2022, 08:17:23 - pdurbin: Benjamin (SODHA): but please keep the issues coming. Feedback is a gift!
Fri, Oct 28, 2022, 10:45:05 - pdurbin: poikilotherm (CEST,UTC+2): I just added those two blog posts to our doc about the new architecture. Thanks!!
Fri, Oct 28, 2022, 10:51:23 - Benjamin (SODHA): <@pdurbin:matrix.org "It's nice having design docs. So..."> Likewise... We write it down so that we can come back to it, but don't we forget it more easily because we write it down? ü§î üòµ‚Äçüí´
Fri, Oct 28, 2022, 10:55:31 - pdurbin: What helps as well is automated tests to make assertions about this or that decision you made years ago. When they start failing... uh oh! Unfortunately in this case, we don't have an API for deaccessioning so we can't test it via API. I've been somewhat surprised that no one seems to want that API but whatever. Like you said, maybe people don't use the feature all that much. üòÑ
Fri, Oct 28, 2022, 10:59:33 - juliangautier: https://github.com/IQSS/dataverse/issues/8132
Fri, Oct 28, 2022, 11:00:26 - Benjamin (SODHA): But I think IQSS has the right idea. In early days I thought it was essential to be able to wipe out records altogether. But now I'm surprised that, even as a trained archivist, I didn't take earlier to the principle "What was once published should never be entirely removed (there should at least be a tombstone page)"
Fri, Oct 28, 2022, 11:00:54 - Benjamin (SODHA): So I think, all things considered, the deaccessioning functionality works very well in Dataverse
Fri, Oct 28, 2022, 11:01:44 - pdurbin: juliangautier: thanks, I just linked #778 to it!
Fri, Oct 28, 2022, 11:02:29 - pdurbin: Benjamin (SODHA): yeah, it's an important feature. Definitely used.
Fri, Oct 28, 2022, 12:14:18 - pdurbin: I just posted this: https://dataverse.org/blog/fighting-spam-dataverse-installations
Fri, Oct 28, 2022, 12:54:29 - pdurbin sent an image. (Media omitted)
Fri, Oct 28, 2022, 14:48:48 - pdurbin: Is anyone using HDF5?
Fri, Oct 28, 2022, 14:50:38 - poikilotherm: Absolutely 
Fri, Oct 28, 2022, 14:50:50 - poikilotherm: Not me personally but it's an important file format
Fri, Oct 28, 2022, 14:51:03 - pdurbin: hdf5metadata-take2.txt (Media omitted)
Fri, Oct 28, 2022, 14:51:04 - poikilotherm: Seen it a lot around town
Fri, Oct 28, 2022, 14:51:35 - pdurbin: Check that out. ^^ From a random HDF5 file I found at https://dataverse.harvard.edu/file.xhtml?fileId=4749427&version=1.0
Fri, Oct 28, 2022, 14:52:58 - poikilotherm: Fancy
Fri, Oct 28, 2022, 14:53:03 - poikilotherm: What am I looking at
Fri, Oct 28, 2022, 14:53:15 - poikilotherm: Script by you?
Fri, Oct 28, 2022, 14:53:31 - pdurbin: https://harvard.zoom.us/j/93995792803?pwd=SGxvVGx3aHoyMW9jNDZpWFprUjBVUT09
Fri, Oct 28, 2022, 15:05:57 - pdurbin:   :history = "Converted to CF-netCDF v4 at Oak Ridge National Laboratory Distributed Active Archive Center (ORNL DAAC) on Feb. 10th, 2015";
Fri, Oct 28, 2022, 15:29:19 - pdurbin: We're going to put out a point release, 5.12.1: https://github.com/IQSS/dataverse/issues/9103
Fri, Oct 28, 2022, 15:33:07 - pdurbin: poikilotherm (CEST,UTC+2): (for next week) in the description I wrote that I don't know if OIDC users are affected or not.
Fri, Oct 28, 2022, 15:36:05 - poikilotherm: Yes oidc will be affected 
Fri, Oct 28, 2022, 15:42:18 - pdurbin: bah
Fri, Oct 28, 2022, 15:42:45 - pdurbin: poikilotherm (CEST,UTC+2): thanks, updated
Fri, Oct 28, 2022, 15:45:19 - poikilotherm: Thinking about deleting my Twitter account...
Fri, Oct 28, 2022, 15:45:43 - pdurbin: too musky?
Fri, Oct 28, 2022, 15:45:59 - pdurbin: "of or having a smell or taste of musk, or suggestive of musk."
Fri, Oct 28, 2022, 15:46:04 - poikilotherm: Aye
Fri, Oct 28, 2022, 15:46:19 - pdurbin: Let's join the Fediverse.
Fri, Oct 28, 2022, 15:46:43 - poikilotherm: Yeah maybe ü§î
Fri, Oct 28, 2022, 15:47:54 - pdurbin: Here I am: https://mastodon.social/@pdurbin
Fri, Oct 28, 2022, 15:48:04 - pdurbin: But what's my password? ü§î
Fri, Oct 28, 2022, 15:48:22 - pdurbin: I joined during a moment of weakness at LibrePlanet.
Sat, Oct 29, 2022, 05:34:37 - poikilotherm: pdurbin: some remarks on your blog post wrt to the code changes
Sat, Oct 29, 2022, 05:42:18 - poikilotherm: WRT to the manageability of permissions and the rights to publish, I posted a comment to https://github.com/IQSS/dataverse/issues/7252 a while ago about not allowing oneself to grant more rights to a subcollection than you have in the parent one. Maybe we need a fresh issue for this, as the matter at hand that Benjamin (SODHA) wished to solve was solved with that PR by qqmyers 
Sat, Oct 29, 2022, 05:44:25 - poikilotherm: WRT to email address verification: you might do a little trick if an installation is able to use mail domain groups (so slightly more closed than fully open, which is the primary target of your blog article). These already require verification. I'm wondering if we can't use this group mechanism already in place and extend it with a wildcard, matching any domain to enable this feature. Very little code change I guess (was a contribution by me and still my head might have it wrong)
Sat, Oct 29, 2022, 17:30:28 - @darklite:matrix.org left the room
Sun, Oct 30, 2022, 21:47:33 - pdurbin: Just posted: Support for NetCDF and HDF5 in Dataverse (geospatial contexts and more) - https://groups.google.com/g/dataverse-community/c/rAdXa7hVeH8/m/eEuQHOqLAQAJ
Mon, Oct 31, 2022, 09:12:39 - Brian Cassidy: Hello all. We've hit a bit of a snag upgrading payara -- I'm stuck on "EJB Timer Service is not available" error when deploying the dataverse war
```
[2022-10-31T10:01:14.890-0300] [Payara 5.2022.3] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=92 _ThreadName=admin-thread-pool::admin-listener(2)] [timeMillis: 1667221274890] [levelValue: 1000] [[
  Exception while loading the app : EJB Timer Service is not available]]
```

Mon, Oct 31, 2022, 09:13:47 - Brian Cassidy: I followed the troubleshooting for that error in the guides, but I get the same error.
Mon, Oct 31, 2022, 09:15:39 - pdurbin: Brian Cassidy: hi! It's been a while. Could it be the `lib/databases` directory? Please see https://github.com/IQSS/dataverse/releases/tag/v5.12
Mon, Oct 31, 2022, 09:18:27 - Brian Cassidy: I'll try that! sec...
Mon, Oct 31, 2022, 09:19:43 - * pdurbin crosses fingers
Mon, Oct 31, 2022, 09:21:22 - Brian Cassidy: nope. same result.
Mon, Oct 31, 2022, 09:22:07 - pdurbin: Bah. Don Sizemore or poikilotherm (CEST,UTC+2) do you have any ideas?
Mon, Oct 31, 2022, 09:23:02 - pdurbin: Brian Cassidy: What version of Payara and Dataverse are you upgrading from?
Mon, Oct 31, 2022, 09:26:06 - Brian Cassidy: dataverse 5.10.1 (was going to 5.11.1)
Mon, Oct 31, 2022, 09:26:33 - Brian Cassidy: payara: 5.2021.7
Mon, Oct 31, 2022, 09:27:29 - pdurbin: Thanks. Test server or production?
Mon, Oct 31, 2022, 09:28:19 - Brian Cassidy: production of course. (d'oh)
Mon, Oct 31, 2022, 09:29:18 - pdurbin: d'oh!
Mon, Oct 31, 2022, 09:29:26 - pdurbin: Let me rattle some cages in Slack.
Mon, Oct 31, 2022, 09:29:44 - pdurbin: Brian Cassidy: can you please get a support ticket going by emailing support@dataverse.org?
Mon, Oct 31, 2022, 09:40:50 - pdurbin: Brian Cassidy: I'm seeing a suggestion from qqmyers to check file permissions.
Mon, Oct 31, 2022, 09:43:02 - Brian Cassidy: (just in a meeting, sec)
Mon, Oct 31, 2022, 09:51:38 - Brian Cassidy: well i'll be darned.
Mon, Oct 31, 2022, 09:51:46 - Brian Cassidy: `v. 5.11.1 build 1069-02e3e92`
Mon, Oct 31, 2022, 09:52:00 - Brian Cassidy: shot myself in the foot with the sudo shotgun.
Mon, Oct 31, 2022, 09:52:17 - pdurbin: foot guns! I've heard of these
Mon, Oct 31, 2022, 09:52:55 - poikilotherm sent an image. (Media omitted)
Mon, Oct 31, 2022, 09:53:33 - Brian Cassidy: hah, no presents for me, for sure.
Mon, Oct 31, 2022, 09:53:43 - Brian Cassidy: thanks for the quick debugging, y'all.
Mon, Oct 31, 2022, 09:58:30 - pdurbin: Brian Cassidy: so glad you're back up
Mon, Oct 31, 2022, 09:58:47 - pdurbin: poikilotherm (CEST,UTC+2): watching this will be the best 15 minutes you spend this week: https://blog.crisp.se/2012/10/25/henrikkniberg/agile-product-ownership-in-a-nutshell
Mon, Oct 31, 2022, 10:03:33 - Brian Cassidy: pdurbin: üëçÔ∏è now on v.5.12 as well. üéâ
Mon, Oct 31, 2022, 10:06:33 - pdurbin: notes for the NetCDF/HDF5 meeting: https://docs.google.com/document/d/1M2zZ6mN1QngYpRzGomb5R6fk9ePwG5BPgD65leseow4/edit?usp=sharing
Mon, Oct 31, 2022, 11:14:40 - poikilotherm: Merging `develop` into `8305-payara6-ee10`. Fun! ü§™ (Not)
Mon, Oct 31, 2022, 11:16:51 - pdurbin: namespace conflicts, I'm sure
Mon, Oct 31, 2022, 11:31:24 - poikilotherm: And not just one :-/
Mon, Oct 31, 2022, 11:57:42 - pdurbin: lots and lots
Mon, Oct 31, 2022, 16:03:32 - poikilotherm: Geez its a monster of a merge commit
Mon, Oct 31, 2022, 16:03:59 - poikilotherm: pdurbin: this definitely needs some thorough testing if we ever merge this...
Mon, Oct 31, 2022, 16:05:15 - pdurbin: yeah
Mon, Oct 31, 2022, 16:05:26 - pdurbin: Thanks for taking another look.
Mon, Oct 31, 2022, 16:05:59 - poikilotherm: 1025 commits
Mon, Oct 31, 2022, 16:06:14 - poikilotherm: Maybe we should redo this whole thing as a proper rebase
Mon, Oct 31, 2022, 16:06:31 - pdurbin: I'm fine with a fresh branch with one commit. üòÑ
Mon, Oct 31, 2022, 16:06:50 - poikilotherm: I've just pushed this to Github
Mon, Oct 31, 2022, 16:21:58 - poikilotherm: Darn are we not having a PR up for this?`
Mon, Oct 31, 2022, 16:22:16 - poikilotherm: Oh no it's 19 commits beyond develop again....
Mon, Oct 31, 2022, 16:22:23 - poikilotherm: *sigh*
Mon, Oct 31, 2022, 16:22:43 - pdurbin: This is the PR to update from Payara 5 to 6: https://github.com/IQSS/dataverse/pull/8774
Mon, Oct 31, 2022, 16:27:27 - poikilotherm: Oh no why am I on a different branch
Mon, Oct 31, 2022, 16:28:12 - poikilotherm: üò≠
Mon, Oct 31, 2022, 16:28:53 - pdurbin: d'oh!
Mon, Oct 31, 2022, 16:29:41 - poikilotherm: I'm on 8305-payara6-ee10 :-(
Mon, Oct 31, 2022, 16:32:17 - poikilotherm: Haha but it makes almost no difference :-D
Mon, Oct 31, 2022, 16:32:31 - poikilotherm: 8305-payara6 is ~1043 commits beyond :-D
Mon, Oct 31, 2022, 16:32:50 - pdurbin: what a mess
Mon, Oct 31, 2022, 16:33:31 - poikilotherm: Not sure I really want to do a rebase
Mon, Oct 31, 2022, 16:33:46 - poikilotherm: You ok with history rewrite?
Mon, Oct 31, 2022, 16:33:51 - poikilotherm: Or fresh PR
Mon, Oct 31, 2022, 16:35:20 - pdurbin: A fresh PR with one commit sounds lovely.
Mon, Oct 31, 2022, 16:35:26 - pdurbin: but
Mon, Oct 31, 2022, 16:35:56 - poikilotherm: One commit is the evil daughter of all historians
Mon, Oct 31, 2022, 16:35:58 - pdurbin: we'll have this problem again (merge conflicts due to namespace) unless we commit (heh) to pushing this through, right?
Mon, Oct 31, 2022, 16:36:09 - poikilotherm: Yes yes yes
Mon, Oct 31, 2022, 16:36:17 - pdurbin: so should we get this prioritized first?
Mon, Oct 31, 2022, 16:37:32 - pdurbin: Where's Ana? I pulled an image out of an NetCDF file. It's upside down and black & white but it's something!
Mon, Oct 31, 2022, 16:37:45 - pdurbin sent an image. (Media omitted)
Mon, Oct 31, 2022, 16:53:22 - poikilotherm: <@pdurbin:matrix.org "so should we get this prioritize..."> Maybe. But I have the feeling this won't be easy
Mon, Oct 31, 2022, 16:54:28 - poikilotherm: And I really want to see if my work on prettyfaces was a succes
Mon, Oct 31, 2022, 16:55:09 - pdurbin: Can you ask Gustavo?
Mon, Oct 31, 2022, 16:56:30 - poikilotherm: I can
Mon, Oct 31, 2022, 16:56:36 - poikilotherm: dv-tech?
Mon, Oct 31, 2022, 16:56:41 - pdurbin: Please!
Mon, Oct 31, 2022, 16:57:28 - pdurbin: Bummer. "CoordinateSystem does not have a usable time axis" on another NetCDF file.
Mon, Oct 31, 2022, 17:02:57 - poikilotherm: Sent. Hope I don't sound to ü§™
Mon, Oct 31, 2022, 17:05:05 - poikilotherm: pdurbin: WDYT about having a new develop branch based on EE 10 and everybody creating a PR must point one to the 5.x branch and one to the 6.x branch?
Mon, Oct 31, 2022, 18:10:53 - pdurbin: Um, sounds like a lot of work. Double the work.
Tue, Nov 1, 2022, 07:52:17 - pdurbin: Community call in about 3 hours. thomasweiss you're still talking about LinkAhead? This: https://groups.google.com/g/dataverse-community/c/o3FqHKvGTyI/m/pZPY6zrdEAAJ
Tue, Nov 1, 2022, 07:52:55 - thomasweiss: yes!
Tue, Nov 1, 2022, 08:22:16 - pdurbin: thomasweiss: fantastic! I have you down as item 3 on the agenda: https://docs.google.com/document/d/1LphLb5zW41ZBkXFQFGheTWjE4AJRKIM4Fg2r_uMyObg/edit?usp=sharing
Tue, Nov 1, 2022, 12:06:52 - pdurbin: thomasweiss: thanks for the presentation! The recording is up: https://harvard.zoom.us/rec/share/1r-QBjMH8ZMRv0zZhUR67vFoseTfOTQDDahKm4wDfQKcQUgASBupuwsl30INqEmo.Y1Qo8adADwtOHYgS
Tue, Nov 1, 2022, 13:32:38 - pdurbin: I also added a link to "note and recordings" at https://dataverse.org/community-calls
Tue, Nov 1, 2022, 13:33:23 - pdurbin: thomasweiss: I'm not so sure about putting this on DataverseTV though. It doesn't seem quite on topic enough yet. Not until there's more of an integration, I'd say.
Tue, Nov 1, 2022, 13:37:34 - thomasweiss: üëç I trust your judgement on this. Needs to find someone that gets value from this and gets the work toward an integration done.
Tue, Nov 1, 2022, 13:38:04 - pdurbin: Right. Do you have an open GitHub issue or something? Any users that want a Dataverse integration?
Tue, Nov 1, 2022, 17:41:07 - carlsonp: two hopefully small questions: can Dataverse do federation between other Dataverse installations? And... does anyone have suggestions on tooling for sharing and collaborating on datasets for researchers during a research project while it's actively being performed? (I guess tools like Globus or others?)
Tue, Nov 1, 2022, 17:41:55 - carlsonp: oh and... still blocked on the container stuff but crossing my fingers we get that resolved so we can continue the deployment in Azure
Tue, Nov 1, 2022, 18:05:15 - poikilotherm: Blocked on container stuff, too. But Payara 5.2022.4 on the horizon, should land within the next days
Tue, Nov 1, 2022, 18:10:24 - pdurbin: carlsonp: for federation I would suggest harvesting (OAI-PMH): https://guides.dataverse.org/en/5.12/admin/dashboard.html#harvesting
Tue, Nov 1, 2022, 18:11:45 - pdurbin: carlsonp: for tools that are used earlier in the research lifecycle (active research before publishing), I'd suggest looking at this list (GitHub, RSpace, OSF, Renku, etc.): https://guides.dataverse.org/en/5.12/admin/integrations.html#getting-data-in
Tue, Nov 1, 2022, 18:13:33 - poikilotherm: carlsonp:  you might also look at datalad.org
Tue, Nov 1, 2022, 18:14:02 - poikilotherm: Friendly folks from them in this chat! 
Tue, Nov 1, 2022, 18:15:47 - poikilotherm: And there is a bell in the back of my head the cosine folks wanted to integrate Dataverse support https://git.rwth-aachen.de/coscine
Tue, Nov 1, 2022, 18:27:13 - carlsonp: thank you
Wed, Nov 2, 2022, 04:35:52 - thomasweiss: We have a potential lead that wants to connect eLabFTW + OMERO + Dataverse but there is no issue for that at this time
Wed, Nov 2, 2022, 09:11:18 - pdurbin: thomasweiss: that's cool. We talked about OMERO a long time ago here: https://github.com/IQSS/dataverse/issues/2247
Wed, Nov 2, 2022, 09:50:39 - pdurbin: poikilotherm (CEST,UTC+2): I just added the netcdf/hdf5 meeting to https://dataverse.org/dataversetv
Wed, Nov 2, 2022, 10:04:53 - pdurbin: and I just posted this follow up to the thread: https://groups.google.com/g/dataverse-community/c/rAdXa7hVeH8/m/-00L84STAwAJ
Wed, Nov 2, 2022, 10:06:14 - Johannes Darms: Forbidden
Error 403
Wed, Nov 2, 2022, 10:06:20 - Johannes Darms: at least for me
Wed, Nov 2, 2022, 10:13:16 - pdurbin: Johannes Darms: what about from https://iqss.github.io/dataverse-tv/ ?
Wed, Nov 2, 2022, 10:16:38 - Johannes Darms: that one works. On the other page I get a 403 error once I click on the newest video
Wed, Nov 2, 2022, 10:17:40 - Johannes Darms: I seems to be associated with the embedded google drive files.
Wed, Nov 2, 2022, 10:18:27 - pdurbin: Sigh. I'm using an iframe because I have to. Thanks for the heads up. I guess I need to report a bug against OpenScholar.
Wed, Nov 2, 2022, 10:18:42 - pdurbin: I'm glad the non-iframe version works at least.
Wed, Nov 2, 2022, 10:21:49 - Johannes Darms: I'm happy to help :)
Wed, Nov 2, 2022, 10:41:40 - pdurbin: For my reference, I opened a ticket at least: INC04713377 üòÑ
Wed, Nov 2, 2022, 11:31:00 - vera_c joined the room
Wed, Nov 2, 2022, 11:43:30 - poikilotherm: Hi vera_c welcome to the show! :-)
Wed, Nov 2, 2022, 11:44:29 - poikilotherm: Please keep us (this channel) posted - we are seeing more eLabFTW instances popping up on campus and there might be a use case for us (FZJ) here
Wed, Nov 2, 2022, 11:45:40 - poikilotherm: pdurbin: I'm stealing your PR description for a new PR on Payara 6 + EE 10, ok?
Wed, Nov 2, 2022, 11:45:51 - pdurbin: all yours üòÑ
Wed, Nov 2, 2022, 11:46:59 - pdurbin: Can we spin it up quick in docker-aio to see if the GUI works? If we can log into the GUI/
Wed, Nov 2, 2022, 11:53:32 - poikilotherm: Here's the new PR https://github.com/IQSS/dataverse/pull/9116
Wed, Nov 2, 2022, 11:53:57 - poikilotherm: pdurbin: can you maybe move it from "This Spring" to some other column? I don't have rights to do this
Wed, Nov 2, 2022, 11:54:04 - poikilotherm: Oh wait
Wed, Nov 2, 2022, 11:54:07 - poikilotherm: Now I have
Wed, Nov 2, 2022, 11:54:21 - poikilotherm: Just not at time of creation
Wed, Nov 2, 2022, 11:54:27 - poikilotherm: I just moved it to "Community Dev"
Wed, Nov 2, 2022, 11:54:41 - poikilotherm: If that doesn't seem right, please push push push thx
Wed, Nov 2, 2022, 11:55:38 - pdurbin: We just had a whole meeting about how all the columns and boards are changing.
Wed, Nov 2, 2022, 11:56:08 - pdurbin: poikilotherm (CEST,UTC+2): how do you feel about a new name for the branch? I'm getting `...hint: We found 3 remotes with a reference that matched. So we fell back...`
Wed, Nov 2, 2022, 11:56:26 - pdurbin: ```
  remotes/aeonSolutions/8305-payara6-ee10
  remotes/origin/8305-payara6-ee10
  remotes/shlake/8305-payara6-ee10
```
Wed, Nov 2, 2022, 11:56:45 - pdurbin: I'm actually about to delete the Community Dev column.
Wed, Nov 2, 2022, 11:56:47 - poikilotherm: It inherited from your name :-D
Wed, Nov 2, 2022, 11:57:07 - pdurbin: I'm just saying I can't check it out trivially.
Wed, Nov 2, 2022, 11:57:10 - thomasweiss: Will do!
Wed, Nov 2, 2022, 11:57:42 - poikilotherm: <@pdurbin:matrix.org "```"> Oh this problem... Well a new name won't really help. As soon as you clone another fork that contains this branch, you'll have the same problem again
Wed, Nov 2, 2022, 11:58:04 - poikilotherm: BTW this will happen anytime with any feature branch thing
Wed, Nov 2, 2022, 11:58:19 - poikilotherm: You could remove the other remotes
Wed, Nov 2, 2022, 11:58:45 - poikilotherm: Not sure if you can tell git to ignore those somehow
Wed, Nov 2, 2022, 12:00:05 - pdurbin: Ok, I removed the remotes. Next issue:

```
(venv) HMDC-beamish:dataverse pdurbin$ conf/docker-aio/prep_it.bash 
payara dependency prep
--2022-11-02 11:59:14--  https://s3.eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/6.2022.1.Alpha2/payara-6.2022.1.Alpha4.zip
Resolving s3.eu-west-1.amazonaws.com (s3.eu-west-1.amazonaws.com)... 52.218.96.50, 52.218.105.250, 52.218.40.83, ...
Connecting to s3.eu-west-1.amazonaws.com (s3.eu-west-1.amazonaws.com)|52.218.96.50|:443... connected.
HTTP request sent, awaiting response... 403 Forbidden
2022-11-02 11:59:15 ERROR 403: Forbidden.
```
Wed, Nov 2, 2022, 12:00:29 - poikilotherm: Oh no there is a typo
Wed, Nov 2, 2022, 12:00:53 - poikilotherm: Slipped through üòí
Wed, Nov 2, 2022, 12:01:13 - poikilotherm: Wait I'll check all occurrences again and push a fix
Wed, Nov 2, 2022, 12:01:37 - pdurbin: thanks!
Wed, Nov 2, 2022, 12:02:52 - poikilotherm: There you go
Wed, Nov 2, 2022, 12:03:16 - pdurbin: Thanks. I pull and am trying again.
Wed, Nov 2, 2022, 12:04:11 - poikilotherm: Sorry poor choice of word above - rephrased
Wed, Nov 2, 2022, 12:11:36 - pdurbin: building the war
Wed, Nov 2, 2022, 12:15:07 - pdurbin: ```
CREATE ROLE
CREATE DATABASE
Calling install (bash script) from setupIT.bash...
Calling testscripts/install...
cp: cannot create regular file '/opt/payara6/glassfish/domains/domain1/config/jhove.conf': No such file or directory
cp: cannot create regular file '/opt/payara6/glassfish/domains/domain1/config/jhoveConfig.xsd': No such file or directory
checking glassfish root:/opt/payara6
Glassfish root $GLASSFISH_ROOT does not exist
/opt/dv/setupIT.bash: line 12: /opt/payara6/glassfish/bin/asadmin: No such file or directory

```
Wed, Nov 2, 2022, 12:15:28 - pdurbin: poikilotherm (CEST,UTC+2): do you have time to look into that? ^^
Wed, Nov 2, 2022, 12:15:39 - poikilotherm: Hum hum hum
Wed, Nov 2, 2022, 12:15:44 - poikilotherm: What's going on
Wed, Nov 2, 2022, 12:15:53 - pdurbin: Again, I'm running `conf/docker-aio/prep_it.bash`
Wed, Nov 2, 2022, 12:16:06 - poikilotherm: Oh I see
Wed, Nov 2, 2022, 12:16:12 - poikilotherm: I can give it a try
Wed, Nov 2, 2022, 12:16:21 - pdurbin: Thanks! I'm off to lunch.
Wed, Nov 2, 2022, 12:17:04 - poikilotherm: Ah lunch... Precious lunch...
Wed, Nov 2, 2022, 12:38:23 - poikilotherm: I can build the container just fine
Wed, Nov 2, 2022, 12:38:32 - poikilotherm: Maybe you need to purge some old images
Wed, Nov 2, 2022, 12:38:37 - poikilotherm: Might be a cache problem
Wed, Nov 2, 2022, 12:40:09 - poikilotherm: `docker-aio ready to run integration tests`
Wed, Nov 2, 2022, 12:41:11 - pdurbin: poikilotherm (CEST,UTC+2): can you log into the GUI?
Wed, Nov 2, 2022, 12:42:26 - poikilotherm: Oh oh
Wed, Nov 2, 2022, 12:42:43 - poikilotherm: Looks like deployment didn't get through
Wed, Nov 2, 2022, 12:42:52 - poikilotherm: Dunno why the script ran through
Wed, Nov 2, 2022, 12:43:01 - poikilotherm: This stuff is really fragile
Wed, Nov 2, 2022, 12:43:15 - poikilotherm: (One of the reasons I want to do differently...)
Wed, Nov 2, 2022, 12:43:54 - poikilotherm: ```
[2022-11-02T16:39:48.473+0000] [Payara 6.2022.1.Alpha4] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=104 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1667407188473] [levelValue: 1000] [[
  Exception during lifecycle processing
jakarta.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 4.0.0-M3.payara-p1.v202206011138): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Predeployment of PersistenceUnit [VDCNet-ejbPU] failed.
Internal Exception: Exception [EclipseLink-7250] (Eclipse Persistence Services - 4.0.0-M3.payara-p1.v202206011138): org.eclipse.persistence.exceptions.ValidationException
Exception Description: [class edu.harvard.iq.dataverse.Dataverse] uses a non-entity [class edu.harvard.iq.dataverse.DataverseMetadataBlockFacet] as target entity in the relationship attribute [field metadataBlockFacets].
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.createPredeployFailedPersistenceException(EntityManagerSetupImpl.java:2155)
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2131)
	at org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactoryImpl(PersistenceProvider.java:347)
	at org.eclipse.persistence.jpa.PersistenceProvider.createContainerEntityManagerFactory(PersistenceProvider.java:313)
	at org.glassfish.persistence.jpa.PersistenceUnitLoader.loadPU(PersistenceUnitLoader.java:207)
	at org.glassfish.persistence.jpa.PersistenceUnitLoader.<init>(PersistenceUnitLoader.java:114)
	at org.glassfish.persistence.jpa.JPADeployer$1.visitPUD(JPADeployer.java:267)
	at org.glassfish.persistence.jpa.JPADeployer$PersistenceUnitDescriptorIterator.iteratePUDs(JPADeployer.java:571)
	at org.glassfish.persistence.jpa.JPADeployer.createEMFs(JPADeployer.java:286)
	at org.glassfish.persistence.jpa.JPADeployer.prepare(JPADeployer.java:183)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.prepareModule(ApplicationLifecycle.java:1191)
	at com.sun.enterprise.v3.server.ApplicationLifecycle.prepare(ApplicationLifecycle.java:505)
	at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:611)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:361)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)
	at java.base/java.security.AccessController.doPrivileged(Native Method)
	at java.base/javax.security.auth.Subject.doAs(Subject.java:361)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)
	at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)
	at org.glassfish.admin.rest.resources.admin.CommandResource.executeCommand(CommandResource.java:409)
	at org.glassfish.admin.rest.resources.admin.CommandResource.execCommandSimpInMultOut(CommandResource.java:236)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)
	at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)
	at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:475)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:397)
	at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)
	at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:260)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)
	at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:292)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:274)
	at org.glassfish.jersey.internal.Errors.process(Errors.java:244)
	at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)
	at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:239)
	at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)
	at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:367)
	at org.glassfish.admin.rest.adapter.JerseyContainerCommandService$3.service(JerseyContainerCommandService.java:179)
	at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:189)
	at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)
	at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)
	at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)
	at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)
	at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)
	at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)
	at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)
	at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)
	at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)
	at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)
	at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)
	at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: Exception [EclipseLink-28018] (Eclipse Persistence Services - 4.0.0-M3.payara-p1.v202206011138): org.eclipse.persistence.exceptions.EntityManagerSetupException
Exception Description: Predeployment of PersistenceUnit [VDCNet-ejbPU] failed.
Internal Exception: Exception [EclipseLink-7250] (Eclipse Persistence Services - 4.0.0-M3.payara-p1.v202206011138): org.eclipse.persistence.exceptions.ValidationException
Exception Description: [class edu.harvard.iq.dataverse.Dataverse] uses a non-entity [class edu.harvard.iq.dataverse.DataverseMetadataBlockFacet] as target entity in the relationship attribute [field metadataBlockFacets].
	at org.eclipse.persistence.exceptions.EntityManagerSetupException.predeployFailed(EntityManagerSetupException.java:233)
	... 70 more
Caused by: Exception [EclipseLink-7250] (Eclipse Persistence Services - 4.0.0-M3.payara-p1.v202206011138): org.eclipse.persistence.exceptions.ValidationException
Exception Description: [class edu.harvard.iq.dataverse.Dataverse] uses a non-entity [class edu.harvard.iq.dataverse.DataverseMetadataBlockFacet] as target entity in the relationship attribute [field metadataBlockFacets].
	at org.eclipse.persistence.exceptions.ValidationException.nonEntityTargetInRelationship(ValidationException.java:1388)
	at org.eclipse.persistence.internal.jpa.metadata.accessors.mappings.RelationshipAccessor.getReferenceDescriptor(RelationshipAccessor.java:577)
	at org.eclipse.persistence.internal.jpa.metadata.accessors.mappings.RelationshipAccessor.getOwningMapping(RelationshipAccessor.java:493)
	at org.eclipse.persistence.internal.jpa.metadata.accessors.mappings.OneToManyAccessor.processOneToManyMapping(OneToManyAccessor.java:218)
	at org.eclipse.persistence.internal.jpa.metadata.accessors.mappings.OneToManyAccessor.process(OneToManyAccessor.java:151)
	at org.eclipse.persistence.internal.jpa.metadata.MetadataProject.processNonOwningRelationshipAccessors(MetadataProject.java:1643)
	at org.eclipse.persistence.internal.jpa.metadata.MetadataProject.processStage3(MetadataProject.java:1936)
	at org.eclipse.persistence.internal.jpa.metadata.MetadataProcessor.processORMMetadata(MetadataProcessor.java:580)
	at org.eclipse.persistence.internal.jpa.deployment.PersistenceUnitProcessor.processORMetadata(PersistenceUnitProcessor.java:644)
	at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.predeploy(EntityManagerSetupImpl.java:2052)
	... 68 more
]]

```
Wed, Nov 2, 2022, 12:47:55 - poikilotherm: Oh looks like there are some leftovers of `javax.persistence`. Dunno why they did not get updated.
Wed, Nov 2, 2022, 12:48:02 - poikilotherm: Probably no merge conflict
Wed, Nov 2, 2022, 12:48:10 - poikilotherm: But should have been a build conflict
Wed, Nov 2, 2022, 12:58:41 - poikilotherm: pdurbin: üéâ
Wed, Nov 2, 2022, 13:00:13 - poikilotherm: I could create a Dataverse collection but not a dataset  - got an Exception
Wed, Nov 2, 2022, 13:00:36 - poikilotherm sent an image. (Media omitted)
Wed, Nov 2, 2022, 13:01:06 - poikilotherm: I pushed my changes
Wed, Nov 2, 2022, 13:01:16 - poikilotherm: I guess that's some neat progress!
Wed, Nov 2, 2022, 13:05:24 - poikilotherm: Alright gotta run now
Wed, Nov 2, 2022, 13:05:38 - poikilotherm: Catch ya later, will read on mobile
Wed, Nov 2, 2022, 13:48:43 - pdurbin: I see a new commit:     chore(deps): migrate new classes from develop to Jakarta EE namespace #8305

Wed, Nov 2, 2022, 13:48:47 - * pdurbin pulls
Wed, Nov 2, 2022, 13:51:47 - poikilotherm: Harhar
Wed, Nov 2, 2022, 13:52:19 - poikilotherm: Works on my machine ü´£
Wed, Nov 2, 2022, 13:53:09 - poikilotherm: BTW pdurbin: what are we gonna do with the mpconfig PRs sitting there?
Wed, Nov 2, 2022, 13:53:20 - Jitsi widget added by pdurbin
Wed, Nov 2, 2022, 13:53:31 - Jitsi widget removed by poikilotherm
Wed, Nov 2, 2022, 13:53:57 - pdurbin: Did you end my video call? üòÑ
Wed, Nov 2, 2022, 13:54:18 - poikilotherm: Oh sorry I thought it was an artifact or I did this by accident
Wed, Nov 2, 2022, 13:54:19 - pdurbin: I was going to show you a brand new board/project: https://github.com/orgs/IQSS/projects/34
Wed, Nov 2, 2022, 13:54:24 - Jitsi widget added by pdurbin
Wed, Nov 2, 2022, 14:00:34 - Jitsi widget removed by poikilotherm
Wed, Nov 2, 2022, 14:04:30 - pdurbin: <@oliver:bertuch.name "BTW pdurbin: what are we gonna d..."> In short, please talk to Gustavo to see if he wants to keep them in the "Dataverse Team (Gustavo)" column.
Wed, Nov 2, 2022, 14:05:13 - pdurbin: poikilotherm (CEST,UTC+2): I'm still getting `/opt/dv/setupIT.bash: line 12: /opt/payara6/glassfish/bin/asadmin: No such file or directory` etc. with the latest.
Wed, Nov 2, 2022, 14:05:25 - pdurbin: 2c97a9eddf chore(deps): migrate new classes from develop to Jakarta EE namespace #8305

Wed, Nov 2, 2022, 14:44:51 - pdurbin: Don Sizemore: I see you looking at this. I know you want to try `conf/docker-aio/prep_it.bash` ... üòÑ
Wed, Nov 2, 2022, 14:45:18 - Don Sizemore: I had all that working in a podman branch like two summers ago
Wed, Nov 2, 2022, 14:45:28 - pdurbin: What is this? `OCI runtime exec failed: exec failed: container_linux.go:380: starting container process caused: exec: "/opt/payara6/bin/asadmin": stat /opt/payara6/bin/asadmin: no such file or directory: unknown`
Wed, Nov 2, 2022, 14:45:30 - poikilotherm: Did you remove leftovers and dangling images?
Wed, Nov 2, 2022, 14:45:40 - pdurbin: How do I do that again?
Wed, Nov 2, 2022, 14:45:46 - pdurbin: prune?
Wed, Nov 2, 2022, 14:46:24 - pdurbin: Maybe I should reboot. I quit the docker daemon a couple weeks ago and only just tried to start it up again.
Wed, Nov 2, 2022, 15:17:18 - poikilotherm: That's some really strange error ü§î
Wed, Nov 2, 2022, 15:24:01 - poikilotherm: Sorry but shouldn't this be `/opt/payara6/glassfish/bin/asadmin`?
Wed, Nov 2, 2022, 15:36:35 - pdurbin: Hmm, probably
Wed, Nov 2, 2022, 16:34:02 - pdurbin: hmm, `/opt/glassfish4: broken symbolic link to /opt/payara6`
Wed, Nov 2, 2022, 16:36:08 - pdurbin: `/tmp/dv/deps/payara-6.2022.1.Alpha4.zip: empty`
Wed, Nov 2, 2022, 16:38:29 - pdurbin: empty file at `conf/docker-aio/dv/deps/payara-6.2022.1.Alpha4.zip` ... I'm putting a good version there
Wed, Nov 2, 2022, 16:42:37 - pdurbin: {"status":"OK","data":{"version":"5.12","build":"8305-payara6-ee10-2c97a9eddf"}} \o/
Wed, Nov 2, 2022, 16:48:27 - pdurbin sent an image. (Media omitted)
Wed, Nov 2, 2022, 16:48:38 - pdurbin: poikilotherm (CEST,UTC+2): you're right. One cannot create a dataset.
Wed, Nov 2, 2022, 16:48:48 - pdurbin: stacktrace.txt (Media omitted)
Wed, Nov 2, 2022, 16:49:00 - pdurbin: Here's the stacktrace. ^^
Wed, Nov 2, 2022, 16:51:15 - pdurbin: I did push a little (unrelated) fix: 8e570273bb fix path to asadmin #8305
Wed, Nov 2, 2022, 17:02:56 - pdurbin: poikilotherm (CEST,UTC+2): thanks for working on that branch! It's good to know what's broken! ü§™
Wed, Nov 2, 2022, 17:31:34 - poikilotherm: Do we have tests for the stuff that is using Prettyfaces? 
Wed, Nov 2, 2022, 17:31:57 - poikilotherm: It would be good to know if this stuff is actually working or not, so we can cut a release in their upstream
Wed, Nov 2, 2022, 17:32:20 - poikilotherm: I'm currently helping him to get CD pipelines in place...
Wed, Nov 2, 2022, 17:37:09 - pdurbin: We have a Private URL test that does a GET of the xhtml page. That's it.
Wed, Nov 2, 2022, 17:40:24 - pdurbin: https://github.com/IQSS/dataverse/blob/v5.12/src/test/java/edu/harvard/iq/dataverse/api/DatasetsIT.java#L1034
Wed, Nov 2, 2022, 18:21:23 - poikilotherm: Private Url is using pretty faces?
Wed, Nov 2, 2022, 18:21:34 - poikilotherm: That's news to me
Wed, Nov 2, 2022, 22:18:52 - pdurbin: Oh, you mean PrettyFaces specifically. I meant that the test above is testing JSF a bit. It's hitting an xhtml page.
Wed, Nov 2, 2022, 22:19:57 - pdurbin: To all, how does this look? Does it make sense? We have a new board and process and I'm trying to explain it the best I can: README for the Dataverse Community Backlog #68 - https://github.com/IQSS/dataverse.org/issues/68
Thu, Nov 3, 2022, 04:31:08 - Benjamin (SODHA): <@pdurbin:matrix.org "I just posted this: https://data..."> I'll definitely give it a read! We've had two cases of spam deposits since our launch two years ago. Not exactly a daunting figure, but we may assume it's going to rise steadily I think
Thu, Nov 3, 2022, 08:09:29 - pdurbin: If you allow anyone to sign up and self-publish, yes, you're a potential target, unfortunately.
Thu, Nov 3, 2022, 09:13:32 - Benjamin (SODHA): Self-publishing, we have deactivated. However, they are free to deposit rubbish, which though it may stay in Draft format admins will have to deal with
Thu, Nov 3, 2022, 09:14:41 - pdurbin: Is "they" anyone? Anyone with a gmail or yahoo email? Or do you lock it down somewhat?
Thu, Nov 3, 2022, 09:15:17 - Benjamin (SODHA): Yes, anyone... including anyone with a throwaway e-mail address (e.g. https://temp-mail.org/fr/)
Thu, Nov 3, 2022, 09:15:32 - Benjamin (SODHA): We thought about setting up a user validation / identity verification procedure
Thu, Nov 3, 2022, 09:16:15 - Benjamin (SODHA): But we gave it up for "commercial" reasons, i.e. we wanted to launch a service that was as accessible and user-friendly as possible, so that users could flock to us without having to deal with (too many) administrative forms
Thu, Nov 3, 2022, 09:16:45 - Benjamin (SODHA): We might revise this policy in the future, maybe when we achieve a critical user capacity, or if the spam becomes really problematic
Thu, Nov 3, 2022, 09:16:53 - pdurbin: So I could deposit data in your installation, in theory. üòÑ Or at least create a draft.
Thu, Nov 3, 2022, 09:17:00 - Benjamin (SODHA): Absolutely!
Thu, Nov 3, 2022, 09:17:10 - Benjamin (SODHA): Do come deposit data, Phil :3
Thu, Nov 3, 2022, 09:17:18 - pdurbin: How often to you publish something from some rando?
Thu, Nov 3, 2022, 09:18:58 - Benjamin (SODHA): Well, it rarely ever happens because we do request -- vaguely though firmly -- that users provide a good degree of information about their data (e.g. a "Description > Text" field whose contents consist of only one sentence will be rejected) and they almost all spontaneously indicate their affiliation, which 95% of the time is a Belgian university or research institution of sorts
Thu, Nov 3, 2022, 09:19:13 - Benjamin (SODHA): So "rando" doesn't really apply here
Thu, Nov 3, 2022, 09:19:32 - Benjamin (SODHA): For now SODHA is still a blip on the Belgian Web radar (never mind on a international level)
Thu, Nov 3, 2022, 09:19:49 - Benjamin (SODHA): But if we grow and get more traction, then we might have to adapt, for sure
Thu, Nov 3, 2022, 09:20:45 - pdurbin: Off and on I've thought we should allow "open" installations like to to advertise this fact on the map.
Thu, Nov 3, 2022, 09:21:41 - pdurbin: At https://dataverse.org/researchers we suggest to deposit to Harvard Dataverse. But we could list other installations like yours, if you like.
Thu, Nov 3, 2022, 09:22:33 - pdurbin: "View the map below to see if any of the institutions you are affiliated with have a Dataverse repository that you can deposit your data into." This isn't very practical right now. 89 installations to click through and read descriptions to see if they are "open" or not.
Thu, Nov 3, 2022, 09:24:01 - Benjamin (SODHA): <@pdurbin:matrix.org ""View the map below to see if an..."> But perhaps that people who view this list (and this obviously doesn't include everybody who will visit the webpage itself) are going to look up their country directly for instance?
Thu, Nov 3, 2022, 09:24:01 - Benjamin (SODHA): I'm not so worried about that. I think IQSS already does a great job at promoting other installations and encouraging collaboration among Dataverse-relying organizations
Thu, Nov 3, 2022, 09:24:47 - pdurbin: True. Researchers in Belgium would find your installation easily enough from that link, I think.
Thu, Nov 3, 2022, 09:25:04 - pdurbin: Problem solved!
Thu, Nov 3, 2022, 09:25:11 - * pdurbin puts his feet up
Thu, Nov 3, 2022, 09:25:22 - Benjamin (SODHA): Haha well done
Thu, Nov 3, 2022, 09:25:29 - Benjamin (SODHA): Enough work for today :D
Thu, Nov 3, 2022, 09:25:48 - pdurbin: Actually, there's a metadata/license call in half an hour.
Thu, Nov 3, 2022, 09:25:58 - Benjamin (SODHA): Either way, we're very happy that Dataverse allows for various shades and levels of access/restriction management
Thu, Nov 3, 2022, 09:26:15 - Benjamin (SODHA): It can be all VIP or open to anyone
Thu, Nov 3, 2022, 09:26:17 - pdurbin: Oh, wait, not that's next Thursday: https://calendar.google.com/calendar/embed?src=c_udn4tonm401kgjjre4jl4ja0cs%40group.calendar.google.com&ctz=America%2FNew_York .. sorry
Thu, Nov 3, 2022, 09:28:52 - pdurbin: Yes, hopefully it's flexible enough. I'm sure there's room for improvement.
Thu, Nov 3, 2022, 09:32:07 - Benjamin (SODHA): I couldn't say. We are happy customers :)
Thu, Nov 3, 2022, 09:32:25 - pdurbin: Oh, how's the paper coming?
Thu, Nov 3, 2022, 09:33:25 - Benjamin (SODHA): Well I finished the first version and sent it to my co-authors
Thu, Nov 3, 2022, 09:33:38 - Benjamin (SODHA): And one of them dared respond with extensive feedback and suggestions for improvement!!
Thu, Nov 3, 2022, 09:33:42 - Benjamin (SODHA): Can you imagine?
Thu, Nov 3, 2022, 09:33:55 - Benjamin (SODHA): The audacity üò§
Thu, Nov 3, 2022, 09:34:13 - Benjamin (SODHA): More seriously, he made some very good points
Thu, Nov 3, 2022, 09:34:33 - Benjamin (SODHA): But I'm waiting for the others' feedback before I'll start reworking the paper
Thu, Nov 3, 2022, 09:36:13 - pdurbin: It's as if he actually read it!
Thu, Nov 3, 2022, 09:36:20 - Benjamin (SODHA): I know, right??
Thu, Nov 3, 2022, 09:36:48 - Benjamin (SODHA): Unbelievable
Thu, Nov 3, 2022, 10:03:27 - pdurbin: thomasweiss: do you want to reply to https://groups.google.com/g/dataverse-community/c/o3FqHKvGTyI/m/pZPY6zrdEAAJ with a link to the video or should I? Thanks again for the presentation!
Thu, Nov 3, 2022, 11:42:42 - thomasweiss: done!
Thu, Nov 3, 2022, 11:43:17 - thomasweiss: https://groups.google.com/g/dataverse-community/c/o3FqHKvGTyI
Thu, Nov 3, 2022, 11:43:59 - pdurbin: thomasweiss: looks great! Thanks!
Thu, Nov 3, 2022, 12:34:32 - poikilotherm: pdurbin: I just created https://github.com/ocpsoft/rewrite/pull/357 and https://github.com/ocpsoft/rewrite/pull/358 for you üòÖ
Thu, Nov 3, 2022, 13:01:41 - poikilotherm: Heads up, [Payara 5.2022.4](https://github.com/payara/Payara/releases/tag/payara-server-5.2022.4) has been released. I already updated the container base image with it to fix the postboot script deployment problem.
Thu, Nov 3, 2022, 13:19:07 - Don Sizemore: poikilotherm (CEST,UTC+2): I can try my hand at helping with Shibboleth
Thu, Nov 3, 2022, 13:25:06 - poikilotherm: <@donsizemore:matrix.org "poikilotherm (CEST,UTC+2): I can..."> Noted! I'll keep that in mind but will try not to bother you, as I know you are currently very busy with other affairs
Thu, Nov 3, 2022, 13:25:26 - poikilotherm: And thanks for offering Don Sizemore!
Thu, Nov 3, 2022, 13:34:12 - pdurbin: poikilotherm (CEST,UTC+2): sorry, we just got out of an IQSS pizza party. üçï
Thu, Nov 3, 2022, 13:34:51 - pdurbin: Thanks for fixing my logging bug. Happy to talk Shib.
Thu, Nov 3, 2022, 13:49:57 - Don Sizemore: poikilotherm (CEST,UTC+2): I think/hope that we've nearly completed our clean-up and reconfiguration. We upgraded from 5.3 to 5.9 in the process, which should make pdurbin happy.
Thu, Nov 3, 2022, 13:50:17 - Don Sizemore: We may bring the service back online today. It's been hiding while we prepare, upgrade, and rewrite our Terms of Use and other policies.
Thu, Nov 3, 2022, 13:55:52 - pdurbin: Don Sizemore: good because you've got some NetCDF data I want.
Thu, Nov 3, 2022, 14:39:39 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): sorry..."> Where is my slice? üòã
Thu, Nov 3, 2022, 14:59:22 - pdurbin: You do deserve a slice, dealing with Payara stuff.
Thu, Nov 3, 2022, 17:02:56 - pdurbin: Nothing Shib to talk about? Oh well. Going home. See you tomorrow.
Fri, Nov 4, 2022, 06:59:39 - pdurbin: Payara tweeted about 6 final: https://twitter.com/Payara_Fish/status/1588474830495645696
Fri, Nov 4, 2022, 07:00:32 - pdurbin: "Payara Platform Community 5.2022.4 has been released today as the penultimate Payara 5 Community release..."
Fri, Nov 4, 2022, 08:29:43 - poikilotherm: Don Sizemore: you've been an early and helpful bird today! Thank you!
Fri, Nov 4, 2022, 08:35:51 - Don Sizemore: poikilotherm (CEST,UTC+2): those are common things to look for. The rest will be in shibboleth2.xml and possibly /var/log/shibboleth/transaction.log
Fri, Nov 4, 2022, 08:36:32 - Don Sizemore: but I run four Shibbolized Dataverses, two of them using multi-factor for UNC users
Fri, Nov 4, 2022, 08:36:39 - poikilotherm: I heard back from Florian Willems he is going to coordinate internally with dates and timeslots and will reach out again
Fri, Nov 4, 2022, 08:36:57 - poikilotherm: I bet sharing your experience will be most appreciated!
Fri, Nov 4, 2022, 08:37:03 - Don Sizemore: I may be compensated with KitKat bars.
Fri, Nov 4, 2022, 08:37:36 - poikilotherm: Good to know!
Fri, Nov 4, 2022, 08:37:57 - poikilotherm: Next time I come visit y'all I'll bring beer and KitKat
Fri, Nov 4, 2022, 08:38:53 - poikilotherm: pdurbin: new column on people.dataverse.org please: compensation sweets
Fri, Nov 4, 2022, 08:47:53 - pdurbin: poikilotherm (CEST,UTC+2): please open an issue: https://github.com/IQSS/dataverse-people üòÑ
Fri, Nov 4, 2022, 08:53:39 - poikilotherm: Done https://github.com/IQSS/dataverse-people/issues/1
Fri, Nov 4, 2022, 08:55:46 - pdurbin: Nice. Thanks. Next we need a pull request. üòÑ
Fri, Nov 4, 2022, 08:56:31 - pdurbin: I've also had a request for full name. Or any real name beyond, oh, say, something cryptic like "poikilotherm".
Fri, Nov 4, 2022, 08:58:00 - poikilotherm: We should probably ask someone to do an UI/UX study first. Plenty of options üòÖ
Fri, Nov 4, 2022, 09:01:41 - pdurbin: The proposal was to just grab whatever name is already public on GitHub, if any.
Fri, Nov 4, 2022, 09:03:58 - pdurbin: To all, please feel free to give feedback on the 5.12.1. release notes: https://github.com/IQSS/dataverse/pull/9127
Fri, Nov 4, 2022, 09:05:26 - poikilotherm: "Other features and bug fixes are coming along for the ride." ü§£
Fri, Nov 4, 2022, 09:06:21 - pdurbin: üö≤Ô∏è
Fri, Nov 4, 2022, 09:06:56 - pdurbin: In #dv-tech (I think) there's also some chatter about branching from 5.12.
Fri, Nov 4, 2022, 09:07:35 - pdurbin: I dunno. We had already decided to just cut the release from develop. So that's who I wrote up the release notes and bumped the version (different PR).
Fri, Nov 4, 2022, 09:09:00 - Benjamin (SODHA): <@donsizemore:matrix.org "I may be compensated with KitKat..."> Do you run multiple Shibboleth installations? You might be entitled to savory compensation!
Fri, Nov 4, 2022, 09:09:25 - Benjamin (SODHA): (or, rather, sweet, in that case)
Fri, Nov 4, 2022, 09:10:19 - poikilotherm: pdurbin: I left a maybe-out-of-scope comment. https://github.com/IQSS/dataverse/pull/9127#issuecomment-1303519683
Fri, Nov 4, 2022, 09:13:01 - pdurbin: poikilotherm (CEST,UTC+2): ah, yes, I think you added a line about Payara 6 coming last time. Do you want to go ahead and add a similar line? I can tweak the wording if necessary.
Fri, Nov 4, 2022, 09:24:11 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): ah, y..."> https://github.com/IQSS/dataverse/pull/9127/files#r1014016832
Fri, Nov 4, 2022, 09:25:44 - poikilotherm: Wait this thing is doing strange things because confused by "\`\`\`"
Fri, Nov 4, 2022, 09:26:03 - pdurbin: whoops, committed but where did it go?
Fri, Nov 4, 2022, 09:27:20 - pdurbin: Heh. " Sorry, something went wrong. "
Fri, Nov 4, 2022, 09:27:45 - poikilotherm: Sorry I had to delete this because it was not behaving well with the "```"
Fri, Nov 4, 2022, 09:28:04 - poikilotherm: Suggestions seem not be able to let you add "```" :-(
Fri, Nov 4, 2022, 09:28:15 - pdurbin: I'm fixing it. No worries.
Fri, Nov 4, 2022, 09:28:19 - poikilotherm: (It thought it's the end of the suggestion)
Fri, Nov 4, 2022, 09:28:41 - poikilotherm: ```
## Outlook
With the release of [Payara 6.2022.1](https://github.com/payara/Payara/releases/tag/payara-server-6.2022.1), the days of free-to-use [Payara 5.x Community versions are counted](https://blog.payara.fish/whats-new-in-the-november-2022-payara-platform-release). Moving Dataverse to the new platform will require substantial efforts from the IQSS team and community members, as this also means shifting Dataverse to be a [Jakarta EE 10](https://jakarta.ee/release/10/) application. We are currently shaking out the details and spread news as soon as we have them. Rest assured we will do our best to provide you with a smooth transition.

```
Fri, Nov 4, 2022, 09:29:01 - poikilotherm: ‚òùÔ∏èhere's the text again pdurbin 
Fri, Nov 4, 2022, 09:34:43 - poikilotherm: pdurbin: if you have a minute, may I ask you sth about Github coordination for container stuff?
Fri, Nov 4, 2022, 09:43:33 - pdurbin: Sure, but can you please refresh the release notes? I just pushed. Hope it looks ok.
Fri, Nov 4, 2022, 09:45:01 - poikilotherm: LGTM
Fri, Nov 4, 2022, 09:45:46 - poikilotherm: So here's a question to you, as you folks are currently looking at all the Github processes etc
Fri, Nov 4, 2022, 09:47:57 - poikilotherm: With my PR https://github.com/IQSS/dataverse/pull/8933 for adding a container base image which is unlikely to be maintained by IQSS but the community plus hopefully more modules and community care-taking coming in for the future: would you appreciate proper labeling and review assignees for any PRs coming in to these files? I had the idea it might help in clarifying who should do a review plus what to do with QA. And you could filter/hide them in boards...
Fri, Nov 4, 2022, 09:48:11 - pdurbin: Two quick thoughts:

- happy to do a video call
- we could use the people app as a POC
Fri, Nov 4, 2022, 09:48:46 - poikilotherm: OK let's do a call
Fri, Nov 4, 2022, 09:48:55 - poikilotherm: But zoom maybe because screen share
Fri, Nov 4, 2022, 09:50:01 - poikilotherm: https://zoom.us/j/98424917992?pwd=MFFBcEp1NkpZc3FQNWNBU0VZLzBxUT09
Fri, Nov 4, 2022, 10:05:06 - pdurbin: "As we are working on the first iterations we can take a look and see if docker can help us with our productivity in a development environment."
Fri, Nov 4, 2022, 10:11:24 - pdurbin: Yes, lots of docker-compose files at https://github.com/opendp/dpcreator
Fri, Nov 4, 2022, 10:18:53 - poikilotherm: https://github.com/marketplace/actions/labeler
Fri, Nov 4, 2022, 10:20:11 - poikilotherm: https://github.com/marketplace/actions/auto-assign-reviewer-by-files
Fri, Nov 4, 2022, 10:32:03 - pdurbin: 6,650 open at https://github.com/python/cpython/issues
Fri, Nov 4, 2022, 11:29:04 - pdurbin: We‚Äôd love your feedback on a new doc called ‚ÄúRestructuring the Dataverse UI as a Single-Page Application‚Äù! I just posted about it at https://groups.google.com/g/dataverse-community/c/akcFYv3fcGo/m/xk0VQiY1BAAJ but please leave feedback in the doc itself.
Fri, Nov 4, 2022, 11:34:24 - poikilotherm: @pdurbin may I request sending a few MPCONFIG related PRs to the top of your column?
Fri, Nov 4, 2022, 11:34:47 - poikilotherm: This would really help with _good_ container support
Fri, Nov 4, 2022, 11:43:12 - pdurbin: Yes, please tell me what order.
Fri, Nov 4, 2022, 11:45:51 - pdurbin: poikilotherm (CEST,UTC+2): no interest in the re-arch doc? üòÑ
Fri, Nov 4, 2022, 11:58:01 - poikilotherm: 1. https://github.com/IQSS/dataverse/pull/8824
2. https://github.com/IQSS/dataverse/pull/8915
3. https://github.com/IQSS/dataverse/pull/8825
4. https://github.com/IQSS/dataverse/pull/8826 (Need to rebase/merge that one though, should be quick)
5. https://github.com/IQSS/dataverse/pull/8827
6. https://github.com/IQSS/dataverse/pull/8830 (Also needs a quick conflict resolve once the others are done)

This is the first set of things. More to come.
Fri, Nov 4, 2022, 11:58:40 - poikilotherm: This is independent from the container base image BTW. It's just making the overhead for the application image MUCH smaller
Fri, Nov 4, 2022, 12:01:35 - pdurbin: poikilotherm (CEST,UTC+2): can you please go ahead and drag them into that order? I'm out to lunch. ü•™
Fri, Nov 4, 2022, 12:02:02 - poikilotherm: Right away Sir
Fri, Nov 4, 2022, 12:02:10 - pdurbin: Thank you!
Fri, Nov 4, 2022, 12:02:16 - poikilotherm: To top of list?
Fri, Nov 4, 2022, 12:02:38 - poikilotherm: Or under "extend metadatablcok"
Fri, Nov 4, 2022, 12:03:16 - pdurbin: under the README, please
Fri, Nov 4, 2022, 12:03:37 - pdurbin: I reserve the right to re-shuffle when you're done. üòÑ
Fri, Nov 4, 2022, 12:04:31 - Gael Forget: <@oliver:bertuch.name "Should we offer him space at GDC..."> Following up from discussion @ https://github.com/gaelforget/Dataverse.jl/issues/4

Ready to proceed with transfer if you are 

Fri, Nov 4, 2022, 12:08:34 - pdurbin: Gael Forget: great! I need to step out for an hour or so but maybe we can talk about this (and NetCDF!) when I get back? üòÑ
Fri, Nov 4, 2022, 12:12:17 - Gael Forget: <@pdurbin:matrix.org "Gael Forget: great! I need to st..."> Sounds good although I will take a break at 1pm -- should be back by 2pm.
Fri, Nov 4, 2022, 12:12:47 - pdurbin: That's fine. Let's try for 2pm. And maybe I can grab Ana.
Fri, Nov 4, 2022, 12:19:23 - Gael Forget: <@pdurbin:matrix.org "Is anyone here interested in Net..."> (reposting here from slack just in case)

I am interested too. netcdf files are pretty important in climate science.

Here is an example from us, https://dataverse.harvard.edu/dataverse/ECCO

maybe these are representative examples from me:
https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/RNXA2A/APHURG&version=1.0
https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/3HPRZI/MTRZZA&version=1.0
https://dataverse.harvard.edu/api/access/datafile/:persistentId?persistentId=doi:10.7910/DVN/EE3C40/D4S94O
but there are other flavors -- e.g. with a lot more metadata included or large files for big data applications.
NetCDF is a pretty versatile format. In some cases conventions are helpful and client software can rely on standardization. But there is a lot of diversity I would say


Couple more pointers:

- the http://cfconventions.org/ play an important role
- https://github.com/Alexander-Barth/NCDatasets.jl is the client  I use most
- https://docs.xarray.dev/en/stable/ is extremely popular with python community
(no netcdf per se) https://zarr.readthedocs.io/en/stable/

Fri, Nov 4, 2022, 12:21:07 - pdurbin: Gael Forget: ah, and this was my reply: üòÑ

@Gael Forget this is great! Thank you!

Thanks also for joining https://chat.dataverse.org because I may want to move the NetCDF discussion there because this Slack workspace only keeps 90 days of history :disappointed: (plus, our Matrix chat is way more transparent, SLOPI, if you will :smile:).

I have a question or two about the metadata I‚Äôm able to pull out from the first file you posted. I‚Äôll attach the full output. These are the two global attributes I see:

  // global attributes:
  :Conventions = "CF-1.0";
  :title = "OCCA 1x1 atlas   
One of our ideas is to extra metadata such as :title and put it as the title of the dataset. However your dataset has a title of ‚ÄúOCCA monthly ocean atlas‚Äù which is probably a much better title! :smile: Also, you have 56 NetCDF files, so :title at the file level might not make sense for title at the dataset level. :thinking_face: Any thoughts on this?

Are you aware of any standards people follow when inserting global attributes into their NetCDF files? In a file we examined yesterday we saw some fields that might map well to title, author, affiliation, contact email, related publication, provenance, etc:

  // global attributes:
  :GDAL_AREA_OR_POINT = "Area";
  :GDAL = "GDAL 1.10.0, released 2013/04/24";
  :Conventions = "CF-1.6";
  :title = "Mean Normalized Difference Vegetation Index in growing season (June, July, and August)";
  :source = "GIMMGS3g";
  :contact = "Kevin Guay";
  :institution = "Woods Hole Research Center";
  :email = "kguay@whrc.org";
  :references = "Guay, K.C., P.S.A. Beck, L.T. Berner, S.J. Goetz, A. Baccini, and W. Buermann. 2014. Vegetation productivity patterns at high northern latitudes: a multi-sensor satellite data assessment. Global Change Biology 20(10):3147ÔøΩ3158. doi:10.1111/gcb.12647";
  :history = "Converted to CF-netCDF v4 at Oak Ridge National Laboratory Distributed Active Archive Center (ORNL DAAC) on Feb. 10th, 2015";

More generally, if we were to pursue this path of pulling out metadata from NetCDF files (not just global attributes but perhaps dimensions and variables as well), what do you think would be useful to extract? And do you have ideas of how to store or display them?

Finally, are you just down the road from us at MIT? I‚Äôd be happy to chat over coffee sometime! :coffee:
Fri, Nov 4, 2022, 12:41:13 - Gael Forget: <@pdurbin:matrix.org "Gael Forget: ah, and this was my..."> > Are you aware of any standards people follow when inserting global attributes into their NetCDF files?

The most broadly adopted convention would be CF mentioned above -- did you look there?

http://cfconventions.org/Data/cf-conventions/cf-conventions-1.10/cf-conventions.html

The Argo community conventions for ocean profile data also comes to mind as a widely adopted convention, incl. for global meta data I think. See, e.g. 

http://www.argodatamgt.org/Documentation

https://www.seanoe.org/data/00344/45538/



Fri, Nov 4, 2022, 12:53:45 - poikilotherm: @pdurbin: I added all the PRs as requested, updated all of them with latest `develop` and resolved any conflicts. Should be good to go!
Fri, Nov 4, 2022, 12:55:52 - poikilotherm: I'm getting out of my office now. Will read on mobile. Have a nice weekend y'all
Fri, Nov 4, 2022, 13:53:31 - pdurbin: poikilotherm (CEST,UTC+2): thanks for all the hacking this week!
Fri, Nov 4, 2022, 13:53:47 - pdurbin: every month is Hacktoberfest for that guy
Fri, Nov 4, 2022, 13:59:28 - pdurbin: Gael Forget: if 2pm still works for you, I emailed you a Zoom link. I just started the room.
Fri, Nov 4, 2022, 14:24:38 - poikilotherm: <@pdurbin:matrix.org "every month is Hacktoberfest for..."> But no shirt for me! All the stuff wasn't done and merged on time. Should have done the prettyfaces stuff during October... nice little precious thing... üôÑ
Fri, Nov 4, 2022, 14:28:00 - pdurbin: boo, sorry
Fri, Nov 4, 2022, 14:34:05 - Gael Forget: <@pdurbin:matrix.org "Gael Forget: if 2pm still works ..."> Just came back. Should I get on now?
Fri, Nov 4, 2022, 14:34:26 - pdurbin: D'oh! I just closed the room. I'll start it again. One sec.
Fri, Nov 4, 2022, 14:35:03 - pdurbin: https://harvard.zoom.us/j/93995792803?pwd=SGxvVGx3aHoyMW9jNDZpWFprUjBVUT09
Fri, Nov 4, 2022, 14:38:34 - poikilotherm: pdurbin: you up for a chat on JvmSettings interoperability with DbSettings and vice versa, too?
Fri, Nov 4, 2022, 14:41:00 - poikilotherm: (Need to read stories to my kiddos first though)
Fri, Nov 4, 2022, 15:21:12 - poikilotherm: Looks like you folks already closed the meeting again pdurbin üòÖ
Fri, Nov 4, 2022, 15:37:37 - pdurbin: poikilotherm (CEST,UTC+2): oh. Sorry. Yeah. Hey, check it out. New repo from Gael Forget at https://github.com/gdcc/Dataverse.jl ! üéâ
Fri, Nov 4, 2022, 15:38:00 - poikilotherm: Yeah I saw! :-D
Fri, Nov 4, 2022, 15:38:03 - pdurbin: But sure, you know me,  I'm always up for a chat.
Fri, Nov 4, 2022, 15:38:09 - poikilotherm: And got a message because repo admin
Fri, Nov 4, 2022, 15:38:14 - poikilotherm: Nice nice nice
Fri, Nov 4, 2022, 15:39:09 - poikilotherm: You wanna put on your Spendierhosen again and re-open that Zoom room?
Fri, Nov 4, 2022, 15:39:50 - poikilotherm: *) https://en.wiktionary.org/wiki/Spendierhosen
Fri, Nov 4, 2022, 15:42:12 - pdurbin: generosity trousers?!? sure!
Fri, Nov 4, 2022, 15:42:32 - pdurbin: https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09
Fri, Nov 4, 2022, 17:10:09 - pdurbin: Have a good weekend, everyone!
Mon, Nov 7, 2022, 06:26:15 - pdurbin sent an image. (Media omitted)
Mon, Nov 7, 2022, 06:27:01 - pdurbin: What do you think? Cards instead of a table for https://people.dataverse.org
Mon, Nov 7, 2022, 07:18:34 - aialves: Good morning. When a dataset is inserted in a dataverse, it is shown in the choosen dataverse and in its parent dataverse. So, a dataset is shown twice. Can you please tell me, what is the problem with it?
Mon, Nov 7, 2022, 07:26:40 - Don Sizemore: what is the dataset's owner ID in the database? (should be the parent collection)
Mon, Nov 7, 2022, 07:29:51 - aialves: Sorry, how can I check dataset's owner ID in the database?
Mon, Nov 7, 2022, 07:58:00 - pdurbin: aialves: the idea is that at the "root" collection, you see all datasets. At the "astronomy" collection, you only see astronomy datasets. It's a feature. üòÑ
Mon, Nov 7, 2022, 08:00:48 - aialves: OK. Thank you. :-). 
Mon, Nov 7, 2022, 08:04:32 - pdurbin: You can also link a dataset to another collection so it appears in that collection too.
Mon, Nov 7, 2022, 08:14:58 - pdurbin: aialves: if you want to only see direct children of a collection, you can use the "contents" API. Here's an example with the "mra" collection: https://dataverse.harvard.edu/api/dataverses/mra/contents
Mon, Nov 7, 2022, 08:53:33 - pdurbin: 5.12.1 is out: https://github.com/IQSS/dataverse/releases/tag/v5.12.1
Mon, Nov 7, 2022, 09:17:53 - pdurbin: Here's where I try to summarize it. Mostly a bug fix release: https://groups.google.com/g/dataverse-community/c/nhodsiFFnwk/m/wi6Ix-8cBQAJ
Mon, Nov 7, 2022, 12:18:30 - pdurbin: Is https://mybinder.org working for anyone's Dataverse DOIs?
Mon, Nov 7, 2022, 12:22:49 - poikilotherm: Had a long chat with Johannes Darms today. Looks like he might be our next community champion sending in code PRs and getting his hands dirty with the codebase!
Mon, Nov 7, 2022, 12:23:15 - juliangautier: <@pdurbin:matrix.org "Is https://mybinder.org working ..."> It's working for mine at https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/KCOUI0 if that helps
Mon, Nov 7, 2022, 12:24:26 - pdurbin: Huh. Now it's working for me too. Gael Forget please try again! üòÑ
Mon, Nov 7, 2022, 12:24:34 - pdurbin: Thanks, juliangautier 
Mon, Nov 7, 2022, 12:25:27 - pdurbin: poikilotherm (CET,UTC+1): yes, I saw https://github.com/gdcc/dataverse-kubernetes/pull/226 from Johannes Darms 
Mon, Nov 7, 2022, 12:26:04 - poikilotherm: Yes we talked about that zombie still with us üßü 
Mon, Nov 7, 2022, 12:26:48 - poikilotherm: And how this community kinda fails on putting together community efforts when it comes to containers, Kubernetes et al
Mon, Nov 7, 2022, 12:27:36 - poikilotherm: Everybody needs to get something going but somehow we don't manage to coordinate and give it a joined attempt
Mon, Nov 7, 2022, 13:42:24 - pdurbin: poikilotherm (CET,UTC+1): well, the MPCONFIG and container images in the main repo are good steps, right?
Mon, Nov 7, 2022, 13:42:38 - poikilotherm: Sure
Mon, Nov 7, 2022, 13:42:49 - poikilotherm: But still this is mostly me fighting alone
Mon, Nov 7, 2022, 13:43:08 - poikilotherm: We could probably achieve more together
Mon, Nov 7, 2022, 13:44:10 - pdurbin: Well, like I said, Guillermo, Ellen, and I were saying Docker in dev would be nice. I think that's an angle we could pursue.
Mon, Nov 7, 2022, 13:44:23 - poikilotherm: Absolutely!
Mon, Nov 7, 2022, 13:45:31 - pdurbin: carlsonp: please remind me, did you take a look at poikilotherm (CET,UTC+1) 's base container PR?
Mon, Nov 7, 2022, 16:00:46 - pdurbin: Two tweets in only a few days: https://twitter.com/dataverseorg ... after a long break. üòÑ
Tue, Nov 8, 2022, 02:11:26 - Johannes Darms: Were is the source code and how can we contribute on this? We had a similar idea and would love to collaborate on the react part.
Tue, Nov 8, 2022, 02:12:56 - Johannes Darms: vera_c: is also involved :)
Tue, Nov 8, 2022, 02:17:29 - Johannes Darms: Is there a roadmap for a datavese in docker/compose/k8s? Since, there are so many files and projects it's a bit difficult to find the right starting point for dataverse with docker/k8s.
Tue, Nov 8, 2022, 07:03:38 - ra_min_ joined the room
Tue, Nov 8, 2022, 07:07:06 - ra_min_: Hi, after testing dataverse a bit in docker, I started with installation today. I went through the prerequisites and now arrived at the beginning of the installation page. however when I test psql I get the message: `psql: error: FATAL:  no pg_hba.conf entry for host "[local]", user "dataverse", database "dataverse", SSL off`. Tho I added the line `host all all 127.0.0.1/32 md5`to my `pg_hba.conf`
Tue, Nov 8, 2022, 07:07:38 - ra_min_: great tutorial btw. I took some notes, but everything mostly it was was very clear
Tue, Nov 8, 2022, 07:12:38 - ra_min_: that is the line that I commented out: `local   all             all  `
Tue, Nov 8, 2022, 07:14:28 - ra_min_: Ahh, ok, it does dataverse does : psql -h 127.0.0.1
Tue, Nov 8, 2022, 07:14:35 - ra_min_: that works. So I take it back
Tue, Nov 8, 2022, 07:16:09 - ra_min_: mmg password authentication fails tho (for user dataverse)
Tue, Nov 8, 2022, 07:16:58 - poikilotherm: <@johannes.darms:matrix.org "Is there a roadmap for a dataves..."> There is no officiall roadmap or anything. Currently my latest effort is the pull request to upstream, as it probably will be the best way forward to create a unified approach if we are able to have something in upstream with all docs necessary etc.
Tue, Nov 8, 2022, 07:17:40 - poikilotherm: Talking about this PR BTW https://github.com/IQSS/dataverse/pull/8933
Tue, Nov 8, 2022, 07:27:09 - pdurbin: Johannes Darms: "Guillermo from The Agile Monkeys has also developed a Proof of Concept ( https://github.com/GPortas/dataverse-react-poc ) that illustrates a React front-end connecting to a Dataverse endpoint to retrieve Dataset information."
Tue, Nov 8, 2022, 07:27:56 - pdurbin: ra_min_: hi! Are you using https://github.com/IQSS/dataverse-docker ?
Tue, Nov 8, 2022, 07:36:13 - ra_min_: No, this time I am installing the real thing. no docker
Tue, Nov 8, 2022, 07:46:24 - ra_min_: going forward with the installer and see how it goes :)
Tue, Nov 8, 2022, 08:07:40 - ra_min_: done! ü•≥, some things are a bit puzzling tho, but I have to go for lunch now. Hopefully will resolve them later/tomorrow 
Tue, Nov 8, 2022, 08:13:47 - poikilotherm: Here's a free idea for the internet / community: should we have something like a release module instead of a Makefile to create the dvinstall.zip and a Github Action Workflow to create a Github Release?
Tue, Nov 8, 2022, 08:37:27 - pdurbin: Sure. Sounds less error prone than me doing it. üòÑ
Tue, Nov 8, 2022, 08:38:35 - pdurbin: Pete was never a fan of the Makefile: https://github.com/IQSS/dataverse/issues/4528
Tue, Nov 8, 2022, 08:48:40 - poikilotherm: We could even deploy it to Maven Central üòÑ
Tue, Nov 8, 2022, 08:48:54 - pdurbin: No objections.
Tue, Nov 8, 2022, 08:49:18 - poikilotherm: AFK for a short while
Tue, Nov 8, 2022, 08:49:20 - pdurbin: Are other webapps on Maven Central? I thought it was mostly libraries.
Tue, Nov 8, 2022, 09:47:02 - poikilotherm: Re
Tue, Nov 8, 2022, 09:47:28 - poikilotherm: <@pdurbin:matrix.org "Are other webapps on Maven Centr..."> Payara is distributed via MC for example
Tue, Nov 8, 2022, 09:51:36 - pdurbin: Well, Payara is an application server, not an application. üòÑ But again, no objections to sticking Dataverse up there, especially if it's more convenient for people.
Tue, Nov 8, 2022, 09:55:18 - poikilotherm: pdurbin: I'm about to add the workflow bits to push the description to docker hub... But I can't really test it until this is merged and a push happens
Tue, Nov 8, 2022, 09:55:23 - poikilotherm: Would that be fine?
Tue, Nov 8, 2022, 09:55:45 - poikilotherm: If something would not be working, that would require pushing a change to the workflow to develop...
Tue, Nov 8, 2022, 09:56:07 - poikilotherm: Oh wait I could do a testrun from a fork
Tue, Nov 8, 2022, 09:56:32 - pdurbin: Testing from a fork sounds fine.
Tue, Nov 8, 2022, 09:57:29 - Benjamin (SODHA): üç¥
Tue, Nov 8, 2022, 10:33:09 - pdurbin: Gael Forget: thanks again for the time yesterday. I'm playing around with extracting XML from NetCDF and HDF5 files. For now I'm putting some notes about this in a doc I just created for the next meeting: https://docs.google.com/document/d/1qu6gu__0-uZdf_R4IBiFS4r2fTs0OtSAzAVbp3QGLtk/edit?usp=sharing
Tue, Nov 8, 2022, 10:36:17 - poikilotherm: pdurbin: look what just went into "ready for review"
Tue, Nov 8, 2022, 10:37:50 - poikilotherm: pdurbin: I would be very grateful if you would do a review of the wording of the docs pages and the little README to be pushed to Docker Hub. Any improvements of my <del>poor</del> non-native language skills would be most appreciated!
Tue, Nov 8, 2022, 10:38:48 - poikilotherm: Maybe Benjamin (SODHA) can help with that, too! ‚ù§Ô∏è
Tue, Nov 8, 2022, 10:39:21 - poikilotherm: I'm AFK again. Catch y'all later
Tue, Nov 8, 2022, 10:41:29 - pdurbin: poikilotherm (CET,UTC+1): nice!
Tue, Nov 8, 2022, 10:44:49 - Ana Trisovic joined the room
Tue, Nov 8, 2022, 10:45:11 - Ana Trisovic: Hi everyone! 
Tue, Nov 8, 2022, 10:46:25 - pdurbin: Ana Trisovic: nice to see you here! I just posted a link to an agenda/notes doc for our next NetCDF/HDF5 meeting. I just needed a place to jot things down. üòÑ
Tue, Nov 8, 2022, 10:48:04 - pdurbin: In short, it's easy for me to get XML out. JSON would be nice but I think it's less standardized and will take some more work.
Tue, Nov 8, 2022, 10:48:29 - Ana Trisovic set a profile picture
Tue, Nov 8, 2022, 13:19:55 - poikilotherm: pdurbin: some day all Dataverse folks will be here! üòÅ Glory be!
Tue, Nov 8, 2022, 13:26:23 - pdurbin: one of us, one of us
Tue, Nov 8, 2022, 13:37:30 - poikilotherm: <@pdurbin:matrix.org "one of us, one of us"> Sorry, I don't get the reference... ü§î
Tue, Nov 8, 2022, 13:44:34 - pdurbin: I had to Google it. I think it's from some old movie from the 20's. Anyway, "you will become one of us" is the idea. üòÑ
Tue, Nov 8, 2022, 13:45:17 - pdurbin: Ana Trisovic Gael Forget I created an "NetCDF/HDF5 ideas" doc to try to consolidate the many things we talked about. Please feel free to leave comments or add to it: https://docs.google.com/document/d/1MtANhyun_X7wE7mwCLwYRu11bfh5hSAXpXKe0fJbxsc/edit?usp=sharing
Tue, Nov 8, 2022, 14:02:31 - poikilotherm: > <@pdurbin:matrix.org> I had to Google it. I think it's from some old movie from the 20's. Anyway, "you will become one of us" is the idea. üòÑ

How about "All your base are belong to us!" üòâ
Tue, Nov 8, 2022, 14:04:56 - pdurbin: That one's a classic.
Tue, Nov 8, 2022, 14:47:03 - Ana Trisovic: The ideas look great! :D
Tue, Nov 8, 2022, 14:47:34 - Ana Trisovic: We can't get around to file-level metadata, so aux file is the way to do this
Tue, Nov 8, 2022, 16:07:02 - pdurbin: Yeah, more file-level metadata would be great and people have asked for this for years but we should probably consider it out of scope. Too much work. That said, we can bring it up at tech hours some day, so see what others think.
Tue, Nov 8, 2022, 16:56:03 - poikilotherm: Oi pdurbin you still around?
Tue, Nov 8, 2022, 17:21:36 - poikilotherm: Meh doesn't look like... Anyway: for tomorrow pdurbin I need a favor from you: can you replace a token in a repo secret?
Wed, Nov 9, 2022, 04:28:16 - Benjamin (SODHA): <@oliver:bertuch.name "Maybe Benjamin (SODHA) can help ..."> Genau! Where are the documents? :)
Wed, Nov 9, 2022, 04:28:53 - Benjamin (SODHA): <@oliver:bertuch.name "Sorry, I don't get the reference..."> You will be assimilated!
Wed, Nov 9, 2022, 04:49:21 - poikilotherm: <@benjamin_peuch:matrix.org "Genau! Where are the documents? ..."> Here are the links:

- https://github.com/IQSS/dataverse/pull/8933/files#diff-5f17f4ddba1f4dde9b5874d0373f7368f80ea49046d097f4da2f1dead9965def
- https://github.com/IQSS/dataverse/pull/8933/files#diff-7bb8fb1a664c5db8bb7ad5e8b6703b2546851317cb586ca211886b2d5670ebfe
- https://github.com/IQSS/dataverse/pull/8933/files#diff-c167733060dcbda52e41dfe22450c9878565a1e211bd675a8a32880ca237ded2

Dank je wel!
Wed, Nov 9, 2022, 04:50:05 - poikilotherm: If reading the guides page is more convenient in a rendered version: https://dataverse-guide--8933.org.readthedocs.build/en/8933/container/base-image.html
Wed, Nov 9, 2022, 04:53:01 - poikilotherm: Thank you Benjamin (SODHA) !!!
Wed, Nov 9, 2022, 06:55:20 - pdurbin: poikilotherm (CET,UTC+1): sure, happy to help with the token
Wed, Nov 9, 2022, 06:55:26 - pdurbin: (and the docs)
Wed, Nov 9, 2022, 08:38:59 - Benjamin (SODHA): <@oliver:bertuch.name "Thank you Benjamin (SODHA) !!!"> You wrote all this? It's quite extensive (and impressive)!
Wed, Nov 9, 2022, 08:39:25 - Benjamin (SODHA): I just have a few remarks here and there, mainly about formatting (English major stuff, like how to write "etc." üòõ)
Wed, Nov 9, 2022, 08:39:40 - Benjamin (SODHA): How should I send you feedback? Via GitHub?
Wed, Nov 9, 2022, 08:39:54 - Benjamin (SODHA): (also, just learned the phrase "best efforts basis")
Wed, Nov 9, 2022, 08:51:17 - poikilotherm: <@benjamin_peuch:matrix.org "How should I send you feedback? ..."> Yes please - maybe you could add a review via the Github mechanics? (Are you familiar with that?)
Wed, Nov 9, 2022, 08:51:55 - poikilotherm: Aye. And thanks for the flowers üåª
Wed, Nov 9, 2022, 08:52:52 - poikilotherm: Trying to do my best in getting everything documented so it will be useful
Wed, Nov 9, 2022, 08:57:15 - Benjamin (SODHA): <@oliver:bertuch.name "Yes please - maybe you could add..."> No but this is an opportunity to learn!
Wed, Nov 9, 2022, 08:59:47 - Benjamin (SODHA): Oh yes, the idea is to create a whole new Guide then! alongside User, Admin et al.
Wed, Nov 9, 2022, 09:01:18 - Benjamin (SODHA): Hmmm should I post comments or reviews, poikilotherm (CET,UTC+1)?
Wed, Nov 9, 2022, 09:01:36 - Benjamin (SODHA): Reviews seem more pushy. I get the feel you might be pinged for each
Wed, Nov 9, 2022, 09:02:05 - poikilotherm: No review is perfect! You can create a review with lots of queued comments and send them in one go
Wed, Nov 9, 2022, 09:02:27 - poikilotherm: And don't worry about being pushy üòù
Wed, Nov 9, 2022, 09:04:52 - poikilotherm: Benjamin (SODHA): just _one_ comment? Looks like I did not *that* bad then...
Wed, Nov 9, 2022, 09:05:08 - Benjamin (SODHA): Oh I'm just getting started! *cracks knuckles*
Wed, Nov 9, 2022, 09:05:31 - Benjamin (SODHA): It seems now that I'm in review mode it's going to wait for me to "complete the review" and then notify you about the whole batch of comments
Wed, Nov 9, 2022, 09:05:41 - poikilotherm: Yeah :-)
Wed, Nov 9, 2022, 09:05:53 - poikilotherm: Did you note the handy "suggestion" syntax?
Wed, Nov 9, 2022, 09:07:08 - poikilotherm sent an image. (Media omitted)
Wed, Nov 9, 2022, 09:07:41 - Benjamin (SODHA): Aah yes only just noticed the extra button
Wed, Nov 9, 2022, 09:09:17 - Benjamin (SODHA): Oh yes, this makes everything easier for everybody üîß
Wed, Nov 9, 2022, 09:09:36 - poikilotherm: Plus I can commit right away and you get the credit ;-)
Wed, Nov 9, 2022, 09:12:14 - Benjamin (SODHA): Precious credit! üíµ
Wed, Nov 9, 2022, 09:12:19 - Benjamin (SODHA): And there you go poikilotherm (CET,UTC+1) 
Wed, Nov 9, 2022, 09:12:34 - Benjamin (SODHA): I'm sorry I really only made formal comments. I'm not skilled enough to review the contents
Wed, Nov 9, 2022, 09:12:51 - Benjamin (SODHA): But it didn't seem to me like you wrote anything outlandish
Wed, Nov 9, 2022, 09:13:28 - Benjamin (SODHA): I think you specified the limitations of available help (and protected IQSS from undue claims of technical support) very clearly
Wed, Nov 9, 2022, 09:13:34 - poikilotherm: I do hope having the content laid out right!
Wed, Nov 9, 2022, 09:14:07 - poikilotherm: <@benjamin_peuch:matrix.org "I think you specified the limita..."> IQSS was VERY precise about that üò∏
Wed, Nov 9, 2022, 09:14:15 - Benjamin (SODHA): <@oliver:bertuch.name "IQSS was VERY precise about that..."> No wonder there :D
Wed, Nov 9, 2022, 09:14:34 - poikilotherm: <@benjamin_peuch:matrix.org "I'm sorry I really only made for..."> Anything helps!
Wed, Nov 9, 2022, 09:15:04 - poikilotherm: These sore eyes are caught up in the forest, not able to see single trees anymore üòâ
Wed, Nov 9, 2022, 09:15:27 - poikilotherm: <@benjamin_peuch:matrix.org "And there you go poikilotherm (C..."> Thank you! üëçÔ∏è
Wed, Nov 9, 2022, 09:26:10 - poikilotherm: All done except one: https://github.com/IQSS/dataverse/pull/8933#discussion_r1017995885
Wed, Nov 9, 2022, 09:56:42 - Johannes Darms: poikilotherm (CET,UTC+1): Could we add a section `how can I use the base image` to the container guide?  I don't know how to procede with the provided image. Maybe we could add an example how the image is used, e.g. for docker-compose/k8s? 
Wed, Nov 9, 2022, 09:57:27 - poikilotherm: Well there will of course be "the example" as an application image will be included in upstream, too
Wed, Nov 9, 2022, 09:58:33 - poikilotherm: Would it help to to see if there is a guide on containers about what a base image is?
Wed, Nov 9, 2022, 09:59:35 - poikilotherm: Hmm looks like these days the Docker guides are talking about "base image" when it's building from scratch...
Wed, Nov 9, 2022, 09:59:41 - poikilotherm: https://docs.docker.com/develop/develop-images/baseimages/
Wed, Nov 9, 2022, 09:59:58 - poikilotherm: This image is (in their terms) a "parent image"
Wed, Nov 9, 2022, 10:03:49 - Johannes Darms: IMHO another section `applications images` with links to usable docker based dataverse variants and maybe  bold sentence like "this image does not contain dataverse itself. If you plan to run a dockerized installation goto X.." would be fine. I mean as a lay user I will mostly not touch a base image, right? 
Wed, Nov 9, 2022, 10:05:28 - pdurbin: It seems the dust hasn't settled. Happy to take a look whenever. üòÑ
Wed, Nov 9, 2022, 10:10:35 - poikilotherm: <@johannes.darms:matrix.org "IMHO another section `applicatio..."> There is a hint about this actually. Third paragraph.

> NOTE: This image is created, maintained and supported by the Dataverse community on a best-effort basis. IQSS will not offer you support how to deploy or run it, please reach out to the community for help on using it. You might be interested in taking a look at Docker, Kubernetes, and Containers, linking you to some (community-based) efforts.

Should this be extended / emphasized / highlighted?
Wed, Nov 9, 2022, 10:11:05 - poikilotherm: Oh that thing has a link in it that didn't come through here
Wed, Nov 9, 2022, 10:11:14 - poikilotherm: pdurbin: yes please!
Wed, Nov 9, 2022, 10:11:49 - poikilotherm: Johannes Darms: if you want, you could leave a review and make suggestions just like Benjamin (SODHA) did!
Wed, Nov 9, 2022, 10:12:22 - poikilotherm: It's always easier to discuss something more concrete that would help you, from your perspective
Wed, Nov 9, 2022, 10:12:24 - Johannes Darms: sure do, just wanted to check if thats part of the scope or rather related to #8934
Wed, Nov 9, 2022, 10:13:08 - poikilotherm: It certainly would be in scope there, but of course hints or crosslinks won't cause any harm
Wed, Nov 9, 2022, 10:13:52 - poikilotherm: I could add an application image in the same PR but usually pdurbin wants me to create small steps and this is already a bit large
Wed, Nov 9, 2022, 10:14:58 - poikilotherm: It does try to hook into the different approaches I've seen in other container using projects. Most prominent would be dataverse-docker running scripts in the container after deployment done.
Wed, Nov 9, 2022, 10:15:49 - poikilotherm: Vyacheslav Tikhonov I would appreciate feedback if any of this stuff would be helpful for your approach with the inclusion of the background script entrypoint under proper init system control üòÑ
Wed, Nov 9, 2022, 10:26:40 - Johannes Darms: done!
Wed, Nov 9, 2022, 10:31:24 - poikilotherm: <@johannes.darms:matrix.org "done!"> Don't see it yet? Did you commit the review?
Wed, Nov 9, 2022, 10:33:03 - Johannes Darms: Never used that feature. Just found the button
Wed, Nov 9, 2022, 10:36:42 - Benjamin (SODHA): Thanks for the opportunity to learn more GitHub features, poikilotherm (CET,UTC+1) üëçÔ∏è üìªÔ∏è
Wed, Nov 9, 2022, 10:38:15 - Don Sizemore: poikilotherm (CET,UTC+1): I have a Payara question, if you're around?
Wed, Nov 9, 2022, 10:38:43 - poikilotherm: I can try to answer it :-)
Wed, Nov 9, 2022, 10:39:01 - poikilotherm: Thx Ana Trisovic for sending in a review, too!
Wed, Nov 9, 2022, 10:39:03 - Don Sizemore: I'm trying to find in the Payara source where it's getting its list of adjectives and nouns for ThreadNames
Wed, Nov 9, 2022, 10:39:11 - Don Sizemore: in this particular case for the Hazelcast HealthMonitor
Wed, Nov 9, 2022, 10:39:23 - pdurbin: While you good people are in doc-writing mode, would you like to help write a new "ongoing security of your installation" section for the guides? Please check out what I have so far: https://github.com/IQSS/dataverse/issues/3215#issuecomment-1308950471
Wed, Nov 9, 2022, 10:39:36 - pdurbin sent an image. (Media omitted)
Wed, Nov 9, 2022, 10:40:27 - poikilotherm: <@donsizemore:matrix.org "I'm trying to find in the Payara..."> The unpalatable truth is: I don't know! I didn't even know that Payara adds names for it!
Wed, Nov 9, 2022, 10:40:58 - poikilotherm: Did you try to search in the repo for ThreadName or similar?
Wed, Nov 9, 2022, 10:40:59 - Don Sizemore: well, on a test server, I see _ThreadName=hz.unruffled_sammet.HealthMonitor
Wed, Nov 9, 2022, 10:41:03 - Don Sizemore: yes
Wed, Nov 9, 2022, 10:41:57 - poikilotherm: Oh wait is this coming from Docker?
Wed, Nov 9, 2022, 10:42:25 - poikilotherm: Because I see similar names with this exact pattern as the container names in Docker
Wed, Nov 9, 2022, 10:43:29 - Don Sizemore: Not from Docker, it happens in traditional deployments as well. One of the nouns on another server is... evocative.
Wed, Nov 9, 2022, 10:43:53 - Don Sizemore: But yes, it's an adjective/noun pattern like Ubuntu uses to name their releases.
Wed, Nov 9, 2022, 10:44:54 - poikilotherm: Don Sizemore: did you find this? https://groups.google.com/g/hazelcast/c/_7fKc18A60c
Wed, Nov 9, 2022, 10:45:23 - Don Sizemore: poikilotherm (CET,UTC+1): THANK YOU!
Wed, Nov 9, 2022, 10:45:39 - Don Sizemore: because on a certain service instance I saw: `_ThreadName=hz.epic_cocks.HealthMonitor`
Wed, Nov 9, 2022, 10:45:51 - Don Sizemore: I'm glad I'm not the first to tread this path.
Wed, Nov 9, 2022, 10:45:56 - Benjamin (SODHA): <@pdurbin:matrix.org "While you good people are in doc..."> Great idea!
Wed, Nov 9, 2022, 10:47:13 - Benjamin (SODHA): (oh, I see you brought it up just 6 years ago already, pdurbin üòÖ)
Wed, Nov 9, 2022, 10:47:31 - poikilotherm: <@donsizemore:matrix.org "because on a certain service ins..."> Sorry this happened to you! I find it only amusing, but I understand this might be a cultural difference. Thankfully this can be configured üôàüôâüôä
Wed, Nov 9, 2022, 10:47:39 - pdurbin: Yeah, I don't think we even had an Admin Guide back then.
Wed, Nov 9, 2022, 10:48:06 - poikilotherm: <@benjamin_peuch:matrix.org "(oh, I see you brought it up jus..."> "just" ü§£
Wed, Nov 9, 2022, 10:48:14 - Don Sizemore: I'm not offended by the imagery so much as I was concerned that this might be evidence of naughtiness of another sort.
Wed, Nov 9, 2022, 10:48:14 - pdurbin: Sorry for the cross talk. I'll let you folks sort out the docker stuff. üòÑ
Wed, Nov 9, 2022, 10:56:08 - poikilotherm: Ha pdurbin please get your fingers dirty, too with this üòÖ
Wed, Nov 9, 2022, 10:58:32 - pdurbin: Soon. First...
Wed, Nov 9, 2022, 10:58:54 - pdurbin: Ana Trisovic Gael Forget please check out this new issue I just created:  Extract metadata from NetCDF and HDF5 files as XML in NcML format #9153 - https://github.com/IQSS/dataverse/issues/9153
Wed, Nov 9, 2022, 10:58:56 - poikilotherm: Don Sizemore: do you want to add a suggestion to my PR adding the system property for "hazelcast.member.naming.moby.enabled"?
Wed, Nov 9, 2022, 10:59:34 - Don Sizemore: I'm okay with roosters.
Wed, Nov 9, 2022, 11:01:44 - poikilotherm: Don Sizemore: I would certainly be interested if a system property would be enough or we need to do more advanced stuff as described within https://docs.payara.fish/community/docs/6.2022.1/Technical%20Documentation/Payara%20Server%20Documentation/Server%20Configuration%20And%20Management/Domain%20Data%20Grid%20And%20Hazelcast/Configuration.html#hazelcast-settings
Wed, Nov 9, 2022, 11:05:51 - poikilotherm: Folks I gotta go... Promised kiddo to play Satisfactory with him. Catch y'all later! Great chatting in here!
Wed, Nov 9, 2022, 12:00:55 - Don Sizemore: pdurbin: Mr. Shib, may I ask a Shib?
Wed, Nov 9, 2022, 12:43:42 - Miguel Silva: Hi everyone!
Wed, Nov 9, 2022, 12:44:12 - Miguel Silva: Is now available to download the #GERBER files for the smart DAQ PCB with a Unique Data Fingerprint and capability to do LIVE experimental data upload to a #dataverse (see dataverse.org)
PCB November revision 11-2022 includes:
- 1x 12bit analog terminal connector (shared) with an automatic ohmmeter
- 12bit voltage reference analyzer with temperature compensation

Get it on Github, link below:
https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo
Wed, Nov 9, 2022, 12:55:19 - Miguel Silva: Message deleted
Wed, Nov 9, 2022, 13:03:20 - Miguel Silva sent an image. (Media omitted)
Wed, Nov 9, 2022, 13:04:10 - Miguel Silva: **Smart PCB design with a built-in 1.69" LCD TFT IPS display**
Another version of this smart DAQ will be available next December that includes built-in a 1.69" LCD TFT IPS display with the ability to display LIVE experimental data being collected. Stay tuned for updates. 
Wed, Nov 9, 2022, 13:17:39 - pdurbin: Don Sizemore: sure, please go ahead.
Wed, Nov 9, 2022, 13:50:46 - pdurbin: Just posted https://dataverse.org/blog/dataverse-project-hiring-project-manager and https://dataversecommunity.global/blog/dataverse-project-hiring-project-manager (same post).
Wed, Nov 9, 2022, 14:20:05 - Don Sizemore: @pdurbin well, I posted https://github.com/IQSS/dataverse/issues/8882#issuecomment-1309067499
Wed, Nov 9, 2022, 14:30:56 - pdurbin: Don Sizemore: from a quick look I think this is pretty old behavior. It's been logger.info for a long time. It should probably be reduced to logger.fine.
Wed, Nov 9, 2022, 16:08:18 - pdurbin: Left a comment.
Wed, Nov 9, 2022, 16:08:28 - pdurbin: Anyway, darkness falls. I must fly!
Wed, Nov 9, 2022, 22:00:44 - pdurbin: poikilotherm (CET,UTC+1): I just left you a review for the docs at least: https://github.com/IQSS/dataverse/pull/8933#pullrequestreview-1175005942
Thu, Nov 10, 2022, 06:33:29 - pdurbin: In about 90 minutes there's a meeting about license metadata: https://groups.google.com/g/dataverse-community/c/MEsrJ73sMZM/m/wrf82GgkBQAJ
Thu, Nov 10, 2022, 09:07:28 - poikilotherm: It has been a very good meeting! Thanks again Matt Buys for joining us!
Thu, Nov 10, 2022, 09:07:45 - pdurbin: Yes! Great meeting! Thanks, all!
Thu, Nov 10, 2022, 09:17:16 - poikilotherm: pdurbin: should Dataverse have something like a builtin shields.io servlet, serving SVGs?
Thu, Nov 10, 2022, 09:17:29 - poikilotherm: (For licenses and other badges)
Thu, Nov 10, 2022, 09:20:39 - pdurbin: Yes! Philipp wants this: https://groups.google.com/g/dataverse-community/c/PkDJCYTCVPI/m/Xqk8r8HoAAAJ
Thu, Nov 10, 2022, 09:21:05 - pdurbin: And Ana Trisovic wants this: https://atrisovic.github.io/dataverse-badge/
Thu, Nov 10, 2022, 09:21:22 - poikilotherm: üòÖ
Thu, Nov 10, 2022, 09:21:44 - poikilotherm: Looks like we have some great folks around thinking alike ü§ó
Thu, Nov 10, 2022, 09:22:11 - poikilotherm: Is Philipp in town?
Thu, Nov 10, 2022, 09:58:23 - pdurbin: great minds, yes
Thu, Nov 10, 2022, 10:21:17 - pdurbin: poikilotherm (CET,UTC+1): were you going to link your codemeta draft here? I'm confused. You're meeting every Thursday?
Thu, Nov 10, 2022, 10:21:53 - poikilotherm: I added the link in the meeting notes, too
Thu, Nov 10, 2022, 10:22:04 - poikilotherm: But if you want to take another look, here you go: https://iffmd.fz-juelich.de/AbgoVBINQpqMfgGuW7Cl6Q#
Thu, Nov 10, 2022, 10:22:47 - pdurbin: Ah, you fixed the Thursday thing. Thanks.
Thu, Nov 10, 2022, 10:23:48 - poikilotherm: Of course
Thu, Nov 10, 2022, 10:24:02 - poikilotherm: I obey to anything you ask me to üòù
Thu, Nov 10, 2022, 10:24:15 - pdurbin: heh
Thu, Nov 10, 2022, 10:24:27 - pdurbin: I changed "fullstop" to "showstopper". Maybe there's a better word.
Thu, Nov 10, 2022, 10:26:55 - pdurbin: Speaking of words, Johannes Darms just taught me and qqmyers a new one: Feierabend. "Party evening". üéâ
Thu, Nov 10, 2022, 10:28:23 - poikilotherm: Yeah, Feierabend is nearly here. Getting dark quickly now, sun is setting
Thu, Nov 10, 2022, 10:28:34 - Johannes Darms: [https://yourdailygerman.com/meaning-german-feierabend/ here is an explanation ](https://www.studygermanonline.com/what-is-the-meaning-of-feierabend/)
Thu, Nov 10, 2022, 10:29:07 - poikilotherm: I'll take my kids to a St. Martins Zug at 6
Thu, Nov 10, 2022, 10:29:30 - poikilotherm: Eating "Weckmann" and having a bonefire
Thu, Nov 10, 2022, 10:31:01 - Benjamin (SODHA) sent an image. (Media omitted)
Thu, Nov 10, 2022, 10:44:59 - poikilotherm: pdurbin: thanks for the review earlier this morngin
Thu, Nov 10, 2022, 10:45:23 - poikilotherm: I do have two open suggestions from you: https://github.com/IQSS/dataverse/pull/8933/files#r1018599816 and https://github.com/IQSS/dataverse/pull/8933/files#r1018605268
Thu, Nov 10, 2022, 10:45:53 - poikilotherm: I'd be delighted if you'd add a reply ü§ó
Thu, Nov 10, 2022, 10:56:03 - pdurbin: poikilotherm (CET,UTC+1): what confuses me is why "base-image" is there under the toctree. This:

```

Container Guide
===============

**Contents:**

.. toctree::

  base-image

Running Dataverse software in containers is quite...
```
Thu, Nov 10, 2022, 10:56:56 - pdurbin: You're saying we do this everywhere? We have something like "base-image" indented under toctree? Do pages need to be added manually there? Seems like work.
Thu, Nov 10, 2022, 10:58:05 - poikilotherm sent an image. (Media omitted)
Thu, Nov 10, 2022, 10:58:30 - poikilotherm sent an image. (Media omitted)
Thu, Nov 10, 2022, 10:58:37 - poikilotherm: And so on...
Thu, Nov 10, 2022, 10:58:42 - pdurbin: Uncle! Oh, because this is a new guide.
Thu, Nov 10, 2022, 10:58:56 - pdurbin: I was thinking it's just a page.
Thu, Nov 10, 2022, 10:59:04 - pdurbin: Please ignore me. I'll go resolve the comment.
Thu, Nov 10, 2022, 10:59:27 - poikilotherm: That are the comments I like most: resolving itself üôÉ
Thu, Nov 10, 2022, 11:13:59 - pdurbin: poikilotherm (CET,UTC+1): so, master vs release.
Thu, Nov 10, 2022, 11:14:32 - pdurbin: This should be a small (?) chunk in a different issue and pull request, don't you think?
Thu, Nov 10, 2022, 11:14:58 - pdurbin: Unless you're talking about some other repo? I assume you're talking about the main repo.
Thu, Nov 10, 2022, 11:32:13 - pdurbin: Just left this comment: 

Are you suggesting that we rename the master branch to release in this pull request? If so, I think that makes this chunk much bigger. I would prefer that we keep this pull request as master and work on renaming in a future effort.
Thu, Nov 10, 2022, 11:35:50 - poikilotherm: pdurbin: this is just a simple tag for Docker Hub
Thu, Nov 10, 2022, 11:36:05 - poikilotherm: No need to rename the branch
Thu, Nov 10, 2022, 11:36:22 - poikilotherm: As you said, that's beyond scope
Thu, Nov 10, 2022, 11:36:28 - poikilotherm: Way beyond scope
Thu, Nov 10, 2022, 11:37:25 - poikilotherm: But adding this new Readme which is the source of the description on dockerhub, IMHO we should avoid using a potentially humiliating tag name
Thu, Nov 10, 2022, 11:37:44 - poikilotherm: It's easy to avoid and non disruptive
Thu, Nov 10, 2022, 11:37:48 - poikilotherm: So why not
Thu, Nov 10, 2022, 11:38:19 - pdurbin: Oh, it's just a tag.
Thu, Nov 10, 2022, 11:38:25 - poikilotherm: Aye
Thu, Nov 10, 2022, 11:38:45 - pdurbin: You like `release` better than `main`?
Thu, Nov 10, 2022, 11:38:51 - poikilotherm: Every Docker image on the Hub usually has some tag attached to it
Thu, Nov 10, 2022, 11:39:04 - poikilotherm: So it's easier to reference and use
Thu, Nov 10, 2022, 11:39:09 - pdurbin: Sure, I see `latest` a lot (I think).
Thu, Nov 10, 2022, 11:39:25 - poikilotherm: I'm be fine with main, too.
Thu, Nov 10, 2022, 11:39:51 - poikilotherm: Yet I find develop and release a better couple when it comes to semantics 
Thu, Nov 10, 2022, 11:40:21 - poikilotherm: <@pdurbin:matrix.org "Sure, I see `latest` a lot (I th..."> Yeah that was a mistake certainly... it's a really dangerous thing to use
Thu, Nov 10, 2022, 11:41:17 - poikilotherm: Better be explicit about your semantics and latest is not very precise
Thu, Nov 10, 2022, 11:41:21 - pdurbin: We use "develop" and "master" because that's what git-flow uses: https://nvie.com/posts/a-successful-git-branching-model/#the-main-branches
Thu, Nov 10, 2022, 11:41:33 - poikilotherm: Sure.!
Thu, Nov 10, 2022, 11:42:09 - poikilotherm: But with master getting out of fashion because of the implicit meanings, many switched to main
Thu, Nov 10, 2022, 11:42:19 - poikilotherm: Any new project has a main branch
Thu, Nov 10, 2022, 11:42:34 - poikilotherm: But that on its own is ambiguous, too
Thu, Nov 10, 2022, 11:42:34 - pdurbin: Right, unless you create it locally with an older version of git.
Thu, Nov 10, 2022, 11:43:40 - pdurbin: Still "master" with the version I have: git version 2.24.3 (Apple Git-128)
Thu, Nov 10, 2022, 11:43:47 - poikilotherm: What is main? Main branch of dev? Stable? Which is why I'd prefer something clear on first look
Thu, Nov 10, 2022, 11:44:20 - pdurbin: I could maybe go for "stable" and "unstable"
Thu, Nov 10, 2022, 11:44:22 - poikilotherm: I suppose the git flow article has been written way before 2020 and never updated semantics
Thu, Nov 10, 2022, 11:44:28 - poikilotherm: Sure
Thu, Nov 10, 2022, 11:44:54 - poikilotherm: Especially as you folks want develop to be able to cut a release from at all times
Thu, Nov 10, 2022, 11:45:10 - pdurbin: Right. "Release ready" if you will.
Thu, Nov 10, 2022, 11:45:21 - poikilotherm: Yes sir
Thu, Nov 10, 2022, 11:46:09 - poikilotherm: But this is not the reality and I didn't want to open the branch names debate from this PR. Just trying not to replicate bad wording with a tag name
Thu, Nov 10, 2022, 11:46:13 - pdurbin: Anyway, it would be easiest to defer all of this until later. Just call the tags "develop" and "master". Endure the embarrassment. Fix it all at once later, after some discussion.
Thu, Nov 10, 2022, 11:47:02 - poikilotherm: Is this something we should just decide or take it to community/IQSS?
Thu, Nov 10, 2022, 11:47:13 - pdurbin: The latter.
Thu, Nov 10, 2022, 11:47:20 - poikilotherm: You do have members of minorities on your team
Thu, Nov 10, 2022, 11:47:36 - poikilotherm: Maybe they should have a say in this
Thu, Nov 10, 2022, 11:47:43 - pdurbin: Sure.
Thu, Nov 10, 2022, 11:47:56 - poikilotherm: I'm happy to go either way
Thu, Nov 10, 2022, 11:48:06 - poikilotherm: But I'm a white old guy
Thu, Nov 10, 2022, 11:48:07 - pdurbin: What if neither tag corresponds to branch names? What if you call them "stable" and "unstable".
Thu, Nov 10, 2022, 11:48:09 - poikilotherm: Privileged 
Thu, Nov 10, 2022, 11:48:41 - pdurbin: Having one tag match and another tag not match is confusing.
Thu, Nov 10, 2022, 11:50:39 - poikilotherm: Need to run catch you later
Thu, Nov 10, 2022, 11:56:10 - pdurbin: ok, added a comment, thanks!
Thu, Nov 10, 2022, 12:19:19 - juliangautier: poikilotherm (CET,UTC+1): the email for soliciting feedback about the codemeta PR looks good me üëç
Thu, Nov 10, 2022, 13:37:29 - pdurbin: Just posted: https://www.fossjobs.net/job/11107/the-dataverse-project-is-hiring-a-project-manager-at-harvard-iqss/
Thu, Nov 10, 2022, 14:45:42 - poikilotherm: I'm sure you are receiving applications by the hundreds üî•
Thu, Nov 10, 2022, 14:48:03 - poikilotherm: pdurbin: looks like we are getting nearer with the docs of the PR. How do we proceed?
Thu, Nov 10, 2022, 14:48:33 - poikilotherm: I know you'll probably head out in ~10...
Thu, Nov 10, 2022, 14:49:24 - pdurbin: No, in ~70.
Thu, Nov 10, 2022, 14:50:10 - pdurbin: I do hope we get hundreds üî• ... but it's hard to hire right now. More jobs that people, I think. Good for job hunters, I guess.
Thu, Nov 10, 2022, 14:52:33 - poikilotherm: We had 2-3 applications for each of our two new community manager positions. Sounds like it's hard everywhere 
Thu, Nov 10, 2022, 14:54:34 - pdurbin: OpenDP has been trying to hire a community manager since April: https://groups.google.com/a/g.harvard.edu/g/opendp-community/c/dZ1CL2OpwD8/m/D4s03GOjAQAJ
Thu, Nov 10, 2022, 14:59:16 - pdurbin: poikilotherm (CET,UTC+1): I'm trying to finish a review of #9001 but can hopefully circle back to your docs soon.
Thu, Nov 10, 2022, 15:03:14 - poikilotherm: Then I'll try to push your requested changes before you are returning 
Thu, Nov 10, 2022, 15:03:45 - poikilotherm: Fighting with kids right now about going to sleep üôÑüò¨üòÆ‚Äçüí®üòµ‚Äçüí´üòµ
Thu, Nov 10, 2022, 15:14:02 - pdurbin: I'm leaving this comment in my review: 

I'm sure @poikilotherm would appreciate if we try putting this in JvmSettings.java. That's the new class he added so that we can use MicroProfile Config (MPCONFIG). See https://guides.dataverse.org/en/5.12.1/developers/configuration.html

Thu, Nov 10, 2022, 15:23:47 - pdurbin: Phew, done.
Thu, Nov 10, 2022, 15:44:45 - poikilotherm: Pushed!
Thu, Nov 10, 2022, 15:44:54 - poikilotherm: Sry for the delay...
Thu, Nov 10, 2022, 15:45:29 - pdurbin: No problem. ~15 min left. I'm actually looking at stuff for my trip to the NIH on Monday.
Thu, Nov 10, 2022, 15:46:40 - poikilotherm sent an image. (Media omitted)
Thu, Nov 10, 2022, 15:46:55 - poikilotherm: St Martina ü§ó
Thu, Nov 10, 2022, 15:47:05 - pdurbin: huh
Thu, Nov 10, 2022, 15:48:18 - poikilotherm sent an image. (Media omitted)
Thu, Nov 10, 2022, 15:49:22 - poikilotherm: And the bonfire safeguarded by firefighters üòÖ My kids with their lanterns, too
Thu, Nov 10, 2022, 15:50:13 - pdurbin: nice
Thu, Nov 10, 2022, 15:52:18 - poikilotherm: May I resolve https://github.com/IQSS/dataverse/pull/8933#discussion_r1019595857? Do you like https://github.com/IQSS/dataverse/pull/8933/commits/426f74623278a3d65c413378c07b347806d1b40c?
Thu, Nov 10, 2022, 15:55:08 - pdurbin: Resolved! Looks good! From a quick glance at least.
Thu, Nov 10, 2022, 15:55:58 - poikilotherm: OK how should we go on with this PR? Should we test drive some of the technical content?
Thu, Nov 10, 2022, 15:56:31 - poikilotherm: I didn't use/test this on a Mac
Thu, Nov 10, 2022, 15:56:39 - poikilotherm: (Because I don't have one)
Thu, Nov 10, 2022, 15:57:30 - poikilotherm: I might be able to lay hands on a Testing Macbook we have somewhere, but not sure this would reflect the setup of your Macs!
Thu, Nov 10, 2022, 16:07:53 - pdurbin: Good questions, but I gotta run. Tomorrow is a holiday here (Veterans Day). On Monday, I'm flying to Washington DC for a meeting with the NIH. I'll be back at my desk on Friday but I'm sure I'll check in here and there. Have a great weekend, all!
Thu, Nov 10, 2022, 16:08:23 - poikilotherm: Safe trips!
Thu, Nov 10, 2022, 16:08:30 - poikilotherm: Successful fundraising
Fri, Nov 11, 2022, 09:34:38 - pdurbin: Checking in already. I can't help myself. I'm not a strong database person and I don't understand what is being suggested as a solution to this "lowercase uniqueness constraint" issue I opened: https://github.com/jakartaee/persistence/issues/209
Fri, Nov 11, 2022, 14:40:52 - poikilotherm: pdurbin: there is an option to hook a script for dataload via persistence.xml
Fri, Nov 11, 2022, 14:42:36 - poikilotherm: pdurbin: I just sent another PR your way in the community column... we definitely need to talk how we avoid creating a pipeline congestion with them. But you enjoy your trip first üòÅ
Fri, Nov 11, 2022, 17:21:18 - pdurbin sent an image. (Media omitted)
Fri, Nov 11, 2022, 17:22:07 - pdurbin: poikilotherm (CET,UTC+1): hopefully you (and anyone who's interested, of course) can join the community call where we talk about the backlog. ^^
Fri, Nov 11, 2022, 17:29:55 - poikilotherm: Nope I need to take my daughter to Aachen at that time.
Fri, Nov 11, 2022, 17:30:04 - poikilotherm: Sorry üòû 
Fri, Nov 11, 2022, 21:09:45 - pdurbin: No worries, maybe we can have a pre-call so you can tell me if what I want to say makes sense! üòÑ
Fri, Nov 11, 2022, 21:10:26 - pdurbin: Also, on a related note, I just created this "view" of the community backlog: https://github.com/orgs/IQSS/projects/34/views/6 . If I could add a column for "created by" I would!
Mon, Nov 14, 2022, 07:44:11 - pdurbin: That said, we can add whatever custom columns we want.
Mon, Nov 14, 2022, 11:19:23 - poikilotherm: <@pdurbin:matrix.org "No worries, maybe we can have a ..."> Hi pdurbin when would be a good time for this for you this week as I know you are a Dataverse ambassador this week ü§ó
Mon, Nov 14, 2022, 11:30:05 - pdurbin: Good question. The wifi here at the airport is pretty slow. Standup was choppy.
Mon, Nov 14, 2022, 11:32:35 - poikilotherm: <@pdurbin:matrix.org "Good question. The wifi here at ..."> Oh are you going back already?
Mon, Nov 14, 2022, 11:36:16 - pdurbin: The NIH meeting is tomorrow and Wednesday.
Mon, Nov 14, 2022, 14:20:54 - poikilotherm: So you're just getting there! Safe trip!
Mon, Nov 14, 2022, 14:22:44 - pdurbin sent an image. (Media omitted)
Mon, Nov 14, 2022, 14:28:53 - pdurbin: Modeled after the one in Boston üòÑ
Tue, Nov 15, 2022, 05:42:49 - vera_c: Hi :) I have a question regarding compound fields: It is currently not possible to create nested compound fields, correct? I have tried including some in a custom metadata TSV, which seemed to upload without any error message, but in the UI the nested compound field was simply displayed as empty. I tried to work around this by flattening the field hierarchy, however in some cases that didn't work out (when two repeatable compound fields are nested, e.g. a dataset can have multiple persons associated with it, each of which can have multiple e-mail addresses...)
Tue, Nov 15, 2022, 06:15:49 - pdurbin: Correct. I believe there's an open issue for this.
Tue, Nov 15, 2022, 06:59:18 - pdurbin: vera_c: actually, there are a couple issues that seem related (#1625 and #2143) but please feel free to open a fresh one at https://github.com/IQSS/dataverse/issues
Tue, Nov 15, 2022, 07:36:52 - vera_c: Looking at #2143, I found this one linked: https://github.com/IQSS/dataverse/issues/377 If I understand correctly, this one describes exactly what I would like.
Tue, Nov 15, 2022, 07:41:14 - pdurbin: vera_c: great! If you would leave a comment with your use case, it would be helpful.
Tue, Nov 15, 2022, 07:43:58 - vera_c: <@pdurbin:matrix.org "vera_c: great! If you would leav..."> OK, will do!
Tue, Nov 15, 2022, 08:05:47 - ra_min_: hey, simple question I hope. after installation the welcome email still includes port 8080 in the verification url and it also sends port 8080 during the OAuth process. Where can I fix that? 
Tue, Nov 15, 2022, 08:09:47 - pdurbin: ra_min_: with siteUrl: https://guides.dataverse.org/en/5.12.1/installation/config.html#dataverse-siteurl
Tue, Nov 15, 2022, 08:18:10 - ra_min_: ok thanks! What is the easiest to restart payara. Last week when I tried to restart and  it crashed and ultimately I reinstalled everything all over :)!  There were some issues about the domain not shutting down properly, so when restarting it sayed the port would not be available.  
Tue, Nov 15, 2022, 08:20:33 - pdurbin: ra_min_: I'd suggest the scripts at https://guides.dataverse.org/en/5.12.1/installation/prerequisites.html#launching-payara-on-system-boot
Tue, Nov 15, 2022, 08:24:34 - ra_min_: Thanks! It stopped the server, and closed my ssh connection. login back in and starting results in : `Starting Payara-bash: ulimit: open files: cannot modify limit: Operation not permitted`
Tue, Nov 15, 2022, 08:25:05 - ra_min_: wait I will read the docs more carefully, but I thought I set the ulimit
Tue, Nov 15, 2022, 08:31:32 - pdurbin: Huh. That's a new one on me. Maybe someone else here knows.
Tue, Nov 15, 2022, 08:33:06 - ra_min_: does the script need to executed as root?
Tue, Nov 15, 2022, 08:33:28 - ra_min_: because: `ulimit: open files: cannot modify limit: Operation not permitted`
Tue, Nov 15, 2022, 08:33:32 - ra_min_: sorry
Tue, Nov 15, 2022, 08:33:43 - ra_min_: `Starting Payara-bash: /proc/sys/vm/overcommit_memory: Permission denied`
Tue, Nov 15, 2022, 08:34:45 - pdurbin: In the old days, you'd run "service payara start" but these scripts are fancy and new. Yes as root, I'm pretty sure.
Tue, Nov 15, 2022, 09:43:22 - ra_min_: pdurbin: ok fantastic, all set! OAuth with is working (with orcid). Small detail: the button says "ORCID Sandbox", not sure where that comes from. Furthermore, after turning signups off and orcid as default provider it still sits next to email in other options. https://ridagop.net/loginpage.xhtml?redirectPage=%2Fdataverse.xhtml
Tue, Nov 15, 2022, 12:12:36 - pdurbin: ra_min_: I assume it came from here: https://guides.dataverse.org/en/5.12.1/installation/oauth2.html#orcid-sandbox
Tue, Nov 15, 2022, 12:12:56 - pdurbin: You might want orcid-public.json instead.
Tue, Nov 15, 2022, 12:39:53 - pdurbin sent an image. (Media omitted)
Tue, Nov 15, 2022, 12:40:45 - pdurbin: I was just pointed to https://quest-dashboard.charite.de/#tabFAIR . It says Harvard Dataverse is 70.8% FAIR. Could be worse, I guess (GitHub or OSF).
Tue, Nov 15, 2022, 14:14:58 - poikilotherm: Hey pdurbin you up for chatting in a few?
Tue, Nov 15, 2022, 14:38:28 - pdurbin: Can't. In a room at the NIH with 30 people.
Wed, Nov 16, 2022, 03:35:45 - ra_min_: <@pdurbin:matrix.org "You might want orcid-public.json..."> mmh no, I used the orcid-public.json and the button, despite the text, also starts the oauth flow for the public api
Wed, Nov 16, 2022, 06:05:34 - aialves: A dataverse generates correctly a doi for each dataset but when I try to access the doi link it gets an error. The URL must be 'http://dados.ipb.pt:8080/dataset.xhtml?persistentId=doi:10.34620/dadosipb/QXHM0N' but it is 'https://dados.ipb.pt:433/citation?persistentId=doi:10.34620/dadosipb/QXHM0N'. Can you please tell me, is this related with some dataverse property? Thanks in advance.
Wed, Nov 16, 2022, 06:24:35 - pdurbin: aialves:  probably siteUrl: https://guides.dataverse.org/en/5.12.1/installation/config.html#dataverse-siteurl
Wed, Nov 16, 2022, 06:38:37 - pdurbin: ra_min_: sounds like a bug, then. Please feel free to open an issue.
Wed, Nov 16, 2022, 08:03:06 - pdurbin: To all: the deadline to leave comments in the new "restructuring Dataverse" doc is approaching in a few days. Please get your comments in soon! Thanks! https://groups.google.com/g/dataverse-community/c/RfKADU3mZJE/m/7My9jKTvAAAJ
Wed, Nov 16, 2022, 08:07:49 - poikilotherm: pdurbin: you up for some chatting about "The PR Process"?
Wed, Nov 16, 2022, 08:10:00 - pdurbin: Hmm. My Uber is on its way. Then meetings. We end at 3:30.
Wed, Nov 16, 2022, 08:10:40 - poikilotherm: OK! Have fun!
Wed, Nov 16, 2022, 08:10:56 - poikilotherm: Go find that money ü§£
Wed, Nov 16, 2022, 08:11:05 - pdurbin: Heh
Wed, Nov 16, 2022, 08:11:33 - pdurbin: Had a great chat with the Zenodo guy yesterday. Lars. Fun to geek out.
Wed, Nov 16, 2022, 08:24:16 - poikilotherm: Yeah Mr Zenodo is great. Never had a chance to meet him though
Wed, Nov 16, 2022, 08:27:32 - pdurbin: Very nice. Down to earth.
Wed, Nov 16, 2022, 08:35:51 - pdurbin: poikilotherm (CET,UTC+1): well, I'm settled in at least. I can't talk but I can type. Ask Me Anything about the PR process!
Wed, Nov 16, 2022, 08:36:06 - pdurbin: Or we can do a call later. Up to you.
Wed, Nov 16, 2022, 08:36:39 - pdurbin: For one thing, the PR process is highly theoretical right now. Or rather, we have ideas of how it might go but it's all very new.
Wed, Nov 16, 2022, 08:36:54 - poikilotherm: I'll be on the road later but probably at my desk ~2100 CET
Wed, Nov 16, 2022, 08:39:00 - poikilotherm: My question is simple: I do have ~8 PRs sitting with MPCONFIG stuff right now, ready for merging. How do we get them through the pipeline before 2025? Plus: what about the CodeMeta PR in ~1 week when everybody had a chance to speak up?
Wed, Nov 16, 2022, 08:39:45 - poikilotherm: I understand the non Metadata stuff is no prio for y'all...
Wed, Nov 16, 2022, 08:47:32 - pdurbin: Excellent questions. And you're not the only one with open PRs, of course. I'm wondering, should we bring Mike into this conversation? He created the new board.
Wed, Nov 16, 2022, 11:18:13 - poikilotherm: Sounds like an exzellent idea!
Wed, Nov 16, 2022, 11:18:36 - poikilotherm: Yeah, I see lots of PRs
Wed, Nov 16, 2022, 11:20:27 - poikilotherm: Obviously PRs adding features might see prioritization. But it would be nice to see PRs merged that pay some technical debt ü´£
Wed, Nov 16, 2022, 11:23:22 - pdurbin: I'm also inclined to encourage first time contributors by giving their PRs attention. I'm thinking of ` Extend 'metadatablocks/{block_id}' endpoint JSON output #9091 ` for example.
Wed, Nov 16, 2022, 18:14:13 - pdurbin: poikilotherm (CET,UTC+1): I'm finally free but it's after midnight for you!
Wed, Nov 16, 2022, 18:14:55 - poikilotherm: I just dropped some docs here: https://github.com/GlobalDataverseCommunityConsortium/dataverse/pull/31/commits/7b5ef16cb66fbc752e10a848c3fdec89e13a234d
Wed, Nov 16, 2022, 18:16:34 - pdurbin: Nice! ‚ô•Ô∏èdocs‚ô•Ô∏è
Wed, Nov 16, 2022, 18:22:42 - poikilotherm: One day folks will use JvmSettings from the start
Wed, Nov 16, 2022, 18:22:52 - pdurbin: One day 
Wed, Nov 16, 2022, 18:23:21 - pdurbin: Eating ribs. Very messy. Typing with my pinky.
Wed, Nov 16, 2022, 18:23:33 - poikilotherm: üòÑ
Wed, Nov 16, 2022, 18:23:49 - poikilotherm: Strange definition of "freedom" üòâ
Wed, Nov 16, 2022, 18:23:50 - pdurbin sent an image. (Media omitted)
Wed, Nov 16, 2022, 18:24:34 - poikilotherm: Doesn't look like you're home yet
Wed, Nov 16, 2022, 18:25:45 - pdurbin: Nope. Just had a couple pints with Matt Buys
Wed, Nov 16, 2022, 18:28:57 - poikilotherm: Gosh that editor replaced tabs with spaces in config.rst... üò°
Wed, Nov 16, 2022, 18:29:18 - poikilotherm: One day WE WILL NOT HAVE TABS ANYMORE üò§
Wed, Nov 16, 2022, 18:29:42 - poikilotherm: Or at least use either tabs everywhere or spaces everywhere
Wed, Nov 16, 2022, 18:29:54 - poikilotherm: That sounds great! üçª
Wed, Nov 16, 2022, 18:30:08 - pdurbin: Except in our Go code. Tabs only.
Wed, Nov 16, 2022, 18:30:48 - poikilotherm: Looks like I will need to fix this be force pushing
Wed, Nov 16, 2022, 18:30:50 - poikilotherm: GNARF
Wed, Nov 16, 2022, 18:32:11 - pdurbin: And juliangautier and John from Dryad. Good times.
Wed, Nov 16, 2022, 18:36:05 - pdurbin: poikilotherm (CET,UTC+1): since you're still awake... do you want to do a call?
Wed, Nov 16, 2022, 18:36:37 - poikilotherm: I heard from Stephan (Druskat) that there is a new Sheriff in town
Wed, Nov 16, 2022, 18:37:58 - poikilotherm: At that workshop in California it seemed to be everybodies most wanted thing is "do separate deposits for data and software". And "do software on Zenodo, do data at Dryad"
Wed, Nov 16, 2022, 18:38:28 - pdurbin: Yeah 
Wed, Nov 16, 2022, 18:38:46 - poikilotherm: I'd love to, but it's really quite here. My wife might have serious concerns about me talking English while she tries to sleep...
Wed, Nov 16, 2022, 18:39:16 - pdurbin: Heh. One day.
Wed, Nov 16, 2022, 18:39:57 - pdurbin: I better go walk around the block at least after all those ribs.
Wed, Nov 16, 2022, 18:40:09 - poikilotherm: We could try but you must remember me to keep my voice down :-D
Wed, Nov 16, 2022, 18:40:46 - pdurbin: Sure. Gimme 5 minutes to get back to my room.
Wed, Nov 16, 2022, 18:40:57 - poikilotherm: Walk that walk Sir
Wed, Nov 16, 2022, 18:41:09 - poikilotherm: I'll stay around
Wed, Nov 16, 2022, 18:49:01 - pdurbin: https://harvard.zoom.us/j/94889991080?pwd=blJ5aUh1eWhzelhFM2Y2V3ZDdEVxUT09
Wed, Nov 16, 2022, 18:49:22 - pdurbin: poikilotherm (CET,UTC+1) (and anyone else who wants to talk about PRs or whatever else) ^^
Wed, Nov 16, 2022, 20:46:58 - poikilotherm: That was valuable discussion! Thank you pdurbin 
Wed, Nov 16, 2022, 20:47:15 - pdurbin: A long valuable discussion. Yes! Now get some sleep!
Thu, Nov 17, 2022, 02:18:04 - aialves sent an image. (Media omitted)
Thu, Nov 17, 2022, 02:25:30 - aialves: Why does [https://](https://doi.org/10.33620/dadosipb/QXHMON) redirect to 'https://dados.ipb.pt:433/citation?persistentId=doi:10.34620/dadosipb/QXHM0N' - this link does not work? I want doi url to redirect to 'http://dados.ipb.pt:8080/dataset.xhtml?persistentId=doi:10.34620/dadosipb/QXHM0N' - this link works. Hw can I change the doi url redirection? Thanks in advance.
Thu, Nov 17, 2022, 03:08:27 - Rolf joined the room
Thu, Nov 17, 2022, 06:42:07 - aialves: In our dataverse doi url, for example https://doi.org/10.34620/dadosipb/QXHM0N, redirects to 'https://dados.ipb.pt:433/citation?persistentId=doi:10.34620/dadosipb/QXHM0N' - this link does not work. We want doi url to redirect to 'http://dados.ipb.pt:8080/dataset.xhtml?persistentId=doi:10.34620/dadosipb/QXHM0N' - this link works. How can I change the doi url redirection? Thanks in advance.
Thu, Nov 17, 2022, 07:00:39 - pdurbin: aialves: does "siteUrl" have the value you want? https://guides.dataverse.org/en/5.12.1/installation/config.html#dataverse-siteurl

(It should be "https" and not have a port, ideally.)

Once that's all set, you should be able to resend the metadata for each dataset to DataCite (to fix the doi.org link): https://guides.dataverse.org/en/5.12.1/admin/dataverses-datasets.html#send-dataset-metadata-to-pid-provider


Thu, Nov 17, 2022, 07:16:00 - Don Sizemore: @pdurbin Dataverse-Ansible wedges in a siteUrl adjustment in the installer; IIRC it still hard-codes FQDN:8080
Thu, Nov 17, 2022, 07:18:35 - pdurbin: Hmm. 8080 is coming from the installer? Great that Ansible removes the port and makes it https, if I understand you. Also, good morning!
Thu, Nov 17, 2022, 07:31:03 - vera_c: Sorry to butt into another conversation, but I have another question regarding compound fields üòÑ I have tested the following three scenarios (load custom TSV, upload dataset via POST API, export dataset):
1. compound field nested within compound field,
2. like 1. but outer field has allowmultiple==TRUE,
3. like 1. but both fields have allowmultiple==TRUE.

Although the UI cannot display the nested fields, in scenarios 1 and 3 the export actually matched the initial upload, so it seems like the internal data model is actually capable of supporting nested compound fields. However, in scenario 2 I got an error message at export (`Exception thrown from bean: org.apache.solr.client.solrj.impl.HttpSolrClient$RemoteSolrException: Error from server at http://solr:8983/solr/collection1: ERROR: [doc=dataset_9_draft] multiple values encountered for non multiValued field`). Does this make sense to anybody familiar with the source code or did I make a mistake perhaps?
Thu, Nov 17, 2022, 07:34:50 - pdurbin: Hmm, you could try editing schema.xml in Solr. Make it multiple. I hope this is a custom metadata block and not the citation one. üòÑ
Thu, Nov 17, 2022, 07:36:58 - vera_c: Yes, it's not the citation one üòÑ Hmm, the field it is reporting the error for actually shouldn't be multi-valued (it's a "primitive" child of the inner compound field), but I will have a look at the solr schema
Thu, Nov 17, 2022, 07:44:49 - vera_c: OK, edited the schema.xml and now scenario 2 works as well. Interesting
Thu, Nov 17, 2022, 07:47:32 - pdurbin: Very interesting. We should offer you a job!
Thu, Nov 17, 2022, 07:56:30 - pdurbin: Can you share your tsv? And the JSON to create a dataset?
Thu, Nov 17, 2022, 08:03:22 - vera_c: nested_compound_test.tar.xz (Media omitted)
Thu, Nov 17, 2022, 08:10:02 - pdurbin: so you're playing with "person" fields, including identifiers (like ORCIDs)
Thu, Nov 17, 2022, 08:10:40 - pdurbin: Ah, you want multiple identifiers? Is that it? ORCID plus something else?
Thu, Nov 17, 2022, 08:11:58 - vera_c: Yes, that's what I used as my test example. Scenario 2 is multiple people with a single identifier each, and scenario 3 is multiple people with multiple identifiers each
Thu, Nov 17, 2022, 08:12:44 - pdurbin: Cool. Did you ever create a GitHub issue about this? You could upload these tsv and json files to it.
Thu, Nov 17, 2022, 08:13:19 - vera_c: No, still on my to-do list :) OK, will attach them when I do
Thu, Nov 17, 2022, 08:13:42 - pdurbin: Awesome. Thanks.
Thu, Nov 17, 2022, 09:38:33 - carlsonp: just wanted to pop in, I'll likely be busy the next 2-3 weeks moving across the country, still waiting on paperwork to approve the Solr issues that are not really issues... *sighs*
Thu, Nov 17, 2022, 09:38:41 - carlsonp: hope everyone is well
Thu, Nov 17, 2022, 09:40:26 - pdurbin: joining us on the east coast?
Thu, Nov 17, 2022, 09:41:25 - carlsonp: nope, moving back "home" to Minnesota, although I have a ton of relatives on the east coast (New Hampshire, CT, etc.)
Thu, Nov 17, 2022, 09:42:05 - pdurbin: Ah. We should have met up in Vegas. Oh well. I spent 4 years in Wisconsin. Adjacent. üòÑ
Thu, Nov 17, 2022, 09:42:49 - carlsonp: nice, yeah I was in Plover, WI for like a year, it was... small.. haha
Thu, Nov 17, 2022, 09:43:30 - pdurbin: We were in Madison. My wife got her PhD (biochemistry) from UW.
Thu, Nov 17, 2022, 09:43:42 - carlsonp: wow awesome
Thu, Nov 17, 2022, 09:44:56 - pdurbin: We brought the kids to the Dells over the summer. Our daughter (a junior in high school) sort of fell in love with the UW campus and Madison. We'll see.
Thu, Nov 17, 2022, 09:46:07 - carlsonp: yeah we did that multiple summers, the Tony Bartlett water show, ride the DUCKS (DUCS?), etc.
Thu, Nov 17, 2022, 09:49:07 - pdurbin: Nice. We did water parks, an escape room. Met up with my two brothers and their kids. Anyway, I don't remember the Solr thing but yes please keep the bug reports or whatever coming!
Thu, Nov 17, 2022, 09:49:48 - pdurbin: poikilotherm (CET,UTC+1) and I are thinking about writing a doc about containerization if you want it. Don Sizemore it will also cover some config management, most likely.
Thu, Nov 17, 2022, 09:50:26 - carlsonp: it's just our cybersecurity being overly cautious, flagging on these and need to get an exception: https://cwiki.apache.org/confluence/display/SOLR/SolrSecurity#SolrSecurity-SolrandVulnerabilityScanningTools
Thu, Nov 17, 2022, 09:50:50 - carlsonp: oh great, yeah once we get past this I'm hoping to jump back in with both feet
Thu, Nov 17, 2022, 09:50:50 - pdurbin: Ok, starting to ring a bell. Thanks.
Thu, Nov 17, 2022, 13:54:35 - Johannes Darms: Added my first PR to the project (https://github.com/IQSS/dataverse/pull/9171), I hope I have not made a mistake in doing so.
Thu, Nov 17, 2022, 14:26:22 - pdurbin: Johannes Darms: nice! But from a quick look, I'm wondering. Does this spark joy for someone? Is this something qqmyers wanted?
Thu, Nov 17, 2022, 14:39:09 - Johannes Darms: I'm not sure... I stumbled across the export related code in the domain model and thought it would be nice to move it to the actual exporter so the concerns are a bit more separated and for me its a nice exercise to start with the code base
Thu, Nov 17, 2022, 14:41:56 - pdurbin: Well the Schema.org JSON LD is also put in the head tag of each dataset page. So it's not just an export.
Thu, Nov 17, 2022, 14:46:09 - Johannes Darms: Haven't seen that one, in this case I need to further elaborate on the MR.
Thu, Nov 17, 2022, 14:48:03 - pdurbin: Well, I'm glad you're digging into the code!
Thu, Nov 17, 2022, 14:49:00 - pdurbin: If you want to refactor something, we have hundreds of open issues that we could point you at. üòÑ
Thu, Nov 17, 2022, 14:50:59 - pdurbin: I recently added the hacktoberfest label to a few issues.
Thu, Nov 17, 2022, 14:54:31 - pdurbin: Like this, but it's more of a straight up bug: https://github.com/IQSS/dataverse/issues/8926
Thu, Nov 17, 2022, 21:05:58 - pdurbin: Actually, I was wrong. Not hundreds. Only a few refactoring issues. And most are something that this or that developer is interested in and (probably) wants to work on themselves.
Thu, Nov 17, 2022, 21:23:10 - pdurbin: poikilotherm (CET,UTC+1): "We very recently (last week?) changed the automation to move the pull request to a column where a group that handles prioritization can decide which pull requests to move to "Review". Again, this process is new, so we'll see how it goes. :) Feedback is appreciated!" -- me on April 26 https://groups.google.com/g/dataverse-community/c/KUhvS849doY/m/5PGISAV9AwAJ
Fri, Nov 18, 2022, 08:26:55 - pdurbin: Sigh. I'm so behind. 100+ unread GitHub issues. 30+ unread mailing list threads. At least it's a sunny day. Happy Friday, everyone!
Fri, Nov 18, 2022, 09:39:25 - Don Sizemore: you *read* those things?
Fri, Nov 18, 2022, 10:14:02 - pdurbin: Yep. I stopped reading support tickets long ago though.
Fri, Nov 18, 2022, 10:16:50 - pdurbin: Maybe 8 years ago. Obviously, I read the ones I am asked to help with.
Fri, Nov 18, 2022, 10:17:17 - pdurbin: But I prefer the public channels. I think it helps more people. When we actually respond, of course.
Fri, Nov 18, 2022, 10:29:43 - pdurbin: "maximizing the value of your keystrokes"
Fri, Nov 18, 2022, 10:30:14 - pdurbin: https://blog.codinghorror.com/maximizing-the-value-of-your-keystrokes/
Fri, Nov 18, 2022, 11:52:31 - pdurbin: Johannes Darms: hi! Would you like to add a review to https://github.com/IQSS/dataverse/pull/9175 ? "demonstration of exporters in external jars"
Fri, Nov 18, 2022, 15:13:18 - poikilotherm: pdurbin: test test test :-)
Fri, Nov 18, 2022, 15:13:28 - pdurbin: You're back on the air!
Fri, Nov 18, 2022, 15:14:15 - poikilotherm: Looks I do need to buy some more SSDs or finally start digging through all the old cruft
Fri, Nov 18, 2022, 15:14:23 - pdurbin: vera_c: I just merged https://github.com/IQSS/dataverse/pull/9170 . Thanks!
Fri, Nov 18, 2022, 15:14:36 - pdurbin: (bypassing the process again) üëø
Fri, Nov 18, 2022, 15:14:52 - poikilotherm: I heard someone here would be doing data management üôà
Fri, Nov 18, 2022, 15:14:52 - pdurbin: wait, where's the smiling üëø ?
Fri, Nov 18, 2022, 15:14:58 - pdurbin: üòà
Fri, Nov 18, 2022, 15:15:14 - poikilotherm: You could edit your message ;-)
Fri, Nov 18, 2022, 15:15:25 - poikilotherm: This ain't IRC üòÖ
Fri, Nov 18, 2022, 15:15:38 - pdurbin: I know but it's logged on the static sites. The edits are, I mean.
Fri, Nov 18, 2022, 15:15:43 - pdurbin: *site
Fri, Nov 18, 2022, 15:15:54 - pdurbin: here: https://view.matrix.org/alias/%23dataverse:matrix.org
Fri, Nov 18, 2022, 15:16:14 - pdurbin: So it still feels like IRC in that way.
Fri, Nov 18, 2022, 15:16:17 - pdurbin: One of the few ways.
Fri, Nov 18, 2022, 15:16:28 - poikilotherm: Yeah that's a bummer - I noticed this before, but will not stop editing messages :-D
Fri, Nov 18, 2022, 15:16:39 - pdurbin: it's a free country
Fri, Nov 18, 2022, 15:16:52 - poikilotherm: Knock on wood!
Fri, Nov 18, 2022, 15:17:26 - poikilotherm: üî¥üå©Ô∏èüîµ
Fri, Nov 18, 2022, 15:17:55 - poikilotherm: Now that I'm back - what did I miss?
Fri, Nov 18, 2022, 15:18:21 - poikilotherm: (Read up the new messages, but is anyone wanting to talk to me)
Fri, Nov 18, 2022, 15:18:33 - pdurbin: I just realized Jim merged your https://github.com/GlobalDataverseCommunityConsortium/dataverse/pull/31 . That's cool.
Fri, Nov 18, 2022, 15:18:47 - pdurbin: Only 20 unread GitHub issues left for me.
Fri, Nov 18, 2022, 15:19:28 - poikilotherm: <@pdurbin:matrix.org "I just realized Jim merged your ..."> Yeah I saw! He edited the wording as promised but he seemed to like the code changes üòÑ
Fri, Nov 18, 2022, 15:19:43 - pdurbin: awesome
Fri, Nov 18, 2022, 15:19:59 - pdurbin: maybe we'll all start using the new shiny MPCONFIG style
Fri, Nov 18, 2022, 15:20:08 - pdurbin: I'll keep flagging it when I see the old style.
Fri, Nov 18, 2022, 15:20:08 - poikilotherm: Haha I wish
Fri, Nov 18, 2022, 15:20:16 - pdurbin: bad developer, no donut
Fri, Nov 18, 2022, 15:23:11 - poikilotherm: pdurbin: WDYT about https://github.com/IQSS/dataverse/issues/9169#issuecomment-1319802877? Should I add a PR with an action? It could get merged before summer. üòú (joking)
Fri, Nov 18, 2022, 15:23:35 - pdurbin: I gave it a üëçÔ∏è and a üéâ
Fri, Nov 18, 2022, 15:23:47 - pdurbin: what more do you want? üòú
Fri, Nov 18, 2022, 15:24:20 - poikilotherm: I didn't know what you referred to - maybe you gave the thumbs up to the finding but not the Action idea
Fri, Nov 18, 2022, 15:24:49 - pdurbin: Mostly for the code. I love code. ‚ù§Ô∏è
Fri, Nov 18, 2022, 15:25:13 - poikilotherm: Looks like there is no PR for the duplication fixes yet
Fri, Nov 18, 2022, 15:25:42 - pdurbin: Yeah, my take from what juliangautier wrote is that he's waiting for it to be prioritized.
Fri, Nov 18, 2022, 15:25:51 - poikilotherm: And juliangautier said he "waits for this to be prioritzed"
Fri, Nov 18, 2022, 15:26:34 - poikilotherm sent an image. (Media omitted)
Fri, Nov 18, 2022, 15:26:48 - pdurbin: I think it'd be nice if I could run the "find dupes" script locally.
Fri, Nov 18, 2022, 15:26:59 - poikilotherm: Did you try to?
Fri, Nov 18, 2022, 15:27:03 - pdurbin: And yes, call it from GitHub Actions too, of course.
Fri, Nov 18, 2022, 15:27:23 - poikilotherm: I don't own a Mac - so I don't know if I had been using some extension of GNU grep and other utils
Fri, Nov 18, 2022, 15:27:41 - poikilotherm: Otherwise this is just copy & paste into your shell :-)
Fri, Nov 18, 2022, 15:28:22 - pdurbin: cut: stdin: Illegal byte sequence
Fri, Nov 18, 2022, 15:29:15 - poikilotherm: Wondering if there is a container with all the Mac coreutils etc installed to test such things quickly on a Linux machine
Fri, Nov 18, 2022, 15:31:18 - pdurbin: Anyway, it's a good idea. A tool to help it stay fixed.
Fri, Nov 18, 2022, 15:31:21 - poikilotherm: I just found https://github.com/sickcodes/Docker-OSX üòÑ
Fri, Nov 18, 2022, 15:31:29 - pdurbin: sick
Fri, Nov 18, 2022, 15:32:56 - poikilotherm: So it's complicated
Fri, Nov 18, 2022, 15:33:15 - poikilotherm: You could use a container on your Mac to run a Linux OS üòâ
Fri, Nov 18, 2022, 15:34:15 - poikilotherm: BTW you are aware of https://github.com/nektos/act right?
Fri, Nov 18, 2022, 15:34:43 - poikilotherm: Saw a demo at UK RSE in September
Fri, Nov 18, 2022, 15:35:06 - pdurbin: Sure, I'd run it in a container. If it was easy.
Fri, Nov 18, 2022, 15:35:27 - pdurbin: huh, act seems nice
Fri, Nov 18, 2022, 15:35:57 - pdurbin: I do worry about relying so much on GitHub Actions.
Fri, Nov 18, 2022, 15:37:16 - poikilotherm: Why?
Fri, Nov 18, 2022, 15:37:36 - poikilotherm: Sure, it is creating a dependency
Fri, Nov 18, 2022, 15:37:43 - poikilotherm: But everyone relied on Travis before
Fri, Nov 18, 2022, 15:38:11 - poikilotherm: Did not hold us back from moving away from it
Fri, Nov 18, 2022, 15:38:53 - poikilotherm: I also think we need to carefully differ between actions and workflows
Fri, Nov 18, 2022, 15:39:16 - poikilotherm: Most of our stuff is executing some kind of Maven or other script as a workflow on GIthub computing resources
Fri, Nov 18, 2022, 15:39:27 - poikilotherm: Migrating away from that is work, but totally doable
Fri, Nov 18, 2022, 15:39:44 - poikilotherm: It becomes a little more tricky when looking at using prepackaged actions
Fri, Nov 18, 2022, 15:39:58 - pdurbin: I guess it's like freenode. Rely on it until you can't.
Fri, Nov 18, 2022, 15:40:52 - poikilotherm: The most important part: the operational knowledge isn't lost, as anyone can read the workflow files and rebuild with some other CI tool
Fri, Nov 18, 2022, 15:40:58 - pdurbin: I dunno. I kind of like that we have our own Jenkins installation though.
Fri, Nov 18, 2022, 15:41:46 - poikilotherm: But I heard Don Sizemore on a few occasions he wouldn't mind not to keep it running, maintain etc
Fri, Nov 18, 2022, 15:42:34 - poikilotherm: BTW we could have our custom Github Action runner if we want to
Fri, Nov 18, 2022, 15:43:34 - poikilotherm: Slick! 1TB Samsung 870 Evo just ~95‚Ç¨. SSDs are cheap these days!
Fri, Nov 18, 2022, 15:43:45 - pdurbin: nice
Fri, Nov 18, 2022, 15:49:08 - pdurbin: Phew! All GitHub issues read. With 12 minutes to spare before I bike home. It's been a good day. Have a good weekend, all!
Fri, Nov 18, 2022, 19:30:21 - poikilotherm: Just because I was feeling like it, I added a CI script to check if all metadata block fields etc are having their properties file and keys. https://github.com/IQSS/dataverse/pull/9176/files#diff-34728f53104ad802a9a3d230e7f6abdb118da508f1c94801ddbea7460511791fR37-R88
Fri, Nov 18, 2022, 19:30:53 - poikilotherm: And I'm pretty satisfied with the outcome of the duplicate keys check... https://github.com/IQSS/dataverse/actions/runs/3501223029/jobs/5864653733
Fri, Nov 18, 2022, 21:29:24 - pdurbin: Yes, the output looks great (thanks!):

`Error: Found duplicate for key 'ingest.csv.recordMismatch' in line 2224`
Sat, Nov 19, 2022, 07:55:14 - poikilotherm: pdurbin: wrt the OAI http status code: the spec is not perfectly specific about this. And error messages vs http status code is an old fight. Maybe we should talk about it. Here's something to read about it https://apihandyman.io/empty-lists-http-status-code-200-vs-204-vs-404/
Sat, Nov 19, 2022, 08:11:53 - Don Sizemore: @poikilotherm it's not that I don't want to run it, but a) the setup is not modern, b) it is not perfect, and c) i've always welcomed the opportunity for someone to contribute something smarter.
Sat, Nov 19, 2022, 08:12:10 - Don Sizemore: I'm perfectly happy to keep running whatever we use so long as Odum can realistically house it.
Sun, Nov 20, 2022, 05:26:48 - Miguel Silva: Message deleted
Sun, Nov 20, 2022, 05:27:07 - Miguel Silva: Message deleted
Sun, Nov 20, 2022, 05:28:19 - Miguel Silva: Just added a short summary about Oversampling & Decimation to the Wiki of the C library (dataverse.org) . For all those into accuracy can squeeze 16bit resolution on a 12bit ADC

https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library
Mon, Nov 21, 2022, 04:53:25 - poikilotherm: Good morning y'all :-)
Mon, Nov 21, 2022, 04:54:43 - poikilotherm: Now would be your chance to add a few last comments to https://docs.google.com/document/d/1B1nPh9WD0AlgL8uSM6AeyntEniCNdjumDuyH32VKwDI before it's being closed for review. Hurry if you want to share your opinion! üòÖ
Mon, Nov 21, 2022, 08:07:01 - pdurbin: Thanks for the reminder. üòÑ
Mon, Nov 21, 2022, 08:31:55 - pdurbin sent an image. (Media omitted)
Mon, Nov 21, 2022, 08:32:06 - pdurbin: France and Germany are tied but not for long.
Mon, Nov 21, 2022, 10:24:46 - * lincoln_ sends confetti üéâ
Mon, Nov 21, 2022, 11:27:25 - lincoln_: ¬Ø\_(„ÉÑ)_/¬Ø Anyone who can provide a link to a dataset - with remote file storage?? (any difference from GUI perspective)
Mon, Nov 21, 2022, 11:27:56 - pdurbin: Hmm. nightowlasu maybe?
Mon, Nov 21, 2022, 11:28:19 - lincoln_: would be great
Mon, Nov 21, 2022, 11:31:32 - lincoln_: one wierd question: if a dataset has 10 files and I want to download n files (where n\<10) at once (with s3 direct-download enabled) version 12.1
Will the dataverse-server be involved for zipping ?
Mon, Nov 21, 2022, 11:32:37 - pdurbin: Yes. For 2 files or more, Dataverse creates a zip. This means direct-download is disabled.
Mon, Nov 21, 2022, 11:33:26 - lincoln_: (‚ïØ¬∞‚ñ°¬∞Ôºâ‚ïØÔ∏µ ‚îª‚îÅ‚îª Okay mutiple download is always from server
Mon, Nov 21, 2022, 11:33:44 - pdurbin: Right. Because it has to make a zip.
Mon, Nov 21, 2022, 11:33:46 - lincoln_: ‚î¨‚îÄ‚îÄ‚î¨ „Éé( „Çú-„Çú„Éé) Thank you
Mon, Nov 21, 2022, 11:57:04 - nightowlaz: here is a link to a dataset with a file included that is using the remote storage option .. https://dataverse-test.lib.asu.edu/dataset.xhtml?persistentId=doi:10.5072/FK2/ILWEEC (in our staging installation .. the file resides on our institutional repository)
Mon, Nov 21, 2022, 11:57:42 - nightowlaz: also, here is the example that jim gave us linking to the remote logo file for the QDR logo: https://dataverse-test.lib.asu.edu/dataset.xhtml?persistentId=doi:10.5072/FK2/SMCLE1
Mon, Nov 21, 2022, 11:58:11 - nightowlaz: we're still figuring it out, too, but this is a start to link one file! üòÑ
Mon, Nov 21, 2022, 12:05:44 - pdurbin: lincoln_: check it out. ^^
Mon, Nov 21, 2022, 12:06:28 - pdurbin: nightowlaz: thanks! So I guess the answer is that the UI looks the same, right? Someone looking at the file in Dataverse can't tell the file is remote.
Mon, Nov 21, 2022, 13:12:02 - nightowlaz: right, other than there is an optional notice above the access options that tells them that the files are remote and points to the actual location
Mon, Nov 21, 2022, 13:37:32 - pdurbin sent an image. (Media omitted)
Mon, Nov 21, 2022, 13:38:12 - pdurbin: nightowlaz: sure but I'm pretty sure you folks added that "ASU Library KEEP" notice somehow. I don't think it's part of Dataverse.
Mon, Nov 21, 2022, 14:00:28 - nightowlaz: yes, hose are two of the jvm options that you can set for the store .. remote.store.name and remote.store.url .. if you leave them off it just doesn't show up
Mon, Nov 21, 2022, 14:00:47 - pdurbin: Oh! Interesting.
Mon, Nov 21, 2022, 14:01:01 - nightowlaz: oops remote-store-name and remote-store-url
Mon, Nov 21, 2022, 14:01:31 - pdurbin: I forgot it's configurable. lincoln_ please take note ^^
Mon, Nov 21, 2022, 16:02:16 - pdurbin: Anyway, thanks again nightowlaz . Very helpful.
Mon, Nov 21, 2022, 18:22:49 - clafase joined the room
Tue, Nov 22, 2022, 03:02:43 - lincoln_: pdurbinnightowlaz : thank you :)
Tue, Nov 22, 2022, 03:09:14 - lincoln_: <@nightowlaz:matrix.org "yes, hose are two of the jvm opt..."> so cool
Tue, Nov 22, 2022, 08:08:37 - pdurbin: Yeah. I should ask nightowlaz to give a demo. Put it on DataverseTV. üòÑ üì∫Ô∏è
Wed, Nov 23, 2022, 02:14:15 - lincoln_: @pdurbin:matrix.org I agree
Wed, Nov 23, 2022, 08:13:02 - pdurbin: Mornin' all.
Wed, Nov 23, 2022, 09:06:36 - poikilotherm: Hello dear Chief Community Officer pdurbin ! Good to have you here :-)
Wed, Nov 23, 2022, 09:09:48 - pdurbin: Thanks. Talking auth if anyone is interested: https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09
Wed, Nov 23, 2022, 11:06:48 - poikilotherm: pdurbin: I've been thinking... would you think it's a good idea I try to write a doc about the API package? Gave this some thinking and it looks like there are quite some aspects that should be covered
Wed, Nov 23, 2022, 11:13:47 - pdurbin: Sure. I feel like I heard someone on Adam Bien's podcast talk about this years ago.
Wed, Nov 23, 2022, 11:14:24 - pdurbin: I'd rather you add notes to Testy McTestFace first though.
Wed, Nov 23, 2022, 11:33:11 - pdurbin: Folks, we're on the cusp of a big holiday in the US. ü¶É Thanksgiving. ü¶É See you Monday!
Wed, Nov 23, 2022, 11:43:18 - Johannes Darms: Enjoy your well deserved days off :)
Wed, Nov 23, 2022, 12:20:04 - Guillermo Portas joined the room
Fri, Nov 25, 2022, 04:08:32 - Miguel Silva: Hi All!!!
October revision of the smart 12bit DAQ is now completed and closed. Ready to do LIVE experimental data uploads to a #dataverse.
On the photo below the smart DAQ is installed on an acrylic case and screwed with plastic screws to an acrylic base with the same cross section area as the specimen to be tested. The acrylic base can be bought here https://lnkd.in/eewnD_iA. And the acrylic case here https://lnkd.in/eNnq23hW.

November revision is one week away and it brings a 1.69" IPS TFT LCD to display live data on the laboratory. Get it on GitHub for some serious LIVE & OPEN experimental research
https://lnkd.in/es849KEx
Fri, Nov 25, 2022, 04:08:53 - Miguel Silva sent an image. (Media omitted)
Mon, Nov 28, 2022, 08:21:51 - pdurbin: Happy Monday!
Mon, Nov 28, 2022, 08:22:41 - Don Sizemore: _yawn_
Mon, Nov 28, 2022, 08:30:44 - pdurbin: Yeah, the cabinet is cleared out of coffee.
Mon, Nov 28, 2022, 08:59:30 - pdurbin: poikilotherm (CET,UTC+1) (and others): Ana Trisovic and I moved the NetCDF/HDF5 meeting to one hour earlier (basically now) if you want to join. Zoom link and agenda linked from the calendar: https://calendar.google.com/calendar/embed?src=c_udn4tonm401kgjjre4jl4ja0cs%40group.calendar.google.com&ctz=America%2FNew_York
Mon, Nov 28, 2022, 09:00:17 - poikilotherm: Sorry not today - poster session coming up
Mon, Nov 28, 2022, 09:07:05 - poikilotherm: Also I would like to share that there are people here looking into adding more metadata to generated NetCDF data files containing time series data
Mon, Nov 28, 2022, 09:52:42 - Ana Trisovic: Awesome! Who are the people? :D
Mon, Nov 28, 2022, 09:53:10 - Ana Trisovic: Phil and I were just talking about potentially adding new metadata fields in the geospatial metadata!
Mon, Nov 28, 2022, 11:34:11 - pdurbin: poikilotherm (CET,UTC+1): yes, who please? And can we play around with their files? üòÑ
Mon, Nov 28, 2022, 11:35:30 - poikilotherm: I'll send them a link to this convo and ask them to join the discussion!
Mon, Nov 28, 2022, 11:36:20 - pdurbin: perfect!
Mon, Nov 28, 2022, 11:36:29 - pdurbin: And thanks for joining the auth discussion!
Mon, Nov 28, 2022, 11:38:15 - poikilotherm: Sure
Mon, Nov 28, 2022, 11:38:45 - poikilotherm: I'm happy to be summoned for these talks
Mon, Nov 28, 2022, 11:41:00 - poikilotherm: Ladies and lads, I'll hop over to construction site now. Read y'all later
Tue, Nov 29, 2022, 07:54:56 - pdurbin: We'll have the community call in about two hours: https://dataverse.org/community-calls
Tue, Nov 29, 2022, 08:03:09 - zbenta: Hi guys, just a quick question, Dataverse's default encoding is utf-8, right? We've confirmed in the database and it is utf-8. We've uploaded a applications terms of use document and the Portuguese special chars are all a mess.
Tue, Nov 29, 2022, 08:03:33 - zbenta sent an image. (Media omitted)
Tue, Nov 29, 2022, 08:04:54 - zbenta: I confess that the original encoding of said file was <meta http-equiv=Content-Type content="text/html; charset=windows-1252"> , but we've altered it o utf-8 ad re-uploaded the file, but the issue persists.
Tue, Nov 29, 2022, 08:05:38 - pdurbin: Hmm, it looks like poikilotherm (CET,UTC+1) opened this related issue: https://github.com/IQSS/dataverse/issues/6675
Tue, Nov 29, 2022, 08:06:34 - pdurbin: zbenta: can you please upload your file so I can try it?
Tue, Nov 29, 2022, 08:06:52 - zbenta: sure thing
Tue, Nov 29, 2022, 08:07:17 - zbenta: 2022.10.19.termosuso.htm (Media omitted)
Tue, Nov 29, 2022, 08:08:19 - zbenta: Maybe the solution here https://github.com/IQSS/dataverse/issues/6675#issuecomment-1162245444 will solve it for now.
Tue, Nov 29, 2022, 08:08:40 - pdurbin: maybe
Tue, Nov 29, 2022, 08:08:47 - pdurbin: 2022.10.19.termosuso.htm: HTML document text, Non-ISO extended-ASCII text, with CRLF line terminators
Tue, Nov 29, 2022, 08:08:56 - pdurbin: does that look right? what you expect?
Tue, Nov 29, 2022, 08:10:38 - zbenta: I'll have to ask the creator of the file to alter all special chars with their correct html counterpart representation.
Tue, Nov 29, 2022, 08:11:08 - pdurbin sent an image. (Media omitted)
Tue, Nov 29, 2022, 08:11:18 - pdurbin: I can easily reproduce the problem.
Tue, Nov 29, 2022, 08:11:53 - zbenta: Yep, it is the same issue.
Tue, Nov 29, 2022, 08:12:16 - pdurbin: Your file has charset=windows-1252 in it. Does that matter?
Tue, Nov 29, 2022, 08:13:17 - pdurbin: a bunch of javascript in here too
Tue, Nov 29, 2022, 08:15:07 - zbenta: I also suspect that microsoft, as usual has done things their way and did not follow standards, leaving the file with a weird enconding.
Tue, Nov 29, 2022, 08:15:35 - zbenta: I'll ask the creator of the file to try and simplify it.
Tue, Nov 29, 2022, 08:15:54 - pdurbin: Sure, or maybe we can create a test file quick.
Tue, Nov 29, 2022, 08:18:37 - pdurbin sent an image. (Media omitted)
Tue, Nov 29, 2022, 08:19:00 - pdurbin: That's with `A Funda√ß√£o para a Ci√™ncia e a Tecnologia` in foo.html
Tue, Nov 29, 2022, 08:19:39 - pdurbin: No html tags or anything. Just those few words. And they seem to look ok. So yeah, maybe the file needs to be simplified or something?
Tue, Nov 29, 2022, 08:21:24 - pdurbin: from `file foo.html`: foo.html: Unicode text, UTF-8 text
Tue, Nov 29, 2022, 08:23:37 - zbenta: OK, I'll remove all the css and javascript "gibberish" and try it out.
Tue, Nov 29, 2022, 08:24:18 - pdurbin: Sounds good. If we need better docs on this, please feel free to create a pull request!
Tue, Nov 29, 2022, 08:49:25 - pdurbin: "Friends don't let friends author HTML in Microsoft Word." üòÑ
Tue, Nov 29, 2022, 08:53:52 - Benjamin (SODHA): Why would you do this üò±
Tue, Nov 29, 2022, 08:55:35 - pdurbin: "be conservative in what you send, be liberal in what you accept" -- https://en.wikipedia.org/wiki/Robustness_principle
Tue, Nov 29, 2022, 08:59:59 - Benjamin (SODHA): Without the context, it almost sounds like "be stingy" üòÑ
Tue, Nov 29, 2022, 09:00:17 - pdurbin: heh, I guess so!
Tue, Nov 29, 2022, 09:00:49 - Benjamin (SODHA): (Just like the principle of least privilege can sound paranoid... when you're not actually thinking in terms of security planning)
Tue, Nov 29, 2022, 09:03:51 - Benjamin (SODHA): <@pdurbin:matrix.org ""be conservative in what you sen..."> I like that a lot now I think about it
Tue, Nov 29, 2022, 09:04:04 - Benjamin (SODHA): I should use this in a retort to the CESSDA Main office
Tue, Nov 29, 2022, 09:04:22 - Benjamin (SODHA): Who decreed out of the blue that "incorrect DDI output" would eventually be rejected from the CESSDA Data Catalogue
Tue, Nov 29, 2022, 09:04:31 - Benjamin (SODHA): When really it's a couple of syntactic mistakes here and there
Tue, Nov 29, 2022, 09:05:11 - Benjamin (SODHA): But without consulting the consortium itself, the actual data providers, they decide to be super strict and (here I do think the word applies) stingy
Tue, Nov 29, 2022, 09:05:21 - Benjamin (SODHA): When I learned that I almost spilled my coffee
Tue, Nov 29, 2022, 09:05:46 - Benjamin (SODHA): And I was the only git in the whole shebang to speak out and disapprove that approach
Tue, Nov 29, 2022, 09:05:56 - Benjamin (SODHA): Next time I'll bring up Postel's Law
Tue, Nov 29, 2022, 09:07:51 - pdurbin: perfect üòÑ
Tue, Nov 29, 2022, 10:02:01 - zbenta: > "Friends don't let friends author HTML in Microsoft Word." üòÑ

So true,  vi is the way ü§ì
Tue, Nov 29, 2022, 10:03:50 - zbenta: Problem solved, opened the file using firefox, viewed page source and saved it to a html file. Thanks pdurbin for the help.
Tue, Nov 29, 2022, 11:08:18 - poikilotherm: pdurbin: did you see https://github.com/IQSS/dataverse/issues/9196?
Tue, Nov 29, 2022, 11:10:32 - poikilotherm: Plz let me know if I should add that release note and/or include more details in the docs for https://github.com/IQSS/dataverse/pull/8983
Tue, Nov 29, 2022, 11:26:08 - pdurbin: poikilotherm (CET,UTC+1): closed now. Thanks.
Tue, Nov 29, 2022, 14:26:17 - poikilotherm: What did I miss from community call? I could not attend because I had to fetch my wife's car... ü´£
Tue, Nov 29, 2022, 14:26:40 - pdurbin: Well, there are notes at https://docs.google.com/document/d/1lTMg2jVJFWzqynoeJ03a_XRqqDFBgOVKi5pkLEwODLU/edit?usp=sharing
Tue, Nov 29, 2022, 14:26:56 - pdurbin: Philipp had quite a few questions. üòÑ It was fun!
Tue, Nov 29, 2022, 14:29:55 - poikilotherm: Looks like I didn't miss much...
Tue, Nov 29, 2022, 14:30:02 - poikilotherm: Phew!
Tue, Nov 29, 2022, 16:01:01 - pdurbin: nah, though we did go the full hour
Wed, Nov 30, 2022, 06:22:36 - gasarigi joined the room
Wed, Nov 30, 2022, 06:23:25 - gasarigi: Hello, is there someone available to give me a hand with a fresh Dataverse installation?
Wed, Nov 30, 2022, 07:06:51 - pdurbin: gasarigi: I won't be at my desk for a few hours, but please go ahead and start giving us details.
Wed, Nov 30, 2022, 07:07:44 - gasarigi: Hey, so I just followed the instructions, installed all the prerequisites without problems and went ahead and ran the installation script
Wed, Nov 30, 2022, 07:08:36 - gasarigi: Everything appears to be fine however the url times out whenever I try to access the page
Wed, Nov 30, 2022, 07:10:50 - gasarigi: I went ahead and checked the PostgreSQL conf files, settings seem to be okay
Wed, Nov 30, 2022, 07:11:07 - gasarigi: Is there a log file somewhere where I can check for errors?
Wed, Nov 30, 2022, 07:11:33 - gasarigi: can't find one in the payara dir
Wed, Nov 30, 2022, 07:43:27 - Benjamin (SODHA): gasarigi To find the logs on our installation, I go to /usr/local/payara5/glassfish/domains/domain1/logs
Wed, Nov 30, 2022, 07:44:08 - gasarigi: yep I just realized that Payara never started, that's why I couldn't find the log file
Wed, Nov 30, 2022, 07:44:15 - Benjamin (SODHA): There is a file in there simply called "server.log"
Wed, Nov 30, 2022, 08:10:24 - Miguel Silva: Hi all,
I'm leaving here too the following. I began writing the WIKI manual  for setup, configuration, operation and usage of the smart DAQ on any experimental setup in a Lab with ability to do LIVE experimental data upload to a dataverse repository. 

Anyone with interest can follow, and why not collaborate on writing of the WIKI. Link below

https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo/wiki 
Wed, Nov 30, 2022, 10:36:08 - pdurbin: Miguel Silva: cool.
Wed, Nov 30, 2022, 10:36:25 - pdurbin: gasarigi: the install script is supposed to start Payara. That didn't happen for you?
Wed, Nov 30, 2022, 11:38:12 - poikilotherm: vera_c: I've seen your issue
Wed, Nov 30, 2022, 11:38:25 - poikilotherm: https://github.com/IQSS/dataverse/issue/9200
Wed, Nov 30, 2022, 11:38:47 - poikilotherm: I do have some old issues related to that for you, but will need to look them up
Wed, Nov 30, 2022, 11:39:16 - poikilotherm: pdurbin: if you want to use your digging expertise, all systems go üòÅ
Wed, Nov 30, 2022, 11:40:33 - poikilotherm: pdurbin: I heard *someone* (Johannes Darms vera_c ü§´) might have or find funding to work on this... 
Wed, Nov 30, 2022, 11:41:12 - pdurbin: <@vera_c:matrix.org "Looking at #2143, I found this o..."> the earlier conversation ^^
Wed, Nov 30, 2022, 11:41:47 - poikilotherm: Johannes Darms vera_c: you coming tomorrow to the fdm.nrw Dataverse  meeting? 
Wed, Nov 30, 2022, 11:42:07 - poikilotherm: Everyone else from DACH region is very welcome, too!
Wed, Nov 30, 2022, 11:42:21 - vera_c: <@oliver:bertuch.name "Johannes Darms vera_c: you comin..."> Yes, I am
Wed, Nov 30, 2022, 11:42:28 - poikilotherm: <@pdurbin:matrix.org "the earlier conversation ^^"> Yes. But I do have more related things
Wed, Nov 30, 2022, 11:43:07 - poikilotherm: Like displayFormat vs indexFormat etc
Wed, Nov 30, 2022, 11:52:31 - poikilotherm: I just dropped a package here https://github.com/IQSS/dataverse/issues/9200#issuecomment-1332459353
Wed, Nov 30, 2022, 11:54:35 - pdurbin: Right, I encouraged vera_c to create a dedicated issue. Thank you!
Wed, Nov 30, 2022, 11:59:57 - poikilotherm: Also added a comment about my former involvement with the Solr schema, as the issue outlined this would need to be addressed.
Wed, Nov 30, 2022, 12:00:55 - poikilotherm: If someone is willing to take a tour of that stuff and maybe use it for something, it's open for grabbing it
Wed, Nov 30, 2022, 12:03:20 - poikilotherm: If anyone on this channel would like to be a part of the DE based meeting for parties interested in Dataverse tomorrow, 1500 CET, let me know - happy to share the Zoom link (in private)
Wed, Nov 30, 2022, 13:10:38 - pdurbin: poikilotherm (CET,UTC+1):  Sure, if it's in English, I'm happy to try to stop by. I guess  that's 9am my time.
Wed, Nov 30, 2022, 13:33:10 - Alexandre Abreu: good afternoon guys.
I'm having troubles with payar when I do systemctl restart payara..
this message comes everytime: Job for payara.service failed because the control process exited with error code. See "systemctl status payara.service" and "journalctl -xe" for details.
Wed, Nov 30, 2022, 13:33:26 - Alexandre Abreu: needing help :S
Wed, Nov 30, 2022, 13:34:06 - Alexandre Abreu: in journalctl I see that there is an erros when it tries to start
Wed, Nov 30, 2022, 13:35:01 - pdurbin: Huh. Is that an SELinux thing?
Wed, Nov 30, 2022, 13:36:02 - Alexandre Abreu: hmm idk... it is disabled here
Wed, Nov 30, 2022, 13:37:26 - pdurbin: I called for reinforcements. Not sure. Sorry.
Wed, Nov 30, 2022, 13:38:10 - Alexandre Abreu: No problem phill 
Wed, Nov 30, 2022, 13:38:50 - pdurbin: Did you search the mailing list or issue tracker?
Wed, Nov 30, 2022, 13:40:40 - pdurbin: This is about postgres rather than payara but seems similar: https://groups.google.com/g/dataverse-community/c/ve2eq6_yJOM/m/c_s9_OChAwAJ
Wed, Nov 30, 2022, 13:40:45 - poikilotherm: Well first and foremost: this is a very general error message
Wed, Nov 30, 2022, 13:41:03 - poikilotherm: Could you share some details from the logs?
Wed, Nov 30, 2022, 13:41:30 - poikilotherm: There should be a message that reveals more details about why it's failing
Wed, Nov 30, 2022, 13:41:58 - poikilotherm: You might also watch domains/domain1/logs/server.log for any severe errors
Wed, Nov 30, 2022, 13:42:59 - poikilotherm: And in doubt: ~~have a Stout!~~ start the domain manually, maybe using --debug flag for asadmin.
Wed, Nov 30, 2022, 13:47:38 - Alexandre Abreu: i found that it can be related to certificates...
[#|2022-11-30T15:45:17.189-0300|WARNING|Payara 5.2021.5|javax.enterprise.system.security.ssl|_ThreadID=24;_ThreadName=RunLevelControllerThread-1669833909682;_TimeMillis=1669833917189;_LevelValue=900;_MessageID=NCLS-SECURITY-05054;|The SSL certificate has expired: [

Wed, Nov 30, 2022, 13:49:15 - poikilotherm: Nope this is annoying but not fatal for Payara
Wed, Nov 30, 2022, 13:52:20 - poikilotherm: You could also upload the log file here 
Wed, Nov 30, 2022, 13:52:40 - poikilotherm: Or drop it to pastebin
Wed, Nov 30, 2022, 13:56:24 - Alexandre Abreu: server.log (Media omitted)
Wed, Nov 30, 2022, 13:58:44 - poikilotherm: pdurbin: can you take a look? I'm on my phone and that's kinda hard on this
Wed, Nov 30, 2022, 14:01:43 - pdurbin: I see Payara 5.2021.5 in the logs. If it's a cert thing would upgrading Payara help?
Wed, Nov 30, 2022, 14:04:22 - poikilotherm: Oh oh oh oh which Dataverse version is this
Wed, Nov 30, 2022, 14:05:14 - poikilotherm: We require a newer Payara version for recent releases...
Wed, Nov 30, 2022, 14:06:15 - poikilotherm: BTW pdurbin: maybe we should take a look if we can print some banner on deployment like they do with Spring erc
Wed, Nov 30, 2022, 14:07:56 - Alexandre Abreu: <@oliver:bertuch.name "Oh oh oh oh which Dataverse vers..."> versin 5.11.1
Wed, Nov 30, 2022, 14:08:29 - Alexandre Abreu: what version is needed  ? 
Wed, Nov 30, 2022, 14:13:00 - Alexandre Abreu: I guess I already solved this problem once... but I can't remember how ahahaha üòÖ
Wed, Nov 30, 2022, 14:18:07 - nightowlaz: this happens to me sometimes and the only thing that works is to kill any processes related to payara and then it will start .. maybe not the best thing but haven't found another solution .. it thinks payara is running still or something even though I've stopped it
Wed, Nov 30, 2022, 14:19:55 - Alexandre Abreu: Yeah.. I killed java processes but it didn't work... 
Wed, Nov 30, 2022, 14:20:22 - pdurbin: Alexandre Abreu: "Payara 5.2021.6 is recommended" according to https://guides.dataverse.org/en/5.11.1/installation/prerequisites.html#payara
Wed, Nov 30, 2022, 14:20:42 - Alexandre Abreu: thanks, Phill
Wed, Nov 30, 2022, 14:21:47 - pdurbin: Sure. Maybe you could even run a newer version? I'm not sure. There was something about certs and Payara versions recently.
Wed, Nov 30, 2022, 14:22:43 - pdurbin: Actually nightowlaz opened it: https://github.com/IQSS/dataverse/issues/8059
Wed, Nov 30, 2022, 14:23:54 - pdurbin: For Dataverse 5.12 (mentioned in the issue) we recommend Payara 5.2022.3.
Wed, Nov 30, 2022, 14:25:52 - Don Sizemore: the SSL cert expiration shouldn't prevent Payara from launching, should it?
Wed, Nov 30, 2022, 14:32:23 - Don Sizemore: in Alexandre Abreu 's server.log I see Payara starting normally, but I don't see Dataverse auto-deploying.
Thu, Dec 1, 2022, 08:02:51 - pdurbin: Huh. Check this out:

"This project aims to check for Dataverse (https://dataverse.org/) quality of data and metadata. Through the use of Dataverse API, the program will check for all published dataset in odrder to establish the degree of data and metadata quality."

https://github.com/joelfan/Dataverse-quality-check
Thu, Dec 1, 2022, 08:23:28 - pdurbin: Where's Kir√°ly P√©ter ? He should see this.
Thu, Dec 1, 2022, 08:38:59 - pdurbin: Switching gears (sorry), I was just looking at http://science.osshealth.io/repo/New%20Repositories/dataverse/overview . I'll post a screenshot.
Thu, Dec 1, 2022, 08:39:10 - pdurbin sent an image. (Media omitted)
Thu, Dec 1, 2022, 08:39:50 - pdurbin: I'm making an assumption that the data is accurate. This isn't my tool (Augur). üòÖ
Thu, Dec 1, 2022, 13:02:31 - poikilotherm: Don Sizemore qqmyers are you community champions or IQSS inventory? You're making a very large difference looking at the stats! https://docs.google.com/spreadsheets/d/1ArZ27u_w4vWYkCQ_d3LlsPOlUZS3bZ8LtKfsBJGXtXY/edit#gid=1210505444
Thu, Dec 1, 2022, 13:28:30 - Don Sizemore: poikilotherm (CET,UTC+1): sadly my rate of pull requests has slowed recently. there are plenty I would like to submit
Thu, Dec 1, 2022, 13:51:28 - pdurbin: poikilotherm (CET,UTC+1): this is amazing
Thu, Dec 1, 2022, 13:51:39 - pdurbin: And yes, Don Sizemore is a pull request machine.
Thu, Dec 1, 2022, 13:52:23 - poikilotherm: Message deleted
Thu, Dec 1, 2022, 13:52:39 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): this i..."> No it's not - it's coarse and simplifying and prone to bias.
Thu, Dec 1, 2022, 14:08:13 - pdurbin: Can numbers lie? üòÑ
Thu, Dec 1, 2022, 14:55:21 - poikilotherm: Only trust a statistic you doctored yourself
Thu, Dec 1, 2022, 16:09:28 - pdurbin: Stefano loves it. "Very interesting!!"
Fri, Dec 2, 2022, 06:33:32 - pdurbin: Huh. I often go to https://view.matrix.org/alias/%23dataverse:matrix.org to see if there are any new messages here but for me it's showing messages from last year. Oh well. Good morning, everyone. TGIF.
Fri, Dec 2, 2022, 06:34:13 - pdurbin: Speaking of chat logs, I put up a new blog post: http://blog.greptilian.com/2022/12/01/the-usefulness-of-old-chat-logs/
Fri, Dec 2, 2022, 10:36:52 - pdurbin: poikilotherm (CET,UTC+1): I left some comments on DEP002 - Containerization
Fri, Dec 2, 2022, 10:36:58 - pdurbin: Thanks for getting it going!
Fri, Dec 2, 2022, 10:38:23 - poikilotherm: Oh it's just a very first draft and by no means complete
Fri, Dec 2, 2022, 10:38:29 - poikilotherm: Currently intro only
Fri, Dec 2, 2022, 10:38:33 - poikilotherm: Nothing of substance
Fri, Dec 2, 2022, 10:38:41 - poikilotherm: But thanks for leaving comments!
Fri, Dec 2, 2022, 10:38:53 - poikilotherm: Will read em up later üòÄ
Fri, Dec 2, 2022, 10:47:56 - pdurbin: Mike might be onto something with "one pager". We Americans don't like to read.
Fri, Dec 2, 2022, 11:13:38 - poikilotherm: Yeah. We talked about it. We agreed there should be a one pager at the start (metadata & abstract). But the rest might need more details - it's a doc that someone needs to read when implementing it. It has to cover details...
Fri, Dec 2, 2022, 11:14:20 - poikilotherm: Maybe it would help to have an issue first and if that issue is about a larger thing to change, there should be a DEP created with a onepager to pitch the idea?
Fri, Dec 2, 2022, 11:14:44 - poikilotherm: An issue is fun, but lacks the ability of commenting and extension like a doc
Fri, Dec 2, 2022, 11:34:33 - pdurbin: Let's stay with the doc. I like where it's going, generally. I just fear it'll get too long. That's all.
Fri, Dec 2, 2022, 11:35:07 - pdurbin: Did you talk about the new board we created? For the community?
Fri, Dec 2, 2022, 11:37:22 - poikilotherm: Nope, time was short
Fri, Dec 2, 2022, 11:37:37 - poikilotherm: pdurbin: maybe this answers partially another question I had in mind
Fri, Dec 2, 2022, 11:37:50 - poikilotherm: I wanted to know about the scope of the DEP 002
Fri, Dec 2, 2022, 11:38:01 - poikilotherm: COntainers only or also about configuration and Solr
Fri, Dec 2, 2022, 11:38:26 - poikilotherm: I suppose you would prefer to have them as separate DEPs and linked to those from the container DEP
Fri, Dec 2, 2022, 11:39:14 - poikilotherm: Should we write a doc about DEPs themselves? So we circulate it to the community and see what everybody thinks? Maybe also include explanation of the new backlog process at IQSS?
Fri, Dec 2, 2022, 11:39:53 - pdurbin: I was wondering if you were saving DEP001 for the DEPs themselves. üòÑ
Fri, Dec 2, 2022, 11:40:26 - poikilotherm: I thought of the SPA doc as 0001 but the number of the container DEP can be increased - there were former similar docs
Fri, Dec 2, 2022, 11:40:45 - poikilotherm: Maybe we could create a page linking to all the DEPs? A table of DEPs
Fri, Dec 2, 2022, 11:41:19 - pdurbin: Should DEP008 be about code formatting in honor of PEP8?
Fri, Dec 2, 2022, 11:41:19 - poikilotherm: (And try to dig for the old docs, too...)
Fri, Dec 2, 2022, 11:41:49 - poikilotherm: There was a doc for the embargo and the licensing stuff
Fri, Dec 2, 2022, 11:41:54 - pdurbin: If you have time we can do a call.
Fri, Dec 2, 2022, 11:42:19 - poikilotherm: I am supposed to be heading for construction site :-(
Fri, Dec 2, 2022, 11:42:29 - poikilotherm: Maybe later today?
Fri, Dec 2, 2022, 11:43:02 - poikilotherm: Oh wait you are heading out at 1600 hours ET
Fri, Dec 2, 2022, 11:43:53 - poikilotherm: Should we sched something for Monday? Are you having the NetCDF meeting?
Fri, Dec 2, 2022, 11:44:12 - poikilotherm: We could try before, as you are coming in early as I heard...
Fri, Dec 2, 2022, 11:44:30 - pdurbin: NetCDF is at 9am again due to re-arch at 10am. You should come to the re-arch!
Fri, Dec 2, 2022, 11:44:38 - pdurbin: or both
Fri, Dec 2, 2022, 11:44:40 - poikilotherm: It's in my calendar!
Fri, Dec 2, 2022, 11:44:44 - poikilotherm: Both...
Fri, Dec 2, 2022, 11:44:46 - poikilotherm: :-D
Fri, Dec 2, 2022, 11:44:54 - poikilotherm: See you folks are dragging me in
Fri, Dec 2, 2022, 11:45:07 - pdurbin: great, but yeah, I only have one meeting this afternoon so feel free to ping me if you'd rather talk than type
Fri, Dec 2, 2022, 11:45:08 - poikilotherm: We need to talk about the auth stuff - Stefano asked us to write something
Fri, Dec 2, 2022, 11:45:25 - poikilotherm: I wont be back before 2100
Fri, Dec 2, 2022, 11:45:45 - poikilotherm: I suppose you are riding into the sunset by that time
Fri, Dec 2, 2022, 11:46:07 - pdurbin: I think that's 3pm for me. So I'll have an hour before I hop on my bike.
Fri, Dec 2, 2022, 11:46:30 - poikilotherm: Oh yeah! Somehow I thought this is 1700 for you already
Fri, Dec 2, 2022, 11:46:36 - poikilotherm: üôà
Fri, Dec 2, 2022, 11:47:18 - poikilotherm: We should talk about that auth thing then maybe... Stefano wanted a small paragraph from me for it, but I'm not sure what to write
Fri, Dec 2, 2022, 11:47:48 - pdurbin: I've been thinking about writing to the shib list about InCommon.
Fri, Dec 2, 2022, 11:47:56 - poikilotherm: Thank you qqmyers for looking into my MPCONFIG PRs!
Fri, Dec 2, 2022, 11:48:21 - poikilotherm: He is making me happy!
Fri, Dec 2, 2022, 11:49:20 - pdurbin: I was wondering about the timing on that.
Fri, Dec 2, 2022, 11:49:49 - pdurbin: qqmyers somehow knew we were talking about those PRs
Fri, Dec 2, 2022, 11:51:01 - poikilotherm: Someone must have tipped him of!
Fri, Dec 2, 2022, 11:51:10 - poikilotherm: ü§©
Fri, Dec 2, 2022, 11:51:33 - poikilotherm: (Wasn't me - but I'm glad he's spending some community review time on a community PR!)
Fri, Dec 2, 2022, 11:52:56 - poikilotherm: I will be talking about HERMES next week, including talking about "research software ready repositories". Feel free to join! https://helmholtz-metadaten.de/en/events/hmc-fair-friday-with-leyla-jael-castro-and-oliver-bertuch
Fri, Dec 2, 2022, 11:53:48 - poikilotherm: Leyla is one of the authors of the FAIR4RS principles. I'm honored to be a speaker within the same session!
Fri, Dec 2, 2022, 11:54:59 - poikilotherm: pdurbin: did you see I added text to the columns on https://github.com/orgs/IQSS/projects/36/views/1 ?
Fri, Dec 2, 2022, 11:56:09 - pdurbin: No, I hadn't. Thanks. From a quick look it all seems great.
Fri, Dec 2, 2022, 11:56:36 - poikilotherm: Alright lads and ladies, I'm gonna get changed into my handyman costume and head out soon. Catch y'all later!
Fri, Dec 2, 2022, 11:56:52 - pdurbin: `Extend 'metadatablocks/{block_id}' endpoint JSON output` is moving. I pushed some commits this morning.
Fri, Dec 2, 2022, 11:57:18 - poikilotherm: At some point maybe make it a non-draft üôà
Fri, Dec 2, 2022, 11:57:30 - pdurbin: I put it in Intake
Fri, Dec 2, 2022, 11:57:37 - pdurbin: because I reviewed it
Fri, Dec 2, 2022, 11:57:50 - pdurbin: and gave him a fix
Fri, Dec 2, 2022, 11:58:01 - pdurbin: It's still draft but whatever
Fri, Dec 2, 2022, 11:58:34 - pdurbin: Anyway, you mind need to remind me from time to time to look at project 36.
Fri, Dec 2, 2022, 12:00:46 - pdurbin: I just put your JSF upload dir in Intake too.
Fri, Dec 2, 2022, 12:01:02 - pdurbin: But really it's beyond intake. It's in QA.
Fri, Dec 2, 2022, 12:02:14 - pdurbin: close enough for now I guess
Fri, Dec 2, 2022, 13:43:48 - pdurbin: I just updated https://www.iq.harvard.edu/roadmap-dataverse-project . What do you think?
Fri, Dec 2, 2022, 14:57:18 - poikilotherm: I'm back
Fri, Dec 2, 2022, 14:59:38 - poikilotherm: pdurbin: do you want to open a room?
Fri, Dec 2, 2022, 15:01:23 - poikilotherm: pdurbin: do you want to ask Mike to join us?
Fri, Dec 2, 2022, 15:04:03 - poikilotherm: <@pdurbin:matrix.org "I just updated https://www.iq.ha..."> Not sure what the updates were, but looks good üòÑ
Fri, Dec 2, 2022, 15:15:43 - pdurbin: https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09
Fri, Dec 2, 2022, 15:21:57 - pdurbin sent an image. (Media omitted)
Fri, Dec 2, 2022, 15:22:14 - pdurbin: From https://github.com/IQSS/dataverse/blob/v4.2/CONTRIBUTING.md (old process).
Fri, Dec 2, 2022, 16:06:59 - pdurbin: Have a good weekend, all!
Sun, Dec 4, 2022, 09:13:12 - captainsifff joined the room
Sun, Dec 4, 2022, 09:15:57 - captainsifff: Hi all, I've seen you invited me over here on this github issue: https://github.com/IQSS/dataverse/issues/7947#issuecomment-1329236690
Sun, Dec 4, 2022, 18:11:40 - pdurbin: captainsifff: yes! Welcome! Ana Trisovic and I would love to chat about HDF5 and NetCDF with you sometime. We have a standing meeting on Monday mornings (Boston time) if that works for you. Usually it's at 10am but for tomorrow we had to move it up to 9am.
Sun, Dec 4, 2022, 20:14:44 - captainsifff: Cool! I will try  to join your meeting at 9am. this should work out for me as 3pm assuming I made no mistake...
Mon, Dec 5, 2022, 06:53:46 - pdurbin: captainsifff: perfect! See you then! I just put you on the agenda. You can find a link to that doc and the zoom link at https://calendar.google.com/calendar/embed?src=c_udn4tonm401kgjjre4jl4ja0cs%40group.calendar.google.com&ctz=America%2FNew_York
Mon, Dec 5, 2022, 06:54:11 - pdurbin: Philipp: you're interested in joining sometime as well. ^^
Mon, Dec 5, 2022, 08:59:17 - pdurbin: netcdf/hdf5/geospatial zoom link (starting now): https://harvard.zoom.us/j/93995792803?pwd=SGxvVGx3aHoyMW9jNDZpWFprUjBVUT09
Mon, Dec 5, 2022, 09:42:51 - poikilotherm: Sorry couldn't make it today
Mon, Dec 5, 2022, 09:42:55 - poikilotherm: Busy day
Mon, Dec 5, 2022, 09:43:03 - poikilotherm: Again... üôÑ
Mon, Dec 5, 2022, 09:56:15 - pdurbin: No worries.
Mon, Dec 5, 2022, 09:56:38 - pdurbin: Ana Trisovic: it's so nice to talk to actual researchers like captainsifff 
Mon, Dec 5, 2022, 10:57:31 - captainsifff: Hi all, ,after todays discussion, here's the first sample file from an HDF5 application: https://github.com/IQSS/dataverse-sample-data/pull/34
Mon, Dec 5, 2022, 10:58:21 - pdurbin: Only 85KB! Perfect! Thank you, captainsifff!
Mon, Dec 5, 2022, 11:03:10 - captainsifff: Just discovered that in some old notes: Astronomy has a tool for converting fits to hdf5: https://arxiv.org/abs/1505.06421
Mon, Dec 5, 2022, 11:03:23 - pdurbin: huh, cool
Mon, Dec 5, 2022, 11:09:24 - captainsifff: maybe this is useful for you. I once wrote sample code that reads a matrix from a file using the netCDF API and also with the HDF5 API: https://git.physik.uni-wuerzburg.de/itpa-computers/admin_meeting_protocols/-/blob/master/NetCDF4/netcdf_f90_ex.F90
Mon, Dec 5, 2022, 11:12:57 - pdurbin: wow, fortran üòÑ
Mon, Dec 5, 2022, 11:13:06 - pdurbin: now we're really talking to scientists!
Mon, Dec 5, 2022, 12:10:17 - pdurbin: captainsifff: it's interesting. When I try to open that sample file (beta...h5) I get this error from the NetCDF Java library I'm using: Dimension length =0 must be > 0. That is, I can't open the file with this library. I might need to upgrade to a real HDF5 library. üòÑ
Mon, Dec 5, 2022, 13:35:11 - pdurbin: Ana Trisovic and poikilotherm (CET,UTC+1) I think you two may be the biggest SLOPI enthusiasts. FYI that yesterday I moved it from https://github.com/good-labs/slopi-communication to https://github.com/pdurbin/slopi-communication
Mon, Dec 5, 2022, 15:56:13 - pdurbin: "We should release a new version for OPS in the next few days, and then it will be possible to work on the version for OJS." -- https://github.com/pkp/pkp-lib/issues/1822#issuecomment-1337487167
Mon, Dec 5, 2022, 17:15:58 - captainsifff: pdurbin: Yes, the file has been created without any netcdf compatibility in mind.
Mon, Dec 5, 2022, 17:16:37 - captainsifff: try h5dump -H and you should get the structure with the leaf nodes.
Mon, Dec 5, 2022, 17:41:42 - pdurbin: Will do! Once I install h5dump somewhere. üòÑ
Tue, Dec 6, 2022, 05:10:04 - vera_c: I tried the SPA PoC (https://github.com/GPortas/dataverse-react-poc/tree/poc/login_oidc) ‚Äì is it correct that the API call on the "datasets section" page only works when I log in via the old UI first, and both of the login pages in the React app don't fully work yet? Guillermo Portas 
Tue, Dec 6, 2022, 07:12:29 - pdurbin: vera_c: I haven't tried the login pages in the React app yet. They were added later. I was able to see the dataset JSON when logging in through the old UI first, yes. Let's see if Guillermo can help.
Tue, Dec 6, 2022, 07:43:53 - Guillermo Portas: Hi vera_c 

Which branch of Dataverse are you using? For the React App login (/new/login) to work, make sure you are deploying this branch of Dataverse: https://github.com/GPortas/dataverse/tree/session_api_auth_csrf (It includes the required login API endpoint)

On the other hand, keep in mind that the SPA login form is very basic (and can be a bit confusing). There are no messages in the UI after a successful login or failure (we need to check the browser console).
Tue, Dec 6, 2022, 07:45:45 - Guillermo Portas: Message deleted
Tue, Dec 6, 2022, 07:57:22 - Guillermo Portas: (Correcting the message I just deleted) Datasets page request should fail even when logged in, regardless of the chosen mechanism for login (SPA or old), due to the CSRF filter also implemented in the Dataverse branch (session_api_auth_csrf), which blocks the request if no valid CSRF token is provided. This is because the management of the CSRF token returned by Dataverse after login is not yet implemented in the SPA.

Therefore, the only thing that the new SPA login allows is to be able to log in externally to the old UI. If you navigate to the old UI after a successful login in the SPA, you should notice that you are logged in.
Tue, Dec 6, 2022, 10:25:04 - pdurbin: Guillermo Portas: thanks. vera_c does that help?
Tue, Dec 6, 2022, 10:45:16 - poikilotherm: pdurbin: if you have a minute, can you give this a read and leave your opinion? https://github.com/IQSS/dataverse/pull/8824#discussion_r1041141151
Tue, Dec 6, 2022, 10:45:25 - poikilotherm: I'm heading out for construction site
Tue, Dec 6, 2022, 10:45:28 - poikilotherm: Catch y'all later
Tue, Dec 6, 2022, 11:18:46 - Johannes Darms: Thanks for the explanation
Tue, Dec 6, 2022, 11:44:33 - vera_c: <@gportas:matrix.org "Hi vera_c "> I see, I was on the wrong branch (session_api_auth without _crsf). The login form now logs me into the old UI as you described üëçÔ∏è Thanks!
Tue, Dec 6, 2022, 11:44:41 - vera_c: For the OIDC login to work, OIDC authentication for API access would still need to be implemented in the Dataverse fork, right?
Tue, Dec 6, 2022, 12:07:19 - Guillermo Portas: <@vera_c:matrix.org "For the OIDC login to work, OIDC..."> Indeed, for the moment the PoC only includes the redirection to the OIDC auth provider using react-oauth2-pkce, which is only the first part of the flow. The next step is to interpret the OIDC data after a successful OIDC login and login to Dataverse via the Dataverse API with the OIDC data.

This requires changes to the Dataverse API to support OIDC login (and its validation), possibly a new login endpoint in addition to the one implemented in the session_api_auth_csrf branch for internal users (user/password users).

We are currently working on the design of the entire OIDC login flow for the Dataverse API. I plan to complete the OIDC authentication flow of the PoC with the missing parts, once the design is established.
Tue, Dec 6, 2022, 12:25:27 - poikilotherm: Guillermo Portas: as this is a JAX-RS API, you might want to take a look at either the Jakarta Security spec https://jakarta.ee/specifications/security/, the Payara specific implementation of it https://docs.payara.fish/community/docs/Technical%20Documentation/Public%20API/OpenID%20Connect%20Support.html and/or take a look at WebFilters, here's an example with a CORS filter https://www.baeldung.com/cors-in-jax-rs
Tue, Dec 6, 2022, 12:45:14 - Guillermo Portas: <@oliver:bertuch.name "Guillermo Portas: as this is a J..."> Thank you Oliver!
Tue, Dec 6, 2022, 13:57:47 - Alexandre Abreu: poikilotherm (CET,UTC+1): Hi good afternoon. About my payara problem yesterday, there was a lockfile in domain/config.... deleting this file I could restart payara.service
Tue, Dec 6, 2022, 13:58:16 - Alexandre Abreu: thanks for supporting :) 
Tue, Dec 6, 2022, 14:37:49 - pdurbin: https://jakartaone.org/2022/ starts today
Tue, Dec 6, 2022, 14:57:32 - pdurbin: Hmm. Is today. Usually the put up the recordings.
Tue, Dec 6, 2022, 17:13:07 - pdurbin: Grr. https://github.com/simple-icons/simple-icons/pull/7782
Tue, Dec 6, 2022, 17:36:18 - pdurbin sent an image. (Media omitted)
Tue, Dec 6, 2022, 17:36:49 - pdurbin: Just added: a live count of the people who have joined this chat. ^^
Wed, Dec 7, 2022, 03:45:33 - Guillermo Portas: Hi vera_c

I have seen [the issue](https://github.com/gardner/react-oauth2-pkce/issues/55) you opened in react-oauth2-pkce related to _isAuthenticated_.

I've had similar problems, both with _isAuthenticated_ and _isPending_. At the moment I have ended up creating a workaround by reading the localStorage _auth_ object. Possibly not the ideal solution, but it works for the current PoC needs: \[https://github.com/GPortas/dataverse-react-poc/blob/poc/login\_oidc/src/App.tsx#L125\]
Wed, Dec 7, 2022, 03:47:19 - vera_c: <@gportas:matrix.org "Indeed, for the moment the PoC o..."> I see, thank you! :) Do you have an estimate when the design will be established and/or are there some design documents you could share?

Johannes Darms  and I would like to connect our own React SPA to Dataverse soon, so this API authentication problem is also a concern for us.
Wed, Dec 7, 2022, 04:09:10 - Guillermo Portas: <@vera_c:matrix.org "I see, thank you! :) Do you have..."> 
We are currently working on defining the authentication flow design in detail. We are focusing on it as a priority and we estimate to have the new design established by the beginning of next year.

At the moment we don't have any design documents about this part (but working on it ;)). The idea is to evolve the shared re-architecture document to also include this auth flow design in detail, once defined.

Thank you for sharing your feedback and concerns on this matter!
Wed, Dec 7, 2022, 07:08:20 - poikilotherm: <@gportas:matrix.org "We are currently working on defi..."> Didn't we agree to have the working group create another doc about the auth stuff? (Asking because we might share this folks from community, too)
Wed, Dec 7, 2022, 07:18:14 - Guillermo Portas: Possibly I misunderstood. Whether this information is in the main re-arch document or in a separate one, I agree to share it as soon as it is ready. At the moment we are going to work on a draft document.

Thank you for the clarification
Wed, Dec 7, 2022, 07:26:52 - pdurbin: vera_c: I'm not sure if this helps but the plan is to create some subgroups and one will be about auth Given the holidays that could won't meet formally until Jan 6 but I'm sure there will be informal discussion like this before then. I'm glad you're taking an interest in it!
Wed, Dec 7, 2022, 07:28:52 - Don Sizemore: @pdurbin let's not propose to meet on Jan 6th, if you know what I mean.
Wed, Dec 7, 2022, 08:20:27 - poikilotherm: I'd bring Freedom Fries. üòú
Wed, Dec 7, 2022, 08:34:05 - pdurbin: heh
Wed, Dec 7, 2022, 08:35:02 - pdurbin: poikilotherm (CET,UTC+1): can anything go in the HERMES column? https://github.com/orgs/IQSS/projects/34/views/1
Wed, Dec 7, 2022, 09:06:16 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): can an..."> Nope, not yet. Need to do more hacking first :-D
Wed, Dec 7, 2022, 09:06:57 - pdurbin: Ok. No worries. It's just looking lonely and empty is all. Please keep in mind that I could be issues as well as PRs.
Wed, Dec 7, 2022, 09:12:34 - poikilotherm: Oh then I can definitely send in stuff!
Wed, Dec 7, 2022, 09:16:43 - poikilotherm: pdurbin: what to do about https://github.com/IQSS/dataverse/issues/4499
Wed, Dec 7, 2022, 09:16:53 - poikilotherm: It's already on Gustavos list
Wed, Dec 7, 2022, 09:17:52 - poikilotherm: Yet I did wanted to work on this, as the metadata stuff going on with DataCite etc needs to be sorted out first, also relating to modularity
Wed, Dec 7, 2022, 09:18:27 - pdurbin: Hmm, it's #3 in Gustavo's list. Maybe it's fine to keep it there for now.
Wed, Dec 7, 2022, 09:19:32 - poikilotherm: OK I'll reach out to him and ask about the status
Wed, Dec 7, 2022, 09:21:26 - pdurbin: Sounds good. And maybe you're right. Maybe it's better to have PRs in HERMES for now. Not sure. There should probably be a regular meeting or something.
Wed, Dec 7, 2022, 09:22:19 - poikilotherm: Mike and I talked somewhat in that direction - maybe we need a meeting of community and core members that both work on stuff on grants
Wed, Dec 7, 2022, 09:22:50 - poikilotherm: A grant usually means money can be spend on larger tasks which need to be coordinated anyhow
Wed, Dec 7, 2022, 09:23:13 - pdurbin: I'm happy to carve out time every other week at the community call if you want.
Wed, Dec 7, 2022, 09:23:51 - poikilotherm: Probably it would be good to have the PO and PM at the table, too
Wed, Dec 7, 2022, 09:27:27 - pdurbin: Everyone's welcome!
Wed, Dec 7, 2022, 09:33:30 - pdurbin: I guess I'm think you could put a small issue, a small chunk in the HERMES column, just so it's not empty. Or that should be the goal at least. To never have that column (or any column) be empty.
Wed, Dec 7, 2022, 09:37:11 - poikilotherm: Done alreaday
Wed, Dec 7, 2022, 09:40:02 - poikilotherm: Added three drafts, too
Wed, Dec 7, 2022, 09:42:54 - pdurbin: Wow! No longer empty. 8 items! Seems much better. Thanks.
Thu, Dec 8, 2022, 06:31:36 - pdurbin: I made some commits to https://github.com/IQSS/open-source-at-harvard . I'm thinking about publishing v4 of my dataset. It's been years since I put out v3.
Thu, Dec 8, 2022, 07:14:44 - poikilotherm: pdurbin: we are sending updated metadata to DataCite or other PID providers for minor and major dataset version, aye?
Thu, Dec 8, 2022, 07:19:49 - poikilotherm: OK we do... Looking at https://commons.datacite.org/doi.org/10.26165/juelich-data/vtqxlm it does have the updated authors list from v2 at https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/VTQXLM&version=2.0
Thu, Dec 8, 2022, 07:32:14 - pdurbin: Yep, for minor versions we're only sending metadata updates, of course.
Thu, Dec 8, 2022, 08:09:59 - poikilotherm: Same for major, but that might include re-doing file PID registrations
Thu, Dec 8, 2022, 08:17:00 - pdurbin: Or new PIDs for files, if enabled.
Thu, Dec 8, 2022, 08:19:50 - poikilotherm: Yes yes of course, I subsumed that under "re-doing" - sorry
Thu, Dec 8, 2022, 08:20:45 - pdurbin: No, it's me. Barely into my first cup of coffee.
Thu, Dec 8, 2022, 10:19:18 - pdurbin: "Ask us all your questions about the upcoming final release of Payara 5 Community." https://twitter.com/Payara_Fish/status/1600505415086866441
Thu, Dec 8, 2022, 10:44:47 - poikilotherm: "Should we move to Glassfish?" üòù
Thu, Dec 8, 2022, 10:44:57 - pdurbin: It's back.
Thu, Dec 8, 2022, 10:45:10 - pdurbin: Does Glassfish support MPCONFIG?
Thu, Dec 8, 2022, 10:46:38 - pdurbin: Oh! It does? Nice.
Thu, Dec 8, 2022, 10:47:52 - poikilotherm: You will not find any (recent & serious) Jakarta EE appserver not supporting Micro Profile
Thu, Dec 8, 2022, 10:48:31 - poikilotherm: It looks like MPCONFIG will be either moved or continued as Jakarta Config BTW
Thu, Dec 8, 2022, 10:48:49 - poikilotherm: https://jakarta.ee/specifications/config/
Thu, Dec 8, 2022, 10:54:41 - pdurbin: Sure, I just assumed Glassfish was behind and still catching up to stuff like MPCONFIG.
Thu, Dec 8, 2022, 10:54:55 - pdurbin: But it's a new Glassfish, I guess.
Thu, Dec 8, 2022, 11:48:40 - pdurbin: We just created a smaller issue to fix dataset creation (from JSF) on Payara 6: https://github.com/IQSS/dataverse/issues/9214
Thu, Dec 8, 2022, 14:32:22 - Don Sizemore: this infographic reminds me that I still want Chapel Hill to host the Dataverse Community Meeting one of these years
Thu, Dec 8, 2022, 14:32:24 - Don Sizemore: https://twitter.com/conradhackett/status/1600696081192566785/photo/1
Thu, Dec 8, 2022, 14:41:31 - pdurbin: Rome == Chicago is hurting my brain
Fri, Dec 9, 2022, 08:07:26 - poikilotherm: This just happened https://helmholtz-metadaten.de/de/veranstaltungen/hmc-fair-friday-mit-leyla-jael-castro-und-oliver-bertuch
Fri, Dec 9, 2022, 08:07:59 - poikilotherm: If you missed it: both talks were in English and they have been recorded. AFAIK they will be released to TIB AV Portal (https://av.tib.eu)
Fri, Dec 9, 2022, 09:14:12 - pdurbin: poikilotherm (CET,UTC+1): nice, thanks for letting us know.
Fri, Dec 9, 2022, 09:17:18 - pdurbin: I ran some Go code at https://github.com/IQSS/open-source-at-harvard that was written for version 1.4 on version 1.19 and it worked fine. Phew. Dataverse still seems to be safely in the lead. üòÖ I'm planning on releasing a new version of my dataset in the new year.

```
$ cat data.tsv | cut -f1,4-8 | head -6
stars	issues	size	forks	watchers	repo
730	1342	122640	410	730	https://github.com/IQSS/dataverse
674	448	50864	149	674	https://github.com/glue-viz/glue
651	121	31425	132	651	https://github.com/hms-dbmi/UpSetR
339	173	58655	65	339	https://github.com/harvard-lil/perma
269	153	263770	87	269	https://github.com/mediacloud/backend
```
Fri, Dec 9, 2022, 09:17:53 - pdurbin: Dataverse also "wins" in terms of open issues. üòÖ
Fri, Dec 9, 2022, 10:30:47 - captainsifff: I've found another metadata standard: www.nwb.org
Fri, Dec 9, 2022, 10:31:09 - pdurbin: Ana Trisovic: ^^
Fri, Dec 9, 2022, 10:32:06 - pdurbin: captainsifff: thanks! I added it to Monday's agenda: https://docs.google.com/document/d/1kyBl7ucED57K_L7twC_H3O8-yOy_rRe9bX_UUjk_D5I/edit?usp=sharing
Fri, Dec 9, 2022, 10:33:07 - pdurbin: captainsifff: did you see I was able to pull out some metadata from the second hdf5 file you gave us? https://github.com/IQSS/dataverse-sample-data/pull/35#issuecomment-1344390335
Fri, Dec 9, 2022, 12:25:58 - pdurbin: Johannes Darms and I are in a talk involving this mysterious org with a link to private docs: https://github.com/runtime50
Fri, Dec 9, 2022, 12:27:47 - captainsifff: <@pdurbin:matrix.org "captainsifff: did you see I was ..."> Great! That's Interesting!
Fri, Dec 9, 2022, 12:41:50 - pdurbin sent an image. (Media omitted)
Fri, Dec 9, 2022, 12:42:05 - pdurbin: captainsifff: it would look something like this (but for your file) ^^
Fri, Dec 9, 2022, 12:46:48 - pdurbin sent an image. (Media omitted)
Fri, Dec 9, 2022, 12:49:56 - pdurbin: https://github.com/primer/octicons/blob/main/icons/squirrel-24.svg
Fri, Dec 9, 2022, 17:28:05 - pdurbin: Have a good weekend, all!
Sun, Dec 11, 2022, 09:43:58 - Daniel Melichar joined the room
Sun, Dec 11, 2022, 09:47:01 - Daniel Melichar: Hello everybody! I'm planning an upgrade of Dataverse from v5.6 to latest. I was wondering if it is necessary to deploy each version explicitly. Or could I just upgrade postgresql, solr, etc. and then deploy latest?
Mon, Dec 12, 2022, 07:26:25 - pdurbin: Daniel Melichar: hi! The official answer is that you need to deploy each version: https://guides.dataverse.org/en/5.12.1/installation/upgrading.html
Mon, Dec 12, 2022, 11:33:49 - pdurbin: poikilotherm (CET,UTC+1): we just discussed https://github.com/IQSS/dataverse/pull/7877 and came close to giving it a size.
Mon, Dec 12, 2022, 12:16:48 - poikilotherm: I see a new generation of running gags about sizing on the horizon üòã
Mon, Dec 12, 2022, 12:18:25 - pdurbin: poikilotherm (CET,UTC+1): speaking of size, we added a bunch of 3's but didn't leave a comment. Perhaps we can do this later today or tomorrow, if you have time.
Mon, Dec 12, 2022, 12:20:58 - poikilotherm: At construction site right now
Mon, Dec 12, 2022, 12:22:46 - poikilotherm sent an image. (Media omitted)
Mon, Dec 12, 2022, 12:22:58 - poikilotherm: My tiny world right now üòÅ
Mon, Dec 12, 2022, 12:23:48 - pdurbin: mmm, cookies and cream
Mon, Dec 12, 2022, 12:47:00 - poikilotherm: You wish üòú
Mon, Dec 12, 2022, 12:48:20 - poikilotherm: What are you using to build your floor? Cookies and Cream. It melts, but the handymen find it delicious
Mon, Dec 12, 2022, 13:25:42 - pdurbin: My kids made gingerbread houses yesterday. Could have used some cookies and cream.
Mon, Dec 12, 2022, 14:23:59 - Don Sizemore: pdurbin: I saw your response about Python-3.10. While Upgrading Everything is always on my to-do list, is there a particular reason anyone wanted/needed 3.10, or is it "just the newest?"
Mon, Dec 12, 2022, 14:25:10 - Don Sizemore: @pdurbin I ask because, while I can reinstall things with newer OSes here, the organizational preference is to move them to AWS, which will provide a flat monthly bill per service (but will also require more re-architecting)
Mon, Dec 12, 2022, 14:26:56 - pdurbin: I think it's just that developers like me accidentally end up with new versions of Python on their dev machines. So the PR is really about communicating with them that they should stay in sync with what's in prod (slightly older Python and Sphinx). Does that make sense?
Mon, Dec 12, 2022, 14:27:28 - Don Sizemore: it's fine by me, I just hate to be the reason you have to tell people "you can't use that yet."
Mon, Dec 12, 2022, 14:28:03 - pdurbin: If there's some compelling reason to upgrade Sphinx, I'll knock on your door. üòÑ
Mon, Dec 12, 2022, 14:28:18 - Don Sizemore: I mean, I upgraded it to 3.5.4...
Mon, Dec 12, 2022, 14:28:36 - pdurbin: Yeah, from 1.x if I remember correctly. Thanks!
Tue, Dec 13, 2022, 05:18:06 - Jan Range joined the room
Tue, Dec 13, 2022, 05:30:59 - Jan Range: Hi everyone :-) 

I am currently developing a web-app that allows you to review any Dataverse dataset. Reviewers can accept/decline/comment on each primitive/compound field as well as suggest other fields that might be necessary. As a result, the user receives a well-formatted PDF/E-Mail that is generated from the review. Revisions are also stored to document the evolution of the review/dataset in case of any problems.

Goal of the app is to improve and streamline the review process such that it can be distributed to multiple experts rather than just admins - And of course to go away from writing similar e-mails all the time ;-D

I would like to present this to you in the scope of the Tuesday Call at the 10th of January 23 and wanted to ask if there is a free slot for this date?


Tue, Dec 13, 2022, 05:35:17 - Benjamin (SODHA): <@janrange:matrix.org "Hi everyone :-) "> That sounds awesome!!!
Tue, Dec 13, 2022, 05:36:50 - Benjamin (SODHA): I think people would also love to hear about your project during the CESSDA Tools Working Group Open Hour meeting. There's going to be one on Thurday between 3 and 4pm CET
Tue, Dec 13, 2022, 05:37:25 - Benjamin (SODHA): The agenda might already be full but I could give your name to the organiser, who would likely invite you to the next one if not to this one
Tue, Dec 13, 2022, 05:37:33 - Benjamin (SODHA): Would you be interested, Jan Range ?
Tue, Dec 13, 2022, 05:38:54 - Jan Range: Thanks a lot Benjamin, sounds awesome! Happy to present it at CESSDA Tools too :-) 
Tue, Dec 13, 2022, 05:39:40 - Benjamin (SODHA): Great! Thanks :) I'll forward your message to Mari Kleemola, from the Finnish Social Science Data Archive (FSD)
Tue, Dec 13, 2022, 05:39:51 - Jan Range: Awesome!! :-) 
Tue, Dec 13, 2022, 05:39:55 - Jan Range: Do you need my mail?
Tue, Dec 13, 2022, 05:40:48 - Benjamin (SODHA): Sure thing. I'll put you in cc if you like
Tue, Dec 13, 2022, 05:41:12 - Benjamin (SODHA): Ah you work at Stuttgart University then?
Tue, Dec 13, 2022, 05:42:55 - Jan Range: Alright, my mail is jan.range@simtech.uni-stuttgart.de
Tue, Dec 13, 2022, 05:43:09 - Jan Range: <@benjamin_peuch:matrix.org "Ah you work at Stuttgart Univers..."> Yes :-) I am working for the SimTech Cluster
Tue, Dec 13, 2022, 05:46:59 - Benjamin (SODHA): I see. Maybe you know Dorothea Iglezakis?
Tue, Dec 13, 2022, 05:47:12 - Jan Range: Yes, she is my colleague :-) 
Tue, Dec 13, 2022, 05:47:29 - Benjamin (SODHA): We met in early 2020 (before the pandemic really broke out in Europe). She came to Brussels for a FOSDEM fringe meeting organized at the State Archives, where I work :)
Tue, Dec 13, 2022, 05:47:35 - Jan Range: We are hosting the DaRUS Dataverse together here at our univserity
Tue, Dec 13, 2022, 05:47:44 - Benjamin (SODHA): Ah-ha, that's it!
Tue, Dec 13, 2022, 05:47:59 - Jan Range: The world is a village :-D 
Tue, Dec 13, 2022, 06:01:48 - Benjamin (SODHA): Email sent :)
Tue, Dec 13, 2022, 06:24:17 - * pdurbin yawns ... the sun is just coming up over here
Tue, Dec 13, 2022, 06:25:08 - pdurbin: Jan Range: your app sounds amazing! Absolutely you can present it on Jan 10th. I just added it to the agenda: https://docs.google.com/document/d/1pU9FbyNAnLmOklWVpbzd9nZkAtkbn1SZ1sBE4jDsjf0/edit?usp=sharing
Tue, Dec 13, 2022, 06:26:35 - pdurbin: <@benjamin_peuch:matrix.org "We met in early 2020 (before the..."> Such a great event. More of these, please. üòÑ
Tue, Dec 13, 2022, 06:27:55 - pdurbin: Also, the last community call of the year will be in about 3.5 hours: https://dataverse.org/community-calls
Tue, Dec 13, 2022, 08:05:49 - pdurbin: vera_c: hi! Would you like to join a Slack channel about Dataverse auth? I already tried to invite Johannes Darms but I don't have your email. If so, you can DM me your address or email me at philip_durbin@harvard.edu. Thanks. Guillermo Portas and poikilotherm (CET,UTC+1) are in there. It's a good time. üéâ
Tue, Dec 13, 2022, 08:13:45 - vera_c: <@pdurbin:matrix.org "vera_c: hi! Would you like to jo..."> Sure! Will DM you.
Tue, Dec 13, 2022, 08:31:35 - poikilotherm: Argh once again I need to some quick experimentation within Dataverse and cannot simple start a few containers to get going...
Tue, Dec 13, 2022, 08:32:43 - poikilotherm: pdurbin: should we go ahead and just merge https://github.com/IQSS/dataverse/pull/8933? It's not harming any code, only adding good value
Tue, Dec 13, 2022, 08:37:55 - pdurbin: Shall we put it at the top of the community backlog?
Tue, Dec 13, 2022, 08:51:42 - poikilotherm: Would that help?
Tue, Dec 13, 2022, 08:52:30 - pdurbin: Well, it's a queue. FIFO.
Tue, Dec 13, 2022, 08:53:00 - poikilotherm: üôÑ
Tue, Dec 13, 2022, 08:53:07 - poikilotherm: Ok lets do that
Tue, Dec 13, 2022, 08:53:13 - pdurbin: one sec
Tue, Dec 13, 2022, 08:53:20 - poikilotherm: Can do it myself
Tue, Dec 13, 2022, 08:53:43 - pdurbin: Done!
Tue, Dec 13, 2022, 08:53:47 - poikilotherm: Thanks
Tue, Dec 13, 2022, 08:54:23 - pdurbin: Even before the trivial sphinx fix.
Tue, Dec 13, 2022, 08:54:29 - poikilotherm: I expect this to be looked at in June
Tue, Dec 13, 2022, 08:54:37 - pdurbin: heh
Tue, Dec 13, 2022, 08:55:24 - pdurbin: We're talking about this new global backlog board in about an hour. It's on the agenda: https://dataverse.org/community-calls
Tue, Dec 13, 2022, 08:55:59 - poikilotherm: <@oliver:bertuch.name "I expect this to be looked at in..."> (Meaning: not before June because no one has time for it...)
Tue, Dec 13, 2022, 08:57:07 - pdurbin: We recently merged https://github.com/IQSS/dataverse/pull/8983 and https://github.com/IQSS/dataverse/pull/9213 from the community.
Tue, Dec 13, 2022, 09:51:20 - Benjamin (SODHA): <@pdurbin:matrix.org "Such a great event. More of thes..."> It was great to gather among Dataverse users <3
Tue, Dec 13, 2022, 09:51:49 - Benjamin (SODHA): And now that Covid is not so malignant as it used to be...
Tue, Dec 13, 2022, 09:52:33 - Benjamin (SODHA): By the by, are you coming for the 2023 edition of the FOSDEM, pdurbin? üòá
Tue, Dec 13, 2022, 09:52:43 - pdurbin: I wish!
Tue, Dec 13, 2022, 10:21:10 - poikilotherm: I wont be coming to community call... Report writing with Ana Trisovic üòÑ
Tue, Dec 13, 2022, 11:02:54 - pdurbin: No worries. It was interesting. Talked about the new global backlog: https://github.com/orgs/IQSS/projects/34
Tue, Dec 13, 2022, 11:33:35 - poikilotherm: pdurbin: I just saw https://github.com/IQSS/dataverse/pull/7877#issuecomment-1348992110
Tue, Dec 13, 2022, 11:33:53 - poikilotherm: Will send the updated commits
Tue, Dec 13, 2022, 11:34:14 - poikilotherm: Do you want me to delete the workflow things from schema.xml, too?
Tue, Dec 13, 2022, 11:34:38 - poikilotherm: (Separate commit, mention in PR, maybe add issue first and close with this PR)
Tue, Dec 13, 2022, 11:34:56 - poikilotherm: This a very small thing to do and maybe that helps with getting things done
Tue, Dec 13, 2022, 11:56:20 - Jan Range: I am currently facing a problem with a medium sized file upload (7gb) and was investigating the direct upload to the S3 storage found in the docs. When enabled, is it possible to use the Boto3 library to perform the upload? 
Tue, Dec 13, 2022, 11:57:42 - Jan Range: Afaik the library can also be used with non-AWS S3 storages such as MinIO
Tue, Dec 13, 2022, 12:00:08 - poikilotherm: That should work
Tue, Dec 13, 2022, 12:00:21 - poikilotherm: I'd be interested in a working Python script
Tue, Dec 13, 2022, 12:00:52 - Jan Range: Perfect! I'll give it a try and will keep you posted
Tue, Dec 13, 2022, 12:01:07 - Jan Range: That would be a nice addition to EasyDataverse as an alternative to HTTP
Tue, Dec 13, 2022, 12:01:07 - poikilotherm: I added an upload via-api to https://github.com/gdcc/dvcli recently, but would love to see something like an S3 upload, too
Tue, Dec 13, 2022, 12:02:30 - pdurbin: poikilotherm (CET,UTC+1): no, we'll make a separate PR to remove the workflow lines from schema.xml
Tue, Dec 13, 2022, 12:04:21 - pdurbin: Jan Range: you could also try DVUploader, which supports S3 and S3-like storage: https://guides.dataverse.org/en/5.12.1/user/dataset-management.html#command-line-dvuploader
Tue, Dec 13, 2022, 12:04:59 - pdurbin: Jan Range: also, I promoted your Jan 10th reviewer thing this morning during the community call. üòÑ
Tue, Dec 13, 2022, 12:05:49 - Jan Range: <@pdurbin:matrix.org "Jan Range: you could also try DV..."> Thanks! Will have a look into it when we've enabled the Direct Upload :-) 
Tue, Dec 13, 2022, 12:06:35 - Jan Range: <@pdurbin:matrix.org "Jan Range: also, I promoted your..."> Really nice, looking forward to presenting it! Sorry that I've missed the call, currently overloaded with meetings üò´
Tue, Dec 13, 2022, 12:07:30 - pdurbin: No worries. We need to keep you out of meetings so you have more time for hacking! üòÑ
Tue, Dec 13, 2022, 13:07:20 - Don Sizemore: Jan Range: seconded on dv-uploader. note that, since Dataverse doesn't allow an external way to determine whether a datastore supports direct uploads, one must specify -direct. other than that, it's essentially rsync for datasets
Tue, Dec 13, 2022, 14:26:11 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): no, we..."> Do you want me to create an issue and that PR?
Tue, Dec 13, 2022, 14:26:20 - poikilotherm: It's 4 lines of code :-D
Tue, Dec 13, 2022, 14:26:21 - pdurbin: Sure!
Tue, Dec 13, 2022, 14:27:24 - poikilotherm: There's no issue, aye?
Tue, Dec 13, 2022, 14:27:37 - pdurbin: correct
Tue, Dec 13, 2022, 14:53:40 - poikilotherm: pdurbin: there you go
Tue, Dec 13, 2022, 14:53:40 - poikilotherm: https://github.com/IQSS/dataverse/pull/9225
Tue, Dec 13, 2022, 14:53:51 - poikilotherm: Message deleted
Tue, Dec 13, 2022, 14:56:25 - pdurbin: Looks great! Thanks!
Tue, Dec 13, 2022, 14:57:17 - poikilotherm: See you in 2024 üòù
Tue, Dec 13, 2022, 14:57:30 - poikilotherm: (Only joking)
Tue, Dec 13, 2022, 14:57:38 - pdurbin: üòÑ
Tue, Dec 13, 2022, 15:11:57 - Don Sizemore: @poikilotherm I would gladly hibernate until late Spring
Tue, Dec 13, 2022, 15:15:29 - pdurbin: Don Sizemore: did you see the upgrade question? I gave the conservative answer.
Tue, Dec 13, 2022, 15:15:48 - Don Sizemore: yes. I started to answer but waited for someone more official
Tue, Dec 13, 2022, 15:15:57 - pdurbin: <@pdurbin:matrix.org "Daniel Melichar: hi! The officia..."> this ^^
Tue, Dec 13, 2022, 15:16:29 - Don Sizemore: at Odum I'm accustomed to saying "well, the _safest_ way, which may not be the cleanest/easiest/most straightforward way..."
Tue, Dec 13, 2022, 15:16:43 - pdurbin: heh
Tue, Dec 13, 2022, 15:17:25 - pdurbin: Anyway, Daniel Melichar if you're listening you might be able to skip a release here or there, if the only change is to the war file. If the only step is to deploy a war file.
Tue, Dec 13, 2022, 15:17:41 - Don Sizemore: I mean, in the case of 5.11, one _has_ to.
Tue, Dec 13, 2022, 15:17:50 - pdurbin: heh, true
Tue, Dec 13, 2022, 15:17:56 - pdurbin: we don't talk about 5.11
Tue, Dec 13, 2022, 16:06:58 - poikilotherm: > <@donsizemore:matrix.org> yes. I started to answer but waited for someone more official

pdurbin said you're basically IQSS inventory üòú
Tue, Dec 13, 2022, 16:09:13 - Don Sizemore: @poikilotherm are they offerin?
Tue, Dec 13, 2022, 16:11:11 - pdurbin: Not sure what you two are on about but carry on! üòÑ
Wed, Dec 14, 2022, 04:37:46 - Benjamin (SODHA): <@pdurbin:matrix.org "Such a great event. More of thes..."> I should have mentioned that it was you, Phil, you suggested the whole thing!
Wed, Dec 14, 2022, 04:38:26 - Benjamin (SODHA): Youssef showed me the pics where you cheer together at the ULB university :D
Wed, Dec 14, 2022, 07:17:13 - pdurbin: Oh, right. Well, it was good idea. üòÑ
Wed, Dec 14, 2022, 07:18:30 - pdurbin: poikilotherm (CET,UTC+1) Johannes Darms did you pick a time to hack on auth? Guillermo Portas and I and possibly others would be happy to join.
Wed, Dec 14, 2022, 07:32:45 - poikilotherm: Word is 15:30 CET for now
Wed, Dec 14, 2022, 07:47:11 - pdurbin: Ok, thanks.
Wed, Dec 14, 2022, 08:45:19 - poikilotherm: pdurbin is sending me messages via the gdcc.io mail address üòÑ
Wed, Dec 14, 2022, 08:46:27 - pdurbin: The? You mean one of the addresses, right? üòÑ
Wed, Dec 14, 2022, 08:46:55 - pdurbin: If you get 5 PRs merged you should get a lifetime gdcc.io address.
Wed, Dec 14, 2022, 08:47:26 - pdurbin: Are you two going to announce the time in the auth channel?
Wed, Dec 14, 2022, 08:52:19 - poikilotherm: It happened in the thread - posted under it and sent also to channel
Wed, Dec 14, 2022, 08:54:31 - pdurbin: thanks
Wed, Dec 14, 2022, 09:14:29 - pdurbin: poikilotherm (CET,UTC+1): check out how many of your PRs are now in the 3Ô∏è‚É£‚ñ∂ üí®üëüSPRINT READY BACKLOG column: https://github.com/orgs/IQSS/projects/34/views/1
Wed, Dec 14, 2022, 09:15:33 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): check ..."> Whaaaaaaat! So many!!!!!!!
Wed, Dec 14, 2022, 09:15:39 - poikilotherm: ü•≥
Wed, Dec 14, 2022, 09:15:43 - poikilotherm: üéâ
Wed, Dec 14, 2022, 09:15:47 - pdurbin: heh
Wed, Dec 14, 2022, 09:16:34 - pdurbin: Are you happy with the order in the "Community Backlog (Phil)" column?
Wed, Dec 14, 2022, 09:16:49 - pdurbin: (looks like I need to start adding sizes again)
Wed, Dec 14, 2022, 09:32:05 - Johannes Darms: I'd like priotise on the not yet existing PR. OIDC based Bearer Auth Token support :)
Wed, Dec 14, 2022, 09:32:46 - pdurbin: heh, well, so far the rearchitecture stuff isn't on any board and very few issues so far
Wed, Dec 14, 2022, 11:08:08 - poikilotherm: Johannes Darms: are you going to create an issue for this like *now* because then I'd create a branch with the issue number in it :-D
Wed, Dec 14, 2022, 11:08:28 - poikilotherm: (And push our little code experiment)
Wed, Dec 14, 2022, 11:08:51 - Johannes Darms: as a place holder yes, detailed with info not tuday
Wed, Dec 14, 2022, 11:12:44 - poikilotherm: pdurbin: do you want me to add that feature flag thing in a separate PR?
Wed, Dec 14, 2022, 11:13:02 - poikilotherm: It should be fairly small, but still...
Wed, Dec 14, 2022, 11:13:19 - poikilotherm: I know y'all like small PRs
Wed, Dec 14, 2022, 11:43:56 - Johannes Darms: https://github.com/IQSS/dataverse/issues/9229
Wed, Dec 14, 2022, 11:59:10 - pdurbin: poikilotherm (CET,UTC+1): same PR, please.
Wed, Dec 14, 2022, 11:59:20 - poikilotherm: Alright!
Wed, Dec 14, 2022, 11:59:52 - pdurbin: And here's the issue I created for adding a Keycloak config for testing existing OIDC login: https://github.com/IQSS/dataverse/issues/9228
Wed, Dec 14, 2022, 12:06:31 - poikilotherm: Here's the code we worked on today: https://github.com/IQSS/dataverse/pull/9230
Wed, Dec 14, 2022, 12:06:57 - poikilotherm: It's a draft only, needs polishing and extension obviously, but still wanted to share it
Wed, Dec 14, 2022, 12:08:02 - pdurbin: Awesome. To test it, I need Keycloak or similar, from what I understand.
Wed, Dec 14, 2022, 12:08:37 - poikilotherm: Japp
Wed, Dec 14, 2022, 12:09:08 - poikilotherm: Will be easier to test once we have the IdP metadata around
Wed, Dec 14, 2022, 12:09:21 - pdurbin: poikilotherm (CET,UTC+1): is that what you use for testing? Keycloak?
Wed, Dec 14, 2022, 12:09:31 - poikilotherm: You could of course also go for some other cloud based OIDC provider. Like Auth0, Okta, ...
Wed, Dec 14, 2022, 12:10:20 - poikilotherm: I did testing with our federation IDP when I develop the OIDC web auth flow
Wed, Dec 14, 2022, 12:10:31 - poikilotherm: It really shouldn't matter :-D
Wed, Dec 14, 2022, 12:10:45 - poikilotherm: Maybe you can ask the SID people to reuse theirs :-D
Wed, Dec 14, 2022, 12:10:49 - pdurbin: ok, you have resources üòÑ
Wed, Dec 14, 2022, 12:11:22 - pdurbin: I think I just want a PR for the issue I opened. Keycloak config and docs.
Wed, Dec 14, 2022, 12:11:50 - pdurbin: then it can be reused for testing your PR
Wed, Dec 14, 2022, 12:11:59 - poikilotherm: pdurbin: please let me know if that feature flag feature we are talking about should be for api only or complete app
Wed, Dec 14, 2022, 12:12:11 - poikilotherm: (Matter of where I put it and name it)
Wed, Dec 14, 2022, 12:12:55 - pdurbin: The place you suggested looks fine:

```
        // TODO: Add feature flag barrier here!
        } else if (getOidcBearerToken(httpRequest).isPresent()) {
```
Wed, Dec 14, 2022, 12:13:44 - pdurbin: `if (bearerTokenAllowed && getOidcB...`
Wed, Dec 14, 2022, 12:45:09 - poikilotherm: Sorry that's not what I meant
Wed, Dec 14, 2022, 12:45:25 - poikilotherm: Obviously it would be wise to have a more general feature flag thing avail
Wed, Dec 14, 2022, 12:45:53 - poikilotherm: Because we might need it for other features during the transition to an SPA
Wed, Dec 14, 2022, 12:46:28 - poikilotherm: But I'm wondering if it should be done for API features for now and/or for the application itself, too
Wed, Dec 14, 2022, 13:26:01 - pdurbin: I think of it as an app wide setting, even though it only affects the API, if that helps, poikilotherm (CET,UTC+1) . Off by default, please.
Wed, Dec 14, 2022, 13:30:22 - pdurbin: poikilotherm (CET,UTC+1): in your PR would it be possible to add a line or two to the docs to close https://github.com/IQSS/dataverse/issues/9223 (I'm happy to help)
Wed, Dec 14, 2022, 13:38:26 - poikilotherm: Sure!
Wed, Dec 14, 2022, 13:40:18 - pdurbin: Awesome. I guess we'll say something like "there's experimental support if you flip this switch" or whatever.
Wed, Dec 14, 2022, 13:51:47 - poikilotherm: Here's some code for this
Wed, Dec 14, 2022, 13:51:47 - poikilotherm: https://github.com/IQSS/dataverse/pull/9230/files/861b93c30d6dfaaef2003ae39218223b3509c716..04b7eac7dba67d7f594d39dfcae4888ebcf17255
Wed, Dec 14, 2022, 13:52:09 - poikilotherm: It's only a few lines of code actually :-D
Wed, Dec 14, 2022, 14:06:41 - pdurbin: Feature gates? I think feature flags is more common.
Wed, Dec 14, 2022, 14:06:55 - poikilotherm: Is it?
Wed, Dec 14, 2022, 14:07:06 - poikilotherm: Kubernetes calls them Feature Gates
Wed, Dec 14, 2022, 14:07:14 - pdurbin: orly
Wed, Dec 14, 2022, 14:07:20 - pdurbin: https://en.wikipedia.org/wiki/Feature_toggle
Wed, Dec 14, 2022, 14:07:40 - poikilotherm: Oh wow
Wed, Dec 14, 2022, 14:08:18 - pdurbin: can we go with feature flag?
Wed, Dec 14, 2022, 14:09:26 - poikilotherm: Uhm yeah if you want I can rename the class
Wed, Dec 14, 2022, 14:10:00 - poikilotherm: Aside from naming, does this look like helpful code?
Wed, Dec 14, 2022, 14:12:03 - pdurbin: Sure, looks helpful. Needs an entry in the guides, of course.
Wed, Dec 14, 2022, 14:12:32 - poikilotherm: Working on that
Wed, Dec 14, 2022, 14:13:07 - pdurbin: We could probably migrate a few settings to this.
Wed, Dec 14, 2022, 14:13:55 - pdurbin: various database settings that start with `:Allow...`
Wed, Dec 14, 2022, 14:14:59 - poikilotherm: üôà
Wed, Dec 14, 2022, 14:15:34 - poikilotherm: I had an idea last night about how to enable backward compatibility with the DB settings for JvmSettings
Wed, Dec 14, 2022, 14:17:14 - poikilotherm: My idea is to add another bunch of functions to enable the jvm settings use a `Supplier`, which is a lambda function, executed by the lookup function
Wed, Dec 14, 2022, 14:18:06 - poikilotherm: That way I can avoid the need to inject the settings service, which was not very successful in the past... üò¨
Wed, Dec 14, 2022, 14:18:43 - poikilotherm: It's not perfect though...
Wed, Dec 14, 2022, 14:19:54 - pdurbin: whatever makes configuring Dataverse awesome
Wed, Dec 14, 2022, 14:20:10 - pdurbin: Johannes Darms said he's not picky about configuration
Wed, Dec 14, 2022, 14:20:17 - pdurbin: picky*
Wed, Dec 14, 2022, 14:22:37 - poikilotherm: BRB
Wed, Dec 14, 2022, 14:44:08 - poikilotherm: <@pdurbin:matrix.org "Johannes Darms said he's not pic..."> Orly? Why is that  Johannes Darms ?
Wed, Dec 14, 2022, 14:45:38 - poikilotherm: Did he tell you pdurbin ?
Wed, Dec 14, 2022, 14:48:58 - poikilotherm: pdurbin: renamed as requested: https://github.com/IQSS/dataverse/pull/9230/commits/5e851433c0f4c0bcd379ec2943445e73b69023c2
Wed, Dec 14, 2022, 14:51:59 - pdurbin: so much better, thank you!
Wed, Dec 14, 2022, 14:52:29 - pdurbin: yes, he told me
Wed, Dec 14, 2022, 14:55:26 - poikilotherm: Details... I want Deeeeeetails üòÖ
Wed, Dec 14, 2022, 14:57:34 - pdurbin: take it to the de channel üòÑ
Wed, Dec 14, 2022, 14:59:57 - poikilotherm: Maybe Johannes Darms can tell us in here :-D
Wed, Dec 14, 2022, 15:45:53 - poikilotherm: pdurbin: this helpful? https://github.com/IQSS/dataverse/pull/9230/commits/b11e4f1a72c8205dff9e93a9da721c84ede1913f
Wed, Dec 14, 2022, 15:46:03 - poikilotherm: Docs docs docs docs :-D
Wed, Dec 14, 2022, 15:51:51 - pdurbin: Yes, the docs look lovely. I'd suggest mentioning the old `:Allow...` settings as well. That way people can know about them. And maybe we'll consolidate some day.
Wed, Dec 14, 2022, 15:52:17 - poikilotherm: Feel free to add them :-D
Wed, Dec 14, 2022, 15:52:40 - pdurbin: ok but not today, leaving soon, getting dark üö≤Ô∏è
Wed, Dec 14, 2022, 15:52:44 - poikilotherm: I'm hacking away on retrieving the providers and iterating them to get user info from them :-D
Wed, Dec 14, 2022, 15:52:51 - poikilotherm: Okidoki
Wed, Dec 14, 2022, 15:52:56 - poikilotherm: Have a safe trip back!
Wed, Dec 14, 2022, 15:53:02 - poikilotherm: No swimming in the river...
Wed, Dec 14, 2022, 15:53:26 - pdurbin: no rowing either, cold
Wed, Dec 14, 2022, 15:53:43 - poikilotherm: ü•∂
Wed, Dec 14, 2022, 15:57:22 - pdurbin: -13 C with windchill this morning
Wed, Dec 14, 2022, 16:30:51 - poikilotherm: We have had -5 here when I drove home earlier
Wed, Dec 14, 2022, 16:32:07 - poikilotherm: Johannes Darms Guillermo Portas pdurbin I do have some proof of concept code done in https://github.com/IQSS/dataverse/pull/9230 now. I didn't test it yet üôà Just some quick hacking for leisure. Feel free to test and report errors
Wed, Dec 14, 2022, 17:34:56 - pdurbin: I updated the description that it closes #9223. Thanks for the doc update.
Wed, Dec 14, 2022, 21:15:55 - pdurbin: For Dataverse we use boards/projects to communicate priorities ( https://github.com/IQSS/dataverse-installations/issues/146 ) but I'm experimenting with using GitHub Discussions in my fork of a project (Quiet) to communicate my wishlist: https://github.com/pdurbin/quiet/discussions/2 . That way, I don't have to ask the Quiet team to create a board for me. You lose some niceties but it's lighter weight. Just something I'm playing with.
Thu, Dec 15, 2022, 03:35:09 - poikilotherm: Morning Johannes Darms - let me know if you want to give the code from yesterday a shot! I don't have many appointments today.
Thu, Dec 15, 2022, 03:46:30 - Johannes Darms: Good morning poikilotherm (CET,UTC+1) , I'm stuck in meeting again but I hope that vera_c can spend her day testing the PR
Thu, Dec 15, 2022, 03:55:24 - poikilotherm: Sure! vera_c let me know if you would like to do some pair programming on this
Thu, Dec 15, 2022, 05:42:13 - vera_c: <@oliver:bertuch.name "Sure! vera_c let me know if you ..."> Will do! Going to take a look at it and do some testing now
Thu, Dec 15, 2022, 05:42:44 - poikilotherm: <@vera_c:matrix.org "Will do! Going to take a look at..."> Great! I'm here :-)
Thu, Dec 15, 2022, 06:29:48 - pdurbin: Go go go! üöÄ
Thu, Dec 15, 2022, 08:21:28 - pdurbin: From Philipp : "Some of the results from the Dataverse Community Survey 2022 are now presented in this report: https://doi.org/10.7557/7.6872. The raw data and processed data are available in this dataset: https://doi.org/10.18710/UOC8CP ." Also posted to https://groups.google.com/g/dataverse-community/c/gI7vJRNqrPw/m/Iyp47y3SAwAJ
Thu, Dec 15, 2022, 08:27:34 - pdurbin: A 75 page report. Pretty impressive!
Thu, Dec 15, 2022, 08:37:54 - Miguel Silva: Hello everyone 
Thu, Dec 15, 2022, 08:39:46 - Miguel Silva: Is now available on github the gerber files for the 12bit smart DAQ able to do experimental data upload to a dataverse. All open hardware. Here's the link to the repo catalog 
https://github.com/aeonSolutions/PCB-Prototyping-Catalogue

Thu, Dec 15, 2022, 08:40:06 - Miguel Silva: And here's a short video from this morning 
Thu, Dec 15, 2022, 08:41:38 - Miguel Silva: 20221215_132914.mp4 (Media omitted)
Thu, Dec 15, 2022, 08:58:25 - pdurbin: It reminds me a bit of a pineapple. After you slice the peel off. üçç
Thu, Dec 15, 2022, 09:05:24 - jmfc: Hi, I don't know if anyone can help me with a question about the Dataverse handling of email addresses.
Thu, Dec 15, 2022, 09:06:08 - jmfc: I have a noreply email for the system. And I'd like that any messages sent through the contact form go directly to a helpdesk email that is connected to a ticketing system
Thu, Dec 15, 2022, 09:06:42 - jmfc: is there anyway I can set this up? I've been searching the user guide and the only references to email that I've found, are regarding the system email.
Thu, Dec 15, 2022, 09:16:37 - pdurbin: jmfc: just so I understand... You have a noreply address as the system email. So when users create a dataset they get a "dataset created" email from this noreply address. However, when people use the contact form it also goes to this noreply address (into a black hole, basically). You'd like the contact form to go to an alternative address (into your ticketing system). Is that right?
Thu, Dec 15, 2022, 09:20:50 - pdurbin: jmfc: if so, I think :SupportEmail from a recent (unmerged) pull request from qqmyers should give you what you want. Please see https://dataverse-guide--9186.org.readthedocs.build/en/9186/installation/config.html#supportemail for a preview of the docs and https://github.com/IQSS/dataverse/pull/9186
Thu, Dec 15, 2022, 12:50:27 - vera_c: <@oliver:bertuch.name "Great! I'm here :-)"> Commented on the PR :)
Thu, Dec 15, 2022, 13:30:47 - poikilotherm: <@vera_c:matrix.org "Commented on the PR :)"> Great! Commits look good, all good catches! Thx for polishing this further
Thu, Dec 15, 2022, 13:31:12 - poikilotherm: vera_c: would you create a PR against my PR? Happy to merge your changes 
Thu, Dec 15, 2022, 13:32:25 - poikilotherm: WRT to the lookup: just looked at the code organization again, we need to change that. The sub is stored, but the `authSvc.lookup()` needs to be feed the provider ID, too
Thu, Dec 15, 2022, 13:32:55 - poikilotherm: Will take a look tomorrow if you want
Thu, Dec 15, 2022, 13:40:18 - poikilotherm: <@oliver:bertuch.name "vera_c: would you create a PR ag..."> BTW: glad to see someone else picking up conventional commits!
Thu, Dec 15, 2022, 16:35:13 - Johannes Darms: awesome work vera_c poikilotherm (CET,UTC+1) ! Many thanks!
Fri, Dec 16, 2022, 02:58:00 - poikilotherm: vera_c: r u around?
Fri, Dec 16, 2022, 03:29:04 - vera_c: <@oliver:bertuch.name "vera_c: r u around?"> Yup
Fri, Dec 16, 2022, 03:33:35 - poikilotherm: Did you see my question above about creating a PR against my PR? Or should I just grab your commits and push them into my branch?
Fri, Dec 16, 2022, 03:36:14 - vera_c: PR should be there, unless I did something wrong üòÑ https://github.com/poikilotherm/dataverse/pull/599
Fri, Dec 16, 2022, 04:05:12 - poikilotherm: Merged! Thanks!
Fri, Dec 16, 2022, 04:06:41 - poikilotherm: I need to look into a few things just now, but would you like to do some remote pair programming to polish this further?
Fri, Dec 16, 2022, 04:32:58 - vera_c: <@oliver:bertuch.name "I need to look into a few things..."> Sure, I am in a meeting now but I think it will end any minute :) then I am free the rest of the day
Fri, Dec 16, 2022, 05:20:46 - poikilotherm: vera_c: I'll head out for lunch now, but will be back. Let me know when you're up for some hacking!
Fri, Dec 16, 2022, 05:21:28 - poikilotherm: (And will need to resolve some logistics at ~12:30)
Fri, Dec 16, 2022, 06:44:39 - poikilotherm: I'm back vera_c 
Fri, Dec 16, 2022, 06:45:10 - poikilotherm: https://code-with-me.global.jetbrains.com/tDPSxEHVLZRCEtjRx-cEHQ#p=IU&fp=749E128856BFCD1E9F8EB717D397673E41A6011949326948DABD2AD996D1A7BC
Fri, Dec 16, 2022, 07:17:26 - pdurbin: What? Germans from the future hacking on Dataverse while we sleep? Am I still dreaming?
Fri, Dec 16, 2022, 07:41:52 - poikilotherm: Wow... That VC component in Code With Me is kinda broken
Fri, Dec 16, 2022, 07:49:28 - poikilotherm: <@pdurbin:matrix.org "What? Germans from the future ha..."> Maybe :-D
Fri, Dec 16, 2022, 07:49:47 - poikilotherm: üí§üõå
Fri, Dec 16, 2022, 12:24:37 - pdurbin: Save the Date! The 9th annual Dataverse Community Meeting will take place on June 5-7, 2023, at the University of Minho, Braga, Portugal: https://twitter.com/dataverseorg/status/1603799334478381056
Fri, Dec 16, 2022, 14:25:24 - pdurbin: poikilotherm (CET,UTC+1): my laptop is getting a little warm running `mvn -Pct -f modules/container-base install`
Fri, Dec 16, 2022, 14:46:30 - pdurbin: Looks good to me. Approved!
```
$ docker images | head -2
REPOSITORY              TAG               IMAGE ID       CREATED          SIZE
gdcc/base               unstable          0a03fd50e8bf   11 minutes ago   588MB
```
Fri, Dec 16, 2022, 14:46:47 - pdurbin: carlsonp: ^^
Fri, Dec 16, 2022, 14:47:46 - poikilotherm: Wow 588MB
Fri, Dec 16, 2022, 14:47:57 - poikilotherm: Oh is this the combined Image?
Fri, Dec 16, 2022, 14:48:16 - poikilotherm: Containing both x86 and arm64?
Fri, Dec 16, 2022, 14:48:55 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): my lap..."> Haha you bought it to get a job done 
Fri, Dec 16, 2022, 14:50:32 - poikilotherm: Thanks for tweaking the docs a little more!
Fri, Dec 16, 2022, 14:51:19 - poikilotherm: Any API test breaking would make me worry... nothing was touched in there, thus it's completely unrelated
Fri, Dec 16, 2022, 14:52:03 - pdurbin: I'd be worried too. But all tests are passing so I think we're good.
Fri, Dec 16, 2022, 14:52:38 - pdurbin: In the guides I sort of wanted a line or two about what to do next. Obviously YOU know what to do next!
Fri, Dec 16, 2022, 14:52:53 - pdurbin: But it's fine. I know you'll have another PR that builds on top of this one.
Fri, Dec 16, 2022, 14:53:21 - pdurbin: And I have no idea if it's a combined image or not.
Fri, Dec 16, 2022, 14:54:40 - poikilotherm: Nope, it's the single one
Fri, Dec 16, 2022, 14:56:03 - poikilotherm: Our image is about 250MB larger than payara official
Fri, Dec 16, 2022, 14:56:22 - pdurbin: ok
Fri, Dec 16, 2022, 14:56:33 - poikilotherm: They are at 327MB
Fri, Dec 16, 2022, 14:57:09 - poikilotherm: But we include lots of tools in the image to work with things
Fri, Dec 16, 2022, 14:57:16 - poikilotherm: Like ImageMagick
Fri, Dec 16, 2022, 14:57:38 - poikilotherm: So probably it's fine.
Fri, Dec 16, 2022, 14:58:10 - pdurbin: only the best tools
Fri, Dec 16, 2022, 14:58:47 - pdurbin: What's next? MPCONFIG version?
Fri, Dec 16, 2022, 14:59:02 - pdurbin: What should I review next, I mean.
Fri, Dec 16, 2022, 14:59:30 - pdurbin: Seeing as how base image was just merged.
Fri, Dec 16, 2022, 15:02:07 - poikilotherm: Wow!
Fri, Dec 16, 2022, 15:02:10 - poikilotherm: That was fast!
Fri, Dec 16, 2022, 15:02:43 - poikilotherm: I suppose Kevin did not want to waste CPU cycles on his machine when you burnt yours already üòÜ
Fri, Dec 16, 2022, 15:02:55 - pdurbin: I suppose not.
Fri, Dec 16, 2022, 15:03:10 - poikilotherm: Sure, any MPCONFIG stuff is much appreciated!
Fri, Dec 16, 2022, 15:04:01 - pdurbin: I guess I'll look at version, then.
Fri, Dec 16, 2022, 15:04:33 - poikilotherm: Splendid!
Fri, Dec 16, 2022, 15:06:16 - poikilotherm: Wow. The first step for upstream containers!
Fri, Dec 16, 2022, 15:06:31 - poikilotherm: Now let's see if the automated build and push to Docker Hub worked
Fri, Dec 16, 2022, 15:08:20 - poikilotherm: Haha the action is pushing... takes a while 
Fri, Dec 16, 2022, 15:09:13 - poikilotherm: The ARM64 on Qemu is really eating CPU cycles like waffles with strawberries
Fri, Dec 16, 2022, 15:18:06 - poikilotherm: Nooooooooooooo the credentials didn't work üòµ‚Äçüí´
Fri, Dec 16, 2022, 15:18:53 - poikilotherm: Guess I will need to retest this from a different repo
Fri, Dec 16, 2022, 15:19:10 - poikilotherm: Maybe we didn't paste the credentials correctly. üò¨
Fri, Dec 16, 2022, 15:25:18 - pdurbin: quite possibly
Fri, Dec 16, 2022, 15:26:20 - pdurbin: poikilotherm (CET,UTC+1): can you please look at the two liner I added to https://dataverse-guide--8824.org.readthedocs.build/en/8824/developers/making-releases.html#run-a-build-to-create-the-war-file ?
Fri, Dec 16, 2022, 15:27:15 - pdurbin: Assuming we merge mpconfig version, would you recommend a different script or approach?
Fri, Dec 16, 2022, 15:28:37 - poikilotherm: Are you referring to "‚Ä¶ but we can explore alternative methods of specifying the build number, as described in Automation of Custom Build Number on Webpage."?
Fri, Dec 16, 2022, 15:28:44 - pdurbin: yeah
Fri, Dec 16, 2022, 15:29:11 - pdurbin: I'm also fine leaving things as they are.
Fri, Dec 16, 2022, 15:29:22 - poikilotherm: Well it kind of depends what you folks want üòÅ
Fri, Dec 16, 2022, 15:29:23 - pdurbin: that is, working üòÑ
Fri, Dec 16, 2022, 15:29:54 - poikilotherm: Did you see the git commit maven plugin I use for the CT profile?
Fri, Dec 16, 2022, 15:30:03 - pdurbin: nope
Fri, Dec 16, 2022, 15:30:53 - poikilotherm: https://github.com/IQSS/dataverse/blob/71563c82cbc513f5854767f64406a3fb25605bcf/modules/dataverse-parent/pom.xml#L356
Fri, Dec 16, 2022, 15:31:21 - poikilotherm: https://github.com/git-commit-id/git-commit-id-maven-plugin
Fri, Dec 16, 2022, 15:31:55 - poikilotherm: It will add lots of git properties to the available maven properties
Fri, Dec 16, 2022, 15:32:14 - poikilotherm: I'm using this to tag the container images with git commit ids
Fri, Dec 16, 2022, 15:32:31 - pdurbin: gotcha
Fri, Dec 16, 2022, 15:32:41 - pdurbin: so mpconfig version will be useful for you
Fri, Dec 16, 2022, 15:33:25 - poikilotherm: Well we could use it
Fri, Dec 16, 2022, 15:33:57 - poikilotherm: I could use it to let some git context appear in the build number string
Fri, Dec 16, 2022, 15:35:23 - poikilotherm: What I'm trying to say: one might use this plugin to skip the properties file on Jenkins
Fri, Dec 16, 2022, 15:35:34 - poikilotherm: So you cannot include it by accident
Fri, Dec 16, 2022, 15:38:50 - pdurbin: Currently, it's a non-goal to remove the BuildNumber.properties from our releases.
Fri, Dec 16, 2022, 15:41:57 - poikilotherm: Ok. Then just leave it as is üòÜ
Fri, Dec 16, 2022, 15:42:52 - pdurbin: PRs like this are a bit confusing.
Fri, Dec 16, 2022, 15:43:05 - poikilotherm: Orly?
Fri, Dec 16, 2022, 15:43:09 - poikilotherm: Why is that?
Fri, Dec 16, 2022, 15:43:23 - pdurbin: The value isn't obvious.
Fri, Dec 16, 2022, 15:43:42 - poikilotherm: Which value? Build number?
Fri, Dec 16, 2022, 15:43:59 - pdurbin: yeah, mpconfig version
Fri, Dec 16, 2022, 15:44:09 - pdurbin: https://github.com/IQSS/dataverse/pull/8824
Fri, Dec 16, 2022, 15:44:09 - poikilotherm: I'm sorry... 
Fri, Dec 16, 2022, 15:44:18 - pdurbin: the thing we've been talking about
Fri, Dec 16, 2022, 15:44:43 - poikilotherm: The trick with the version filtering in the default properties was already added with the JvmSettings PR
Fri, Dec 16, 2022, 15:45:06 - poikilotherm: Maybe that's a part of why this is confusing
Fri, Dec 16, 2022, 15:45:56 - pdurbin: Maybe. But it's more... when would I ever use this?
Fri, Dec 16, 2022, 15:46:16 - poikilotherm: Haha maybe you are not.
Fri, Dec 16, 2022, 15:46:26 - pdurbin: But you'll use it.
Fri, Dec 16, 2022, 15:46:30 - pdurbin: For your container builds.
Fri, Dec 16, 2022, 15:46:33 - poikilotherm: Yes of course 
Fri, Dec 16, 2022, 15:46:42 - pdurbin: that's enough for me
Fri, Dec 16, 2022, 15:47:04 - poikilotherm: The packaging is much simpler when I don't need that Maven special file in the deployment
Fri, Dec 16, 2022, 15:47:20 - pdurbin: good
Fri, Dec 16, 2022, 15:47:47 - poikilotherm: One might argue the build number from mpconfig should have priority
Fri, Dec 16, 2022, 15:48:13 - poikilotherm: This would solve the problem of accidental addition of the BuilNumber.properties
Fri, Dec 16, 2022, 15:48:26 - poikilotherm: Because someone might just override it
Fri, Dec 16, 2022, 15:48:37 - poikilotherm: Without shipping a new WAR
Fri, Dec 16, 2022, 15:48:59 - poikilotherm: You might remember that this was a problem for a few releases already
Fri, Dec 16, 2022, 15:49:00 - pdurbin: Accidental addition? Again, it's a non-goal to not have that properties file in the war file.
Fri, Dec 16, 2022, 15:49:39 - poikilotherm: That's confusing
Fri, Dec 16, 2022, 15:49:55 - poikilotherm: I've seen people complaining about the build number in their deployments
Fri, Dec 16, 2022, 15:50:01 - pdurbin: We always want the build properties file in our release war file.
Fri, Dec 16, 2022, 15:50:16 - pdurbin: released*
Fri, Dec 16, 2022, 15:50:17 - poikilotherm: Hmm maybe I misunderstood that part then!
Fri, Dec 16, 2022, 15:51:28 - pdurbin: Now, maybe you or someone could open a bug "I don't like how the build number looks" or "I want no build number".
Fri, Dec 16, 2022, 15:51:59 - pdurbin: And we could set up some precedence rules. Have a JVM option win or something.
Fri, Dec 16, 2022, 15:52:45 - pdurbin: Maybe the clue or confusing thing is that it "relates" to #7000. It doesn't close a bug or request.
Fri, Dec 16, 2022, 15:52:55 - pdurbin: Anyway, Kevin is asking me questions now. One sec.
Fri, Dec 16, 2022, 15:54:31 - poikilotherm: Let me know if you want to lit the bonfire in a Zoom
Fri, Dec 16, 2022, 15:54:57 - pdurbin: asking Kevin if we wants to do a three way
Fri, Dec 16, 2022, 15:59:56 - pdurbin: I think he's making progress. What's the next PR to review?
Fri, Dec 16, 2022, 16:01:52 - poikilotherm: Maybe the fqdn one?
Fri, Dec 16, 2022, 16:01:58 - poikilotherm: It's small
Fri, Dec 16, 2022, 16:01:59 - pdurbin: merged
Fri, Dec 16, 2022, 16:02:21 - pdurbin: Can you please fix the merge conflicts first?
Fri, Dec 16, 2022, 16:02:50 - pdurbin: I must say, I'm glad these PRs are separate. Faster. Easier.
Fri, Dec 16, 2022, 16:02:53 - poikilotherm: Meh... probably adding the different splitted things now makes conflicts in Jvmsettings
Fri, Dec 16, 2022, 16:03:20 - poikilotherm: It will be a matter of changing the newlines ü´£
Fri, Dec 16, 2022, 16:03:37 - poikilotherm: Can't do on my mobile üòü
Fri, Dec 16, 2022, 16:05:03 - poikilotherm: Bummer
Fri, Dec 16, 2022, 16:05:13 - poikilotherm: Seems like you were on a roll
Fri, Dec 16, 2022, 16:07:56 - pdurbin: yeah, I think it's just imports
Fri, Dec 16, 2022, 16:08:01 - Miguel Silva sent an image. (Media omitted)
Fri, Dec 16, 2022, 16:08:25 - Miguel Silva: Enjoy the weekend, wherever you may be! 
Fri, Dec 16, 2022, 16:09:02 - pdurbin: Yeah, I should get out of here. You too, Miguel Silva !
Fri, Dec 16, 2022, 16:11:09 - poikilotherm: See y'all next week üòÖ
Fri, Dec 16, 2022, 16:14:50 - pdurbin: Big announcement coming on Monday.
Fri, Dec 16, 2022, 16:15:48 - pdurbin: And on Monday you can also ask me how my lil' open source meetup went: http://blog.greptilian.com/2022/12/10/open-source-meetup-in-brookline/
Fri, Dec 16, 2022, 16:27:19 - pdurbin: (If you're local, you're welcome to come, of course!)
Fri, Dec 16, 2022, 16:29:16 - poikilotherm: Looking forward to all Dataverse announcements 
Fri, Dec 16, 2022, 16:29:39 - poikilotherm: Was pretty happy already with next year DCM in Portugal!
Fri, Dec 16, 2022, 16:29:59 - poikilotherm: This probably increases chances of going there!
Fri, Dec 16, 2022, 16:31:55 - pdurbin: But will this be the first DCM I miss? I hope not! I had a great time in Portugal for the 2020 PIDapalooza.
Fri, Dec 16, 2022, 17:13:42 - pdurbin: Ok, I'm out of here for real this time. Have a good weekend, all! Thank you for flying Dataverse! üöÄ
Sat, Dec 17, 2022, 20:09:01 - Andre Santiago joined the room
Sun, Dec 18, 2022, 08:58:21 - pdurbin: <@oliver:bertuch.name "BTW: glad to see someone else pi..."> I checked it out. "feat" is weird: https://github.com/conventional-commits/conventionalcommits.org/issues/421#issuecomment-1356804566
Sun, Dec 18, 2022, 11:00:25 - Miguel Silva: Hi everyone!

The #wiki  for the Proof of Concept of a #Smart #DAQ #Device able to Upload Live #Experimental #Sensor #Data to a #Data #Repository with a #Unique #Data #Fingerprint was just updated with new contents. Check it out below:

https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo/wiki
Sun, Dec 18, 2022, 17:11:19 - poikilotherm: pdurbin: I created a small bug fix PR for the Docker Hub pushes. https://github.com/IQSS/dataverse/pull/9236 This is VERY small and will enable the pushes from `develop`. I'm really sorry this mistake of mine slipped through! Can we please "just merge" it to make this a success story?
Sun, Dec 18, 2022, 17:11:39 - poikilotherm: Thanks (as always) üôè
Sun, Dec 18, 2022, 21:31:16 - pdurbin: poikilotherm (CET,UTC+1): sure, merged
Mon, Dec 19, 2022, 00:46:10 - poikilotherm: It worked
Mon, Dec 19, 2022, 00:46:58 - poikilotherm: Pushed! üí•
Mon, Dec 19, 2022, 02:13:06 - Johannes Darms: I hope the "real" docker image follows soon
Mon, Dec 19, 2022, 03:02:05 - poikilotherm: At least we can start using this image for experimentation with Arquillian
Mon, Dec 19, 2022, 03:03:32 - poikilotherm: For an image to contain the app, we either need to focus on enabling microprofile config or we need to copy my magic script into it again...
Mon, Dec 19, 2022, 03:05:31 - poikilotherm: Or better: magic scriptS
Mon, Dec 19, 2022, 03:07:23 - poikilotherm: We could have a temporary fork for this, where we merge all microprofile things
Mon, Dec 19, 2022, 08:28:56 - pdurbin: poikilotherm (CET,UTC+1): thanks for resolving conflicts in the fqdn mpconfig PR. I assume you still want that one next.
Mon, Dec 19, 2022, 08:30:58 - poikilotherm: Sure. Or pick some else. It doesn't really matter. As soon as we merge the next one, I will have to resolve conflicts again. One of the downsides of splitting into this many PRs
Mon, Dec 19, 2022, 08:37:24 - pdurbin: poikilotherm (CET,UTC+1): would you rather have codemeta or mpconfig fqdn?
Mon, Dec 19, 2022, 08:37:32 - poikilotherm: Codemeta!
Mon, Dec 19, 2022, 08:37:39 - poikilotherm: It's a HERMES deliverable
Mon, Dec 19, 2022, 08:37:46 - poikilotherm: Having it in 2022 would be _perfect_ üòΩ
Mon, Dec 19, 2022, 08:38:02 - poikilotherm: (We need to write a report)
Mon, Dec 19, 2022, 08:38:44 - pdurbin: Did you see my small review on codemeta?
Mon, Dec 19, 2022, 08:38:51 - pdurbin: oh, wait, it's pending
Mon, Dec 19, 2022, 08:40:00 - pdurbin: ok, sent: https://github.com/IQSS/dataverse/pull/7877#pullrequestreview-1221326351
Mon, Dec 19, 2022, 08:43:20 - Johannes Darms: Either way is fine. Having an `official` image will at last ease many deployment scenarios. But it seems like IQSS are already busy merging the micropofiles PR, right? 
Mon, Dec 19, 2022, 08:43:57 - pdurbin: Yes, we have all the mpconfig PRs queued up. We merged one on Friday.
Mon, Dec 19, 2022, 08:48:12 - poikilotherm: Haha these MPCONFIG PRs are nowhere near to complete
Mon, Dec 19, 2022, 08:48:30 - poikilotherm: That whole codebase needs MUCH more of that üôà
Mon, Dec 19, 2022, 08:50:14 - Johannes Darms: Than we need first one with the magic script and then continuously improve from there, right?
Mon, Dec 19, 2022, 08:54:13 - pdurbin: poikilotherm (CET,UTC+1): I just left a review on mpconfig solr: https://github.com/IQSS/dataverse/pull/8825#pullrequestreview-1222915050
Mon, Dec 19, 2022, 08:56:13 - poikilotherm: <@johannes.darms:matrix.org "Than we need first one with the ..."> Probably. üò¢
Mon, Dec 19, 2022, 08:56:52 - pdurbin: poikilotherm (CET,UTC+1): can you see the test failure on mpconfig fqdn? I assume not. It's the new HarvestingClientsIT.
Mon, Dec 19, 2022, 08:57:30 - poikilotherm: Hum? No dunno
Mon, Dec 19, 2022, 08:58:00 - poikilotherm: Can look tomorrow. Don Sizemore created a Jenkins firewall exception from FZJ IIRC
Mon, Dec 19, 2022, 09:10:07 - Don Sizemore:  poikilotherm (CET,UTC+1) at some point Jenkins will be moving into AWS (or possibly be replaced with TestContainers)?
Mon, Dec 19, 2022, 09:11:37 - poikilotherm: I still dream about using containers to run all the ITs
Mon, Dec 19, 2022, 09:11:53 - poikilotherm: Makes running the ITs anywhere so much easier
Mon, Dec 19, 2022, 09:17:18 - pdurbin: Phew, got the mpconfig rserve PR into QA at least.
Mon, Dec 19, 2022, 09:18:55 - pdurbin: Codemeta deserves a little more attention than I can give it right now. I want to push the change I'm hacking on to external tools first (new "requirements" spec for aux files).
Mon, Dec 19, 2022, 09:19:56 - pdurbin: Plus Ana Trisovic and I need to run a netcdf meeting in 40 minutes. All are welcome, of course: https://calendar.google.com/calendar/embed?src=c_udn4tonm401kgjjre4jl4ja0cs%40group.calendar.google.com&ctz=America%2FNew_York
Mon, Dec 19, 2022, 09:34:47 - pdurbin: poikilotherm (CET,UTC+1): merge conflicts on mpconfig files basic: https://github.com/IQSS/dataverse/pull/8827#issuecomment-1357762254
Mon, Dec 19, 2022, 09:37:47 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): merge ..."> Ha resolved them yesterday but forgot to push
Mon, Dec 19, 2022, 09:37:50 - poikilotherm: All set
Mon, Dec 19, 2022, 09:38:24 - poikilotherm: Just a reminder: merging one means conflicts in another. ü•¥
Mon, Dec 19, 2022, 09:43:04 - pdurbin: yep
Mon, Dec 19, 2022, 11:33:02 - pdurbin: How much does it cost to run an installation of Dataverse? Asking for a friend. üòÑ
Mon, Dec 19, 2022, 11:59:10 - poikilotherm: A lot üòÖ
Mon, Dec 19, 2022, 11:59:33 - poikilotherm: Especially in numbers of cookies eaten during setup
Mon, Dec 19, 2022, 12:00:06 - poikilotherm: There was a cost estimator by ETH Z√ºrich for RDM somewhere 
Mon, Dec 19, 2022, 12:00:23 - poikilotherm: But that's of course not very specific
Mon, Dec 19, 2022, 12:01:54 - pdurbin: Huh. I assume that estimator was for RDM in general, not specific to running Dataverse.
Mon, Dec 19, 2022, 12:09:40 - pdurbin: poikilotherm (CET,UTC+1): can you please look at https://github.com/IQSS/dataverse/pull/8830#issuecomment-1357870474 ?
Mon, Dec 19, 2022, 12:09:42 - Johannes Darms: I think, it depends on the amount of data to store (compute and IT personal cost), on the level of support given to depositors (personal cost), and costs for PID themself...ignoring LTA considerations
Mon, Dec 19, 2022, 12:18:53 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): can yo..."> I saw Kevin's comment, but I really have no clue why switching from getProperty to JvmSettings should make a difference
Mon, Dec 19, 2022, 12:19:45 - poikilotherm: Where is that x coming from? ü§î
Mon, Dec 19, 2022, 12:26:57 - poikilotherm: pdurbin: I'm chatting with the Testcontainers folks about writing a blog post about the PoC I did this morning. Do you think it's a good idea to describe my view on Dataverse testing with Arquillian and Testcontainers in it? Would that help others on the team etc?
Mon, Dec 19, 2022, 13:27:01 - pdurbin: poikilotherm (CET,UTC+1): sure, please describe away. Make it concrete.
Mon, Dec 19, 2022, 13:27:47 - pdurbin: poikilotherm (CET,UTC+1): my guess is that Kevin is trying a non-integer: x6311. Just to see what happens, probably.
Mon, Dec 19, 2022, 14:17:41 - pdurbin: qqmyers poikilotherm (CET,UTC+1) and Don Sizemore have joined the core development team! https://groups.google.com/g/dataverse-community/c/uDeNUfqe3RE/m/dph8fZUaEAAJ üéâ
Mon, Dec 19, 2022, 14:18:03 - poikilotherm: Oha!
Mon, Dec 19, 2022, 14:21:57 - poikilotherm: Thank you for having me join! I'm honored and relieved I could earn your trust! Looking forward to many more joyful years of working with y'all!
Mon, Dec 19, 2022, 14:28:26 - pdurbin: Same here. Thanks for all the pull requests and good ideas!
Tue, Dec 20, 2022, 06:40:11 - arnau merino joined the room
Tue, Dec 20, 2022, 08:00:52 - pdurbin: arnau merino: hi! It looks like you're having trouble installing Dataverse, judging from what I see at https://groups.google.com/g/dataverse-community/c/hKYVmM779H8/m/EMTV91dREAAJ
Tue, Dec 20, 2022, 08:03:30 - pdurbin: From your server.log, `javax.persistence.NoResultException: getSingleResult() did not retrieve any entities` usually means that the root collection ("dataverse") wasn't created: https://github.com/IQSS/dataverse/issues/3148
Tue, Dec 20, 2022, 08:04:25 - pdurbin: There are a few additional files you can show us that might help us diagnose the problem: https://guides.dataverse.org/en/5.12.1/installation/intro.html#information-to-send-to-support-when-installation-fails
Tue, Dec 20, 2022, 09:18:39 - poikilotherm: Behold!
Tue, Dec 20, 2022, 09:18:54 - poikilotherm: When running the installer, you will still see that error message in the logs
Tue, Dec 20, 2022, 09:19:35 - poikilotherm: For some unknown reason, we never changed the logic so that we don't throw an exception when the root dataverse collection is not  present
Tue, Dec 20, 2022, 09:19:59 - poikilotherm: So it will even appear when we are creating the root dataverse, which does make that much sense... ;-)
Tue, Dec 20, 2022, 09:21:23 - pdurbin: Yeah, that's what #3148 is about. ^^
Tue, Dec 20, 2022, 09:22:30 - poikilotherm: Sounds like same issue as with delete API endpoint üôà
Tue, Dec 20, 2022, 09:24:21 - pdurbin: yep, old issues, never fixed
Tue, Dec 20, 2022, 09:24:27 - pdurbin: oinf
Tue, Dec 20, 2022, 09:36:33 - arnau merino: Hello, thank you, I was finally able to get trough it
Tue, Dec 20, 2022, 09:36:46 - pdurbin: Phew. üòÖ
Tue, Dec 20, 2022, 10:21:03 - poikilotherm: pdurbin: I left you two comments in https://github.com/IQSS/dataverse/pull/8825 Let me know if I should explain more
Tue, Dec 20, 2022, 10:38:46 - pdurbin: makes sense, thanks
Tue, Dec 20, 2022, 10:38:57 - pdurbin: If the API tests pass, I'll move it to QA.
Tue, Dec 20, 2022, 11:21:15 - pdurbin: moved
Tue, Dec 20, 2022, 11:23:45 - pdurbin: poikilotherm (CET,UTC+1): I'm going to assign you to https://github.com/IQSS/dataverse/pull/7877 (codemeta) to get your response to my review.
Tue, Dec 20, 2022, 12:30:32 - erictroupetester joined the room
Wed, Dec 21, 2022, 04:36:30 - poikilotherm: pdurbin: I addressed your comments :-)
Wed, Dec 21, 2022, 04:36:59 - poikilotherm: Do we need to discuss the "Readme" vs "README"? Can we do this in a next iteration?
Wed, Dec 21, 2022, 04:38:22 - poikilotherm: I would very much appreciate merging this in 2022 so we can include it in our annual progress report for HERMES üôà
Wed, Dec 21, 2022, 07:31:56 - pdurbin: Well, I'm not in charge of merging. At https://codemeta.github.io/terms/ I'm seeing " link to software Readme file" so I guess I should take it up with the spec, right? I see that description here: https://github.com/codemeta/codemeta/blob/22cf4c2b836a0026565792b5d1b3c5ff6c1fc82b/properties_description.csv
Wed, Dec 21, 2022, 07:32:26 - pdurbin: But bottom line, you're right, "Readme" is what's in the spec.
Wed, Dec 21, 2022, 09:03:53 - pdurbin: poikilotherm (CET,UTC+1): I'm making the "consistency" argument here: https://github.com/IQSS/dataverse/pull/7877#discussion_r1054424378
Wed, Dec 21, 2022, 09:05:56 - poikilotherm: Well I don't mind very much about the spelling. If you folks feel this is better of with making it all uppercase, thats fine with me.
Wed, Dec 21, 2022, 09:06:09 - poikilotherm: Should we try to rope in juliangautier ?
Wed, Dec 21, 2022, 09:06:31 - pdurbin: He's on vacation until the new year. I can go ahead and make the change if you don't mind.
Wed, Dec 21, 2022, 09:08:20 - poikilotherm: Sure, fire at will.
Wed, Dec 21, 2022, 09:15:53 - pdurbin sent an image. (Media omitted)
Wed, Dec 21, 2022, 09:16:21 - poikilotherm: Noice!
Wed, Dec 21, 2022, 09:19:13 - pdurbin: Hmm, some external vocabularies would be nice.
Wed, Dec 21, 2022, 09:25:36 - pdurbin: "target product" is kind of weird, I guess one could enter "WordPress" for a WordPress plugin
Wed, Dec 21, 2022, 09:26:42 - pdurbin: It looks like every time it's a link the type is url. Good.
Wed, Dec 21, 2022, 09:28:31 - pdurbin: I wouldn't choose to list "SVN" first here: "and related code is located (SVN, GitHub, CodePlex, institutional GitLab instance, Gitea, etc.)"
Wed, Dec 21, 2022, 09:29:33 - pdurbin: but this is something to fix at https://codemeta.github.io/terms/ I suppose
Wed, Dec 21, 2022, 09:30:08 - poikilotherm: They are working on a v3.0
Wed, Dec 21, 2022, 09:30:44 - poikilotherm: And actually this might come from schema.org
Wed, Dec 21, 2022, 09:31:26 - poikilotherm: https://schema.org/Code
Wed, Dec 21, 2022, 09:31:50 - pdurbin: What are the units for minimum memory requirements? My guess is that it's unspecified. Just free text.
Wed, Dec 21, 2022, 09:32:01 - poikilotherm: https://schema.org/SoftwareSourceCode
Wed, Dec 21, 2022, 09:32:20 - poikilotherm: Or even more precise, for this term, it's here: https://schema.org/codeRepository
Wed, Dec 21, 2022, 09:32:37 - poikilotherm: We already extended that a bit
Wed, Dec 21, 2022, 09:32:53 - poikilotherm: To make it easier to understand for folks
Wed, Dec 21, 2022, 09:32:56 - pdurbin: But you left SVN first. Weird! üòÑ
Wed, Dec 21, 2022, 09:33:41 - poikilotherm: Standards...
Wed, Dec 21, 2022, 09:34:23 - poikilotherm: <@pdurbin:matrix.org "What are the units for minimum m..."> Yes, no units. We thought and discussed and in the end, for now it's the best to just make it free text
Wed, Dec 21, 2022, 09:34:36 - poikilotherm: Units are hard to do right
Wed, Dec 21, 2022, 09:34:43 - poikilotherm: You'll need a vocab
Wed, Dec 21, 2022, 09:34:57 - poikilotherm: And what about more descriptive things
Wed, Dec 21, 2022, 09:35:09 - poikilotherm: Like minimum, average, optimum etc
Wed, Dec 21, 2022, 09:35:24 - poikilotherm: Where does the schema end and the knowledge graph begin
Wed, Dec 21, 2022, 09:35:48 - pdurbin: Sure. Only human readable is better than nothing.
Wed, Dec 21, 2022, 09:37:33 - poikilotherm: pdurbin: not trying to be pushy, but why are we discussing this here and now? I thought we had consensus between the metadata working group and y'all. I'm open for any discussion, but why didn't you speak up before? I'm confused...
Wed, Dec 21, 2022, 09:40:12 - pdurbin: It wasn't in a sprint.
Wed, Dec 21, 2022, 09:42:06 - poikilotherm: is juliangautier also working within these boundaries? He kind of signed off on the PR and I thought the discussion around how the schema should look like, how we describe the elements etc is done. Like we devs only then take a look on the technicalities. Maybe I misunderstood something. Sorry!
Wed, Dec 21, 2022, 09:43:09 - pdurbin: Julian looks at stuff earlier than devs do, generally.
Wed, Dec 21, 2022, 09:45:10 - poikilotherm: OK what does that mean for future work on metadata? When is a good point of involving a dev into the metadata working group, so we're all set on the semantics of the block? IMHO discussing the semantics should not be part of the Review & QA phase, because it involves a lot of community consensus to get there.
Wed, Dec 21, 2022, 09:47:07 - pdurbin: I'm looking at https://groups.google.com/g/dataverse-community/search?q=codemeta
Wed, Dec 21, 2022, 09:47:40 - pdurbin: When was consensus reached? Was it communicated?
Wed, Dec 21, 2022, 09:50:31 - poikilotherm: https://groups.google.com/g/dataverse-community/c/heNotzADbaQ/m/DJItrFjFBAAJ
Wed, Dec 21, 2022, 09:51:02 - poikilotherm: There was some discussion in the comments of the PR
Wed, Dec 21, 2022, 09:51:08 - poikilotherm: All sorted out
Wed, Dec 21, 2022, 09:51:36 - pdurbin: Yeah, it seems like most of the discussion is in the PR itself. "LGTM", etc.
Wed, Dec 21, 2022, 09:51:56 - poikilotherm: Here's where juliangautier replied and said (at least I read it like that) all go for this as is: https://github.com/IQSS/dataverse/pull/7877#issuecomment-1329396909
Wed, Dec 21, 2022, 09:52:56 - pdurbin: Yep, and when estimating the PR (which doesn't happen until it's close to entering a sprint) we agreed that Julian seems to have already approved it. No need to wait for him.
Wed, Dec 21, 2022, 09:53:44 - pdurbin: Kevin might be taking the rest of the year off, by they way, so I doubt this will get merged in 2022.
Wed, Dec 21, 2022, 09:55:04 - poikilotherm: Well is there any serious concern left?
Wed, Dec 21, 2022, 09:55:15 - poikilotherm: As Julias said: this is flagged experimental
Wed, Dec 21, 2022, 09:55:32 - poikilotherm: Can't we just hand it over to Kevin for QA and merging?
Wed, Dec 21, 2022, 09:56:17 - poikilotherm: I'm sorry but I don't understand what's the problem. I'm still confused.
Wed, Dec 21, 2022, 09:58:22 - pdurbin: There's no problem. I'm about to approve it. I'm writing up some throughs now that I've taken a more serious look at it (for the first time).
Wed, Dec 21, 2022, 10:01:40 - poikilotherm: Okidoki.
Wed, Dec 21, 2022, 10:01:58 - poikilotherm: Should we do the README uppercase thing?
Wed, Dec 21, 2022, 10:02:06 - poikilotherm: It's an easy fix
Wed, Dec 21, 2022, 10:02:39 - poikilotherm: And thanks for looking into this! Much appreciated! ü§ó
Wed, Dec 21, 2022, 10:03:44 - pdurbin: Meh, it's of the bullets in the review I'm giving. It can wait
Wed, Dec 21, 2022, 10:04:48 - poikilotherm: I will make sure to include the main points from this PR, comments and reviews into a succeeding issue about making it non-experimental
Wed, Dec 21, 2022, 10:08:11 - pdurbin: Good point. There will be another round someday to make it official. It's quite rare to add a new "ships with Dataverse" block. I think the last one was the journals block something like seven years ago.
Wed, Dec 21, 2022, 10:09:58 - pdurbin: Ok, approved. Here's my writeup: https://github.com/IQSS/dataverse/pull/7877#pullrequestreview-1226256326
Wed, Dec 21, 2022, 10:13:23 - poikilotherm: >"but in practice, developers like me don't take a serious look until the work (a PR in this case) make it into a sprint. So maybe we could improve our process here."

I agree üíØ - maybe in cases like this, where semantics are important and there are a lots of views and perspectives, it might be good to come up with something.
Wed, Dec 21, 2022, 10:13:49 - poikilotherm: Again: Thank you for the review!
Wed, Dec 21, 2022, 10:14:20 - pdurbin: Yep, sure. Just trying to keep things moving.
Wed, Dec 21, 2022, 10:14:42 - pdurbin: But again, probably no QA and merging until 2023.
Wed, Dec 21, 2022, 10:15:31 - pdurbin: Is there a plan for external vocabularies, by the way?
Wed, Dec 21, 2022, 10:15:55 - poikilotherm: Kind of. But for the moment, I'm not sure that's a wise thing to do, with the SPA at the horizon.
Wed, Dec 21, 2022, 10:16:16 - pdurbin: Huh, but it's all Javascript. I hope it's somewhat reusable.
Wed, Dec 21, 2022, 10:16:24 - poikilotherm: True.
Wed, Dec 21, 2022, 10:16:51 - poikilotherm: Might look into it, but there are more pressing concern for "Research Software Readiness", too...
Wed, Dec 21, 2022, 10:17:09 - pdurbin: I don't know what that is but it sounds important! üòÑ
Wed, Dec 21, 2022, 10:18:40 - pdurbin: PSA: I deleted the "Hold for Dataverse Metadata IG" meeting for tomorrow from the calendar. I have a newish agreement with juliangautier and qqmyers to do this a day or two before if it isn't going to happen.
Wed, Dec 21, 2022, 10:22:09 - poikilotherm: That's a good idea :-D
Wed, Dec 21, 2022, 10:22:19 - poikilotherm: Probably no one would have shown up :-D
Wed, Dec 21, 2022, 10:27:39 - pdurbin: Now I'm no longer staring at it in my calendar. Feels good.
Wed, Dec 21, 2022, 10:28:28 - pdurbin: Oh, I guess I should put #dataverse2023 in the calendar. Hopefully people saw my save the date: https://groups.google.com/g/dataverse-community/c/KXZp8DFoAs8/m/w0XAGQwaEAAJ
Wed, Dec 21, 2022, 10:30:43 - pdurbin: Oh, it's already there. Perfect.
Wed, Dec 21, 2022, 10:34:52 - poikilotherm: I'm gonna head out now, have some appointments coming in. Probably back at 2130 CET
Wed, Dec 21, 2022, 10:35:16 - pdurbin: poikilotherm (CET,UTC+1): can you please look at https://github.com/IQSS/dataverse/pull/8827 whenever? No rush. mpconfig files basic.
Wed, Dec 21, 2022, 10:35:53 - poikilotherm: Oh there must have been a merge :-D
Wed, Dec 21, 2022, 10:36:26 - pdurbin: plus feedback from qqmyers 
Wed, Dec 21, 2022, 10:38:57 - poikilotherm: Yeah, maybe we need to sit down and have a meeting over this with him
Wed, Dec 21, 2022, 10:39:02 - poikilotherm: NExt year. 
Wed, Dec 21, 2022, 10:39:07 - poikilotherm: üéÑ
Wed, Dec 21, 2022, 10:39:54 - pdurbin: fine by me, is tech hours too late in the day for you?
Wed, Dec 21, 2022, 10:40:09 - poikilotherm: Nah should be OK
Wed, Dec 21, 2022, 10:40:12 - pdurbin: we can talk later, don't miss your appointments!
Wed, Dec 21, 2022, 10:40:20 - poikilotherm: üèÉ
Wed, Dec 21, 2022, 10:40:51 - pdurbin: ooo, a merge just happened, the plot thickens!
Wed, Dec 21, 2022, 13:41:43 - pdurbin: even more merges!
Wed, Dec 21, 2022, 14:09:43 - pdurbin: <@johannes.darms:matrix.org "Forbidden"> Fixed in https://github.com/IQSS/dataverse-tv/commit/dc032c9
Wed, Dec 21, 2022, 14:19:18 - poikilotherm: Toot toot the merge train stopped by and brave Kevin did merge the CodeMeta PR
Wed, Dec 21, 2022, 14:19:55 - poikilotherm: Christmas is early this year üéÖüéÑüéÜ
Wed, Dec 21, 2022, 14:20:16 - pdurbin: busy merge train today
Wed, Dec 21, 2022, 14:22:48 - pdurbin: poikilotherm (CET,UTC+1): hey do you have time to talk about the test board/project we set up? I'm thinking about closing it. No one is keeping it up to date.
Wed, Dec 21, 2022, 14:31:32 - poikilotherm: Go ahead, purge what's not necessary
Wed, Dec 21, 2022, 14:32:01 - poikilotherm: I'm still on the road, so not able to chat much right now
Wed, Dec 21, 2022, 14:32:19 - pdurbin: I mean, I'm ok with keeping it. I just don't want to be the only one maintaining it.
Wed, Dec 21, 2022, 14:32:35 - pdurbin: Drive safe! Chat later!
Wed, Dec 21, 2022, 16:25:39 - poikilotherm: It's "Ship It Wednesday"!
Wed, Dec 21, 2022, 16:25:56 - poikilotherm: MPCONFIG for Rserve and Solr been üö¢ TODAY!
Wed, Dec 21, 2022, 16:48:57 - pdurbin: poikilotherm (CET,UTC+1): yes and two more mpconfig related PRs need your attention:
Wed, Dec 21, 2022, 16:49:02 - pdurbin: https://github.com/IQSS/dataverse/pull/8827#issuecomment-1361506816
Wed, Dec 21, 2022, 16:49:39 - pdurbin: https://github.com/IQSS/dataverse/pull/9096#discussion_r1054833850
Wed, Dec 21, 2022, 16:49:44 - pdurbin: Thanks.
Wed, Dec 21, 2022, 16:50:13 - poikilotherm: Do you want to talk about the second one?
Wed, Dec 21, 2022, 16:50:22 - poikilotherm: The first one we should discuss next year
Wed, Dec 21, 2022, 16:54:06 - poikilotherm: Can someone please explain to me why we keep on adding database settings for static things?
Wed, Dec 21, 2022, 16:54:33 - poikilotherm: It's not like you're gonna flip between data upload methods every Tuesday and Friday
Wed, Dec 21, 2022, 17:17:45 - poikilotherm: Sing with me: "Why oh why... Why do we... Why do we allow people to define database settings without creating a `SettingsServiceBean.Key` but juhuhuhuhust use some raaaandoom Striiiiiiiiing"
Wed, Dec 21, 2022, 17:18:14 - poikilotherm: (2 occasions already, both code from 2022)
Wed, Dec 21, 2022, 17:32:17 - poikilotherm: Anyway. I'm off to bed
Wed, Dec 21, 2022, 17:37:22 - pdurbin: Sure, next year is fine. üòÑ
Thu, Dec 22, 2022, 06:27:03 - pdurbin: Is anyone around today? If not, we'll see you next year! We reopen on Tuesday, January 3. Happy Holidays! https://groups.google.com/g/dataverse-community/c/uDeNUfqe3RE/m/dph8fZUaEAAJ
Thu, Dec 22, 2022, 07:21:32 - Don Sizemore: I'm here through tomorrow
Thu, Dec 22, 2022, 07:49:58 - pdurbin: nice, I should make you an admin here
Thu, Dec 22, 2022, 07:50:42 - pdurbin changed the power level of Don Sizemore from Default to Admin.
Thu, Dec 22, 2022, 07:50:48 - pdurbin: done!
Thu, Dec 22, 2022, 08:10:29 - poikilotherm: Have a lovely Christmas with your families y'all!
Thu, Dec 22, 2022, 08:10:45 - poikilotherm: See you on the other side ü§ó
Thu, Dec 22, 2022, 08:11:03 - poikilotherm: (Although I'll be hanging around today and tomorrow during CET working hours)
Thu, Dec 22, 2022, 08:25:39 - Benjamin (SODHA): ‚òÉÔ∏èüéÑüéÖ
Thu, Dec 22, 2022, 10:21:30 - pdurbin sent an image. (Media omitted)
Thu, Dec 22, 2022, 10:21:46 - pdurbin: My neighbors are getting into the spirit!
Thu, Dec 22, 2022, 10:26:19 - Don Sizemore: @pdurbin may I ask a dumb question?
Thu, Dec 22, 2022, 10:27:24 - pdurbin: hit me
Thu, Dec 22, 2022, 10:28:16 - Don Sizemore: Building current develop warns "The POM for com.apicatalog:titanium-json-ld:jar:1.3.0-SNAPSHOT is missing, no dependency information available"
Thu, Dec 22, 2022, 10:28:32 - Don Sizemore: So I bump it to 1.3.1: https://mvnrepository.com/artifact/com.apicatalog/titanium-json-ld/1.3.1
Thu, Dec 22, 2022, 10:29:09 - Don Sizemore: then I get a compilation failure with all sorts of JSON "cannot access class" errors
Thu, Dec 22, 2022, 10:29:33 - Don Sizemore: I was going to be a good citizen and submit a PR to resolve the warning, but I may walk away whistling
Thu, Dec 22, 2022, 10:30:35 - pdurbin: I'm looking at https://jenkins.dataverse.org/job/IQSS-dataverse-develop/1228/consoleFull
Thu, Dec 22, 2022, 10:30:57 - pdurbin: That JSON thing might just be a warning?
Thu, Dec 22, 2022, 10:31:41 - pdurbin: BUILD SUCCESS when building the war
Thu, Dec 22, 2022, 10:32:04 - Don Sizemore: also, the latest develop build failed with "DatasetsIT.testRestrictFileExportDdi:2328 ¬ª SAXParse Premature end of file.""
Thu, Dec 22, 2022, 10:32:31 - Don Sizemore: well, the JSON warning is just a warning, but somebody explicitly included it in pom.xml but 1.3.0-SNAPSHOT doesn't seem to be around any more
Thu, Dec 22, 2022, 10:32:37 - Don Sizemore: let me try with 1.3.0
Thu, Dec 22, 2022, 10:33:23 - Don Sizemore: same compilation failures. I may leave well enough alone.
Thu, Dec 22, 2022, 10:34:10 - pdurbin: We used to have Travis, which would show us if develop is building in a clean environment. The develop branch builds fine for me locally but I'm sure I have that 1.3.0 that you're saying is gone from Maven Central.
Thu, Dec 22, 2022, 10:34:31 - Don Sizemore: 1.3.0 and 1.3.1 are present, just not 1.3.0-SNAPSHOT
Thu, Dec 22, 2022, 10:34:35 - pdurbin: ok
Thu, Dec 22, 2022, 10:34:49 - pdurbin: Should we also look at why job 1228 above failed? Different issue?
Thu, Dec 22, 2022, 10:34:53 - Don Sizemore: though Ansible builds from a clean environment in AWS each time
Thu, Dec 22, 2022, 10:35:37 - Don Sizemore: 1228 coughed up the titanium-json-ld warning but died with "DatasetsIT.testRestrictFileExportDdi:2328 ¬ª SAXParse Premature end of file.""
Thu, Dec 22, 2022, 10:36:11 - pdurbin: Right. Like you said. Hmm. So two issues?
Thu, Dec 22, 2022, 10:37:37 - Don Sizemore: Two issues, I think. I'm puzzled why this titanium-json-ld is included as an explicit dependency, but fixing its version breaks compilation. Worth an issue?
Thu, Dec 22, 2022, 10:39:08 - Don Sizemore: looks like Jim added (or at least last modified) titanium-json-ld, I may query his memory
Thu, Dec 22, 2022, 10:47:26 - pdurbin: sounds good, thanks
Thu, Dec 22, 2022, 11:29:53 - pdurbin: I guess we're treating the titanium thing as a non-issue for now.
Thu, Dec 22, 2022, 12:59:06 - Don Sizemore: I may submit a PR to add a comment explaining that it's a custom local include because reasons
Thu, Dec 22, 2022, 13:41:53 - pdurbin: Sure! Please do.
Thu, Dec 22, 2022, 13:43:05 - Pablo joined the room
Thu, Dec 22, 2022, 13:44:30 - Pablo: Hi! 
There is a way to know how much disk space a specific Dataverse ocuppy on the plataform?
Thu, Dec 22, 2022, 13:53:29 - pdurbin: Pablo: do you mean a specific collection or the entire installation?
Thu, Dec 22, 2022, 13:54:00 - Pablo: <@pdurbin:matrix.org "Pablo: do you mean a specific co..."> A specific collection
Thu, Dec 22, 2022, 13:54:32 - pdurbin: Please try this: https://guides.dataverse.org/en/5.12.1/api/native-api.html#report-the-data-file-size-of-a-dataverse-collection
Thu, Dec 22, 2022, 13:56:05 - Pablo: <@pdurbin:matrix.org "Please try this: https://guides...."> Nice! Thanks!

And the entire installation, the is a form to measure too?
Thu, Dec 22, 2022, 13:57:21 - pdurbin: Hmm, I don't think so.
Thu, Dec 22, 2022, 13:57:49 - pdurbin: One of these tools might help: https://guides.dataverse.org/en/5.12.1/admin/reporting-tools-and-queries.html
Thu, Dec 22, 2022, 13:58:12 - pdurbin: Oh, wait.
Thu, Dec 22, 2022, 13:58:20 - pdurbin: "The size of published and unpublished files will be summed both in the Dataverse collection specified and beneath all its sub-collections, recursively."
Thu, Dec 22, 2022, 13:58:49 - pdurbin: So you can just pass "1" or "root" or whatever your root collection is called to that first API I linked.
Thu, Dec 22, 2022, 13:59:57 - Pablo: <@pdurbin:matrix.org "So you can just pass "1" or "roo..."> ok! thanks for the quick answers
Thu, Dec 22, 2022, 14:00:23 - pdurbin: Sure. üòÑ Easy questions get quick answers.
Thu, Dec 22, 2022, 14:43:44 - Don Sizemore: @pdurbin mwahahaha. now I can conscript reviewers for my PRs!
Thu, Dec 22, 2022, 15:15:40 - pdurbin: you're drunk with power
Thu, Dec 22, 2022, 15:16:10 - pdurbin: But how do you get PRs on the board? üòÑ
Thu, Dec 22, 2022, 15:52:24 - pdurbin: Ok, I'm out of here. Happy Holidays! See you on Tuesday, Jan 3, 2023! Once again, here's our little note of thanks to everyone's contributions this past year: https://groups.google.com/g/dataverse-community/c/uDeNUfqe3RE/m/dph8fZUaEAAJ
Thu, Dec 22, 2022, 15:58:23 - poikilotherm: <@donsizemore:matrix.org "@pdurbin mwahahaha. now I can co..."> I see what you did there!
Sat, Dec 31, 2022, 12:16:39 - Miguel Silva: Happy new 2023 year to all 
Sat, Dec 31, 2022, 12:19:55 - Miguel Silva sent an image. (Media omitted)
Sun, Jan 1, 2023, 00:01:25 - pdurbin: Happy New Year! üéâ
Mon, Jan 2, 2023, 03:30:43 - Benjamin (SODHA): Frohes neues Jahr! üé∂ üçÆ ü´Ç
Mon, Jan 2, 2023, 13:34:45 - Miguel Silva: <@pdurbin:matrix.org "Happy New Year! üéâ"> Happy new 2023 to  all ! And with much LIVE , OPEN SCIENCE uploaded to a dataverse 
Mon, Jan 2, 2023, 13:36:15 - Miguel Silva: 20230102_192820.mp4 (Media omitted)
Mon, Jan 2, 2023, 13:36:37 - Miguel Silva: Today's firmware code update on the Smart 12bit DAQ for  
 electrical resistance measurements on a self-sensing smart asphalt specimen. And it looks like this.
Tomorrow the much awaited 64Mb of PSRAM to manage and store all that experimental data while is not uploaded to a dataverse . Stay tuned !
Tue, Jan 3, 2023, 07:59:50 - zbenta sent an image. (Media omitted)
Tue, Jan 3, 2023, 08:01:06 - zbenta: Hi guys, Happy new year. To start 2023 wiht a bang I would like to ask if there is any possibility to add more than one affiliation on a user account?
Tue, Jan 3, 2023, 08:20:57 - pdurbin: zbenta: h! I'd suggest leaving a comment on this issue: https://github.com/IQSS/dataverse/issues/377 (Alternatively, you could create a dedicated issue for this.)
Tue, Jan 3, 2023, 09:24:11 - zbenta: Thanks pdurbin I already saw it, but it looks like that issue is more focused on the metadata aspect of datasets. What I was wondering, is if the user account information can have more than one Affiliation?
Tue, Jan 3, 2023, 09:26:11 - pdurbin: Oh! For accounts. Hmm. I don't think anyone has asked for this. New issue, please!
Tue, Jan 3, 2023, 09:29:20 - zbenta: I'll create a feature request. ;-)
Tue, Jan 3, 2023, 09:32:37 - pdurbin: Thanks!
Tue, Jan 3, 2023, 09:38:17 - Don Sizemore: @zbenta IIRC there is/was a PR to allow for two affiliations. if UNC Dataverse undergoes a proposed ID mgmt change, our IDP may start sending four per account... 
Tue, Jan 3, 2023, 09:40:26 - zbenta: Thanks Don Sizemore we'll search for the pull request.
Tue, Jan 3, 2023, 09:42:21 - pdurbin: Don Sizemore: are you thinking of https://github.com/IQSS/dataverse/pull/8880 ?
Tue, Jan 3, 2023, 09:42:52 - Don Sizemore: yes, perhaps that was too provider-specific?
Tue, Jan 3, 2023, 09:55:00 - zbenta: It looks interesting but we are using oauth and not shibboleth.
Tue, Jan 3, 2023, 09:55:53 - pdurbin: zbenta: whoops! I thought you were using Shib. I guess my comment is wrong: https://github.com/IQSS/dataverse/issues/9248#issuecomment-1369858842
Tue, Jan 3, 2023, 09:56:10 - pdurbin: Benjamin (SODHA): I just mentioned your "disable position field" issue. ^^
Tue, Jan 3, 2023, 09:57:15 - carlsonp: how do I get to development builds of the documentation again?  sorry I forgot
Tue, Jan 3, 2023, 10:12:06 - pdurbin: carlsonp: http://preview.guides.gdcc.io/en/develop/ for the "develop" branch and doc builds are also linked from each PR. Really we should document this (please feel free to create an issue).
Tue, Jan 3, 2023, 10:13:26 - carlsonp: cheers
Tue, Jan 3, 2023, 10:30:30 - carlsonp: PR in
Tue, Jan 3, 2023, 10:35:18 - pdurbin: Nice. Probably a good place for it.
Tue, Jan 3, 2023, 10:38:08 - pdurbin: carlsonp: how do you feel about also adding a new final bullet under https://dataverse-guide--9249.org.readthedocs.build/en/9249/developers/documentation.html#quick-fix ? "Preview your changes by... "
Tue, Jan 3, 2023, 10:48:12 - pdurbin: I added a comment here: https://github.com/IQSS/dataverse/pull/9249#issuecomment-1369917162
Tue, Jan 3, 2023, 10:50:59 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): I just mention..."> Ah, yes! I believe this was brought up by our team's jurist
Tue, Jan 3, 2023, 10:51:12 - Benjamin (SODHA): Thank you for keeping an eye on everything, pdurbin :)
Tue, Jan 3, 2023, 10:55:25 - juliangautier: Oh interesting Benjamin (SODHA). What's a jurist?
Tue, Jan 3, 2023, 10:55:42 - Benjamin (SODHA): Counselor; legal expert
Tue, Jan 3, 2023, 10:56:09 - Benjamin (SODHA): I'm probably partial to "jurist" because it's so close to the French equivalent, "juriste"
Tue, Jan 3, 2023, 10:56:30 - Benjamin (SODHA): But yeah, I had my doubts about the term. You asking about it makes me think it's not so widespread in English
Tue, Jan 3, 2023, 10:57:56 - Benjamin (SODHA): I'm also a bit iffy about "legal expert" because scientists love tossing "expert" and "expertise" around, and, well, if all it takes to be an expert is a master's degree, well we have a lot of experts running around then üòõ Kind of demeans the term imho
Tue, Jan 3, 2023, 10:59:07 - pdurbin: legal expert makes sense
Tue, Jan 3, 2023, 10:59:58 - pdurbin: "What are lawyers, really? To me a lawyer is basically the person that knows the rules of the country. We're all throwing the dice, playing the game, moving our pieces around the board, but if there's a problem, the lawyer is the only person that has read the inside of the top of the box." -- Jerry Seinfeld
Tue, Jan 3, 2023, 11:00:49 - poikilotherm: But a jurist is not necessary a lawyer, but a lawyer is a jurist
Tue, Jan 3, 2023, 11:01:45 - poikilotherm: In German it's also "Jurist", which basically means someone who studied law ("Jura" in German, coming from Latin)
Tue, Jan 3, 2023, 11:22:33 - pdurbin: poikilotherm (CET,UTC+1): happy new year. Just a reminder that for https://github.com/IQSS/dataverse/pull/8827 we'd love for you to respond to feedback by qqmyers and resolve merge conflicts.
Tue, Jan 3, 2023, 11:26:33 - poikilotherm: Happy New Year üéÜ
Tue, Jan 3, 2023, 14:02:45 - pdurbin: poikilotherm (CET,UTC+1): https://github.com/IQSS/dataverse/pull/9225 is #8 (last) in your HERMES column. Want me to move it to the community column?
Tue, Jan 3, 2023, 15:18:06 - carlsonp: poikilotherm (CET,UTC+1): have you been able to build the base container you wrote standalone without Maven just using a `docker build...` command?
Tue, Jan 3, 2023, 16:55:43 - Joe Gonzalez: Hi everyone, happy new year!
Tue, Jan 3, 2023, 16:56:37 - Joe Gonzalez: Right before the holiday break, I got the following error when trying to deploy an instance of Dataverse on a client's system:
Tue, Jan 3, 2023, 16:56:57 - Joe Gonzalez sent an image. (Media omitted)
Tue, Jan 3, 2023, 16:57:34 - Joe Gonzalez: Any help/thoughts would be greatly appreciated!
Tue, Jan 3, 2023, 18:15:03 - pdurbin: Joe Gonzalez: interesting. What version of Dataverse? And what version of Payara?
Tue, Jan 3, 2023, 19:14:53 - Joe Gonzalez: Hey Phil. Dataverse 5.11.1
Tue, Jan 3, 2023, 19:15:08 - Joe Gonzalez: Payara 5.2021.6
Tue, Jan 3, 2023, 19:16:51 - Joe Gonzalez: on RHEL 8
Wed, Jan 4, 2023, 05:15:11 - poikilotherm: pdurbin carlsonp please don't expect to much from me the next few days... I'm on sick leave. Will try to answer here
Wed, Jan 4, 2023, 05:18:30 - Benjamin (SODHA): Gute Besserung, poikilotherm (CET,UTC+1)!
Wed, Jan 4, 2023, 05:18:47 - poikilotherm: <@carlsonp:matrix.org "poikilotherm (CET,UTC+1): have y..."> No. The base image relies on being built from Maven because of the integration with the rest of the build system, BOMs, Java version etc
Wed, Jan 4, 2023, 05:19:04 - poikilotherm: But it is pushed to Docker Hub, so you can reuse it
Wed, Jan 4, 2023, 06:59:52 - pdurbin: Joe Gonzalez: ok, those versions should work together. Hmm. I see MPCONFIG stuff in that error so normally I'd ask Oliver about this, but he's out sick. Is this an upgrade scenario? Do you have to run those specific versions? Can you run Dataverse 5.12.1 (and whatever version of Payara we recommend for it) instead?
Wed, Jan 4, 2023, 09:02:21 - carlsonp: hope you feel better soon! drink plenty of fluids
Wed, Jan 4, 2023, 09:11:03 - pdurbin: carlsonp: morning! What are your latest thoughts on https://github.com/IQSS/dataverse/pull/8709 ? I see you merged develop in and marked it as draft.
Wed, Jan 4, 2023, 09:12:29 - carlsonp: morning, I'm actually not sure, I was trying to refactor it and use the base container as a starting point.  but... maybe it's better to just have all the pieces as modules which then can be built using maven?  I'm not a maven expert so I'm not sure what the best approach is.  Do you have any thoughts?
Wed, Jan 4, 2023, 09:13:17 - carlsonp: refactoring the docker-compose is easy but getting all the individual containers to build out in maven would be a fair bit of work I suspect unless I can just copy-paste a lot
Wed, Jan 4, 2023, 09:13:42 - pdurbin: Well, the base container has been merged. Probably you noticed this as you merged develop. So, sure, I guess it sounds good to try to use it?
Wed, Jan 4, 2023, 09:14:32 - carlsonp: oh yeah for sure, I want to use it definitely.  It just would seem weird to me to build that one specifically using maven and all the rest using plain Docker?  dunno
Wed, Jan 4, 2023, 09:14:49 - carlsonp: I'll play with it today and see what I can come up with
Wed, Jan 4, 2023, 09:15:12 - pdurbin: Sounds good. We can also wait for Oliver to drink those fluids and weigh in. üòÑ
Wed, Jan 4, 2023, 09:15:21 - carlsonp: yep that's true
Wed, Jan 4, 2023, 09:15:45 - pdurbin: He does plan to add an application image, which would have Dataverse in it. On top of the base image, of course.
Wed, Jan 4, 2023, 09:16:45 - carlsonp: ok, yeah if that's the plan then maybe having them all in maven is the best long-term approach.  Only downside is any developers would need to have maven instead of just using plain old docker but that's not terrible
Wed, Jan 4, 2023, 09:18:48 - pdurbin: Well, Maven is our primary build tool. It's a necessity if you're working on the Java code. But yes, developers could also work on non-Java code in the repo. Good point.
Wed, Jan 4, 2023, 09:19:47 - carlsonp: it's also probably good that I know a little bit of maven, I'll give it a whirl!
Wed, Jan 4, 2023, 09:20:53 - pdurbin: It's not bad. Akio Sone moved us from Ant to Maven, thank goodness.
Wed, Jan 4, 2023, 09:22:10 - pdurbin: It usually boils down to just `mvn package`
Wed, Jan 4, 2023, 09:22:17 - pdurbin: And then you get a war file.
Wed, Jan 4, 2023, 09:26:46 - pdurbin: If it's not easy, please let me know. üòÑ
Wed, Jan 4, 2023, 10:36:42 - Joe Gonzalez: <@pdurbin:matrix.org "Joe Gonzalez: ok, those versions..."> I was able to create a working instance of Dataverse with these versions just fine on my own external AWS account. My client set up the AWS resources for me on their AWS account, but otherwise the environments are the same. Just not sure why it worked the first time and why it didn't this time around. No, not an upgrade - fresh insall.
Wed, Jan 4, 2023, 10:38:01 - pdurbin: Joe Gonzalez: ok, so what should we try next? A newer version of Dataverse? We should change something. üòÑ
Wed, Jan 4, 2023, 10:40:19 - Joe Gonzalez: pdurbin: can I just try a new version of Dataverse or do I need to upgrade Payara as well?
Wed, Jan 4, 2023, 10:41:28 - pdurbin: I'd use the version of Payara we mention in the prereq page.
Wed, Jan 4, 2023, 10:41:56 - pdurbin: Payara 5.2022.3 according to https://guides.dataverse.org/en/5.12.1/installation/prerequisites.html#payara
Wed, Jan 4, 2023, 10:44:25 - Joe Gonzalez: pdurbin: I've had the prereq page open so long that it still said 5.2021.6. This is what happens when you don't refresh :)
Wed, Jan 4, 2023, 10:44:30 - Joe Gonzalez: üôè
Wed, Jan 4, 2023, 10:44:39 - pdurbin: heh
Wed, Jan 4, 2023, 13:46:14 - areyes628 joined the room
Wed, Jan 4, 2023, 15:23:29 - pdurbin: areyes628: welcome! I just noticed your email. Are you around?
Wed, Jan 4, 2023, 16:00:52 - pdurbin: Unfortunately, I'm heading out. (I'm working 8-4 these days to not bike home in the dark.) Maybe we can catch up tomorrow. Overall your PR looks great. I'd like to prioritize it for a proper review (not the quick glance I gave it).
Wed, Jan 4, 2023, 19:19:34 - areyes628: <@pdurbin:matrix.org "Unfortunately, I'm heading out. ..."> Sounds good! I will be active around 8:00 AM PST.
Thu, Jan 5, 2023, 06:23:39 - pdurbin: Kacper Kowalik: happy new year! Are you around? I've been leaving comments here, trying to help: https://github.com/jupyterhub/binderhub/pull/1615
Thu, Jan 5, 2023, 09:52:11 - jmfc: Hi all.
I've been trying to understand via the user guide, how to enact embargoes on a dataset.
https://guides.dataverse.org/en/5.12.1/user/dataset-management.html?highlight=embargo#embargoes

Other than doing it via the API I don't think there's any other way.
At least it's not clear how in the user guide. Can anyone give me some insight on this?
Thu, Jan 5, 2023, 09:53:31 - pdurbin: jmfc: it's super confusing but your sysadmin has to enable embargoes first. It's off by default. Please see https://guides.dataverse.org/en/5.12.1/installation/config.html#maxembargodurationinmonths
Thu, Jan 5, 2023, 09:53:49 - jmfc: Ahhh
Thu, Jan 5, 2023, 09:53:55 - jmfc: Thanks pdurbin .
Thu, Jan 5, 2023, 09:58:00 - pdurbin: jmfc: would a link from the user guide help? If so (or any other doc improvement), would you like to create an issue about this?
Thu, Jan 5, 2023, 10:09:14 - jmfc: Well I think maybe updating the text would help.
Thu, Jan 5, 2023, 10:09:21 - jmfc: I had found the API reference
Thu, Jan 5, 2023, 10:11:02 - pdurbin: Do you want to make a pull request? üòÑ
Thu, Jan 5, 2023, 10:19:25 - jmfc: <@pdurbin:matrix.org "Do you want to make a pull reque..."> If you want me to.
Thu, Jan 5, 2023, 10:19:32 - jmfc: I'll write something up
Thu, Jan 5, 2023, 10:24:32 - pdurbin: jmfc: please! Thank you!
Thu, Jan 5, 2023, 10:24:41 - jmfc: I created an issue.
Thu, Jan 5, 2023, 10:24:47 - jmfc: I think that's what you meant, right?
Thu, Jan 5, 2023, 10:24:56 - jmfc: not pull request. as I have no code
Thu, Jan 5, 2023, 10:25:00 - * pdurbin looks at https://github.com/IQSS/dataverse/issues/9263
Thu, Jan 5, 2023, 10:25:11 - jmfc: That's it
Thu, Jan 5, 2023, 10:25:30 - pdurbin: Yes, this looks perfect. It describes the problem and isn't too bossy about the solution. üòÑ
Thu, Jan 5, 2023, 10:25:39 - jmfc: haha
Thu, Jan 5, 2023, 10:25:55 - jmfc: Like a true engineer. Whatever works best to sort it out.
Thu, Jan 5, 2023, 10:26:08 - pdurbin: rough consensus and working code!
Thu, Jan 5, 2023, 10:27:09 - pdurbin: You could probably use the GitHub web interface if you just want to tweak the text a bit. Or if you have Sphinx installed you could add a link from the user guide to the other guide (I can help with this).
Thu, Jan 5, 2023, 10:27:37 - pdurbin: we have some tips at https://guides.dataverse.org/en/5.12.1/developers/documentation.html
Thu, Jan 5, 2023, 10:28:49 - jmfc: I'll give it a look.
Thu, Jan 5, 2023, 10:29:19 - pdurbin: awesome, thanks. I just put you at the top of https://people.dataverse.org/cards/ üòÑ
Thu, Jan 5, 2023, 10:31:11 - carlsonp: pdurbin: can you change my timezone to America/Chicago (I moved)
Thu, Jan 5, 2023, 10:34:55 - pdurbin: Done! And I made you #2. All those PRs yesterday. üòÑ Do you need anything from us?
Thu, Jan 5, 2023, 10:35:41 - carlsonp: thanks, I don't think so at the moment, just fighting trying to get Dataverse to build and install reasonably in this container at the moment :)
Thu, Jan 5, 2023, 10:36:07 - jmfc: <@pdurbin:matrix.org "awesome, thanks. I just put you ..."> You have the least skilled person in the front of the list.
Thu, Jan 5, 2023, 10:37:24 - pdurbin: embrace the chaos
Thu, Jan 5, 2023, 10:39:43 - pdurbin: We almost had that printed on t-shirts at my last job. Thankfully, Dataverse is less chaotic. üòÑ
Thu, Jan 5, 2023, 10:43:45 - pdurbin: If you folks are associated with an installation, please let me know and I'll update that "people" site.
Thu, Jan 5, 2023, 10:47:58 - jmfc: <@pdurbin:matrix.org "If you folks are associated with..."> I'm associated with Reposit√≥rio Polen, in Lisbon. Along with zbenta :)
Thu, Jan 5, 2023, 10:56:35 - pdurbin: Oh! The new one. Will fix. Thanks.
Thu, Jan 5, 2023, 11:09:46 - areyes628: pdurbin: Good morning! I am ready to talk about that pull request I made.
Thu, Jan 5, 2023, 11:14:48 - areyes628: here's the link to it: https://github.com/IQSS/dataverse/pull/9222#issuecomment-1371020035
Thu, Jan 5, 2023, 11:55:22 - pdurbin: areyes628: oh! great! hold on, let me grab a (physical) room. I have an officemate.
Thu, Jan 5, 2023, 11:56:40 - pdurbin: and a coffee
Thu, Jan 5, 2023, 11:59:07 - pdurbin: areyes628: ready! https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09
Thu, Jan 5, 2023, 12:30:59 - pdurbin: areyes628: when you're ready, to add your installation to the map: https://github.com/IQSS/dataverse-installations/issues
Thu, Jan 5, 2023, 12:41:31 - pdurbin: areyes628: oh, maybe this is obvious but since I added a commit to your branch, you should pull locally to pick it up before making more changes.
Thu, Jan 5, 2023, 12:41:43 - pdurbin: Nice chatting with you!
Thu, Jan 5, 2023, 12:42:16 - areyes628: <@pdurbin:matrix.org "areyes628: oh, maybe this is obv..."> got it
Thu, Jan 5, 2023, 12:42:22 - areyes628: <@pdurbin:matrix.org "Nice chatting with you!"> You too!
Thu, Jan 5, 2023, 14:48:06 - carlsonp: does the `install.py` script authenticate as the glassfish admin user as part of the deployment of the Dataverse .war?
Thu, Jan 5, 2023, 14:51:34 - pdurbin: Woof. In dev I never have a password on Payara (the fork of Glassfish we use). So I'm not the best person to ask. I do have a file at `/Users/pdurbin/.gfclient/pass` on my Mac. Maybe install.py put it there? Not sure.
Thu, Jan 5, 2023, 14:52:04 - carlsonp: ok thanks I'll check it out
Thu, Jan 5, 2023, 14:52:30 - pdurbin: At least it's Python instead of Perl these days. Easier on the eyes. üòÑ
Fri, Jan 6, 2023, 03:02:46 - Benjamin (SODHA) sent an image. (Media omitted)
Fri, Jan 6, 2023, 03:02:59 - Benjamin (SODHA): The Swiss army chainsaw of scripting languages :D
Fri, Jan 6, 2023, 05:58:13 - pdurbin: https://blogs.perl.org/users/philip_durbin/2013/05/perl-actually-doesnt-suck.html
Fri, Jan 6, 2023, 05:59:43 - pdurbin: https://blogs.perl.org/users/philip_durbin/2011/05/john-siracusa-discusses-perl-on-hypercritical.html
Fri, Jan 6, 2023, 07:21:02 - pdurbin: I was once a Jedi Knight the same as your father.
Fri, Jan 6, 2023, 07:21:13 - pdurbin: er, Perl hacker, just another perl hacker
Fri, Jan 6, 2023, 08:01:48 - pdurbin: like Don Sizemore 
Fri, Jan 6, 2023, 08:02:13 - pdurbin: Benjamin (SODHA): hey, how's that paper coming?
Fri, Jan 6, 2023, 08:02:47 - Don Sizemore: the only things I hack these days are hairballs.
Fri, Jan 6, 2023, 08:06:36 - Benjamin (SODHA): <@pdurbin:matrix.org "Benjamin (SODHA): hey, how's tha..."> It took a lot of patience but finally, the last co-author sent me their feedback!
Fri, Jan 6, 2023, 08:06:40 - Benjamin (SODHA): In late December
Fri, Jan 6, 2023, 08:06:55 - Benjamin (SODHA): So now I have to make time to incorporate everything in the paper and send that first version for review
Fri, Jan 6, 2023, 08:07:16 - Benjamin (SODHA): It shouldn't take me too long I think (nobody said "that whole section is useless, you must replace it with four sections on topics you know nothing about")
Fri, Jan 6, 2023, 08:07:33 - pdurbin: phew üòÖ
Fri, Jan 6, 2023, 08:07:59 - Benjamin (SODHA): So pdurbin! The onion is your emblem? :D
Fri, Jan 6, 2023, 08:09:15 - pdurbin: No. I actually like Python better. And lots of other languages better. But Perl was the first language I got paid to write so it holds a special place in my heart.
Fri, Jan 6, 2023, 08:10:42 - pdurbin: Larry Wall, the creator of Perl, gave a talk at Harvard in those days. That was pretty neat.
Fri, Jan 6, 2023, 08:23:19 - pdurbin sent an image. (Media omitted)
Fri, Jan 6, 2023, 08:25:08 - pdurbin: Wow! I use ‚åò k (Ctrl k on Windows or Linux) all day long here in Element and in Slack. Now GitHub supports it! It's a keyboard shortcut that allows you to quickly jump to different places. https://github.blog/changelog/2021-10-27-command-palette-beta/
Fri, Jan 6, 2023, 08:30:20 - poikilotherm: <@benjamin_peuch:matrix.org "The Swiss army chainsaw of scrip..."> My bachelor thesis was modification of a Perl based web application. Good ol' times (2009). Seems dead these days. https://www.hydkin.de
Fri, Jan 6, 2023, 08:30:43 - poikilotherm: HYDKIN: Towards Online Hydrogen and Hydride Kinetics to Publicly Expose A+M Data in Particular Edge Modeling Applications https://www.osti.gov/etdeweb/biblio/21460379
Fri, Jan 6, 2023, 08:31:00 - Benjamin (SODHA): <@pdurbin:matrix.org "No. I actually like Python bette..."> I meant the logo on your blog :)
Fri, Jan 6, 2023, 08:31:03 - Benjamin (SODHA): üßÖ
Fri, Jan 6, 2023, 08:32:22 - pdurbin: Oh! That's probably the default. Perl folks like onions, camels, and butterflies.
Fri, Jan 6, 2023, 08:33:35 - pdurbin: poikilotherm (CET,UTC+1): see you at the auth meeting in ~90 minutes? Feeling better?
Fri, Jan 6, 2023, 08:34:29 - poikilotherm: Feeling better but still on sick leave officially. Hadn't a chance to catch up yet.
Fri, Jan 6, 2023, 08:35:16 - poikilotherm: Will drop by, but maybe stay more on the quiet side
Fri, Jan 6, 2023, 08:36:14 - pdurbin: ok, save your voice
Fri, Jan 6, 2023, 08:42:54 - Benjamin (SODHA): Message deleted
Fri, Jan 6, 2023, 08:43:05 - Benjamin (SODHA) sent an image. (Media omitted)
Fri, Jan 6, 2023, 09:25:44 - pdurbin: poikilotherm (CET,UTC+1): as I just mentioned to Guillermo Portas , the whiteboard feature in Zoom we tried to use was a train wreck. I think we should try this next time: https://github.com/excalidraw/excalidraw 
Fri, Jan 6, 2023, 09:26:33 - pdurbin: via this brand new book (which seems perfect for us): https://www.patterns.dev
Fri, Jan 6, 2023, 09:27:12 - poikilotherm: Here's an instance of this: https://iffdraw.fz-juelich.de/
Fri, Jan 6, 2023, 09:27:38 - pdurbin: what? you were holding out on us?!? üòÑ
Fri, Jan 6, 2023, 09:28:28 - poikilotherm: Excalidraw is a bit limited when compared with others like Miro, Conceptboard et al
Fri, Jan 6, 2023, 09:28:48 - poikilotherm: Here's a test https://iffdraw.fz-juelich.de/#room=032597a5fef6d7cc2492,EMqRFuE4CrHm1gsTowiZmA
Fri, Jan 6, 2023, 09:29:20 - pdurbin: from the book: "So, in essence, designing for React actually rewards you for thinking in a modular way."
Fri, Jan 6, 2023, 09:32:00 - pdurbin: I heard about it here: https://podrocket.logrocket.com/architect-web-apps-repeat
Fri, Jan 6, 2023, 13:03:59 - pdurbin: well, at least Excalidraw is open source üòÑ
Fri, Jan 6, 2023, 16:26:36 - pdurbin: The rain just tuned to snow. Have a good weekend all! ‚òÉÔ∏è
Sat, Jan 7, 2023, 15:38:04 - pdurbin: Who develops Dataverse? https://github.com/IQSS/dataverse/issues/9267
Mon, Jan 9, 2023, 01:03:58 - poikilotherm: <@pdurbin:matrix.org "Who develops Dataverse? https://..."> Last time I checked it was you... üòâ
Mon, Jan 9, 2023, 06:24:19 - pdurbin: It's a community effort. üòÑ
Mon, Jan 9, 2023, 06:24:38 - pdurbin: poikilotherm (CET,UTC+1): feeling better,  I hope
Mon, Jan 9, 2023, 06:24:57 - poikilotherm: Yeah, back on deck
Mon, Jan 9, 2023, 06:25:23 - poikilotherm: Looking into https://github.com/IQSS/dataverse/issues/9268 right now
Mon, Jan 9, 2023, 06:27:59 - pdurbin: very cool, and glad to have you back!
Mon, Jan 9, 2023, 06:39:00 - pdurbin: Speaking of the community, I hope people are happy with what I've put near the top of the community column of the new global backlog board: https://github.com/orgs/IQSS/projects/34/views/6 . This afternoon I believe some items will be taken of the top for a future sprint. (The current sprint ends tomorrow.)
Mon, Jan 9, 2023, 06:43:21 - poikilotherm: Haha maybe then I shall hurry with a PR :-D
Mon, Jan 9, 2023, 08:02:04 - pdurbin: sure, go for it
Mon, Jan 9, 2023, 08:13:41 - pdurbin: <@jmfc:matrix.org "I'm associated with Reposit√≥rio ..."> Added. Thanks. https://people.dataverse.org/cards/
Mon, Jan 9, 2023, 09:19:32 - joelfan joined the room
Mon, Jan 9, 2023, 09:27:45 - vera_c: Happy new year everybody!

poikilotherm (CET,UTC+1): what are the next steps on the OIDC PR https://github.com/IQSS/dataverse/pull/9230 ? Is there anything I can do to help move it forward? :)
Mon, Jan 9, 2023, 09:28:29 - poikilotherm: Currently there is lots of discussion ongoing WRT all the OIDC changes
Mon, Jan 9, 2023, 09:28:35 - poikilotherm: Probably it will sit for a while
Mon, Jan 9, 2023, 09:28:52 - poikilotherm: Until we have that auth document straightened out
Mon, Jan 9, 2023, 09:32:03 - pdurbin: vera_c: have you seen the auth doc?
Mon, Jan 9, 2023, 09:40:01 - Johannes Darms: Could we get that MR running as PoC? 
Mon, Jan 9, 2023, 09:42:49 - pdurbin: Johannes Darms: hi! I'm not sure what you're asking. You want us to spin up an EC2 instance running that branch?
Mon, Jan 9, 2023, 09:44:58 - Johannes Darms: No, we have plenty of resources to run an instance. The MR misses some code do be fully functional and I'm wondering whether it is feasible to work on it or rather stop and wait.
Mon, Jan 9, 2023, 09:47:08 - poikilotherm: As there is a discussion around whether to use plain OIDC or not with the API (in that case go for use JWT with the API, handed out after an initial login) and if we should require access tokens to be JWTs or even go for expecting ID tokens, maybe it would be good to let the dust settle a bit
Mon, Jan 9, 2023, 09:47:28 - poikilotherm: Johannes Darms: do you have access to the auth doc?
Mon, Jan 9, 2023, 09:51:27 - Johannes Darms: When will the dust settle? Weeks or months?  
Mon, Jan 9, 2023, 09:52:31 - Guillermo Portas: Hi, the document is public: https://docs.google.com/document/d/1mzPLbzAiED93hTXnTyw9rDBm7_dL1Qf4bPMg2j0c0NE
Mon, Jan 9, 2023, 10:03:03 - poikilotherm: <@johannes.darms:matrix.org "When will the dust settle? Weeks..."> Weeks. We're working on this.
Mon, Jan 9, 2023, 10:12:24 - Johannes Darms: Thats good to hear. So OIDC is more or less set and it is just not clear what kind of token the API shall expect, right?
Mon, Jan 9, 2023, 10:42:38 - pdurbin: I think, yes, OIDC is more or less set.
Mon, Jan 9, 2023, 10:48:03 - poikilotherm: Yeah. Working on PKCE for the builtin provider just now
Mon, Jan 9, 2023, 10:48:10 - poikilotherm: But will head out to construction site now
Mon, Jan 9, 2023, 10:48:14 - poikilotherm: üëã
Mon, Jan 9, 2023, 13:35:36 - Don Sizemore: does "OIDC is more or less set" mean Shibboleth is more or less going away?
Mon, Jan 9, 2023, 13:35:52 - pdurbin: Absolutely not. üòÑ
Mon, Jan 9, 2023, 13:36:00 - Don Sizemore: ^federated Shibboleth
Mon, Jan 9, 2023, 13:36:30 - pdurbin: InCommon only does SAML
Mon, Jan 9, 2023, 14:41:09 - pdurbin: <@pdurbin:matrix.org "Jan Range: your app sounds amazi..."> Jan Range: Happy New Year! Are you still presenting tomorrow? I still have you on the agenda. üòÑ
Mon, Jan 9, 2023, 14:44:22 - * pdurbin emails him
Mon, Jan 9, 2023, 16:04:40 - pdurbin: Does dataverse.org/team make sense as a URL? This could be a place to list core devs, for example.
Mon, Jan 9, 2023, 16:05:26 - pdurbin: And past team members.
Mon, Jan 9, 2023, 21:39:12 - pdurbin: https://jekyllrb.com/team/ seems like a good model and even has "Emeritus Core Team Members".
Tue, Jan 10, 2023, 01:52:41 - beep: Hi!

I've been reading about testing Dataverse (https://guides.dataverse.org/en/latest/developers/testing.html) and there's a section about "Writing and Using a Testcontainers Test". However I could not find any tests that actually use Testcontainers. Can you help me, please, where can I find an example with Testcontainers in Dataverse?


Tue, Jan 10, 2023, 02:45:30 - poikilotherm: Hi @beep - currently there are no such tests. This might change in the near future with OIDC and SPA stuff. What are you trying to do?
Tue, Jan 10, 2023, 02:48:21 - beep: I'm just trying to get familiar with the codebase and learn about the project best practices, including testing. I now see how unit tests work and try to figure out how to execute (maybe implement) integration tests.
Tue, Jan 10, 2023, 03:08:03 - poikilotherm: Well I'd argue currently we do not have any "integration tests", but a lot of " end-to-end API tests". (I'm a fan of https://martinfowler.com/articles/practical-test-pyramid.html)
Tue, Jan 10, 2023, 03:09:00 - poikilotherm: I'm currently working on a blog post about adding integration testing using Testcontainers and Arquillian
Tue, Jan 10, 2023, 03:30:22 - beep: The line between e2e and integration tests are a bit blurry for me in case of API testing, but anyways, what I would like to see how the whole Dataverse infrastracture (postgresql, solr, Dataverse server) behaves when I use it via API calls.
Tue, Jan 10, 2023, 03:38:24 - beep: One problem I see with such tests is that Dataverse startup is very slow, which makes writing e2e/IT frustrating.
Tue, Jan 10, 2023, 06:39:41 - Jan Range: <@pdurbin:matrix.org "Jan Range: Happy New Year! Are y..."> Happy new year too! I just downloaded Element as I am missing those messages out, when I visit via the browser ü´£ 
Tue, Jan 10, 2023, 06:49:49 - pdurbin: Jan Range: I'm looking forward to your presentation! Missing messages? Do you need a link to the agenda? You can find it at https://dataverse.org/community-calls
Tue, Jan 10, 2023, 06:50:16 - pdurbin: beep: have you seen https://github.com/IQSS/dataverse/issues/5593 ?
Tue, Jan 10, 2023, 06:54:21 - Jan Range: <@pdurbin:matrix.org "Jan Range: I'm looking forward t..."> Thanks for sending :-) Looking forward to your feedback!
Tue, Jan 10, 2023, 08:00:26 - pdurbin: Jan Range: sure. I was thinking about recording your presentation, if you're ok with that. What do you think?
Tue, Jan 10, 2023, 08:01:03 - Jan Range: Sure thats fine for me :-) 
Tue, Jan 10, 2023, 08:01:12 - pdurbin: ok, cool
Tue, Jan 10, 2023, 08:17:11 - pdurbin: beep: you're welcome to ask your testing questions in a couple hours at the community call ^^
Tue, Jan 10, 2023, 08:17:36 - poikilotherm: Bah who needs testing?
Tue, Jan 10, 2023, 08:18:24 - poikilotherm: Sysadmins and end users are our testers, aren't they? üò¨ (`</sarcasm>`)
Tue, Jan 10, 2023, 08:18:53 - pdurbin: we'll fix it in post
Tue, Jan 10, 2023, 08:19:27 - poikilotherm: Is it Friday? Lets üö¢ it
Tue, Jan 10, 2023, 08:19:59 - pdurbin: poikilotherm (CET,UTC+1): that test board we made... we should decide to kill it or make it awesome
Tue, Jan 10, 2023, 08:20:54 - poikilotherm: You said you ditch(ed?) it, I approved. üî´
Tue, Jan 10, 2023, 08:21:15 - poikilotherm: Lock 'n' load
Tue, Jan 10, 2023, 08:21:31 - pdurbin: ok, I just closed it at least (didn't delete it)
Tue, Jan 10, 2023, 08:21:34 - pdurbin: thanks
Tue, Jan 10, 2023, 08:21:43 - poikilotherm: Sure thing
Tue, Jan 10, 2023, 08:22:26 - poikilotherm: Guillermo Portas pdurbin looks like the Keycloak PR was merged! Anyone wrote an integration test with this before?
Tue, Jan 10, 2023, 08:22:54 - pdurbin: But how about this... you could start a PR that closes https://github.com/IQSS/dataverse/issues/9157 and I could help finish it off. Try to set expectations better about PRs. What's happening with my PR? That sort of thing.
Tue, Jan 10, 2023, 08:23:44 - pdurbin: I tested that Keycloak PR manually. No, I didn't add an automated test. Sounds nice.
Tue, Jan 10, 2023, 08:26:57 - poikilotherm: <@pdurbin:matrix.org "But how about this... you could ..."> Hmm yeah... Maybe not today üôà
Tue, Jan 10, 2023, 08:27:43 - pdurbin: Sure, no rush. It's just less awkward for me if the PR comes from anyone else.
Tue, Jan 10, 2023, 09:55:43 - pdurbin: community call in 5 minutes: https://dataverse.org/community-calls
Tue, Jan 10, 2023, 10:28:05 - carlsonp: has anyone seen a message like this before?  `Unable to start a system terminal, creating a dumb terminal (enable debug logging for more information)  Authentication failed for user: null ... command undeploy failed`
Tue, Jan 10, 2023, 11:26:03 - poikilotherm: <@carlsonp:matrix.org "has anyone seen a message like t..."> Nope.
Tue, Jan 10, 2023, 11:26:54 - poikilotherm: pdurbin: I need to extend JvmSetting Junit helper for my integration test on OIDC. I hope you don't mind I include that in the PR we talked about yesterday (OIDC PKCE + MPCONFIG support)
Tue, Jan 10, 2023, 13:48:08 - pdurbin: poikilotherm (CET,UTC+1): sure, go for it
Tue, Jan 10, 2023, 13:48:20 - pdurbin: carlsonp: new one on me, sorry
Tue, Jan 10, 2023, 13:56:38 - pdurbin: Jan Range: the recording is up: https://harvard.zoom.us/rec/share/bDBTo_M5X4B-gcDgbUqxK3ABBXQyB1iLrPOB0Sgi91yvia4KRI9lW7BgTHoB9IU.GNuVNf21uH6ibpSY
Tue, Jan 10, 2023, 13:57:10 - pdurbin: How do you want it to look on https://iqss.github.io/dataverse-tv/ ? Can you please give me a title and a description?
Tue, Jan 10, 2023, 13:57:32 - pdurbin: Or just leave a comment on those fields here, please: https://docs.google.com/spreadsheets/d/1uVk_57Ek_A49sLZ5OKdI6QASKloWNzykni3kcYNzpxA/edit?usp=sharing
Tue, Jan 10, 2023, 14:00:08 - pdurbin: poikilotherm (CET,UTC+1): are you going to Dataverse Backlog Stewards Backlog Review(üîÑwkly)?
Tue, Jan 10, 2023, 14:00:43 - poikilotherm: pdurbin: Mike said it's not necessary for me to be there. Which is an advantage, because I have my hands full of plaster right now :-D
Tue, Jan 10, 2023, 14:03:42 - pdurbin: I'd hate to see your keyboard.
Tue, Jan 10, 2023, 15:20:43 - Jan Range: <@pdurbin:matrix.org "Or just leave a comment on those..."> Awesome! Thanks for uploading :-) Just added a description as a comment
Tue, Jan 10, 2023, 15:21:51 - pdurbin: Jan Range: perfect! Oh do you have a link to your slides I can add?
Tue, Jan 10, 2023, 15:22:29 - Jan Range: Sure, going to upload them now
Tue, Jan 10, 2023, 15:22:45 - pdurbin: Perfect, thanks.
Tue, Jan 10, 2023, 15:23:59 - Jan Range: Here it is :-)

https://www.dropbox.com/s/o986yf09c7a0tfr/EasyReview_SimTech_Range_2023.pdf?dl=1
Tue, Jan 10, 2023, 15:25:20 - pdurbin sent an image. (Media omitted)
Tue, Jan 10, 2023, 15:25:35 - pdurbin: https://dataverse.org/dataversetv
Tue, Jan 10, 2023, 15:28:20 - pdurbin: Jan Range: looks great! Do you want to email the google group about it? Or I can.
Tue, Jan 10, 2023, 15:31:45 - Jan Range: I am currently not at home, but I can do it when I am back home again. How can I email the group best?
Tue, Jan 10, 2023, 15:37:55 - pdurbin: Ah, you would join https://groups.google.com/g/dataverse-community and post something.
Tue, Jan 10, 2023, 15:46:27 - poikilotherm: beep: here's a first Testcontainers test. Maybe it will be merged. https://github.com/IQSS/dataverse/blob/c35133adf8fbcd16ed0fbc28bb6bdcb82765083f/src/test/java/edu/harvard/iq/dataverse/authorization/providers/oauth2/oidc/OIDCAuthenticationProviderFactoryIT.java
Tue, Jan 10, 2023, 15:46:39 - poikilotherm: Part of https://github.com/IQSS/dataverse/pull/9273
Tue, Jan 10, 2023, 15:47:05 - carlsonp: is there a way to bypass `asadmin` admin password prompts?
Tue, Jan 10, 2023, 15:47:26 - poikilotherm: Not once secure admin is enabled
Tue, Jan 10, 2023, 15:47:33 - poikilotherm: Why?
Tue, Jan 10, 2023, 15:47:52 - carlsonp: trying to extend the base container you wrote with Dataverse
Tue, Jan 10, 2023, 15:48:06 - poikilotherm: What are you trying to do
Tue, Jan 10, 2023, 15:48:20 - carlsonp: the installer seems to be getting hung up and is prompting for credentials
Tue, Jan 10, 2023, 15:48:33 - poikilotherm: Oh the installer
Tue, Jan 10, 2023, 15:48:44 - poikilotherm: You should not use the installer
Tue, Jan 10, 2023, 15:49:08 - poikilotherm: The installer is for classic installations
Tue, Jan 10, 2023, 15:51:07 - poikilotherm: The installer does a lot of things that are targeted at installation on a server / VM
Tue, Jan 10, 2023, 15:51:11 - poikilotherm: Containers are different
Tue, Jan 10, 2023, 15:52:54 - carlsonp: so just straight up `asadmin` commands to deploy and configure the .war?
Tue, Jan 10, 2023, 15:55:38 - poikilotherm: Not necessary! :-)
Tue, Jan 10, 2023, 15:55:50 - poikilotherm: Please note DEPLOY_DIR in http://preview.guides.gdcc.io/en/develop/container/base-image.html#locations
Tue, Jan 10, 2023, 15:56:16 - poikilotherm: And https://docs.payara.fish/community/docs/Technical%20Documentation/Payara%20Micro%20Documentation/Payara%20Micro%20Configuration%20and%20Management/Micro%20Management/Asadmin%20Commands/Pre%20and%20Post%20Boot%20Commands.html linked to from http://preview.guides.gdcc.io/en/develop/container/base-image.html#tunables
Tue, Jan 10, 2023, 15:57:14 - poikilotherm: I have been using this before, see https://github.com/gdcc/dataverse/blob/develop%2Bct/conf/container/scripts/app/init_2_conf_payara.sh for an example
Tue, Jan 10, 2023, 15:57:41 - poikilotherm: The app image to be done needs some of this script until we have a fully MPCONFIG enabled application
Tue, Jan 10, 2023, 15:58:07 - carlsonp: ok great, I'll take a look, thanks
Tue, Jan 10, 2023, 15:58:25 - poikilotherm: We will need to DOI password, email config and the env to sys prop hack for now
Tue, Jan 10, 2023, 15:59:18 - poikilotherm: I had an idea to create a nicer mapping between nice looking env vars and system properties for all those that are not yet available via MPCONFIG
Tue, Jan 10, 2023, 15:59:32 - poikilotherm: If you want you can give that a shot :-D
Tue, Jan 10, 2023, 16:00:02 - carlsonp: I'll see how ambitious I get, I think step one is just getting it to build :)
Tue, Jan 10, 2023, 16:00:32 - carlsonp: I have all the "other" pieces like rserve, solr, etc. setup as maven builds with the docker plugin now, is that good?
Tue, Jan 10, 2023, 16:01:06 - carlsonp: or rather was that your intended long term vision?
Tue, Jan 10, 2023, 16:01:26 - poikilotherm: Sounds nice. We should take a look at where to put the different pieces
Tue, Jan 10, 2023, 16:02:02 - poikilotherm: Maybe we can have another VC next week or so?
Tue, Jan 10, 2023, 16:02:12 - poikilotherm: (This week is pretty crowded alreaday)
Tue, Jan 10, 2023, 16:02:25 - carlsonp: VC?
Tue, Jan 10, 2023, 16:02:44 - poikilotherm: video conference
Tue, Jan 10, 2023, 16:03:07 - carlsonp: sure, that would be awesome
Tue, Jan 10, 2023, 16:06:00 - poikilotherm: How about Tuesday, 17:00 CET to 18:00 CET?
Tue, Jan 10, 2023, 16:06:14 - poikilotherm: That would be 09:00 your time, right?
Tue, Jan 10, 2023, 16:08:15 - carlsonp: yeah, well, 10am since I moved, that time works for me
Tue, Jan 10, 2023, 16:09:09 - poikilotherm: Ah then lets move an hour earlier
Tue, Jan 10, 2023, 16:09:18 - poikilotherm: So we might run for 2 hours
Tue, Jan 10, 2023, 16:09:27 - poikilotherm: If necessary or we feel like hacking
Tue, Jan 10, 2023, 16:09:34 - carlsonp: cool
Tue, Jan 10, 2023, 16:09:37 - poikilotherm: Would that work for you?
Tue, Jan 10, 2023, 16:09:58 - carlsonp: yes thanks
Tue, Jan 10, 2023, 16:10:02 - poikilotherm: If you're fine with 0800 your time, I'm free at that time. Future Dataverse Man ;-)
Tue, Jan 10, 2023, 16:10:28 - carlsonp: yeah, I start work early, around 7am so whatever is best for you
Tue, Jan 10, 2023, 16:10:57 - poikilotherm: OK then lets go for 1500 my time. That actually pretty good in case I have other stuff coming int
Tue, Jan 10, 2023, 16:11:22 - poikilotherm: pdurbin: do you want to add an appointment to  the Dataverse Calender?
Tue, Jan 10, 2023, 16:11:41 - poikilotherm: (And do you want to be a part of that session?)
Tue, Jan 10, 2023, 21:05:13 - pdurbin: poikilotherm (CET,UTC+1): you're a core developer now. How about I give you access you edit the calendar? üòÑ
Wed, Jan 11, 2023, 02:41:39 - poikilotherm: Oh. Sure. If you think that's OK
Wed, Jan 11, 2023, 07:59:54 - pdurbin: poikilotherm (CET,UTC+1): I just gave you the same access qqmyers has (and that I have). Don Sizemore do you want in?
Wed, Jan 11, 2023, 08:00:23 - poikilotherm: Thanks pdurbin 
Wed, Jan 11, 2023, 08:00:44 - poikilotherm: Do you want to be included in the meeting?
Wed, Jan 11, 2023, 08:16:36 - poikilotherm: pdurbin carlsonp I added the appointment to the Dataverse calendar
Wed, Jan 11, 2023, 08:25:22 - Don Sizemore: @pdurbin I hope I won't need to edit the Dataverse calendar?
Wed, Jan 11, 2023, 08:32:34 - poikilotherm: <@donsizemore:matrix.org "@pdurbin I hope I won't need to ..."> Maybe you will be obliged to schedule Jenkins downtimes in it üôàüòù
Wed, Jan 11, 2023, 08:39:53 - pdurbin: poikilotherm (CET,UTC+1): the timing seems good. Sure, I'll probably be there. Do you want to email the google group and invite even more people? Or keep it small.
Wed, Jan 11, 2023, 08:41:10 - pdurbin: Don Sizemore: by the principle of least privilege (and the power of grayskull) I won't give you access until you ask
Wed, Jan 11, 2023, 08:46:26 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): the ti..."> Probably all folks interested are here already. Right, Johannes Darms vera_c carlsonp beep ?
Wed, Jan 11, 2023, 08:46:47 - poikilotherm: Oh wait Phillip said yesterday he's interested, too
Wed, Jan 11, 2023, 08:47:04 - Don Sizemore: I'm interested though my availability is shaky these days
Wed, Jan 11, 2023, 08:47:19 - poikilotherm: OK to be precise: he said they are migrating to cloud based deployment
Wed, Jan 11, 2023, 08:47:52 - poikilotherm: pdurbin: should we reuse the Community Call Zoom Room?
Wed, Jan 11, 2023, 08:48:14 - pdurbin: That's fine. Do I need to give you access? What if you join now. Are you the host?
Wed, Jan 11, 2023, 08:48:45 - poikilotherm: Let me try
Wed, Jan 11, 2023, 08:49:33 - poikilotherm: Nope - I can join, but ain't the host
Wed, Jan 11, 2023, 08:49:46 - pdurbin: hmm, how do I fix that?
Wed, Jan 11, 2023, 08:52:00 - pdurbin: poikilotherm (CET,UTC+1): can you use your own zoom for this instead?
Wed, Jan 11, 2023, 08:52:30 - poikilotherm: Sure - although we will need to use BBB then. I don't have a Zoom license üòÑ
Wed, Jan 11, 2023, 08:52:55 - pdurbin: oh, I thought fzj had one
Wed, Jan 11, 2023, 08:52:57 - Johannes Darms: I'm stuck in another meeting, I'll join once that is finished. Anyway, it's awesome to see more activity related to container and oidc.
Wed, Jan 11, 2023, 08:53:18 - pdurbin: you two know there's an auth meeting in a couple hours, right?
Wed, Jan 11, 2023, 08:54:14 - pdurbin: looks like poikilotherm (CET,UTC+1) is on the invite at least. 11:15 my time (after standup)
Wed, Jan 11, 2023, 09:10:46 - pdurbin: poikilotherm (CET,UTC+1): BBB is fine with me. If you want Harvard Zoom access, would you be able to ask Mike about it?
Wed, Jan 11, 2023, 09:19:01 - carlsonp: I can setup a Teams meeting through my work email as well if that's needed
Wed, Jan 11, 2023, 09:20:16 - poikilotherm: <@pdurbin:matrix.org "looks like poikilotherm (CET,UTC..."> Yes I'm aware - might collide with HERMES Hackathon
Wed, Jan 11, 2023, 09:20:48 - poikilotherm: <@carlsonp:matrix.org "I can setup a Teams meeting thro..."> Whatever works :-D I'm sure we can coordinate here.
Wed, Jan 11, 2023, 09:33:24 - pdurbin: poikilotherm (CET,UTC+1): if I am the creator of the Zoom meeting I might be able to give you access. So I could try creating a new meeting if you like.
Wed, Jan 11, 2023, 09:46:35 - pdurbin: and access for carlsonp too, of course
Wed, Jan 11, 2023, 10:20:52 - pdurbin: poikilotherm (CET,UTC+1): does a ‚ù§Ô∏è mean, yes, create it?
Wed, Jan 11, 2023, 10:21:36 - poikilotherm: Yes please :-)
Wed, Jan 11, 2023, 10:29:55 - pdurbin: poikilotherm (CET,UTC+1): no dice: 'Unable to assign "[Oliver's fzj email]" as an alternative host because the user cannot be selected at this time'
Wed, Jan 11, 2023, 10:30:16 - pdurbin: same with carlsonp 's sandia email
Wed, Jan 11, 2023, 10:30:32 - pdurbin: poikilotherm (CET,UTC+1): so I guess I'd suggest using BBB or whatever you like
Wed, Jan 11, 2023, 10:39:56 - poikilotherm: OK thx for trying
Wed, Jan 11, 2023, 10:40:29 - pdurbin: Sure. I guess it makes sense from a $$ perspective for Zoom Inc. üòÑ
Wed, Jan 11, 2023, 10:58:58 - pdurbin: poikilotherm (CET,UTC+1): did you know that both Don Sizemore and qqmyers have HavardKey?
Wed, Jan 11, 2023, 11:00:40 - poikilotherm: I didn't.
Wed, Jan 11, 2023, 11:04:51 - areyes628: pdurbin: Hello! I just saw your comment on my pull request. Would tomorrow at 10:00 AM PST work for you for a quick chat?
Wed, Jan 11, 2023, 12:04:46 - pdurbin: areyes628: hi! Lots of meetings tomorrow, sorry. What about 11am PST Friday? (2pm my time)
Wed, Jan 11, 2023, 12:07:24 - areyes628: <@pdurbin:matrix.org "areyes628: hi! Lots of meetings ..."> Sounds good, talk to you then
Wed, Jan 11, 2023, 12:08:06 - pdurbin: areyes628: great! I'll send you a zoom link here (just before unless you want it earlier)
Wed, Jan 11, 2023, 15:33:15 - poikilotherm: pdurbin: ideas how to ask the community about Keycloak potentially as a required component?
Wed, Jan 11, 2023, 15:33:54 - poikilotherm: Every so often technical questions to the community on the mailing list seem to be deserted...
Wed, Jan 11, 2023, 15:57:32 - pdurbin: Ask more than once? Different channels? Not sure. üòÑ
Wed, Jan 11, 2023, 19:34:55 - juliangautier: Maybe asking directly too, if you know the people who might be most affected, and making it clear what might happen if you can't get their feedback
Wed, Jan 11, 2023, 19:36:50 - juliangautier: Or to stay positive, how things will be better if you can get their feedback üôÇ
Wed, Jan 11, 2023, 21:16:07 - pdurbin: Sysadmins would be affected. Maybe the devops channel in Slack. There's no dedicate sysadmin/devops mailing list.
Thu, Jan 12, 2023, 04:18:02 - Gregor Middell joined the room
Thu, Jan 12, 2023, 04:23:54 - Gregor Middell: Hello! I have a question regarding OAI-PMH harvesting of Zenodo records. I harvest https://zenodo.org/oai2d?verb=ListRecords&set=user-recentglobe_leipzig&metadataPrefix=oai_dc into a Dataverse v5.5. The 13 records in this dataset show up in the target dataverse, but the dates of each harvested dataset seem to be drawn from the record/header/datestamp, not from record/metadata/oai_dc:dc/dc:date. Any advice how to configure the harvesting client such that the DC metadata field is used, would be greatly appreciated. Thanks in advance!
Thu, Jan 12, 2023, 04:27:30 - Gregor Middell: <@gremid:matrix.org "Hello! I have a question regardi..."> (Metadata format is "oai_dc", Archive Type is "Generic OAI archive" at the moment.)
Thu, Jan 12, 2023, 06:20:04 - pdurbin: Gregor Middell: hi! 5.12.1 has this date-related fix that might help? https://github.com/IQSS/dataverse/pull/8732 Would you be able to install a test server and check?
Thu, Jan 12, 2023, 06:22:47 - Gregor Middell: <@pdurbin:matrix.org "Gregor Middell: hi! 5.12.1 has t..."> Hi! Thanks for the quick reply! Will check if we can test and update ‚Ä¶
Thu, Jan 12, 2023, 07:10:09 - pdurbin: Gregor Middell: awesome. Please feel free to open an issue if upgrading to 5.12.1 doesn't help!
Thu, Jan 12, 2023, 07:12:13 - pdurbin: Jan Range: are you around? I got your email and a quick answer is "probably". üòÑ Also, are you still going to announce the EasyReview demo video on the mailing list?
Thu, Jan 12, 2023, 07:26:40 - Don Sizemore: @poikilotherm speaking only for my Gmail account, many posts sent to the community list languish in my spam folder
Thu, Jan 12, 2023, 07:27:22 - Don Sizemore: juliangautier: poikilotherm (CET,UTC+1) to my understanding, we would be affected by losing federated shibboleth
Thu, Jan 12, 2023, 07:50:18 - pdurbin: Don Sizemore: no, the idea is that we (who use Shibboleth) would configure Keycloak to talk to InCommon. So yeah, no for Shibboleth the software but still SAML.
Thu, Jan 12, 2023, 07:51:08 - pdurbin: Obviously, this would be a good thing to play around with sooner rather later, to make sure it works. üòÑ Any volunteers? üòÑ
Thu, Jan 12, 2023, 08:32:32 - poikilotherm: pdurbin: offtopic question: what is the current upload limit on Harvard Dataverse?
Thu, Jan 12, 2023, 08:33:14 - poikilotherm: My brother is seeking for a place to upload 350GB  of research data and there is no discipline specific repository
Thu, Jan 12, 2023, 08:35:40 - poikilotherm: (I can't sign in. No ORCID / Github signup and my institution is not in list. So can't look it up myself)
Thu, Jan 12, 2023, 08:39:50 - poikilotherm: <@donsizemore:matrix.org "juliangautier: poikilotherm (CET..."> Nope, you won't - Keycloak would be the broker and act as a bridge to any SAML federation
Thu, Jan 12, 2023, 08:42:49 - Don Sizemore: excellent - I remember this being a concern during earlier meetings - glad it won't be.
Thu, Jan 12, 2023, 08:58:31 - pdurbin: poikilotherm (CET,UTC+1): "Maximum of 1,000 files per upload. File upload limit is 2.5 GB per file. Tabular file ingest is limited to 143.1 MB. Ingest is limited to the following file sizes based on their format: Rdata: 976.6 KB, xlsx: 1 B, XLSX: 1 B."
Thu, Jan 12, 2023, 08:59:08 - poikilotherm: Sounds good
Thu, Jan 12, 2023, 08:59:17 - pdurbin: "store up to 1TB of data" https://support.dataverse.harvard.edu/researchers
Thu, Jan 12, 2023, 08:59:21 - poikilotherm: Can he still create a local account?
Thu, Jan 12, 2023, 08:59:32 - pdurbin: I think so?
Thu, Jan 12, 2023, 08:59:38 - pdurbin: With all the spam I'm not sure.
Thu, Jan 12, 2023, 08:59:52 - pdurbin: Yeah, still possible.
Thu, Jan 12, 2023, 09:01:22 - pdurbin: We had to turn off collection creation (due to spam) but we still want people to have collections. I think your brother can email support about this if he wants a collection.
Thu, Jan 12, 2023, 09:01:30 - poikilotherm: Great. Will let him know
Thu, Jan 12, 2023, 09:03:07 - poikilotherm: Thanks for the help!
Thu, Jan 12, 2023, 09:05:24 - pdurbin: our sure, this is what generalist repositories do üòÑ
Thu, Jan 12, 2023, 09:17:34 - pdurbin: poikilotherm (CET,UTC+1) carlsonp sorry, I now have a conflict for the first hour of the container meeting on Tuesday. I'll try to join late, if that's ok.
Thu, Jan 12, 2023, 09:22:31 - carlsonp: I pushed up the code I have so far for containers and such, it's using the base container, I'm still stuck on the pre and post command stuff so maybe we can tackle that during the meeting.  I want to make sure I'm doing it "the right way" :)
Thu, Jan 12, 2023, 10:25:53 - pdurbin: carlsonp: I can try to unblock you before then but I'm not quite sure what you need üòÑ
Thu, Jan 12, 2023, 10:29:52 - carlsonp: I'm not super sure what I need either lol, I was trying to split out the pieces into a `preboot.sh` and `postboot.sh`, we want to deploy the .war and then do some config stuff first like setting up the .xml file, creating the s3 bucket, etc.
Thu, Jan 12, 2023, 10:31:02 - pdurbin: I think poikilotherm (CET,UTC+1) was saying you could put the war file in a certain directory and it will be autodeployed.
Thu, Jan 12, 2023, 10:31:23 - carlsonp: I think I got that set, yeah it's an environment variable for a folder
Thu, Jan 12, 2023, 10:32:41 - pdurbin: Here's a simple (non-Dataverse) example: https://github.com/IQSS/dataverse-people/blob/8ef2c2b715f1bde031dc421f8693d2449eb20bf9/backend/Dockerfile#L5
Thu, Jan 12, 2023, 10:42:16 - pdurbin: What conferences should we all meet up at in the coming year or so? #dataverse2023 in Portugal in June, obviously. What else? I'm thinking FOSDEM in early 2024 (can't make it this year).
Fri, Jan 13, 2023, 11:03:53 - poikilotherm: Hey Johannes Darms vera_c can your OIDC provider hand out JWT-based access tokens?
Fri, Jan 13, 2023, 11:42:04 - poikilotherm: pdurbin: should I add https://github.com/IQSS/dataverse/pull/9230 and https://github.com/IQSS/dataverse/pull/9273 to your Auth MVP column?
Fri, Jan 13, 2023, 11:42:47 - pdurbin: Well, I'm not used to empty columns. üòÑ
Fri, Jan 13, 2023, 11:43:04 - pdurbin: I'm not sure I want drafts there. ü§î
Fri, Jan 13, 2023, 11:43:46 - pdurbin: Although...
Fri, Jan 13, 2023, 11:43:57 - pdurbin: Draft PRs are better than issues!
Fri, Jan 13, 2023, 11:51:37 - pdurbin: poikilotherm (CET,UTC+1): do you want to go ahead and put sizes on these? The size would be the amount of work on the IQSS side, please. Also, which one would you rather have merged first?
Fri, Jan 13, 2023, 11:52:01 - poikilotherm: Probably the mpconfig one
Fri, Jan 13, 2023, 11:52:16 - poikilotherm: It's only lacking the PKCE stuff
Fri, Jan 13, 2023, 11:52:29 - poikilotherm: I have the code for that local, but need to add a test
Fri, Jan 13, 2023, 11:52:52 - pdurbin: Nice. Sounds close. So maybe a 10 (a full day) on the IQSS side.
Fri, Jan 13, 2023, 11:53:02 - poikilotherm: Should I go ahead and add a Github workflow for Testcontainers?
Fri, Jan 13, 2023, 11:53:07 - pdurbin: ... for review and QA
Fri, Jan 13, 2023, 11:53:12 - poikilotherm: Yeah, a 10 sounds reasonable
Fri, Jan 13, 2023, 11:53:30 - pdurbin: Sure? Up to you.
Fri, Jan 13, 2023, 12:01:07 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): do you..."> https://github.com/IQSS/dataverse/pull/9273#issuecomment-1382137735
Fri, Jan 13, 2023, 12:01:49 - poikilotherm: I will not size the other one just yet, as I need to move the flag stuff to a different PR and then continue working on the bearer access
Fri, Jan 13, 2023, 12:02:17 - poikilotherm: This will need to change, as we agreed on going for JWTs as a requirement
Fri, Jan 13, 2023, 12:02:31 - poikilotherm: HTH also Johannes Darms üòÑ
Fri, Jan 13, 2023, 13:42:50 - pdurbin: Back from lunch with qqmyers and said goodbye.
Fri, Jan 13, 2023, 13:43:59 - pdurbin: poikilotherm (CET,UTC+1) Guillermo Portas I guess I'm going to create issues for you? But do we want a single PR close both? Or separate PRs with the feature flag framework first? What makes the most sense?
Fri, Jan 13, 2023, 13:51:33 - pdurbin: <@pdurbin:matrix.org "areyes628: great! I'll send you ..."> https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09 ... I'm 10 minutes early. No rush. Whenever you're ready! üòÑ
Fri, Jan 13, 2023, 14:25:12 - pdurbin: poikilotherm (CET,UTC+1): I talked to Guillermo Portas and he's going to use https://github.com/IQSS/dataverse/issues/9063 for his PR. Do you want me to create an issue for feature flags? I've told him that for now I'm ok with a :AllowWhatever database setting.
Fri, Jan 13, 2023, 14:25:49 - poikilotherm: Bah bah bah bah database setting 
Fri, Jan 13, 2023, 14:25:58 - pdurbin: heh
Fri, Jan 13, 2023, 14:26:05 - poikilotherm: The root of all evil
Fri, Jan 13, 2023, 14:26:33 - pdurbin: If only we could go into the future when your feature flags PR is already merged. üòÑ
Fri, Jan 13, 2023, 14:26:56 - poikilotherm: No need to create an issue for me. I'm grown up and can create one on me own üòã
Fri, Jan 13, 2023, 14:27:46 - poikilotherm: <@pdurbin:matrix.org "If only we could go into the fut..."> To the future!
Fri, Jan 13, 2023, 14:29:29 - pdurbin: cool, thanks
Fri, Jan 13, 2023, 14:39:37 - pdurbin: poikilotherm (CET,UTC+1): I just left a comment in that issue suggesting that Guillermo Portas could try using MPCONFIG. Better than a database setting (as I had suggested), I think.
Fri, Jan 13, 2023, 15:47:06 - Don Richards (JHU) joined the room
Fri, Jan 13, 2023, 15:49:25 - Don Richards (JHU) sent an image. (Media omitted)
Fri, Jan 13, 2023, 15:49:49 - Don Richards (JHU): Where is the docs on how to modify a single link on the home page? I'm trying to switch the request to be added to a signup form link. 
Fri, Jan 13, 2023, 15:50:26 - Don Richards (JHU): Or how to download a custom homepage file to start edit with.
Fri, Jan 13, 2023, 15:51:12 - pdurbin: donrichards: if you run curl http://localhost:8080/api/admin/settings/:HomePageCustomizationFile you should see the path to the html file to edit
Fri, Jan 13, 2023, 15:51:37 - pdurbin: from https://guides.dataverse.org/en/5.12.1/installation/config.html#custom-homepage
Fri, Jan 13, 2023, 15:51:46 - Don Richards (JHU) set a profile picture
Fri, Jan 13, 2023, 15:52:02 - pdurbin: The suggested location is /var/www/dataverse/branding/custom-homepage.html but it could be anywhere.
Fri, Jan 13, 2023, 15:52:53 - Don Richards (JHU): Thanks. I saw the put command but not how to find it. 
Fri, Jan 13, 2023, 15:53:00 - Don Richards (JHU): Thanks I appreciate it.
Fri, Jan 13, 2023, 15:53:39 - pdurbin: Ah, yeah, we explain the GET part higher up: https://guides.dataverse.org/en/5.12.1/installation/config.html#database-settings
Fri, Jan 13, 2023, 15:53:52 - pdurbin: because all database settings work the same
Fri, Jan 13, 2023, 15:54:12 - pdurbin: I guess it's a little confusing if you're farther down the page, though.
Fri, Jan 13, 2023, 16:00:12 - Don Richards (JHU): Thanks, that worked and was super helpful!
Fri, Jan 13, 2023, 16:20:32 - pdurbin: awesome
Fri, Jan 13, 2023, 16:21:27 - pdurbin: And to all, have a good weekend! A long weekend if you're in the US! MLK day on Monday. See you Tuesday!
Mon, Jan 16, 2023, 07:08:01 - Ramin (@ramincat:matrix.org): Hi, is there currently a test server? phoenix seems down
Mon, Jan 16, 2023, 11:58:05 - pdurbin: Ramin: you're welcome to use https://demo.dataverse.org
Mon, Jan 16, 2023, 17:13:02 - poikilotherm: pdurbin: I think I just managed to upgrade Dataverse to Java 17
Mon, Jan 16, 2023, 17:24:06 - poikilotherm: Unit tests execute successfully, but API test have some failures...
Mon, Jan 16, 2023, 17:24:08 - poikilotherm: Message deleted
Mon, Jan 16, 2023, 17:24:34 - poikilotherm: ```
[INFO] Results:
[INFO] 
[ERROR] Failures: 
[ERROR]   DatasetsIT.testExcludeEmail:738 expected:<[]> but was:<null>
[ERROR]   DatasetsIT.testExport:590 1 expectation failed.
JSON path data.latestVersion.metadataBlocks.citation.fields[2].value[0].datasetContactEmail.value doesn't match.
Expected: sammi@sample.com
  Actual: null

[ERROR]   DatasetsIT.testReCreateDataset:2509 1 expectation failed.
Expected status code <201> but was <403>.

[ERROR]   DatasetsIT.testSemanticMetadataAPIs:2407 https://dataverse.org/schema/citation/datasetContact
Expected: https://dataverse.org/schema/citation/datasetContactEmail
     but none found

[ERROR]   HarvestingServerIT.testMultiRecordOaiSet:606 Wrong number of items on the first ListIdentifiers page expected:<2> but was:<5>
[ERROR] Errors: 
[ERROR]   DatasetsIT.testPrivateUrl:964 ¬ª Connect Verbindungsaufbau abgelehnt (Connectio...
[INFO] 
[ERROR] Tests run: 193, Failures: 5, Errors: 1, Skipped: 8
[INFO] 
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  11:10 min
[INFO] Finished at: 2023-01-16T23:22:45+01:00
[INFO] ------------------------------------------------------------------------
```
Mon, Jan 16, 2023, 17:25:09 - poikilotherm: Not that  bad - only 6 tests broken
Mon, Jan 16, 2023, 17:28:37 - poikilotherm: I would have expected worse üôà
Tue, Jan 17, 2023, 08:13:07 - pdurbin: poikilotherm (CET,UTC+1): nice! go go go!
Tue, Jan 17, 2023, 08:14:22 - pdurbin: I worked a bit on https://people.dataverse.org over the long weekend. I switched it to the template tag and it's a lot faster to load.
Tue, Jan 17, 2023, 08:49:41 - poikilotherm: pdurbin: feeling like chatting about containers today=?
Tue, Jan 17, 2023, 08:50:58 - carlsonp: had some breakfast, ready to chat whenever
Tue, Jan 17, 2023, 08:52:06 - pdurbin: oh, right, as I mentioned, I have a call in 10 minutes but I'll try to join after
Tue, Jan 17, 2023, 08:52:41 - carlsonp: poikilotherm (CET,UTC+1): what link should I use?
Tue, Jan 17, 2023, 08:54:06 - poikilotherm: https://webconf.fz-juelich.de/b/ber-ebc-ip7-eey
Tue, Jan 17, 2023, 08:54:13 - poikilotherm: Room Code is 581329
Tue, Jan 17, 2023, 08:54:29 - poikilotherm: I'm already in the room but will go hit the head and BRB
Tue, Jan 17, 2023, 10:19:55 - pdurbin: poikilotherm (CET,UTC+1) carlsonp I left you some notes in BBB chat üòÑ
Tue, Jan 17, 2023, 10:27:49 - poikilotherm: https://github.com/gdcc/dataverse/tree/develop%2Bct/conf/container/scripts/app
Tue, Jan 17, 2023, 10:32:42 - poikilotherm: https://github.com/IQSS/dataverse/pull/8320
Tue, Jan 17, 2023, 13:32:04 - Don Sizemore: @poikilotherm knock knock?
Tue, Jan 17, 2023, 13:32:25 - Don Sizemore: though it's pretty late over there...
Tue, Jan 17, 2023, 14:24:05 - Don Sizemore: @pdurbin just to let you know, we hit a snaggy-poo.
Tue, Jan 17, 2023, 14:24:41 - Don Sizemore: @pdurbin the existing Payara6 installation contained domain1/ from the original 5.10/11(?) installation, and doesn't launch cleanly.
Tue, Jan 17, 2023, 14:25:01 - Don Sizemore: I'm walking Brian through wiping that out and re-running the Dataverse installer with Oliver's warfile in place, but that doesn't bode well for upgrades
Tue, Jan 17, 2023, 14:26:00 - pdurbin: woof
Tue, Jan 17, 2023, 14:26:19 - pdurbin: yeah, we'll obviously need to think about upgrades at some point üòÑ
Tue, Jan 17, 2023, 14:26:42 - Don Sizemore: we'll try it against a clean Payara6 install first, but the upgrade path for existing installations won't be completely straightforward.
Tue, Jan 17, 2023, 14:26:43 - pdurbin: please tell Brian we're rooting for him!
Tue, Jan 17, 2023, 14:37:20 - pdurbin: I have a question for poikilotherm (CET,UTC+1) too. Popular guy.
Tue, Jan 17, 2023, 14:46:31 - poikilotherm: What's up?
Tue, Jan 17, 2023, 14:58:01 - poikilotherm: Don Sizemore: sup?
Tue, Jan 17, 2023, 14:59:17 - pdurbin: poikilotherm (CET,UTC+1): nevermind, I think I figured it out (but didn't test it). How to check that you've changed the default database name (dvndb->dataverse) and user (dvnapp->dataverse). I just left a review (and moved to QA): https://github.com/IQSS/dataverse/pull/8915
Tue, Jan 17, 2023, 16:05:43 - poikilotherm: Thanks!
Wed, Jan 18, 2023, 04:38:45 - Benjamin Poldrack: Hi, I have an API question: `$SERVER/api/dataverses/$ID/metadatablocks` gives me the available metadata blocks for a collection. Is there a way to figure what is set to be required as well?
Wed, Jan 18, 2023, 04:40:17 - Benjamin Poldrack: Or a way to validate a datasets metadata against the requirements other than via the `admin` endpoint?
Wed, Jan 18, 2023, 05:47:00 - poikilotherm: There are 2 open issues about metadata requirements: https://github.com/IQSS/dataverse/issues/7173 and https://github.com/IQSS/dataverse/issues/6978
Wed, Jan 18, 2023, 05:47:11 - poikilotherm: This has not been answered so far
Wed, Jan 18, 2023, 05:47:55 - poikilotherm: One answer to this might be a workaround using https://github.com/gdcc/easyDataverse
Wed, Jan 18, 2023, 05:48:02 - poikilotherm: This isn't perfect
Wed, Jan 18, 2023, 05:49:25 - poikilotherm: Just yesterday at tech hour we spoke also about requirements in the context of this issue https://github.com/IQSS/dataverse/issues/8822 (there is a PR for that already, thx Erik!)
Wed, Jan 18, 2023, 05:49:52 - poikilotherm: pdurbin mentioned that you actually *can* create a dataset with incomplete metadata via SWORD
Wed, Jan 18, 2023, 05:50:31 - poikilotherm: And I said we should talk to you folks anyway
Wed, Jan 18, 2023, 05:50:53 - poikilotherm: It would be nice to hear from you folks what seems like the best way to go
Wed, Jan 18, 2023, 05:50:53 - Benjamin Poldrack: <@oliver:bertuch.name "pdurbin mentioned that you actua..."> Yes, I could create such a dataset, but then SWORD refuses to `remove` a file (which I need to replace it) because of a failing validation.
Wed, Jan 18, 2023, 05:51:33 - poikilotherm: Sounds like #8822 is a partial workaround to this then üòÜ
Wed, Jan 18, 2023, 05:52:19 - poikilotherm: The biggest hindrance with retrieving requirements is you need to do this *per collection*
Wed, Jan 18, 2023, 05:53:12 - poikilotherm: As anybody is free to configure schemas per collection and switch optional fields to required, there is no way of creating a single-JSON-schema-rules-all thing
Wed, Jan 18, 2023, 05:53:48 - poikilotherm: And I know that Vyacheslav Tikhonov would be delighted to not just have JSON schema, but also SHACL to validate JSON-LD :-)
Wed, Jan 18, 2023, 05:54:41 - poikilotherm: Would `datalad` have that upfront information of to which collection things go to? Otherwise it would be hard to query...
Wed, Jan 18, 2023, 06:00:58 - Benjamin Poldrack: <@oliver:bertuch.name "Would `datalad` have that upfron..."> It's required user input. Since we operate on datasets, we need to add to dataverse collection (rather than creating one). Hence, that information is needed anyway, so we would be able to query the specific collection for what it needs.

Ultimately, the user will need to know what metadata to export to dataverse. But in terms of UX, it would be nice if we can tell what's the problem. Currently, we would have a `datalad create-siblling-dataverse` command, that has no problem creating a dataverse dataset with incomplete metadata (and connect it via git+git-annex). But the paradigm is: create the remote end, and then `datalad push` updates just like with any other remote. Now, that `push` would fail b/c of the incomplete metadata. Not only is it a bit surprising, since we were able to create it, but not to change it? But also all we have to tell to the user is the XML response of the `remove` request via SWORD. It would be nice, if we could validate the to-be-exported metadata locally and have proper reporting of what may be missing.
Wed, Jan 18, 2023, 06:03:54 - Benjamin Poldrack: And for completeness: This failure seems to be version depend. It does work full circle (create, push, clone from dataverse) with demo.dataverse, but not with the FZJ instance, which gives this validation error.
Wed, Jan 18, 2023, 06:06:12 - Benjamin Poldrack: This doesn't really prevent us from doing anything, it's just not a nice UX. Provided complete metadata, everything is fine, obv.
Wed, Jan 18, 2023, 06:06:49 - Benjamin Poldrack: But it needs to start the process with complete metadata, at which point we have no way of telling whether that's the case.
Wed, Jan 18, 2023, 06:07:47 - poikilotherm: Well this whole metadata requirement discussion has been ongoing for a while already :-D
Wed, Jan 18, 2023, 06:08:13 - poikilotherm: Probably also something the new SPA will require to have at some point to generate the new UI elements. Guillermo Portas 
Wed, Jan 18, 2023, 06:32:44 - pdurbin: Benjamin Poldrack: there's also a "replace file" API, if that helps. I didn't know about the remove bug. üòû
Wed, Jan 18, 2023, 06:37:43 - Benjamin Poldrack: <@pdurbin:matrix.org "Benjamin Poldrack: there's also ..."> That's the default we use. But at least in case of J√ºlichDATA, that doesn't work with unpublished files. I get a HTTP 400 saying that replace can't be done for unpublished files, and I should remove + upload instead. Hence, fallback is remove + upload, which then leads to another 400 by remove as described above. ;-)
Wed, Jan 18, 2023, 06:39:24 - Benjamin Poldrack: (That is the part, where demo.dataverse and J√ºlcihDATA seem to differ)
Wed, Jan 18, 2023, 06:39:59 - lincoln_ set a profile picture
Wed, Jan 18, 2023, 06:50:12 - poikilotherm: And from looking at the API call code I don't see where this was fixed...
Wed, Jan 18, 2023, 06:50:45 - poikilotherm: Maybe pdurbin can use his might y issue shovel again to dig for when this was resolved...
Wed, Jan 18, 2023, 06:51:29 - poikilotherm: Or maybe there was no issue and it was fixed by a feature PR with no one ever noticing the üêõ
Wed, Jan 18, 2023, 07:12:26 - Benjamin Poldrack: For the record a somewhat related observation: I managed to create a particularly weird dataset. On creation a JSON file with metadata was passed. Apparently, there's an encoding issue with that file leading to a JSON parsing error server-side. The result is a dataset in the targeted collection which I have no access to. It has a DOI, but no title, description, etc. When I click it in the webinterface, I get an error page - so I can't even delete it ;-)


Wed, Jan 18, 2023, 07:12:32 - Benjamin Poldrack sent an image. (Media omitted)
Wed, Jan 18, 2023, 07:13:23 - Benjamin Poldrack sent an image. (Media omitted)
Wed, Jan 18, 2023, 08:11:01 - poikilotherm: carlsonp: I just pushed my draft of building the application image into a feature branch at https://github.com/poikilotherm/dataverse/commit/83cb5b36b02b41c208bece45a10407460f9eb877
Wed, Jan 18, 2023, 08:11:28 - poikilotherm: This lacks a run configuration for DMP (which I had done before e.g. in https://github.com/gdcc/dataverse/blob/develop%2Bct/pom.xml)
Wed, Jan 18, 2023, 08:11:41 - poikilotherm: And it's missing the scripting glue we talked about yesterday
Wed, Jan 18, 2023, 08:12:25 - poikilotherm: pdurbin: I do hope for Maven 4 to be released and adapted soon...
Wed, Jan 18, 2023, 08:12:40 - pdurbin: Benjamin Poldrack: that create bug sounds familiar but I can't find the issue
Wed, Jan 18, 2023, 08:12:44 - poikilotherm: This is pretty cool and the "also make" wasn't possible as shown with Maven 3 : https://maven.apache.org/guides/mini/guide-multiple-modules-4.html#differences-between-maven-3-and-4
Wed, Jan 18, 2023, 08:21:15 - pdurbin: If 4 is out and you want to use it, I doubt anyone would object.
Wed, Jan 18, 2023, 08:22:05 - pdurbin: poikilotherm (CET,UTC+1): oh, did you see this? https://github.com/IQSS/dataverse/pull/8915#discussion_r1072677602
Wed, Jan 18, 2023, 08:22:52 - poikilotherm: Yes, I saw that comment but wasn't sure what to make of it üòÖ
Wed, Jan 18, 2023, 08:23:04 - pdurbin: Well, there are screenshots in the new issue
Wed, Jan 18, 2023, 08:23:19 - pdurbin: https://github.com/IQSS/dataverse/issues/9295
Wed, Jan 18, 2023, 08:23:44 - pdurbin: The idea it to be more friendly and less intimidating to newcomers. People trying to install Dataverse for the first time.
Wed, Jan 18, 2023, 08:24:32 - poikilotherm: You remember http://talks.bertuch.name/mpconfig-20210223/#/1/0/1 and http://talks.bertuch.name/mpconfig-20210223/#/2 ?
Wed, Jan 18, 2023, 08:25:12 - poikilotherm: I still see this one as a valid message
Wed, Jan 18, 2023, 08:25:14 - poikilotherm sent an image. (Media omitted)
Wed, Jan 18, 2023, 08:26:34 - poikilotherm: Should we adapt sth. like https://documentation.divio.com/ as a paradigm for our guides?
Wed, Jan 18, 2023, 08:26:44 - pdurbin: just added that to the issue and credited you, thanks!
Wed, Jan 18, 2023, 08:26:51 - poikilotherm: At least installation and configuration seems to be ever growing
Wed, Jan 18, 2023, 08:27:14 - pdurbin: right but it could be growing at 2x üòÑ
Wed, Jan 18, 2023, 08:27:34 - poikilotherm: Or even $2^x$
Wed, Jan 18, 2023, 08:27:47 - pdurbin: sure!
Wed, Jan 18, 2023, 08:28:04 - pdurbin: I like these four boxes on divio
Wed, Jan 18, 2023, 08:28:21 - poikilotherm: For HERMES we are trying to follow that approach https://github.com/hermes-hmc/workflow/issues/38
Wed, Jan 18, 2023, 08:29:07 - * pdurbin subscribes to that issue
Wed, Jan 18, 2023, 08:29:18 - poikilotherm: Ah it's just a meta thing
Wed, Jan 18, 2023, 08:30:06 - pdurbin: downloading the video from divio
Wed, Jan 18, 2023, 08:30:11 - pdurbin: some pycon talk
Wed, Jan 18, 2023, 08:30:21 - poikilotherm: We started making docs a reality just a few days back. There is a first tutorial: https://hermes-workflow--45.org.readthedocs.build/en/45/
Wed, Jan 18, 2023, 08:32:41 - pdurbin: nice
Wed, Jan 18, 2023, 08:36:37 - poikilotherm: Sphinx + Myst parser to include MD docs is pretty cool :-)
Wed, Jan 18, 2023, 08:36:59 - poikilotherm: Reusing the LICENSE description and the contribution guide in the rendered docs :-)
Wed, Jan 18, 2023, 08:41:55 - poikilotherm: Added some thoughts: https://github.com/IQSS/dataverse/issues/9295#issuecomment-1387091044
Wed, Jan 18, 2023, 08:45:02 - pdurbin: poikilotherm (CET,UTC+1): this reminds me, I wanted to tell you about StackBlitz and Web Publisher: https://developer.stackblitz.com/codeflow/integrating-web-publisher
Wed, Jan 18, 2023, 08:45:34 - pdurbin: This is a good video for StackBlitz in general: https://www.youtube.com/watch?v=Ea1zJD5uQRg
Wed, Jan 18, 2023, 08:46:20 - pdurbin: They have a little toy app to show how easy it is at https://ilovecodeflow.com (but I haven't tried it)
Wed, Jan 18, 2023, 08:46:31 - Don Sizemore: @poikilotherm Payara 6.2023.1 just came out, so I'm going to have Brian deploy your Payara6 branch on it
Wed, Jan 18, 2023, 08:48:23 - pdurbin: I heard about it here: https://frontendfirst.fm/episodes/how-to-solve-a-ssr-csr-mismatch-with-the-dom
Wed, Jan 18, 2023, 08:48:35 - poikilotherm: <@donsizemore:matrix.org "@poikilotherm Payara 6.2023.1 ju..."> Yeah saw the notification this morning :-)
Wed, Jan 18, 2023, 08:50:25 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): this r..."> Cool! Does this work with Sphinx though?
Wed, Jan 18, 2023, 08:50:45 - poikilotherm: Huge fan of https://github.com/executablebooks/sphinx-autobuild here
Wed, Jan 18, 2023, 08:51:14 - pdurbin: I'm not sure. Maybe you can get it working on your workflow docs. üòÑ
Wed, Jan 18, 2023, 08:51:51 - poikilotherm: Ha all I need to type for that is `poetry run task docs-live` üòù
Wed, Jan 18, 2023, 08:52:11 - pdurbin: In the podcast, the use case was code not docs. The host, a maintainer, was blown away by how a contributor was able to give him a link that spun up a complicated environment to clearly demonstrate a bug.
Wed, Jan 18, 2023, 08:52:27 - poikilotherm: Great
Wed, Jan 18, 2023, 08:52:41 - poikilotherm: They are reusing Visual Code
Wed, Jan 18, 2023, 08:52:56 - poikilotherm: You are aware of what happens when you push "." in a PR on github.com?
Wed, Jan 18, 2023, 08:53:06 - pdurbin: Right but we don't want our doc writers to have to think about the command line. What would be cool would be a live hotreloading copy of the docs they can edit in a browser.
Wed, Jan 18, 2023, 08:53:28 - pdurbin: yep . is awesome
Wed, Jan 18, 2023, 08:53:38 - pdurbin: not just PRs, of course
Wed, Jan 18, 2023, 08:55:20 - pdurbin: that's what Web Publisher gives you, if I understand it correctly
Wed, Jan 18, 2023, 09:00:12 - pdurbin: Benjamin Poldrack: sorry to go on and on about docs when you're finding real bugs. If you don't mind opening GitHub issues, I'd really appreciate it!
Wed, Jan 18, 2023, 09:01:54 - poikilotherm: pdurbin: heads up that it's only J√ºlich DATA still using Dataverse 4.20 misbehaving
Wed, Jan 18, 2023, 09:02:15 - poikilotherm: pdurbin: have you seen qqmyers comment https://github.com/IQSS/dataverse/issues/9297#issuecomment-1387076268? WDYT? Thoughts / ideas?
Wed, Jan 18, 2023, 09:02:34 - poikilotherm: (BTW trying to hack on this but little distracted by docs...)
Wed, Jan 18, 2023, 09:03:35 - pdurbin: yeah, I almost added "if you can reproduce on the demo server" but I don't want to be rude üòÑ
Wed, Jan 18, 2023, 09:04:27 - poikilotherm: Disclaimer: he already said it's only for us. And maybe others not on 5.12.1 as is `demo` üòâ
Wed, Jan 18, 2023, 09:04:50 - pdurbin: When a feature flag is no longer needed, it can just be deleted. Or it can change names. That's fine.
Wed, Jan 18, 2023, 09:06:10 - pdurbin: Here's my concern about feature flags. In REST Assured tests, I sometimes turn them on (:SearchApiRequiresToken for example) for testing (then off again when I'm done testing). How can I do this with MPCONFIG?
Wed, Jan 18, 2023, 09:07:04 - pdurbin: https://github.com/IQSS/dataverse/blob/v5.12.1/src/test/java/edu/harvard/iq/dataverse/api/SearchIT.java#L149
Wed, Jan 18, 2023, 09:07:57 - poikilotherm: During unit testing this is easy
Wed, Jan 18, 2023, 09:08:05 - poikilotherm: But you're talking about API tests
Wed, Jan 18, 2023, 09:08:27 - poikilotherm: Probably it would be a good idea to create a helper
Wed, Jan 18, 2023, 09:08:48 - poikilotherm: So you can annotate a testcase or class with `@EnableFeatureFlag` or similar
Wed, Jan 18, 2023, 09:09:19 - poikilotherm: And the helper takes care to enable before and disable after
Wed, Jan 18, 2023, 09:09:58 - poikilotherm: (This is what I do with the JvmSettings stuff for local unit tests, so things don't get messy)
Wed, Jan 18, 2023, 09:10:19 - poikilotherm: This will require making the test class use JUnit5 though
Wed, Jan 18, 2023, 09:10:27 - poikilotherm: But that's fine I suppose?
Wed, Jan 18, 2023, 09:11:10 - poikilotherm: (I once did some work on this BTW... https://github.com/IQSS/dataverse/pull/8254)
Wed, Jan 18, 2023, 09:16:06 - poikilotherm: BTW - isn't `:SearchApiRequiresToken` a setting for a stable feature? (I see feature flags as something used for experimental / preview *only*)
Wed, Jan 18, 2023, 09:25:57 - poikilotherm: Gave this some thought. Probably the sustainable way forward for this would be to use Testcontainers to spin up the Dataverse application, mount a volume to /secrets and create/delete files named as the feature flag, so Payara will update the directory config source as we change files, making the feature flags behave as we want them to
Wed, Jan 18, 2023, 09:26:33 - poikilotherm: Obviously this needs locking so tests with certain flags don't collide
Wed, Jan 18, 2023, 09:27:25 - poikilotherm: Another way would be to spin up pre-configured instances as we go and run tests grouped by tags
Wed, Jan 18, 2023, 09:30:36 - pdurbin: sure, TestContainers sounds fine, I guess
Wed, Jan 18, 2023, 09:30:53 - pdurbin: and yes, that example is for a stable feature
Wed, Jan 18, 2023, 09:31:29 - poikilotherm: Just in: fdm.nrw announced a meeting on 2023-01-31 to talk about setting up a Germany based Hackathon. Primary focus might be Dataverse, but they think about extending it to other topics, too (ELNs, Wikidata, ...). Adina Wagner Benjamin Poldrack friendly DataLad folks are welcome I think!
Wed, Jan 18, 2023, 09:33:48 - poikilotherm: Stephan Heunis: I just forwarded the invite for the prep talk to Adina and Benjamin
Wed, Jan 18, 2023, 09:34:26 - Stephan Heunis: Cool, thanks :)
Wed, Jan 18, 2023, 09:38:44 - poikilotherm: Haha I just learned from the UK RSE chat that the divio thing I linked to is actually an adoption of https://diataxis.fr as the base framework
Wed, Jan 18, 2023, 09:40:44 - pdurbin: Where and when in Germany? üòÑ
Wed, Jan 18, 2023, 10:01:38 - poikilotherm: <@pdurbin:matrix.org "Where and when in Germany? üòÑ"> That's not decided yet
Wed, Jan 18, 2023, 10:02:35 - poikilotherm: I know about some ideas, but I don't want to spoil any beans here üòâ
Wed, Jan 18, 2023, 10:03:50 - poikilotherm: But probably it will be located in Northrhine Westphalia, as the RDM initiative organizing this sits here closeby to me and folks like Florian Willems Johannes Darms vera_c and so many others
Wed, Jan 18, 2023, 10:53:38 - pdurbin: I betcha Jan Range might want to come.
Wed, Jan 18, 2023, 10:57:59 - poikilotherm: It should be within in range for him.
Wed, Jan 18, 2023, 10:59:20 - poikilotherm: pdurbin Guillermo Portas I did some coding for the feature flags. https://github.com/IQSS/dataverse/pull/9299 I leave it a draft for now, as qqmyers is talking about potential renaming to cause less confusion at https://github.com/IQSS/dataverse/issues/9297#issuecomment-1387204474
Wed, Jan 18, 2023, 12:04:07 - pdurbin: poikilotherm (CET,UTC+1): great stuff! Ship it! üöÄ I just left a review.
Wed, Jan 18, 2023, 12:07:21 - pdurbin: welcome back, DataLad folks! üòÖ
Wed, Jan 18, 2023, 12:47:29 - pdurbin: Jan Range: interesting reply: "NextJS gets complicated for building an SPA."
Wed, Jan 18, 2023, 12:48:31 - pdurbin: Oh, this is out of nowhere but recently at a retrospective I advocated for a fast track for doc-only pull requests. That is to say, core developers are welcome to simply merge them. So please edit away at the docs! üöÄ
Wed, Jan 18, 2023, 14:52:31 - pdurbin: poikilotherm (CET,UTC+1): please remind me about https://github.com/IQSS/dataverse/issues/9000 in a week or two. I believe Gustavo and Jim are writing up something soonish.
Wed, Jan 18, 2023, 14:55:01 - poikilotherm: Some day we'll install https://github.com/maubot/maubot
Wed, Jan 18, 2023, 14:55:12 - poikilotherm: And have a reminder avail
Wed, Jan 18, 2023, 14:55:49 - pdurbin: sure, as long as the bot isn't annoying üòÑ
Wed, Jan 18, 2023, 14:56:30 - pdurbin: I used to run searchbot on IRC but I guess I've been surviving without handy google searches. üòÑ
Wed, Jan 18, 2023, 15:00:38 - pdurbin: I've seen IRC channels misuse bots so I'd like to be cautious.
Wed, Jan 18, 2023, 15:03:48 - poikilotherm: Of course...
Wed, Jan 18, 2023, 15:03:54 - poikilotherm: I'd say reminders would be nice
Wed, Jan 18, 2023, 15:04:27 - poikilotherm: Maybe a bot that posts a link when you say #9099 to reference an issue or PR
Wed, Jan 18, 2023, 15:04:52 - poikilotherm: A clock bot might be nice.
Wed, Jan 18, 2023, 15:05:03 - poikilotherm: Timezones
Wed, Jan 18, 2023, 15:05:07 - poikilotherm: Constant PITA
Wed, Jan 18, 2023, 15:05:23 - pdurbin: yeah
Wed, Jan 18, 2023, 15:06:03 - poikilotherm: Maybe a bot that sends some announcements
Wed, Jan 18, 2023, 15:06:18 - poikilotherm: Like "Community Meeting in 1 hour" with the link and all
Wed, Jan 18, 2023, 15:06:21 - pdurbin: I did add timezones to https://people.dataverse.org
Thu, Jan 19, 2023, 05:32:47 - beep: H!

Currently when adding a a new MDB to Dataverse, it is quite cumbersome to update the solr index.

https://guides.dataverse.org/en/latest/admin/metadatacustomization.html#updating-the-solr-schema

It requires these two commands and direct access to the `schema.xml` file used by solr:

```
curl "http://localhost:8080/api/admin/index/solr/schema" | update-fields.sh /usr/local/solr/server/solr/collection1/conf/schema.xml
curl "http://localhost:8983/solr/admin/cores?action=RELOAD&core=collection1"
```

When running Dataverse in Docker in the cloud, it is even more problematic especially to access solr's `schema.xml` file.

Wouldn't it be useful addition to have a small webservice next to solr running on the same machine/container as solr, which would have a single endpoint for updating the index? It would be called with the output of `curl "http://localhost:8080/api/admin/index/solr/schema"` and would effectively call `update-fields.sh` and then the solr reload action.

Something like this running on, say, port 8984:

`curl -X POST -d '<outut of /api/admin/index/solr/schema>' http://localhost:8984/update-fields`

This way, when uploading a new MDB via the Dataverse API call (`/api/admin/datasetfield/load`) this could autoamtically call `http://localhost:8984/update-fields` as well and everything would be always in sync.
Thu, Jan 19, 2023, 06:20:10 - arnau merino: Message deleted
Thu, Jan 19, 2023, 06:22:04 - arnau merino: Hi!

I am still pretty new to this and I am stucked at the same point as this Issue I found: https://github.com/IQSS/dataverse/issues/7546
I don't know if this was fixed or if there is a workaround but I am not able to Harvest any data from clients.
If anyone can help me I would very much appreciate.

Thank you!
Thu, Jan 19, 2023, 07:15:37 - pdurbin: beep: it's an interesting idea. poikilotherm (CET,UTC+1) carlsonp and I are meeting to talk about containers in a couple hours. If you have time, maybe you can stop by the call so we can talk about it.
Thu, Jan 19, 2023, 07:16:45 - beep: Yes, I can join!
Thu, Jan 19, 2023, 07:17:19 - pdurbin: arnau merino: yikes. Would you be able to open a new issue with details about the client and server? What version of Dataverse, for example. We're working a fair amount on harvesting these days as part of a grant.
Thu, Jan 19, 2023, 07:18:00 - pdurbin: beep: great! poikilotherm (CET,UTC+1) dropped a link in here last time (BigBlueButton)
Thu, Jan 19, 2023, 07:19:04 - pdurbin: beep: I added you to https://people.dataverse.org and I'm happy to add your timezone if you like
Thu, Jan 19, 2023, 07:20:25 - beep: Thanks! I'm in Central European Time (CET) zone.
Thu, Jan 19, 2023, 07:21:07 - beep: Which is UTC+1, I guess.
Thu, Jan 19, 2023, 07:22:00 - pdurbin: I made it "Europe/Berlin". I hope that's ok. I've been going with names from https://en.wikipedia.org/wiki/List_of_tz_database_time_zones for cities I recognize.
Thu, Jan 19, 2023, 07:22:45 - pdurbin: poikilotherm (CET,UTC+1) is also in CET
Thu, Jan 19, 2023, 07:42:40 - beep: <@oliver:bertuch.name "https://webconf.fz-juelich.de/b/..."> pdurbin: is this the link for today's docker discussion?
Thu, Jan 19, 2023, 07:43:37 - beep: And when do you plan starting?
Thu, Jan 19, 2023, 08:00:17 - carlsonp: morning
Thu, Jan 19, 2023, 08:04:23 - beep: OK, which day then? :-) It is afternoon, 14:00 for me.
Thu, Jan 19, 2023, 08:05:46 - carlsonp: I think we're meeting now? hope so anyway, maybe give poikilotherm (CET,UTC+1) a few minutes?
Thu, Jan 19, 2023, 08:09:27 - poikilotherm: Hey
Thu, Jan 19, 2023, 08:09:32 - poikilotherm: Sorry another meeting ran over!
Thu, Jan 19, 2023, 08:09:37 - carlsonp: no worries
Thu, Jan 19, 2023, 08:10:08 - beep: carlsonp: I just tried to run the docker install from you fork (and the docker-compose branch) and it doesn't seem to work, but I'm not sure if I do it correctly. Ran `./build-containers.sh` and got:

```
cp: modules/container-dataverse/src/main/docker/modules/dataverse-parent: No such file or directory
cp: ./modules/dataverse-parent/: unable to copy extended attributes to modules/container-dataverse/src/main/docker/modules/dataverse-parent: No such file or directory
cp: modules/container-dataverse/src/main/docker/modules/dataverse-parent/pom.xml: No such file or directory
```
Thu, Jan 19, 2023, 08:10:09 - poikilotherm: <@beeppeeb:matrix.org "pdurbin: is this the link for to..."> YEs!
Thu, Jan 19, 2023, 08:10:41 - poikilotherm: Room code: 581329
Thu, Jan 19, 2023, 08:10:52 - carlsonp: yeah it's definitely broken at the moment, if you go back one of them should work, we can discuss
Thu, Jan 19, 2023, 08:12:47 - poikilotherm: Here#s a shared IDE to work with: https://code-with-me.global.jetbrains.com/TtlGl_RJkFDLh4zUU04fhQ#p=IU&fp=32C845E6BB3F63B8705D1E2C10EAA7A9EE4627E487700D4280B5238C3720746B
Thu, Jan 19, 2023, 08:15:30 - poikilotherm: carlsonp: you seem to have a connection loss?
Thu, Jan 19, 2023, 08:19:10 - carlsonp: yup, I'm back (on wired now)
Thu, Jan 19, 2023, 09:00:01 - poikilotherm: http://preview.guides.gdcc.io/en/develop/
Thu, Jan 19, 2023, 09:30:40 - poikilotherm: https://github.com/gdcc/dataverse/tree/develop%2Bct/conf/container/scripts/app
Thu, Jan 19, 2023, 09:36:40 - poikilotherm: https://github.com/poikilotherm/dataverse/tree/8934-ct-dv-image
Thu, Jan 19, 2023, 10:46:37 - zbenta: Hi guys, does anyone know where can I find the templates used for the emails that are sent by dataverse to the users? We wanted to customize them with the institutional logo and add some CSS to them, if possible.
Thu, Jan 19, 2023, 10:48:27 - zbenta: By the way, we also need to discover the code that is used when we create a new account. We want to edit it and try to add a feature that would allow us to choose the affiliation to be presented, from a list of values retrieved by accessing an external API.
Thu, Jan 19, 2023, 10:48:39 - pdurbin: zbenta: in a perfect world, you'd make a pull request so that everyone can do this, rather than forking üòÑ
Thu, Jan 19, 2023, 10:49:26 - zbenta: ok, I can do that also
Thu, Jan 19, 2023, 10:49:29 - pdurbin: For the affiliation thing, I'd suggest using https://github.com/gdcc/dataverse-external-vocab-support as a starting point
Thu, Jan 19, 2023, 10:51:07 - zbenta: Do I do a feature request?
Thu, Jan 19, 2023, 10:57:03 - pdurbin: Yes, please. Can you please link to https://github.com/IQSS/dataverse/issues/9220 as a related issue?
Thu, Jan 19, 2023, 10:57:16 - zbenta: image.png (Media omitted)
Thu, Jan 19, 2023, 10:57:49 - zbenta: This is more complicated that just adding an external vocabulary. The use case that was presented to us was the following: Could you please change the behaviour of dataverse while the user is creating his account? After having auhtenticated using oauth, the user should be able to choose from a list of affiliations he has available in his profile at https://qa.cienciavitae.pt/cv/
Thu, Jan 19, 2023, 10:59:11 - pdurbin: Hmm, this deserves its own issue too, please.
Thu, Jan 19, 2023, 10:59:41 - zbenta: The user can be both a professor and a student at the same time and would prefer to present his professor affiliation and not his student data. I know, you have already said that people should be treated as pleople and not as titles, I totally relate to that.
Thu, Jan 19, 2023, 11:00:21 - zbenta: ok, I'll do so
Thu, Jan 19, 2023, 11:00:37 - pdurbin: right you opened https://github.com/IQSS/dataverse/issues/9248 already üòÑ
Thu, Jan 19, 2023, 11:01:18 - pdurbin: oh, by the way, maybe this is irrational but for now we're trying avoid threads here in Matrix: https://github.com/IQSS/chat.dataverse.org/issues/16
Thu, Jan 19, 2023, 11:01:54 - zbenta: ü•¥ my bad
Thu, Jan 19, 2023, 11:02:06 - zbenta: Sorry for the threads guys
Thu, Jan 19, 2023, 11:02:23 - pdurbin: no worries! üòÑ
Thu, Jan 19, 2023, 11:02:31 - zbenta: I forgot to RTFM
Thu, Jan 19, 2023, 11:10:30 - pdurbin: heh, I don't expect people to find https://github.com/IQSS/chat.dataverse.org/issues/16
Thu, Jan 19, 2023, 11:12:49 - zbenta: Just updated my feature request wiht the use case I was presented with. https://github.com/IQSS/dataverse/issues/9248#issuecomment-1397227669
Thu, Jan 19, 2023, 11:14:43 - pdurbin: in a meeting, will look soon
Thu, Jan 19, 2023, 11:23:51 - zbenta: Just added the new feature request  https://github.com/IQSS/dataverse/issues/9305
Thu, Jan 19, 2023, 11:24:15 - zbenta: With reference to https://github.com/IQSS/dataverse/issues/9220
Thu, Jan 19, 2023, 11:53:26 - pdurbin: zbenta: looks great, thanks. Meanwhile you might be able to make some small tweaks to messages in Bundle.properties
Thu, Jan 19, 2023, 11:54:22 - zbenta: yep, just saw that on the source code ;-)
Thu, Jan 19, 2023, 12:08:34 - pdurbin: great, people do sometimes tweak those files here and there but it can be a pain because they change with every release
Thu, Jan 19, 2023, 12:08:47 - pdurbin: so you have to keep re-applying your tweaks
Thu, Jan 19, 2023, 12:58:23 - pdurbin: holy crap is Kacper Kowalik fast! https://github.com/data-exp-lab/girder_ythub/issues/9 üòÑ
Thu, Jan 19, 2023, 14:01:14 - poikilotherm: <@beeppeeb:matrix.org "H!"> Actually I did this in Dataverse kubernetes with a simple webhook Binary üòÖ
Thu, Jan 19, 2023, 14:17:21 - areyes628: pdurbin: Hello! Quick question, how do I give users access to the project board on GitHub? Here is our link: https://github.com/orgs/IQSS/projects/42, when I try to access the project's settings page, I am greeted with a 404 page.
Thu, Jan 19, 2023, 14:25:39 - pdurbin: areyes628: it's easy to end up on the wrong page (the one for settings for the IQSS org). Do you get a 404 here? https://github.com/orgs/IQSS/projects/42/settings/users
Thu, Jan 19, 2023, 14:26:44 - areyes628: <@pdurbin:matrix.org "areyes628: it's easy to end up o..."> Yes, still a 404
Thu, Jan 19, 2023, 14:28:02 - beep: <@oliver:bertuch.name "Actually I did this in Dataverse..."> I just put together a 10 line bunjs script which does this. It will suffice for development time now. üôÇ
Thu, Jan 19, 2023, 14:28:32 - pdurbin: bah, it says you're an admin... "able to add new collaborators". areyes628 do you want to to add someone as an admin for you?
Thu, Jan 19, 2023, 14:29:53 - pdurbin: poikilotherm (CET,UTC+1): see, back in the day (in IRC) I would have typed `searchbot: bunjs` and it would reply with a one line description. And whoever had typed bunjs would infer that I had never heard of it. üòÑ
Thu, Jan 19, 2023, 14:32:36 - pdurbin: Ah, actually, it was `searchbot: lucky bunjs` for the one line reply, which was a link: http://irclog.iq.harvard.edu/dataverse/2015-05-21/#i_20080 ... anyway, I sometimes miss searchbot üòÑ
Thu, Jan 19, 2023, 14:33:19 - areyes628: <@pdurbin:matrix.org "bah, it says you're an admin... ..."> Would you be able to add 'foobarbecue' please?
Thu, Jan 19, 2023, 14:34:07 - pdurbin: good ol' Aaron Curtis , done!
Thu, Jan 19, 2023, 14:38:22 - pdurbin: beep: I joined the call late and didn't get your backstory. You want to run Dataverse in a container?
Thu, Jan 19, 2023, 14:40:11 - areyes628: Thanks!
Thu, Jan 19, 2023, 14:51:23 - beep: For now I just want to use it for development: solr and postgresql in docker Payara+Dataverse in local, but in the long run we would like to deploy it either in docker or kubernetes. We already have this dev setup, but interested in a more mature and configurable solution.

And the solr reload is an important issue for us, because we want to have a system, which can host many MDB-s (converted from CEDAR templates), which are added by communities managing their Dataverses. This comes with two major problems:

1. The mentioned solr sync problem

2. The possibility that two or more MDB-s may want to have the same semantically typed datafield, ie. data fields with the same URI, but using a different name for the field. For example, in the Citation MDB we have "title" with an URI "http://purl.org/dc/terms/title". If later we get an MDB, which has a field called "datasetTitle" with the same URI, the original "title" and the new "datasetTitle" are semantically equal and thus should be stored in the same solr field. But when the dataset is exported, then in the context of Citation MDB the field should be exported as "title", while in the context of this other MDB it should be called "datasetTitle".

We have a solution for this 2nd problem now without affecting the current MDB datamodel, but would be happy to discuss it sometime if there's a better solution.
Thu, Jan 19, 2023, 15:30:59 - pdurbin: beep: wow, yeah, we can certainly put this on the agenda for a future community call if you like. Interesting that you're using CEDAR!
Thu, Jan 19, 2023, 16:08:20 - Miguel Silva: Hi everyone,  how are open repositories happening around here in 2023 ?
Thu, Jan 19, 2023, 16:09:19 - Miguel Silva: The LDAD 12bit smart DAQ is almost ready to move to the next milestone, deployment for experimental data measurements on my upcoming selft-sensing asphalt experimental campaign. With it, LIVE & OPEN data uploads to @IQSS repository. All open hardware . All open source code. Available on my GitHub for anyone with interest 
Thu, Jan 19, 2023, 16:09:37 - Miguel Silva sent an image. (Media omitted)
Thu, Jan 19, 2023, 16:09:48 - Miguel Silva sent an image. (Media omitted)
Thu, Jan 19, 2023, 16:11:15 - pdurbin: testing if the asphalt holds up with all this freezing and thawing? ‚òÉÔ∏è üåû
Thu, Jan 19, 2023, 16:18:47 - Miguel Silva: <@pdurbin:matrix.org "testing if the asphalt holds up ..."> Hi pdurbin:  how was 2023 new year's eve ?
Actually that's a self sensing asphalt,  meaning an asphalt with sensing ability.  A sensor.
Thu, Jan 19, 2023, 16:19:19 - pdurbin: pretty quiet, just the family, but nice
Thu, Jan 19, 2023, 16:22:10 - pdurbin: anyway, time to bike home in the rain! üö≤Ô∏è
Thu, Jan 19, 2023, 16:22:28 - Miguel Silva: So the plan is to collect some experimental data , and upload it live to dtaverse. While at the Same time do some research on smart asphalt compositions embedded with "some" carbon fibers  within  mind autonomous vehicles highways. 
Thu, Jan 19, 2023, 16:23:50 - Miguel Silva: <@pdurbin:matrix.org "anyway, time to bike home in the..."> Bike in the rain is actually good. Well if not too many times,  and if on arrival there's waiting a warm cup of hot chocolate and warm clean clothes 
Thu, Jan 19, 2023, 16:26:05 - Miguel Silva: Have a safe strip 
Thu, Jan 19, 2023, 16:27:23 - Miguel Silva sent an image. (Media omitted)
Fri, Jan 20, 2023, 06:30:22 - pdurbin: thanks, it wasn't too bad, thanks to rain pants üòÑ
Fri, Jan 20, 2023, 09:07:42 - * pdurbin reads a new doc about modularity in Dataverse
Fri, Jan 20, 2023, 09:53:46 - pdurbin: poikilotherm (CET,UTC+1): didn't you push a branch or make a PR about DTOs? I can't find it.
Fri, Jan 20, 2023, 09:54:04 - poikilotherm: Nope, I only talked about them
Fri, Jan 20, 2023, 09:54:16 - pdurbin: phew üòÖ thanks
Fri, Jan 20, 2023, 09:54:29 - poikilotherm: I did create https://github.com/IQSS/dataverse/pull/9238
Fri, Jan 20, 2023, 09:54:45 - poikilotherm: I mentioned DTOs in there
Fri, Jan 20, 2023, 11:06:02 - pdurbin: yes, perfect, linked now, thanks!
Fri, Jan 20, 2023, 14:14:54 - pdurbin: Friday afternoon is always a little quiet. Too quiet. üòÑ
Fri, Jan 20, 2023, 15:09:28 - poikilotherm: Sorry, home already. Taking the evening off. üòå 
Fri, Jan 20, 2023, 15:10:02 - poikilotherm: Was a busy day with testing audio equipment for me people and lots of other small things done
Fri, Jan 20, 2023, 15:10:16 - poikilotherm: No coding today ü´£
Fri, Jan 20, 2023, 15:14:18 - pdurbin: Oh, I talked to Rory today but forgot to mention the podcast! I did tell him that I've listened to every episode of his podcast (FAIR Data podcast).
Fri, Jan 20, 2023, 16:11:21 - pdurbin: Ok, I'm out of here. Have a good weekend folks!
Sat, Jan 21, 2023, 09:34:03 - Mark Wilkinson joined the room
Sat, Jan 21, 2023, 09:35:37 - Mark Wilkinson: Hi all!  Is this the right place to ask a question about the docker-compose for Dataverse?  Or should I submit an issue on the github?
Sat, Jan 21, 2023, 09:52:20 - pdurbin: Mark Wilkinson: hi! Wait, wait, are you Mark Wilkinson of FAIR fame? You came to the first Dataverse Community Meeting, I believe.
Sat, Jan 21, 2023, 09:57:57 - pdurbin: https://projects.iq.harvard.edu/dataverse-community-meeting/people/mark-wilkinson
Sat, Jan 21, 2023, 10:00:34 - pdurbin: Anyway, carlsonp and poikilotherm (CET,UTC+1) met twice this past week about docker-compose and containers in general. It's a work in progress. You might gain some insight from https://github.com/IQSS/dataverse/pull/8709 . Personally, for now, I use "docker all in one" for dev purposes: https://guides.dataverse.org/en/5.12.1/developers/testing.html#running-the-full-api-test-suite-using-docker
Sat, Jan 21, 2023, 10:00:59 - pdurbin: poikilotherm (CET,UTC+1): has been working on a base image and wrote a nice Container Guide that you can preview here: https://preview.guides.gdcc.io/en/develop/container/index.html
Sat, Jan 21, 2023, 10:01:06 - poikilotherm: Yeah we are definitely trying to get stuff going!
Sat, Jan 21, 2023, 10:01:31 - poikilotherm: Finally it's not just me pushing for it üòÖ
Sat, Jan 21, 2023, 11:52:35 - pdurbin: Mark Wilkinson: it occurs to me that you might be talking about the docker-compose at https://github.com/IQSS/dataverse-docker created by Vyacheslav Tikhonov . He's not especially active here in Matrix so, yes, opening an issue in that (community-supported) repo would be fine.
Sat, Jan 21, 2023, 12:29:14 - dataversebot removed their profile picture
Sat, Jan 21, 2023, 12:41:13 - poikilotherm: !remind 
Sat, Jan 21, 2023, 12:41:14 - dataversebot: <@oliver:bertuch.name "!remind"> **Usage:** !remind <date> [message] _OR_ !remind <subcommand> [...]
 **Subcommands:** reschedule, help, list, locales, locale, timezone
Sat, Jan 21, 2023, 12:41:32 - poikilotherm: !remind help
Sat, Jan 21, 2023, 12:41:32 - dataversebot: <@oliver:bertuch.name "!remind help"> Maubot Reminder (https://github.com/maubot/reminder) plugin.

‚óè !remind <date> <message> - Add a reminder
‚óè !remind again <date> - Reply to a reminder to reschedule it
‚óè !remind list - Get a list of your reminders
‚óè !remind tz <timezone> - Set your time zone
‚óè !remind locale <locale> - Set your locale
‚óè !remind locales - List available locales
<date> can be a time delta (e.g. `2 days 1.5 hours` or `friday at 15:00`) or an absolute date (e.g. `2020-03-27 15:00`)

To get mentioned by a reminder added by someone else, upvote the message by reacting with üëç.

To cancel a reminder, remove the message or reaction.
Sat, Jan 21, 2023, 12:41:56 - poikilotherm: !remind tz Europe/Berlin
Sat, Jan 21, 2023, 12:41:57 - dataversebot: <@oliver:bertuch.name "!remind tz Europe/Berlin"> Set your timezone to Europe/Berlin
Sat, Jan 21, 2023, 12:43:49 - poikilotherm: !remind 2 minutes @pdurbin look you can remind yourself of something now. I hope. If I don't forget...
Sat, Jan 21, 2023, 12:43:50 - dataversebot: <@oliver:bertuch.name "!remind 2 minutes @pdurbin look ..."> I'll remind you to @pdurbin look you can remind yourself of something now. I hope. If I don't forget... in 2 minutes.

(others can üëç this message to get pinged too)
Sat, Jan 21, 2023, 12:45:49 - dataversebot: @oliver:bertuch.name: @pdurbin look you can remind yourself of something now. I hope. If I don't forget...
Sat, Jan 21, 2023, 12:46:10 - poikilotherm: Message deleted
Sat, Jan 21, 2023, 12:54:32 - poikilotherm: Message deleted
Sat, Jan 21, 2023, 13:21:30 - pdurbin: !remind 5 minutes add bot to people site
Sat, Jan 21, 2023, 13:21:30 - dataversebot: <@pdurbin:matrix.org "!remind 5 minutes add bot to peo..."> I'll remind you to add bot to people site in 5 minutes.

(others can üëç this message to get pinged too)
Sat, Jan 21, 2023, 13:30:48 - dataversebot set a profile picture
Sat, Jan 21, 2023, 13:31:22 - pdurbin: all right, all right, hold on
Sat, Jan 21, 2023, 13:33:13 - pdurbin: there: https://people.dataverse.org
Sat, Jan 21, 2023, 13:34:39 - poikilotherm: If you feel like it - we can write more plugins üòÑ
Sat, Jan 21, 2023, 13:34:46 - poikilotherm: It's Python based
Sat, Jan 21, 2023, 13:35:59 - pdurbin: Sure but wait, did it work? Did it actually remind me?
Sat, Jan 21, 2023, 13:36:07 - pdurbin: !remind list
Sat, Jan 21, 2023, 13:36:08 - dataversebot: <@pdurbin:matrix.org "!remind list"> You have no upcoming reminders in this room :(
Sat, Jan 21, 2023, 13:36:27 - pdurbin: !remind 1 minute test
Sat, Jan 21, 2023, 13:36:28 - dataversebot: <@pdurbin:matrix.org "!remind 1 minute test"> I'll remind you to test in 1 minute.

(others can üëç this message to get pinged too)
Sat, Jan 21, 2023, 13:36:33 - pdurbin: !remind list
Sat, Jan 21, 2023, 13:36:33 - dataversebot: <@pdurbin:matrix.org "!remind list"> Your upcoming reminders in this room:

‚óè "test" in 54 seconds
Sat, Jan 21, 2023, 13:36:42 - * pdurbin waits
Sat, Jan 21, 2023, 13:37:20 - poikilotherm: Oh sorry I might have interfered with me adding a unit file for the bot to start automatically
Sat, Jan 21, 2023, 13:37:27 - dataversebot: @pdurbin:matrix.org: test
Sat, Jan 21, 2023, 13:37:27 - poikilotherm: Running this on me homeserver
Sat, Jan 21, 2023, 13:37:55 - pdurbin: no worries, worked that time
Sat, Jan 21, 2023, 13:38:14 - pdurbin: it's a little verbose when you set a reminder
Sat, Jan 21, 2023, 13:38:23 - pdurbin: are you going to put the code/config on github?
Sat, Jan 21, 2023, 13:39:51 - poikilotherm: No it contains secrets
Sat, Jan 21, 2023, 13:40:07 - poikilotherm: I did not create any plugins yet
Sat, Jan 21, 2023, 13:40:16 - poikilotherm: Just installed what's there made by others
Sat, Jan 21, 2023, 13:40:51 - poikilotherm: Oh but it can remind you in timezones üòâ
Sat, Jan 21, 2023, 13:40:58 - poikilotherm: SO you can give it a date
Sat, Jan 21, 2023, 13:41:49 - poikilotherm: We can also collect karma points üòâ
Sat, Jan 21, 2023, 13:41:58 - poikilotherm: !karma view @pdurbin:matrix.org
Sat, Jan 21, 2023, 13:42:06 - dataversebot: Message deleted by poikilotherm
Sat, Jan 21, 2023, 13:42:16 - dataversebot: Message deleted by poikilotherm
Sat, Jan 21, 2023, 13:42:25 - dataversebot: Message deleted by poikilotherm
Sat, Jan 21, 2023, 13:42:43 - dataversebot: <@oliver:bertuch.name "!karma view @pdurbin:matrix.org"> pdurbin has no karma :(
Sat, Jan 21, 2023, 13:42:53 - pdurbin: no class either
Sat, Jan 21, 2023, 13:43:19 - poikilotherm: !karma view @pdurbin:matrix.org
Sat, Jan 21, 2023, 13:43:20 - dataversebot: <@oliver:bertuch.name "!karma view @pdurbin:matrix.org"> pdurbin has 1 karma (+1/-0) and is #1 on the top list.
Sat, Jan 21, 2023, 13:43:35 - poikilotherm: Karma get's earned by up/downvotes
Sat, Jan 21, 2023, 13:43:59 - pdurbin: interesting
Sat, Jan 21, 2023, 13:44:10 - poikilotherm: Kind of Stack Overflow ;-)
Sat, Jan 21, 2023, 13:44:12 - pdurbin: I don't think we want negative karma though
Sat, Jan 21, 2023, 13:44:38 - poikilotherm: If not seen much downvotes in this channel so far üòÑ
Sat, Jan 21, 2023, 13:44:39 - pdurbin: I assume we can interact with it via DM too.
Sat, Jan 21, 2023, 13:44:53 - pdurbin: because it could get a bit noisy in here üòÑ
Sat, Jan 21, 2023, 13:45:02 - poikilotherm: Yes you can, but I disabled autojoin to avoid misuse
Sat, Jan 21, 2023, 13:45:30 - poikilotherm: It's still running on my server at home...
Sat, Jan 21, 2023, 13:51:12 - poikilotherm: We will probably need to write our own plugin if we want automatic replies with an issue / PR URL from github...
Sat, Jan 21, 2023, 13:53:24 - pdurbin: or query the people site or whatever
Sat, Jan 21, 2023, 13:53:32 - pdurbin: for now I added some docs here: https://github.com/dataversebot
Sat, Jan 21, 2023, 13:53:40 - pdurbin: please feel free to edit!
Sat, Jan 21, 2023, 13:53:50 - pdurbin: we're off to take the dog on a walk
Sat, Jan 21, 2023, 13:57:03 - poikilotherm: I also added urban dictionary. Might be fun :smile: But better not look at index 1-4 for this one.
Sat, Jan 21, 2023, 13:57:07 - poikilotherm: !ud packing 5
Sat, Jan 21, 2023, 13:57:08 - dataversebot: **packing** [5]: Adj. (gerundive form, by [ellipsis] from "to [pack heat]") Carrying a [concealed] firearm. (link (http://packing.urbanup.com/804116))
Sat, Jan 21, 2023, 14:03:47 - pdurbin: I dunno, there's a lot of weird stuff in urban dictionary.
Sat, Jan 21, 2023, 14:04:13 - pdurbin: poikilotherm (CET,UTC+1): maybe you and I should up a new channel just for test driving the bot
Sun, Jan 22, 2023, 03:46:44 - Mark Wilkinson: <@pdurbin:matrix.org "Mark Wilkinson: hi! Wait, wait, ..."> Yes, that's where we first met.  
Sun, Jan 22, 2023, 03:47:39 - Mark Wilkinson: <@pdurbin:matrix.org "Mark Wilkinson: it occurs to me ..."> Yes, that's the one I'm using (works beautifully!!).  Ok, I'll drop an issue there.  Cheers!
Sun, Jan 22, 2023, 07:37:56 - Mark Wilkinson: Different topic... Have any of you been following the activities of the EOSC task force on FAIR metrics?  I think (??) Dataverse reps were at the hackathons... (Or at least, were invited!)
Sun, Jan 22, 2023, 07:39:26 - Mark Wilkinson: The final conclusion of those hackathons was to support a method of metadata provision that was unambiguous, and applicable to every digital object.  
Sun, Jan 22, 2023, 07:42:27 - Mark Wilkinson: EOSC has endorsed "FAIR Signposting" (a small slice of the overall Signposting idea), and has created a benchmark environment for all FAIR Evaluation services to ensure that they all respond to a FAIR Signposting-compliant resource in exactly the same way... So that no matter which evaluation tool you use, you should get an equivalent evaluation if you're following the FAIR Signposting behavior.
Sun, Jan 22, 2023, 07:45:35 - Mark Wilkinson: I've also created proxys for FAIR Data Points, and for Zenodo, to show them what their output would "look like" if it were following the FAIR Signposting recommendations.  (The fact that I can proxy them demonstrates that the information needed is already in the page!  We just need to put it in a more predictable place!)
Sun, Jan 22, 2023, 07:47:59 - Mark Wilkinson: I haven't looked at dataverse, but I believe some reps from your team were at the hackathons.  I can work directly with them, if that would be helpful.  I bet you could make these small changes in a couple of days!!  (If I can proxy, then the changes are obviously minimal!üòÇüòÇ)
Sun, Jan 22, 2023, 07:53:14 - Mark Wilkinson: https://doi.org/10.5281/zenodo.7463421
Sun, Jan 22, 2023, 08:22:18 - Mark Wilkinson: (I also suspect that the deep involvement of DANS with Dataverse development, and the fact that FAIR Signposting was invented at DANS... you might already be totally compliant!  I haven't checked, yet... But I would not be surprised!)
Sun, Jan 22, 2023, 08:27:09 - Mark Wilkinson: (there's a topic that I would still like to discuss with you: data-depositor metadata... Signposting can deal with this, but I don't see a facet within Dataverse that is specifically for provider-sourced metadata.  That prevents us from using great new standards like RO-crate!
Sun, Jan 22, 2023, 08:32:38 - Mark Wilkinson: I apologize if I'm talking about things you've already solved!  It was only on Friday that my company client said "we need a place to put our documents!  Globally!"... Dataverse immediately came to my mind, so for the first time ever, I attempted to install Dataverse!  The docker-compose from IQwhatever was SPECTACULAR!  I had the entire thing running in minutes!
Sun, Jan 22, 2023, 08:33:00 - * pdurbin yawns, makes coffee
Sun, Jan 22, 2023, 08:33:08 - Mark Wilkinson: So very impressed!!!
Sun, Jan 22, 2023, 08:34:20 - pdurbin: Mark Wilkinson: just waking up but I figured it was you. üòÑ I was telling my wife (who sews) yesterday that you have some cool hobbies. I hope we can get together at a conference again sometime. Did you know the #dataverse2023 is in Portugal? https://dataverse.org/events
Sun, Jan 22, 2023, 08:35:21 - Mark Wilkinson: <@pdurbin:matrix.org "Mark Wilkinson: just waking up b..."> I'm in the process of sewing my soon-to-be-wife's wedding dress!!
Sun, Jan 22, 2023, 08:36:26 - pdurbin: Nice! In high school my wife sewed herself a leather jacket. Now our daughter sews, mostly pillows in the shape of animals.
Sun, Jan 22, 2023, 08:37:26 - Mark Wilkinson: https://photos.app.goo.gl/g2fehKzuXRneAx8Z8
Sun, Jan 22, 2023, 08:38:32 - Mark Wilkinson: The mannequin in my sewing room is set to her measurements!  Fingers crossed that, when I go to another Continent, it will fit her! üòÇ
Sun, Jan 22, 2023, 08:39:13 - pdurbin: very cool
Sun, Jan 22, 2023, 08:39:44 - pdurbin: So, I recognize pacian from that Zenodo link.
Sun, Jan 22, 2023, 08:41:20 - pdurbin: On Monday let me ask Vyacheslav Tikhonov and/or Philipp about EOSC stuff. I don't have an immediate memory of this specific initiative.
Sun, Jan 22, 2023, 08:42:08 - pdurbin: Vyacheslav Tikhonov will be glad to hear you had Dataverse running in minutes with his docker compose. "Archive in a box". üòÑ
Sun, Jan 22, 2023, 08:42:26 - Mark Wilkinson: (of course, the model of that dress is not my wife! üòÇüòÇ. Hopefully it will look as good on her?!?!?üòÇüòÇ)
Sun, Jan 22, 2023, 08:43:23 - pdurbin: I can also check in with qqmyers about Signposting. His PR (in coordination with DANS) is here: https://github.com/IQSS/dataverse/pull/8981
Sun, Jan 22, 2023, 08:44:21 - Mark Wilkinson: <@pdurbin:matrix.org "Vyacheslav Tikhonov will be glad..."> Absolutely!!!  I was stunned!!   I had a fully functioning dataverse implementation within minutes!!!  Holy crap!!!  That's spectacular!! Thank you!!!!!
Sun, Jan 22, 2023, 08:45:58 - pdurbin: Nice. I tend to use https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible to spin up Dataverse on EC2 but I should give Slava's thing a try. Where are you hosting it? On a cloud provider? AWS? Google?
Sun, Jan 22, 2023, 08:46:31 - Mark Wilkinson: Nothing so fancy.  Just localhost
Sun, Jan 22, 2023, 08:46:52 - pdurbin: Ok, I think I did try that at least, many years ago. üòÑ
Sun, Jan 22, 2023, 08:47:45 - pdurbin: Like I said before, I tend to reach for "docker all in one" because it's right in the main code: https://github.com/IQSS/dataverse/tree/develop/conf/docker-aio
Sun, Jan 22, 2023, 08:47:57 - Mark Wilkinson: (and when I move it to my company server it will still be just the one machine... We don't expect more than 1000 entries... No need for anything fancy!)
Sun, Jan 22, 2023, 08:48:15 - pdurbin: (Slava's stuff is partially inspired by that all in one stuff by Pete Meyer but Slava has taken in much farther.)
Sun, Jan 22, 2023, 08:49:12 - pdurbin: Which was inspired by docker stuff by Craig Willis from Whole Tale. You know how it goes. üòÑ
Sun, Jan 22, 2023, 08:50:22 - Mark Wilkinson: What I appreciate is the clarity of the documentation.  I was told on Friday that my user had a new need... And by the end of the day on Saturday I had solved their problem, ready to do a demo on Tuesday!
Sun, Jan 22, 2023, 08:50:59 - Mark Wilkinson: I was able to find all of the information I needed within minutes!
Sun, Jan 22, 2023, 08:51:06 - Mark Wilkinson: Thank you!!!
Sun, Jan 22, 2023, 08:54:46 - pdurbin: Awesome. And from my perspective what's cool is that the solution you found was created and is supported by the community. Longer term we'd like to support Docker more officially but I'm glad you found something that works. Thanks again to Vyacheslav Tikhonov for his efforts! And yes, docs, docs, docs. üòÑ
Sun, Jan 22, 2023, 08:59:15 - Mark Wilkinson: Yes... To be honest, there was a slight disconnect between the documentation of the local install of Dataverse, and the docker version.  I made the (correct) assumption that the docker version had the default configuration of a local installation (there was no link to that, so I just guessed, correctly!)
Sun, Jan 22, 2023, 09:00:08 - pdurbin: Ok, while it's fresh in your mind, please feel free to open an issue at https://github.com/IQSS/dataverse-docker/issues
Sun, Jan 22, 2023, 09:01:22 - Mark Wilkinson: You need to know the admin username and password to even get started! That's not in the Docker version docs, but it's easily findable in the native installation docs.
Sun, Jan 22, 2023, 09:03:01 - pdurbin: Ah, dataverseAdmin, right.
Sun, Jan 22, 2023, 09:03:07 - Mark Wilkinson: Yup 
Sun, Jan 22, 2023, 09:04:44 - Mark Wilkinson: If you've spent years in the "professorware" community, you can make good guesses as to where to find this kind of information! üòÇ
Sun, Jan 22, 2023, 09:04:46 - pdurbin: In the readme I see `Default user/password: dataverseAdmin/admin and after you should change it.` but there's a lot in that README. Maybe it should be shown at the end, when you're ready to log in. üòÑ
Sun, Jan 22, 2023, 09:06:19 - Mark Wilkinson: You can't expect a person who just runs "docker compose up" to read the documentation üòâ
Sun, Jan 22, 2023, 09:06:24 - Mark Wilkinson: I did!
Sun, Jan 22, 2023, 09:06:39 - pdurbin: Our director likes to joke that his favorite programming language is "graduate student". üòÑ
Sun, Jan 22, 2023, 09:07:10 - Mark Wilkinson: But the documentation didn't point to the information about a default installation... So I just guessed.
Sun, Jan 22, 2023, 09:08:26 - Mark Wilkinson: (I run a course in bioinformatics programming challenges at the MSc level... The code is horrifying!üòÇüòÇ)
Sun, Jan 22, 2023, 09:11:11 - Mark Wilkinson: It's really aimed at people who are already good coders... To give them a chance to really challenge themselves!  (Recursive calls, for example)... But the problem is that we get people who register in the course who don't even have a programming language that they claim to know!
Sun, Jan 22, 2023, 09:12:06 - pdurbin: Yikes. I hope you're using something with a relatively easy onramp like Python.
Sun, Jan 22, 2023, 09:13:13 - Mark Wilkinson: The good coders do it in a couple of days!  The ones who know nothing ask for extensions... And extensions...  My assignment #2 now has an extension into January!  (Assigned in September!)
Sun, Jan 22, 2023, 09:15:22 - Mark Wilkinson: Hehe... No!  I don't want to give the python experts any advantage!  All of my course is run in Ruby!

I want to test their ability to solve complex problems!  I don't want to give the python coders any advantage!
Sun, Jan 22, 2023, 09:17:59 - pdurbin: Ah, nice. Nothing wrong with Ruby.
Sun, Jan 22, 2023, 09:22:21 - Mark Wilkinson: Agreed... I know it's losing the popularity race... But I still love it more than python, largely because so much of my coding these days is meta-programming!  Ruby is literally designed for that!!
Sun, Jan 22, 2023, 09:23:10 - Mark Wilkinson: The Ruby object model is.... Lovely!!üòÇ
Sun, Jan 22, 2023, 09:24:23 - Mark Wilkinson: I tell my students not to fall in love with any language... You pick the language based on the problem!
Sun, Jan 22, 2023, 09:27:17 - Mark Wilkinson: A lot of the critical description logic reasoning stuff can still only (efficiently) be done in Java... That's a huge barrier for my (mostly python) lab!  We can't extend/modify the libraries we need.
Sun, Jan 22, 2023, 09:39:32 - pdurbin: Huh, I need to go walk the dog but can you please link to an example Java library?
Sun, Jan 22, 2023, 09:39:53 - pdurbin: Oh hey, pacian . Welcome back. üòÑ
Sun, Jan 22, 2023, 10:03:27 - poikilotherm: Hum hum... Actually some of this stuff was inspired by dataverse-kubernetes, too... üòâ
Sun, Jan 22, 2023, 10:06:42 - poikilotherm: But anyhow, we are now working towards inclusion of containers in upstream :-)
Sun, Jan 22, 2023, 10:07:23 - poikilotherm: And I bet the underlying changes with MPCONFIG will be of value for all the different community projects around containerized deployments.
Sun, Jan 22, 2023, 10:38:59 - pdurbin: True, yes, many inspirations. Plenty of credit to go around. üòÑ
Sun, Jan 22, 2023, 10:40:05 - pacian: Happy to see you here Mark Wilkinson:  didn't know you were getting into Dataverse. Happy to hear that you have found it useful for your needs. In case you are wondering, this is Richard from the EOSC TF
Sun, Jan 22, 2023, 10:45:00 - Mark Wilkinson: Hi all!  I'm here because a client of my company had a problem that matched Dataverse really well, so I wanted to solve the problem for them quickly! üòä
Sun, Jan 22, 2023, 10:46:48 - Mark Wilkinson: So far, it seems to be the right decision!  The Docker deployment is... Perfect!!
Sun, Jan 22, 2023, 10:48:42 - Mark Wilkinson: Hi Richard!!  You seem to be everywhere that I go! üòÇüòÇüòäüòä
Sun, Jan 22, 2023, 10:49:20 - Mark Wilkinson: You are a supernatural entity!
Sun, Jan 22, 2023, 10:51:35 - pacian: Haha, I am implementing DV for Denmark as their Trusted Data Repository so I follow all channels related to DV.
Sun, Jan 22, 2023, 10:51:54 - Mark Wilkinson: Hehe!  Nice to see you here!
Sun, Jan 22, 2023, 10:52:01 - pacian: But you seem to be everywhere too
Sun, Jan 22, 2023, 10:53:00 - Mark Wilkinson: Yeah... As we say in English, I'm like a fart... You can't get away from it, but you don't know who did it!
Sun, Jan 22, 2023, 10:54:02 - Mark Wilkinson: The pinnacle of my career! üòÇüòÇ
Sun, Jan 22, 2023, 10:55:32 - pacian: You mentioned that you were able to install Archive -in-a-Box in minutes, it that entirely true?
Sun, Jan 22, 2023, 10:55:46 - Mark Wilkinson: It is!  
Sun, Jan 22, 2023, 10:55:56 - Mark Wilkinson: Three times!
Sun, Jan 22, 2023, 10:56:40 - Mark Wilkinson: I tested on three different environments before I decided that I could rely on it as a solution 
Sun, Jan 22, 2023, 10:57:46 - Mark Wilkinson: I didn't go deep into the functionality, but all of the basic functions I need were working 
Sun, Jan 22, 2023, 10:57:47 - pacian: What environment did you settled on ?
Sun, Jan 22, 2023, 10:58:20 - pacian: What was your Use Case?
Sun, Jan 22, 2023, 10:59:15 - Mark Wilkinson: It will be a Linux Mint deployment, on a dedicated server (eventually... For the demo, I'm going to deploy it alongside some of my other servers)
Sun, Jan 22, 2023, 11:03:37 - Mark Wilkinson: The use case was that the Duchenne Parent project (a client of my company) wanted to consolidate all interactions between researchers and patients on a global scale.  This included things like interviews (video) and questionnaires...  What they needed was a big document store, with some ability to sub -categorize entries, and some degree of control over who could see what entries.
Sun, Jan 22, 2023, 11:05:08 - Mark Wilkinson: I'm proposing dataverse as our first attempt to meet their needs.  Hopefully, I'll be able to meet the deeper needs by coding to the dataverse API.  Hopefully!
Sun, Jan 22, 2023, 11:06:18 - pacian: Sounds interesting, you are aware DV will mint a DOI once the metadata and datasets are published.
Sun, Jan 22, 2023, 11:07:19 - Mark Wilkinson: Yes!  I have already looked at the costing for DataCite, and have given my client a summary of the costs to become a DOI provider 
Sun, Jan 22, 2023, 11:08:29 - Mark Wilkinson: It's very reasonable, for them (less than 10,000 entries per year) so I'm going to encourage them to pay that cost to DataCite.
Sun, Jan 22, 2023, 11:12:14 - pacian: You come to the right place for support and creative ideas. Of course you can always catch me as well. But I think you will be okay. I run a demo  DV in a cloud environment.
Sun, Jan 22, 2023, 11:12:44 - Mark Wilkinson: üòä
Sun, Jan 22, 2023, 11:13:23 - Mark Wilkinson: Every interaction I've ever had with the dataverse team has always been positive!   Love you all!
Sun, Jan 22, 2023, 11:14:11 - Mark Wilkinson: This is the first time I've ever USED your product!  And it's... Effortless!!
Sun, Jan 22, 2023, 11:14:41 - pacian: Enjoy the rest of your Sunday
Sun, Jan 22, 2023, 11:14:48 - Mark Wilkinson: You too!
Sun, Jan 22, 2023, 11:26:56 - Mark Wilkinson: Ok... Now I have to go back to "real life"!  I'm sewing the dress for my future wife's marriage ceremony!  I have some sewing to do!  2 months countdown...
Sun, Jan 22, 2023, 11:27:42 - Mark Wilkinson sent an image. (Media omitted)
Sun, Jan 22, 2023, 11:34:37 - Mark Wilkinson: (I wonder how many men have created their wive's wedding dresses!  It can't be a huge number!!??  I'm excited to be part of those rare men!)
Sun, Jan 22, 2023, 11:35:39 - Mark Wilkinson: She picked the fabric on her last visit here over the Christmas holiday.  Now... I just have to execute!
Sun, Jan 22, 2023, 11:38:18 - Mark Wilkinson: What's most interesting to me is that the bodice is not, in any way, "soft"!! There's a few meters of "boning" that ensures that the top of the dress always looks perfect!!  Regardless of the...............
Sun, Jan 22, 2023, 11:40:28 - Mark Wilkinson: Though the look of that dress is very fluid, the actual dress has no fluidity at all! üòÇüòÇüòÇ 
Sun, Jan 22, 2023, 12:36:35 - pacian: Mark, you have very unique skillset.üòä
Sun, Jan 22, 2023, 12:53:51 - Mark Wilkinson: I needed a hobby that didn't involve coding!üòÇüòÇ ... amusingly, I bought that pattern many years before I decided to learn how to sew!  ... For some reason, I just needed to buy it!

Now I know why! üòä
Sun, Jan 22, 2023, 12:54:37 - Mark Wilkinson: If you don't believe in "fate" ask me about my life! üòÇüòÇ
Mon, Jan 23, 2023, 07:54:22 - pdurbin: NetCDF/HDF5/geospatial call in a little over an hour: https://docs.google.com/document/d/15--uyVGZ_MtaLbZE3MKtHCCGrRh6SCibvwBT9yuJW_I/edit?usp=sharing
Mon, Jan 23, 2023, 09:03:18 - pdurbin: whoops, about an hour from now, I mean
Mon, Jan 23, 2023, 13:43:05 - pdurbin: everybody's all talked out from the weekend, I guess üòÑ
Mon, Jan 23, 2023, 13:43:14 - pdurbin: oh and Oliver is on vacation üòÑ
Mon, Jan 23, 2023, 13:56:39 - Mark Wilkinson: Update: my client was thrilled with the demo, and is taking it to the Board to encourage them to move forward!  

Thanks to the DV team for creating something that "just works, out of the box"!!  I had literally 48 hours to create a demo of a solution!  You made my life easy!
Mon, Jan 23, 2023, 13:57:02 - pdurbin: Great news! üéâ
Mon, Jan 23, 2023, 15:08:30 - Mark Wilkinson: I still haven't submitted the issue to their GitHub, so I'll ask the question here, and maybe you can tell me what I've done wrong.

The (small!) Issue is that I'm allowed to upload a logo to associate with a given dataverse.  I uploaded the logo, but it never displays - I only get the "alt text".  I've checked the source of the page, and I've gone into the container to check that the file is there.  That all is true!  The file is in the right place in the docroot of the server... But there's no way for me to access that (I've traversed down the URL path to see if any URL will respond... None do)

Any suggestions?
Mon, Jan 23, 2023, 15:12:03 - Mark Wilkinson: My best guess is that the default config of the docker image is lacking a configuration that points to the docroot for anything other than dataverse commands
Mon, Jan 23, 2023, 15:13:19 - Mark Wilkinson: (I.e static files are not being served correctly)
Mon, Jan 23, 2023, 15:14:53 - Mark Wilkinson: During my exploration, I did learn that the dataverse logo is a font character!  That is so cool!!!
Mon, Jan 23, 2023, 15:20:20 - pdurbin: Mark Wilkinson: hmm, we might need to ask Vyacheslav Tikhonov but meanwhile, this issue might help, seems related: https://github.com/IQSS/dataverse-docker/issues/77
Mon, Jan 23, 2023, 15:47:50 - Mark Wilkinson: It is indeed related!  But it's reporting the same problem that I'm reporting... With no solution, as far as I can tell?!?
Mon, Jan 23, 2023, 15:49:48 - Mark Wilkinson: I'm uploading a logo, it's being called by a "correct" URL in the dataverse web page... But it's not displayed.  The file exists in the expected place!
Mon, Jan 23, 2023, 15:50:28 - Mark Wilkinson: (in the container, the file is exactly where it should be!)
Mon, Jan 23, 2023, 15:51:12 - pdurbin: This is running on your laptop, right, not on the public internet, not on a server I could access.
Mon, Jan 23, 2023, 15:51:46 - Mark Wilkinson: It's running on multiple localhosts
Mon, Jan 23, 2023, 15:52:43 - Mark Wilkinson: I've tried it on a variety of Linux machines, before I deploy it on my production server 
Mon, Jan 23, 2023, 15:53:02 - Mark Wilkinson: Same issue in every case
Mon, Jan 23, 2023, 15:54:13 - Mark Wilkinson: No, there's no server you can access
Mon, Jan 23, 2023, 15:54:42 - Mark Wilkinson: But if you need one, I can create one!
Mon, Jan 23, 2023, 15:56:04 - Mark Wilkinson: I would prefer to try to troubleshoot the problem before I create a public mock DV just to troubleshoot this problem üòâ
Mon, Jan 23, 2023, 15:56:37 - pdurbin: sure, makes sense
Mon, Jan 23, 2023, 15:56:47 - Mark Wilkinson: (you can create one just as easily as I can! üòâüòâ)
Mon, Jan 23, 2023, 15:57:09 - pdurbin: I was just hoping it was already created, already out there. üòÑ
Mon, Jan 23, 2023, 15:57:20 - pdurbin: not that I know what the fix is
Mon, Jan 23, 2023, 15:57:51 - Mark Wilkinson: Yeah ... I don't want to embarrass myself!
Mon, Jan 23, 2023, 15:58:19 - pdurbin: It's easily reproducible on your laptop?
Mon, Jan 23, 2023, 15:58:24 - Mark Wilkinson: Yes
Mon, Jan 23, 2023, 15:58:54 - Mark Wilkinson: In every VM I've tested, the behaviour is the same
Mon, Jan 23, 2023, 15:59:22 - pdurbin: Is it worth a new issue?
Mon, Jan 23, 2023, 15:59:35 - Mark Wilkinson: It's a problem with serving static files
Mon, Jan 23, 2023, 16:01:04 - Mark Wilkinson: I know in Ruby, most server environments require that you declare the path for a static file.  That might be what's missing from the default docker deployment (????)
Mon, Jan 23, 2023, 16:02:48 - Mark Wilkinson: I know the file is there! In the docroot folder!  The Dataverse URL SHOULD BE correct!  But it seems that the docker dataverse doesn't know about the docroot folder!
Mon, Jan 23, 2023, 16:05:25 - pdurbin: I don't know if this helps but on my non-docker server, the logo for collection 2 appears here: https://dev1.dataverse.org/logos/2/open-source-logo-png-transparent.png
Mon, Jan 23, 2023, 16:06:05 - Mark Wilkinson: Yeah, I've tried that...
Mon, Jan 23, 2023, 16:06:27 - Mark Wilkinson: I traversed down the path 
Mon, Jan 23, 2023, 16:06:51 - Mark Wilkinson: At no point can I resolve the image 
Mon, Jan 23, 2023, 16:08:02 - pdurbin: For me that logo is here on disk: /usr/local/payara5/glassfish/domains/domain1/docroot/logos/2/open-source-logo-png-transparent.png
Mon, Jan 23, 2023, 16:08:07 - Mark Wilkinson: (that would still be a bug!  But I've tried what you suggest and I was never able to resolve the image... Using any "rational" URL
Mon, Jan 23, 2023, 16:08:24 - pdurbin: You could try putting a logo at docroot/logos/1/foo.png and see if it gets served up
Mon, Jan 23, 2023, 16:08:39 - pdurbin: (it should)
Mon, Jan 23, 2023, 16:09:14 - Mark Wilkinson: üòÇüòÇüòÇ WELL THAT'S a solution that I had never considered! üòâ
Mon, Jan 23, 2023, 16:09:44 - pdurbin: üòÑ I mean as a test
Mon, Jan 23, 2023, 16:09:51 - Mark Wilkinson: :-)
Mon, Jan 23, 2023, 16:10:36 - Mark Wilkinson: I can do that test... But... What URL should I use to test that?
Mon, Jan 23, 2023, 16:11:54 - pdurbin: I'm not sure what port docker puts dataverse on but something like http://localhost:8080/logos/1/foo.png maybe
Mon, Jan 23, 2023, 16:12:12 - Mark Wilkinson: Just FYI: my logo is placed into ./docroot/logos/2/myfile.png
Mon, Jan 23, 2023, 16:12:34 - Mark Wilkinson: Yeah, I've tried that...
Mon, Jan 23, 2023, 16:13:11 - pdurbin: Under docroot, a few dirs are served up: guides, dataexplore, logos, sitemap: https://github.com/IQSS/dataverse/blob/v5.12.1/src/main/webapp/WEB-INF/glassfish-web.xml#L11-L14
Mon, Jan 23, 2023, 16:13:26 - pdurbin: I often put static files in one of these dirs.
Mon, Jan 23, 2023, 16:13:30 - Mark Wilkinson: I tried every rational webby solution... I could not find a URL that served that file
Mon, Jan 23, 2023, 16:14:28 - Mark Wilkinson: (and even if I did find one, the Dataverse web page is not pointing to it!)
Mon, Jan 23, 2023, 16:15:18 - Mark Wilkinson: I think that the current docker solution is not correctly serving static files
Mon, Jan 23, 2023, 16:15:33 - pdurbin: You could poke around in the databasetheme database table: https://guides.dataverse.org/en/5.6/schemaspy/tables/dataversetheme.html
Mon, Jan 23, 2023, 16:16:00 - Mark Wilkinson: ... Or... I could ask for a solution üôÇ
Mon, Jan 23, 2023, 16:16:32 - pdurbin: Yeah, honestly, I'd open a new issue. I bet Vyacheslav Tikhonov will see it.
Mon, Jan 23, 2023, 16:16:44 - Mark Wilkinson: Ok, I'll do that
Mon, Jan 23, 2023, 16:17:15 - pdurbin: cool, time to bike home in the snow! ‚ùÑÔ∏èüö≤Ô∏è‚ùÑÔ∏è
Mon, Jan 23, 2023, 16:18:13 - Mark Wilkinson: IMO it's just a little config problem with defining the folder for static files.  Likely a 2 minute edit!
Tue, Jan 24, 2023, 08:48:38 - pdurbin: Mark Wilkinson: thanks for explaining your problem over at https://github.com/IQSS/dataverse-docker/issues/77
Tue, Jan 24, 2023, 08:53:37 - pdurbin: To all: the community call starts in about an hour: https://dataverse.org/community-calls
Tue, Jan 24, 2023, 10:32:54 - @leouieda:matrix.org left the room
Tue, Jan 24, 2023, 13:58:41 - pdurbin: vera_c: you're probably off the clock by now but I have a nested fields question for you tomorrow or whenever you have time üòÑ
Tue, Jan 24, 2023, 14:06:30 - pdurbin: Oh dear: "The Dataverse needs to be rewritten in a language other than compiled Java. Typescript sounds good. The current development environment is unsustainable." -- https://github.com/IQSS/dataverse/issues/5593#issuecomment-1402368614
Tue, Jan 24, 2023, 14:09:17 - pdurbin: kuhlaid: you have strong opinions! üòÑ
Tue, Jan 24, 2023, 14:16:33 - Mark Wilkinson: <@pdurbin:matrix.org "Mark Wilkinson: thanks for expla..."> Pleasure!  It was reassuring that someone else had reported the same problem AND proposed a workaround!  That gets me up and running immediately.
Wed, Jan 25, 2023, 02:13:29 - poikilotherm: <@pdurbin:matrix.org "Oh dear: "The Dataverse needs to..."> At least a part of it will. (The SPA)
Wed, Jan 25, 2023, 07:02:25 - pdurbin: true
Wed, Jan 25, 2023, 08:18:18 - pdurbin: https://dataverse.org/blog/restructuring-dataverse-ui-single-page-application
Wed, Jan 25, 2023, 16:44:35 - areyes628: pdurbin: Hello! Do you have availability on Friday, 1/27, for another review for https://github.com/IQSS/dataverse/pull/9222
Wed, Jan 25, 2023, 21:27:14 - pdurbin: areyes628: sure! My only meeting is at 9:30am, way too early for you. üòÑ Please pick a time.
Thu, Jan 26, 2023, 07:14:50 - Don Sizemore: @pdurbin knock knock?
Thu, Jan 26, 2023, 07:20:50 - Don Sizemore: @pdurbin Payara6/Java17 question for you... also was scratching my head over that Shibboleth issue
Thu, Jan 26, 2023, 08:26:23 - pdurbin: Don Sizemore: hey, good morning
Thu, Jan 26, 2023, 08:27:06 - Don Sizemore: pdurbin: I hope you slipped and slid safely to the office
Thu, Jan 26, 2023, 08:27:39 - pdurbin: I put on rain pants but didn't need them, thankfully. üö≤Ô∏è üåßÔ∏è
Thu, Jan 26, 2023, 08:28:20 - Don Sizemore: we're looking at a mix of rain, snow and ice here next weekend. we had survived nicely without it so far.
Thu, Jan 26, 2023, 08:28:56 - Don Sizemore: on Payara6. Kevin asked about API testing yesterday, and it's on my list to cobble together a payara6.yml for anyone who so chooses to easily stand up a temporal instance in AWS
Thu, Jan 26, 2023, 08:29:35 - pdurbin: Ah, so maybe you saw https://github.com/IQSS/dataverse/issues/9329 already. üòÑ
Thu, Jan 26, 2023, 08:29:58 - Don Sizemore: we also have the Jenkins job, but Oliver wants to switch to Java 17. I'm certain Jenkins won't mind a newer Java appearing as an alternative, and probably Maven...
Thu, Jan 26, 2023, 08:30:27 - Don Sizemore: problem is I need to focus on this "sensitive-data" Dataverse until it's ready, so in the mean time the Payara6 YML is on my list and I may turn Brian loose on some of the config changes.
Thu, Jan 26, 2023, 08:31:25 - Don Sizemore: so, there. that's my update. also curious about the Shibboleth issue, as I've seen that error before in the community traffic but can't remember what the solution was.
Thu, Jan 26, 2023, 08:38:27 - pdurbin: Can we sequence the work?
- Payara 6 API tests first
- then Payara 6 API tests on Java 17
Instead of doing it all at once. My fear is if we glom too much stuff together it could hold up the Payara 6 upgrade, which is a priority for security reasons.
Thu, Jan 26, 2023, 08:40:57 - Don Sizemore: oh, will you look at that. I already have a payara6.yml
Thu, Jan 26, 2023, 08:41:30 - pdurbin: 18 builds on https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/ , the last one 22 days ago
Thu, Jan 26, 2023, 08:42:17 - pdurbin: ah, it's pointed at the wrong (older) branch though
Thu, Jan 26, 2023, 08:43:38 - pdurbin: Do you want to update that job to the branch that's behind https://github.com/IQSS/dataverse/pull/9116 (8305-payara6-ee10) and give it a whirl?
Thu, Jan 26, 2023, 12:22:24 - areyes628: <@pdurbin:matrix.org "areyes628: sure! My only meeting..."> How does 10:00AM PST work for you?
Thu, Jan 26, 2023, 13:28:02 - pdurbin: areyes628: hmm, would an hour later be ok?
Thu, Jan 26, 2023, 13:39:27 - areyes628: <@pdurbin:matrix.org "areyes628: hmm, would an hour la..."> yup that works! so 11:00 PST?
Thu, Jan 26, 2023, 13:46:39 - pdurbin: Yep! 2pm for me. Do you have your code running? Could you give a quick demo, I mean?
Thu, Jan 26, 2023, 13:50:04 - areyes628: Yes I should be able to demo tomorrow
Thu, Jan 26, 2023, 13:52:38 - pdurbin: Awesome, if not, no worries. Do you have a question I can answer now? If the PR is ready to go, I can go ahead and start pushing it through the sausage factory. Prioritize it for review, basically.
Thu, Jan 26, 2023, 14:20:00 - areyes628: No questions right now, and if there's no glaring issues you see in the PR feel free to start pushing it! Thank you
Thu, Jan 26, 2023, 14:31:19 - pdurbin: Ah, you know what... good news, it's already technically in the sprint (which just started) so it should show up on the board soon, I think. In short, I've already been pushing it. üòÑ
Thu, Jan 26, 2023, 14:32:51 - pdurbin: I mean, this already looks good to me. Once it hits the board, I'll send it to QA. That said, I'm still happy to meet tomorrow if you want.
Thu, Jan 26, 2023, 15:27:27 - areyes628: Sure, we can have a quick meeting and demo. Won't take too long
Thu, Jan 26, 2023, 15:28:03 - pdurbin: sure, sounds good
Thu, Jan 26, 2023, 15:58:54 - pdurbin: Don Sizemore: just posted my last idea on that shib issue: https://github.com/IQSS/dataverse/issues/9328
Thu, Jan 26, 2023, 15:59:46 - Don Sizemore: @pdurbin did you see the open "403 under load" bug in Payara6?
Thu, Jan 26, 2023, 16:05:01 - pdurbin: somewhere
Thu, Jan 26, 2023, 16:05:05 - pdurbin: was it a dream?
Thu, Jan 26, 2023, 16:05:13 - pdurbin: is it time to go home? üö≤Ô∏è
Fri, Jan 27, 2023, 03:48:46 - vera_c: <@pdurbin:matrix.org "vera_c: you're probably off the ..."> Sure, what is it?
Fri, Jan 27, 2023, 07:45:53 - pdurbin: vera_c: hi, I need to bike into work but for now, I've been thinking about where to store the PID for a person or organization. Does it justify an additional level of nesting? Please see the "Creator Demo" example in the two screenshots at the bottom of https://github.com/IQSS/dataverse/issues/9335
Fri, Jan 27, 2023, 07:52:43 - pdurbin: (I can explain more soon.) üòÑ
Fri, Jan 27, 2023, 08:27:49 - pdurbin: vera_c: actually, if you want I could share my screen, start a Zoom
Fri, Jan 27, 2023, 08:56:45 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Hello there :) I was working on securing SOLR using basic authentication but it seems that Dataverse code does not handle it. I was wondering if you ever talked about the subject ? may be for ansible, docker, k8s.
Fri, Jan 27, 2023, 08:58:59 - pdurbin: luddaniel: good question. I'm looking at https://github.com/IQSS/dataverse/pull/8825 by poikilotherm (CET,UTC+1) which will be in Dataverse 5.13
Fri, Jan 27, 2023, 09:00:08 - pdurbin: Here's a preview of those new MPCONFIG options for Solr: http://preview.guides.gdcc.io/en/develop/installation/config.html#dataverse-solr-host
Fri, Jan 27, 2023, 09:00:19 - pdurbin: However, I'm not seeing anything about auth.
Fri, Jan 27, 2023, 09:04:29 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "However, I'm not seeing anything..."> yes. By checking the code I saw that solr-solrj-8.8.1.jar contains [SolrRequest.setBasicAuthCredentials(String user, String password)](https://solr.apache.org/docs/8_8_1/solr-solrj/org/apache/solr/client/solrj/SolrRequest.html#setBasicAuthCredentials-java.lang.String-java.lang.String-)
Fri, Jan 27, 2023, 09:05:05 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): I guess it is not super hard to get it, if we can do a PR in the futur we will !
Fri, Jan 27, 2023, 09:05:35 - pdurbin: Right, doesn't sound too bad. Can you please create an issue for now? We can worry about the pull request later. üòÑ
Fri, Jan 27, 2023, 09:06:17 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "Right, doesn't sound too bad. Ca..."> You prefere to have the "need" even if we don't provide PR ? 
Fri, Jan 27, 2023, 09:07:09 - pdurbin: Yes, having the need is nice. Also, we put the issue number in the name of the branch when we create a PR. 1234-fix-typo or whatever.
Fri, Jan 27, 2023, 09:07:40 - pdurbin: We describe this here, if you're interested: https://guides.dataverse.org/en/5.12.1/developers/version-control.html#how-to-make-a-pull-request
Fri, Jan 27, 2023, 09:08:10 - pdurbin: And yes, we would love a pull request too, of course. üòÑ Please follow the MPCONFIG pattern above.
Fri, Jan 27, 2023, 09:08:53 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): As I will speak with you more and more, I will introduice myself a bit : I'm working with the Recherche Data Gouv team, https://entrepot.recherche.data.gouv.fr/ INRAE in France.
Fri, Jan 27, 2023, 09:09:57 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): We don't have working dev env so we are not in capacity to do PR with java developpement at the moment ^^ 
Fri, Jan 27, 2023, 09:11:00 - pdurbin: Your name seemed familiar. I hope you don't mind but I added you to https://people.dataverse.org (and just added your matrix name and installation). It's hard to remember who I'm talking to! üòÑ
Fri, Jan 27, 2023, 09:11:32 - pdurbin: No worries, we can help someone there set up a dev environment some day.
Fri, Jan 27, 2023, 09:13:30 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "Your name seemed familiar. I hop..."> that's fine :) 
Fri, Jan 27, 2023, 09:13:46 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): I will ask for other team member to do the same
Fri, Jan 27, 2023, 09:15:15 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): 3 of them are in already XD
Fri, Jan 27, 2023, 09:17:52 - pdurbin: good, I just add people as I interact with them üòÑ
Fri, Jan 27, 2023, 09:18:31 - pdurbin: Lots of other code to hack on, of course. Python, Javascript, R. Pick your poison. üòÑ
Fri, Jan 27, 2023, 09:59:51 - pdurbin: luddaniel: thanks for creating https://github.com/IQSS/dataverse/issues/9337 about Solr auth!
Fri, Jan 27, 2023, 10:07:29 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "luddaniel: thanks for creating h..."> Thanks to you.
Fri, Jan 27, 2023, 10:07:53 - pdurbin: Sure. I just left a comment about the MPCONFIG stuff to make poikilotherm (CET,UTC+1) happy. üòÖ
Fri, Jan 27, 2023, 10:09:05 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): it smells like teasing ^^ 
Fri, Jan 27, 2023, 10:09:39 - pdurbin: He's a good egg. ü•ö
Fri, Jan 27, 2023, 10:10:06 - pdurbin: He's on vacation this week. Normally he's quite active. Hyperactive? üòÑ
Fri, Jan 27, 2023, 10:10:52 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "He's on vacation this week. Norm..."> we need this kind of devotion ^^ 
Fri, Jan 27, 2023, 10:11:24 - pdurbin: I was shocked to learn he doesn't even drink coffee. ü§Ø
Fri, Jan 27, 2023, 11:54:33 - Miguel Silva: Hi everyone !!!
Fri, Jan 27, 2023, 11:55:39 - Miguel Silva: The LDAD is officially up and running!  Well, the very first release candidate of the firmware. Now, on this code revision,  electrical resistance and measurement voltage are correctly measured by the built-in multimeter. And this means the smart DAQ is now ready to be installed on all specimens in an experimental campaign before configuring with the correct calibration curves (temperature compensated). From now on all changes will be towards improving usability and user experience in¬†a¬†laboratory.

The C firmware code now includes PSRAM support for temporary storage of measured data in RAM up to 9175 samplings before flushing it into the onboard Flash storage.
Fri, Jan 27, 2023, 11:56:40 - Miguel Silva: To anyone with interest., is available on my Github
https://github.com/aeonSolutions/openScienceResearch-Smart-DAQ-Device-able-to-Upload-Live-Experimental-Sensor-Data-to-a-Data-Repo/blob/main/README.md
Fri, Jan 27, 2023, 11:57:04 - pdurbin: nice
Fri, Jan 27, 2023, 11:58:48 - Miguel Silva: 20230127_173226.mp4 (Media omitted)
Fri, Jan 27, 2023, 11:58:50 - Miguel Silva: (Here's a short video with it running today's firmware code revision) 
Fri, Jan 27, 2023, 12:06:34 - pdurbin: cool
Fri, Jan 27, 2023, 12:56:47 - Don Sizemore: @pdurbin are you interested in error messages about busticated 404s on Payara6?
Fri, Jan 27, 2023, 12:57:30 - pdurbin: I've been all over the place today. Binder button. Fremium GitHub Actions. Is there an issue? Also, heading to lunch. ü•™
Fri, Jan 27, 2023, 12:57:59 - Don Sizemore:  (and if so, should they go in the "API test" Payara6 issue, or a new umbrella issue for what appear to be faces bugs?)
Fri, Jan 27, 2023, 12:58:04 - Don Sizemore: also, you should eat lunch.
Fri, Jan 27, 2023, 12:58:14 - pdurbin: new issue, please!
Fri, Jan 27, 2023, 12:58:26 - pdurbin: may another thousand issues bloom üåª
Fri, Jan 27, 2023, 14:00:09 - pdurbin: areyes628: ready? üòÑ
Fri, Jan 27, 2023, 14:00:19 - areyes628: yup
Fri, Jan 27, 2023, 14:00:35 - pdurbin: https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09
Fri, Jan 27, 2023, 15:59:46 - pdurbin: Ok, folks, I'm out of here. Have a great weekend!
Mon, Jan 30, 2023, 03:30:59 - vera_c: <@pdurbin:matrix.org "vera_c: hi, I need to bike into ..."> If I understand the screenshot correctly, you want to have the PIDs on the "top level", right? The problem I see with that you lose the relationship to the person/organisation that way. I mean, semantically it should be nested within the person/organisation it belongs to. Plus (this is not applicable to PIDs since they're optional), but you couldn't check a requirement like "each person needs to have 1+ IDs" that way.
Mon, Jan 30, 2023, 07:11:22 - pdurbin: vera_c: happy Monday! Well, sort of. Part of the idea is to store the PID itself. Then then name of the person could be looked up later. I didn't invent this technique. It came from a pull request by qqmyers üòÑ
Mon, Jan 30, 2023, 07:14:40 - poikilotherm: Morning y'all 
Mon, Jan 30, 2023, 07:15:45 - poikilotherm: Isn't this problem related to the fact that now a PID is now lifted from being a simple attribute of a person to a representation of the person?
Mon, Jan 30, 2023, 07:16:14 - poikilotherm: With an Orcid, you can get all the details about a person from somewhere else
Mon, Jan 30, 2023, 07:16:32 - poikilotherm: While the current Dataverse metadata model is centered around having our own model of a person
Mon, Jan 30, 2023, 07:17:18 - vera_c: <@pdurbin:matrix.org "vera_c: happy Monday! Well, sort..."> happy Monday :) I see, so you mean to replace the entire person/organization compound field by a PID that can be used to look up the person/org info? In that case, what about additional info specific to the dataset, like contributor type in DataCite?
Mon, Jan 30, 2023, 07:19:07 - poikilotherm: Please note that such a PID of a person was already part of a compound field before, which is always specific to a dataset
Mon, Jan 30, 2023, 07:19:34 - poikilotherm: Which is why I called it an attribute
Mon, Jan 30, 2023, 07:21:08 - vera_c: Anyhow, I think in this case (the example I gave in my issue https://github.com/IQSS/dataverse/issues/9200) the need for nested compound field only arises because DataCite models the PIDs using two fields (the ID itself and the scheme, e.g. ORCID). If the ID is a simple non-compound field, we don't need nested compound fields, because a simple compound field suffices
Mon, Jan 30, 2023, 07:22:24 - Mark Wilkinson left the room
Mon, Jan 30, 2023, 07:26:11 - poikilotherm: I'm not sure pdurbin and you vera_c are talking about the same thing...?
Mon, Jan 30, 2023, 07:27:39 - poikilotherm: In his example, he showed the pid as a single field, containing the reference, but no type etc. That field is probably orcid only because of Javascript, but not 100% sure about it
Mon, Jan 30, 2023, 07:28:09 - poikilotherm: Doesn't look like a compound field to me...
Mon, Jan 30, 2023, 07:29:16 - poikilotherm: IIRC the author field has two fields for pid type and the pid
Mon, Jan 30, 2023, 07:29:51 - poikilotherm: But is, as you outlined, not a compound on it's own, thus not repeatable
Mon, Jan 30, 2023, 07:31:18 - poikilotherm: So I'm not sure you're on the same page here...? ü§î
Mon, Jan 30, 2023, 07:35:33 - vera_c: It's possible I haven't quite understood pdurbin correctly üòÑ He asked whether the PID field justifies an additional layer of nesting. My reply to that is: It does, if we want to model it like DataCite >=v4.1 does, i.e. as a repeatable compound field consisting of ID and scheme, nested inside the person/org compound field. But if we instead want to model it some other way, we may not require nested compound fields.
Mon, Jan 30, 2023, 08:33:56 - pdurbin: This is why I was suggesting a Zoom call. üòÑ It's complicated! I'm specifically working on using https://api.crossref.org/funders . After I look up the funder, it would be nice to store more than just the string "NSF" or "NIH" (examples from the US government). It would be nice to store the identifier (e.g. http://dx.doi.org/10.13039/100000001 for NSF). Right now the field where people type the "funder" is called "Agency" and it's a subfield of "Funding Information". The watermark is "Organization XYZ" which suggests that you should type "NSF" rather than the NSF's DOI. Here's a screenshot:
Mon, Jan 30, 2023, 08:34:05 - pdurbin sent an image. (Media omitted)
Mon, Jan 30, 2023, 08:40:12 - pdurbin: Oh, and when looking at that screenshot above, please don't be confused (like I was) about what the "Identifier" field is for. It's for the grant number.
Mon, Jan 30, 2023, 08:57:37 - vera_c sent an image. (Media omitted)
Mon, Jan 30, 2023, 08:57:50 - vera_c sent an image. (Media omitted)
Mon, Jan 30, 2023, 08:57:51 - vera_c: I see. Looking at DataCite, they model funding information as a repeatable compound field, but each funder has only 0-1 identifiers (again consisting of ID and scheme), so no need for an additional nesting level.
Mon, Jan 30, 2023, 08:58:33 - vera_c: I would be available for zooming today :)
Mon, Jan 30, 2023, 08:59:49 - pdurbin: vera_c: in case now is a good time: https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09 üòÑ
Mon, Jan 30, 2023, 09:00:17 - vera_c: Sure give me just a min
Mon, Jan 30, 2023, 09:12:04 - jmfc: Good afternoon.
I've been  scouring the user guide for references to the possibility of customizing notification messages.
So far I've found nothing.
Mon, Jan 30, 2023, 09:12:13 - jmfc: Is this a feature that is available in Dataverse?
Mon, Jan 30, 2023, 09:39:34 - pdurbin: jmfc: your colleague zbenta opened this issue recently: https://github.com/IQSS/dataverse/issues/9305
Mon, Jan 30, 2023, 09:42:23 - jmfc: <@pdurbin:matrix.org "jmfc: your colleague zbenta open..."> Thank you for the response pdurbin.
Mon, Jan 30, 2023, 09:43:23 - pdurbin: Does that help? https://github.com/IQSS/dataverse/issues/9220 is related. You can edit your Bundle.properties files a bit.
Mon, Jan 30, 2023, 09:53:13 - pdurbin: When editing those files you the values passed as {0} and {1} and {2} are fixed, though. They come from the backend. But maybe can get creative and use them well. üòÑ
Mon, Jan 30, 2023, 09:53:46 - pdurbin: jmfc: can you please ask zbenta to look at the comment I left on his issue? üòÑ No rush.
Mon, Jan 30, 2023, 09:54:01 - jmfc: <@pdurbin:matrix.org "jmfc: can you please ask zbenta ..."> I'll message him.
Mon, Jan 30, 2023, 09:54:08 - pdurbin: thanks!
Mon, Jan 30, 2023, 09:54:49 - jmfc: üëçÔ∏è
Mon, Jan 30, 2023, 09:59:14 - pdurbin: netcdf5/hdf5/geospatial meeting starting: https://docs.google.com/document/d/1C80sQxdmqi2iYFdfuODDe3GqjBmt-6JZLBGDygekyX8/edit?usp=sharing
Mon, Jan 30, 2023, 10:09:58 - jmfc: <@pdurbin:matrix.org "jmfc: can you please ask zbenta ..."> I've addressed your comment.
Mon, Jan 30, 2023, 10:24:07 - Don Sizemore: @pdurbin knock knock?
Mon, Jan 30, 2023, 11:07:29 - pdurbin: jmfc: thanks!
Mon, Jan 30, 2023, 12:20:57 - pdurbin: Don Sizemore: how does https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/266 grab ya? üòÑ
Mon, Jan 30, 2023, 12:40:00 - Don Sizemore: @pdurbin sounds fine to me. I just subscribed to the repo
Mon, Jan 30, 2023, 12:41:15 - pdurbin: Cool. I guess we could deploy the readme somewhere. üòÑ Or wait until there's actual code. -f is taken. Maybe -u for UI? I dunno. You pick. üòÑ
Mon, Jan 30, 2023, 12:43:12 - Don Sizemore: @pdurbin I had an earlier question related to the GitHub stuff
Mon, Jan 30, 2023, 12:43:29 - Don Sizemore: ^^ GitHub Actions stuff
Mon, Jan 30, 2023, 13:49:21 - pdurbin: Don Sizemore: how can I help? Sorry, was out to lunch ü•™
Mon, Jan 30, 2023, 13:52:34 - Don Sizemore: well, you all are paying for GitHub Actions. the Jenkins server isn't getting any younger, and Jon has always said he wanted the next incarnation of Jenkins to move to Amazon
Mon, Jan 30, 2023, 13:52:56 - Don Sizemore: but I'm thinking I'd rather the Jenkins node and its workers move into GCP (which is cheaper, and more straightforward to manage)
Mon, Jan 30, 2023, 13:53:14 - Don Sizemore: but if you all are paying for GitHub, I'll sit tight, don't need to do anything just yet.
Mon, Jan 30, 2023, 13:55:38 - pdurbin: I don't have a preference for AWS or GCP. Does this come down to a billing question? If so, I'm not the best person to talk to. From what I understand the Dataverse Jenkins runs on our AWS bill.
Mon, Jan 30, 2023, 13:56:17 - pdurbin: captainsifff: hi! I spun up a server with NetCDF/HDF5 extraction, if you'd like to try it out: https://dev1.dataverse.org
Mon, Jan 30, 2023, 13:56:54 - captainsifff: let's see, I'll quickly give it a spin.
Mon, Jan 30, 2023, 14:28:38 - captainsifff: the XML content is now visible from the UI, right?
Mon, Jan 30, 2023, 14:28:50 - pdurbin: yep
Mon, Jan 30, 2023, 14:29:17 - pdurbin: I already uploaded your w2dynamics file.
Mon, Jan 30, 2023, 14:29:23 - captainsifff: the metadata seems to be what you have entered while uploading.
Mon, Jan 30, 2023, 14:29:53 - captainsifff: Yes, I see it. Downloading works, and accessing the XML representation seems to be OK.
Mon, Jan 30, 2023, 14:30:16 - pdurbin: right, the only new feature so far is extracting the NcML file, showing a preview of it, and making it downloadable
Mon, Jan 30, 2023, 14:31:12 - captainsifff: Well which means, you have ncdump properly integrated. Great News, no?
Mon, Jan 30, 2023, 14:31:40 - pdurbin: well, it's a java library pulling out the NcML file, but yes, similar to ncdump
Mon, Jan 30, 2023, 14:32:06 - pdurbin: Dataverse is written in Java so it's easy to add Java libraries.
Mon, Jan 30, 2023, 14:34:47 - pdurbin: So what do you think? Useful feature? What should we do next?
Mon, Jan 30, 2023, 14:40:16 - Don Sizemore: @pdurbin Odum runs the server and the worker nodes; EC2 runs do happen on IQSS' bill, yes.
Mon, Jan 30, 2023, 14:40:39 - pdurbin: Ah, right. That rings a bell.
Mon, Jan 30, 2023, 14:41:11 - Don Sizemore: in any case, standup discussion kind of answered the question I had this morning. long-term I think I'd like to target GCP because it's cheaper compute, particularly for higher ed
Mon, Jan 30, 2023, 14:41:28 - captainsifff: Hmm, since NetCDF has a couple of common predefined fields like .environment and .config one could work on exposing them in the web interface. Another stop would be to try to extract a single observable.
Mon, Jan 30, 2023, 14:44:07 - pdurbin: Wow, let me write this down somewhere. I'll go ahead and make a doc for next week's netcdf/hdf5/geospatial meeting. Done: https://docs.google.com/document/d/1mQObsdPYgmYBzO9YbNfKy6bRytK7fZrK0aHEg6VkXAg/edit?usp=sharing
Mon, Jan 30, 2023, 14:45:59 - captainsifff: I'm not sure how generic it is to extract the observables. this mapping to the axes has to be reconstructed  somehow.
Mon, Jan 30, 2023, 14:46:24 - pdurbin: gotcha
Mon, Jan 30, 2023, 16:31:22 - pdurbin: vera_c: here's an update on the conversation this morning about external controlled vocabularies (funding from crossref especially): https://github.com/IQSS/dataverse/issues/9150#issuecomment-1409369535 . Thanks again for the time!
Tue, Jan 31, 2023, 06:25:54 - ra_min_: Hello, I have problems using the api endpoint for updating dataset metadata of already published datasets. I am testing it with the curl examples giving in the documentation. For the path (shortened) `.../versions/:latest`I am getting: `400, {"status":"ERROR","message":"Only the :draft version can be updated"}`  for the path `.../editMetadata/`  with or without the query parameter `replace=true` I am getting responses with status code 500. I am testing this against demo.dataverse . The upload-file as described is a json file, which contains the key `metadataBlocks`
Tue, Jan 31, 2023, 07:29:03 - pdurbin: ra_min_: huh, that sure sounds like a bug. Can you please create an issue at https://github.com/IQSS/dataverse/issues and attach your JSON file (you'll need to rename it to whatever.json.txt)?
Tue, Jan 31, 2023, 07:39:34 - pdurbin: poikilotherm (CET,UTC+1): I'm enjoying https://codeforthought.buzzsprout.com/1326658/12129577-open-access-open-knowledge
Tue, Jan 31, 2023, 08:01:51 - ra_min_: <@pdurbin:matrix.org "ra_min_: huh, that sure sounds l..."> sure will do. thanks!
Tue, Jan 31, 2023, 08:32:21 - pdurbin: ra_min_: https://github.com/IQSS/dataverse/issues/9348 looks great but could you please attach the JSON file?
Tue, Jan 31, 2023, 12:27:06 - pdurbin: I looks like qqmyers left a comment also asking for the JSON file. üòÑ No rush. When you have time. Thanks!
Tue, Jan 31, 2023, 14:45:01 - pdurbin: carlsonp poikilotherm (CET,UTC+1) do you want to talk Docker for dev in 15 minutes?
Tue, Jan 31, 2023, 14:45:27 - pdurbin: We always pick our topics for tech hours last minute. Sorry!
Tue, Jan 31, 2023, 14:49:55 - carlsonp: sure, I haven't made any progress since we last met though sorry
Tue, Jan 31, 2023, 14:50:02 - carlsonp: work has been busy
Tue, Jan 31, 2023, 14:51:41 - poikilotherm: Ha!
Tue, Jan 31, 2023, 14:51:45 - poikilotherm: Same here
Tue, Jan 31, 2023, 14:51:59 - poikilotherm: Busy lad doing lots of other things last week
Tue, Jan 31, 2023, 14:52:19 - poikilotherm: But I am always open to talk about containers
Tue, Jan 31, 2023, 14:53:49 - carlsonp: might be good to have a bit of discussion on whether the supporting services (rserve, etc.) should be included as custom containers or not
Tue, Jan 31, 2023, 14:56:27 - carlsonp: also got a demo of Cyverse the other day, https://cyverse.org/, would be interested in folks thoughts on that
Tue, Jan 31, 2023, 15:00:32 - pdurbin: Great! Here you go: https://harvard.zoom.us/j/97282234020 Thanks! ‚ù§Ô∏è
Tue, Jan 31, 2023, 15:50:16 - pdurbin: well that was fun üòÑ
Tue, Jan 31, 2023, 15:58:05 - poikilotherm: You have an interesting definition of "fun", Sir :-D
Tue, Jan 31, 2023, 15:59:46 - pdurbin: We finally have a develop who wants to run Docker! üéâ
Tue, Jan 31, 2023, 16:00:34 - pdurbin: If I didn't emphasize this enough, I think the dev story should be the focus for now. Let that be the MVP. Something usable. Take on technical debt if we have to.
Tue, Jan 31, 2023, 16:01:19 - carlsonp: yeah I agree, we had a similar conversation the other day of "how much should be hacked in now"
Tue, Jan 31, 2023, 16:02:20 - pdurbin: If it's of interest, docker-compose-cypressdev.yml is the file that was demoed. From https://github.com/opendp/dpcreator
Tue, Jan 31, 2023, 16:03:58 - pdurbin: And here's the script they run inside the container to set a few things up (populate the database, etc.): https://github.com/opendp/dpcreator/blob/v0.7.0-beta/server/migrate.sh
Tue, Jan 31, 2023, 16:04:34 - pdurbin: Anyway, I'm fine with a script like that to set the DOI provider to FAKE or whatever.
Tue, Jan 31, 2023, 16:05:01 - carlsonp: yeah that's kinda what I did with the `startup.sh` in that docker-compose PR
Tue, Jan 31, 2023, 16:07:43 - pdurbin: Makes sense. Right now we configure a lot of stuff via API. (Better than having to configure it in a GUI at least! üòÖ)
Tue, Jan 31, 2023, 18:14:04 - carlsonp: poikilotherm (CET,UTC+1): I'm pretty busy lately with work and moving but if you want to find some more time next week to continue looking at containers or even just some time to have me watch you code as you talk through it, let me know.  Always a good learning experience for me. :)
Tue, Jan 31, 2023, 18:14:51 - poikilotherm: Ha I'm doing containers ATM with Testcontainers + Payara + Arquillian to add integration tests for mail config
Tue, Jan 31, 2023, 18:15:21 - carlsonp: oh sweet, you got "inspired" from the meeting? ;)
Tue, Jan 31, 2023, 18:16:06 - poikilotherm: Kind of. Is on my list for a while anyway. Played with Wildfly before https://github.com/hantsy/arquillian-autodeployment-example/pull/1
Tue, Jan 31, 2023, 18:17:53 - carlsonp: neat, well just let me know, good luck
Tue, Jan 31, 2023, 18:51:11 - poikilotherm: *sigh* Looks like no Arquillian in the near future if no miracles happen... https://github.com/payara/ecosystem-support/issues/66
Wed, Feb 1, 2023, 03:54:54 - dszabo joined the room
Wed, Feb 1, 2023, 03:55:05 - dszabo: Hello there :)
Wed, Feb 1, 2023, 05:21:49 - poikilotherm: dszabo: hello there!
Wed, Feb 1, 2023, 06:02:51 - jmfc: Good morning.
I was wondering if there is any sort of media package for the Dataverse Project logos.
Wed, Feb 1, 2023, 06:03:03 - jmfc: We've been tinkering with our installation's front page
Wed, Feb 1, 2023, 06:04:17 - jmfc: Dataverse's orange logo is not ideal on a black background. So if there was to exist a media package featuring an all white logo we'd be golden :)
Wed, Feb 1, 2023, 06:38:37 - poikilotherm: Hi @jmfc there is no such thing as an official media package
Wed, Feb 1, 2023, 06:38:52 - poikilotherm: There is a SVG file with the logo in the codebase
Wed, Feb 1, 2023, 06:38:58 - jmfc: Thank you for the clarification.
Wed, Feb 1, 2023, 06:39:21 - jmfc: <@oliver:bertuch.name "There is a SVG file with the log..."> Am I free to edit its colours?
Wed, Feb 1, 2023, 06:39:58 - poikilotherm: https://github.com/IQSS/dataverse/blob/develop/src/main/webapp/resources/images/dataverse_project_logo.svg
Wed, Feb 1, 2023, 06:40:28 - poikilotherm: Haha probably not, because it's a trademark... But I'm not sure. pdurbin do you know more about the license for that file?
Wed, Feb 1, 2023, 06:51:17 - jmfc: <@oliver:bertuch.name "Haha probably not, because it's ..."> I was under that impression as well üôÇ That's why I asked first before I made some silly mistake 
Wed, Feb 1, 2023, 07:47:27 - pdurbin: You know, recently I created a page at https://dataverse.org/trademark because I think this stuff is important but it's blank. I haven't had a chance to get people excited to talk about it.
Wed, Feb 1, 2023, 07:48:56 - pdurbin: Here's the logo with a different color: https://twitter.com/DANS_knaw_nwo/status/831824618348539904
Wed, Feb 1, 2023, 08:42:50 - pdurbin: jmfc: if you want to go ahead and create an issue about a media package, please feel free
Wed, Feb 1, 2023, 08:47:17 - pdurbin: Do other open source projects have this?
Wed, Feb 1, 2023, 08:56:32 - jmfc: <@pdurbin:matrix.org "jmfc: if you want to go ahead an..."> I can create it.
Wed, Feb 1, 2023, 08:56:51 - jmfc: But if you give me permission I'd like to create a white version of the Dataverse logo. 
Wed, Feb 1, 2023, 08:57:06 - jmfc: I'll make the svg available to add to the github repository
Wed, Feb 1, 2023, 08:57:16 - jmfc: that way it can also be 'officially' used
Wed, Feb 1, 2023, 08:57:46 - pdurbin: I'm just a developer üòÖ
Wed, Feb 1, 2023, 08:57:55 - pdurbin: That sounds above my pay grade.
Wed, Feb 1, 2023, 08:58:30 - jmfc: <@pdurbin:matrix.org "That sounds above my pay grade."> Then to whom should I write :D
Wed, Feb 1, 2023, 08:58:53 - jmfc: Anyway, I'll proceed with the creation of the issue
Wed, Feb 1, 2023, 08:59:05 - pdurbin: I mean, my daughter and I hacked on the logo a bit for the chat animals drawing at https://chat.dataverse.org . We made the text darker for "The" and "Project" to make it contrast better.
Wed, Feb 1, 2023, 08:59:35 - pdurbin: I think it's two issues:
Wed, Feb 1, 2023, 08:59:54 - pdurbin: - can you provide a media package?
Wed, Feb 1, 2023, 09:00:15 - pdurbin: - can you provide guidance on making changes to your logo?
Wed, Feb 1, 2023, 09:00:17 - pdurbin: right?
Wed, Feb 1, 2023, 09:00:28 - jmfc: Right :)
Wed, Feb 1, 2023, 09:00:31 - jmfc: I'll get to work
Wed, Feb 1, 2023, 09:00:38 - pdurbin: Is there a good model to follow? Other projects?
Wed, Feb 1, 2023, 09:00:38 - jmfc: Thanks for the clarification pdurbin 
Wed, Feb 1, 2023, 09:01:08 - pdurbin: what about this one as a model? https://www.edx.org/trademarks
Wed, Feb 1, 2023, 09:01:20 - pdurbin: (they're local, out of MIT, and I know one of the developers)
Wed, Feb 1, 2023, 09:02:06 - jmfc: Perfect example
Wed, Feb 1, 2023, 09:02:34 - pdurbin: "Do not abbreviate, hyphenate, create acronyms; change the spelling, capitalization, or appearance; add or delete any words or spacing; change any color or proportion; or otherwise modify the logo or design of an edX Mark in any way. Only use an approved logo rendition as provided by edX."
Wed, Feb 1, 2023, 09:02:50 - pdurbin: Are you sure you like that example? üòÑ ^^
Wed, Feb 1, 2023, 09:14:23 - jmfc: If Dataverse provides the logos :D
Wed, Feb 1, 2023, 09:14:25 - jmfc: I'm fine
Wed, Feb 1, 2023, 09:14:46 - pdurbin: You're fine with not modifying them?
Wed, Feb 1, 2023, 09:14:59 - jmfc: This all stems from a desire to have a more appealing logo to have on a black background
Wed, Feb 1, 2023, 09:15:01 - pdurbin: Oh, you want a white version.
Wed, Feb 1, 2023, 09:15:26 - jmfc: So I'm guessing that would be a use case that someone designing logos would consider
Wed, Feb 1, 2023, 09:15:26 - pdurbin: You're happy to create a white version. Or you're happy for someone at IQSS to create one. I think I get it.
Wed, Feb 1, 2023, 09:15:27 - jmfc: :D
Wed, Feb 1, 2023, 09:34:29 - jmfc: Both issues created pdurbin. Thank you for all the help.
Wed, Feb 1, 2023, 09:35:32 - pdurbin: jmfc: looks great! Thanks!!
Wed, Feb 1, 2023, 09:48:48 - pdurbin: carlsonp poikilotherm (CET,UTC+1) I'm talking to Guillermo Portas about Docker for dev
Wed, Feb 1, 2023, 09:51:00 - poikilotherm: Oha!
Wed, Feb 1, 2023, 09:56:07 - pdurbin: poikilotherm (CET,UTC+1): we're talking in the new frontend channel in Slack. As a full core developer I think you should be able to join any channel you want (it's public). Maybe you could ask Mike or Stefano about this?
Wed, Feb 1, 2023, 09:56:22 - pdurbin: Anyway, I'm saying the hacky script we might add at the end would:
Wed, Feb 1, 2023, 09:56:31 - pdurbin: - set the DOI provider to FAKE
Wed, Feb 1, 2023, 09:56:35 - pdurbin: - configure SMTP
Wed, Feb 1, 2023, 09:56:54 - pdurbin: - something with configuring file stores?
Wed, Feb 1, 2023, 09:56:58 - pdurbin: Does that sound about right?
Wed, Feb 1, 2023, 09:57:40 - poikilotherm: Not sure right now - hard to context switch right now. Can I come back later?
Wed, Feb 1, 2023, 09:57:53 - pdurbin: absolutely!
Wed, Feb 1, 2023, 09:58:03 - pdurbin: just letting you know that the beat goes on!
Wed, Feb 1, 2023, 09:58:55 - pdurbin: Anyway, this is the thread: https://iqss.slack.com/archives/C04MJ76A34Z/p1675262468960469
Wed, Feb 1, 2023, 09:59:53 - pdurbin: carlsonp: I'm sorry so much discussion and decision making happens behind closed doors in Slack. It's not my preferred way to do open source! http://blog.greptilian.com/2020/01/25/slopi-communication/
Wed, Feb 1, 2023, 10:13:40 - poikilotherm: That looks promising.
Wed, Feb 1, 2023, 10:13:43 - poikilotherm sent an image. (Media omitted)
Wed, Feb 1, 2023, 10:13:59 - pdurbin: mmm, compliant
Wed, Feb 1, 2023, 10:14:08 - pdurbin: delicious
Wed, Feb 1, 2023, 10:39:21 - poikilotherm: Is https://shields.io/ down for y'all, too?
Wed, Feb 1, 2023, 10:39:36 - pdurbin: nope
Wed, Feb 1, 2023, 10:39:55 - poikilotherm: ü•¥
Wed, Feb 1, 2023, 10:40:05 - poikilotherm: Great. I blame Cloudflare
Wed, Feb 1, 2023, 10:40:51 - poikilotherm: I want a shield for the TCK complance...
Wed, Feb 1, 2023, 10:41:44 - pdurbin: wow, it worked, finally got around to figuring out the shortcut for reactions: https://github.com/matrix-org/matrix-react-sdk/pull/5425
Wed, Feb 1, 2023, 10:44:18 - poikilotherm: Ah shields.io is back online for me
Wed, Feb 1, 2023, 10:44:38 - poikilotherm: Noooooooooooo. Only the start page is back
Wed, Feb 1, 2023, 10:54:11 - pdurbin: I opened an issue: https://github.com/vector-im/element-web/issues/24398
Wed, Feb 1, 2023, 11:09:47 - poikilotherm: I just updated the README of XOAI with this:
Wed, Feb 1, 2023, 11:09:48 - poikilotherm: Message deleted
Wed, Feb 1, 2023, 11:10:00 - poikilotherm sent an image. (Media omitted)
Wed, Feb 1, 2023, 11:10:39 - poikilotherm: If someone wants to see Spring Boot and Testcontainers for building a TCK in action, here you are: https://github.com/gdcc/xoai/tree/branch-5.0/xoai-data-provider-tck
Wed, Feb 1, 2023, 11:11:41 - pdurbin: poikilotherm (CET,UTC+1): we're talking modularity if you want to join
Wed, Feb 1, 2023, 11:12:44 - poikilotherm: On my way
Wed, Feb 1, 2023, 11:13:05 - poikilotherm: I got another 2 minutes :-D
Wed, Feb 1, 2023, 12:15:01 - pdurbin: not when we end standup early, sorry! üòÖ
Wed, Feb 1, 2023, 12:15:40 - pdurbin: we're so efficient now it's like the Germans are rubbing off on us ü§ñ
Wed, Feb 1, 2023, 12:16:19 - pdurbin: that xoai check is very cool üéâ
Wed, Feb 1, 2023, 12:35:53 - pdurbin: carlsonp poikilotherm (CET,UTC+1) please see https://github.com/IQSS/dataverse/issues/9353
Wed, Feb 1, 2023, 12:38:32 - poikilotherm: Editing the description to include more backlinks to related stuff
Wed, Feb 1, 2023, 13:00:11 - pdurbin: ditto
Wed, Feb 1, 2023, 14:38:13 - pdurbin: Jan Range: I just added link to your React modularity stuff to https://docs.google.com/document/d/1bXzV-cBBYTs5j8bzhdNpKBVfo29qulxue3WAn3Uzvos/edit?usp=sharing (as a comment near the end under "modularity with an SPA arch")
Thu, Feb 2, 2023, 07:32:57 - pdurbin: poikilotherm (CET,UTC+1): I ended up buying an M2 MacBook Air (for home, to follow up on the hardware discussion). Hopefully the mic is good enough for a podcast. üòÑ
Thu, Feb 2, 2023, 07:43:01 - poikilotherm: Look at you buying some priced stuff! Hope it's built to last...
Thu, Feb 2, 2023, 08:13:32 - pdurbin: well, my old linux laptop is 12 years old, and it was junk, I hope this works out
Thu, Feb 2, 2023, 09:17:39 - pdurbin: not Linux's fault, it was a ThinkPad
Thu, Feb 2, 2023, 09:21:06 - pdurbin: poikilotherm (CET,UTC+1): did you mean Jan? "Maybe this is important (because I knew that I did run a lot of CI in Feb already but counter is still at 0):" https://github.com/IQSS/dataverse/issues/9355#issuecomment-1413646456
Thu, Feb 2, 2023, 09:23:10 - pdurbin: Don Sizemore: I like https://github.com/IQSS/dataverse/issues/9357 but can we build it in React instead of JSF? üòÖ
Thu, Feb 2, 2023, 09:23:35 - Don Sizemore: pdurbin: sounds good to me.
Thu, Feb 2, 2023, 09:24:05 - pdurbin: awesome, thanks
Thu, Feb 2, 2023, 09:28:04 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): did yo..."> Nope I meant you - you posted the blog post and the report from GDCC/IQSS orgs
Thu, Feb 2, 2023, 09:44:29 - pdurbin: ok, I understand now, thanks
Thu, Feb 2, 2023, 09:45:21 - pdurbin: poikilotherm (CET,UTC+1): do you want to set up that "GitHub Actions Usage Audit" thing I found? Make a PR I mean.
Thu, Feb 2, 2023, 09:56:42 - poikilotherm: Where would a good place to have it?
Thu, Feb 2, 2023, 09:56:54 - pdurbin: carlsonp: morning. Did you see the new Docker issue I mentioned yesterday? üòÑ
Thu, Feb 2, 2023, 09:56:54 - poikilotherm: It doesn't need to be in the main dataverse repo
Thu, Feb 2, 2023, 09:57:15 - poikilotherm: (Hacking on https://github.com/payara/ecosystem-support/issues/66 ATM)
Thu, Feb 2, 2023, 10:00:37 - pdurbin: poikilotherm (CET,UTC+1): oh, I guess the main "dataverse" repo. I'm tempted to put it in https://github.com/IQSS/iqss-metrics-backend (or create a new repo) but let's just keep in in our home repo for now. Thanks!
Thu, Feb 2, 2023, 10:01:03 - pdurbin: carlsonp: here's a handy link: https://github.com/IQSS/dataverse/issues/9353 üòÑ
Thu, Feb 2, 2023, 10:01:20 - pdurbin: What I'm wondering is... should we edit the description of your PR to close that issue?
Thu, Feb 2, 2023, 10:01:44 - pdurbin: And can we hack on your PR enough to push it through the sausage factory (even with some tech debt).
Thu, Feb 2, 2023, 10:01:56 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): oh, I ..."> Not sure that's a good idea. Everyone syncing from develop etc would get it. Also we could make sure to only run it in our repo, just like we did for base container
Thu, Feb 2, 2023, 10:02:20 - carlsonp: is that a question for me and the `docker-compose` PR?
Thu, Feb 2, 2023, 10:02:46 - pdurbin: poikilotherm (CET,UTC+1): I see. It'll run too often? Is a dedicated repo better? And put it on a schedule to run once a week or whatever?
Thu, Feb 2, 2023, 10:03:35 - pdurbin: carlsonp: yes, sorry. I'm suggesting we push your PR through and worry about making it prod ready later. Have it target devs only for now.
Thu, Feb 2, 2023, 10:04:00 - poikilotherm: Haha! Success with GDCC base image, Arquillian and Testcontainers! Got a working integration test for mail session creation! Muahahahahaha
Thu, Feb 2, 2023, 10:04:21 - carlsonp: we could, it's definitely not a god long term solution though
Thu, Feb 2, 2023, 10:04:30 - pdurbin: certainly not
Thu, Feb 2, 2023, 10:04:41 - carlsonp: poikilotherm (CET,UTC+1): what do you think?
Thu, Feb 2, 2023, 10:04:49 - pdurbin: but we have a couple frontend devs that could use Docker real soon üòÑ
Thu, Feb 2, 2023, 10:06:31 - poikilotherm: Not sure. I am really reluctant to "just do it" because in the past I've experienced people not using things after having a bad experience once.
Thu, Feb 2, 2023, 10:07:25 - poikilotherm: I do have some stuff lying here to add some magic to the app container
Thu, Feb 2, 2023, 10:07:29 - pdurbin: Do you think these frontend devs will have a good experience installing Java, Payara, Postgres, and Solr on their laptops? üòÑ
Thu, Feb 2, 2023, 10:07:38 - carlsonp: poikilotherm (CET,UTC+1): how quickly do you think we could do the solr config stuff and put together a deployed dataverse container built off the base?
Thu, Feb 2, 2023, 10:08:08 - poikilotherm: Well if we do a hackathon of maybe 2 days, we probably would have it done
Thu, Feb 2, 2023, 10:08:50 - poikilotherm: How about you two come here and we do the hacking? üòù
Thu, Feb 2, 2023, 10:08:54 - carlsonp: I'm open to that, I'm definitely not as technically savvy as you so I'll definitely be leaning on you for coding :)
Thu, Feb 2, 2023, 10:09:00 - pdurbin: and if we get that issue above in a sprint folks at IQSS can help
Thu, Feb 2, 2023, 10:09:19 - pdurbin: not that we know Docker all that well üòÖ
Thu, Feb 2, 2023, 10:10:19 - pdurbin: Are you both familiar with how we size things? 10 is 7 hours or 1 day. What would we give it in terms of IQSS time, including review and QA and hopefully some dev.
Thu, Feb 2, 2023, 10:10:23 - carlsonp: as long as someone picks up the tab I'm down to travel to Europe :D
Thu, Feb 2, 2023, 10:10:44 - pdurbin: I hope we all get to meet up in Portugal for #dataverse2023
Thu, Feb 2, 2023, 10:11:08 - poikilotherm: We should do a hackathon on the 4th maybe
Thu, Feb 2, 2023, 10:11:32 - poikilotherm: Or a workshop
Thu, Feb 2, 2023, 10:11:37 - poikilotherm: (The sunday)
Thu, Feb 2, 2023, 10:13:21 - carlsonp: the downside with the docker-compose PR I put in is it builds the .war inside the docker container, are they hacking on the Java or they just need an API to hit?
Thu, Feb 2, 2023, 10:14:26 - poikilotherm: Kind of both
Thu, Feb 2, 2023, 10:14:39 - poikilotherm: At least Guillermo Portas does both
Thu, Feb 2, 2023, 10:15:05 - poikilotherm: Not sure about his colleague (sorry, don't recall her name ATM)
Thu, Feb 2, 2023, 10:15:59 - pdurbin: I think for now it's fine to build the war file inside the container. We should check with Ellen and Melina but I think the idea is that they won't necessarily be hacking on the Java code.
Thu, Feb 2, 2023, 10:16:36 - carlsonp: as for your sizing question, I'm not sure, I'd defer to poikilotherm (CET,UTC+1) 
Thu, Feb 2, 2023, 10:19:03 - pdurbin: but yeah, they just need Dataverse APIs to hit, to hack on React code
Thu, Feb 2, 2023, 10:19:12 - pdurbin: that's the primary use case at least
Thu, Feb 2, 2023, 10:20:14 - poikilotherm: <@pdurbin:matrix.org "I think for now it's fine to bui..."> I do have the necessary bits here to do it properly via Docker Maven Plugin
Thu, Feb 2, 2023, 10:20:42 - poikilotherm: I also have the magic sauce for the mail stuff and the env vars to sys prop things
Thu, Feb 2, 2023, 10:20:58 - poikilotherm: I think I pushed this somewhere, too
Thu, Feb 2, 2023, 10:21:20 - poikilotherm: What we would need is a script that triggers the bootstrapping and setting some database settings
Thu, Feb 2, 2023, 10:21:28 - poikilotherm: Just like their migrate.sh script
Thu, Feb 2, 2023, 10:21:37 - poikilotherm: This would be a hack, but sounds acceptable
Thu, Feb 2, 2023, 10:21:42 - carlsonp: poikilotherm (CET,UTC+1): what if we started on hacking on the existing `docker-compose` PR and got that at least running in a usable state with *some* of the newer stuff and then we can turn our attention to solr and the other items to make it better?
Thu, Feb 2, 2023, 10:22:23 - poikilotherm: It will require adapting the scripting of setup-all.sh and related, though, as we are not connecting to Dataverse from localhost directly but via network
Thu, Feb 2, 2023, 10:24:22 - carlsonp: right, would that be a "happy medium" sort of "middle of the road" point?
Thu, Feb 2, 2023, 10:24:50 - pdurbin: a bootstrapping script sounds a bit like my dev-rebuild script, which I use all the time: https://github.com/IQSS/dataverse/blob/v5.12.1/scripts/dev/dev-rebuild.sh
Thu, Feb 2, 2023, 10:25:18 - pdurbin: includes setting up the FAKE DOI provider, etc.
Thu, Feb 2, 2023, 10:26:20 - pdurbin: So what is the question to ask Ellen and Melina? poikilotherm (CET,UTC+1) do you want to ask them in the thread? https://iqss.slack.com/archives/C04MJ76A34Z/p1675262468960469
Thu, Feb 2, 2023, 10:26:34 - pdurbin: Or I can but I don't want to ask it wrong. üòÖ
Thu, Feb 2, 2023, 10:27:38 - poikilotherm: <@pdurbin:matrix.org "So what is the question to ask E..."> I'm not sure I have access to that message?
Thu, Feb 2, 2023, 10:28:02 - pdurbin: Oh, right. Can you please ask Mike for access? I have no control over Slack.
Thu, Feb 2, 2023, 10:28:32 - poikilotherm: What channel is that?
Thu, Feb 2, 2023, 10:28:42 - pdurbin: it has a long name
Thu, Feb 2, 2023, 10:28:56 - pdurbin: #dv-rearchitecture-frontend 
Thu, Feb 2, 2023, 10:36:54 - poikilotherm: <@pdurbin:matrix.org "Oh, right. Can you please ask Mi..."> Done
Thu, Feb 2, 2023, 10:37:05 - pdurbin: thanks!
Thu, Feb 2, 2023, 10:37:13 - poikilotherm: Also done: https://github.com/payara/ecosystem-arquillian-connectors/pull/214
Thu, Feb 2, 2023, 10:37:45 - pdurbin: nice, gave it a üéâ
Thu, Feb 2, 2023, 10:37:59 - pdurbin: Gustavo is also a Slack admin, by the way
Thu, Feb 2, 2023, 10:42:08 - poikilotherm: Hi aialves - how may we be of assistance?
Thu, Feb 2, 2023, 10:42:38 - aialves: Good afternoon. I am installing dataverse in a new server. I installed all prerequisites but when I try too install dataverse I get the fllowing error: Command login executed successfully.
Note: some asadmin commands will fail, and that's ok. Existing settings can't be created; new settings can't be cleared beforehand.
running app. server configuration script (as-setup.sh)
Traceback (most recent call last):
  File "/tmp/dvinstall/./install.py", line 486, in <module>
    if not runAsadminScript(config):
  File "/tmp/dvinstall/installAppServer.py", line 48, in runAsadminScript
    returncode = subprocess.call(["./as-setup.sh"])
  File "/usr/lib64/python3.9/subprocess.py", line 349, in call
    with Popen(*popenargs, **kwargs) as p:
  File "/usr/lib64/python3.9/subprocess.py", line 951, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
  File "/usr/lib64/python3.9/subprocess.py", line 1821, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
PermissionError: [Errno 13] Permission denied: './as-setup.sh'

Thu, Feb 2, 2023, 10:43:25 - aialves: Can you help me. I do not know what is the problem. I am trying to install dataverse with the command: python install.py
Thu, Feb 2, 2023, 10:44:00 - poikilotherm: On what platform are you doing this? Can you verify that `as-setup.sh` has the execution permission set? (sth like `ls -laZ as-setup.sh`)
Thu, Feb 2, 2023, 10:44:18 - aialves: centos 9
Thu, Feb 2, 2023, 10:45:49 - poikilotherm: <@aialves:matrix.org "Can you help me. I do not know w..."> Ah that might be a problem... The installer uses Python internally, but you still "just" call a shell script. Please see the docs: https://guides.dataverse.org/en/latest/installation/installation-main.html#running-the-dataverse-software-installer
Thu, Feb 2, 2023, 10:46:18 - poikilotherm: Yes, this is suboptimal, but well...
Thu, Feb 2, 2023, 10:46:41 - poikilotherm: pdurbin Don Sizemore maybe one day we can provide Dataverse as an installable RPM (and just bundle Payara with it)
Thu, Feb 2, 2023, 10:48:55 - pdurbin: People have asked from an RPM for at least 10 years. üòÑ
Thu, Feb 2, 2023, 10:49:17 - pdurbin: Vyacheslav Tikhonov once asked for a VMWare image, before Docker existed.
Thu, Feb 2, 2023, 10:49:27 - poikilotherm: pdurbin: there is https://github.com/crohr/pkgr
Thu, Feb 2, 2023, 10:50:00 - poikilotherm: And of course these days people love flatpaks. But maybe not on a server ü§≠
Thu, Feb 2, 2023, 10:51:30 - pdurbin: aialves: that "permission denied" error is strange
Thu, Feb 2, 2023, 10:53:03 - pdurbin: Is this version 5.12.1? (the latest)
Thu, Feb 2, 2023, 10:55:58 - aialves: yes, it is
Thu, Feb 2, 2023, 10:57:07 - pdurbin: and is as-setup.sh executable?
Thu, Feb 2, 2023, 10:57:18 - pdurbin: you can check with `ls -l` like poikilotherm (CET,UTC+1) said
Thu, Feb 2, 2023, 10:58:12 - poikilotherm: Don't forget "Z" - SELinux might punch you in your face for some reason
Thu, Feb 2, 2023, 10:58:35 - pdurbin: ah, right
Thu, Feb 2, 2023, 10:58:59 - poikilotherm: Folks, I'm heading out for today. Need to help a friend setting up kitchen in new flat
Thu, Feb 2, 2023, 10:59:04 - pdurbin: aialves: you could run `getenforce` to see if selinux is enforcing or not
Thu, Feb 2, 2023, 11:09:10 - aialves: Sorry, I though I had confirmed as-setup.sh permissions. This file was not executable..... Sorry and thank you for your precious help. 
Thu, Feb 2, 2023, 11:16:21 - pdurbin: aialves: no worries. Not your fault. I'll download and check dvinstall.zip when I'm out of the meeting I'm in.
Thu, Feb 2, 2023, 11:24:42 - pdurbin: just checked. I unzipped it and the script is executable:
```
-rwxr-xr-x  1 pdurbin  wheel  10537 Nov  8 08:20 dvinstall/as-setup.sh
```
Thu, Feb 2, 2023, 11:25:12 - pdurbin: aialves: can you think of any reason why on your system the script wasn't executable?
Thu, Feb 2, 2023, 11:28:02 - aialves: I unzipped the file in windows and transfered the folder by SFTP. Do you want me to reply the task in order to find out what happened?
Thu, Feb 2, 2023, 11:28:52 - pdurbin: ah, interesting
Thu, Feb 2, 2023, 11:29:08 - pdurbin: makes sense, I think
Thu, Feb 2, 2023, 11:29:30 - pdurbin: I would recommend unzipping the zip on the centos server, to preserve permissions (executable, etc.)
Thu, Feb 2, 2023, 11:29:58 - pdurbin: There are a lot of other scripts that get called. So now I'm worried you'll need to make those executable too. üòÖ
Thu, Feb 2, 2023, 11:30:19 - aialves: yes, I will do it. Thank you.
Thu, Feb 2, 2023, 11:30:32 - pdurbin: awesome
Fri, Feb 3, 2023, 08:53:37 - Don Sizemore: @pdurbin knock knock? (you thawed out this morning?)
Fri, Feb 3, 2023, 08:54:22 - pdurbin: Phew! Just walked my daughter to school and tanked up again warm coffee. What can I do for you, my good man?
Fri, Feb 3, 2023, 08:55:02 - Don Sizemore: I would truly hibernate all winter if I could. Just saw dude closed #4707 and wondering if he tried https://stackoverflow.com/questions/48331858/glassfish-4-1-configure-http-https-proxy
Fri, Feb 3, 2023, 08:55:34 - Don Sizemore: This is of interest to me because we have two "sensitive data" Dataverse instances at UNC which are in egress-restricted network space but will need to call out to DocuSign
Fri, Feb 3, 2023, 08:56:18 - Don Sizemore: I don't suppose I'm asking for anything other than any further thoughts you may have on the matter.
Fri, Feb 3, 2023, 08:57:46 - pdurbin: Well, with regard to people closing their own issues, I encourage it. If someone else wants this, they can create a new issue (and we can try to reference the old one.)
Fri, Feb 3, 2023, 08:59:22 - pdurbin: No installation has that issue on their board either. So I'd say it's of low interest overall. What's the timing of your DocuSign use case?
Fri, Feb 3, 2023, 08:59:44 - Don Sizemore: dunno. if it requires modification to Dataverse we'll likely run on a fork.
Fri, Feb 3, 2023, 09:00:23 - pdurbin: if you modify Dataverse, you're only a button click away from making a pull request üòÑ
Fri, Feb 3, 2023, 09:00:46 - Don Sizemore: we have Akio, Matthew and Jim so one way or another we'll make it work. out-of-the-box support for https_proxy support in Payara doesn't look too promising...
Fri, Feb 3, 2023, 09:02:41 - pdurbin: it would be a lot of work, but there are other Jakarta EE application servers: Wildfly, Liberty, TomEE
Fri, Feb 3, 2023, 09:03:19 - Don Sizemore: it's also self-defeating... the entire point of restricting egress is to prevent the web application from calling out, and...
Fri, Feb 3, 2023, 09:03:41 - pdurbin: right üòÑ
Fri, Feb 3, 2023, 09:04:09 - pdurbin: but I guess it's more controlled, more specific, better than nothing
Fri, Feb 3, 2023, 09:07:29 - poikilotherm: Don Sizemore: how about iptables TPROXY?
Fri, Feb 3, 2023, 09:08:57 - Don Sizemore: poikilotherm (CET,UTC+1): that's an excellent suggestion. I may try that if Payara ignores https_proxy jvm-options.
Fri, Feb 3, 2023, 09:10:17 - poikilotherm: I'm sure it involves drilling holes into the HTTPS connection by issuing a wildcard cert and might not be easy to make the JRE accept it, but it might be doable. At least it is for certain, known endpoints only.
Fri, Feb 3, 2023, 09:10:44 - poikilotherm: And these days SNI is pretty much standard, so probably it's already easier than a few years back
Fri, Feb 3, 2023, 09:10:53 - Don Sizemore: we'll also have Shibboleth behind Apache behind an AWS NLB
Fri, Feb 3, 2023, 11:42:08 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Hello there :) I'm trying to push on github but I got  : ERROR: Permission to IQSS/dataverse.git denied to luddaniel.
Documentation suggests that I need to be added as collaborator on the repository. May I have some help gentlemen ?
Fri, Feb 3, 2023, 12:00:10 - pdurbin: luddaniel: oh, hi! Well, usually we ask people to push to their fork. Can you please try that and make a pull request from your fork? And if you could point me toward the confusing documentation, I'd be happy to take a look. Thanks for working on a pull request! üéâ
Fri, Feb 3, 2023, 12:01:28 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): thanks for the reply, I guess I missed the part where I need to work on my personnal repository...
Fri, Feb 3, 2023, 12:26:28 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): First time forking a github project ^^ it is gone ! https://github.com/IQSS/dataverse/pull/9367 really nothing but it will be a start.
Fri, Feb 3, 2023, 12:26:41 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Have a good weekend everyone.
Fri, Feb 3, 2023, 13:07:12 - poikilotherm: Don Sizemore: quick Q?
Fri, Feb 3, 2023, 13:12:12 - Don Sizemore: poikilotherm (CET,UTC+1): yes sir! (also, Matthew now says Dataverse doesn't need to call out over https_proxy)
Fri, Feb 3, 2023, 13:12:43 - poikilotherm: Here comes
Fri, Feb 3, 2023, 13:12:52 - poikilotherm: When running API tests on Jenkins
Fri, Feb 3, 2023, 13:13:19 - poikilotherm: Are the test classes executed on the same maschine as the application itself?
Fri, Feb 3, 2023, 13:13:43 - poikilotherm: Meaning, a test class could manipulate files within Payara's local filesystem?
Fri, Feb 3, 2023, 13:14:27 - Don Sizemore: yes
Fri, Feb 3, 2023, 13:14:51 - Don Sizemore: it all happens in a temporal EC2 instance
Fri, Feb 3, 2023, 13:15:20 - poikilotherm: Great
Fri, Feb 3, 2023, 13:15:26 - poikilotherm: Thx
Fri, Feb 3, 2023, 13:15:56 - poikilotherm: Asking because pdurbin wants a way to set JvmSettings during API tests
Fri, Feb 3, 2023, 13:22:02 - Don Sizemore: won't you have to restart Payara to apply jvm-options?
Fri, Feb 3, 2023, 13:22:16 - Don Sizemore:  (or are JvmSettings handled on the fly?)
Fri, Feb 3, 2023, 13:22:58 - poikilotherm: Nope. Not when using mpconfig
Fri, Feb 3, 2023, 13:23:23 - poikilotherm: I mean - if you're using the right sources that is
Fri, Feb 3, 2023, 13:23:39 - poikilotherm: Like directory source or database etc
Fri, Feb 3, 2023, 13:24:18 - poikilotherm: The non easy problem is a potential redeployment for components initialized only once
Fri, Feb 3, 2023, 13:24:45 - poikilotherm: There is no mechanism for this in Dataverse because these things were always seen as static
Fri, Feb 3, 2023, 13:25:29 - poikilotherm: Also one of the reasons why dB settings are so popular
Fri, Feb 3, 2023, 13:25:56 - Don Sizemore: no wonder you've been pushing for it
Fri, Feb 3, 2023, 13:26:15 - poikilotherm: I'm thinking if there is value in adding a reload mechanism for dataverse 
Fri, Feb 3, 2023, 13:26:28 - poikilotherm: Like you reload apache or nginx after a config change
Fri, Feb 3, 2023, 13:26:48 - Don Sizemore: that seems like it might need to become a Payara feature?
Fri, Feb 3, 2023, 13:27:16 - poikilotherm: Not necessarily. It needs a trigger, yes. But that could go into different things
Fri, Feb 3, 2023, 13:27:44 - poikilotherm: It might not be doable without a redeployment for stuff like database connection as this is ruled by Payara
Fri, Feb 3, 2023, 13:27:58 - poikilotherm: But we could reload a DOI provider 
Fri, Feb 3, 2023, 13:28:11 - poikilotherm: It's just not there
Fri, Feb 3, 2023, 13:28:26 - Don Sizemore: I do like the sound of an "apache graceful"
Fri, Feb 3, 2023, 13:28:53 - poikilotherm: See - that's what I'm talking about
Fri, Feb 3, 2023, 13:29:11 - Don Sizemore: as long as it lives up to its name ;)
Fri, Feb 3, 2023, 13:29:32 - poikilotherm: But this is a project of another dimension. First make everything mpconfig
Fri, Feb 3, 2023, 13:32:37 - pdurbin: Yes, I'd like to be able to test features hidden behind feature flags, for example.
Fri, Feb 3, 2023, 13:39:09 - Don Sizemore: like ZGC!
Fri, Feb 3, 2023, 13:39:30 - Don Sizemore:  (which becomes "production ready" IIRC in Java 14)
Fri, Feb 3, 2023, 13:41:26 - pdurbin: all the experimental features
Fri, Feb 3, 2023, 13:54:49 - poikilotherm: Would it be a weird idea to create a fake/limited JDBC driver that supports the select statements from the MPCONFIG source and might be backed by a file?
Fri, Feb 3, 2023, 13:55:34 - poikilotherm: No need to implement TOML/yaml/... as a source in Payara then... ü´£
Fri, Feb 3, 2023, 13:56:51 - poikilotherm: https://github.com/peterborkuti/csv-jdbc-driver
Fri, Feb 3, 2023, 13:57:05 - poikilotherm: At least I'm not the only weirdo üòÖ
Fri, Feb 3, 2023, 13:59:02 - poikilotherm: This is perfect for a Hackathon üòÜ
Fri, Feb 3, 2023, 14:05:48 - pdurbin: I had this whole conversation recently with someone who was shocked that practically no one in the Java world uses sqlite. Maybe they could use this instead. üòÑ
Fri, Feb 3, 2023, 14:14:10 - poikilotherm: üòÖ
Fri, Feb 3, 2023, 14:16:53 - pdurbin: right? they use H2 instead?
Fri, Feb 3, 2023, 14:18:12 - poikilotherm: Yeah or Derby
Fri, Feb 3, 2023, 14:20:38 - pdurbin: So I'm not crazy. Thanks.
Fri, Feb 3, 2023, 14:31:45 - pdurbin: "It closes not #9363 but it gets the ball rolling. Using yoda speak here to prevent github from closing upon merge." ü§£
Fri, Feb 3, 2023, 14:31:58 - pdurbin: from https://github.com/IQSS/dataverse/pull/9366
Fri, Feb 3, 2023, 16:46:25 - pdurbin: Ok, folks, with windchill, it's -6 F here (-21 C). Stay warm and have a nice weekend! ü•∂
Sat, Feb 4, 2023, 05:50:06 - poikilotherm: Oh Nicolas Carpi! Cool dude. Had him here for an ELN workshop 
Sat, Feb 4, 2023, 07:38:28 - pdurbin: Yeah, I love that he jumped in and made a pull request right away.
Sat, Feb 4, 2023, 07:38:57 - pdurbin: luddaniel: I don't think I thanked you here in Matrix for your pull request. Thanks! üéâ
Sat, Feb 4, 2023, 07:40:16 - pdurbin: With windchill it's now -30 F here (-34 C) ü•∂ ü•∂
Sat, Feb 4, 2023, 13:44:03 - pdurbin: poikilotherm (CET,UTC+1) (and anybody): want to see a fun new dataviz about Dataverse installations? Still a work in progress, though.
Sat, Feb 4, 2023, 13:51:11 - pdurbin: juliangautier: it's a map thing. I think you'll love it. üòÑ
Sat, Feb 4, 2023, 13:52:46 - pdurbin: Well, the dataviz itself is not a map, but I'm using the map/installations data. Anyway here it is (wait for it): http://tmp.greptilian.com/tmp/dataverse-installations/barchart-race/
Sat, Feb 4, 2023, 14:38:57 - juliangautier: It's cool! These are always fun to watch
Sun, Feb 5, 2023, 11:51:20 - aialves: Message deleted
Sun, Feb 5, 2023, 11:51:58 - aialves: Message deleted
Sun, Feb 5, 2023, 11:52:28 - aialves: Message deleted
Sun, Feb 5, 2023, 11:53:38 - aialves: Message deleted
Sun, Feb 5, 2023, 11:54:30 - aialves: When I access to port 8080 doing http://localhost:8080,  I get the following code:
Sun, Feb 5, 2023, 11:54:54 - aialves: Message deleted
Sun, Feb 5, 2023, 11:55:11 - aialves: Message deleted
Sun, Feb 5, 2023, 11:55:28 - aialves: What can be the problem? Thanks in advance.
Mon, Feb 6, 2023, 07:56:11 - pdurbin: aialves: hi! Which code, please? I see "message deleted".
Mon, Feb 6, 2023, 08:56:15 - pdurbin: I actually built two things this weekend. The bar chart race above an a little tool to help me find pull requests that are coming from outside the core dev team (or consultants): https://github.com/pdurbin/skipper
Mon, Feb 6, 2023, 08:57:40 - pdurbin: For a long time on my "ideas" page in my wiki I was calling is "outsiders" but I like "skipper" better. The point is to not forget about people on the outside. So when paging through open pull requests (a good problem to have!), skip the ones by people on the core dev team.
Mon, Feb 6, 2023, 09:24:26 - pdurbin: The technique is to use a bunch of `-author:foobar` in the query. In practice, for us, it means generating a link like this: https://github.com/search?s=created&o=desc&state=open&q=repo:IQSS/dataverse%20is:pr%20-author:donsizemore%20-author:GPortas%20-author:landreev%20-author:pdurbin%20-author:poikilotherm%20-author:qqmyers%20-author:sekmiller
Mon, Feb 6, 2023, 09:55:11 - pdurbin: netcdf meeting in 5 minutes: https://docs.google.com/document/d/1mQObsdPYgmYBzO9YbNfKy6bRytK7fZrK0aHEg6VkXAg/edit?usp=sharing
Mon, Feb 6, 2023, 11:45:40 - pdurbin: poikilotherm (CET,UTC+1): hey, if you want, we could move #9225 from the bottom of HERMES to near the top of the community column.
Mon, Feb 6, 2023, 13:45:20 - pdurbin: poikilotherm (CET,UTC+1): I moved it over. I hope you don't mind!
Mon, Feb 6, 2023, 14:30:24 - pdurbin: nevermind again, off to QA, that PR
Mon, Feb 6, 2023, 16:29:58 - pdurbin: merged
Mon, Feb 6, 2023, 16:44:48 - pdurbin: thanks, poikilotherm (CET,UTC+1) !
Mon, Feb 6, 2023, 18:34:02 - poikilotherm: I love it when some things just happen on their own 
Mon, Feb 6, 2023, 18:34:07 - poikilotherm: üòÜ
Mon, Feb 6, 2023, 18:57:05 - pdurbin: Well, it was me suggesting to Gustavo that we talk about the PR during tech hours, or... just send it to QA. He was fine sending it to QA.
Tue, Feb 7, 2023, 04:51:09 - aialves: Good morning. I am migrating dataverse to another machine, from dataverse 5.6 to 5.12.1. I saw that Potsgres changed from 13.8 to 13.9.  I want to migrate dataverses and datasets from previous dataverse installation to the new one. Do you think that exporting database in Psql 13.8 and importing it to Psql 13.9 it will work? Thanks in advance.
Tue, Feb 7, 2023, 06:30:17 - aialves: Message deleted
Tue, Feb 7, 2023, 06:46:11 - pdurbin: aialves: Hmm, it should work, but I'm not the one who usually does this. You could also ask on the mailing list: https://groups.google.com/g/dataverse-community (or wait for others to reply here)
Tue, Feb 7, 2023, 06:55:17 - pdurbin: aialves: thanks for posting https://groups.google.com/g/dataverse-community/c/p4pKm5K6qTo/m/JdzFtsKRAgAJ
Tue, Feb 7, 2023, 06:55:40 - pdurbin: Another thought is that you could ask at the community call in a few hours: https://dataverse.org/community-calls
Tue, Feb 7, 2023, 06:55:52 - pdurbin: (if that's a convenient time for you)
Tue, Feb 7, 2023, 06:56:18 - pdurbin: There's going to be a cool demo: https://groups.google.com/g/dataverse-community/c/FFSjrF5vWAI/m/4BzXFsdUAgAJ
Tue, Feb 7, 2023, 08:18:23 - poikilotherm: pdurbin: can we switch the time conversion link on https://dataverse.org/community-calls?

I'd rather have CET included in the permalink https://www.timeanddate.com/worldclock/converter.html?iso=20230207T150000&p1=1440&p2=43&p3=tz_cet
Tue, Feb 7, 2023, 08:42:20 - pdurbin: poikilotherm (CET,UTC+1): it's confusing. I think that link is for the first call? The one that took place last night at 9pm Boston time. But it says Nov 19, 2019
Tue, Feb 7, 2023, 08:42:45 - pdurbin: Maybe I should just delete it. Danny added it. I never use it. I click the Google Calendar link instead.
Tue, Feb 7, 2023, 10:09:37 - aialves: Hello. One more question, is it possible to export a dataset into another dataverse instance? Thanks in advance.
Tue, Feb 7, 2023, 10:10:38 - poikilotherm: You might be interested in Harvesting
Tue, Feb 7, 2023, 10:11:01 - poikilotherm: https://guides.dataverse.org/en/latest/admin/harvestclients.html
Tue, Feb 7, 2023, 10:11:26 - poikilotherm: But obviously there are more options, depending on what you need/want
Tue, Feb 7, 2023, 10:12:02 - poikilotherm: The API allows for flexible exports of JSON which can be imported into another instance
Tue, Feb 7, 2023, 11:27:17 - poikilotherm: pdurbin: I just pushed my experimentation with Arquillian and Testcontainers here: https://github.com/poikilotherm/dataverse/commit/881af1b98e4781dd4861bc08deb88b83d9fddb02
Tue, Feb 7, 2023, 11:27:25 - poikilotherm: This is a "savegame"
Tue, Feb 7, 2023, 11:28:31 - poikilotherm: I found out that I cannot `@Inject` `javax.mail.Session` because it is a `final` class... üôÑ So I will change course, step back and go for a static factory.
Tue, Feb 7, 2023, 11:29:50 - poikilotherm: (Injection works in current code because it is a `@Resource` injectable from the appserver provisioned resources... Would need to wrap around this, but probably that is not of much use here.)
Tue, Feb 7, 2023, 11:30:32 - poikilotherm: If we want to inject a session later for extensions etc, we might come back and wrap it anyway...
Tue, Feb 7, 2023, 11:47:25 - pdurbin: aialves: another option is exporting a dataset as an ORE bag and importing it but I haven't tried it myself.
Tue, Feb 7, 2023, 11:48:07 - pdurbin: Yeah, I do a lot of save game. Pushing branches called scratch2 or whatever üòÖ
Tue, Feb 7, 2023, 14:39:01 - pdurbin: Awesome demo of a new integration framework (GitHub, GitLab, iRODS, etc.) now up on DataverseTV: https://groups.google.com/g/dataverse-community/c/FFSjrF5vWAI/m/aFp-92ylAgAJ
Tue, Feb 7, 2023, 14:39:31 - pdurbin: Integrations dashboard for pulling in data from data management systems (iRods, Gitlab, Github, OSF, RedCap...)
Wed, Feb 8, 2023, 06:38:38 - aialves: Message deleted
Wed, Feb 8, 2023, 08:19:07 - pdurbin: aialves: hi! I just replied to your postgres upgrade question: https://groups.google.com/g/dataverse-community/c/p4pKm5K6qTo/m/2ojSexTlAgAJ
Wed, Feb 8, 2023, 08:19:21 - pdurbin: Although I would trust Don Sizemore over anything I say. üòÑ
Wed, Feb 8, 2023, 09:59:55 - Don Sizemore: aialves: from the database perspective, yes a dump and import should work fine, especially between point releases. you'll want to be certain you pick up every configuration change between Dataverse 5.6 and your target version, though.
Wed, Feb 8, 2023, 12:32:48 - pdurbin: Are the days of https://dataverse.org and https://dataversecommunity.global being hosted on OpenScholar numbered?
Wed, Feb 8, 2023, 12:32:51 - pdurbin: https://w3.abcd.harvard.edu/event/abcd-w3-february-2023-meeting-kenton-doyle-openscholar-and-web-publishing-harvard
Wed, Feb 8, 2023, 12:33:10 - pdurbin: If so, what platform do we want?
Wed, Feb 8, 2023, 15:47:12 - pdurbin: Benjamin Poldrack: I gave a shout out to DataLad today. I was talking to researchers at Harvard Medical School with datasets that are 5 TB each. üò¨
Wed, Feb 8, 2023, 15:48:47 - Stephan Heunis: <@pdurbin:matrix.org "Benjamin Poldrack: I gave a shou..."> Nice! Did they say what type of data it was?
Wed, Feb 8, 2023, 15:50:04 - pdurbin: Stephan Heunis: check this out: https://www.cycif.org/data/gaglia-PCQ-2020/osd-0813#s=0#w=0#g=0#m=-1#a=-100_-100#v=0.4956_0.3515_0.5#o=-100_-100_1_1#p=Q
Wed, Feb 8, 2023, 15:52:01 - pdurbin: https://www.cycif.org/software/ shows their software (Minerva)
Wed, Feb 8, 2023, 15:52:13 - Stephan Heunis: infinite zooming :D
Wed, Feb 8, 2023, 15:53:11 - pdurbin: microscopy data, basically
Wed, Feb 8, 2023, 15:53:41 - Stephan Heunis: <@pdurbin:matrix.org "https://www.cycif.org/software/ ..."> That name rings a bell
Wed, Feb 8, 2023, 15:54:02 - pdurbin: They were saying the data is too big to push to GitHub. Then I mentioned git-annex and DataLad
Wed, Feb 8, 2023, 15:54:12 - pdurbin: and how DataLad is integrating with Dataverse
Wed, Feb 8, 2023, 15:54:31 - pdurbin: maybe I'll try to pull the developer in here
Wed, Feb 8, 2023, 15:55:14 - Benjamin Poldrack: > data is too big to push to GitHub

Hehe. That's low bar to be fair ;-)
Wed, Feb 8, 2023, 15:57:11 - pdurbin: I haven't looked lately what the limit is.
Wed, Feb 8, 2023, 15:58:06 - pdurbin: looks like even GitHub LFS has a cap of 5 GB per file: https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-git-large-file-storage
Wed, Feb 8, 2023, 15:59:05 - Benjamin Poldrack: With LFS and enterprise They allow 5GB files. That's nothing for microscopy.
Wed, Feb 8, 2023, 15:59:42 - pdurbin: so can DataLad help? üòÑ
Wed, Feb 8, 2023, 16:00:18 - Benjamin Poldrack: Sure thing! Not with the actual storage, though ;-)
Wed, Feb 8, 2023, 16:00:28 - pdurbin: heh, sure
Wed, Feb 8, 2023, 16:00:34 - Benjamin Poldrack: But with putting in on Githb nevertheless
Wed, Feb 8, 2023, 16:01:35 - pdurbin: I was telling them about our new, experimental remote file support: https://guides.dataverse.org/en/5.12.1/developers/big-data-support.html#trusted-remote-storage-with-the-remote-store-type
Wed, Feb 8, 2023, 16:02:02 - pdurbin: Basically, Dataverse just stores a metadata record and a URL to a file that lives somewhere else
Wed, Feb 8, 2023, 16:09:46 - Benjamin Poldrack: Same basic principle as git-annex then.
Wed, Feb 8, 2023, 16:12:56 - pdurbin: yes, exactly
Wed, Feb 8, 2023, 23:24:56 - Tanay Karve joined the room
Thu, Feb 9, 2023, 03:54:19 - ra_min_: Hi, I found something outdated in the docs. it says the endpoint for deleting a draft dataset (https://guides.dataverse.org/en/latest/api/native-api.html#delete-dataset-draft) is: `$SERVER_URL/api/datasets/$PERSISTENT_IDENTIFIER` however it actually is `$SERVER_URL/api/datasets/:persistentId/?persistentId=$PERSISTENT_IDENTIFIER` in both cases with the DELETE method
Thu, Feb 9, 2023, 04:00:33 - ra_min_: Message deleted
Thu, Feb 9, 2023, 04:09:09 - ra_min_: same for creating/getting privateUrls... 
Thu, Feb 9, 2023, 07:04:22 - pdurbin: ra_min_: d'oh! Are you interested in making a pull request? We have a new "fast track" policy for doc changes.
Thu, Feb 9, 2023, 07:13:07 - Don Sizemore: Benjamin Poldrack: Odum is working on TRSA (and Dataverse is incorporating support for other remote datastores) for use cases just such as yours. We have vivisection images approaching 500GB which will be stored in iRODS.
Thu, Feb 9, 2023, 10:18:00 - ra_min_: <@pdurbin:matrix.org "ra_min_: d'oh! Are you intereste..."> I can look into it tomorrow. (sitting in europe.. :) and calling it a day soon). which of the 134 repos includes the API docs? 
Thu, Feb 9, 2023, 10:44:10 - poikilotherm: <@ra_min_:matrix.org "I can look into it tomorrow. (si..."> https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/api/native-api.rst
Thu, Feb 9, 2023, 11:15:17 - aialves: Message deleted
Thu, Feb 9, 2023, 11:19:02 - aialves: Hello. In my new dataverse instance I can not create doi when dataset is created. I am using correct login, password, baseurl and datasiterestapiurlstring. How can I check why is this happen? 

[2023-02-09T16:09:31.802+0000] [Payara 5.2022.3] [WARNING] [] [edu.harvard.iq.d>
  Identifier not created: create failed
java.io.IOException: Response from postMetadata: 403, Access is denied
        at edu.harvard.iq.dataverse.DataCiteRESTfullClient.postMetadata(DataCit>
Thu, Feb 9, 2023, 11:22:50 - poikilotherm: Did you check the other Datacite URL? https://guides.dataverse.org/en/latest/installation/config.html#doi-baseurlstring
Thu, Feb 9, 2023, 11:23:57 - poikilotherm: Creation happens via MDS API, not REST API
Thu, Feb 9, 2023, 11:24:43 - poikilotherm: Sorry, this is all a bit confusing, working on https://github.com/IQSS/dataverse/pull/8828 to make this better
Thu, Feb 9, 2023, 11:32:01 - poikilotherm: carlsonp: next time your folks say "but there is a CVE!!!11!!!!1!1!!" let them read this thread: https://github.com/x-stream/xstream/issues/304 Hilarious and maybe even outrageous how carelessly some people act with reports to NIST these days.
Thu, Feb 9, 2023, 11:52:50 - aialves: My previous dataverse instance has te same doi configuration and it used to work.        \<jvm-options>-Ddoi.baseurlstring=https://mds.datacite.org\</jvm-options>
\<jvm-options>-Ddoi.dataciterestapiurlstring=https://api.datacite.org\</jvm-options> What must I change? -Ddoi.dataciterestapiurlstring?
Thu, Feb 9, 2023, 11:57:59 - poikilotherm: <@aialves:matrix.org "My previous dataverse instance h..."> That's strange - both seem correct. Not sure what's going on here.
Thu, Feb 9, 2023, 12:04:01 - pdurbin: aialves: if you're getting "access denied" I'd suggest using curl to test your username and password directly against the DataCite MDS API.
Thu, Feb 9, 2023, 12:45:06 - aialves: I changed  from '<jvm-options>-Ddoi.dataciterestapiurlstring=https://api.datacite.org</jvm-options> ' to '<jvm-options>-Ddoi.mdcbaseurlstring=https://api.datacite.org</jvm-options>', in domain.xml but after restart payara, in log I get '[2023-02-09T17:35:19.916+0000] [Payara 5.2022.3] [SEVERE] [] [edu.harvard.iq.dataverse.DataCiteRESTfullClient] [tid: _ThreadID=76 _ThreadName=http-thread-pool::http-listener-1(4)] [>
  Response from postMetadata: 403, Access is denied]]' . Still dataverse.DataCiteRESTfullClient???
Thu, Feb 9, 2023, 12:54:20 - pdurbin: aialves: have you tried curl yet?
Thu, Feb 9, 2023, 12:54:58 - pdurbin: here's a curl example: https://support.datacite.org/docs/mds-api-guide#fetch-the-url
Thu, Feb 9, 2023, 12:55:36 - aialves: yes, I did
Thu, Feb 9, 2023, 12:56:33 - aialves: I tried 'curl --user username:password https://mds.datacite.org/' and I got ' 301 errr: site moved permanently'
Thu, Feb 9, 2023, 12:57:31 - pdurbin: weird, it redirects to https://support.datacite.org/docs/mds-api-guide
Thu, Feb 9, 2023, 12:57:52 - pdurbin: you can see this if you add `-i` ... `curl -i https://mds.datacite.org/`
Thu, Feb 9, 2023, 12:58:02 - pdurbin: something fishy is going on üêüÔ∏è
Thu, Feb 9, 2023, 13:01:02 - pdurbin: Is this a brand new "authority" or "prefix" (10.whatever number)? Do you have any DOIs in your prefix that you can query? If not, I think you should try creating one with curl. Also, you can reach out to DataCite support for this, just sayin' üòÑ
Thu, Feb 9, 2023, 13:05:57 - aialves: It is a prefix, yes
Thu, Feb 9, 2023, 13:08:51 - pdurbin: ok, a new one, I assume, no DOIs yet
Thu, Feb 9, 2023, 13:12:04 - aialves: Message deleted
Thu, Feb 9, 2023, 13:12:39 - aialves: I tried curl --user username:password https://doi.datacite.org/dois/10.34620%2Feduser.v14i2.200

Thu, Feb 9, 2023, 13:13:15 - aialves: Message deleted
Thu, Feb 9, 2023, 13:13:48 - aialves: I think it returns the doi page
Thu, Feb 9, 2023, 13:14:13 - pdurbin: Here, if you want to try the settings in Dataverse that I use:
```
        <jvm-options>-Ddoi.username=dataciteuser</jvm-options>
        <jvm-options>-Ddoi.password=${ALIAS=doi_password_alias}</jvm-options>
        <jvm-options>-Ddoi.baseurlstring=https://mds.test.datacite.org</jvm-options>
        <jvm-options>-Ddoi.dataciterestapiurlstring=https://api.test.datacite.org</jvm-options>

```
Thu, Feb 9, 2023, 13:18:59 - aialves: Thank you. I will try with your settings
Thu, Feb 9, 2023, 13:22:41 - pdurbin: Sure! It's with the test MDS. And I'm sorry but someone is in my office. brb
Thu, Feb 9, 2023, 14:38:49 - carlsonp: FYI I may be able to bring some more reinforcements in terms of developers for the containerization work, I'll keep you all posted, *crosses fingers*
Thu, Feb 9, 2023, 15:37:27 - pdurbin: wat
Thu, Feb 9, 2023, 15:37:40 - pdurbin: carlsonp: that's awesome üéâ
Thu, Feb 9, 2023, 15:53:10 - pdurbin: When's the next meeting about containers?
Thu, Feb 9, 2023, 15:53:59 - * poikilotherm is a bit overloaded
Thu, Feb 9, 2023, 15:57:09 - pdurbin: aialves: any luck? Did it work? I'm heading home soon üòÖ üö≤Ô∏è
Thu, Feb 9, 2023, 15:58:01 - aialves: I just will try now.
Thu, Feb 9, 2023, 15:58:13 - poikilotherm: > <@pdurbin:matrix.org> When's the next meeting about containers?

We didn't schedule one so far... I confess to being a bit all over the place. Too many details at the same time üò¨
Thu, Feb 9, 2023, 15:58:38 - pdurbin: if you're overloaded, that's fine, we can wait
Thu, Feb 9, 2023, 15:58:53 - pdurbin: take care of yourself, man ‚ù§Ô∏è
Thu, Feb 9, 2023, 16:00:09 - poikilotherm: But I want containers!!!!! (See, that's 5 ! in a row, according to Pratchet now I'm either mad or overtaking the world ü´£)
Thu, Feb 9, 2023, 16:04:03 - aialves: {ALIAS=doi_password_alias}, i think i must set 'doi_password_alias'? Don't I?
Thu, Feb 9, 2023, 16:04:26 - pdurbin: aialves: honestly, for now I would just put your password there in plain text 
Thu, Feb 9, 2023, 16:04:32 - pdurbin: just to make sure it works
Thu, Feb 9, 2023, 16:04:41 - pdurbin: you can switch to the fancy alias thing later
Thu, Feb 9, 2023, 16:06:11 - pdurbin: (fancy and more secure)
Thu, Feb 9, 2023, 16:12:38 - aialves: It does not create a log file
Thu, Feb 9, 2023, 16:13:39 - aialves: but the error persisted  'Dataset DOI Not Reserved ‚Äì The DOI displayed in the citation for this dataset has not yet been reserved with DataCite. Please do not share this DOI until it has been reserved. '
Thu, Feb 9, 2023, 16:15:12 - pdurbin: I'm surprised there's no error in server.log
Thu, Feb 9, 2023, 16:15:29 - aialves: Nevermind.... tomorrow we can see this. Thank you.
Thu, Feb 9, 2023, 16:16:00 - pdurbin: Sounds good. I'm sorry to hear about the struggles! Yes, tomorrow is another day! üòÖ
Thu, Feb 9, 2023, 16:16:16 - aialves: Yes it is :-) Thank you.
Thu, Feb 9, 2023, 18:31:27 - aialves: The problem reported yersterday (doi registation problem when dataset is being created) is related with the configuraltion of :Protocol, :Authority, :Shoulder. Now i get another error when creating a dataset 'Erro de parse XML: formato incorreto
Local: https://dados.ipb.pt/dataset.xhtml?persistentId=doi:A10.34620/dadosipb/BS5Q2D&version=DRAFT
Linha n√∫mero 194, coluna 66:
           \<a href="mailto:xxxxxxx@ipb.pt?subject = Feedback&body = Message" style="font-size:11px;" target="\_blank">Helpdesk\</a>\<br> '. How can I fix this?
Fri, Feb 10, 2023, 01:55:41 - poikilotherm: Morning folks!

For folks within Germany and/or interested in coming here: fdm.nrw will be hosting an RDM workshop ("FDM Werkstatt") targeting normal people and devs alike to join and hack on stuff. "Hacking" is not only about software, but maybe you want to work on something RDM related at an event, share things and network with others.

The date is 2023-06-14 to 2023-06-16. Location TBA but expected to be somewhere near Cologne/Ruhrgebiet.

If you're interested, please send a short proposal to lioba.schreyer@uni-due.de as follows:
```
Title
Approx length
Max participants (e.g. 2-6 / 6-15 / ...)
Short description, 150 words max, with idea, goals and required skills
```

(f you speak English, we will very likely come along - RDM potatoes like me are usually fluent in both.)
Fri, Feb 10, 2023, 06:14:11 - aialves: Error when creating a dataset 'Erro de parse XML: formato incorreto
Local: https://dados.ipb.pt/dataset.xhtml?persistentId=doi:A10.34620/dadosipb/BS5Q2D&version=DRAFT
Linha n√∫mero 194, coluna 66:
\<a href="mailto:xxxxxxx@ipb.pt?subject = Feedback&body = Message" style="font-size:11px;" target="\_blank">Helpdesk\</a>\<br> '. Do you know what is the problem and how can I fix it? Thanks in advance.
Fri, Feb 10, 2023, 07:20:48 - pdurbin: ra_min_: thanks for https://github.com/IQSS/dataverse/pull/9378 ! I just left you a review.
Fri, Feb 10, 2023, 07:21:45 - pdurbin: aialves: that href doesn't look right
Fri, Feb 10, 2023, 07:22:16 - pdurbin: oh maybe the & should be &amp;?
Fri, Feb 10, 2023, 07:23:19 - pdurbin: From https://dados.ipb.pt/api/info/version it looks like you're running the latest: 5.12.1
Fri, Feb 10, 2023, 07:25:35 - aialves: Hello :-). This error happens when saving dataset (and registering doi). With configuration can I fix this? Or just changing code?
Fri, Feb 10, 2023, 07:32:46 - aialves: <@pdurbin:matrix.org "oh maybe the & should be &amp;?"> And that is a problem? Code must be changed? What can I do?
Fri, Feb 10, 2023, 07:36:38 - pdurbin: I'm not sure why it's happening. If you switch the site to English only, does it go away?
Fri, Feb 10, 2023, 07:36:49 - pdurbin: (not as a long term solution, of course!)
Fri, Feb 10, 2023, 07:41:33 - aialves: How can I change language in domain.xml?
Fri, Feb 10, 2023, 08:01:54 - pdurbin: aialves: I think it's `dataverse.lang.directory` . What do you have there?
Fri, Feb 10, 2023, 08:02:07 - pdurbin: If you remove it, you'll probably need to restart Payara
Fri, Feb 10, 2023, 08:02:20 - pdurbin: the docs are here: https://guides.dataverse.org/en/5.12.1/installation/config.html#internationalization
Fri, Feb 10, 2023, 08:37:41 - pdurbin: poikilotherm (CET,UTC+1): "coming here" but that link doesn't have details yet, right? I can't find "Werkstatt" on that page, for example.
Fri, Feb 10, 2023, 08:48:52 - poikilotherm: Nope, not yet. It's early stage and they are at the call for sessions phase
Fri, Feb 10, 2023, 08:49:52 - aialves: <@pdurbin:matrix.org "the docs are here: https://guide..."> The site is just in english.
Fri, Feb 10, 2023, 08:52:40 - pdurbin: aialves: hmm. Let me call for reinforcement. This your production site, right?
Fri, Feb 10, 2023, 08:54:43 - aialves: yes, it's my productin site. I just find out whats is the problem
Fri, Feb 10, 2023, 08:54:51 - aialves: Spaces '"mailto:aialves@ipb.pt?subject = Feedback&body = Message"'
Fri, Feb 10, 2023, 08:55:31 - pdurbin: Spaces. Interesting. So you can fix it?
Fri, Feb 10, 2023, 08:55:59 - aialves: I have to change the code. 
Fri, Feb 10, 2023, 08:56:11 - pdurbin: Oh, I see (I think). You have "Helpdesk" in a custom footer.
Fri, Feb 10, 2023, 08:57:08 - aialves: Yes I do, but I can remove it right know. I thinks is better to. 
Fri, Feb 10, 2023, 08:58:08 - pdurbin: removing it temporarily as a test at least sounds good, yes
Fri, Feb 10, 2023, 09:06:10 - pdurbin: poikilotherm (CET,UTC+1): ok. Will there be a Dataverse fringe event we could list on the events page?
Fri, Feb 10, 2023, 09:06:37 - poikilotherm: Probably I'll have one, yeah üòÉ
Fri, Feb 10, 2023, 09:06:49 - pdurbin: :dataverseman:
Fri, Feb 10, 2023, 09:06:57 - pdurbin: Can we have custom emojis here?
Fri, Feb 10, 2023, 09:18:11 - poikilotherm: <@pdurbin:matrix.org "Can we have custom emojis here?"> Seems like there are two main proposals for that https://github.com/matrix-org/matrix-spec-proposals/pull/2545 https://github.com/matrix-org/matrix-spec-proposals/pull/1951 with the first one having some support by some clients already
Fri, Feb 10, 2023, 09:18:25 - pdurbin: nice!
Fri, Feb 10, 2023, 09:18:46 - pdurbin: so much better than IRC
Fri, Feb 10, 2023, 09:18:49 - pdurbin: you were right
Fri, Feb 10, 2023, 09:18:53 - pdurbin: you were right
Fri, Feb 10, 2023, 09:19:34 - pdurbin: Are you following the Gitter changes? Next week is a big week.
Fri, Feb 10, 2023, 09:19:52 - poikilotherm: Weren't they bought by Matrix?
Fri, Feb 10, 2023, 09:19:56 - pdurbin: yep
Fri, Feb 10, 2023, 09:20:18 - poikilotherm: Oh. https://blog.gitter.im/2023/01/16/gitter-is-going-fully-native-matrix-in-feb-2023/
Fri, Feb 10, 2023, 09:21:00 - poikilotherm: Suppose this is the most interesting part for ya https://github.com/matrix-org/matrix-public-archive
Fri, Feb 10, 2023, 09:22:44 - pdurbin: Yes! Better logs soon, I hope!
Fri, Feb 10, 2023, 09:23:03 - pdurbin: too busy to merge my PR probably
Fri, Feb 10, 2023, 09:24:37 - poikilotherm: We could run an custom homeserver to host the dataverse room...
Fri, Feb 10, 2023, 09:26:41 - aialves: I inserted footer copyright with 'curl -X PUT -d ", Your Institution" http://localhost:8080/api/admin/settings/:FooterCopyright'. Can you please tell how cal I remove it?
Fri, Feb 10, 2023, 09:27:27 - poikilotherm: `-X DELETE` should do the trick
Fri, Feb 10, 2023, 09:29:49 - pdurbin: poikilotherm (CET,UTC+1): there should be a superuser GUI for deleting settings
Fri, Feb 10, 2023, 09:30:06 - poikilotherm: Why
Fri, Feb 10, 2023, 09:30:16 - pdurbin: because it's hard
Fri, Feb 10, 2023, 09:30:31 - pdurbin: and because we love our users ‚ù§Ô∏è
Fri, Feb 10, 2023, 09:30:51 - poikilotherm: As a former LPIC-2 holder, I'd prefer having a proper config file for everything and a `dataverse reload` command üôä
Fri, Feb 10, 2023, 09:31:32 - pdurbin: right but if you install Discourse or whatever you can tweak all the settings in a nice, comfortable GUI
Fri, Feb 10, 2023, 09:31:36 - poikilotherm: But I do see your point ;-)
Fri, Feb 10, 2023, 09:31:45 - pdurbin: why can't we have nice things, I'm asking üòÑ
Fri, Feb 10, 2023, 09:31:54 - poikilotherm: Well maybe with the SPA someone can build an optional component for that
Fri, Feb 10, 2023, 09:32:07 - pdurbin: right but will it play nicely with MPCONFIG?
Fri, Feb 10, 2023, 09:32:27 - pdurbin: carlsonp will fix all this for us
Fri, Feb 10, 2023, 09:32:55 - poikilotherm: Well the SPA admin GUI will only talk to some REST endpoint. What we do within that endpoint can be made play along nicely with MPCONFIG
Fri, Feb 10, 2023, 09:33:23 - carlsonp: I think you misspelled poikilotherm (CET,UTC+1) 
Fri, Feb 10, 2023, 09:36:04 - aialves: Yersterday, without setting :DoiProvider, :Protocol, :Authority and :Shoulder I could not create DOI but I could create de dataset. Today, after settings those config variables, I can not create the dataset. Is there a way to trace code and know why is this happening?
Fri, Feb 10, 2023, 09:37:16 - pdurbin: aialves: that sounds really frustrating. üò† Anything in server.log?
Fri, Feb 10, 2023, 09:41:39 - aialves: <@pdurbin:matrix.org "aialves: that sounds really frus..."> Really... No logs file
Fri, Feb 10, 2023, 09:44:12 - aialves: The config variables are saved in the pgsql database, right? I removed again the setting :DoiProvider, :Protocol, :Authority and :Shoulder  variables using curl but still can not create dataverse
Fri, Feb 10, 2023, 09:46:28 - pdurbin: aialves: correct. You can get a dump of all database settings from http://localhost:8080/api/admin/settings
Fri, Feb 10, 2023, 10:26:15 - pdurbin: poikilotherm (CET,UTC+1): simply listing all the settings in a superuser dashboard would help too, even if you can't edit
Fri, Feb 10, 2023, 10:26:18 - * pdurbin ducks
Fri, Feb 10, 2023, 10:26:51 - poikilotherm: I don't see what would hold us back from that
Fri, Feb 10, 2023, 10:27:06 - poikilotherm: With `JvmSettings` we now finally have a builtin list
Fri, Feb 10, 2023, 10:27:26 - pdurbin: Hmm. So we'd build an API call around it?
Fri, Feb 10, 2023, 10:27:38 - poikilotherm: That's totally doable
Fri, Feb 10, 2023, 10:27:45 - pdurbin: nice
Fri, Feb 10, 2023, 10:28:18 - poikilotherm: Obviously it requires to have things in JvmSettings first üôà
Fri, Feb 10, 2023, 10:28:52 - pdurbin: good motivator
Fri, Feb 10, 2023, 10:29:06 - poikilotherm: And probably we should tighten up the API of `SettingsServiceBean`...
Fri, Feb 10, 2023, 10:29:26 - pdurbin: "There's a nice GUI for looking at some settings, the settings that were added correctly in the modern way."
Fri, Feb 10, 2023, 10:29:36 - poikilotherm: Ha!
Fri, Feb 10, 2023, 10:29:50 - pdurbin: old setting have been sent to the back of the bus
Fri, Feb 10, 2023, 10:30:48 - poikilotherm: That's were the cool kids are, aye?
Fri, Feb 10, 2023, 10:32:15 - pdurbin: heh, usually
Fri, Feb 10, 2023, 10:42:12 - pdurbin: Where should CodeMeta be in the list of release highlights? #1? #10?
Fri, Feb 10, 2023, 10:45:35 - poikilotherm: I wouldn't push it up very high yet - it's experimental and *only* the schema
Fri, Feb 10, 2023, 10:46:04 - pdurbin: k
Fri, Feb 10, 2023, 10:46:20 - poikilotherm: Folks I'm outta here. Work work work at different location than my office
Fri, Feb 10, 2023, 10:46:38 - poikilotherm: (But reachable on mobile, as always)
Fri, Feb 10, 2023, 10:47:11 - pdurbin: have a nice weekend!
Fri, Feb 10, 2023, 12:56:06 - pdurbin: areyes628: we just merged your PR. Thanks again. I should go deploy the latest to my dev server üòÑ
Fri, Feb 10, 2023, 14:01:13 - g.sarigiannis: Hey everyone, apologies for sending a message this late on a Friday, I'd like to ask whether there's a more comprehensive guide somewhere on how to front Payara with Apache
Fri, Feb 10, 2023, 14:12:58 - pdurbin: g.sarigiannis: no worries. I would suggest starting here: https://guides.dataverse.org/en/5.12.1/installation/shibboleth.html#install-apache
Fri, Feb 10, 2023, 14:13:06 - pdurbin: (even if you aren't using Shibboleth)
Fri, Feb 10, 2023, 14:13:41 - carlsonp: `traefik` is also pretty nice if you need a reverse proxy
Fri, Feb 10, 2023, 14:53:54 - pdurbin: g.sarigiannis: does that help? I'm around for another hour or so
Fri, Feb 10, 2023, 16:12:08 - poikilotherm: And to make it complete: you can of course also use Nginx or HAProxy üòÖ
Fri, Feb 10, 2023, 16:12:42 - poikilotherm: Just note that Shibboleth support kind of works easiest with Apache because mod_ajp
Fri, Feb 10, 2023, 16:14:23 - pdurbin: Yeah. Whoops. Now I'm over time and I have a new laptop waiting for me at home. Have a good weekend, all! üö≤Ô∏è
Sat, Feb 11, 2023, 05:22:12 - g.sarigiannis: pdurbin:  thanks a lot, will try this on Monday
Sat, Feb 11, 2023, 20:31:08 - dataversebot removed their profile picture
Sun, Feb 12, 2023, 11:59:11 - pdurbin: New laptop. Trying Podman instead of Docker. docker-aio didn't "just work" but I'd like to try our new container stuff someday. I hope it works with Apple silicon (M1/M2,arm64): http://blog.greptilian.com/2023/02/12/new-laptop/
Sun, Feb 12, 2023, 21:15:33 - pdurbin: [INFO] DOCKER> Error: unknown flag: --driver

poikilotherm (CET,UTC+1) do we care if https://preview.guides.gdcc.io/en/develop/container/base-image.html#build-instructions doesn't work on Podman?
Mon, Feb 13, 2023, 00:55:48 - poikilotherm: I don't know if podman supports buildx/BuildKit already like Moby. That's important for the multiarch build.
Mon, Feb 13, 2023, 06:40:59 - pdurbin: Ok. What do you test with? Docker? Moby? I tested it with Docker before we merged it.
Mon, Feb 13, 2023, 06:52:49 - poikilotherm: Docker = Moby. Moby is the upstream OSS project that the commercial Docker product builds upon
Mon, Feb 13, 2023, 07:29:33 - pdurbin: Ok (sounds like Chrome = Chromium) but I'm still curious which one you test with.
Mon, Feb 13, 2023, 07:45:11 - poikilotherm: pdurbin: question regarding search
Mon, Feb 13, 2023, 07:46:53 - poikilotherm: In our installation, when looking up datasets from a certain year (e.g. 2022), I have 36 elements via API search. Doing the same via UI reveals 34. The difference is explainable by the API query using publication dates for the latest version, UI using the first published version. Is this a bug? Is this behaviour changed in 5.0?
Mon, Feb 13, 2023, 09:25:24 - garyhsudbm joined the room
Mon, Feb 13, 2023, 09:28:25 - pdurbin: poikilotherm (CET,UTC+1): can you please provide the URLs?
Mon, Feb 13, 2023, 09:28:46 - poikilotherm: For a dataset that shows this behaviour?
Mon, Feb 13, 2023, 09:28:49 - poikilotherm: Or the query?
Mon, Feb 13, 2023, 09:29:22 - garyhsudbm: Hello, I am new to this dataverse channel and please forgive me if I ask some basic questions here. Could someone tell me how to add a data collection? I have logged in my account but there is only add dataset when I press "Add Data" button. I contacted the support team last week and I think the message might be unsupervised so I got no response so far. 
Mon, Feb 13, 2023, 09:29:46 - poikilotherm: pdurbin: here is us for year 2022 in the UI: https://data.fz-juelich.de/dataverse/fzj?q=&fq1=publicationDate%3A%222022%22&types=datasets
Mon, Feb 13, 2023, 09:30:01 - pdurbin: garyhsudbm: you might not have permission. You could try it on https://demo.dataverse.org where you would have permission to see what the UI looks like.
Mon, Feb 13, 2023, 09:30:36 - poikilotherm sent an image. (Media omitted)
Mon, Feb 13, 2023, 09:31:38 - poikilotherm: `curl "https://data.fz-juelich.de/api/search?q=publicationDate=2022&type=dataset" | fx" gets us this:
Mon, Feb 13, 2023, 09:31:44 - poikilotherm sent an image. (Media omitted)
Mon, Feb 13, 2023, 09:32:31 - pdurbin: poikilotherm (CET,UTC+1): here you go. 34 now: https://data.fz-juelich.de/api/search?q=publicationDate:2022&type=dataset
Mon, Feb 13, 2023, 09:32:51 - pdurbin: s/=/:/
Mon, Feb 13, 2023, 09:32:52 - poikilotherm: From comparing the list manually, I found two datasets "missing" from the UI:
1. https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/VTQXLM
2. https://data.fz-juelich.de/dataset.xhtml?persistentId=doi:10.26165/JUELICH-DATA/HDVEEF

Both have v1.0 in 2021, some newer version in 2022
Mon, Feb 13, 2023, 09:33:11 - poikilotherm: D'Oh!
Mon, Feb 13, 2023, 09:33:23 - pdurbin: In Slack we have :doh: üòÑ
Mon, Feb 13, 2023, 09:33:41 - poikilotherm: https://media.giphy.com/media/xT5LMzIK1AdZJ4cYW4/giphy.gif
Mon, Feb 13, 2023, 09:33:53 - pdurbin: oh, and I did see those links you posted about emojis here, I should create an issue to track this stuff
Mon, Feb 13, 2023, 09:35:08 - pdurbin: garyhsudbm: are you using Harvard Datavese? Some other installation? There are almost a hundred of them these days. üòÑ
Mon, Feb 13, 2023, 09:36:06 - poikilotherm: pdurbin: why does "=" still work? Shouldn't this be an error?
Mon, Feb 13, 2023, 09:36:21 - pdurbin: maybe it should be
Mon, Feb 13, 2023, 09:36:26 - pdurbin: it's awfully confusing
Mon, Feb 13, 2023, 09:36:35 - poikilotherm: Absolutely!
Mon, Feb 13, 2023, 09:37:20 - poikilotherm: Do you remember from the top of your mind if that query string is piped into Solr without further analysis?
Mon, Feb 13, 2023, 09:37:50 - pdurbin: poikilotherm (CET,UTC+1): well, DOIs have a colon in them so we handle that case. Light processing, I'd say.
Mon, Feb 13, 2023, 09:38:17 - garyhsudbm: <@pdurbin:matrix.org "garyhsudbm: you might not have p..."> Do I need permission to add a collection? I thought every casual logged-in user can create a collection. How or where can I get the permission?  
Mon, Feb 13, 2023, 09:39:31 - garyhsudbm: <@pdurbin:matrix.org "garyhsudbm: are you using Harvar..."> I am using the normal web-based version. https://dataverse.harvard.edu/
Mon, Feb 13, 2023, 09:40:57 - garyhsudbm: and I saw this. Please note: Users are required to contact support to create a collection rather than deposit multiple datasets directly into Harvard root.
Creation of new collections has been partially restricted (in those existing collections where any logged in user used to be able to create one). If you are unable to create a collection, please contact support.
Mon, Feb 13, 2023, 09:41:11 - pdurbin: garyhsudbm: we were hit with some very nasty spam recently. And we might have disabled collection creation for some types of accounts. Let me check.
Mon, Feb 13, 2023, 09:42:00 - pdurbin: How did you sign up? Institutional account? ORCID? GitHub? Google? Username/Email?
Mon, Feb 13, 2023, 09:42:15 - garyhsudbm: Username/Email
Mon, Feb 13, 2023, 09:42:40 - pdurbin: Ok. Do you have an institutional account?
Mon, Feb 13, 2023, 09:43:37 - garyhsudbm: only institutional email but not account. 
Mon, Feb 13, 2023, 09:44:33 - pdurbin: garyhsudbm: could you please email support@dataverse.harvard.edu about this? A ticket will be created.
Mon, Feb 13, 2023, 09:44:39 - garyhsudbm: my institute is not in the list though.
Mon, Feb 13, 2023, 09:45:23 - pdurbin: They will probably want to know your username.
Mon, Feb 13, 2023, 09:47:09 - garyhsudbm: I submitted my problem using the online form last week. There is a button "support" next to my sign-in account. Does it go to the email you gave me? 
Mon, Feb 13, 2023, 09:48:56 - juliangautier: Hey garyhsudbm. I'm trying to find the email you sent last week. Could you share the email address you used?
Mon, Feb 13, 2023, 09:50:30 - garyhsudbm: Message deleted by poikilotherm
Mon, Feb 13, 2023, 09:51:14 - juliangautier: I see it, thanks! I'll reply through that email.
Mon, Feb 13, 2023, 09:51:54 - garyhsudbm: Thank you so much
Mon, Feb 13, 2023, 09:52:10 - pdurbin: juliangautier: thanks! For my reference: RT #336353
Mon, Feb 13, 2023, 09:52:26 - juliangautier: Actually, could you check your spam folder? A colleague replied last week but didn't hear back from you.
Mon, Feb 13, 2023, 09:53:19 - poikilotherm: garyhsudbm: I redacted your mail address to keep it private.
Mon, Feb 13, 2023, 09:53:42 - juliangautier: pdurbin: 336353 is the ticket for the email that garyhsudbm sent today. 335264 is the ticket that garyhsudbm sent last week
Mon, Feb 13, 2023, 09:54:03 - juliangautier: I'll probably merge them now lol
Mon, Feb 13, 2023, 09:57:34 - juliangautier: Actually 335264 was sent two weeks ago üò¨.
Mon, Feb 13, 2023, 09:59:43 - pdurbin: <@garyhsudbm:matrix.org "and I saw this. Please note: Use..."> garyhsudbm or juliangautier where is this shown?
Mon, Feb 13, 2023, 10:01:09 - juliangautier: <@pdurbin:matrix.org "garyhsudbm or juliangautier wher..."> On the login page (https://dataverse.harvard.edu/loginpage.xhtml)
Mon, Feb 13, 2023, 10:15:01 - garyhsudbm: <@juliangautier:matrix.org "pdurbin: 336353 is the ticket fo..."> Yes, it is in my spam folder. I just replied it. Thanks. 
Mon, Feb 13, 2023, 12:05:54 - aialves: Hello. Last week I reported that, after change of :Shoulder, :Authority, :DoiProvider settings, an error occurred when dataset was saved. I  fixed this removing those settings and setting them again. Thank You for your precious help.
Mon, Feb 13, 2023, 12:13:34 - pdurbin: aialves: great! So you're all set? Glad to hear it.
Mon, Feb 13, 2023, 15:49:30 - Tanay Karve: Hey folks, 
in [this](https://groups.google.com/g/dataverse-community/c/lfe9aWtBvm8) comment, they say that the issue was fixed by "adding the AJP_ attribute as an override."
What does adding as an override mean?
I already have AJP_ as an attributePrefix in my <ApplicationDefaults> tag.
Mon, Feb 13, 2023, 15:49:44 - Tanay Karve: do they mean that add it to the <ApplicationOverride> tag?
Mon, Feb 13, 2023, 15:56:45 - pdurbin: I've never heard of that tag so I doubt it.
Mon, Feb 13, 2023, 15:59:04 - pdurbin: Tanay Karve: it feels like you're close. Please remind me, are you using Rocky? Could it be SELinux getting in the way?
Mon, Feb 13, 2023, 16:01:08 - Tanay Karve: in the shibboleth container or in the host?
Mon, Feb 13, 2023, 16:01:29 - pdurbin: Uh. Wherever shibd is running.
Mon, Feb 13, 2023, 16:03:38 - Tanay Karve: shibd is running in the shibboleth container, and i tried checking whether selinux is running by looking at /etc/selinux/config, but the file does not exist.
however, there's a file called semanage.conf and it contains this:

```
module-store = direct

# When generating the final linked and expanded policy, by default
# semanage will set the policy version to POLICYDB_VERSION_MAX, as
# given in <sepol/policydb.h>.  Change this setting if a different
# version is necessary.
#policy-version = 19

# expand-check check neverallow rules when executing all semanage
# commands. There might be a penalty in execution time if this
# option is enabled.
expand-check=0

# usepasswd check tells semanage to scan all pass word records for home directories
# and setup the labeling correctly. If this is turned off, SELinux will label only /home
# and home directories of users with SELinux login mappings defined, see
# semanage login -l for the list of such users.
# If you want to use a different home directory, you will need to use semanage fcontext command.
# For example, if you had home dirs in /althome directory you would have to execute
# semanage fcontext -a -e /home /althome
usepasswd=False
bzip-small=true
bzip-blocksize=5
ignoredirs=/root;/bin;/boot;/dev;/etc;/lib;/lib64;/proc;/run;/sbin;/sys;/tmp;/usr;/var

[sefcontext_compile]
path = /usr/sbin/sefcontext_compile
args = -r $@
[end]

```
Mon, Feb 13, 2023, 16:04:12 - pdurbin: Where does this container come from? The dataverse-docker repo?
Mon, Feb 13, 2023, 16:04:49 - Tanay Karve: yes from coronawhy/shibboleth
Mon, Feb 13, 2023, 16:08:02 - pdurbin: coronawhy. that's Vyacheslav Tikhonov 
Mon, Feb 13, 2023, 16:08:22 - pdurbin: I can't really support dataverse-docker well. It's a mystery to me. Community contributed.
Mon, Feb 13, 2023, 16:08:42 - pdurbin: Do you want to try setting it up on some EC2 instances or something? I can help with that.
Mon, Feb 13, 2023, 16:08:48 - pdurbin: Even if it's just to show it working.
Mon, Feb 13, 2023, 16:09:53 - pdurbin: Or I could set up https://dev1.dataverse.org with the samltest IdP I wrote about in the docs. And show you the config I'm using.
Mon, Feb 13, 2023, 16:52:29 - Tanay Karve: Thanks, I'll get back to you on this.
Meanwhile, can you confirm if the issue is that headers are not getting passed between shibboleth and payara?
Mon, Feb 13, 2023, 17:01:28 - Tanay Karve: <@pdurbin:matrix.org "Tanay Karve: it feels like you'r..."> and yes, the shibd container is using Rocky. but SELinux is disabled.
Mon, Feb 13, 2023, 17:13:20 - Tanay Karve: Also, I used SAMLtest instead of my IDP and see the exact same issue
Mon, Feb 13, 2023, 18:54:01 - pdurbin: frustrating
Mon, Feb 13, 2023, 18:54:20 - pdurbin: How do you even deploy dataverse-docker to production?
Mon, Feb 13, 2023, 18:54:31 - pdurbin: I can imagine running it on my laptop.
Mon, Feb 13, 2023, 18:54:38 - pdurbin: But it's a mental leap for me to run it in the cloud.
Mon, Feb 13, 2023, 18:56:18 - Tanay Karve: yeah it has indeed been a pain.
but it does reduce the efforts needed to install all deps for dataverse manually
Mon, Feb 13, 2023, 18:56:59 - pdurbin: Are you running it on AWS? Google? Azure?
Mon, Feb 13, 2023, 18:57:36 - Tanay Karve: my university has its own VM infrastructure and due to our policy we can't use any public cloud providers
Mon, Feb 13, 2023, 18:57:43 - pdurbin: fancy
Mon, Feb 13, 2023, 18:57:56 - Tanay Karve: yeah dataverse was the perfect solution for it
Mon, Feb 13, 2023, 18:58:08 - pdurbin: so kubernetes? openshift? openstack?
Mon, Feb 13, 2023, 18:58:38 - Tanay Karve: openstack
Mon, Feb 13, 2023, 18:59:12 - pdurbin: ok, so you have a VM running on openstack
Mon, Feb 13, 2023, 18:59:20 - pdurbin: that VM is running some kind of linux
Mon, Feb 13, 2023, 18:59:24 - pdurbin: probably doesn't matter which
Mon, Feb 13, 2023, 18:59:29 - pdurbin: and it's running docker
Mon, Feb 13, 2023, 18:59:37 - Tanay Karve: yup
Mon, Feb 13, 2023, 18:59:51 - pdurbin: so you type docker-compose to spin it all up?
Mon, Feb 13, 2023, 18:59:58 - Tanay Karve: exactly
Mon, Feb 13, 2023, 19:00:38 - pdurbin: I haven't done this but I can sort of imagine it
Mon, Feb 13, 2023, 19:00:58 - pdurbin: what flavor of linux is the VM running?
Mon, Feb 13, 2023, 19:01:11 - Tanay Karve: rocky linux v8
Mon, Feb 13, 2023, 19:01:31 - pdurbin: and you installed docker? or do you have people for that?
Mon, Feb 13, 2023, 19:02:19 - Tanay Karve: did it myself
Mon, Feb 13, 2023, 19:02:34 - Tanay Karve: lol its just me working on project
Mon, Feb 13, 2023, 19:03:53 - pdurbin: heh
Mon, Feb 13, 2023, 19:04:11 - pdurbin: Would you be able to add a line or two here to show how you install Docker? https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/edaa94ac8242c511ccfe5c9be535c451840cdde6/ec2/ec2-create-instance.sh#L244
Mon, Feb 13, 2023, 19:05:31 - pdurbin: Or I could create an issue and you could paste it in as a comment.
Mon, Feb 13, 2023, 19:06:19 - Tanay Karve: i'll add the line, but its like 4-5 commands
Mon, Feb 13, 2023, 19:07:26 - pdurbin: That's fine. Let me talk it out a bit more
Mon, Feb 13, 2023, 19:07:33 - pdurbin: What if we add a flag to that script
Mon, Feb 13, 2023, 19:07:36 - pdurbin: -d if it's available
Mon, Feb 13, 2023, 19:07:39 - pdurbin: for docker mode
Mon, Feb 13, 2023, 19:07:50 - pdurbin: and instead of installing everything directly on the ec2 instance
Mon, Feb 13, 2023, 19:08:13 - pdurbin: it installs docker (your 4-5 lines)
Mon, Feb 13, 2023, 19:08:21 - pdurbin: clones the dataverse-docker repo
Mon, Feb 13, 2023, 19:08:31 - pdurbin: and runs docker-compose
Mon, Feb 13, 2023, 19:08:50 - pdurbin: That way, it'll be easier for us to poke around with that dataverse-docker repo
Mon, Feb 13, 2023, 19:09:02 - Tanay Karve: hmm sounds good
Mon, Feb 13, 2023, 19:09:14 - pdurbin: so how about I create an issue and you create a PR
Mon, Feb 13, 2023, 19:09:21 - Tanay Karve: yup
Mon, Feb 13, 2023, 19:09:21 - pdurbin: I'm not sure if -d is available, by the way
Mon, Feb 13, 2023, 19:09:36 - pdurbin: yeah -d is for destroy
Mon, Feb 13, 2023, 19:09:46 - Tanay Karve: oof
Mon, Feb 13, 2023, 19:09:51 - pdurbin: -c for container mode?
Mon, Feb 13, 2023, 19:10:47 - Tanay Karve: sure but canonically isn't it used for " -c `cmd`"
Mon, Feb 13, 2023, 19:11:06 - Tanay Karve: how about long flag --dockerized
Mon, Feb 13, 2023, 19:11:12 - Tanay Karve: or --docker
Mon, Feb 13, 2023, 19:11:24 - pdurbin: why can't we have nice things
Mon, Feb 13, 2023, 19:11:41 - pdurbin: sorry, we're using the builtin bash stuff so we don't have --long --flags
Mon, Feb 13, 2023, 19:12:22 - pdurbin: I don't care what letter we use. You pick. Please scroll up to see what's in use.
Mon, Feb 13, 2023, 19:13:03 - Tanay Karve: okay then -c is fine
Mon, Feb 13, 2023, 19:16:53 - pdurbin: see, I knew you'd come around
Mon, Feb 13, 2023, 19:17:07 - pdurbin: Ok, for now maybe you can just paste your 4-5 commands here: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/268
Mon, Feb 13, 2023, 19:17:27 - pdurbin: carlsonp will help with this crazy idea. He likes containers.
Mon, Feb 13, 2023, 19:18:49 - pdurbin: Once my wife and I went to a Whole Foods in Boston after many years at a food co-op in Madison, Wisconsin. We brought bins for buying flour in bulk. We asked the cashier if we could get the tare to know how much our bins weigh. She had to ask for her supervisor and said, "THESE PEOPLE HAVE CONTAINERS!"
Mon, Feb 13, 2023, 19:20:01 - carlsonp: containerizing stuff makes life so much easier :D
Mon, Feb 13, 2023, 19:20:19 - pdurbin: That was 20 years ago. I'm not sure if you can still buy in bulk at Whole Foods. I'm more of a Trader Joe's guy these days.
Mon, Feb 13, 2023, 19:26:28 - carlsonp: every time I go into Whole Foods I get sticker-shock
Mon, Feb 13, 2023, 19:27:43 - Tanay Karve: trader joes is amazing
Mon, Feb 13, 2023, 19:38:49 - Tanay Karve: Should I make changes to the ec2-create-instance.sh file on the develop branch?
Mon, Feb 13, 2023, 19:39:05 - pdurbin: "whole paycheck", we call it
Mon, Feb 13, 2023, 19:39:50 - pdurbin: Tanay Karve: in your fork, please create a new branch with the issue in the name of the branch. maybe 268-docker something
Mon, Feb 13, 2023, 19:42:20 - Tanay Karve: Message deleted
Mon, Feb 13, 2023, 19:42:39 - Tanay Karve: <@pdurbin:matrix.org "Would you be able to add a line ..."> fork from develop or this one^
Mon, Feb 13, 2023, 19:43:16 - pdurbin: I'm a little confused. Your pull request will be made against the develop branch
Mon, Feb 13, 2023, 19:43:54 - Tanay Karve: my b, nevermind
Mon, Feb 13, 2023, 19:44:59 - pdurbin: again, for now you can also just throw the commands in a comment in the issue
Mon, Feb 13, 2023, 19:45:16 - Tanay Karve: okay cool, i'll do that
Mon, Feb 13, 2023, 19:46:32 - pdurbin: I'm thinking we'll just put a big "if -c" before that `ssh -T` line
Mon, Feb 13, 2023, 19:46:35 - pdurbin: and then put in the command we want
Mon, Feb 13, 2023, 19:46:38 - pdurbin: and exit early
Mon, Feb 13, 2023, 19:49:15 - Tanay Karve: [done](https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/268#issuecomment-1428929579)
Mon, Feb 13, 2023, 19:51:46 - Tanay Karve: i need to report to my advisor, any eta it takes to debug this issue. what would be a good estimate?
Mon, Feb 13, 2023, 19:54:50 - Tanay Karve: also, another unrelated question:
if a user needs to upload files through ftp, and does so to the /data directory, how can i register those files to dataverse?
Mon, Feb 13, 2023, 20:01:26 - pdurbin: buh, well it hasn't been prioritized yet
Mon, Feb 13, 2023, 20:01:38 - pdurbin: I'm actually doing the dishes right now
Mon, Feb 13, 2023, 20:01:58 - pdurbin: the thing about dataverse-docker is that it's community supported
Mon, Feb 13, 2023, 20:02:19 - pdurbin: so really I should be sending you to its creator, Vyacheslav Tikhonov 
Mon, Feb 13, 2023, 20:03:49 - pdurbin: but I'm interested in how to run Docker on a server
Mon, Feb 13, 2023, 20:03:58 - pdurbin: I think I had it working once but I forget how
Mon, Feb 13, 2023, 20:15:41 - Tanay Karve: okay, about the ftp thing?
Mon, Feb 13, 2023, 20:21:54 - pdurbin: right, sorry, was helping my daughter with her essay
Mon, Feb 13, 2023, 20:22:25 - pdurbin: qqmyers knows more about this than I do
Mon, Feb 13, 2023, 20:22:54 - pdurbin: but I'm pretty sure there's an API to add files where you specify the path to already uploaded files
Mon, Feb 13, 2023, 20:23:33 - pdurbin: if you can't find anything in the guides about this, please feel free to open an issue because we should document it
Mon, Feb 13, 2023, 20:23:40 - Tanay Karve: sounds good, i'll check it out. thanks philip :)
Mon, Feb 13, 2023, 20:25:11 - pdurbin: sure
Mon, Feb 13, 2023, 20:25:23 - pdurbin: I think his DVUploader might handle parts of this
Mon, Feb 13, 2023, 20:25:27 - pdurbin: not FTP though
Mon, Feb 13, 2023, 20:25:39 - pdurbin: direct upload to S3, then add the files to Dataverse
Mon, Feb 13, 2023, 20:27:32 - pdurbin: Here's a decent description: https://groups.google.com/g/dataverse-community/c/ZcVZUaODAhA/m/R8tDaV-cHQAJ
Mon, Feb 13, 2023, 20:28:50 - pdurbin: Here's the API he added (dev guide, a bit experimental): https://guides.dataverse.org/en/5.12.1/developers/s3-direct-upload-api.html
Mon, Feb 13, 2023, 20:31:17 - pdurbin: specifically: https://guides.dataverse.org/en/5.12.1/developers/s3-direct-upload-api.html#adding-the-uploaded-file-to-the-dataset
Mon, Feb 13, 2023, 20:32:03 - pdurbin: but instead of `'storageIdentifier':'s3://demo-dataverse-bucket:176e28068b0-1c3f80357c42'` you'd have `file://path-to-file`
Mon, Feb 13, 2023, 20:32:17 - pdurbin: I think
Mon, Feb 13, 2023, 20:32:49 - pdurbin: again, please feel free to ask for better docs for your use case (to create an issue, I mean)
Mon, Feb 13, 2023, 20:33:10 - pdurbin: oh and you can call me Phil üòÑ
Mon, Feb 13, 2023, 20:33:36 - Tanay Karve: aha okay
Mon, Feb 13, 2023, 20:36:57 - pdurbin: I'm just looking at those commands. Thanks. I do remember something about docker-ce
Mon, Feb 13, 2023, 20:37:42 - pdurbin: Let's see what Don thinks tomorrow
Mon, Feb 13, 2023, 22:13:08 - Tanay Karve: let me try asking ChatGPT how to fix it
Tue, Feb 14, 2023, 06:10:01 - ra_min_: Hi again. Is there a api endpoint to get list the files of a draft dataset? I am always getting `{"status":"ERROR","message":"Dataset version 1.0 of dataset 8 not found"}`
Tue, Feb 14, 2023, 07:08:34 - Don Sizemore: ra_min_: I think you want https://guides.dataverse.org/en/latest/api/native-api.html#list-files-in-a-dataset
Tue, Feb 14, 2023, 07:08:52 - Don Sizemore: ra_min_: replace "1.0" with ":draft" or "draft" (IDR)
Tue, Feb 14, 2023, 07:09:51 - Don Sizemore: Tanay Karve: Shibboleth will work with SELinux enabled, but you have to allow httpd to talk to the shibd socket and allow httpd to read /var/cache/shibboleth
Tue, Feb 14, 2023, 07:10:19 - Don Sizemore: Tanay Karve: not sure how that plays out in a separate container, but on a single host those are the SELinux accomodations
Tue, Feb 14, 2023, 07:18:57 - ra_min_: <@donsizemore:matrix.org "ra_min_: replace "1.0" with ":dr..."> yes! thanks, I tried "latest" and "draft" but ":draft" did the trick! :)
Tue, Feb 14, 2023, 08:05:02 - pdurbin: Check out Jan Range at Notre Dame: https://science.nd.edu/news/new-markup-language-a-fair-way-of-sharing-data-in-enzymology-and-catalysis/
Tue, Feb 14, 2023, 09:08:23 - pdurbin: Tanay Karve: do you have time to meet with Vyacheslav Tikhonov about Shibboleth after 15:00 Paris time? I believe that's 9am here in Boston.
Tue, Feb 14, 2023, 09:39:15 - pdurbin: poikilotherm (CET,UTC+1): thanks for the release note tweaks. Committed.
Tue, Feb 14, 2023, 09:40:25 - pdurbin: Don Sizemore: morning. Thanks for your thoughts on my crazy idea: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/268
Tue, Feb 14, 2023, 09:41:26 - pdurbin: Yes, the idea is to hack on the ec2-create script, which happens to live in the ansible repo.
Tue, Feb 14, 2023, 09:41:41 - pdurbin: I wasn't actually planning to run any ansible code
Tue, Feb 14, 2023, 09:43:05 - pdurbin: but you're right, it's as if I'm asking for an ec2-create script for dataverse-docker
Tue, Feb 14, 2023, 09:43:26 - pdurbin: just like how I asked for `ec2-create-instance.sh for dataverse-kubernetes` over at https://github.com/gdcc/dataverse-kubernetes/issues/127 I guess üòÑ
Tue, Feb 14, 2023, 09:50:35 - Don Sizemore: @pdurbin this all sounds right. Ansible _could_ have a part in configuration/deployment, but I really think it's overkill.
Tue, Feb 14, 2023, 10:05:33 - pdurbin: Yeah, again, that repo is just where the ec2 script lives
Tue, Feb 14, 2023, 10:39:43 - Don Sizemore: the ^^ dataverse-ansible ^^ ec2 script
Tue, Feb 14, 2023, 10:47:13 - pdurbin: sure, but I sometimes comment out the ansible block and just use it to spin up a server
Tue, Feb 14, 2023, 10:47:27 - pdurbin: and that's the idea here
Tue, Feb 14, 2023, 10:47:36 - pdurbin: spin up a server, install docker on it
Tue, Feb 14, 2023, 10:48:00 - pdurbin: because right now I only run docker on my laptop
Tue, Feb 14, 2023, 10:48:21 - pdurbin: a mac laptop at that
Tue, Feb 14, 2023, 10:48:23 - pdurbin: I feel pretty detached from running docker on a server
Tue, Feb 14, 2023, 10:57:15 - ra_min_: Message deleted
Tue, Feb 14, 2023, 12:24:24 - poikilotherm: Congrats! ü•≥ Dataverse 5.13 is out! ‚ù§Ô∏è
Tue, Feb 14, 2023, 12:29:38 - Don Sizemore: @pdurbin hence the `--docker` mode, I like it.
Tue, Feb 14, 2023, 13:14:08 - pdurbin: yes, come and get it: https://github.com/IQSS/dataverse/releases/tag/v5.13
Tue, Feb 14, 2023, 13:14:36 - pdurbin: oh good, deployed to demo already: https://demo.dataverse.org
Tue, Feb 14, 2023, 14:06:23 - pdurbin: Dataverse 5.13 announcement: https://groups.google.com/g/dataverse-community/c/hCGluDdD_Ms/m/eiZWaPnNBAAJ
Tue, Feb 14, 2023, 14:59:35 - pdurbin: The other day Ana Trisovic and I pushed a NetCDF/HDF5 design doc: https://docs.google.com/document/d/1Ax_sMdgx5ROkIBA7-IC4_hySvgXkk6O8qTZLIvWWnqE/edit?usp=sharing
Tue, Feb 14, 2023, 15:00:38 - pdurbin: We'd love feedback, especially from people we've interviewed like captainsifff and Gael Forget or people who have attended meetings like poikilotherm (CET,UTC+1) and Philipp . Thanks!!
Tue, Feb 14, 2023, 18:05:40 - Tanay Karve: <@pdurbin:matrix.org "Tanay Karve: do you have time to..."> Hi pdurbin sorry, I'm in san diego so I missed this message. 
I have created a [whenisgood](http://whenisgood.net/jiisnbp) 
Tue, Feb 14, 2023, 18:06:47 - pdurbin: Tanay Karve: would you be able to join the Slack that Slava is in. We both @mention him here but he's more of a Slack guy
Tue, Feb 14, 2023, 18:06:56 - Tanay Karve: sure sounds good
Tue, Feb 14, 2023, 18:08:40 - Tanay Karve: my email is tanaykarve@gmail.com
Tue, Feb 14, 2023, 18:08:52 - pdurbin: Tanay Karve: here, please try this: https://join.slack.com/t/dataversecommunity/shared_invite/zt-1plnso87k-DsMGuNe8S8tYVKGTl~4ZoA
Wed, Feb 15, 2023, 07:08:49 - Don Sizemore: Tanay Karve: have you ruled out SELinux (looking for "denied" in /var/log/audit/audit.log)?
Wed, Feb 15, 2023, 07:09:45 - Don Sizemore: @pdurbin running Docker on a server is essentially the same as running it on your laptop
Wed, Feb 15, 2023, 07:34:54 - pdurbin: I'm sure you're right. I've just barely done it.
Wed, Feb 15, 2023, 08:33:19 - Don Sizemore: Tanay Karve: also, have you double-checked the additional headers specified in https://github.com/DataverseNO/dataverse-docker/blob/dataverse.no/distros/dataverse.no/configs/http-ssl.conf and elsewhere in Slava's repo? His particular problem was a necessary HTTP header not getting passed.
Wed, Feb 15, 2023, 09:00:28 - pdurbin: Don Sizemore: good idea. We're getting a Slack going on this. Can I invite you? üôè
Wed, Feb 15, 2023, 10:16:47 - Don Sizemore: @pdurbin sure thing
Wed, Feb 15, 2023, 10:25:37 - pdurbin: Don Sizemore: added! Thanks!!
Wed, Feb 15, 2023, 12:30:43 - pdurbin: Don Sizemore: check this out! Frontend code! https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/266 üéâ
Wed, Feb 15, 2023, 12:50:52 - pdurbin sent an image. (Media omitted)
Wed, Feb 15, 2023, 12:51:03 - pdurbin: Looks nice! üòÑ
Wed, Feb 15, 2023, 13:02:18 - Don Sizemore: @pdurbin I may or may not have already sent the PR amongst my co-workers
Wed, Feb 15, 2023, 13:04:28 - pdurbin: Heh. Nice. I just uploaded build.zip to that issue. But where to unzip it? ü§î
Wed, Feb 15, 2023, 14:26:34 - Stefano Totaro joined the room
Wed, Feb 15, 2023, 14:28:09 - Stefano Totaro: Message deleted
Wed, Feb 15, 2023, 14:28:26 - Stefano Totaro: Message deleted
Wed, Feb 15, 2023, 14:47:28 - poikilotherm: pdurbin: I'm hacking on the MDB TSV parser... Shocking to see how our own TSV files are not compliant to spec
Wed, Feb 15, 2023, 14:47:57 - pdurbin: d'oh!
Wed, Feb 15, 2023, 14:48:17 - pdurbin: Do you mean the parser from Jan Range ?
Wed, Feb 15, 2023, 14:48:45 - pdurbin: this: https://github.com/gdcc/easyDataverse
Wed, Feb 15, 2023, 14:49:31 - poikilotherm: Nope, I'm talking about my parser
Wed, Feb 15, 2023, 14:50:36 - poikilotherm: https://github.com/IQSS/dataverse/pull/8320
Wed, Feb 15, 2023, 14:50:57 - pdurbin: gotcha gotcha
Wed, Feb 15, 2023, 14:50:59 - poikilotherm: Generating solr configset from a Maven module
Wed, Feb 15, 2023, 14:51:36 - pdurbin: nice
Wed, Feb 15, 2023, 14:52:36 - pdurbin: I've been thinking, what if I start by running postgres in a container? And still run Solr and Payara directly on my Mac. (I'm thinking about my new Mac laptop at home.) Is that progress?
Wed, Feb 15, 2023, 14:52:46 - pdurbin: carlsonp ^^
Wed, Feb 15, 2023, 14:53:44 - poikilotherm: Sure, you can do that. Remember to do port binds. Apart from that: happy using 
Wed, Feb 15, 2023, 14:55:20 - pdurbin: Ok. My thought process is that I need to install Java anyway. So running Solr and Payara locally isn't a big deal.
Wed, Feb 15, 2023, 14:55:36 - pdurbin: Is there a postgres config/container/dockerfile ready for me to use?
Wed, Feb 15, 2023, 14:58:40 - poikilotherm: As we do not modify it, you could just use `docker run` for the time being
Wed, Feb 15, 2023, 14:59:31 - poikilotherm: Here's also a straight forward example for a compose file. https://herewecode.io/blog/create-a-postgresql-database-using-docker-compose/
Wed, Feb 15, 2023, 15:00:47 - pdurbin: Hmm, ok. And maybe I could just tweak the "dev env setup" steps to say you can use Docker instead for postgres.
Wed, Feb 15, 2023, 15:02:20 - pdurbin: give actual instructions, I mean
Wed, Feb 15, 2023, 15:02:39 - pdurbin: maybe some from that link
Wed, Feb 15, 2023, 15:03:12 - pdurbin: probably smart to specify the version of postgres we use, for example
Wed, Feb 15, 2023, 15:06:53 - poikilotherm: That's why I do like running this via the Docker Maven Plugin
Wed, Feb 15, 2023, 15:07:24 - poikilotherm: But of course for the time being, just to play around a little, you can simply add the version tag to the image
Wed, Feb 15, 2023, 15:07:53 - poikilotherm: (Which would be `postgres:13` instead of `postgres:latest`)
Wed, Feb 15, 2023, 15:14:18 - carlsonp: <@pdurbin:matrix.org "I've been thinking, what if I st..."> yeah I think that's a good start, take a look at the `docker-compose.yml` file in the PR if you want an example
Wed, Feb 15, 2023, 15:15:06 - carlsonp: maybe it's even worth just doing a quick crash course in Docker and docker-compose itself for you and anyone else interested?
Wed, Feb 15, 2023, 15:17:19 - pdurbin: yeah, maybe
Wed, Feb 15, 2023, 15:17:30 - pdurbin: carlsonp: I did leave a comment recently about sudo on your PR
Wed, Feb 15, 2023, 15:17:59 - carlsonp: poikilotherm (CET,UTC+1): is this the right call to be building the base container? `mvn -Pct -f modules/container-base clean install -Dmaven.test.skip -Ddocker.verbose=true` I'm suddenly not able to build it with the maven docker plugin

Wed, Feb 15, 2023, 15:18:26 - carlsonp: yeah I saw that I was working on it this morning, I think it's needed (at least on my machine), I tried it without and got an error
Wed, Feb 15, 2023, 15:18:49 - carlsonp: the UID/GID mapping stuff in Docker is kind of a pain
Wed, Feb 15, 2023, 15:19:52 - pdurbin: ok, well, we should work toward removing the sudo eventually, thanks
Wed, Feb 15, 2023, 15:21:03 - poikilotherm: That maven.test.skip is strange
Wed, Feb 15, 2023, 15:21:40 - poikilotherm: But apart from that seems to be right
Wed, Feb 15, 2023, 16:09:12 - Jan Range: <@oliver:bertuch.name "pdurbin: I'm hacking on the MDB ..."> Currently EasyDataverse is just generating code from the TSV but it uses an internal representation as a JSONSchema to do so. Could implement a function to export this either as JSON or whatever you like
Wed, Feb 15, 2023, 16:16:22 - pdurbin: It would go cool to re-use that JSON Schema.
Wed, Feb 15, 2023, 16:16:57 - Jan Range: Ok perfect, let me create an issue so I dont forget it
Wed, Feb 15, 2023, 16:20:15 - Jan Range: Here is an example of a schema

https://github.com/JR-1991/pyDaRUS/blob/main/pyDaRUS/metadatablocks/schemas/journal.json
Wed, Feb 15, 2023, 16:21:04 - poikilotherm: Jan Range: what I want/need is a validating parser for TSV files to check if a TSV is spec compliant and semantically correct in terms of references, uniqueness, etc
Wed, Feb 15, 2023, 16:22:04 - poikilotherm: So this is what I am writing just now :-D
Wed, Feb 15, 2023, 16:22:27 - poikilotherm: As it is in Java, it might get reused as a lib in Dataverse, too, so TSVs get checked when uploaded
Wed, Feb 15, 2023, 16:23:09 - Jan Range: Ah alright makes sense to stay within Java 
Wed, Feb 15, 2023, 16:23:56 - Jan Range: Anyway, could you send me the specs or some place where I can look into? This would definitely also be important for EasyDataverse to validate TSVs
Wed, Feb 15, 2023, 16:24:13 - poikilotherm: Haha "the spec" is here https://guides.dataverse.org/en/latest/admin/metadatacustomization.html
Wed, Feb 15, 2023, 16:24:30 - poikilotherm: And I already found a lot of things where "the spec" is not very deterministic / clear
Wed, Feb 15, 2023, 16:24:48 - poikilotherm: Which is why I want a validating parser üòâ
Wed, Feb 15, 2023, 16:25:17 - Jan Range: Ah alright, thought there were some internal specs üòÑ
Wed, Feb 15, 2023, 16:25:28 - poikilotherm: Hehehe nope
Wed, Feb 15, 2023, 16:26:11 - pdurbin: internal specs would have been nice... *sigh*
Wed, Feb 15, 2023, 16:27:15 - poikilotherm: Going for TSV was maybe not the smartest move after all - many editors don't display tabs well, replace with spaces and delete whitespace at the end of a line...
Wed, Feb 15, 2023, 16:27:30 - Jan Range: How about YAML?
Wed, Feb 15, 2023, 16:27:39 - Jan Range: Or even TOML
Wed, Feb 15, 2023, 16:28:10 - poikilotherm: Do you think we should go for a bold move and ditch TSVs?
Wed, Feb 15, 2023, 16:28:26 - poikilotherm: Make a PR to load blocks via API using a real format?
Wed, Feb 15, 2023, 16:28:38 - Jan Range: I would very much +1 this
Wed, Feb 15, 2023, 16:29:07 - poikilotherm: Of course CSV/TSV/tabular files have the advantage of being more human friendly
Wed, Feb 15, 2023, 16:29:38 - poikilotherm: This whole schema thing will produce very lengthy files with a lot of boilerplate
Wed, Feb 15, 2023, 16:29:55 - poikilotherm: I can relate to why a tab file format was choosen
Wed, Feb 15, 2023, 16:30:04 - Jan Range: I have something "in between" developed in my PhD but it still needs a bit of testing. 

https://github.com/JR-1991/sdrdm-template/blob/main/specifications/Example.md
Wed, Feb 15, 2023, 16:30:25 - Jan Range: Can be converted into schemes but is quite readable
Wed, Feb 15, 2023, 16:31:20 - poikilotherm: And still it gets lengthy once you have more than 2 fields
Wed, Feb 15, 2023, 16:31:48 - poikilotherm: The tab format obviously has the drawback with side scrolling
Wed, Feb 15, 2023, 16:32:08 - poikilotherm: Probably there is no perfect solution üòù
Wed, Feb 15, 2023, 16:32:29 - Jan Range: Yea thats true üòÑ 
Wed, Feb 15, 2023, 16:33:00 - poikilotherm: I kind of like the idea to specify this as Markdown to make it more includeable in documentation
Wed, Feb 15, 2023, 16:33:09 - Jan Range: The biggest problem to me is that when you open a TSV in Excel the cells are formatted so badly xD
Wed, Feb 15, 2023, 16:33:16 - poikilotherm: But markdown is not very efficient/well defined
Wed, Feb 15, 2023, 16:33:39 - poikilotherm: Haha that does not get better by going for JSON/YAML/TOML
Wed, Feb 15, 2023, 16:36:08 - Jan Range: <@oliver:bertuch.name "But markdown is not very efficie..."> In terms of structure? 
Wed, Feb 15, 2023, 16:37:11 - Jan Range: <@oliver:bertuch.name "Haha that does not get better by..."> Sigh, coding life is depressing üòÑ
Wed, Feb 15, 2023, 16:37:23 - poikilotherm: Na - Markdown is very good at representing something to be rendered (despite its limitations). But it does not handle cases like references to other fields or data types well
Wed, Feb 15, 2023, 16:38:10 - poikilotherm: Of course one can implement such a thing - but why bother when there are tools to do this already (like Json Schema etc)
Wed, Feb 15, 2023, 16:39:00 - pdurbin: We went with TSV because at the time our metadata expert designed all these metadata blocks in Google Spreadsheets. The appendix of the user guide still links to that spreadsheet (one tab per block).
Wed, Feb 15, 2023, 16:39:57 - pdurbin: Before TSV we were trying to manually reconcile what was in the spreadsheet vs what we put in the database. I think we were writing SQL update scripts at the time? It was maddening.
Wed, Feb 15, 2023, 16:41:02 - Jan Range: <@oliver:bertuch.name "Of course one can implement such..."> Yea thats true, ultimately this is converted to such. It served quite well though until now to get non-programmers involved in setting up data models
Wed, Feb 15, 2023, 16:43:59 - pdurbin: Here's where we removed metadata block population from a SQL script: https://github.com/IQSS/dataverse/commit/ba49e89 
Wed, Feb 15, 2023, 16:44:22 - pdurbin: Anyway, you can imagine it was not fun. The spreadsheet changed. Time to manually update the SQL script.
Wed, Feb 15, 2023, 16:47:17 - poikilotherm: Poor Phil!
Wed, Feb 15, 2023, 16:58:43 - pdurbin: so we invented the cockamamie TSV import thing as an improvement, if you can believe it üò¨
Wed, Feb 15, 2023, 16:59:17 - pdurbin: but you smart folks, please please please invent something better for us!
Wed, Feb 15, 2023, 16:59:58 - pdurbin: and please involve juliangautier because I think he's still keeping the spreadsheet linked from the guides in sync with the TSVs (which are in GitHub, of course)
Wed, Feb 15, 2023, 17:00:32 - pdurbin: This issue is related, by the way: https://github.com/IQSS/dataverse/issues/4451
Wed, Feb 15, 2023, 19:24:40 - poikilotherm: In case anyone in interested at looking at what I have so far, go look for the module at https://github.com/poikilotherm/dataverse/tree/7662-solrconfig/modules/solr-configset
Wed, Feb 15, 2023, 19:25:01 - poikilotherm: Simply execute `mvn compile` and watch the magic happen
Wed, Feb 15, 2023, 19:25:58 - poikilotherm: This is WIP with compiling the schema.xml, but I can say I already have found lots of "violations" of "the spec" in our TSV files üòâ
Wed, Feb 15, 2023, 19:26:47 - poikilotherm: (Mostly these violations seem to come from the spec not being clear/precise)
Wed, Feb 15, 2023, 19:47:11 - pdurbin: [INFO] 76208/214511K
Wed, Feb 15, 2023, 19:53:58 - pdurbin: [INFO] BUILD SUCCESS
Wed, Feb 15, 2023, 19:54:11 - pdurbin: but what am I looking for?
Wed, Feb 15, 2023, 19:58:26 - pdurbin: it created target/solr-8.11.1.zip
Thu, Feb 16, 2023, 00:52:30 - poikilotherm: It should have invoked the three Jbang scripts, too ü§î
Thu, Feb 16, 2023, 05:02:02 - Stefano Totaro: Message deleted
Thu, Feb 16, 2023, 05:02:26 - Stefano Totaro: Message deleted
Thu, Feb 16, 2023, 05:02:43 - Stefano Totaro: Message deleted
Thu, Feb 16, 2023, 05:03:16 - Stefano Totaro: Message deleted
Thu, Feb 16, 2023, 07:23:47 - pdurbin: poikilotherm (CET,UTC+1): here was the full output:
```
[INFO] --- jbang:0.0.7:run (compile-schema) @ solr-configset ---
[WARNING] JBang not found. Downloading the latest version
[INFO] Using JBang v.0.103.1

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  09:12 min
[INFO] Finished at: 2023-02-15T19:52:45-05:00
[INFO] ------------------------------------------------------------------------
```
Thu, Feb 16, 2023, 07:24:15 - poikilotherm: Interesting. Maybe it will execute the script on a second run then?
Thu, Feb 16, 2023, 07:25:57 - poikilotherm: Oh wait - actually it probably did download JBang and execute the script
Thu, Feb 16, 2023, 07:26:24 - poikilotherm: Here' s my full output:
```
‚ùØ mvn compile
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< edu.harvard.iq:solr-configset >--------------------
[INFO] Building solr-configset 5.12.1
[INFO] --------------------------------[ pom ]---------------------------------
[INFO] 
[INFO] --- download-maven-plugin:1.6.8:wget (download-solr) @ solr-configset ---
[INFO] File already exist, skipping
[INFO] 
[INFO] --- jbang-maven-plugin:0.0.7:run (extract-template) @ solr-configset ---
[INFO] Found JBang v.0.103.1
 in jbang
[INFO] [jbang] Building jar...
[INFO] Extracting solr-8.11.1/server/solr/configsets/_default from /home/obertuch/Entwicklung/dataverse-kubernetes/dataverse/modules/solr-configset/target/solr-8.11.1.zip into /home/obertuch/Entwicklung/dataverse-kubernetes/dataverse/modules/solr-configset/target/dataverse
[INFO] 
[INFO] --- jbang-maven-plugin:0.0.7:run (compile-solrconfig-xml) @ solr-configset ---
[INFO] Found JBang v.0.103.1
 in jbang
[INFO] Starting to transform solrconfig.xml...
[INFO] Found XSLT files in /home/obertuch/Entwicklung/dataverse-kubernetes/dataverse/modules/solr-configset/src/main/resources/solrconfig-xslt:
[INFO] 01-disable-schemaless.xslt
[INFO] 02-search-boosting.xslt
[INFO] 03-static-schema-factory.xslt
[INFO] 99-fix-special-chars.xslt
[INFO] Finished applying XSLT transformations, saved to /home/obertuch/Entwicklung/dataverse-kubernetes/dataverse/modules/solr-configset/target/dataverse/conf/solrconfig.xml
[INFO] 
[INFO] --- jbang-maven-plugin:0.0.7:run (compile-schema) @ solr-configset ---
[INFO] Found JBang v.0.103.1
 in jbang
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  6.656 s
[INFO] Finished at: 2023-02-16T13:25:27+01:00
[INFO] ------------------------------------------------------------------------

```
Thu, Feb 16, 2023, 07:27:08 - poikilotherm: So the last step, compiling the schema, is what is WIP ATM
Thu, Feb 16, 2023, 07:27:36 - pdurbin: ```
% mvn compile
[INFO] Scanning for projects...
[INFO] 
[INFO] -------------------< edu.harvard.iq:solr-configset >--------------------
[INFO] Building solr-configset 5.12.1
[INFO]   from pom.xml
[INFO] --------------------------------[ pom ]---------------------------------
[INFO] 
[INFO] --- download:1.6.8:wget (download-solr) @ solr-configset ---
[INFO] File already exist, skipping
[INFO] 
[INFO] --- jbang:0.0.7:run (extract-template) @ solr-configset ---
[WARNING] JBang not found. Downloading the latest version
[INFO] Using JBang v.0.103.1

[INFO] Extracting solr-8.11.1/server/solr/configsets/_default from /Users/pdurbin/github/iqss/dataverse/modules/solr-configset/target/solr-8.11.1.zip into /Users/pdurbin/github/iqss/dataverse/modules/solr-configset/target/dataverse
[INFO] 
[INFO] --- jbang:0.0.7:run (compile-solrconfig-xml) @ solr-configset ---
[WARNING] JBang not found. Downloading the latest version
[INFO] Using JBang v.0.103.1

[INFO] Starting to transform solrconfig.xml...
[INFO] Found XSLT files in /Users/pdurbin/github/iqss/dataverse/modules/solr-configset/src/main/resources/solrconfig-xslt:
[INFO] 01-disable-schemaless.xslt
[INFO] 02-search-boosting.xslt
[INFO] 03-static-schema-factory.xslt
[INFO] 99-fix-special-chars.xslt
[INFO] Finished applying XSLT transformations, saved to /Users/pdurbin/github/iqss/dataverse/modules/solr-configset/target/dataverse/conf/solrconfig.xml
[INFO] 
[INFO] --- jbang:0.0.7:run (compile-schema) @ solr-configset ---
[WARNING] JBang not found. Downloading the latest version
[INFO] Using JBang v.0.103.1

[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  3.751 s
[INFO] Finished at: 2023-02-16T07:26:45-05:00
[INFO] ------------------------------------------------------------------------
pdurbin@air solr-configset % 
```
Thu, Feb 16, 2023, 07:27:49 - poikilotherm: Great!
Thu, Feb 16, 2023, 07:28:03 - poikilotherm: Then you have a dir `target/dataverse` now
Thu, Feb 16, 2023, 07:28:11 - pdurbin: ah, there's more stuff in "target" now, a directory called "dataverse"
Thu, Feb 16, 2023, 07:28:23 - poikilotherm: It will contain almost everything needed for a full configset - the schema.xml is missing (again: WIP)
Thu, Feb 16, 2023, 07:29:02 - pdurbin: I don't know what a configset is but cool! Sounds like progress! üöÄ
Thu, Feb 16, 2023, 07:29:20 - poikilotherm: It does however already contain the tweaked solrconfig.xml :-)
Thu, Feb 16, 2023, 07:30:04 - poikilotherm: You probably need to switch to a different TSV file path to see the parser in action
Thu, Feb 16, 2023, 07:30:19 - poikilotherm: https://github.com/poikilotherm/dataverse/blob/bc065374f4909f62030fcd0bd6f70609ee53a6d2/modules/solr-configset/pom.xml#L115-L115 is commented out
Thu, Feb 16, 2023, 07:30:57 - poikilotherm: (I used a local path from the module for now to have a smaller, editable set of TSVs)
Thu, Feb 16, 2023, 07:40:37 - pdurbin: or just uncomment that line, I suppose
Thu, Feb 16, 2023, 08:11:05 - poikilotherm: Yeah :-)
Thu, Feb 16, 2023, 08:18:05 - poikilotherm: Oh - and after uncommenting, add a dash. Needs to a single dash when commenting out due to XML limitations
Thu, Feb 16, 2023, 08:51:13 - pdurbin: [INFO] 31552/214511K
Thu, Feb 16, 2023, 08:51:35 - pdurbin: (different computer, downloading something, takes a while)
Thu, Feb 16, 2023, 09:33:44 - pdurbin: now it shows stuff like this:
`[INFO] social_science.tsv:1:   Missing column 'blockURI' from position 5.`
Thu, Feb 16, 2023, 09:34:36 - pdurbin: juliangautier: you might like this
Thu, Feb 16, 2023, 09:35:17 - pdurbin: Here's more of the the output:
```
[INFO] astrophysics.tsv:1: Invalid headline:
[INFO] astrophysics.tsv:1:   Less fields (2) found than required (5).
[INFO] astrophysics.tsv:1:   Column 2 contains 'name    dataverseAlias    displayName', but spec expects 'name' to be here.
[INFO] astrophysics.tsv:1:   Missing column 'name' from position 2.
[INFO] astrophysics.tsv:1:   Missing column 'dataverseAlias' from position 3.
[INFO] astrophysics.tsv:1:   Missing column 'displayName' from position 4.
[INFO] astrophysics.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] biomedical.tsv:1: Invalid headline:
[INFO] biomedical.tsv:1:   Less fields (4) found than required (5).
[INFO] biomedical.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] computational_workflow.tsv:1: Invalid headline:
[INFO] computational_workflow.tsv:1:   Less fields (3) found than required (5).
[INFO] computational_workflow.tsv:1:   Column 3 contains 'dataverseAlias   displayName', but spec expects 'dataverseAlias' to be here.
[INFO] computational_workflow.tsv:1:   Missing column 'dataverseAlias' from position 3.
[INFO] computational_workflow.tsv:1:   Missing column 'displayName' from position 4.
[INFO] computational_workflow.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customARCS.tsv:1: Invalid headline:
[INFO] customARCS.tsv:1:   Less fields (4) found than required (5).
[INFO] customARCS.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customCHIA.tsv:1: Invalid headline:
[INFO] customCHIA.tsv:1:   Less fields (3) found than required (5).
[INFO] customCHIA.tsv:1:   Column 3 contains 'dataverseAlias   displayName', but spec expects 'dataverseAlias' to be here.
[INFO] customCHIA.tsv:1:   Missing column 'dataverseAlias' from position 3.
[INFO] customCHIA.tsv:1:   Missing column 'displayName' from position 4.
[INFO] customCHIA.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customDigaai.tsv:1: Invalid headline:
[INFO] customDigaai.tsv:1:   Less fields (3) found than required (5).
[INFO] customDigaai.tsv:1:   Column 3 contains 'dataverseAlias   displayName', but spec expects 'dataverseAlias' to be here.
[INFO] customDigaai.tsv:1:   Missing column 'dataverseAlias' from position 3.
[INFO] customDigaai.tsv:1:   Missing column 'displayName' from position 4.
[INFO] customDigaai.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customGSD.tsv:1: Invalid headline:
[INFO] customGSD.tsv:1:   Less fields (4) found than required (5).
[INFO] customGSD.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customMRA.tsv:1: Invalid headline:
[INFO] customMRA.tsv:1:   Less fields (3) found than required (5).
[INFO] customMRA.tsv:1:   Column 3 contains 'dataverseAlias   displayName', but spec expects 'dataverseAlias' to be here.
[INFO] customMRA.tsv:1:   Missing column 'dataverseAlias' from position 3.
[INFO] customMRA.tsv:1:   Missing column 'displayName' from position 4.
[INFO] customMRA.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customPSI.tsv:1: Invalid headline:
[INFO] customPSI.tsv:1:   Less fields (3) found than required (5).
[INFO] customPSI.tsv:1:   Column 3 contains 'dataverseAlias   displayName', but spec expects 'dataverseAlias' to be here.
[INFO] customPSI.tsv:1:   Missing column 'dataverseAlias' from position 3.
[INFO] customPSI.tsv:1:   Missing column 'displayName' from position 4.
[INFO] customPSI.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] customPSRI.tsv:1: Invalid headline:
[INFO] customPSRI.tsv:1:   Less fields (4) found than required (5).
[INFO] customPSRI.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] custom_hbgdki.tsv:1: Invalid headline:
[INFO] custom_hbgdki.tsv:1:   Less fields (4) found than required (5).
[INFO] custom_hbgdki.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] geospatial.tsv:1: Invalid headline:
[INFO] geospatial.tsv:1:   Less fields (4) found than required (5).
[INFO] geospatial.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] journals.tsv:1: Invalid headline:
[INFO] journals.tsv:1:   Less fields (4) found than required (5).
[INFO] journals.tsv:1:   Missing column 'blockURI' from position 5.
[INFO] social_science.tsv:1: Invalid headline:
[INFO] social_science.tsv:1:   Less fields (4) found than required (5).
[INFO] social_science.tsv:1:   Missing column 'blockURI' from position 5.
```
Thu, Feb 16, 2023, 09:40:06 - juliangautier: Cool okay. So this could check a TSV file before it's used. And that output is showing errors of test TSV files?
Thu, Feb 16, 2023, 09:53:13 - pdurbin: that's my understanding
Thu, Feb 16, 2023, 09:54:03 - pdurbin: poikilotherm (CET,UTC+1): a long time ago I suggested a preview mode for metadata TSVs: https://github.com/IQSS/dataverse/issues/2551
Thu, Feb 16, 2023, 09:54:16 - pdurbin: for loading them up, I mean, a sanity check
Thu, Feb 16, 2023, 10:06:18 - juliangautier: NIce! Kind of related, when we changed some of the field names and tooltips of the citation metadata block last year, I wound up writing a python script that creates a .properties file for a given tsv file, and it included some similar checks on the tsv file.
Thu, Feb 16, 2023, 10:15:27 - pdurbin: Nice!
Thu, Feb 16, 2023, 10:16:08 - pdurbin: Yeah, as long as we have those strings in two places, we need scripts like that to keep them in sync.
Thu, Feb 16, 2023, 10:25:41 - juliangautier: But I agree, managing the TSV files has been a hassle by itself (before considering the properties files). Interesting to hear how this system with the tsv files came to be
Thu, Feb 16, 2023, 10:26:24 - pdurbin: yeah, I think I might leave a comment on that issue Pete opened, just to record the history
Thu, Feb 16, 2023, 10:26:34 - pdurbin: it made sense at the time!
Thu, Feb 16, 2023, 10:27:00 - pdurbin: What should we be editing instead of TSVs?
Thu, Feb 16, 2023, 10:36:48 - juliangautier: Maybe if there was a UI form that let you add, edit and view the properties of each metadata field, so that most people wouldn't have to deal with the tsv file and properties files?
Thu, Feb 16, 2023, 10:37:06 - pdurbin: yeah
Thu, Feb 16, 2023, 10:37:18 - pdurbin: Should we build the UI ourselves? Or try to use CEDAR?
Thu, Feb 16, 2023, 10:38:16 - pdurbin: People have even asked for a UI within Dataverse itself.
Thu, Feb 16, 2023, 10:38:31 - pdurbin: to let them create a new metadata block on the fly
Thu, Feb 16, 2023, 10:43:33 - Jan Range: The UI idea is great! Would this be something inside Dataverse or an external tool?
Thu, Feb 16, 2023, 10:44:16 - pdurbin: Maybe both if we figure out React modularity üòÑ
Thu, Feb 16, 2023, 10:44:54 - Jan Range: That would then be a second case for the modularity topic üòÑ
Thu, Feb 16, 2023, 10:45:44 - Jan Range: Would love to contribute, currently quite "React-hungry" 
Thu, Feb 16, 2023, 10:50:29 - Lynette Garc√≠a: Hello
Thu, Feb 16, 2023, 10:55:12 - pdurbin: How's it going Lynette Garc√≠a ?
Thu, Feb 16, 2023, 10:55:34 - pdurbin: We have a standup meeting in 5 minutes but I hope it's a short meeting. üòÑ
Thu, Feb 16, 2023, 10:56:20 - pdurbin: Jan Range: in that case, please consider leaving a review here: https://github.com/IQSS/dataverse-frontend/pull/4
Thu, Feb 16, 2023, 11:21:44 - Jan Range: <@pdurbin:matrix.org "Jan Range: in that case, please ..."> Reviewed üòä
Thu, Feb 16, 2023, 11:31:13 - pdurbin: Jan Range: thanks! When you ran Cypress, did stuff happen in a browser? That's sort of what I expected but it was all command line for me.
Thu, Feb 16, 2023, 11:35:29 - Jan Range: Same for me, was all command line too
Thu, Feb 16, 2023, 11:37:13 - Jan Range: When you run npx cypress open it will open up in the Cypress dashboard where you can inspect all tests if that was what you were looking for
Thu, Feb 16, 2023, 11:37:26 - Jan Range: Looks nice! 
Thu, Feb 16, 2023, 12:04:00 - pdurbin sent an image. (Media omitted)
Thu, Feb 16, 2023, 12:04:24 - pdurbin: so cool
Thu, Feb 16, 2023, 12:04:30 - pdurbin: Jan Range: thanks for the pro tip!
Thu, Feb 16, 2023, 14:05:42 - aialves: Hello, good afternoon :-)
Thu, Feb 16, 2023, 14:08:06 - aialves: Something really strange happened with a dataset I inserted in dataverse. I saved a new dataset and I did insert 5 image files in that dataset. After that I updated the dataset inserting new files. As usual the dataset registed automatically a doi, but ....each file registered a DOI too... 
Thu, Feb 16, 2023, 14:16:29 - pdurbin: DOI registration for files is on by default. (It probably shouldn't be.) You can turn it off.
Thu, Feb 16, 2023, 14:16:58 - pdurbin: Here's the setting: https://guides.dataverse.org/en/5.13/installation/config.html#filepidsenabled
Thu, Feb 16, 2023, 14:17:36 - aialves: Thank you. I will check it out.
Thu, Feb 16, 2023, 14:24:37 - pdurbin: Sure. I couldn't find an issue for exactly this but left a comment here (close enough, I think!): https://github.com/IQSS/dataverse/issues/9272#issuecomment-1433599079 üòÑ
Thu, Feb 16, 2023, 14:53:03 - kbutera joined the room
Thu, Feb 16, 2023, 14:53:24 - kbutera: Is there a cost associated uploading data to Dataverse?
Thu, Feb 16, 2023, 14:54:15 - kbutera: Does dataverse support large file uploads? Such as ultrasound images and videos?
Thu, Feb 16, 2023, 14:54:41 - pdurbin: kbutera: no cost for https://dataverse.harvard.edu if you stay within limits
Thu, Feb 16, 2023, 14:55:07 - pdurbin: most of the other installations are for specific institutions: https://dataverse.org/installations
Thu, Feb 16, 2023, 14:55:18 - kbutera: Can you send me a link describing the limits?
Thu, Feb 16, 2023, 14:55:46 - pdurbin: sure! https://support.dataverse.harvard.edu/researchers
Thu, Feb 16, 2023, 14:59:38 - kbutera: Thanks!
Thu, Feb 16, 2023, 15:01:22 - pdurbin: kbutera: sure thing. And yes, any file is fine. The only restriction is size.
Thu, Feb 16, 2023, 15:01:38 - pdurbin: Some files have previewers, like images and videos.
Thu, Feb 16, 2023, 15:48:54 - poikilotherm: Good evening boys and girls, what did I miss?
Thu, Feb 16, 2023, 15:49:58 - pdurbin: I just mentioned your k8s work
Thu, Feb 16, 2023, 15:50:00 - poikilotherm: juliangautier: as I mentioned earlier, as we rely heavily on TSVs for now, we should at least have one validating parser that makes the spec executable.
Thu, Feb 16, 2023, 15:50:16 - poikilotherm: I already got pretty far 
Thu, Feb 16, 2023, 15:50:26 - pdurbin: Would you want to talk to the folks who host infra for Harvard Dataverse about Docker?
Thu, Feb 16, 2023, 15:50:43 - poikilotherm: And creating these properties files might be also worth adding as a script 
Thu, Feb 16, 2023, 15:51:05 - poikilotherm: <@pdurbin:matrix.org "Would you want to talk to the fo..."> Sure thing!
Thu, Feb 16, 2023, 15:51:25 - juliangautier: <@oliver:bertuch.name "juliangautier: as I mentioned ea..."> üëç
Thu, Feb 16, 2023, 15:52:20 - poikilotherm: > <@juliangautier:matrix.org> üëç

I started a list yesterday with ATM 12 points missing from "the spec" we should define more clearly ...
Thu, Feb 16, 2023, 15:52:56 - poikilotherm: Should I drop this into some Google doc?
Thu, Feb 16, 2023, 15:54:41 - poikilotherm: Maybe this is offtooic for this channel, but let me share this nonetheless... Ana Trisovic and some others and me did release a new paper https://arxiv.org/abs/2302.07500
Thu, Feb 16, 2023, 15:56:32 - pdurbin: someday it will be on topic!
Thu, Feb 16, 2023, 16:48:19 - poikilotherm: pdurbin: are compound field parents really indexed? It seems strange, given the fact they are of fieldType none, have no displayformat etc
Thu, Feb 16, 2023, 16:48:42 - poikilotherm: Are they allowed to be facetable?
Thu, Feb 16, 2023, 16:48:48 - pdurbin: I don't think so
Thu, Feb 16, 2023, 16:49:00 - pdurbin: authorName is indexed and facetable. author is not
Thu, Feb 16, 2023, 16:49:06 - pdurbin: author is just a container
Thu, Feb 16, 2023, 16:49:12 - pdurbin: no data
Thu, Feb 16, 2023, 16:49:21 - poikilotherm: Exactly what I thought
Thu, Feb 16, 2023, 16:49:34 - poikilotherm: I see all these fields in schema.xml...
Thu, Feb 16, 2023, 16:50:03 - poikilotherm: And once again the spec is not clear on this üòÖ
Thu, Feb 16, 2023, 16:50:07 - pdurbin: yeah
Thu, Feb 16, 2023, 16:50:23 - pdurbin: I hate to ask but... should we focus on adding fields via the Solr API instead?
Thu, Feb 16, 2023, 16:52:15 - pdurbin: not that I want to yuck your yum! üòÖ
Thu, Feb 16, 2023, 16:54:23 - poikilotherm: Well I *think* I can live with generating the schema via GitOps
Thu, Feb 16, 2023, 16:54:46 - poikilotherm: And it seems there are a lot of other tools and ideas that are using the TSVs directly
Thu, Feb 16, 2023, 16:55:05 - poikilotherm: So having something to validate those is probably a good thing
Thu, Feb 16, 2023, 16:56:07 - pdurbin: yes, absolute
Thu, Feb 16, 2023, 16:56:14 - pdurbin: absolutely!
Thu, Feb 16, 2023, 16:57:08 - pdurbin sent an image. (Media omitted)
Thu, Feb 16, 2023, 16:57:23 - pdurbin: (something better than our TSVs!)
Thu, Feb 16, 2023, 16:58:00 - poikilotherm: As I discussed with Jan Range yesterday - it's not all bad with a tabular file format
Thu, Feb 16, 2023, 17:01:01 - poikilotherm: With the danger of people hating me: maybe XML would be a nice thing for this, when we go for useful attribute defaults to avoid repetition
Thu, Feb 16, 2023, 17:19:03 - Jan Range: Although I hate XML, this is a very good idea!
Thu, Feb 16, 2023, 17:34:10 - poikilotherm: Compared to JSON it has the plus of comments, for TOML/YAML the plus of schema validation
Thu, Feb 16, 2023, 17:34:56 - poikilotherm: And many IDEs can help you filling in fields with autocomplete by analysing the XSD
Thu, Feb 16, 2023, 17:36:24 - poikilotherm: I do like the capability of XSD to well define trees of objects, which becomes more important...
Thu, Feb 16, 2023, 17:36:42 - poikilotherm: I know that Johannes Darms and vera_c are interested in deep nesting of fields
Thu, Feb 16, 2023, 19:23:24 - pdurbin: and maybe you could use JAXB - https://en.wikipedia.org/wiki/Jakarta_XML_Binding
Fri, Feb 17, 2023, 03:54:57 - arnau merino: Hi, I am still pretty new to dataverse, and I was wondering? Is it possible to add a new Export Metadata Format for my dataverse? I've been asked to add a new format and  I am not sure how to start or where to watch. 
Fri, Feb 17, 2023, 07:25:00 - pdurbin: arnau merino: hi! Yes! Well, sort of! The details are in this new-ish pull request by qqmyers - https://github.com/IQSS/dataverse/pull/9175
Fri, Feb 17, 2023, 11:15:23 - Lynette Garc√≠a: Hi everyone, me again ü§™. I can't publish a dataset. I have a DataCite test account, I have the prefix, I configured the prefix with :Authority settings in the api, I double checked -Ddoi options in domain.xml. I checked server.log and I have this error: [2023-02-17T17:07:49.273+0100] [Payara 5.2022.3] [WARNING] [] [edu.harvard.iq.dataverse.DOIDataCiteServiceBean] [tid: _ThreadID=68 _ThreadName=http-thread-pool::http-listener-1(2)] [timeMillis: 1676650069273] [levelValue: 900] [[
  Identifier not created: create failed
java.io.IOException: Response from postMetadata: 404, Not found
	at edu.harvard.iq.dataverse.DataCiteRESTfullClient.postMetadata(DataCiteRESTfullClient.java:175)
	at edu.harvard.iq.dataverse.DOIDataCiteRegisterService.reserveIdentifier(DOIDataCiteRegisterService.java:124)
Fri, Feb 17, 2023, 11:15:55 - Lynette Garc√≠a: What I'm doing wrong?
Fri, Feb 17, 2023, 11:20:11 - pdurbin: Huh, didn't we get this working? üòÑ
Fri, Feb 17, 2023, 11:20:27 - pdurbin: https://status.datacite.org looks green
Fri, Feb 17, 2023, 11:27:40 - Lynette Garc√≠a: <@pdurbin:matrix.org "Huh, didn't we get this working?..."> Noooo üò≠üò≠üò≠üò≠ I read this [conversation](https://groups.google.com/g/dataverse-community/c/s4GO6kOnlck/m/4qLqAuFaAQAJ), becouse I have the same issue, so I checked all the options, but.... I still have the error.
Fri, Feb 17, 2023, 11:30:21 - Lynette Garc√≠a: This is the URL I get https://doi.org/10.82462/FK2/VUDPSA for my dataset, it has my prefix but it doesn't work
Fri, Feb 17, 2023, 11:30:28 - Lynette Garc√≠a sent an image. (Media omitted)
Fri, Feb 17, 2023, 11:33:01 - Lynette Garc√≠a: dataverse hates me ü§™ü§™üòùüòõüòÜüòÜüòÖ
Fri, Feb 17, 2023, 11:33:44 - pdurbin: No, Dataverse loves you ‚ù§Ô∏è
Fri, Feb 17, 2023, 11:33:50 - pdurbin: It's just hard to configure
Fri, Feb 17, 2023, 11:35:39 - pdurbin sent an image. (Media omitted)
Fri, Feb 17, 2023, 11:36:01 - pdurbin: from a talk by poikilotherm (CET,UTC+1) - http://talks.bertuch.name/mpconfig-20210223/#/1/0/1
Fri, Feb 17, 2023, 11:38:07 - pdurbin: Lynette Garc√≠a: can you please email your domain.xml (removing passwords first, please) to support@dataverse.org ?
Fri, Feb 17, 2023, 11:38:50 - pdurbin: Lynette Garc√≠a: and also the output from http://localhost:8080/api/admin/settings please
Fri, Feb 17, 2023, 11:44:15 - Lynette Garc√≠a: ok, done
Fri, Feb 17, 2023, 11:45:07 - pdurbin: got it - #336676: test datacite problem - thanks
Fri, Feb 17, 2023, 11:47:13 - Lynette Garc√≠a: thank you
Fri, Feb 17, 2023, 11:50:10 - pdurbin: I wonder if it's this:

    ":Shoulder": "FK2/",

Fri, Feb 17, 2023, 11:50:28 - pdurbin: our docs say "Out of the box, the DOI shoulder is set to ‚ÄúFK2/‚Äù but this is for testing only! When you apply for your DOI namespace, you may have requested a shoulder."
Fri, Feb 17, 2023, 11:50:36 - pdurbin: https://guides.dataverse.org/en/5.13/installation/config.html#shoulder
Fri, Feb 17, 2023, 11:50:51 - pdurbin: Lynette Garc√≠a: did you request a shoulder?
Fri, Feb 17, 2023, 11:54:16 - Lynette Garc√≠a: Nop, but I thought it wasn't necessary because in this conversation, the lady said that she had left it that way and it worked for her.
Fri, Feb 17, 2023, 11:54:28 - Lynette Garc√≠a: "
yc5...@nyu.edu
Jan 27, 2022, 8:36:14 PM
para dataverse...@googlegroups.com
Hi Don

Thanks for your kind heart. I tried to delete all of my databases settings and add it again, it worked! 
Since I am in the test environment, so I set my ":Shoulder" to "FK2/" and also I can log in https://doi.test.datacite.org/
And each time I create a file/dataset, It will show a new record on it. So everything is perfect now!!!
"
Fri, Feb 17, 2023, 11:55:21 - Lynette Garc√≠a: but I can ask dataCite for a Shoulder
Fri, Feb 17, 2023, 11:55:55 - pdurbin: or you could delete it from your settings (easy to add back)
Fri, Feb 17, 2023, 11:56:25 - pdurbin: `curl -X DELETE http://localhost:8080/api/admin/settings/:Shoulder`
Fri, Feb 17, 2023, 11:58:27 - Lynette Garc√≠a: ok, I'm going to delete the dataset too, and create it again
Fri, Feb 17, 2023, 12:05:43 - Lynette Garc√≠a: Nop, same error, this is the https://doi.org/10.82462/VTVK7L, it has no shoulder
Fri, Feb 17, 2023, 12:16:09 - pdurbin: but https://doi.org/10.82462/VTVK7L is for real DOIs, not test DOIs
Fri, Feb 17, 2023, 12:16:58 - Lynette Garc√≠a: ok,so I need the shoulder
Fri, Feb 17, 2023, 12:17:33 - Lynette Garc√≠a: for the test DOIs
Fri, Feb 17, 2023, 12:17:52 - pdurbin: well, I'm just saying it's not a real DOI
Fri, Feb 17, 2023, 12:18:07 - pdurbin: because you minted it using https://mds.test.datacite.org
Fri, Feb 17, 2023, 12:18:11 - pdurbin: "test"
Fri, Feb 17, 2023, 12:48:30 - pdurbin: so we shouldn't expect https://doi.org/10.82462/VTVK7L to work (which will only work for real DOIs)
Fri, Feb 17, 2023, 12:49:16 - pdurbin: The DOIs on datasets at https://demo.dataverse.org don't work either. They are also not real DOIs.
Fri, Feb 17, 2023, 12:49:51 - pdurbin: That said, you shouldn't be getting errors in server.log. Are you?
Fri, Feb 17, 2023, 12:56:03 - Lynette Garc√≠a: No, I don't have errors in server.log
Fri, Feb 17, 2023, 13:38:23 - Lynette Garc√≠a: I was able to post the dataset. Somewhere lost in the datacite documentation it said that the username has to be made up of the username and the repository name, separated by a dot. Thanks for your support. You are the best! or in spanish, ¬°ustedes son lo m√°ximo!, ja ja
Fri, Feb 17, 2023, 14:04:33 - pdurbin: üòä
Fri, Feb 17, 2023, 14:09:49 - pdurbin: Lynette Garc√≠a: great news! I went ahead and closed that ticket you opened. Have a nice weekend!
Fri, Feb 17, 2023, 16:04:52 - poikilotherm: pdurbin: the shoulder setting is completely unrelated to datacite. They indeed only care for username and pass, plus a matching prefix.
Fri, Feb 17, 2023, 16:44:02 - pdurbin: yeah, make sense, thanks
Sat, Feb 18, 2023, 08:10:45 - Don Sizemore: I remember Gustavo saying that the shoulder wasn't required, but he wasn't certain whether there were portions of Dataverse code which might expect a shoulder.
Sat, Feb 18, 2023, 09:47:33 - pdurbin: We were doing it wrong originally with 4.0 but we fixed it up eventually, especially with feedback from JHU.
Sun, Feb 19, 2023, 12:02:47 - pdurbin: Hi all. It's a holiday in the US. Also, I'll be working odd hours this week. On the tarmac, about to fly to Seoul.
Sun, Feb 19, 2023, 12:31:01 - poikilotherm: Have fun in Seoul!
Sun, Feb 19, 2023, 12:31:19 - poikilotherm: I'm in Paderborn for deRSE23 and heading out to meet a few folks
Sun, Feb 19, 2023, 12:31:53 - poikilotherm: You'll be in my future for this week! A nice variation to the normal üòÖ
Mon, Feb 20, 2023, 07:20:49 - Don Sizemore: @pdurbin stay away from those ICBMs.
Mon, Feb 20, 2023, 08:55:53 - pdurbin: Yeah
Mon, Feb 20, 2023, 09:59:21 - lincoln_: Two questions:
1. Can anyone please provide a link to a Dataset (of any category) harvested by Harvard Uni ?
2. Link for a published Dataset with file(s) having  their provenance.
Mon, Feb 20, 2023, 15:09:49 - pdurbin: lincoln_: these are harvested: https://dataverse.harvard.edu/dataverse/harvard?q=&fq1=metadataSource%3A%22Harvested%22&fq0=dvObjectType%3A%28dataverses+OR+datasets%29&types=dataverses%3Adatasets&sort=dateSort&order=
Mon, Feb 20, 2023, 15:10:43 - pdurbin: They have an icon of a box with an arrow pointing out of it to the top right
Mon, Feb 20, 2023, 15:11:28 - pdurbin: I'm not sure I can easily find a file with provenance
Mon, Feb 20, 2023, 20:58:17 - pdurbin sent an image. (Media omitted)
Mon, Feb 20, 2023, 20:58:30 - pdurbin: lincoln_: that's the facet to click ^^
Tue, Feb 21, 2023, 00:16:55 - alepizz joined the room
Tue, Feb 21, 2023, 03:10:55 - pdurbin sent an image. (Media omitted)
Tue, Feb 21, 2023, 04:12:04 - poikilotherm: I just learned at deRSE23 from a colleague that there is https://www.fatiando.org/pooch/latest and it supports downloading from Dataverse... He's involved and says they will also announce it on the mailing list.
Tue, Feb 21, 2023, 04:13:22 - poikilotherm: (Support for Dataverse seems to be included in a next release, it's not yet in the docs)
Tue, Feb 21, 2023, 04:15:51 - poikilotherm: (Here's the PR that provides the initial Dataverse support https://github.com/fatiando/pooch/pull/318)
Tue, Feb 21, 2023, 10:31:35 - Miguel Silva sent an image. (Media omitted)
Tue, Feb 21, 2023, 10:32:42 - Miguel Silva: Hi everyone!
Almost done with all hardware checks and testing on all those smart DAQ. Next round of testing are on the 3 onbard sensors. 
Follow research & prototyping on my Github  and download the Kicad project files 
https://lnkd.in/es849KEx
Tue, Feb 21, 2023, 14:06:03 - carlsonp: Does anyone use Dataverse for active collaboration of data and data sharing with specific users or groups during a research project?  As opposed to sharing data with the general public as more of a "static" result after the research is completed.
Tue, Feb 21, 2023, 15:16:16 - poikilotherm: I think there where some numbers flyong around for how many private URLs are in use at Harvard Dataverse
Tue, Feb 21, 2023, 15:16:42 - poikilotherm: So these would be an indication of such a use case
Tue, Feb 21, 2023, 15:17:08 - poikilotherm: I know that DANS is looking into this, also with their funding for locally resolvable PIDs
Tue, Feb 21, 2023, 15:17:24 - poikilotherm: And every now and then there are some people with that use case
Tue, Feb 21, 2023, 16:30:39 - pdurbin: carlsonp: not sure. Probably a good question for the mailing list 
Tue, Feb 21, 2023, 20:05:15 - snu-jin joined the room
Wed, Feb 22, 2023, 01:17:35 - pdurbin: <@carlsonp:matrix.org "Does anyone use Dataverse for ac..."> I asked our head curator (Sonia) and heard back: "ifpri does some of this even tho they do data sharing and so do some groups  at harvard" ifpri is this group: https://dataverse.harvard.edu/dataverse/ifpri
Wed, Feb 22, 2023, 02:35:49 - Johannes Darms: As a comment on the tsv metadata block discussion. We wrote a converter that generates a tsv files from a JSON-Schema file. If that helps other, we are happy to share the code. Jan Range
Wed, Feb 22, 2023, 04:00:50 - poikilotherm: Johannes Darms: yes please share that code!
Wed, Feb 22, 2023, 04:01:01 - poikilotherm: I'm happy to create a GDCC repo for you as well!
Wed, Feb 22, 2023, 04:02:55 - poikilotherm: We should add these tools to central places and also link to them from the guide page
Wed, Feb 22, 2023, 06:39:05 - pdurbin: Yes and don't forget, updates to guides can be fast tracked.
Wed, Feb 22, 2023, 07:18:11 - Jan Range: <@johannes.darms:matrix.org "As a comment on the tsv metadata..."> Thats awesome! Is there a public repo already?
Wed, Feb 22, 2023, 07:20:41 - Jan Range: As a side note, since the last update the single metadatablock endpoint now contains all info that is necessary to generate the EasyDataverse objects in memory. No need for code gen anymore üéâ Going to update you once implemented
Wed, Feb 22, 2023, 08:49:40 - Johannes Darms: <@janrange:matrix.org "Thats awesome! Is there a public..."> still private, but there is not much code to it. Shall we add it to the EasyDataverse Repo, as it is also a python script?
Wed, Feb 22, 2023, 09:19:14 - Don Sizemore: @pdurbin I seem to have been kicked out of IQSS' Slack, whether intentional or not.
Wed, Feb 22, 2023, 11:02:03 - poikilotherm: <@donsizemore:matrix.org "@pdurbin I seem to have been kic..."> Me too. But Mike's on it
Wed, Feb 22, 2023, 11:02:37 - poikilotherm: pdurbin: so far I have not been able to reproduce the issue that is haunting Slava / DataverseNO: https://github.com/poikilotherm/reproducer-payara-mpconfig-profile
Wed, Feb 22, 2023, 11:33:50 - Don Sizemore: poikilotherm (CET,UTC+1): standing up such a thing was on my list, but my list is ever-changing.
Wed, Feb 22, 2023, 11:35:15 - poikilotherm: If you feel like we need to add a reproducer that Payara sticks to the MicroProfile Config Specs in a container, too, please feel free to add it :-)
Wed, Feb 22, 2023, 11:36:09 - poikilotherm: I'd also be happy for anyone else putting up a reproducer with Dataverse - I simply tried to boil it down to simpler mechanics and potentially create a bug report at Payara's (they'd request a reproducer anyway)
Wed, Feb 22, 2023, 11:54:55 - Jan Range: <@johannes.darms:matrix.org "still private, but there is not ..."> Sounds great! Going the other way around would be great to have in ED
Wed, Feb 22, 2023, 14:30:44 - pdurbin: Sigh. The Slack thing. Did it get sorted out?
Wed, Feb 22, 2023, 17:36:11 - poikilotherm: <@pdurbin:matrix.org "Sigh. The Slack thing. Did it ge..."> Not yet it seems...
Thu, Feb 23, 2023, 00:21:44 - alepizz left the room
Thu, Feb 23, 2023, 04:15:32 - Pallinger P√©ter: Hello! I've got a question about the semanic metadata API.
Is there a schema definition for the citation metadata RDF schema? E.g. for:
https://dataverse.org/schema/citation/authorName
Thu, Feb 23, 2023, 05:53:00 - pdurbin: Pallinger P√©ter: good question. I'm not sure. We might need to ask qqmyers or Vyacheslav Tikhonov
Thu, Feb 23, 2023, 06:41:07 - poikilotherm: No there isn't
Thu, Feb 23, 2023, 06:41:49 - poikilotherm: It might be a good idea to create these as part of the guide and add forwarding from the schema urls to the respective guide section
Thu, Feb 23, 2023, 06:42:31 - poikilotherm: We could create a new metadata guide, also explaining our blocks in greater details
Thu, Feb 23, 2023, 10:29:41 - carlsonp: pdurbin: we're still getting a lot of pushback on vulnerabilities within Solr 8.X, we may not be able to deploy Dataverse because of this, we may need to tackle this sooner: https://github.com/IQSS/dataverse/issues/9260
Thu, Feb 23, 2023, 16:57:26 - pdurbin: carlsonp: gotcha. Are you interested in making a pull request?
Thu, Feb 23, 2023, 16:58:25 - carlsonp: possibly, I'm still not really sure where they want me to focus at the moment.  I'm pressing for Dataverse but there's also drive to "just deploy something" using a different custom application and tie it in there.
Thu, Feb 23, 2023, 16:59:18 - carlsonp: "Cloud" in general is pretty new and it's a learning experience both from a technical and process standpoint for a lot of people.  To say it's hampering our development would be an understatement
Thu, Feb 23, 2023, 16:59:44 - pdurbin: I'll say
Thu, Feb 23, 2023, 16:59:54 - carlsonp: just wanted to provide a heads up is all
Thu, Feb 23, 2023, 17:00:06 - pdurbin: I'm in Seoul and I'm pushing a traditional installation 
Thu, Feb 23, 2023, 17:00:23 - carlsonp: fun!
Thu, Feb 23, 2023, 17:00:41 - pdurbin: Super fun
Thu, Feb 23, 2023, 17:01:09 - pdurbin: I should introduce snu-jin
Thu, Feb 23, 2023, 17:01:47 - pdurbin: It's early here but will try to do a proper intro sometime 
Thu, Feb 23, 2023, 17:02:11 - pdurbin: Does it have to be 9.x?
Thu, Feb 23, 2023, 17:02:30 - carlsonp: well, that's the most up-to-date version of Solr
Thu, Feb 23, 2023, 17:02:33 - pdurbin: Sometimes major versions are more work 
Thu, Feb 23, 2023, 17:02:52 - pdurbin: We never know until we try 
Thu, Feb 23, 2023, 17:03:02 - carlsonp: yep true
Thu, Feb 23, 2023, 17:03:40 - pdurbin: They don't care about Payara 5 going eol?
Thu, Feb 23, 2023, 17:04:00 - pdurbin: I guess they could buy support in that case 
Thu, Feb 23, 2023, 17:04:24 - carlsonp: um well, they care about vulnerabilities and security
Thu, Feb 23, 2023, 17:04:54 - pdurbin: They probably care about what their tool picks up 
Thu, Feb 23, 2023, 17:05:01 - carlsonp: exactly
Thu, Feb 23, 2023, 17:05:21 - pdurbin: In a different life I ran a Nessus scanner 
Thu, Feb 23, 2023, 17:06:07 - carlsonp: yeah there's lots of great scanners and resources out there today, definitely better
Thu, Feb 23, 2023, 17:06:56 - carlsonp: we talked a lot about the "dependency hell" that is modern software development and the huge stacks that get created today
Thu, Feb 23, 2023, 17:07:51 - carlsonp: even simple apps can pull in tens if not hundreds of dependencies, if one has a vulnerability, you can be relying on one person who maintains a critical dependency from the "goodness of their heart" if it's OSS
Thu, Feb 23, 2023, 17:08:26 - pdurbin: Yeah, insert xkcd cartoon here
Thu, Feb 23, 2023, 17:09:22 - pdurbin sent an image. (Media omitted)
Thu, Feb 23, 2023, 17:10:12 - carlsonp: it's scary because it's true, I wish corporations who have built so much and made so much money on top of all this great OSS provided more financial support and developers to help maintain that but...
Thu, Feb 23, 2023, 17:11:17 - pdurbin: Well, PRs help
Thu, Feb 23, 2023, 17:11:28 - pdurbin: That's usually what I do
Thu, Feb 23, 2023, 17:11:51 - pdurbin: Beg for PRs üòÑ
Thu, Feb 23, 2023, 17:12:18 - pdurbin: Anyway I better get some breakfast before our wrap up meeting 
Thu, Feb 23, 2023, 17:12:32 - carlsonp: later, thanks!
Thu, Feb 23, 2023, 17:12:48 - pdurbin: If you could clarify in the issue if 9.x is required it would be helpful 
Thu, Feb 23, 2023, 17:13:04 - carlsonp: sure I'll add a comment
Thu, Feb 23, 2023, 17:14:28 - pdurbin: Thanks!
Thu, Feb 23, 2023, 21:16:40 - pdurbin: If we started a containerization working group, who would want to join?
Thu, Feb 23, 2023, 21:17:04 - carlsonp: me
Fri, Feb 24, 2023, 04:43:50 - beep: <@pdurbin:matrix.org "If we started a containerization..."> That's a great initiative! Me and Pallinger P√©ter would be happy to join, mostly as observers and testers because carlsonp and poikilotherm (CET,UTC+1) know much more about the DV specific quirks.
Fri, Feb 24, 2023, 04:48:56 - beep: <@janrange:matrix.org "Thats awesome! Is there a public..."> We are working on a similar solution for CEDAR metadata templates, which are themselves JSON Schemas.

https://more.metadatacenter.org/tools-training/outreach/cedar-template-model
Fri, Feb 24, 2023, 09:48:19 - Jan Range: <@beeppeeb:matrix.org "We are working on a similar solu..."> Thanks for sending! Looks great, will check it out in detail today :-) 
Fri, Feb 24, 2023, 12:15:38 - jsoons joined the room
Fri, Feb 24, 2023, 19:19:32 - pdurbin sent an image. (Media omitted)
Sat, Feb 25, 2023, 18:11:06 - pdurbin sent an image. (Media omitted)
Sat, Feb 25, 2023, 18:12:09 - pdurbin: snu-jin: it was a pleasure meeting you and Wonsuk! See you again in Braga!
Sun, Feb 26, 2023, 08:07:34 - Johannes Darms: <@beeppeeb:matrix.org "We are working on a similar solu..."> I should have a meeting, I'll try to open source the code next week.
Mon, Feb 27, 2023, 06:58:23 - pdurbin: Posted some pics. Random order for now. Will add some commentary eventually! üòÖ http://thedurbins.com/phil/blog/2023/02/26/my-trip-to-korea.html
Mon, Feb 27, 2023, 09:36:26 - pdurbin: NetCDF/HDF5/geospatial meeting with me and Ana Trisovic in half an hour: https://docs.google.com/document/d/11wek54VRxobJs-b70AtItEbNbi7peVZ19BMmm2U-uzs/edit?usp=sharing
Tue, Feb 28, 2023, 05:35:47 - aialves: Good morning. A dataverse user uploaded a file in a dataset. The file is a pdf but the thumbnail is generic. The user wants the thumbnail to be the first page of the document. How can we change the file thumbnail?
Tue, Feb 28, 2023, 05:41:42 - pdurbin: aialves: good morning. Is it a large PDF? Is a thumbnail of the first page created for a small PDF?
Tue, Feb 28, 2023, 05:42:46 - pdurbin: poikilotherm (CET,UTC+1): morning. Please lemme know a good time to talk about the containers working group
Tue, Feb 28, 2023, 05:44:36 - aialves: <@pdurbin:matrix.org "aialves: good morning. Is it a l..."> The pdf file has 1347Kb. I will check thumbnail of small pdfs.
Tue, Feb 28, 2023, 05:46:05 - pdurbin: You can raise the limit. "For limiting the size (in bytes) of thumbnail images generated from files. The default is 1000000 bytes (1 MB)." -- https://guides.dataverse.org/en/5.13/installation/config.html#dataverse-dataaccess-thumbnail-pdf-limit
Tue, Feb 28, 2023, 06:25:56 - pdurbin: aialves: does that help?
Tue, Feb 28, 2023, 06:29:38 - aialves: <@pdurbin:matrix.org "aialves: does that help?"> Yes. The reported problem is solved. Thank you.
Tue, Feb 28, 2023, 06:30:12 - pdurbin: üéâ
Tue, Feb 28, 2023, 08:30:30 - poikilotherm: Hey! Was in a long meeting. Free now.
Tue, Feb 28, 2023, 08:31:15 - poikilotherm: Shall I boot a Zoom room?
Tue, Feb 28, 2023, 08:34:15 - pdurbin: How about in half an hour?
Tue, Feb 28, 2023, 08:34:43 - pdurbin: One thing I want to figure out is communication for the group. SLOPI, hopefully.
Tue, Feb 28, 2023, 08:44:06 - poikilotherm: Sounds good
Tue, Feb 28, 2023, 08:45:26 - poikilotherm: https://fz-juelich-de.zoom.us/j/94511769301
Tue, Feb 28, 2023, 08:54:29 - Don Sizemore: @pdurbin speaking of containers, I'm about to enter a meeting of my own but am about to come up for air and was going to ping you about the SPA building EC2 proposal. Guillermo would prefer a container?
Tue, Feb 28, 2023, 09:01:50 - pdurbin: Oh, would he? I heard it's being deployed to an S3 bucket. For testing at least. Guillermo Portas  
Tue, Feb 28, 2023, 09:12:58 - pdurbin: poikilotherm (CET,UTC+1): sorry, new laptop. Installing Zoom
Tue, Feb 28, 2023, 10:33:17 - Don Sizemore: @pdurbin S3 bucket it is! just sniffing around to find out what I'm supposed to be doing (if anything)
Tue, Feb 28, 2023, 14:39:08 - pdurbin: Don Sizemore: I asked at the frontend meeting. Nothing to do yet, I guess. Hopefully soon.
Tue, Feb 28, 2023, 14:41:34 - Don Sizemore: @pdurbin I am very good at doing nothing!
Tue, Feb 28, 2023, 14:49:54 - pdurbin: nothing comes from nothing
Tue, Feb 28, 2023, 15:23:29 - Tanay Karve: <@pdurbin:matrix.org "specifically: https://guides.dat..."> For this endpoint, can it work on unpublished datasets?
Tue, Feb 28, 2023, 15:25:01 - pdurbin: Yes, I believe so
Tue, Feb 28, 2023, 15:25:44 - Tanay Karve: Hmm, but when called with a dataset that is not published, it results in
```{"status":"ERROR","message":"Dataset with Persistent ID  not found."}%```
Tue, Feb 28, 2023, 15:26:12 - Tanay Karve: does it need changes to the api url?
Tue, Feb 28, 2023, 15:44:53 - Tanay Karve: I tried changing it from `/api/datasets/:persistentId/add?persistentId=` to `/api/datasets/:persistentId/versions/:draft/add?persistentId`
but then it says `API endpoint does not exist on this server.`
Tue, Feb 28, 2023, 16:01:03 - Tanay Karve: Message deleted
Tue, Feb 28, 2023, 16:03:19 - Tanay Karve: nevermind, silly mistake on my part
Tue, Feb 28, 2023, 16:03:23 - pdurbin: phew
Tue, Feb 28, 2023, 16:03:43 - pdurbin: good job figuring it out üòÑ
Tue, Feb 28, 2023, 16:07:08 - Tanay Karve sent an image. (Media omitted)
Tue, Feb 28, 2023, 16:07:09 - Tanay Karve: whoops
Tue, Feb 28, 2023, 16:08:56 - Tanay Karve: from the logs:
` Error Rendering View[/dataset.xhtml]
dataverse                         | javax.el.ELException: /file-info-fragment.xhtml @63,95 value=" - #{fileMetadata.dataFile.friendlySize}": java.lang.NullPointerException`
Tue, Feb 28, 2023, 16:12:43 - pdurbin: huh, strange
Tue, Feb 28, 2023, 16:12:46 - Tanay Karve: i suspect that it couldn't find the file but still registered it and return status:ok but fails during rendering.
Tue, Feb 28, 2023, 16:13:11 - pdurbin: gotcha, sounds like a bug
Tue, Feb 28, 2023, 16:15:27 - Tanay Karve: The JSON i'm sending is this:

```
{
    'directoryLabel':'tkarve',
    'categories':['Data'], 
    'restrict':'false', 
    'storageIdentifier':'local:///dataplanet/users/', 
    'fileName':'file.csv', 
    'mimeType':'text/plain', 
    'checksum': {'@type': 'SHA-1', '@value': '123456'}
}
```

I verified that the file 'file.csv' exists at /dataplanet/users/tkarve/file.csv.
Tue, Feb 28, 2023, 16:39:53 - Tanay Karve: More interesting lines in the log:
`Failed to get file size, storage id local:///dataplanet/users/ (Failed to open local file local:///data/10.5072/FK2/FO25YE/dataplanet/users)|#]`
Tue, Feb 28, 2023, 16:56:42 - pdurbin: Tanay Karve: I'm pretty sure for storageIdentifier you need to specify a file, not a directory
Tue, Feb 28, 2023, 17:02:36 - Jan Range: Hi @all, I am currently implementing a workflow where each step passes an update to a dataset. At every step I have to provide the same contact all over since this info is not supplied upon dataset fetching (for good reasons). 

I was thinking, it would be nice to perform these checks upon publication rather when updating the draft. Not a huge thing, but I could imagine this would be something you forget to update when i.e. adapting a workflow and end up with a wrong contact. What do you think?
Tue, Feb 28, 2023, 17:05:34 - pdurbin: I think you could use the pre or post publication trigger: https://guides.dataverse.org/en/5.13/developers/workflows.html
Tue, Feb 28, 2023, 17:05:47 - pdurbin: pre, I guess
Tue, Feb 28, 2023, 17:08:15 - Jan Range: Awesome, thanks! Will check it out 
Tue, Feb 28, 2023, 17:15:22 - pdurbin: Happy to help 
Wed, Mar 1, 2023, 07:13:45 - pdurbin: poikilotherm (CET,UTC+1): check this out: https://github.com/GPortas/dataverse/blob/9353-docker-dev-env/conf/docker-dev-env/docker-compose.yml from Guillermo Portas 
Wed, Mar 1, 2023, 07:46:37 - poikilotherm: Nice!
Wed, Mar 1, 2023, 07:46:53 - poikilotherm: Yet I do have a few remarks ü´£
Wed, Mar 1, 2023, 08:22:38 - pdurbin: I'm zooming with Guillermo Portas soon. Want to join?
Wed, Mar 1, 2023, 08:23:00 - pdurbin: oh yeah, and didn't we say beep likes this docker stuff?
Wed, Mar 1, 2023, 08:23:29 - beep: I think he does :-)
Wed, Mar 1, 2023, 08:25:55 - poikilotherm: Ha!
Wed, Mar 1, 2023, 08:26:03 - poikilotherm: Sure, I'd be happy to join
Wed, Mar 1, 2023, 08:28:01 - poikilotherm: pdurbin: I meant to talk with you about https://github.com/IQSS/dataverse/pull/8828 anyway... I'm thinking of sending it in as a first step of 3
Wed, Mar 1, 2023, 08:28:23 - poikilotherm: It would certainly help reducing the necessary amount of magic in the application image
Wed, Mar 1, 2023, 08:29:03 - poikilotherm: I saw that Guillermo Portas splitted the PRs for the auth thing as well, which inspires me to do the same here. Less bloated PRs, keep it small.
Wed, Mar 1, 2023, 08:29:47 - pdurbin: Yes! We can run Keycloak in Docker now. It's great!
Wed, Mar 1, 2023, 09:02:12 - pdurbin: poikilotherm (CET,UTC+1) beep sorry it was just a quick call with Guillermo Portas . We'll have a bigger meeting soon. How often would you want the containerization working group to meet? Weekly? Every other week?
Wed, Mar 1, 2023, 09:02:40 - poikilotherm: Probably right now a higher frequency would be good
Wed, Mar 1, 2023, 09:03:09 - pdurbin: Yeah, meeting weekly with Ana Trisovic for NetCDF/HDF5/geospatial stuff has been good. Keeps us focused.
Wed, Mar 1, 2023, 09:03:30 - beep: Weekly is OK for me at this stage.
Wed, Mar 1, 2023, 09:05:02 - pdurbin: nice
Wed, Mar 1, 2023, 09:05:22 - pdurbin: beep: please remind me... where you looking to run Dataverse in Docker? On Kubernetes?
Wed, Mar 1, 2023, 09:06:17 - beep: Right now just docker (docker-compose) but Kubernetes could be interesting in the long run.
Wed, Mar 1, 2023, 09:06:50 - pdurbin: gotcha gotcha, thanks
Wed, Mar 1, 2023, 09:07:19 - pdurbin: I'm feeling the need to add a few columns to my "people" spreadsheet üòÑ
Wed, Mar 1, 2023, 09:07:23 - pdurbin: docker_prod
Wed, Mar 1, 2023, 09:07:27 - pdurbin: docker_dev
Wed, Mar 1, 2023, 09:07:33 - pdurbin: kubernetes
Wed, Mar 1, 2023, 09:07:42 - pdurbin: people have different needs üòÖ
Wed, Mar 1, 2023, 09:12:20 - poikilotherm: It seems to be ill advice to run Dataverse in production on "just Docker".
Wed, Mar 1, 2023, 09:15:47 - poikilotherm: pdurbin: my biggest remark is concerning this line: https://github.com/GPortas/dataverse/blob/c620fe20cedc585d753538b0a29b19b0c7e79af7/conf/docker-dev-env/docker-compose.yml#L36
Wed, Mar 1, 2023, 09:16:08 - poikilotherm: It can be much shorter by using the proper contained script
Wed, Mar 1, 2023, 09:16:22 - poikilotherm: And it does not include, however, the necesary tweaks for Dataverse
Wed, Mar 1, 2023, 09:16:51 - poikilotherm: But with a configset readily available (#7662) this would be very different!
Wed, Mar 1, 2023, 09:17:19 - poikilotherm: One would simply swap "default" for "dataverse" and be done with
Wed, Mar 1, 2023, 09:18:48 - poikilotherm: I also would not advise using the volumes as described. I'd use ephemeral storage instead, also avoiding the problem with files owned by uid/gid 8983 in your personal file tree
Wed, Mar 1, 2023, 09:59:14 - pdurbin: poikilotherm (CET,UTC+1): right, the Solr script
Wed, Mar 1, 2023, 09:59:39 - pdurbin: you two should talk üòÑ
Wed, Mar 1, 2023, 09:59:53 - pdurbin: what was the branch you linked me to yesterday? the start of the application image?
Wed, Mar 1, 2023, 10:11:58 - poikilotherm: Aye
Wed, Mar 1, 2023, 10:20:32 - poikilotherm: I'm filling in an application for https://www.docker.com/community/open-source/application/ just now
Wed, Mar 1, 2023, 10:20:53 - poikilotherm: Jupyter etc all have this fancy verified thing on Docker Hub
Wed, Mar 1, 2023, 10:23:08 - pdurbin: see, this is why we made you a part of the core dev team ‚ù§Ô∏è
Wed, Mar 1, 2023, 10:23:20 - pdurbin: poikilotherm (CET,UTC+1): can you please link me to that branch again?
Wed, Mar 1, 2023, 10:24:02 - poikilotherm: Just a second
Wed, Mar 1, 2023, 10:24:33 - poikilotherm: https://github.com/poikilotherm/dataverse/tree/8934-ct-dv-image
Wed, Mar 1, 2023, 10:25:27 - poikilotherm: Please note: it's not complete. It still needs the init script, which is basically a stripped down copy from what I did for k8s before.
Wed, Mar 1, 2023, 10:25:44 - poikilotherm: Stripped down because lots of the magic sauce is now done with!
Wed, Mar 1, 2023, 10:25:51 - poikilotherm: MPCONFIG for the win!
Wed, Mar 1, 2023, 10:34:02 - pdurbin: right
Wed, Mar 1, 2023, 10:34:29 - pdurbin: I wonder when or if we should created the dedicated channel for containerization.
Wed, Mar 1, 2023, 10:41:42 - poikilotherm: ü§∑
Wed, Mar 1, 2023, 10:42:08 - pdurbin: #dataverse-cwg?
Wed, Mar 1, 2023, 10:42:13 - poikilotherm: Looked at https://matrix.org/docs/projects/bridge/matrix-appservice-slack yesterday
Wed, Mar 1, 2023, 10:43:11 - poikilotherm: <@pdurbin:matrix.org "#dataverse-cwg?"> #dataverse-wg-ct? (Makes it clearer this is a working group and adds the topic)
Wed, Mar 1, 2023, 10:45:51 - pdurbin: Hmm, maybe. In Slack we made a big deal of ig vs wg. #iq-devops vs. #wg-softwaremd. Interest groups vs. working groups. 
Wed, Mar 1, 2023, 10:46:27 - poikilotherm: Yeah I remember üò¨
Wed, Mar 1, 2023, 10:47:46 - poikilotherm: But that community Slack is üòµ‚ò†Ô∏è
Wed, Mar 1, 2023, 10:48:02 - poikilotherm: Lots of people chatting here :-D
Wed, Mar 1, 2023, 10:48:27 - poikilotherm: (Which is great)
Wed, Mar 1, 2023, 10:49:20 - pdurbin: yeah
Wed, Mar 1, 2023, 10:49:31 - pdurbin: honestly, we could just talk here
Wed, Mar 1, 2023, 10:49:37 - pdurbin: we probably don't need a separate channel
Wed, Mar 1, 2023, 10:49:58 - poikilotherm: There definitly are pros and cons to that
Wed, Mar 1, 2023, 10:50:15 - poikilotherm: I agree that we maybe are not yet at a point of conflicts
Wed, Mar 1, 2023, 10:50:33 - poikilotherm: Searching for things might be easier in a topic channel, though
Wed, Mar 1, 2023, 10:50:44 - poikilotherm: Less bla bla to scroll over
Wed, Mar 1, 2023, 10:50:58 - pdurbin: so much bla blah üòÑ
Wed, Mar 1, 2023, 10:51:26 - poikilotherm: (I love that chatiness, but dunno... Others might not feel intrigued)
Wed, Mar 1, 2023, 10:53:58 - pdurbin: either way we should try to capture knowledge in docs or whatever
Wed, Mar 1, 2023, 10:55:29 - pdurbin: poikilotherm (CET,UTC+1): is https://github.com/IQSS/dataverse/pull/9299 ready for review?
Wed, Mar 1, 2023, 10:55:38 - poikilotherm: Nope
Wed, Mar 1, 2023, 10:56:01 - poikilotherm: So much sand, not enough pans to form it
Wed, Mar 1, 2023, 10:56:29 - pdurbin: ok, it's pretty high up in the sprint that kicks off this afternoon
Wed, Mar 1, 2023, 10:58:19 - poikilotherm: Oh oh
Wed, Mar 1, 2023, 10:58:30 - poikilotherm: Sounds like I shall get coding
Wed, Mar 1, 2023, 10:58:49 - poikilotherm: Applying finishing touches to #8828
Wed, Mar 1, 2023, 10:58:58 - poikilotherm: Would be neat to include that into the sprint
Wed, Mar 1, 2023, 11:04:00 - poikilotherm sent an image. (Media omitted)
Wed, Mar 1, 2023, 11:05:18 - poikilotherm: (Will be applied to https://hub.docker.com/u/gdcc)
Wed, Mar 1, 2023, 11:19:01 - pdurbin: nice!
Wed, Mar 1, 2023, 11:51:01 - Guillermo Portas: <@oliver:bertuch.name "I also would not advise using th..."> Hey Oliver! thanks for your feedback, I'll be glad to have a catchup on this, if you can!
Wed, Mar 1, 2023, 11:53:04 - poikilotherm: Yes of course!
Wed, Mar 1, 2023, 11:53:34 - poikilotherm: I'm very curious to hear what you folks need and what works easiest for you!
Wed, Mar 1, 2023, 11:54:23 - poikilotherm: Guillermo Portas: it looks like you don't want to run Dataverse itself in that compose file... Is that sth you still want to add or is this how you want it to look like?
Wed, Mar 1, 2023, 12:13:42 - pdurbin: poikilotherm (CET,UTC+1): we do want to run Dataverse in Docker (and I suppose that compose file) but it's a lot of work! üòÖ
Wed, Mar 1, 2023, 12:14:07 - pdurbin: As usual, it would be nice to have PRs for this in small chunks.
Wed, Mar 1, 2023, 12:14:42 - poikilotherm: Ha!
Wed, Mar 1, 2023, 12:14:44 - poikilotherm: Yeah
Wed, Mar 1, 2023, 12:14:49 - poikilotherm: I thought so
Wed, Mar 1, 2023, 12:14:59 - poikilotherm: pdurbin: in which column shall I put https://github.com/IQSS/dataverse/pull/8828
Wed, Mar 1, 2023, 12:15:11 - poikilotherm: It needs sizing, but I can give an estimate
Wed, Mar 1, 2023, 12:15:25 - poikilotherm: (Will be a 10 to be on the safe side)
Wed, Mar 1, 2023, 12:16:04 - pdurbin: It'll probably conflict with https://github.com/IQSS/dataverse/pull/8674
Wed, Mar 1, 2023, 12:16:42 - pdurbin: It's for containers, right? Should we have a containers column? Guillermo Portas and I just talked about this.
Wed, Mar 1, 2023, 12:17:12 - pdurbin: Until we do, the best place is probably the dev team column. You'd need to talk to Gustavo to add it.
Wed, Mar 1, 2023, 12:17:24 - poikilotherm: The main driver was containers, yes
Wed, Mar 1, 2023, 12:17:40 - poikilotherm: Gustavo is not in, aye?
Wed, Mar 1, 2023, 12:17:50 - poikilotherm: Should I put it in the HERMES column for now?
Wed, Mar 1, 2023, 12:17:59 - poikilotherm: At least that's my column
Wed, Mar 1, 2023, 12:18:08 - poikilotherm: No toes to step on there
Wed, Mar 1, 2023, 12:18:17 - pdurbin: He's in. First day back.
Wed, Mar 1, 2023, 12:18:33 - poikilotherm: OK I'll ask in dv-tech
Wed, Mar 1, 2023, 12:31:49 - Guillermo Portas: <@oliver:bertuch.name "Guillermo Portas: it looks like ..."> Yes. I want to include a container for Dataverse, this is something I'd like to discuss with you as I know you've made progress regarding Dataverse dockerization.

The goal is to end up having a single docker-compose file that runs the entire application and dependencies (postgres, solr, smtp) all together
Wed, Mar 1, 2023, 12:32:13 - poikilotherm: <@pdurbin:matrix.org "It's for containers, right? Shou..."> If that helps, sure. No idea if more columns are helpful.
Wed, Mar 1, 2023, 12:34:00 - poikilotherm: <@gportas:matrix.org "Yes. I want to include a contain..."> Ha! And here come the pesky details! Are we talking about a compose file for frontend devs or for backend devs? Things need to be handled differently for these cases, as Java has the "limitation" of not being an interpreting language like Python...
Wed, Mar 1, 2023, 12:34:39 - pdurbin: for now the focus is devs
Wed, Mar 1, 2023, 12:34:48 - pdurbin: devs writing React who don't have Java installed
Wed, Mar 1, 2023, 12:35:09 - poikilotherm: <@pdurbin:matrix.org "for now the focus is devs"> You mean "frontend devs", aye?
Wed, Mar 1, 2023, 12:35:18 - pdurbin: heh, frontend devs, yes
Wed, Mar 1, 2023, 12:36:16 - poikilotherm: I see. For these cases, it makes total sense to have a docker compose file. This will be the very same use case as someone wanting to test Dataverse quickly.
Wed, Mar 1, 2023, 12:36:40 - poikilotherm: Which means: we can rely on images pushed to Docker Hub and pull from there
Wed, Mar 1, 2023, 12:36:59 - pdurbin: sure!
Wed, Mar 1, 2023, 12:37:16 - poikilotherm: It might be neat to push PR based images to Github Packages, so one can easily swap for a branched one
Wed, Mar 1, 2023, 12:37:18 - pdurbin: I don't think the frontend devs will care where the images come from
Wed, Mar 1, 2023, 12:37:32 - poikilotherm: In case a backend dev adds something that a frontend thing relies on
Wed, Mar 1, 2023, 12:38:03 - poikilotherm: That will be just a matter of replacing the image name in the compose file
Wed, Mar 1, 2023, 12:38:16 - Guillermo Portas: <@oliver:bertuch.name "Ha! And here come the pesky deta..."> I'm not considering automatic app update with code changes like we would do with a python app with code mapped to a volume, if that's what you mean. Of course the application must be built (war), possibly at the time of building the image.
Wed, Mar 1, 2023, 12:39:06 - poikilotherm: Precisely - frontend devs simply rely on pulling prebaked images with everything ready to run
Wed, Mar 1, 2023, 12:41:14 - poikilotherm: Folks I'm heading for construction site now, but will read and response via mobile... Keep the ideas coming and the discussion alive!
Wed, Mar 1, 2023, 13:12:11 - poikilotherm: Ha more fresh issues for containers
Wed, Mar 1, 2023, 13:39:55 - pdurbin: you know it
Wed, Mar 1, 2023, 15:19:27 - beep: <@oliver:bertuch.name "It seems to be ill advice to run..."> Well, some like it that way: https://github.com/mrsked/mrsk :-) But this is a new shiny thing, it could easily end up being the same beast just like k8s.
Wed, Mar 1, 2023, 15:30:25 - pdurbin: interesting
Wed, Mar 1, 2023, 16:47:25 - pdurbin: poikilotherm (CET,UTC+1): I just picked up https://github.com/IQSS/dataverse/issues/9415 . I might have questions for you üòÖ
Wed, Mar 1, 2023, 18:46:36 - Tanay Karve: While using email confirmation, is it possible to restrict account confirmation emails to be sent to specific domain email id?
for example, I only want users that register with <>@mysite.edu email addresses
Wed, Mar 1, 2023, 18:52:30 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): I just..."> Sure! Hit me!
Wed, Mar 1, 2023, 19:30:27 - pdurbin: Tanay Karve: nope. Sorry. But you could open an issue about this. Also, for Shibboleth users emails are automatically confirmed. This is because they come from an institutional IdP, which is trusted.
Wed, Mar 1, 2023, 19:32:51 - pdurbin: poikilotherm (CET,UTC+1): don't tell me you're still awake. I just ran `docker-compose up` on Guillermo Portas 's branch at https://github.com/GPortas/dataverse/blob/9353-docker-dev-env/conf/docker-dev-env/docker-compose.yml and it "just worked!" üéâ That is to say, it spun up Docker containers for PostgreSQL, Solr, and a mail server. Then installed Payara locally, ran the installer, and now I have a working Dataverse installation! With a good portion of it running in containers!
Wed, Mar 1, 2023, 19:43:08 - pdurbin: Here's a screenshot of the new MailDev service for dev: https://github.com/IQSS/dataverse/issues/9353#issuecomment-1451101241
Wed, Mar 1, 2023, 21:14:30 - Tanay Karve: <@pdurbin:matrix.org "Tanay Karve: nope. Sorry. But yo..."> Hmm okay. How about any triggers that are fired when a new user registers?
Wed, Mar 1, 2023, 21:22:27 - Tanay Karve: Similar to workflows for datasets, but for users
Thu, Mar 2, 2023, 00:56:40 - poikilotherm: pdurbin: sure, never doubted that!
Thu, Mar 2, 2023, 00:57:01 - poikilotherm: The hard part is running Dataverse in a container üòÖ
Thu, Mar 2, 2023, 00:59:38 - poikilotherm: Running these dependencies in containers is actually why Testcontainers is such a great thing. You simply control them from within JUnit like you did with docker compose
Thu, Mar 2, 2023, 01:06:59 - poikilotherm: Maybe for local development it's even fine to run the Python installer...
Thu, Mar 2, 2023, 01:07:27 - poikilotherm: But this is not an option for anything beyond...
Thu, Mar 2, 2023, 04:39:55 - aialves: Good morning. Is it possible to change a datasets's doi?
Thu, Mar 2, 2023, 05:21:32 - lincoln_: If it is the change of Prefix for a dataset-doi . Then 
https://guides.dataverse.org/en/latest/installation/config.html#id110
Thu, Mar 2, 2023, 05:49:47 - aialves: <@lincoln_:matrix.org "If it is the change of Prefix fo..."> I mean change dataset's doi after its publication. And not only the prefix.
Thu, Mar 2, 2023, 06:16:40 - lincoln_: aialves: To the best of my knowledge "Changing the doi after publication is not possible, as the dataset doi is also registered at DOI handler (for eg Datacite) as published".
But would be nice to hear from pdurbin  and poikilotherm (CET,UTC+1)  as well.
Thu, Mar 2, 2023, 07:14:22 - Don Sizemore: I'm not @pdurbin or poikilotherm (CET,UTC+1) but the line I'm hearing in my head is: "DOIs are forever."
Thu, Mar 2, 2023, 07:20:03 - pdurbin: Tanay Karve: we don't have any triggers (other than database triggers) for when new users are added. I was thinking about suggesting a database trigger for https://github.com/IQSS/dataverse/issues/9400
Thu, Mar 2, 2023, 07:20:40 - pdurbin: I might need to hear more about the use case. I assume you're still talking about verifying the user's email.
Thu, Mar 2, 2023, 07:21:23 - pdurbin: poikilotherm (CET,UTC+1): right, no installer. I think? Is that our goal. Remove the need to run the installer?
Thu, Mar 2, 2023, 07:22:12 - pdurbin: aialves: I think you'd need to edit the database directly. And then send the updated metadata to DataCite.
Thu, Mar 2, 2023, 07:23:01 - pdurbin: Don Sizemore: heh. Yes. Deaccessioned DOIs still have "tombstone" landing pages. üòÑ
Thu, Mar 2, 2023, 07:23:14 - Don Sizemore: what I mean
Thu, Mar 2, 2023, 07:23:54 - aialves: When someone signs up in dataverse it should receive an email, isn't it?
Thu, Mar 2, 2023, 07:24:40 - pdurbin: yes
Thu, Mar 2, 2023, 07:24:46 - pdurbin: "welcome to Dataverse" or something
Thu, Mar 2, 2023, 08:26:51 - pdurbin: poikilotherm (CET,UTC+1): do you want to leave a comment about Solr in this new PR? https://github.com/IQSS/dataverse/pull/9417
Thu, Mar 2, 2023, 08:46:15 - lincoln_: one question: I am new to topic harvesting. While harvesting, does Dataverse (client) also considers customized metadata as well used on other Dataverses?
Thu, Mar 2, 2023, 08:47:36 - pdurbin: lincoln_: if both sides have the custom metadata block enabled and the native JSON format is used, yes, the custom block is harvested
Thu, Mar 2, 2023, 08:49:59 - lincoln_: pdurbin: thank you...so inclusion of custom metadata block (identical) on both sides are a must.
if not , are those blocks negleted? or do they cause errors
Thu, Mar 2, 2023, 08:50:20 - pdurbin: good question, I'm not sure üòÖ
Thu, Mar 2, 2023, 08:50:26 - pdurbin: please try it and let me know!
Thu, Mar 2, 2023, 08:50:32 - lincoln_: okay 
Thu, Mar 2, 2023, 08:50:49 - pdurbin: my hope is that the extra information is dropped rather than an error
Thu, Mar 2, 2023, 08:51:08 - pdurbin: something is better than nothing, I think ü§î
Thu, Mar 2, 2023, 08:51:09 - lincoln_: <@pdurbin:matrix.org "lincoln_: if both sides have the..."> and are you sure of only the use of native JSON 
Thu, Mar 2, 2023, 08:51:29 - pdurbin: yeah, native JSON only, I'm pretty sure about that
Thu, Mar 2, 2023, 08:52:31 - lincoln_: thank you for the heads up... By chance do you know of any instances/examples/repository doing the harvesting of customized block at the moment? 
Thu, Mar 2, 2023, 09:09:09 - pdurbin: lincoln_: sorry, I don't but if you email https://groups.google.com/g/dataverse-community I'm pretty sure someone would reply
Thu, Mar 2, 2023, 09:09:33 - pdurbin: I love your hamster avatar by the way üêπ
Thu, Mar 2, 2023, 09:14:36 - lincoln_: thank you pdurbin . :) 
Thu, Mar 2, 2023, 09:19:39 - pdurbin: any time
Thu, Mar 2, 2023, 09:59:39 - aialves: Can you please tell me what is the best way to confirm the dataverse SMTP port?
Thu, Mar 2, 2023, 10:36:02 - pdurbin: aialves: it's weird. It should be in domain.xml somewhere but I don't see it. It looks like there's a property called mail.smtp.port on notifyMailSession according to our docs: https://guides.dataverse.org/en/5.13/installation/installation-main.html#mail-host-configuration-authentication
Thu, Mar 2, 2023, 10:40:55 - Don Sizemore: @aialves are you asking how to verify it? as Phil says, the setting is in domain.xml, but you can see what's listening locally with a tool like netstat or ss
Thu, Mar 2, 2023, 10:42:22 - pdurbin: Don Sizemore: should it be somewhere in here?
`<mail-resource auth="false" host="localhost" from="do-not-reply@dev1.dataverse.org" user="dataversenotify" jndi-name="mail/notifMailSession"></mail-resource>`
Thu, Mar 2, 2023, 10:42:24 - Don Sizemore: @aialves or if you have an external mail relay, you can point Dataverse directly at that
Thu, Mar 2, 2023, 10:45:53 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): do you..."> Can do, but later.... Need to run now.
Thu, Mar 2, 2023, 10:46:02 - poikilotherm: Did hybrid meeting equipment and setup testing all day...
Thu, Mar 2, 2023, 11:26:19 - pdurbin: no rush, thanks
Thu, Mar 2, 2023, 11:32:38 - pdurbin: aialves: this my guess, if I run `/usr/local/payara5/glassfish/bin/asadmin get server.resources.mail-resource.mail/notifyMailSession.transport-protocol` I see `server.resources.mail-resource.mail/notifyMailSession.transport-protocol=smtp` (smtp not smtps) so I'm using port 25.
Thu, Mar 2, 2023, 11:38:56 - Don Sizemore: @pdurbin some services want 587; it will really be determined by the mail relay (local or remote)
Thu, Mar 2, 2023, 11:40:05 - pdurbin: Huh. Ok. I think I'm more confused. I may not be using port 25? How would I know?
Thu, Mar 2, 2023, 11:50:13 - Don Sizemore: it's probably the default, but what I'm saying is that the settings in domain.xml depend on what external relay is in use (localhost or no, port 25/587/other)
Thu, Mar 2, 2023, 11:51:04 - pdurbin: Ok. I think I get it. I've only used localhost. Thanks!
Thu, Mar 2, 2023, 13:01:22 - carlsonp: ugh, well I thought I was making progress on getting more developers and help but now the new folks are nervous about going the Dataverse route because of security concerns and lack of containers.  Now we're pivoting to doing a custom application... *sighs*  We'll see how it goes...
Thu, Mar 2, 2023, 13:02:31 - pdurbin: carlsonp: that's it? It's over? I was justing thinking... maybe you could go ahead and try a newer version of Solr? Or does the tool look at the deps in the code itself? The Java library, I mean.
Thu, Mar 2, 2023, 13:02:32 - carlsonp: I think we're getting pressure from above to "just release something"
Thu, Mar 2, 2023, 13:03:07 - carlsonp: they want an MVP solution quickly so we're going to add it into a separate app that has details on publications currently
Thu, Mar 2, 2023, 13:04:07 - carlsonp: I'm just frustrated, I don't think it's the best long-term solution
Thu, Mar 2, 2023, 13:04:51 - carlsonp: welp, sorry, I'll try to stay connected and see how ya'll are making progress but I probably won't be able to help much in any official work capacity
Thu, Mar 2, 2023, 13:08:03 - pdurbin: It's understandable üò¢
Thu, Mar 2, 2023, 13:08:27 - pdurbin: We have a retrospective today. Maybe I'll bring this up.
Thu, Mar 2, 2023, 13:09:19 - pdurbin: I'm in a call right now.
Thu, Mar 2, 2023, 13:09:29 - pdurbin: Can only type so much, sorry.
Thu, Mar 2, 2023, 13:09:37 - Tanay Karve: <@pdurbin:matrix.org "I might need to hear more about ..."> I want to add a level of indirection over email confirmation. If a user registers with a @mysite.edu email only then send the confirmation email. Since I am on a tight deadline and shibboleth is not working, I'm looking for alternate solutions to secure my instance from non @mysite.edu email users.
  
Thu, Mar 2, 2023, 13:10:00 - carlsonp: no worries, appreciate all the help
Thu, Mar 2, 2023, 13:10:15 - pdurbin: well, a greenfield app might be fun
Thu, Mar 2, 2023, 13:35:15 - poikilotherm: <@tkarve:matrix.org "I want to add a level of indirec..."> Maybe mail groups would be helpful?
Thu, Mar 2, 2023, 13:35:39 - poikilotherm: We (J√ºlich DATA that is) grant certain permissions to folks matching a certain domain only
Thu, Mar 2, 2023, 13:35:59 - poikilotherm: Contributed that a while ago when Harvard was interested for fighting spam
Thu, Mar 2, 2023, 13:37:31 - poikilotherm: https://guides.dataverse.org/en/latest/admin/mail-groups.html
Thu, Mar 2, 2023, 13:38:48 - poikilotherm: <@carlsonp:matrix.org "welp, sorry, I'll try to stay co..."> Sorry to hear that!
Thu, Mar 2, 2023, 13:39:57 - poikilotherm: It's strange to want an MVP and at the same time require perfect airtight security
Thu, Mar 2, 2023, 13:40:13 - poikilotherm: Sounds like politics going on üòµ‚Äçüí´
Thu, Mar 2, 2023, 13:42:19 - poikilotherm: And sorry that we're not an quick and agile product team.. Large OSS projects are hard. üòÆ‚Äçüí®
Thu, Mar 2, 2023, 13:43:40 - poikilotherm: I've been a container ambassador for the past ~5 years. It surely takes a long breath! ü´£
Thu, Mar 2, 2023, 13:58:21 - carlsonp: yeah, the security review just got completed and took months, there's definitely someone pushing for a release I think
Thu, Mar 2, 2023, 13:58:59 - carlsonp: office politics drive me up the wall
Thu, Mar 2, 2023, 14:13:26 - pdurbin: Phew! So many meetings! carlsonp do you want to do a quick zoom?
Thu, Mar 2, 2023, 14:13:54 - carlsonp: sure
Thu, Mar 2, 2023, 14:13:59 - pdurbin: https://harvard.zoom.us/my/pdurbin?pwd=em1WNUZGbnY2YjhxNEdSbjJJMXNSUT09
Thu, Mar 2, 2023, 16:10:54 - pdurbin: Tanay Karve: I'd suggest trying the mail groups thing ^^
Thu, Mar 2, 2023, 16:11:30 - pdurbin: And you still can't get SAMLtest working, right? Or whatever the test thing is called.
Thu, Mar 2, 2023, 16:29:51 - pdurbin: I set up a test server last week that I'm going to spin down unless there's a need for it. Maybe I could give a DNS name and a real cert. Then give you the ssh key and I could help you configure Shib with SAMLtest.
Thu, Mar 2, 2023, 16:34:35 - pdurbin: poikilotherm (CET,UTC+1): do you have a minute? I'm looking at https://github.com/IQSS/dataverse/issues/assigned/pdurbin
Thu, Mar 2, 2023, 16:34:46 - poikilotherm: Huh?
Thu, Mar 2, 2023, 16:34:51 - poikilotherm: What's up
Thu, Mar 2, 2023, 16:35:02 - poikilotherm: Need to glue some stuff but hit me
Thu, Mar 2, 2023, 16:35:48 - pdurbin: I can't remember why you assigned me to "Codebase modularization #9000". Do you mind if I unassign myself? I'm not actively working on it.
Thu, Mar 2, 2023, 16:36:18 - poikilotherm: I think this was supposed to be taken over with that modularity doc
Thu, Mar 2, 2023, 16:36:32 - pdurbin: I see. Should I close it?
Thu, Mar 2, 2023, 16:36:41 - poikilotherm: Wasn't there even a vote to close it with that doc?
Thu, Mar 2, 2023, 16:37:13 - pdurbin: can't remember that either üòÖ
Thu, Mar 2, 2023, 16:37:17 - poikilotherm: Depends. Shall we make a definition of done as "the doc is released" or "added to the guide as dev guidance"?
Thu, Mar 2, 2023, 16:38:04 - pdurbin: we should make the modularity doc public for feedback some day
Thu, Mar 2, 2023, 16:38:33 - poikilotherm: There is great value in it, as it has in depth architecture information 
Thu, Mar 2, 2023, 16:39:11 - poikilotherm: Something that is unpalatably rather sparsely sprinkled over our docs.
Thu, Mar 2, 2023, 16:39:18 - pdurbin: yeah
Thu, Mar 2, 2023, 16:39:38 - pdurbin: Anyway, I unassigned myself. Again, not actively working on it
Thu, Mar 2, 2023, 16:40:21 - poikilotherm: That's only fair and square!
Thu, Mar 2, 2023, 16:41:23 - poikilotherm: Back to glueing
Thu, Mar 2, 2023, 16:41:31 - pdurbin sent an image. (Media omitted)
Thu, Mar 2, 2023, 16:41:38 - pdurbin: Hmm. No build instructions.
Thu, Mar 2, 2023, 16:41:56 - pdurbin: mvn -Pct clean package docker:build ... right?
Thu, Mar 2, 2023, 16:41:56 - poikilotherm: This is WIP
Thu, Mar 2, 2023, 16:42:03 - pdurbin: from a comment in the Dockerfile
Thu, Mar 2, 2023, 16:42:18 - poikilotherm: Aye
Thu, Mar 2, 2023, 16:42:39 - poikilotherm: You might even try skipping the docker:build
Thu, Mar 2, 2023, 16:43:59 - poikilotherm: Beware. This does not yet carry along the scripted magic sauce to make the doi password appear, add sys props from env vars and adds the mail resource...
Thu, Mar 2, 2023, 16:44:24 - pdurbin: [INFO] BUILD SUCCESS
Thu, Mar 2, 2023, 16:44:59 - poikilotherm: There open PRs for the DOI stuff (in the team column) and there is the mail stuff I've been hacking on.
Thu, Mar 2, 2023, 16:45:34 - pdurbin: Right. So did this create an image?
Thu, Mar 2, 2023, 16:45:55 - poikilotherm: Probably. Hard to tell from one line of log output üòã
Thu, Mar 2, 2023, 16:46:02 - pdurbin: looks like it:
```
$ docker images
REPOSITORY              TAG               IMAGE ID       CREATED         SIZE
gdcc/dataverse          unstable          7f0ce6e8797e   2 minutes ago   731MB
```
Thu, Mar 2, 2023, 16:46:15 - poikilotherm: You're up and about üéÑüéÜ
Thu, Mar 2, 2023, 16:46:41 - pdurbin: now I just run it?
Thu, Mar 2, 2023, 16:47:05 - poikilotherm: Sure, why not üòÖ
Thu, Mar 2, 2023, 16:47:15 - pdurbin: googling
Thu, Mar 2, 2023, 16:47:37 - poikilotherm: Well try mvn -Pct docker:run
Thu, Mar 2, 2023, 16:47:51 - poikilotherm: I might have added a run definition already
Thu, Mar 2, 2023, 16:48:01 - poikilotherm: Not sure from top of me head
Thu, Mar 2, 2023, 16:48:40 - poikilotherm: Going for docker run is no good here, as you need the deps on the same container network
Thu, Mar 2, 2023, 16:48:53 - poikilotherm: You could add it to the compose 
Thu, Mar 2, 2023, 16:49:52 - poikilotherm: How long do you plan to continue hacking today? I might finish up here, head home and give you a get go from my desk with this
Thu, Mar 2, 2023, 16:49:58 - pdurbin: lots of output. the last line: `dataverse>   Skipping registration of inhabitant for service reference [org.osgi.service.metatype.MetaTypeProvider] as the service object could not be obtained.|#]`
Thu, Mar 2, 2023, 16:50:10 - poikilotherm: Uh no good
Thu, Mar 2, 2023, 16:50:14 - pdurbin: well, I should go home in 10 minutes
Thu, Mar 2, 2023, 16:50:38 - poikilotherm: I see. Shall we give this a jolly good push tomorrow then?
Thu, Mar 2, 2023, 16:51:07 - pdurbin: Sure. Do you want me to push my doc fixes?
Thu, Mar 2, 2023, 16:51:18 - poikilotherm: Sure go ahead
Thu, Mar 2, 2023, 16:51:24 - poikilotherm: More docs more good
Thu, Mar 2, 2023, 16:51:30 - pdurbin: heh
Thu, Mar 2, 2023, 16:51:48 - pdurbin: after ctrl-c: `[INFO] DOCKER> [gdcc/dataverse:unstable] "dataverse": Stop and removed container 37b94415bf0b after 0 ms`
Thu, Mar 2, 2023, 16:51:50 - pdurbin: neat
Thu, Mar 2, 2023, 16:52:13 - poikilotherm: Well that's is once more not the hard part üòÖ
Thu, Mar 2, 2023, 16:53:42 - poikilotherm: Back to gluing now! Stuff getting stiff in the can! Catch you tomorrow 
Thu, Mar 2, 2023, 16:54:04 - poikilotherm: Have a lovely evening 
Thu, Mar 2, 2023, 16:55:44 - pdurbin: You too. The doc fixes, if you're curious: https://github.com/IQSS/dataverse/commit/ab565a3
Thu, Mar 2, 2023, 19:08:49 - Tanay Karve: <@pdurbin:matrix.org "And you still can't get SAMLtest..."> yup same results with samltest like mysite's idp
Thu, Mar 2, 2023, 19:16:31 - Tanay Karve: also, is there anyway to disable unzipping uploaded zips?
Thu, Mar 2, 2023, 19:16:35 - Tanay Karve: in a dataset?
Thu, Mar 2, 2023, 19:20:53 - Tanay Karve: I tried setting type=application/octet-stream but its not working
Thu, Mar 2, 2023, 19:38:50 - pdurbin: Tanay Karve: nope. The standard workaround is to double zip (which is a pain).
Thu, Mar 2, 2023, 19:41:25 - Tanay Karve: oof
Thu, Mar 2, 2023, 19:43:14 - pdurbin: you can vote for this issue: https://github.com/IQSS/dataverse/issues/8029
Thu, Mar 2, 2023, 19:50:54 - Tanay Karve: why won't the mime trick work
Thu, Mar 2, 2023, 19:53:22 - Tanay Karve: also, any way to change the smtp port and server on the fly?
Thu, Mar 2, 2023, 20:31:09 - pdurbin: Because Dataverse reads the first few bytes of a file to figure out what it is. I pity the fool who tries to fool Dataverse.
Thu, Mar 2, 2023, 20:32:29 - pdurbin: I don't know about on the fly but here's how: https://guides.dataverse.org/en/5.13/installation/installation-main.html#mail-host-configuration-authentication
Thu, Mar 2, 2023, 20:32:41 - pdurbin: (also some discussion about smtp port above)
Fri, Mar 3, 2023, 02:21:38 - Miguel Silva: Hi everyone! 
Fri, Mar 3, 2023, 02:21:55 - Miguel Silva sent an image. (Media omitted)
Fri, Mar 3, 2023, 02:22:08 - Miguel Silva: It is now official!  Preparing right now, to send later to 2 universities in Brazil, Universidade Federal de Santa Maria , e Universidade Federal de Santa Catarina - UFSC , civil engineering departments, the very first 2 Smart 12bit DAQ, the LDAD,  able to do experimental data collection directly to a dataverse.org data repository. This enables researchers early access and remotly to their experimental data measurements directly on any Microsoft #Excel workbook. 

For now these will serve only as first contact with these new technologies, to learn how to use them and to provide usage feedback in an #agile manner.

Anyone with special interest on any of these #open technologies  and want to join this beta testing phase, send me a message!  

As always, this open research project is available on my github for anyone to download and use. 
Fri, Mar 3, 2023, 03:13:06 - lincoln_: Miguel Silva:  Some small input on section 7 "Firmware code to synchrinize......" of your paper https://dx.doi.org/10.2139/ssrn.4210504
In my opinion, i would be more better to have following options also considered in dataverse,

1. S3 direct upload-download option = true on file domain.xml, to cause less load on the server
2. Disabling the Ingest of the tabular file (if it exists) as this might create problem for larger tabular files
3. Inclusion of customized metadata block ( project specific) + external vocab services for more FAIRness.
4. taking benefits of HTTP partial file download feature
and so on
Fri, Mar 3, 2023, 07:00:40 - poikilotherm: <@tkarve:matrix.org "also, any way to change the smtp..."> Not yet - working occasionally on https://github.com/poikilotherm/dataverse/tree/7424-maildefinition where this will be made possible
Fri, Mar 3, 2023, 07:21:29 - pdurbin: poikilotherm (CET,UTC+1): morning. So, I'm able to start the Dataverse container but I think I need to run your bootstrap job next, or something like it: https://k8s-docs.gdcc.io/en/v4.20/quickstart/docker-compose.html
Fri, Mar 3, 2023, 07:22:03 - poikilotherm: Hey :-)
Fri, Mar 3, 2023, 07:22:33 - poikilotherm: First: we will need to add some scripting sauce to enable the system properties and mail resource
Fri, Mar 3, 2023, 07:23:11 - poikilotherm: But yes, then we will need some script that runs the "setup-all.sh" script
Fri, Mar 3, 2023, 07:23:52 - poikilotherm: This is the last bit missing from the classic installer
Fri, Mar 3, 2023, 07:25:43 - poikilotherm: Should we talk instead of type?
Fri, Mar 3, 2023, 07:25:57 - poikilotherm: Guillermo Portas: u here?
Fri, Mar 3, 2023, 07:28:31 - pdurbin: Sounds good. I have time now or after I bike to work.
Fri, Mar 3, 2023, 07:29:38 - poikilotherm: https://fz-juelich-de.zoom.us/j/96030748969?pwd=LytlSldwT3h6T2Z4d1EyM3llaTQwdz09
Fri, Mar 3, 2023, 08:03:39 - pdurbin: my branch: https://github.com/IQSS/dataverse/tree/9415-containers
Fri, Mar 3, 2023, 08:18:11 - pdurbin: poikilotherm (CET,UTC+1): please push away!
Fri, Mar 3, 2023, 10:59:05 - poikilotherm: pdurbin: I'm hacking on the script to configure Payara on start... Do we merge https://github.com/IQSS/dataverse/pull/8828 soon, so I can leave out all the magic sauce for that part?
Fri, Mar 3, 2023, 11:04:04 - pdurbin: poikilotherm (CET,UTC+1): would it be easier if you merge all that into my branch? You're welcome to!
Fri, Mar 3, 2023, 11:04:20 - poikilotherm: But what happened to "small PRs"?
Fri, Mar 3, 2023, 11:06:59 - pdurbin: Well, this just a research issue üòÑ, a spike
Fri, Mar 3, 2023, 11:07:38 - pdurbin: I would prefer to keep it small
Fri, Mar 3, 2023, 11:08:03 - pdurbin: But I can always create a new smaller, hackier branch just for dev, right? üòÑ
Fri, Mar 3, 2023, 11:08:15 - pdurbin: I can understand you wanting to do it the right away
Fri, Mar 3, 2023, 11:08:23 - pdurbin: And I'm happy to play around with the right way
Fri, Mar 3, 2023, 11:09:06 - pdurbin: For the smaller, hackier way, I assume it's just setting FAKE with a curl command
Fri, Mar 3, 2023, 11:09:22 - pdurbin: So that's what I would actually want to get merged for now
Fri, Mar 3, 2023, 11:09:41 - pdurbin: rather than a big MPCONFIG PID thing
Fri, Mar 3, 2023, 11:10:09 - pdurbin: You could always make your own branch, of course. And maybe I can cherry pick from it.
Fri, Mar 3, 2023, 11:10:28 - pdurbin: I could switch back and forth between the right way and my hacky way üòÖ
Fri, Mar 3, 2023, 11:13:20 - poikilotherm: OK we shall see. Is FAKE provider unhappy without the doi settings?
Fri, Mar 3, 2023, 11:16:14 - pdurbin: uh
Fri, Mar 3, 2023, 11:16:26 - pdurbin: should work with just setting FAKE
Fri, Mar 3, 2023, 11:16:30 - pdurbin: let's try it and see
Fri, Mar 3, 2023, 11:17:13 - pdurbin: Setting FAKE is one of the few things I do after setup-all: https://github.com/IQSS/dataverse/blob/v5.13/scripts/dev/dev-rebuild.sh#L58-L59
Fri, Mar 3, 2023, 11:29:49 - poikilotherm: I think I'm going to add 1 MPCONFIG thing here. That database setting is only import for us in 1 place: GlobalIdServiceBean. Makes it easier to default to it even without setting this from setup-all.sh
Fri, Mar 3, 2023, 11:30:06 - pdurbin: sure, go for it
Fri, Mar 3, 2023, 11:30:20 - poikilotherm: (The only other place is from the UI if the provider is DataCite, we do DOI reservation)
Fri, Mar 3, 2023, 11:30:40 - pdurbin: again, I'll make a fresh branch if it gets too crazy üòú
Fri, Mar 3, 2023, 11:30:40 - poikilotherm: So this is a hack, but probably fine given this is a dev spike
Fri, Mar 3, 2023, 11:30:50 - pdurbin: I love a good hack
Fri, Mar 3, 2023, 11:33:36 - poikilotherm: I did just send a few pushes
Fri, Mar 3, 2023, 11:34:01 - pdurbin: nice!
Fri, Mar 3, 2023, 11:41:57 - pdurbin: (sorry, had to figure out how to stop my local postgres üòÖ)
Fri, Mar 3, 2023, 11:42:16 - pdurbin: running mvn docker:build now
Fri, Mar 3, 2023, 11:45:29 - pdurbin: dataverse>   MicroProfile Config: property 'dataverse.db.password': no value found, no default given.|#]
Fri, Mar 3, 2023, 11:46:28 - pdurbin: dataverse>   RAR5114 : Error allocating connection : [Error in allocating a connection. Cause: Connection could not be allocated because: Connection to localhost:5432 refused. Check that the hostname and port are correct and that the postmaster is accepting TCP/IP connections.]|#]
Fri, Mar 3, 2023, 11:46:50 - pdurbin: poikilotherm (CET,UTC+1): do I need to specify the database password somehow?
Fri, Mar 3, 2023, 11:47:02 - poikilotherm: Absolutely
Fri, Mar 3, 2023, 11:47:15 - poikilotherm: I'm hacking on providing the run config
Fri, Mar 3, 2023, 11:47:17 - poikilotherm: Gimme a sec
Fri, Mar 3, 2023, 11:47:44 - pdurbin: Can do, I'm going to wander off for lunch anyway. Thanks so much for working on this!!
Fri, Mar 3, 2023, 11:48:26 - poikilotherm: Dang. DMP only support docker-compose 2 files :-/
Fri, Mar 3, 2023, 11:51:57 - poikilotherm: Welp... Using the compose file cannot be extended with the additional dataverse container... Looks like I need a large run config
Fri, Mar 3, 2023, 11:54:27 - pdurbin: go go go!
Fri, Mar 3, 2023, 13:41:42 - poikilotherm: Almost there...
Fri, Mar 3, 2023, 14:13:08 - pdurbin: Back. Sorry, long lunch talk but super relevant to building Docker images! And making them as small as possible.
Fri, Mar 3, 2023, 14:13:55 - pdurbin: It sounded like the slides will be uploaded here soon: https://thephp.cc/dates/honey-i-shrunk-the-container-the-harvard-web-working-group
Fri, Mar 3, 2023, 14:14:25 - pdurbin: Meanwhile, here are a couple tools I bookmarked:
Fri, Mar 3, 2023, 14:14:28 - pdurbin: https://github.com/wagoodman/dive
Fri, Mar 3, 2023, 14:14:39 - pdurbin: https://github.com/mvanholsteijn/strip-docker-image
Fri, Mar 3, 2023, 14:14:45 - pdurbin: Has anyone heard of these?
Fri, Mar 3, 2023, 14:15:33 - poikilotherm: Sure... üôà
Fri, Mar 3, 2023, 14:16:39 - poikilotherm: Using `dive` all the time...
Fri, Mar 3, 2023, 14:20:07 - pdurbin: nice
Fri, Mar 3, 2023, 14:20:47 - pdurbin: poikilotherm (CET,UTC+1): I just did a pull and more presents are there for me üéÅüéÅüéÅ
Fri, Mar 3, 2023, 14:20:50 - pdurbin: Should I try again?
Fri, Mar 3, 2023, 14:21:09 - poikilotherm: Still hacking on the running config...
Fri, Mar 3, 2023, 14:21:41 - poikilotherm: Wondering about just commiting this as is, bit rough around edges and not sure if it works
Fri, Mar 3, 2023, 14:22:05 - pdurbin: Do it! Then I'll hack on it some more
Fri, Mar 3, 2023, 14:23:13 - pdurbin: (if necessary)
Fri, Mar 3, 2023, 14:25:04 - poikilotherm: It seems like I broke the Solr thing :-(
Fri, Mar 3, 2023, 14:32:59 - pdurbin: poikilotherm (CET,UTC+1): did you tell me how to specify the database password already? Or do I need that not quite perfect commit you're working on first?
Fri, Mar 3, 2023, 14:33:15 - poikilotherm: Just use an env var ;-)
Fri, Mar 3, 2023, 14:33:22 - poikilotherm: MPCONFIG for the win
Fri, Mar 3, 2023, 14:33:33 - poikilotherm: DATAVERSE_DB_PASSWORD=...
Fri, Mar 3, 2023, 14:33:45 - pdurbin: ok, so I could put this in the docs
Fri, Mar 3, 2023, 14:33:56 - pdurbin: thanks, you've given me something to play with
Fri, Mar 3, 2023, 15:04:05 - poikilotherm: Really strange thing happening here... The `lsof` command hangs! So it's not broken but takes ages. For some reason I do not know...
Fri, Mar 3, 2023, 15:04:21 - pdurbin: weird
Fri, Mar 3, 2023, 15:12:27 - Don Sizemore: @pdurbin knock knock?
Fri, Mar 3, 2023, 15:13:19 - pdurbin: hit me
Fri, Mar 3, 2023, 15:14:14 - Don Sizemore: regarding datacite-tracker. will the browser-based implementation require anything from Dataverse beyond inclusion in analytics-code.html? I see that to use it as a Node package you want a SPA
Fri, Mar 3, 2023, 15:15:05 - pdurbin: It'll just be a few lines of html/js to add to your analytics-code.html
Fri, Mar 3, 2023, 15:15:26 - pdurbin sent an image. (Media omitted)
Fri, Mar 3, 2023, 15:15:39 - pdurbin: Matt Buys: you don't mind if I put that slide here do you? üòÖ
Fri, Mar 3, 2023, 15:16:00 - pdurbin: Oh, it's probably the weekend for him already. Sorry!
Fri, Mar 3, 2023, 15:16:49 - pdurbin: Don Sizemore: it's an MVP and DataCite very much wants people to test so please feel free to reach out to Matt Buys or Kelly
Fri, Mar 3, 2023, 15:17:17 - pdurbin: The question I would have asked is if it can be used with a test DOI
Fri, Mar 3, 2023, 15:18:23 - Don Sizemore: we have many test servers, and even have two with non-test/proper DataCite credentials
Fri, Mar 3, 2023, 15:18:37 - pdurbin: perfect!
Fri, Mar 3, 2023, 15:18:52 - Don Sizemore: I know which one I'll start with, though.
Fri, Mar 3, 2023, 15:18:55 - Don Sizemore: thank you.
Fri, Mar 3, 2023, 15:25:32 - pdurbin: Sure. I just reached out to Kelly on Slack but, you know, getting late on a Friday.
Fri, Mar 3, 2023, 15:45:42 - poikilotherm: Really strange... I think I need to reboot my machine. Even starting just the image with plain docker makes `lsof` hang. It's most strange!
Fri, Mar 3, 2023, 15:46:39 - pdurbin: do it
Fri, Mar 3, 2023, 15:47:42 - pdurbin sent an image. (Media omitted)
Fri, Mar 3, 2023, 16:36:43 - poikilotherm: It's no good. There is something severely broken here...
Fri, Mar 3, 2023, 16:37:05 - poikilotherm: I'm going to just push what I have
Fri, Mar 3, 2023, 16:37:07 - pdurbin: oh dear. do you want to push what you've got to a new branch? I'm happy to take a look
Fri, Mar 3, 2023, 16:37:11 - poikilotherm: Let someone else try it
Fri, Mar 3, 2023, 16:37:15 - pdurbin: or the same branch, whatever
Fri, Mar 3, 2023, 16:40:09 - poikilotherm: Pushed
Fri, Mar 3, 2023, 16:40:16 - poikilotherm: If you want, you can try it
Fri, Mar 3, 2023, 16:40:38 - poikilotherm: Run `mvn -Pct package docker:run`
Fri, Mar 3, 2023, 16:40:40 - pdurbin: pulled and running the build
Fri, Mar 3, 2023, 16:41:05 - pdurbin: do you know what environment variables I need? just the db password?
Fri, Mar 3, 2023, 16:41:14 - poikilotherm: None of that
Fri, Mar 3, 2023, 16:41:17 - poikilotherm: It's all in there
Fri, Mar 3, 2023, 16:41:32 - poikilotherm: Done for your convienience
Fri, Mar 3, 2023, 16:41:39 - pdurbin: oh good, sane defaults! üéâ
Fri, Mar 3, 2023, 16:42:01 - pdurbin: don't make me think and all that
Fri, Mar 3, 2023, 16:42:07 - poikilotherm: Once you built that image, you can also run it via `docker compose` BTW
Fri, Mar 3, 2023, 16:42:19 - pdurbin: what does that do?
Fri, Mar 3, 2023, 16:42:38 - poikilotherm: Well it's docker-compose üòâ
Fri, Mar 3, 2023, 16:42:59 - poikilotherm: So it will start all the services *AND* dataverse
Fri, Mar 3, 2023, 16:43:12 - poikilotherm: No bootstrapping yet though
Fri, Mar 3, 2023, 16:43:13 - pdurbin: oh! fantastic!
Fri, Mar 3, 2023, 16:43:28 - poikilotherm: I know üòÑ
Fri, Mar 3, 2023, 16:43:33 - pdurbin: not even a hello world?
Fri, Mar 3, 2023, 16:44:25 - poikilotherm: Well technically, you could try running setup-all.sh becuase I added a port binding to localhost
Fri, Mar 3, 2023, 16:44:30 - poikilotherm: So that should work
Fri, Mar 3, 2023, 16:44:57 - pdurbin: hmm, maybe I could even run (parts of) my rebuild script
Fri, Mar 3, 2023, 16:45:22 - poikilotherm: Welllllll.... I'm not so sure about *that*
Fri, Mar 3, 2023, 16:46:00 - pdurbin: http://localhost:8080/api/info/version works!
Fri, Mar 3, 2023, 16:46:07 - pdurbin: not the homepage though
Fri, Mar 3, 2023, 16:46:19 - pdurbin: dataverse> Caused by: javax.persistence.NoResultException: getSingleResult() did not retrieve any entities.
Fri, Mar 3, 2023, 16:46:30 - pdurbin: ok, so no root collection, need to run setup-all
Fri, Mar 3, 2023, 16:47:21 - poikilotherm: Pro tip: go for `./setup-all.sh --insecure -p="admin"`
Fri, Mar 3, 2023, 16:47:42 - poikilotherm: (Shameless self plug from https://github.com/gdcc/dataverse/blob/6c63c7c22c774c1fee4a3ddf9444786a935d6fcc/conf/container/scripts/app/bootstrap-job.sh#L45)
Fri, Mar 3, 2023, 16:48:36 - pdurbin: oh yes, that's already in my script
Fri, Mar 3, 2023, 16:48:47 - pdurbin sent an image. (Media omitted)
Fri, Mar 3, 2023, 16:48:57 - pdurbin: It (almost) works! Just Solr is broken.
Fri, Mar 3, 2023, 16:49:24 - pdurbin: dataverse>   Exception running search for [*] with filterQueries [] and paginationStart [0]: edu.harvard.iq.dataverse.search.SearchException: Internal Dataverse Search Engine Error org.apache.solr.client.solrj.SolrServerException org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://localhost:8983/solr/collection1 org.apache.http.conn.HttpHostConnectException org.apache.http.conn.HttpHostConnectException: Connect to localhost:8983 [localhost/127.0.0.1] failed: Connection refused (Connection refused) java.net.ConnectException java.net.ConnectException: Connection refused (Connection refused) |#]

Fri, Mar 3, 2023, 16:49:49 - poikilotherm: Oh dang we forgot to set those options!
Fri, Mar 3, 2023, 16:50:03 - pdurbin: wait, is it broken in Guillermo Portas 's PR too? I didn't test Solr yet
Fri, Mar 3, 2023, 16:50:24 - pdurbin: this one: https://github.com/IQSS/dataverse/pull/9417
Fri, Mar 3, 2023, 16:50:29 - pdurbin: which my PR is based on
Fri, Mar 3, 2023, 16:50:36 - pdurbin: er, my branch, not a PR yet
Fri, Mar 3, 2023, 16:51:30 - poikilotherm: pull pull pull
Fri, Mar 3, 2023, 16:52:05 - pdurbin: +      - DATAVERSE_SOLR_HOST=solr

Fri, Mar 3, 2023, 16:52:13 - poikilotherm: And probably shutdown + retry
Fri, Mar 3, 2023, 16:52:37 - poikilotherm: Database etc is on ephemeral storage
Fri, Mar 3, 2023, 16:53:05 - poikilotherm: (tmpfs)
Fri, Mar 3, 2023, 16:53:14 - pdurbin: perfect for dev
Fri, Mar 3, 2023, 16:53:45 - poikilotherm: And no strange files you can't delete without sudo üôà
Fri, Mar 3, 2023, 16:53:59 - pdurbin: IOException occurred when talking to server at: http://solr:8983/solr/collection1
Fri, Mar 3, 2023, 16:54:04 - pdurbin: we are so close!
Fri, Mar 3, 2023, 16:54:24 - poikilotherm: Oh? IOException?
Fri, Mar 3, 2023, 16:54:32 - pdurbin: dataverse>   Exception running search for [*] with filterQueries [] and paginationStart [0]: edu.harvard.iq.dataverse.search.SearchException: Internal Dataverse Search Engine Error org.apache.solr.client.solrj.SolrServerException org.apache.solr.client.solrj.SolrServerException: IOException occurred when talking to server at: http://solr:8983/solr/collection1 java.net.UnknownHostException java.net.UnknownHostException: solr |#]

Fri, Mar 3, 2023, 16:54:37 - pdurbin: the full error ^^
Fri, Mar 3, 2023, 16:54:47 - poikilotherm: Aaaah wait
Fri, Mar 3, 2023, 16:54:52 - poikilotherm: I forgot antoher line
Fri, Mar 3, 2023, 16:54:54 - pdurbin: is that right? just "solr" as the fqdn?
Fri, Mar 3, 2023, 16:55:34 - poikilotherm: pull pull pull
Fri, Mar 3, 2023, 16:55:36 - poikilotherm: yes
Fri, Mar 3, 2023, 16:55:40 - poikilotherm: Docker does DNS for you
Fri, Mar 3, 2023, 16:55:55 - poikilotherm: And I sorted out all the problems with linking the containers together with a network
Fri, Mar 3, 2023, 16:56:02 - poikilotherm: THis is all tucked away for you
Fri, Mar 3, 2023, 16:56:33 - pdurbin: much appreciated, doing a run
Fri, Mar 3, 2023, 16:56:35 - poikilotherm: On the internal network, it's just working by using the simple hostname
Fri, Mar 3, 2023, 16:57:05 - pdurbin: I made a smaller copy of my rebuild script. Will add it.
Fri, Mar 3, 2023, 16:57:20 - poikilotherm: :-D
Fri, Mar 3, 2023, 16:57:32 - poikilotherm: At a future point in time the bootstrap will happen automatically
Fri, Mar 3, 2023, 16:57:34 - pdurbin: and document it of course
Fri, Mar 3, 2023, 16:57:48 - poikilotherm: Then you only need to start/stop things in one way or another
Fri, Mar 3, 2023, 16:57:56 - pdurbin: dataverse>   Exception running search for [*] with filterQueries [] and paginationStart [0]: edu.harvard.iq.dataverse.search.SearchException: Internal Dataverse Search Engine Error org.apache.solr.client.solrj.SolrServerException org.apache.solr.client.solrj.SolrServerException: IOException occurred when talking to server at: http://solr:8983/solr/collection1 java.net.UnknownHostException java.net.UnknownHostException: solr: Name or service not known |#]

Fri, Mar 3, 2023, 16:58:07 - poikilotherm: *grrrr*
Fri, Mar 3, 2023, 16:58:12 - pdurbin: heh
Fri, Mar 3, 2023, 16:58:29 - poikilotherm: Too bad I can't test with my broken Docker
Fri, Mar 3, 2023, 16:58:46 - poikilotherm: Ok do me a favor
Fri, Mar 3, 2023, 16:58:49 - poikilotherm: Stop that thing
Fri, Mar 3, 2023, 16:59:00 - poikilotherm: and go for `docker compose up solr`
Fri, Mar 3, 2023, 16:59:19 - poikilotherm: Let's check solr is started correctly
Fri, Mar 3, 2023, 16:59:46 - poikilotherm: Haha
Fri, Mar 3, 2023, 16:59:49 - poikilotherm: No it isn't
Fri, Mar 3, 2023, 17:00:38 - poikilotherm: pull pull pull
Fri, Mar 3, 2023, 17:01:18 - poikilotherm: Stupid me
Fri, Mar 3, 2023, 17:01:32 - poikilotherm: Forgot to remove all of the debugging things before pushing
Fri, Mar 3, 2023, 17:01:41 - poikilotherm: It's late and I'm getting tired :-/
Fri, Mar 3, 2023, 17:01:55 - pdurbin: pulling!
Fri, Mar 3, 2023, 17:02:54 - poikilotherm: Strangest thing... It's starting again... The bloody hell I dunno what is going on her
Fri, Mar 3, 2023, 17:03:16 - poikilotherm: Maybe the CPU got a bit hot ü§∑ Gave it a jolly good workload today
Fri, Mar 3, 2023, 17:04:09 - poikilotherm: Bloody hell! Dataverse including all deps deployed and ready to bootstrap in ~1:30min
Fri, Mar 3, 2023, 17:05:19 - pdurbin sent an image. (Media omitted)
Fri, Mar 3, 2023, 17:05:27 - pdurbin: It works!! üéâ
Fri, Mar 3, 2023, 17:05:49 - poikilotherm: YEah was going to say the same
Fri, Mar 3, 2023, 17:06:21 - pdurbin sent an image. (Media omitted)
Fri, Mar 3, 2023, 17:07:24 - poikilotherm: I can't create a dataset... Got an exception
Fri, Mar 3, 2023, 17:07:33 - pdurbin: works on my machine!
Fri, Mar 3, 2023, 17:08:31 - poikilotherm: Looks like I did not add the necessary bits for the mail system
Fri, Mar 3, 2023, 17:08:37 - poikilotherm: Dunno why that works for you
Fri, Mar 3, 2023, 17:08:50 - pdurbin: no idea
Fri, Mar 3, 2023, 17:09:02 - pdurbin: Do you want the honor of making a PR from that branch?
Fri, Mar 3, 2023, 17:09:38 - poikilotherm: No this is not working yet!!!
Fri, Mar 3, 2023, 17:10:00 - poikilotherm: It tries to allocate a Datacite DOI here
Fri, Mar 3, 2023, 17:10:13 - poikilotherm: Probably setup-all.sh broke something
Fri, Mar 3, 2023, 17:10:25 - poikilotherm: Switched the DOI provider
Fri, Mar 3, 2023, 17:10:37 - pdurbin: oh, my script set FAKE. I'm about to push it
Fri, Mar 3, 2023, 17:11:14 - poikilotherm: Haha you actually would not need to use that thing because I added the JvmSetting
Fri, Mar 3, 2023, 17:11:24 - poikilotherm: But of course the db setting has prio
Fri, Mar 3, 2023, 17:12:01 - poikilotherm: Here's the malevolent line: https://github.com/poikilotherm/dataverse/blob/main/scripts/api/setup-all.sh#L60-L61
Fri, Mar 3, 2023, 17:12:38 - poikilotherm: It could have been soooo easy üò¨
Fri, Mar 3, 2023, 17:13:15 - poikilotherm: <@pdurbin:matrix.org "Do you want the honor of making ..."> üòÖ
Fri, Mar 3, 2023, 17:13:33 - pdurbin: let me get this doc commit in quick
Fri, Mar 3, 2023, 17:13:36 - poikilotherm: Dunno. Whatever you want me to do :-D
Fri, Mar 3, 2023, 17:14:19 - poikilotherm: DId I tell you already you could also very easily switch postgres and solr versions here?
Fri, Mar 3, 2023, 17:14:56 - poikilotherm: If you're using Maven, go for `mvn -Pct package docker:run -Dsolr.version=9.1.1` to try Solr 9
Fri, Mar 3, 2023, 17:15:42 - poikilotherm: Also works with `SOLR_VERSION=9.1.1 docker compose up` once you built that image locally
Fri, Mar 3, 2023, 17:16:58 - poikilotherm: For postgres go for `-Dpostgresql.server.version` or with docker compise use `POSTGRES_VERSION` as var name
Fri, Mar 3, 2023, 17:18:13 - pdurbin: very cool
Fri, Mar 3, 2023, 17:18:28 - pdurbin: I'd say you're primary author on this, if you can wait two minutes
Fri, Mar 3, 2023, 17:20:19 - poikilotherm: I am?
Fri, Mar 3, 2023, 17:26:27 - pdurbin: Phew! Pushed, finally: https://github.com/IQSS/dataverse/commit/0610b37b8b
Fri, Mar 3, 2023, 17:26:51 - pdurbin: But maybe dev-rebuild-docker.sh isn't the best name. I just tacked -docker to the end of the old script.
Fri, Mar 3, 2023, 17:27:29 - pdurbin: poikilotherm (CET,UTC+1): anyway, please take a look. If you're happy with it, please feel free to make a pull request! Thanks so much! Very exciting!
Fri, Mar 3, 2023, 17:27:36 - pdurbin: And to all, have a good weekend!
Fri, Mar 3, 2023, 17:28:14 - poikilotherm: I'm fixing a few more things I overlooked...
Fri, Mar 3, 2023, 17:35:17 - pdurbin: awesome thanks
Fri, Mar 3, 2023, 17:35:24 - pdurbin: I'm singing your praises in #dv-core
Fri, Mar 3, 2023, 17:35:35 - pdurbin: üé∂üéµ
Fri, Mar 3, 2023, 17:39:24 - poikilotherm: It's not just my achievement
Fri, Mar 3, 2023, 18:27:24 - poikilotherm: Here's the PR: https://github.com/IQSS/dataverse/pull/9424
Fri, Mar 3, 2023, 18:44:51 - Tanay Karve: Is this a bug or a feature?
encypted zips don't show up when uploaded through the api 
but browser uploads work 
Fri, Mar 3, 2023, 18:52:04 - pdurbin: weird
Fri, Mar 3, 2023, 18:52:40 - Tanay Karve: thru the api, the error is "Failed to unzip the file. Saving the file as is."
Fri, Mar 3, 2023, 18:53:01 - Tanay Karve: although it does say "saving the file as is", i don't see the file in my dataset
Fri, Mar 3, 2023, 18:55:06 - Tanay Karve: steps to reproduce:

`zip -qr --encrypt directory.zip directory/`

`curl -H X-Dataverse-key:$API_TOKEN -X POST  -F "file=@directory.zip" -F 'jsonData={"description":"My description.","directoryLabel":"data/subdir1","categories":["Data"], "restrict":"true", "tabIngest":"false"}' "$SERVER_URL/api/datasets/:persistentId/add?persistentId=$PERSISTENT_ID"`

Fri, Mar 3, 2023, 19:05:54 - pdurbin: Yikes. Can you please open an issue?
Fri, Mar 3, 2023, 19:08:09 - Tanay Karve: workaround that i am using is zip then gpg encryption
Fri, Mar 3, 2023, 19:09:16 - Tanay Karve: also dataverse doesn't preserve directory structure when unzipping?
Fri, Mar 3, 2023, 22:08:28 - pdurbin: It should. Works for me.
Fri, Mar 3, 2023, 22:08:48 - pdurbin: for normal non-encrypted zips anyway
Fri, Mar 3, 2023, 22:30:51 - pdurbin: Have a good weekend, everyone
Sun, Mar 5, 2023, 08:00:26 - pdurbin: Should we start using Zulip (with the "public access option" on, for transparency) and bridge (at least for now) Matrix to it? I just wrote up some thoughts at https://github.com/IQSS/chat.dataverse.org/issues/22
Sun, Mar 5, 2023, 14:31:06 - pdurbin sent an image. (Media omitted)
Sun, Mar 5, 2023, 14:31:23 - pdurbin: I found Jan Range!!
Mon, Mar 6, 2023, 02:21:21 - mih: Hey, I am looking at the possibilities for file-metadata. My use case is adding a non-dataverse file identifier as an additional metadata field in order to enable unambiguous file-lookups (because we need to mangle file/path name info on upload due to name restrictions). Looking at the docs for adding files or updating file metadata I see possibilities for the fields "description", "provFreeform", "categories", "restrict".

Q1: Is there a way to add a custom file and set that? I am specifically asking for the possibilities of any stock dataverse deployment, not for potential customizations that could be done to a particular instance.

Q2: If Q1 is negative, it seems prov-metadata could fit (we essentially derive the dataverse representation of a file from its original (name)). Looking at the docs for prov-upload, I get the impression that provstore terminology and structure is desired. However, the endpoint is called "freeform". Does that mean that no particular structure is mandatory?

Thanks in advance!
Mon, Mar 6, 2023, 02:25:58 - mih: Maybe one more clarification: Even if prov is the preferred possibility to express such things, ultimately it is about lookup. The use case requires to be able to determine whether a particular file identity is present in a dataverse dataset or not, and if so, to be able to download its content.
Mon, Mar 6, 2023, 06:18:00 - pdurbin: mih: is this for https://github.com/datalad/datalad-dataverse/issues/146 ?
Mon, Mar 6, 2023, 06:21:43 - mih: it is related, yes, but somewhat more fundamental due to previously unclear side-effects on other code. The issue you linked is specifically about recording the dataverse fileid outside dataverse (in the datalad dataset). Here I am asking about recording an external file id (the annex key from datalad) in/on dataverse. So more or less the other side of that coin
Mon, Mar 6, 2023, 06:34:26 - pdurbin: mih: people ask all the time about additional metadata fields at the file level. These days I often point them toward the ability to add one or more "auxiliary files" for each datafile: https://guides.dataverse.org/en/5.13/developers/aux-file-support.html 
Mon, Mar 6, 2023, 06:35:36 - pdurbin: Recently, I started using aux files for store the header of NetCDF or HDF5 files. That way, people can get a preview of the header before downloading the (potentially large) NetCDF or HDF5 file.
Mon, Mar 6, 2023, 06:36:15 - mih: Nice, so basically a "side car" file
Mon, Mar 6, 2023, 06:36:30 - pdurbin: See the XML at https://demo.dataverse.org/file.xhtml?persistentId=doi:10.70122/FK2/JTUS2J/K68IDV&version=1.0 ? That's the header from the HDF5 file, in NcML format.
Mon, Mar 6, 2023, 06:36:51 - mih: If I get this right, it would not allow for data file lookup by information in these auxfiles. Correct?
Mon, Mar 6, 2023, 06:37:28 - pdurbin: And if you click "Access File" you'll see "Download Auxiliary Files" and the ability to download that XML (NcML) file.
Mon, Mar 6, 2023, 06:39:35 - pdurbin: Well, maybe in the aux file (which could be anything, such as JSON or XML) you could store the database id of the primary file (HDF5 file, in my example).
Mon, Mar 6, 2023, 06:40:06 - mih: But that means that I would have to download all auxfiles first, right?
Mon, Mar 6, 2023, 06:40:35 - pdurbin: I guess so?
Mon, Mar 6, 2023, 06:40:51 - mih: ok, that could be expensive
Mon, Mar 6, 2023, 06:41:01 - pdurbin: Maybe there's a better way. Aux files are the first thing that came to mind. üòÖ
Mon, Mar 6, 2023, 06:41:22 - mih: Right now we get a dataset content listing via https://pydataverse.readthedocs.io/en/latest/reference.html#pyDataverse.api.NativeApi.get_dataset
Mon, Mar 6, 2023, 06:41:40 - mih: anything in there would come at no additional cost
Mon, Mar 6, 2023, 06:43:13 - pdurbin: Sure. If memory serves, you or Benjamin Poldrack or someone opened an issue about downloading by checksum. Is that related? You're trying to unambiguously identify the file, the bytes you want.
Mon, Mar 6, 2023, 06:44:04 - mih: checksum is close, but not a fit
Mon, Mar 6, 2023, 06:44:06 - Benjamin Poldrack: Issue was opened by Yarik, I believe. But it wouldn't be a compete solution really.
Mon, Mar 6, 2023, 06:45:09 - poikilotherm (Oliver Bertuch) joined the room
Mon, Mar 6, 2023, 06:45:11 - pdurbin: Ok. I can't find it anyway üòÖ
Mon, Mar 6, 2023, 06:47:35 - mih: Each dataset knows a precise identifier for each file. Often checksum-based, but not always. We cannot use the filename (directoryLabel) as it is recorded in the dataset, because it needs to be mangled for upload on dataverse. We also do not have the content locally for computing a checksum (download that particular content from dataverse is the use case). We could compute a checksum identifier specifically for dataverse and record that locally (on upload), but it would create a chicken-and-egg-problem in some cases. Ideally, we could record on dataverse. But I was not asking about adding such a feature. Only if there is the possibility somehow
Mon, Mar 6, 2023, 06:48:23 - Benjamin Poldrack: Re sidecar files: The alternative could be to have our own file with the mapping in `dotgit` or somewhere, mih ? Not nice, but certainly cheaper than a ton of requests to get all the sidecar files.
Mon, Mar 6, 2023, 06:48:23 - pdurbin: mih: right. And you also asked about the provenance "free form" option. That's described here: https://guides.dataverse.org/en/5.13/api/native-api.html#updating-file-metadata
Mon, Mar 6, 2023, 06:49:15 - pdurbin: But if you add that free form prov field, I'm not sure if it shows up in the main listing or not. Maybe you could try it and let me know.
Mon, Mar 6, 2023, 06:49:59 - mih: Thx will do!
Mon, Mar 6, 2023, 06:52:41 - poikilotherm (Oliver Bertuch): üëãpdurbin - wrt your Zulip idea. How about gitter.im? Just signed up via GitHub to it...
Mon, Mar 6, 2023, 06:56:29 - pdurbin: poikilotherm (Oliver Bertuch): so now there are two of you. üòÑ Gitter is just Matrix now, after the migration. It doesn't give us better logs (yet, until Matrix Public Archive is real, again, I played with this over the weekend at https://people.dataverse.org/chatter/r/dataverse:matrix.org ). So I'm not sure how Gitter helps us. It's just Matrix. It's just what we have now. I have great love for Gitter before it switched to private by default: https://github.com/pdurbin/slopi-communication/issues/35
Mon, Mar 6, 2023, 06:59:31 - poikilotherm (Oliver Bertuch) left the room
Mon, Mar 6, 2023, 07:09:31 - pdurbin: So far so good with Zulip. Native app. Works well. I'm playing with it here: https://vismut.zulipchat.com/#narrow/stream/314717-help/topic/Trouble.20executing.20on.20Mac/near/339765843
Mon, Mar 6, 2023, 08:42:21 - beep: <@pdurbin:matrix.org "mih: people ask all the time abo..."> This is how we practically implement RO-Crate support in DV right now. We generate/sync with the ro-crate-metadata.json aux file, which stores both the DV metadata as well as file related metadata, which cannot be added via DV, but we have a separate RO-Crate editor, which allows adding both DV and file level metadata as well. The file related metadata won't be indexed and searchable by DV, but will be indexed by an external tool, which combines DV, RO-Crate and some other metadata sources.

That said, it would be cool to have the same/similar level of metadata support for files as for datasets.
Mon, Mar 6, 2023, 09:17:00 - mih: <@pdurbin:matrix.org "But if you add that free form pr..."> I looked at the composition of the listing before diving into the prov record. Here is the report of a file in such a listing:

```json
        {
          "description": "",
          "label": "XDLRA--refs",
          "restricted": false,
          "version": 1,
          "datasetVersionId": 227109,
          "dataFile": {
            "id": 2029198,
            "persistentId": "",
            "pidURL": "",
            "filename": "XDLRA--refs",
            "contentType": "text/plain; charset=US-ASCII",
            "filesize": 161,
            "description": "",
            "storageIdentifier": "s3://demo-dataverse-org:186b73f7dc1-b78d8e3033a7",
            "rootDataFileId": -1,
            "md5": "8561566c0be2a7407c0de628c25f6725",
            "checksum": {
              "type": "MD5",
              "value": "8561566c0be2a7407c0de628c25f6725"
            },
            "creationDate": "2023-03-06"
          }
        },
```
Mon, Mar 6, 2023, 09:17:41 - mih: Is there a place where I could read about the semantics of `label` vs `filename`?
Mon, Mar 6, 2023, 09:59:03 - poikilotherm: https://fz-juelich-de.zoom.us/j/99376148003?pwd=VEVRVFM0S0NqS1loUmx5MEpKWnN5dz09
Mon, Mar 6, 2023, 10:29:54 - mih: <@mih:matrix.org "I looked at the composition of t..."> It seems setting `provFreeform` directly on upload via https://pydataverse.readthedocs.io/en/latest/reference.html#pyDataverse.api.NativeApi.upload_datafile does not make it appear in the `get_dataset()` listing. However, it also does not show up in the web UI. I checked that other metadata props like `description` and `directoryLabel` are set fine this way. Possibly it requires a subsequent call to `update_datafile_metadata()`. I will check this next
Mon, Mar 6, 2023, 11:01:57 - mih: I think I am out of ideas. All attempts to set `provFreeform` result in:

```
‚ùØ curl -H "X-Dataverse-key:0e38523a-b87d-7cd304ba8aa5" https://demo.dataverse.org/api/files/2029353/prov-freeform
{"status":"ERROR","message":"No provenance free form text available for this file."}%                          
```

within the same call I am also setting a custom description for a file, which is applied, which I can retrieve, and which also shows up on the web UI.
Mon, Mar 6, 2023, 11:02:29 - mih: (tried against demo.dataverse.org)
Mon, Mar 6, 2023, 12:08:00 - aialves: Good afternoon. Can you please tell me how can I set --tls=on in dataverse (for smtp server)?
Mon, Mar 6, 2023, 14:22:33 - Don Sizemore: aialves: I imagine Payara can do this, but honestly the easiest thing might be to point Payara at a local Postfix relay, and configure TLS there
Mon, Mar 6, 2023, 14:23:25 - Don Sizemore: this is what I did for SendGrid and for AWS SES, each of which have well-written instructions, but it does leave a small unencrypted hop from Payara to Postfix on localhost (if that breaks any rules)
Mon, Mar 6, 2023, 16:57:06 - pdurbin: upcoming topics for community calls: annotations, Docker, datapapers - https://groups.google.com/g/dataverse-community/c/OiNkboYywOA/m/8IbL0D2oAgAJ
Mon, Mar 6, 2023, 16:57:39 - pdurbin: Sorry everybody. It's been a crazy busy day today. I'll scroll up at some point and try to re-engage in the chatter üòÖ
Tue, Mar 7, 2023, 06:08:36 - aialves: Good morning :-). How can I define the 'Terms of Use'? When someone signs up in dataverse there is no 'Terms of Use'  document.
Tue, Mar 7, 2023, 06:37:00 - pdurbin: aialves: https://guides.dataverse.org/en/latest/installation/config.html#applicationtermsofuse
Tue, Mar 7, 2023, 06:37:29 - pdurbin: And good morning!
Tue, Mar 7, 2023, 06:52:36 - aialves: Thank you for your quick reply.
Tue, Mar 7, 2023, 06:55:14 - aialves: I solved the problem with smtp server (yesterday reported) adding the porperty 'mail.smtp.starttls.enable' with the value 'true' in 'Mail/NotifyMailSession' configuration.
Tue, Mar 7, 2023, 07:05:31 - pdurbin: Great! Is that in our documentation? If not, would you like to add it?
Tue, Mar 7, 2023, 08:01:47 - aialves: I think your documentation does not mention this. Where must I add this information?
Tue, Mar 7, 2023, 08:29:31 - pdurbin: aialves: here, please! https://github.com/IQSS/dataverse/blob/develop/doc/sphinx-guides/source/installation/installation-main.rst#mail-host-configuration-authentication üòÑ
Tue, Mar 7, 2023, 09:15:03 - pdurbin: All are welcome to the community call in a little under an hour: https://dataverse.org/community-calls
Tue, Mar 7, 2023, 10:16:48 - s.d.d. joined the room
Tue, Mar 7, 2023, 11:21:22 - aialves: When I try to update ':ApplicationTermsOfUse' setting using the command 'sudo curl -X PUT -d @/tmp/termosusoIPB.html http://localhost:8080/api/admin/settings/:ApplicationTermsOfUse' I get the following warning '
Warning: Couldn't read data from file "/tmp/termosusoIPB.html", this makes an Warning: empty POST.' The 'Terms of use' field in the signup form gets blank. How can I fix this?
Tue, Mar 7, 2023, 11:49:01 - Don Sizemore: aialves: have you tried the command without sudo?
Tue, Mar 7, 2023, 11:52:14 - aialves: Yes, I did.
Tue, Mar 7, 2023, 11:59:33 - pdurbin: aialves: what do you get if you type `file /tmp/termosusoIPB.html`?
Tue, Mar 7, 2023, 12:41:00 - aialves: termosusoIPB.html: Non-ISO extended-ASCII text, with very long lines, with CRLF line terminators

Tue, Mar 7, 2023, 12:42:39 - aialves: I changed the file. Now I get 'ISO- 8859 text'
Tue, Mar 7, 2023, 12:45:40 - aialves: Thank you pdurbin for your precious help. The problem is solved.
Tue, Mar 7, 2023, 12:57:54 - pdurbin: Fantastic! Maybe it was the line endings?!?
Tue, Mar 7, 2023, 16:47:23 - pdurbin: aialves: do you have a copy of your file from before you fixed it?
Tue, Mar 7, 2023, 16:48:38 - aialves: Hello again. Yes, I do.
Tue, Mar 7, 2023, 16:49:10 - pdurbin: aialves: would you be able to create an issue and attach your file to it?
Tue, Mar 7, 2023, 16:52:53 - aialves: Where can I create an issue? You know portuguese has many spelling accents and special characters, it is not like english language :-). I think that was the problem with my previous file.
Tue, Mar 7, 2023, 16:54:18 - pdurbin: https://github.com/IQSS/dataverse/issues is the place to create an issue but it's up to you. If you feel like it. If you think it's a bug. If you think others might struggle with this. Perhaps we could improve the error message, at least.
Tue, Mar 7, 2023, 16:55:23 - aialves set a profile picture
Tue, Mar 7, 2023, 16:57:45 - aialves: OK. I can do it. No problem! This can definitely help other users. 
Tue, Mar 7, 2023, 16:57:59 - pdurbin: I think so too. üòÑ Thanks!
Tue, Mar 7, 2023, 16:59:00 - aialves: OK, I will do it. You're welcome :-)!
Tue, Mar 7, 2023, 20:33:18 - pdurbin: Wow, the project lead of Matrix commented on the issue I opened about how I think we should consider switching to or also using Zulip: https://github.com/IQSS/chat.dataverse.org/issues/22#issuecomment-1459093469
Wed, Mar 8, 2023, 07:26:27 - pdurbin: Zulip (with "public access" on) makes it easy to have a chat conversation and then link to it later from other places we all talk such as a the mailing list or GitHub issues. And the person clicking the link doesn't need to have a Zulip account. Then can just read it. I think this is powerful (and it's something we used to have with our IRC logs). To me, it's the right way to do chat for an open source project (except for discussions about security, of course).
Wed, Mar 8, 2023, 07:27:27 - Don Sizemore: @pdurbin remind me: did you look at MatterMost? I ask since RockyLinux seems pretty happy with it.
Wed, Mar 8, 2023, 07:29:06 - pdurbin: A while ago I looked for an equivalent "public access" option for MatterMost but couldn't find it. If you know of a Mattermost instance that runs this way, please let me know and I'll add it to my list! üòÑ
Wed, Mar 8, 2023, 07:29:42 - pdurbin: RocketChat has this but I don't know what they call it.
Wed, Mar 8, 2023, 07:35:06 - pdurbin: Oh you're saying Rocky uses it. Let me look.
Wed, Mar 8, 2023, 07:36:56 - pdurbin: Nope. They aren't using anything like the "public access" option I'm talking about.
Wed, Mar 8, 2023, 07:38:20 - pdurbin: With a public access option, like Zulip has, you can link to any message and just read it without logging in. Like it's a GitHub issue comment or a post on a public mailing list. Really nice.
Wed, Mar 8, 2023, 07:39:16 - pdurbin: You can even load up a Zulip site in their desktop client without logging in. And poke around and read to your heart's content.
Wed, Mar 8, 2023, 07:39:46 - pdurbin: You can get a sense of a community. Are they civil? Are they even nice? Any cat videos? All without joining.
Wed, Mar 8, 2023, 07:40:27 - Don Sizemore: It's chat.rockylinux.org if you truly want the experience. bridged to their IRC channels
Wed, Mar 8, 2023, 07:40:59 - Don Sizemore: they're generally nice, with one or two exceptions. even those two aren't maleficent, just... techies.
Wed, Mar 8, 2023, 07:41:27 - Don Sizemore: you're correct that I had to sign up, though.
Wed, Mar 8, 2023, 07:41:39 - pdurbin: Right. That's the sticky wicket.
Wed, Mar 8, 2023, 07:43:17 - pdurbin: Check this out. I stood it up over the weekend: https://people.dataverse.org/chatter/r/dataverse:matrix.org
Wed, Mar 8, 2023, 07:43:48 - pdurbin: It's an installation of Matrix Public Archive, the thing that will help but that it's quite done yet. It should help a lot.
Wed, Mar 8, 2023, 07:44:23 - Don Sizemore: how does Zulip protect itself from bots?
Wed, Mar 8, 2023, 07:44:58 - pdurbin: Well, to post anything to Zulip, you still have to create an account.
Wed, Mar 8, 2023, 07:46:56 - pdurbin: I assume you're thinking of spam bots.
Wed, Mar 8, 2023, 07:48:48 - Don Sizemore: or spammers or trolls or script kiddies
Wed, Mar 8, 2023, 07:49:01 - Don Sizemore: open access is a scary thing these days.
Wed, Mar 8, 2023, 07:50:40 - pdurbin: I mean, I guess someone could try to DOS a public access Zulip by downloading all the messages. People try this with Harvard Dataverse from time to time. üòÑ
Wed, Mar 8, 2023, 07:56:38 - Don Sizemore: what I mean, but if Zulip requires an account to post that should be decently sufficient
Wed, Mar 8, 2023, 07:57:12 - pdurbin: Yeah, I agree 
Wed, Mar 8, 2023, 08:38:24 - pdurbin: Anyway, all this chat stuff is on my mind because we will soon launch a new working group about containers and Docker and I'm pretty sure we'll want a dedicated space for discussion.
Wed, Mar 8, 2023, 08:38:59 - pdurbin: We'll have zoom calls, of course, but in between the zoom calls we should have a mailing list or a chat room or something.
Wed, Mar 8, 2023, 08:39:45 - pdurbin: Or both, I suppose, but it seems like a chat room would be more popular, would be used more.
Wed, Mar 8, 2023, 08:41:15 - pdurbin: Here in Matrix we could create a second channel (#dataverse-ct for containers maybe) and what Matrix calls a "space" so you can collect multiple channels together.
Wed, Mar 8, 2023, 08:57:37 - Don Sizemore: a containers container?
Wed, Mar 8, 2023, 09:33:08 - poikilotherm: AKA "DinD"
Wed, Mar 8, 2023, 10:00:26 - pdurbin: DinD?
Wed, Mar 8, 2023, 10:29:37 - pdurbin: Vyacheslav Tikhonov says he's fine with the containerization working group chat being on Zulip. Any objections from anyone here?
Wed, Mar 8, 2023, 10:41:04 - aialves: Good afternoon pdurbin. I have just submitted an issue with the problem yesterday detected with the update of the ':ApplicationTermsOfUse' setting. 
Wed, Mar 8, 2023, 10:42:47 - pdurbin: I see it: https://github.com/IQSS/dataverse/issues/9430 . Thanks, aialves !!
Wed, Mar 8, 2023, 10:43:49 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 10:44:30 - pdurbin: I applied for sponsorship from Zulip (Dataverse should be eligible as an open source project). Then we can enable web-public streams.
Wed, Mar 8, 2023, 10:45:17 - pdurbin: poikilotherm (CET,UTC+1) and Don Sizemore can I invite you to be co-admins on Zulip?
Wed, Mar 8, 2023, 10:46:37 - poikilotherm: <@pdurbin:matrix.org "DinD?"> Docker in Docker
Wed, Mar 8, 2023, 10:47:10 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1) and Don..."> You can. So we leaving Matrix now?
Wed, Mar 8, 2023, 10:47:31 - pdurbin: No no, not leaving Matrix
Wed, Mar 8, 2023, 10:47:46 - pdurbin: I'm just eager to explore Zulip
Wed, Mar 8, 2023, 10:47:50 - poikilotherm: I'm not sure I'd want even more channels for dataverse
Wed, Mar 8, 2023, 10:48:14 - pdurbin: Maybe we could set up a bridge? https://zulip.com/integrations/doc/matrix
Wed, Mar 8, 2023, 10:48:17 - poikilotherm: I'm using Matrix for Dataverse only so far.
Wed, Mar 8, 2023, 10:48:51 - pdurbin: Sorry, you mean you only use Matrix for Dataverse? (And for DMs, I guess.)
Wed, Mar 8, 2023, 10:49:14 - poikilotherm: Well we'd probably have DMs on Zulip as well
Wed, Mar 8, 2023, 10:49:29 - poikilotherm: So far only DMs and chat groups with dataverse related folsk
Wed, Mar 8, 2023, 10:50:06 - poikilotherm: So maybe it would be fine to just ditch Matrix and move (again). I dunno how the community feels about this.
Wed, Mar 8, 2023, 10:50:37 - poikilotherm: Probably most of 'em just don't care, happy to find people to talk to.
Wed, Mar 8, 2023, 10:50:51 - pdurbin: Yeah, probably 
Wed, Mar 8, 2023, 10:51:04 - poikilotherm: Dunno if we should ask people at the community Slack. There might be more reluctance over there
Wed, Mar 8, 2023, 10:51:27 - pdurbin: It's not very active 
Wed, Mar 8, 2023, 10:51:30 - poikilotherm: It's just so comfy when all is in one place... Walled gardens and such
Wed, Mar 8, 2023, 10:51:46 - pdurbin: Yeah 
Wed, Mar 8, 2023, 10:52:14 - poikilotherm: Would people from IQSS slack be in with Zulip?
Wed, Mar 8, 2023, 10:52:58 - poikilotherm: IMHO this is the most important point. It's no use jumping around messaging platforms when the people that are important aren't onboard anyway
Wed, Mar 8, 2023, 10:52:58 - Don Sizemore: @pdurbin I'll do what I'm told to do
Wed, Mar 8, 2023, 10:54:52 - poikilotherm: And what do we do when Zulip switches their feature set? It is still a private company. At least Matrix is a free, federated thing. Both have advantages and disadvantages. But if that happens, where do we go to then?
Wed, Mar 8, 2023, 10:55:21 - pdurbin: Zulip will make it much easier for people from IQSS to read the chatter. This is very difficult today with Matrix. (It was easy with IRC logs!) üòÑ
Wed, Mar 8, 2023, 10:55:57 - pdurbin: Zulip is open source. If necessary, we can export our data from their cloud offering and run it ourselves.
Wed, Mar 8, 2023, 10:57:29 - pdurbin: We survived the Freenode meltdown. We can survive a Zulip meltdown, I think. üòÑ
Wed, Mar 8, 2023, 10:58:51 - poikilotherm: Right.
Wed, Mar 8, 2023, 10:59:12 - poikilotherm: At least there seems to be a chance to bridge Zulip and Slack, too. https://github.com/zulip/python-zulip-api/tree/main/zulip/integrations/bridge_with_slack
Wed, Mar 8, 2023, 10:59:50 - pdurbin: Sure, maybe someday we'll pump messages from Zulip into both Slacks
Wed, Mar 8, 2023, 11:00:17 - poikilotherm: Well I'd be in for voting to shutdown the other channels if Zulip works for us.
Wed, Mar 8, 2023, 11:00:29 - poikilotherm: There is no use in riding dead horses
Wed, Mar 8, 2023, 11:01:22 - pdurbin: yeah, makes sense
Wed, Mar 8, 2023, 11:01:43 - pdurbin: let's see if the approval for open source from Zulip comes through first! üòÖ
Wed, Mar 8, 2023, 11:02:01 - pdurbin: We'll also have to get used to how they strongly encourage "topics"
Wed, Mar 8, 2023, 11:02:19 - pdurbin: my old IRC habits might die hard üòÖ
Wed, Mar 8, 2023, 11:06:07 - poikilotherm: Programmers stay young in their minds as they need to constantly adapt. You'll get over it üòã
Wed, Mar 8, 2023, 11:16:46 - pdurbin: Maybe I'll hate Zulip. Or maybe we won't get open source sponsorship. Stay tuned!
Wed, Mar 8, 2023, 11:46:39 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 11:47:06 - pdurbin: Jan Range is killing it
Wed, Mar 8, 2023, 14:13:41 - poikilotherm: <@pdurbin:matrix.org "Maybe I'll hate Zulip. Or maybe ..."> I just installed the app on my phone. A must have for me, as timezones are unpalatably unavoidable. So I need to read y'all on small üì±
Wed, Mar 8, 2023, 14:14:24 - Don Sizemore: @poikilotherm SHOULD WE TYPE IN CAPS
Wed, Mar 8, 2023, 14:33:33 - pdurbin: WHY NOT
Wed, Mar 8, 2023, 14:33:43 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 14:34:04 - pdurbin: Jan Range: from "From Lab Notebook to Publication - A Lighthouse Workflow for Research Data" at https://iqss.github.io/dataverse-tv/
Wed, Mar 8, 2023, 14:39:08 - poikilotherm: <@donsizemore:matrix.org "@poikilotherm SHOULD WE TYPE IN ..."> I CAN'T HEAR YOU!!!!!11111!!!11
Wed, Mar 8, 2023, 14:40:26 - poikilotherm: <@pdurbin:matrix.org "sent an image."> Hey - don't critizise our beloved corporate design! A lot of people with higher salary than me developed that and pitched it to people with even higher wages for approval. </sarcasm>
Wed, Mar 8, 2023, 14:50:29 - pdurbin: poikilotherm (CET,UTC+1) Don Sizemore please DM me the email I should use to invite you to Zulip (or paste it here if you don't care)
Wed, Mar 8, 2023, 14:50:45 - Don Sizemore: dls@email.unc.edu
Wed, Mar 8, 2023, 14:51:39 - Don Sizemore: I'm already on 50 gazillion mailing lists
Wed, Mar 8, 2023, 14:51:48 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 14:52:00 - pdurbin: I left the defaults except I'm making you an owner.
Wed, Mar 8, 2023, 14:52:23 - pdurbin: huh, that's weird
Wed, Mar 8, 2023, 14:52:32 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 14:52:49 - pdurbin: Did I click twice accidentally? Too much coffee? Don Sizemore did you get the email?
Wed, Mar 8, 2023, 15:01:30 - pdurbin: Don Sizemore: I Slacked you an invite link
Wed, Mar 8, 2023, 15:02:13 - pdurbin: Are we ok with "containers" as the name of the stream? Shorter than "containerization".
Wed, Mar 8, 2023, 15:04:18 - pdurbin: better than "docker" I'd say
Wed, Mar 8, 2023, 15:07:05 - poikilotherm: Sure thing
Wed, Mar 8, 2023, 15:07:07 - poikilotherm: Go for it
Wed, Mar 8, 2023, 15:07:23 - poikilotherm: I just added a topic in general: https://dataverse.zulipchat.com/#narrow/stream/375707-general/topic/hello-i'm-new-here/near/340454409
Wed, Mar 8, 2023, 15:07:34 - pdurbin: Ok, but I'll wait until we get sponsored so I can make it web-public.
Wed, Mar 8, 2023, 15:07:43 - poikilotherm: Aha!
Wed, Mar 8, 2023, 15:08:01 - pdurbin: <@pdurbin:matrix.org "sent an image."> web-public is greyed out right now ^^
Wed, Mar 8, 2023, 15:11:17 - Don Sizemore: @pdurbin I do like that the "idle" icon reminds be of a 1980s Scantron sheet
Wed, Mar 8, 2023, 15:14:39 - pdurbin: get out your number 2 pencils, kids! ‚úèÔ∏è
Wed, Mar 8, 2023, 15:21:23 - pdurbin: poikilotherm (CET,UTC+1): Stefano wants the containerization working group to create a doc. Do you want it to be a DEP? Or just one of our usual design docs (like for embargo or licenses, etc.)?
Wed, Mar 8, 2023, 15:21:50 - poikilotherm: Whatever you people want
Wed, Mar 8, 2023, 15:21:57 - pdurbin: heh, fair enough!
Wed, Mar 8, 2023, 15:22:09 - poikilotherm: DEP was just an idea
Wed, Mar 8, 2023, 15:22:32 - poikilotherm: A way to professionalize stuff 
Wed, Mar 8, 2023, 15:22:46 - pdurbin: sure
Wed, Mar 8, 2023, 15:22:48 - poikilotherm: But obviously there is no requirement to follow that path
Wed, Mar 8, 2023, 15:23:16 - pdurbin: Let's start with a design doc, we can always deprecate it in favor of a actual DEP in the future.
Wed, Mar 8, 2023, 15:23:35 - poikilotherm: Sure. In 2050 üòù
Wed, Mar 8, 2023, 15:23:46 - pdurbin: heh
Wed, Mar 8, 2023, 15:32:49 - pdurbin: ok, I started a container design doc: https://docs.google.com/document/d/14DHDB24Cp_kzpYqhHCKCtnzOw8_WuLOOONyqJHSsaYM/edit?usp=sharing
Wed, Mar 8, 2023, 15:32:59 - poikilotherm: pdurbin: I have been hacking on the TSV parsing stuff. I'm thinking about moving this to a separate repo under gdcc. Would that make sense?
Wed, Mar 8, 2023, 15:33:21 - poikilotherm: (Maybe also releasing the parser as JAR to Maven Central from there)
Wed, Mar 8, 2023, 15:33:22 - pdurbin: well, do you want to coordinate with Jan Range ?
Wed, Mar 8, 2023, 15:33:33 - pdurbin: I guess it's Java vs Python, right?
Wed, Mar 8, 2023, 15:33:44 - poikilotherm: Yeah it is :-D
Wed, Mar 8, 2023, 15:33:48 - poikilotherm: Of course
Wed, Mar 8, 2023, 15:33:56 - pdurbin: a new repo under gdcc sounds fine
Wed, Mar 8, 2023, 15:34:01 - poikilotherm: I want a better parser in Dataverse, too
Wed, Mar 8, 2023, 15:34:10 - pdurbin: sure üòÖ
Wed, Mar 8, 2023, 15:34:10 - poikilotherm: So it has to be Java
Wed, Mar 8, 2023, 15:34:56 - poikilotherm: Ah you folks are heading out already, right?
Wed, Mar 8, 2023, 15:35:17 - poikilotherm: Otherwise we could drag Jan Range into a Zoom room and chat with him
Wed, Mar 8, 2023, 15:35:33 - pdurbin: we have 90 minutes until beers at the queenshead if that's what you mean üçª
Wed, Mar 8, 2023, 15:35:46 - poikilotherm: Is he still around?
Wed, Mar 8, 2023, 15:36:01 - pdurbin: yep, want me to get his attention? he's down the hall
Wed, Mar 8, 2023, 15:36:14 - poikilotherm: Wanna poke him with a stick?
Wed, Mar 8, 2023, 15:37:28 - poikilotherm: https://fz-juelich-de.zoom.us/j/98338397951?pwd=TWZHNXVmVm1Obks5UGhxZlhiaDdmdz09
Wed, Mar 8, 2023, 15:40:10 - poikilotherm: *poke* *poke*
Wed, Mar 8, 2023, 15:40:16 - poikilotherm: (Does this work?)
Wed, Mar 8, 2023, 15:42:03 - pdurbin: lemme walk down the hall üòÑ
Wed, Mar 8, 2023, 16:01:53 - Jan Range: Sorry I was talking with Mike and was at the rest room
Wed, Mar 8, 2023, 16:01:58 - Jan Range: Zoom still open?
Wed, Mar 8, 2023, 16:02:08 - poikilotherm: How dare you!!!!! üòù
Wed, Mar 8, 2023, 16:02:21 - poikilotherm: My stick wasn't long enough to reach you then ;-)
Wed, Mar 8, 2023, 16:02:27 - poikilotherm: Yeah, Zoom still open
Wed, Mar 8, 2023, 16:03:11 - Jan Range: Even the local one failed ü´£ 
Wed, Mar 8, 2023, 16:03:13 - Jan Range: Joining you 
Wed, Mar 8, 2023, 16:03:30 - poikilotherm: Bad stick pdurbin ! üòâ
Wed, Mar 8, 2023, 16:06:21 - pdurbin: I knocked! Then I talked to Dwayne. Then I knocked again! I feel like I was knocking on a table after a good talk in Germany.
Wed, Mar 8, 2023, 16:06:42 - pdurbin: Oh man, I missed the opportunity to tell everyone to do that for Jan after his talk today.
Wed, Mar 8, 2023, 16:41:40 - aialves: Hello :-). How can I change the text 'The root dataverse.' (bellow 'Metrics') that appears in root dataverse? 
Wed, Mar 8, 2023, 16:44:15 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 16:44:44 - pdurbin: aialves: "Edit" and then "General Information" ^^
Wed, Mar 8, 2023, 16:46:21 - pdurbin: Save the date! March 21 kickoff of Containerization Working Group (Docker, Kubernetes, etc.) - https://groups.google.com/g/dataverse-community/c/Wlxo7xDf0i0/m/PQQ6ccErDQAJ
Wed, Mar 8, 2023, 16:47:23 - aialves: Thank you pdurbin. Sorry, this was a question with obvious answer :-(....  
Wed, Mar 8, 2023, 16:47:49 - poikilotherm: <@pdurbin:matrix.org "Oh man, I missed the opportunity..."> "Knuckles were rapped" IIRC üôà
Wed, Mar 8, 2023, 16:48:25 - pdurbin: heh
Wed, Mar 8, 2023, 16:48:50 - pdurbin: aialves: no worries, sounds like a UI/UX problem/confusion üòÖ. Not your fault!
Wed, Mar 8, 2023, 16:54:20 - poikilotherm: Here's the output regarding JSON Schema from our little chat Jan Range  https://github.com/IQSS/dataverse/issues/7173#issuecomment-1460927086
Wed, Mar 8, 2023, 16:58:27 - pdurbin: nice
Wed, Mar 8, 2023, 16:58:39 - pdurbin: still no word from Zulip
Wed, Mar 8, 2023, 17:01:58 - poikilotherm: Never mind. I also didn't receive any word from Docker yet
Wed, Mar 8, 2023, 17:02:43 - poikilotherm: <@pdurbin:matrix.org "we have 90 minutes until beers a..."> Prost! Wohl bekomm's!
Wed, Mar 8, 2023, 17:05:30 - aialves: I need to make dataverse a multilanguage platform. Has Dataverse Project 5.12.1 a complete portuguese dictionary?  
Wed, Mar 8, 2023, 17:06:49 - poikilotherm: <@aialves:matrix.org "I need to make dataverse a multi..."> https://github.com/GlobalDataverseCommunityConsortium/dataverse-language-packs
Wed, Mar 8, 2023, 17:07:07 - poikilotherm: If it's not in there, there probably isn't.
Wed, Mar 8, 2023, 17:09:56 - aialves: Thank you. I will use Portuguese 5.10.
Wed, Mar 8, 2023, 17:11:23 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 17:12:03 - poikilotherm: If in doubt, have a Stout!
Wed, Mar 8, 2023, 17:13:38 - poikilotherm: aialves: probably it would make sense to reach out to https://github.com/josekarvalho and https://github.com/samuel-rosa to ask about joining forces...
Wed, Mar 8, 2023, 17:15:23 - aialves: OK, thank you. 
Wed, Mar 8, 2023, 17:17:00 - poikilotherm: aialves: BTW you are aware of the location of DCM 2023, aren't you? https://www.iq.harvard.edu/news/save-date-2023-dataverse-community-meeting
Wed, Mar 8, 2023, 17:22:53 - pdurbin sent an image. (Media omitted)
Wed, Mar 8, 2023, 17:24:11 - poikilotherm sent an image. (Media omitted)
Wed, Mar 8, 2023, 17:43:59 - aialves: <@oliver:bertuch.name "aialves: BTW you are aware of th..."> Yes I know it. Instituto Politecnico de Bragan√ßa (the organisatin where I work) - IPB- and Universidade do Minho - UM - are partners in dataverse use (not development). IPB will certainly be present in DCM 2023. 
Wed, Mar 8, 2023, 17:48:21 - aialves: <@aialves:matrix.org "Yes I know it. Instituto Politec..."> BTW in Braga there are good pubs too ü§£ü§£
Wed, Mar 8, 2023, 17:55:35 - poikilotherm: <@pdurbin:matrix.org "sent an image."> I just activated that for the general channel
Wed, Mar 8, 2023, 17:56:24 - poikilotherm: Maybe we should think about having a community chat area and make general more of an announcement thing...
Wed, Mar 8, 2023, 18:47:20 - pdurbin: In Zulip or here?
Wed, Mar 8, 2023, 18:48:30 - pdurbin: <@oliver:bertuch.name "sent an image."> Approved! Great! I was having a beer with Jan Range and missed this.
Wed, Mar 8, 2023, 22:09:15 - pdurbin: poikilotherm (CET,UTC+1): I saw your intro: https://dataverse.zulipchat.com/#narrow/stream/375707-general/topic/hello-i'm-new-here/near/340454409
Wed, Mar 8, 2023, 22:09:29 - pdurbin: And you inspired me to add my own: https://dataverse.zulipchat.com/#narrow/stream/375707-general/topic/hello-i'm-new-here/near/340500700
Wed, Mar 8, 2023, 22:10:03 - pdurbin: Who else wants in on Zulip? Any early adopters here? üòÑ
Thu, Mar 9, 2023, 07:42:41 - mih: <@mih:matrix.org "I think I am out of ideas. All a..."> To bring closure to this one: I was now able to deposit freeform prov metadata. The key is to use the metadata key `provFreeForm`, and not `provFreefrom` as stated in the docs. https://guides.dataverse.org/en/latest/api/native-api.html#list-files-in-a-dataset

With a capitalization error the sent metadata is silently discarded.
Thu, Mar 9, 2023, 07:55:28 - mih: I can now also answer this question. It does NOT show up in the listing (for a dataset in draft mode). `provFreeForm` is not part of `get_dataset()`, not part of `get_datafiles_metadata()`. It is only reported by `get_datafile_metadata(is_draft=True)` for an individual file.
Thu, Mar 9, 2023, 07:57:20 - mih: The "similar"(?) metadata items `description` and `categories` are uniformly reported in all these methods
Thu, Mar 9, 2023, 07:57:59 - pdurbin: mih: sorry to hear about that typo in the docs. Speaking of `description`, could that be a workaround?
Thu, Mar 9, 2023, 07:58:57 - mih: I was thinking about the same, I will explore this. How likely/frequently is that people will use a per-file description?
Thu, Mar 9, 2023, 08:00:05 - pdurbin: 800,000+ files with a description at https://dataverse.harvard.edu/dataverse/harvard/?q=fileDescription%3A*
Thu, Mar 9, 2023, 08:00:30 - pdurbin: (out of almost 2 million files)
Thu, Mar 9, 2023, 08:00:43 - mih: That is a lot
Thu, Mar 9, 2023, 08:00:55 - pdurbin: yeah
Thu, Mar 9, 2023, 08:01:21 - pdurbin: Is the best solution to add prov free form to the main JSON output? Or is a new field even better?
Thu, Mar 9, 2023, 08:02:46 - mih: The way I am thinking about it: What would be useful is to be able to express metadata saying "sameAs: identifier".
Thu, Mar 9, 2023, 08:03:33 - pdurbin: How many characters is the identifier? 30? 50? 1000?
Thu, Mar 9, 2023, 08:03:46 - mih: let me check
Thu, Mar 9, 2023, 08:04:12 - pdurbin: I'm wondering if it's small enough to stuff in a category.
Thu, Mar 9, 2023, 08:04:25 - pdurbin: It would look a little ugly in the UI though.
Thu, Mar 9, 2023, 08:04:40 - mih: a sha512 is 128 chars
Thu, Mar 9, 2023, 08:05:52 - pdurbin: What if the Dataverse installatioin switches their checksum from md5 to sha512? Does that help?
Thu, Mar 9, 2023, 08:06:06 - mih: (gimme a sec)
Thu, Mar 9, 2023, 08:09:40 - mih: ok, sorry, had to put a few things together
Thu, Mar 9, 2023, 08:10:13 - mih: Any change of checksum would not solve the problem I am working with.
Thu, Mar 9, 2023, 08:11:26 - mih: My use case is that I know an identifier from an external system and I need to locate the file matching that identifier on dataverse -- I do not know the content of that file (my goal is to download that), and I cannot dictate any specific identifier).
Thu, Mar 9, 2023, 08:12:02 - mih: Returning `provFreeForm` as part of a multi-file/dataset listing would solve my issue
Thu, Mar 9, 2023, 08:13:08 - mih: adding a new field with max 256 chars length would also solve it (a SHA512-based ID is ~150 chars long, and that should be among the longest of today)
Thu, Mar 9, 2023, 08:14:05 - mih: Repurpusing `description` is a workaround that is apparently in conflict with real-world dataverse usage
Thu, Mar 9, 2023, 08:14:25 - pdurbin: This is probably easy: Returning provFreeForm as part of a multi-file/dataset listing would solve my issue

A "3" in how we estimate things. Would you like to create an issue for this?
Thu, Mar 9, 2023, 08:14:50 - mih: I have one other possibility
Thu, Mar 9, 2023, 08:15:00 - pdurbin: ok
Thu, Mar 9, 2023, 08:15:07 - pdurbin: and again, perhaps a new field
Thu, Mar 9, 2023, 08:15:39 - pdurbin: either way it seems like you're blocked on some dev work on our side
Thu, Mar 9, 2023, 08:15:55 - mih: Here is one example response for a multi-file query (for one results for simplicity):
Thu, Mar 9, 2023, 08:16:03 - mih: ```
{'data': [{'categories': ['Data'],
           'dataFile': {'categories': ['Data'],
                        'checksum': {'type': 'MD5',
                                     'value': 'baab6c16d9143523b7865d46896e4596'},
                        'contentType': 'text/plain',
                        'creationDate': '2023-03-09',
                        'description': 'test description',
                        'filename': 'dummy.txt',
                        'filesize': 12,
                        'id': 2030650,
                        'md5': 'baab6c16d9143523b7865d46896e4596',
                        'persistentId': '',
                        'pidURL': '',
                        'rootDataFileId': -1,
                        'storageIdentifier': 's3://demo-dataverse-org:186c661c0f8-65cffcdec80c'},
           'datasetVersionId': 227447,
           'description': 'test description',
           'label': 'dummy.txt',
           'restricted': False,
           'version': 3}],
```
Thu, Mar 9, 2023, 08:16:19 - mih: the file has both a `label` and a `filename`
Thu, Mar 9, 2023, 08:16:28 - mih: both are identical
Thu, Mar 9, 2023, 08:16:58 - mih: `filename` is fileid-specific
Thu, Mar 9, 2023, 08:17:05 - pdurbin: yeah, same value in the database I'm sure
Thu, Mar 9, 2023, 08:17:09 - mih: this could be my identifier?
Thu, Mar 9, 2023, 08:17:16 - mih: ah
Thu, Mar 9, 2023, 08:17:55 - pdurbin: I'm 99% sure it's just duplicate data
Thu, Mar 9, 2023, 08:18:27 - pdurbin: The description is duplicated as well
Thu, Mar 9, 2023, 08:18:57 - mih: I will double-check that: I remember that I had intentionally altered `label` and got strange looking `GIT-3780237409237` something items in the web UI
Thu, Mar 9, 2023, 08:19:28 - pdurbin: huh, weird
Thu, Mar 9, 2023, 08:19:59 - pdurbin: Do you want to try stuffing that sha512 into a category?
Thu, Mar 9, 2023, 08:20:16 - pdurbin: maybe as a proof of concept?
Thu, Mar 9, 2023, 08:20:25 - mih: That would explode the number of unique values in that field
Thu, Mar 9, 2023, 08:20:54 - pdurbin: oh, in the facets, right
Thu, Mar 9, 2023, 08:21:00 - mih: yeah
Thu, Mar 9, 2023, 08:21:05 - pdurbin: well, people can already put whatever they want there
Thu, Mar 9, 2023, 08:21:21 - mih: I want to be considerate ;-)
Thu, Mar 9, 2023, 08:21:36 - pdurbin: I'm sure there's a long tail of weird stuff üòÑ
Thu, Mar 9, 2023, 08:21:58 - mih: I will write down that you suggested it first .... üôÉ
Thu, Mar 9, 2023, 08:23:07 - pdurbin sent an image. (Media omitted)
Thu, Mar 9, 2023, 08:23:11 - pdurbin: see? üòÑ
Thu, Mar 9, 2023, 08:23:22 - mih: ;-)
Thu, Mar 9, 2023, 08:23:40 - pdurbin: maybe you could demo the feature with this hack
Thu, Mar 9, 2023, 08:23:52 - pdurbin: and we could more easily argue for whatever change you need
Thu, Mar 9, 2023, 08:23:59 - pdurbin: to remove the hack üòÑ
Thu, Mar 9, 2023, 08:24:43 - mih: alright, will keep that in mind -- I will explore the label vs filename issue for a bit more, report, and then make a decision on the path forward
Thu, Mar 9, 2023, 08:24:47 - mih: thx much!
Thu, Mar 9, 2023, 08:25:18 - pdurbin: awesome, and thanks so much for following up, it was on my list!
Thu, Mar 9, 2023, 08:38:04 - mih: <@pdurbin:matrix.org "I'm 99% sure it's just duplicate..."> I can confirm that changing `label` also changes `filename`.
Thu, Mar 9, 2023, 08:38:28 - pdurbin: I figured. Thanks.
Fri, Mar 10, 2023, 09:43:59 - pdurbin: Three new videos on DataverseTV! https://groups.google.com/g/dataverse-community/c/znAj9GFXUJ8/m/jyB37TqxDQAJ
Fri, Mar 10, 2023, 17:06:21 - pdurbin: Have a nice weekend, everyone!
Sun, Mar 12, 2023, 16:38:50 - mih: Hey, has there been a change on demo.dataverse.org? Some of our tests run against this instance, and we cannot clean up published test datasets anymore:

```
>>> dataverse_admin_api.destroy_dataset('doi:10.70122/FK2/IPCSEA').text
'{"status":"ERROR","message":"Destroy can only be called by superusers."}'
```
Sun, Mar 12, 2023, 17:37:44 - pdurbin: Destroy has always been superuser only. Destroy is for published datasets. Delete is for draft datasets, if that helps.
Mon, Mar 13, 2023, 02:10:09 - mih: Thx for the feedback. I will investigate how the behavior change came to be. Possibly a change in our test implementations added this condition for the first time. But does that mean, the only way to clean up after the tests is to wait until the monthly cleaning is happening server-side?
Mon, Mar 13, 2023, 02:36:42 - poikilotherm: @mih there soon will be ready to use container images of Dataverse for development purposes included in upstream. You might be interested in using those to spin up a test instance for your tests.
Mon, Mar 13, 2023, 02:47:32 - mih: That would be great. The experience with the available docker images *for quickly spinning up a test instance* was suboptimal for us, hence the choice of demo.d.o
Mon, Mar 13, 2023, 03:28:16 - poikilotherm: Welp with the move to the Dataverse SPA, this is about to change. There's simply more pressure in the system now ( ü•≥ for me)
Mon, Mar 13, 2023, 03:29:49 - poikilotherm: If you are interested in particular things for container images of this mih : there will be a new container working group soon. Kickoff during next community call 2023-03-21: https://docs.google.com/document/d/1r_GMYqYzUyQR2LQ2cqSLWPDuFRzd18PJ-4UFC4Nvnpw/edit
Mon, Mar 13, 2023, 03:29:58 - poikilotherm: Have your say!
Mon, Mar 13, 2023, 03:33:29 - mih: Cool! I won't be able to make it myself, but maybe someone from the team can. Thx!
Mon, Mar 13, 2023, 03:39:49 - poikilotherm: We'd be happy to welcome Adina Wagner Benjamin Poldrack Stephan Heunis etc!
Mon, Mar 13, 2023, 04:10:22 - Benjamin Poldrack: Will join!
Mon, Mar 13, 2023, 04:23:41 - poikilotherm: pdurbin: I just announced to https://www.listserv.dfn.de/sympa/info/interessengruppe-dataverse that the next community meeting is just after the next meeting of that group and it's about containers.
Mon, Mar 13, 2023, 04:24:40 - poikilotherm: For anyone interested in joining this DACH based group organized by https://fdm.nrw, let me know
Mon, Mar 13, 2023, 07:50:44 - pdurbin: Nice! People are starting to RSVP! Benjamin Poldrack I'm glad you plan to make it. You can RSVP by adding your name to the doc above. ^^
Mon, Mar 13, 2023, 07:53:30 - pdurbin: poikilotherm (CET,UTC+1): thanks for spreading the word! Can we touch base about https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/PR.20.239424.3A.20dv.20container.20for.20dev/near/340931041 ? Guillermo Portas and I had a meeting without you. Sorry. üòÑ
Mon, Mar 13, 2023, 07:54:09 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): thanks..."> How dare you! üôàüòÖ
Mon, Mar 13, 2023, 07:54:53 - pdurbin: Oh and I put https://github.com/IQSS/dataverse/pull/9299 in QA but then you pulled it out!
Mon, Mar 13, 2023, 07:55:00 - pdurbin: So I guess that's two topics
Mon, Mar 13, 2023, 07:55:23 - pdurbin: But I should walk doggo first
Mon, Mar 13, 2023, 07:56:00 - pdurbin: I'm a little worried about losing the chitter chatter in Zulip so I created a "good vibes" stream.
Mon, Mar 13, 2023, 07:56:28 - Benjamin Poldrack: <@pdurbin:matrix.org "Nice! People are starting to RSV..."> Done
Mon, Mar 13, 2023, 07:56:31 - pdurbin: We can create more streams, within reason. I feel like Zulip wants you to focus on the work more.
Mon, Mar 13, 2023, 07:56:39 - pdurbin: Benjamin Poldrack: thanks!
Mon, Mar 13, 2023, 07:57:28 - pdurbin: oh, sorry, not a stream, a "good vibes" topic with the community stream
Mon, Mar 13, 2023, 07:58:57 - poikilotherm: Well we could declare "community" a stream to just blabber and chit chat away and keep good ol' hard work topics on serious streams
Mon, Mar 13, 2023, 07:59:54 - pdurbin: works for me!
Mon, Mar 13, 2023, 08:03:38 - pdurbin: poikilotherm (CET,UTC+1): the only "discussion ongoing" in the feature flags PR that I see was over one line in the docs. Can we merge it and fix it in the next PR? Guillermo Portas is blocked on adding session cookie auth for the SPA. He wants your feature flags PR. (We can also discuss in the PR or a new topic on Zulip if you prefer.)
Mon, Mar 13, 2023, 08:04:20 - poikilotherm: Go walk that doggo while I switch branches. Let's finish this after?
Mon, Mar 13, 2023, 08:04:38 - poikilotherm: (I know Guillermo Portas is out until later)
Mon, Mar 13, 2023, 09:11:20 - pdurbin: poikilotherm (CET,UTC+1): at my desk now. Would you like to do a zoom call?
Mon, Mar 13, 2023, 09:11:45 - poikilotherm: Sure, can do
Mon, Mar 13, 2023, 09:11:59 - poikilotherm: https://fz-juelich-de.zoom.us/j/99007895369?pwd=N0VFeDFyTUlYMnkxMFZGUlkrTk5PUT09
Mon, Mar 13, 2023, 09:39:04 - poikilotherm: Guillermo Portas pdurbin I put #9299 back into ready mode and added it to "Ready for QA" column
Mon, Mar 13, 2023, 09:55:48 - pdurbin: Thanks! Approved! Off to QA!
Mon, Mar 13, 2023, 09:57:15 - poikilotherm: It's the little things
Mon, Mar 13, 2023, 09:57:52 - pdurbin: yep, clear those blockers
Mon, Mar 13, 2023, 10:20:21 - Don Sizemore: hey @pdurbin remember how you told me NPEs were bugs?
Mon, Mar 13, 2023, 10:39:50 - pdurbin: Don Sizemore: yes! Still true!
Mon, Mar 13, 2023, 10:41:09 - Don Sizemore: someone in Singapore pointed the equivalent of `wget --mirror` at us yesterday and I wish you could see the wake of chaos in the Payara log.
Mon, Mar 13, 2023, 10:41:55 - Don Sizemore: of course, we're about to turn into a React SPA, so...
Mon, Mar 13, 2023, 10:44:36 - pdurbin: oh dear
Tue, Mar 14, 2023, 10:19:58 - pdurbin: exploring the contents of HDF5 files: https://dataverse.zulipchat.com/#narrow/stream/376593-geospatial/topic/show.20file.20hierarchy.20from.20HDF5/near/341807562
Tue, Mar 14, 2023, 10:20:08 - pdurbin: captainsifff: ^^ your file üòÑ
Thu, Mar 16, 2023, 12:00:52 - pdurbin: If anyone here is in Berlin and wants to hack on Jupyter stuff: https://matrix.to/#/!RGjRainENJFtgTtYoL:gitter.im/$QV3RvsuVGJD8geWzFq55uBU2zyfz0clgID_b5HAzW5s?via=gitter.im&via=matrix.org&via=reslate.systems
Thu, Mar 16, 2023, 13:18:40 - marimeireles (Mariana Meireles) joined the room
Thu, Mar 16, 2023, 13:56:37 - pdurbin: marimeireles (Mariana Meireles): hi! If it's of interest, there's a Dataverse mailing list for German speakers at https://www.listserv.dfn.de/sympa/subscribe/interessengruppe-dataverse?previous_action=info
Thu, Mar 16, 2023, 14:23:11 - Don Sizemore: @pdurbin knock knock?
Thu, Mar 16, 2023, 14:25:12 - pdurbin: yeeeeeessss?
Thu, Mar 16, 2023, 14:25:20 - pdurbin: poikilotherm (CET,UTC+1): what's this about ctrl-g? https://github.com/IQSS/dataverse/pull/9439#discussion_r1138357867
Thu, Mar 16, 2023, 14:25:28 - Don Sizemore: (I'm pestering you since Oliver is likely asleep
Thu, Mar 16, 2023, 14:26:12 - poikilotherm: It's 1925 here...
Thu, Mar 16, 2023, 14:26:13 - Don Sizemore: I do have a Jenkins job set up for Payara6 already, watching his branch. But it still points at Dataverse-5.12.1
Thu, Mar 16, 2023, 14:27:26 - poikilotherm: Ah yeah - that branch needs an update. Eryk from KU Leuven started with one, but IMHO this needs to be taken into multiple parts
Thu, Mar 16, 2023, 14:27:58 - poikilotherm: Too many things in one go IMHO
Thu, Mar 16, 2023, 14:28:44 - Don Sizemore: so I'll just leave the version pegged at 5.12.1 for now
Thu, Mar 16, 2023, 14:28:52 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CET,UTC+1): what's..."> That's the shortcut by Github to create a suggestion comment. Seemed useful.
Thu, Mar 16, 2023, 14:29:16 - Don Sizemore: it's essentially the name of the warfile (on the Ansible side) but I remembered Oliver saying it would take a lot of work to keep that branch merged with develop
Thu, Mar 16, 2023, 14:29:57 - poikilotherm: <@donsizemore:matrix.org "so I'll just leave the version p..."> Well... I might carve out some time later to at least merge develop onto the branch.
Thu, Mar 16, 2023, 14:30:55 - poikilotherm: It should be a matter of merge and then let IntelliJ do the Jakarta migration again for anything introduced as new usages of Java EE
Thu, Mar 16, 2023, 14:31:12 - poikilotherm: So hopefully this doesn't take longer than 15 minutes
Thu, Mar 16, 2023, 14:31:25 - poikilotherm: üôàüôâüôä
Thu, Mar 16, 2023, 14:38:59 - pdurbin: poikilotherm (CET,UTC+1): the shortcut doesn't work for me on Mac üò≠
Thu, Mar 16, 2023, 14:42:52 - Don Sizemore: @poikilotherm you are wonderful!
Thu, Mar 16, 2023, 14:45:25 - Don Sizemore: @pdurbin the good news is: I _did_ set up that Jenkins job, and it _is_ watching the branch, and I've just now updated the YML it uses for the most current Payara (6.2023.2) and Dataverse 5.13
Thu, Mar 16, 2023, 14:45:31 - Don Sizemore: so when Oliver pushes his changes...
Thu, Mar 16, 2023, 15:56:48 - pdurbin: ...
Thu, Mar 16, 2023, 19:24:45 - poikilotherm: As promised, I updated the branch. Took longer than 15 minutes though... Lots of merge conflicts to solve over and over again. Hopefully we don't ever drop some important change over this, causing bugs hard to eliminate.
Thu, Mar 16, 2023, 19:35:07 - poikilotherm: I assume this is not on me?
```
TASK [dataverse : install and configure dataverse languages] *******************
fatal: [localhost]: FAILED! => {"msg": "The conditional check 'dataverse.licenses.enabled == true' failed. The error was: error while evaluating conditional (dataverse.licenses.enabled == true): 'dict object' has no attribute 'licenses'\n\nThe error appears to be in '/home/rocky/dataverse/tasks/dataverse-licenses.yml': line 3, column 3, but may\nbe elsewhere in the file depending on the exact syntax problem.\n\nThe offending line appears to be:\n\n\n- name: install and configure dataverse languages\n  ^ here\n"}
```
Thu, Mar 16, 2023, 19:53:22 - pdurbin: poikilotherm (CET,UTC+1): wow. Thanks, man. No, this shouldn't be on you.
Thu, Mar 16, 2023, 19:53:47 - pdurbin: To all, if I don't create an issue for this soon-ish, please remind me.
Thu, Mar 16, 2023, 19:53:59 - pdurbin: dataversebot: remind tomorrow create issue
Thu, Mar 16, 2023, 19:54:09 - pdurbin: !remind tomorrow create issue
Thu, Mar 16, 2023, 19:54:10 - dataversebot: <@pdurbin:matrix.org "!remind tomorrow create issue"> I'll remind you to create issue in 1 day.

(others can üëç this message to get pinged too)
Thu, Mar 16, 2023, 19:54:24 - pdurbin: thanks, dataversebot ! ‚ù§Ô∏è
Fri, Mar 17, 2023, 01:21:13 - IOExceptional joined the room
Fri, Mar 17, 2023, 02:59:55 - beep: Hi,

does the "allowedApiCalls" feature for external tools actually work?

https://guides.dataverse.org/en/latest/api/external-tools.html

I encountered 2 problems so far while trying the dynamicDatasetTool.json example:

1. In the documentation the "allowedApiCalls" key is under "toolParameters", however in ExternalToolServiceBean.java it is parsed from the manifest's root (from jsonObject instead of toolParametersObj)

https://github.com/IQSS/dataverse/blob/04a56e25435f465de4ee80ae540b7596d08b7a24/src/main/java/edu/harvard/iq/dataverse/externaltools/ExternalToolServiceBean.java#L204

2. When invoked, in ExternalToolHandler there seems to be a "break" missing in 'case DATASET:', so if I defined an external tool with "scope": "dataset", it will also reach the 'case FILE:' and will cause NPE

https://github.com/IQSS/dataverse/blob/04a56e25435f465de4ee80ae540b7596d08b7a24/src/main/java/edu/harvard/iq/dataverse/externaltools/ExternalToolHandler.java#L110-L118

Should I create an issue for this?
Fri, Mar 17, 2023, 07:13:06 - pdurbin: beep: yes, please! But let me also dig up a thread about this.
Fri, Mar 17, 2023, 07:14:22 - pdurbin: This thread: https://groups.google.com/g/dataverse-community/c/FFSjrF5vWAI/m/T-pL1c3wAgAJ
Fri, Mar 17, 2023, 07:15:00 - pdurbin: beep: are you using Dataverse 5.13 or the "develop" branch?
Fri, Mar 17, 2023, 07:50:54 - Don Sizemore: poikilotherm (CET,UTC+1): no, not on you, and fixed this morning.
Fri, Mar 17, 2023, 07:51:17 - Don Sizemore: @pdurbin I done fixed it.
Fri, Mar 17, 2023, 07:51:46 - pdurbin: oh? üéâ
Fri, Mar 17, 2023, 07:52:08 - Don Sizemore: I also got Guillermo going with SSH tunneling to the front-end test deployment thingy
Fri, Mar 17, 2023, 07:52:17 - Don Sizemore: can I go back to bed now?
Fri, Mar 17, 2023, 07:52:25 - pdurbin: fancy! üßê yes!
Fri, Mar 17, 2023, 07:52:39 - Don Sizemore: he wants the admin console, for visualization
Fri, Mar 17, 2023, 08:04:30 - Don Sizemore: @pdurbin @poikilotherm we made it this far: ` "connection": "close", "content_language": "", "content_length": "1078", "content_type": "text/html", "elapsed": 0, "msg": "Status code was 403 and not [200]: HTTP Error 403: Forbidden", "redirected": false, "server": "Payara Server 6.2023.2 #badassfish", "status": 403, "url": "http://localhost:8080/api/admin/settings/BuiltinUsers.KEY", "x_frame_options": "SAMEORIGIN", "x_powered_by": "Servlet/6.0 JSP/3.1 (Payara Server 6.2023.2 #badassfish Java/Red Hat, Inc./11)"`
Fri, Mar 17, 2023, 08:06:13 - Don Sizemore: this endpoint responds properly on payara6.odum.unc.edu (also running 6.2023.2 and Oliver's earlier branch) so I blame system load / race condition
Fri, Mar 17, 2023, 08:07:08 - poikilotherm: It might be a problem with the merged develop
Fri, Mar 17, 2023, 08:12:04 - Don Sizemore: I stuck in a 15-second sleep between deployment / Payara restart and integration tests. Easy test.
Fri, Mar 17, 2023, 08:17:40 - pdurbin: so... no need for an issue?
Fri, Mar 17, 2023, 08:27:34 - beep: <@pdurbin:matrix.org "beep: are you using Dataverse 5...."> pdurbin: No, I am using the main branch.
Fri, Mar 17, 2023, 08:28:09 - pdurbin: ok, "master", probably
Fri, Mar 17, 2023, 08:29:45 - beep: Yeah, master :-) I'm at commit 53559a4c
Fri, Mar 17, 2023, 08:29:52 - pdurbin: beep: please do create an issue. That signed urls feature is brand new.
Fri, Mar 17, 2023, 08:31:03 - beep: Sure. And I guess it is important to have it working, because the documentation mentions that the API Token based solution is deprecated.
Fri, Mar 17, 2023, 08:32:13 - pdurbin: Oh, I didn't realize the language is that strong! Let's say we'd like to at least encourage people to try the new thing. üòÖ
Fri, Mar 17, 2023, 08:32:56 - poikilotherm: pdurbin: does this work for you? https://time.is/compare/1500_21_Mar_2023_in_UTC
Fri, Mar 17, 2023, 08:33:09 - Don Sizemore: poikilotherm (CET,UTC+1): it died again, same place. if you suspect a problem with the merged develop branch, do you want this in a separate issue, in your payara6 issue, or in the payara6 integration tests issue?
Fri, Mar 17, 2023, 08:33:28 - poikilotherm: No idea... :-(
Fri, Mar 17, 2023, 08:33:38 - poikilotherm: I'm not sure how to test this
Fri, Mar 17, 2023, 08:33:46 - poikilotherm: It would be good to have some more log output
Fri, Mar 17, 2023, 08:33:54 - Don Sizemore: it is specific to testing, so I'll add it there. I'll get more logging output.
Fri, Mar 17, 2023, 08:34:21 - Don Sizemore: payara6.odum.unc.edu is running an earlier version of your branch, could rebuild and redeploy that to reproduce
Fri, Mar 17, 2023, 08:37:37 - pdurbin: poikilotherm (CET,UTC+1): yep and you could drop that "time is" link in https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/kickoff.20meeting if you want üòÑ
Fri, Mar 17, 2023, 08:38:18 - poikilotherm: I dropped it here: https://dc.wgs.gdcc.io/
Fri, Mar 17, 2023, 08:39:06 - pdurbin: nice! but dc and not cwg? (let's take this to zulip_
Fri, Mar 17, 2023, 08:42:50 - Don Sizemore: poikilotherm (CET,UTC+1): a 15-second sleep didn't seem to fix things, but once I found the worker node and PEM, signed in manually and attempted to set a test key, it succeeded:
$ curl -X PUT -d 'redacted' http://localhost:8080/api/admin/settings/BuiltinUsers.KEY
{"status":"OK","data":{"BuiltinUsers.KEY":"redacted"}}
Fri, Mar 17, 2023, 09:29:37 - Don Sizemore: with a 30-second sleep: `"connection": "close", "content_language": "", "content_length": "1078", "content_type": "text/html", "elapsed": 0, "msg": "Status code was 403 and not [200]: HTTP Error 403: Forbidden", "redirected": false, "server": "Payara Server 6.2023.2 #badassfish", "status": 403, "url": "http://localhost:8080/api/admin/settings/BuiltinUsers.KEY", "x_frame_options": "SAMEORIGIN", "x_powered_by": "Servlet/6.0 JSP/3.1 (Payara Server 6.2023.2 #badassfish Java/Red Hat, Inc./11)"`
Fri, Mar 17, 2023, 09:53:00 - pdurbin: I'm not following the Payara 6 activity very well, I'm afraid. I'm happy to jump on a call if there's interest.
Fri, Mar 17, 2023, 09:53:54 - pdurbin: beep: thanks for opening https://github.com/IQSS/dataverse/issues/9453 ! It looks like qqmyers got back to you already.
Fri, Mar 17, 2023, 10:33:10 - Don Sizemore: @pdurbin I'm about to start a call with Stefano and John Martin down here. I'm looking at differences in user-agent (calls Ansible makes with curl succeed; its URI module seems to get a 403)
Fri, Mar 17, 2023, 10:34:11 - pdurbin: Still confused but no rush! Have a nice call. üòÑ
Fri, Mar 17, 2023, 10:41:58 - Don Sizemore: I'm looking at user-agents and body format. My suspicion is that Payara6 is more strict than Payara5
Fri, Mar 17, 2023, 10:42:13 - Don Sizemore:  (which may mean converting every URI module back to shell/curl? I hope not)
Fri, Mar 17, 2023, 10:47:06 - Don Sizemore: curl --data-ascii <data>
              (HTTP) This is just an alias for -d, --data.
Fri, Mar 17, 2023, 10:47:19 - Don Sizemore: as opposed to curl's --data-raw
Fri, Mar 17, 2023, 10:48:02 - Don Sizemore: the URI module defaults to "raw" while curl sends ASCII
Fri, Mar 17, 2023, 10:59:16 - pdurbin: so... would you like to have a call? üòÑ
Fri, Mar 17, 2023, 11:03:57 - Don Sizemore: it can be brief, if you like?
Fri, Mar 17, 2023, 11:06:11 - Don Sizemore: sent you a link in Slack or we can talk this afternoon. not much to say, though: "it's Ansible"
Fri, Mar 17, 2023, 11:16:39 - poikilotherm: I'm also around if you want me to join
Fri, Mar 17, 2023, 11:17:18 - poikilotherm: Still crossing fingers it wasn't me that broke it
Fri, Mar 17, 2023, 11:18:25 - poikilotherm: pdurbin Don Sizemore would it help if we build and push a Payara 6 base image?
Fri, Mar 17, 2023, 11:18:52 - Don Sizemore: poikilotherm (CET,UTC+1): we're going to need one regardless ;)
Fri, Mar 17, 2023, 11:19:18 - poikilotherm: Well so far we agreed to simply use "stable" and "unstable"
Fri, Mar 17, 2023, 11:19:38 - poikilotherm: Using the respective Payara version in the POM
Fri, Mar 17, 2023, 11:20:47 - poikilotherm: I could add a job in the jakarta branch to push another base image based on the payara version in it
Fri, Mar 17, 2023, 11:20:55 - poikilotherm: What would be a good tag for that?
Fri, Mar 17, 2023, 11:21:26 - poikilotherm: `unstable-p6`?
Fri, Mar 17, 2023, 11:39:49 - poikilotherm: OK building this locally went pretty quick. And deployment times seem to be faster than with Payara 5...
Fri, Mar 17, 2023, 11:40:41 - poikilotherm: With a database and Solr instance already lying around from former testing with Payara 5 I must say: deployment works...
Fri, Mar 17, 2023, 11:41:03 - poikilotherm: I can browse and do basic task like add a dataset, upload a file etc
Fri, Mar 17, 2023, 12:13:41 - pdurbin: poikilotherm (CET,UTC+1): the difference is that you aren't using Ansible to configure Dataverse. üòÑ
Fri, Mar 17, 2023, 12:14:16 - poikilotherm: Oh dear
Fri, Mar 17, 2023, 12:15:58 - poikilotherm: Someone else "vermurkst" it then
Fri, Mar 17, 2023, 12:16:36 - poikilotherm: (botched)
Fri, Mar 17, 2023, 12:17:13 - poikilotherm: Do we point fingers at Ansible?
Fri, Mar 17, 2023, 12:17:39 - pdurbin: How can /api/admin/settings return a 403 (Forbidden) ? That's what I don't understand.
Fri, Mar 17, 2023, 12:18:03 - poikilotherm: Accessing it from where?
Fri, Mar 17, 2023, 12:18:41 - poikilotherm: It's unblocked from localhost only. Otherwise you need to have set an `unblockkey`
Fri, Mar 17, 2023, 12:18:54 - poikilotherm: Tripped over that with containers many times
Fri, Mar 17, 2023, 12:19:06 - pdurbin: From localhost: `fatal: [localhost]: FAILED! => {"changed": false, "connection": "close", "content_language": "", "content_length": "1078", "content_type": "text/html", "elapsed": 0, "msg": "Status code was 403 and not [200]: HTTP Error 403: Forbidden", "redirected": false, "server": "Payara Server 6.2023.2 #badassfish", "status": 403, "url": "http://localhost:8080/api/admin/settings/BuiltinUsers.KEY", "x_frame_options": "SAMEORIGIN", "x_powered_by": "Servlet/6.0 JSP/3.1 (Payara Server 6.2023.2 #badassfish Java/Red Hat, Inc./11)"}`
Fri, Mar 17, 2023, 12:19:27 - poikilotherm: Is this from the installer?
Fri, Mar 17, 2023, 12:19:42 - pdurbin: It's from an Ansible run at https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/32/console
Fri, Mar 17, 2023, 12:20:38 - pdurbin: In that error is `content_type` for what Ansible is sending ("burrito") or what Payara is returning (403, etc.)?
Fri, Mar 17, 2023, 12:21:20 - pdurbin: Why would Ansible be sending HTML?
Fri, Mar 17, 2023, 12:21:29 - pdurbin: Why would Payara (/api/admin/settings) be returning HTML for a 403?
Fri, Mar 17, 2023, 12:21:38 - pdurbin: Either way it's fishy üêüÔ∏è
Fri, Mar 17, 2023, 12:22:18 - poikilotherm: I'm not sure we defined a proper JAX-RS response for forbidden. In that case Payara would fall back to HTML
Fri, Mar 17, 2023, 12:23:10 - pdurbin: bleh
Fri, Mar 17, 2023, 12:25:06 - pdurbin: It would be interesting to see if we can reproduce the 403 with curl. I have no idea what Ansible is doing.
Fri, Mar 17, 2023, 12:26:17 - pdurbin: This is where Ansible sends burrito: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/76363d009b4f24b51e06654c745276dcb08b9cc3/tasks/dataverse-api-testsuite.yml#L43-L47
Fri, Mar 17, 2023, 12:27:50 - poikilotherm: Question: is "dataverse : override some default settings" happening with ansible or curl?
Fri, Mar 17, 2023, 12:28:24 - poikilotherm: Don Sizemore
Fri, Mar 17, 2023, 12:29:31 - pdurbin: poikilotherm (CET,UTC+1): looks like it's Ansible shelling out to curl: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/76363d009b4f24b51e06654c745276dcb08b9cc3/tasks/dataverse-postinstall.yml#L30-L46
Fri, Mar 17, 2023, 12:42:33 - Don Sizemore: so, bad test: Rocky 8, Payara 6.2023.2, Ansible URI module: `{"status":"OK","data":{"message":"redacted"}`
Fri, Mar 17, 2023, 12:43:15 - Don Sizemore: this is, however, Oliver's "5.12" Payara6 branch
Fri, Mar 17, 2023, 12:43:43 - poikilotherm: So the not updated one?
Fri, Mar 17, 2023, 12:44:21 - poikilotherm: I've been looking through `ApiBlockingFilter` and find myself unable to make out a cause
Fri, Mar 17, 2023, 12:44:54 - poikilotherm: Looking at https://docs.ansible.com/ansible/latest/collections/ansible/builtin/uri\_module.html I thought it might be because of a weird content type, but "raw" (default) via body_format seems fine.
Fri, Mar 17, 2023, 12:51:29 - poikilotherm: Don Sizemore: how do I run a simple test playbook with just an uri thing in it on my host?
Fri, Mar 17, 2023, 12:52:17 - Don Sizemore: I gave ansible-playbook:
```
- name: Network Getting Started First Playbook
  gather_facts: false
  hosts: all
  tasks:

  - name: set user management quesadilla
    ansible.builtin.uri:
      url: 'http://localhost:8080/api/admin/settings/BuiltinUsers.KEY'
      method: PUT
      body: 'mys3kr3tk3y'
```
Fri, Mar 17, 2023, 12:54:40 - poikilotherm: OK I've found this:
Fri, Mar 17, 2023, 12:54:52 - Don Sizemore:  (which seems to work)
Fri, Mar 17, 2023, 12:55:07 - poikilotherm: ```
---

- name: Test
  gather_facts: false
  hosts: localhost
  connection: local
  tasks:
    - name: Check that you can connect (GET) to a page and it returns a status 200
      uri:
        url: http://localhost:8080/api/info/version

```
Fri, Mar 17, 2023, 12:55:35 - poikilotherm: let me fire up the machines again
Fri, Mar 17, 2023, 12:58:32 - Don Sizemore: poikilotherm (CET,UTC+1): so, you mentioned a "proper JAX-RS response."
Fri, Mar 17, 2023, 12:58:47 - Don Sizemore: I ask because https://github.com/payara/Payara/issues/6145
Fri, Mar 17, 2023, 12:59:23 - Don Sizemore:  (however, this endpoint is only protected by source (localhost))
Fri, Mar 17, 2023, 13:00:34 - poikilotherm: Yes, but no - this endpoint is using a different filter, not the new @AuthRequired
Fri, Mar 17, 2023, 13:04:20 - poikilotherm: Si si, can confirm: doing this locally seems to work
Fri, Mar 17, 2023, 13:07:22 - Don Sizemore: on your most recent branch, most recent payara6?
Fri, Mar 17, 2023, 13:07:46 - Don Sizemore: my local ansible test was on an existing VM (payara6.odum.unc.edu) - most recent payara6, but not your overnight branch update
Fri, Mar 17, 2023, 13:09:09 - Don Sizemore: @pdurbin now that I go further back up, in that setting block, shelling out to curl? `</head><body><h1>HTTP Status 403 - Forbidden</h1><hr/><p><b>type</b> Status report</p><p><b>message</b>Forbidden</p><p><b>description</b>Access to the specified resource has been forbidden.</p><hr/><h3>Payara Server 6.2023.2 #badassfish</h3></body></html>`
Fri, Mar 17, 2023, 13:09:56 - poikilotherm: Most recent payara, most recent branch
Fri, Mar 17, 2023, 13:10:56 - Don Sizemore: which, that was WAY back up. before the final Payara restart
Fri, Mar 17, 2023, 13:13:23 - poikilotherm: Don Sizemore: I just ramped up 6 threads with JMeter asking GET /api/info/version for n=100k each. That gave the thing something to think about. Fired the Ansible task in parallel. No problemo.
Fri, Mar 17, 2023, 13:15:04 - poikilotherm sent an image. (Media omitted)
Fri, Mar 17, 2023, 13:18:17 - Don Sizemore: I didn't go back far enough in the Ansible logs. Payara started throwing 403 forbiddens waaaaay before that (but the service is up: ec2-44-211-241-77.compute-1.amazonaws.com)
Fri, Mar 17, 2023, 13:19:15 - Don Sizemore: it looks like any setting attempted after setup-all.sh has completede
Fri, Mar 17, 2023, 13:46:29 - pdurbin: Don Sizemore: ok, so we think /api/admin/settings is emitting HTML? bleh
Fri, Mar 17, 2023, 13:46:51 - Don Sizemore: I DM'd you about 1/4 of the errors farther up the pile
Fri, Mar 17, 2023, 13:47:07 - Don Sizemore: and the condition is persisting across a Payara restart, then clearing up on its own
Fri, Mar 17, 2023, 13:50:32 - poikilotherm sent an image. (Media omitted)
Fri, Mar 17, 2023, 13:50:33 - poikilotherm: Running ITs against Payara 6 in container. Not *that* bad
Fri, Mar 17, 2023, 13:51:38 - poikilotherm: Seeing a lot of SWORD errors like this: `<summary>Filename could not be extracted from Content-Disposition: Expected separator ';' instead of '='</summary>`
Fri, Mar 17, 2023, 13:52:53 - Don Sizemore: @poikilotherm curious what kind of system resources you're throwing at the container?
Fri, Mar 17, 2023, 13:53:23 - poikilotherm: 2 GiB
Fri, Mar 17, 2023, 13:53:26 - poikilotherm: RAM
Fri, Mar 17, 2023, 13:53:31 - poikilotherm: No CPU limit
Fri, Mar 17, 2023, 13:54:25 - poikilotherm: heap size will  be 70% by default
Fri, Mar 17, 2023, 13:54:26 - Don Sizemore: I'm getting these 403s with 2 cores and 8GB of RAM (4GB JVM heap)
Fri, Mar 17, 2023, 13:54:45 - poikilotherm: WTF
Fri, Mar 17, 2023, 13:55:02 - Don Sizemore: which powers Payara, Solr and Postgres together
Fri, Mar 17, 2023, 13:55:30 - poikilotherm: Hmm ok I'd need to monitor `docker stats` while running those again
Fri, Mar 17, 2023, 13:56:04 - poikilotherm: Solr and Postgres have no limit by default here
Fri, Mar 17, 2023, 13:56:07 - Don Sizemore: the installer completes successfully, the installer log files look correct, we try to change some settings with curl: 403
then we restart Payara to apply all changes, try to set the builtinusers.key with Ansible URI: 403
Fri, Mar 17, 2023, 13:56:22 - poikilotherm: Weird!
Fri, Mar 17, 2023, 13:56:29 - poikilotherm: Very weird!
Fri, Mar 17, 2023, 13:56:32 - Don Sizemore: poikilotherm (CET,UTC+1): Payara is the resource gobbler, Solr and Postgres are miniscule in comparison
Fri, Mar 17, 2023, 13:56:54 - pdurbin: poikilotherm (CET,UTC+1): there's definitely a change in SWORD behavior (unfortunately) due to the Payara upgrade. Please see https://github.com/IQSS/dataverse/pull/9116/commits/d86e2204c99597272705227a689283a8a83e6467 ... it would be nice to somehow keep the old behavior for backward compatibility.
Fri, Mar 17, 2023, 13:57:29 - poikilotherm: Well actually there seems to be a mistake in UtilIT.uploadFile()
Fri, Mar 17, 2023, 13:57:53 - poikilotherm: https://github.com/poikilotherm/dataverse/blob/develop/src/test/java/edu/harvard/iq/dataverse/api/UtilIT.java#L639-L639
Fri, Mar 17, 2023, 13:58:25 - poikilotherm: That is not a correct header according to https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition
Fri, Mar 17, 2023, 13:58:33 - poikilotherm: The "attachment;" is missing
Fri, Mar 17, 2023, 13:58:49 - poikilotherm: So looks like parsing is now more strict
Fri, Mar 17, 2023, 14:00:12 - Don Sizemore: Phil and I were talking about Payara6's strictness before lunch
Fri, Mar 17, 2023, 14:00:23 - pdurbin: poikilotherm (CET,UTC+1): right. Please see the commit I linked above and how I added "attachment;"
Fri, Mar 17, 2023, 14:00:49 - poikilotherm: Hehe I don't blame Payara on this one. This is very likely the servlet implementation being much more strict. So that's not on them
Fri, Mar 17, 2023, 14:01:07 - Don Sizemore: I support strictness in parsing
Fri, Mar 17, 2023, 14:01:16 - poikilotherm: pdurbin: I see!
Fri, Mar 17, 2023, 14:01:18 - pdurbin: Dataverse API users will blame us, not Payara or Servlet. üòÖ
Fri, Mar 17, 2023, 14:01:58 - poikilotherm: For some reason I don't have that correction in the branch!!!!
Fri, Mar 17, 2023, 14:02:02 - poikilotherm: That's not good!!!!
Fri, Mar 17, 2023, 14:02:26 - pdurbin: !
Fri, Mar 17, 2023, 14:02:36 - Don Sizemore: see if you can pull all my 403s over to your branch, as well. keep 'em over there.
Fri, Mar 17, 2023, 14:03:44 - poikilotherm: I just checked again - it's gone!!!
Fri, Mar 17, 2023, 14:03:58 - poikilotherm: See that's what I mean. Merging in develop is hard.
Fri, Mar 17, 2023, 14:04:35 - pdurbin: git can be a little squirrelly üêπ
Fri, Mar 17, 2023, 14:04:36 - poikilotherm: And it was me, I see it in the logs
Fri, Mar 17, 2023, 14:05:13 - poikilotherm: OK to be fair: it might have been automerge
Fri, Mar 17, 2023, 14:05:23 - poikilotherm: Dang
Fri, Mar 17, 2023, 14:05:31 - poikilotherm: ü§¨
Fri, Mar 17, 2023, 14:05:55 - poikilotherm: FWIW I'm going to re-run the tests now.
Fri, Mar 17, 2023, 14:06:06 - poikilotherm: And I'll keep an I on the stats
Fri, Mar 17, 2023, 14:07:55 - poikilotherm sent an image. (Media omitted)
Fri, Mar 17, 2023, 14:08:03 - poikilotherm: Harmless
Fri, Mar 17, 2023, 14:13:40 - poikilotherm: At ~70% of all tests now
Fri, Mar 17, 2023, 14:13:42 - poikilotherm sent an image. (Media omitted)
Fri, Mar 17, 2023, 14:13:51 - poikilotherm: Still < 4GiB in total
Fri, Mar 17, 2023, 14:14:19 - poikilotherm: Should be OK to run on Github runner: https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners#supported-runners-and-hardware-resources
Fri, Mar 17, 2023, 14:14:52 - poikilotherm: Was worried about the 2 core limit, but Dataverse seems to run fine on 1 core
Fri, Mar 17, 2023, 14:17:31 - poikilotherm sent an image. (Media omitted)
Fri, Mar 17, 2023, 14:17:40 - poikilotherm: Better but not there yet üòâ
Fri, Mar 17, 2023, 14:19:12 - poikilotherm: OK anyway I presume I need to re-do the merge. Pay more attention. *sigh*
Fri, Mar 17, 2023, 14:21:29 - pdurbin: I think I've lost the thread again. Are we still mad at Ansible? Who's side am I on? üòú
Fri, Mar 17, 2023, 14:21:58 - Don Sizemore: I think Payara is mad at us
Fri, Mar 17, 2023, 14:22:54 - pdurbin: Ok. I'll be mad at Payara. Thanks.
Fri, Mar 17, 2023, 14:23:17 - poikilotherm: I have no idea folks
Fri, Mar 17, 2023, 14:23:45 - poikilotherm: This seems hard to debug for me, sorry
Fri, Mar 17, 2023, 14:24:01 - pdurbin: poikilotherm (CET,UTC+1): save yourself!
Fri, Mar 17, 2023, 14:24:01 - Don Sizemore: yeah, I'm kind of at a loss.
Fri, Mar 17, 2023, 14:24:09 - pdurbin: go have a nice weekend!
Fri, Mar 17, 2023, 14:24:44 - poikilotherm: I should try with a blank Payara setup again
Fri, Mar 17, 2023, 14:24:46 - Don Sizemore: it's supposed to rain all night
Fri, Mar 17, 2023, 14:24:54 - poikilotherm: Do bootstrap
Fri, Mar 17, 2023, 14:25:01 - pdurbin: How can we reproduce it? Only with Ansible?
Fri, Mar 17, 2023, 14:25:15 - pdurbin: We're still talking about the settings API, right?
Fri, Mar 17, 2023, 14:25:34 - Don Sizemore: apparently. note that, after the installation/restart, Ansible waits for port 8009 to become available. then yes, the settings API throws 403s
Fri, Mar 17, 2023, 14:25:59 - poikilotherm: Oh! That is a difference then! I'm not going via AJP
Fri, Mar 17, 2023, 14:26:33 - Don Sizemore: Apache talks to AJP (per Dataverse docs) but Ansible (and curl) talks to localhost:8080
Fri, Mar 17, 2023, 14:27:27 - poikilotherm: I see. So Ansible should be circumventing the reverse proxy and head for HTTP directly
Fri, Mar 17, 2023, 14:27:48 - Don Sizemore: it does - it's calling everything from localhost
Fri, Mar 17, 2023, 14:28:23 - poikilotherm: Different Ansible versions?
Fri, Mar 17, 2023, 14:28:29 - Don Sizemore: I still blame asynchronous startup somehow.
Fri, Mar 17, 2023, 14:28:53 - Don Sizemore: Ansible in this case is installed from EPEL - same version no matter the OS major
Fri, Mar 17, 2023, 14:29:18 - Don Sizemore: but Ansible isn't the problem - I found curl getting 403s farther up in the log
Fri, Mar 17, 2023, 14:29:19 - poikilotherm: Fedora 36 here, Ansible 2.12.10, Python 3.10.10
Fri, Mar 17, 2023, 14:29:54 - Don Sizemore: these are coming from Dataverse, shortly after a service restart. I don't know how long to make things wait on Payara6, but the answer seems to be more than 30 seconds
Fri, Mar 17, 2023, 14:29:58 - poikilotherm: Oh! Blime!
Fri, Mar 17, 2023, 14:30:35 - poikilotherm: Let me fire up that container again
Fri, Mar 17, 2023, 14:31:07 - Don Sizemore: once an `asadmin start-domain` returns, doesn't Payara still have quite a bit to do?
Fri, Mar 17, 2023, 14:31:39 - poikilotherm: I am not close friends with that command, sorry.
Fri, Mar 17, 2023, 14:33:10 - poikilotherm: From start of Payara to deployment done took me here 43s
Fri, Mar 17, 2023, 14:36:55 - poikilotherm: The man pages don't say if the command is blocking until the deployment was successful
Fri, Mar 17, 2023, 14:38:12 - poikilotherm: Can't tell from container start - this works completely different.
Fri, Mar 17, 2023, 14:38:48 - Don Sizemore: I'll bump it to 60s and see. Waiting on port 8009 to become available seemed sufficient before, but not on Payara6
Fri, Mar 17, 2023, 14:39:15 - Don Sizemore: and thank you for testing that
Fri, Mar 17, 2023, 14:39:25 - poikilotherm: I know they switched engines for Tomcat
Fri, Mar 17, 2023, 14:39:37 - poikilotherm: So these listeners might behave differently
Fri, Mar 17, 2023, 14:39:50 - poikilotherm: Can't you watch the log?
Fri, Mar 17, 2023, 14:40:29 - poikilotherm: You'd be looking for `Loading application [dataverse] at [/]|#]`
Fri, Mar 17, 2023, 14:42:46 - Don Sizemore: `[2023-03-17T17:08:59.117+0000] [] [INFO] [NCLS-GFLAUNCHER-00005] [jakarta.enterprise.launcher]`
Fri, Mar 17, 2023, 14:43:18 - Don Sizemore: `[#|2023-03-17T17:10:25.690+0000|INFO|Payara 6.2023.2|Loading application dataverse done in 66999 ms|#]
Fri, Mar 17, 2023, 14:43:49 - Don Sizemore: so I'll tell it to wait 90 seconds to be safe
Fri, Mar 17, 2023, 14:44:42 - Don Sizemore: no, wait. `Loading application [dataverse] at [/]|#]` shows up at `2023-03-17T17:10:42.521+0000`
Fri, Mar 17, 2023, 14:45:08 - poikilotherm: What is wrong with these machines??? 
Fri, Mar 17, 2023, 14:45:37 - poikilotherm: I have a 3 year old laptop and it's using 1 core to deploy this faster than a cloud VM with more than double RAM?
Fri, Mar 17, 2023, 14:45:48 - Don Sizemore: they're t3a, which was about the cheapest resource we could select
Fri, Mar 17, 2023, 14:46:03 - poikilotherm: Oh so they might have less than 1 CPU?
Fri, Mar 17, 2023, 14:46:08 - Don Sizemore: 2
Fri, Mar 17, 2023, 14:46:48 - Don Sizemore: but that's ~86 seconds, so 120 might be safer than 90
Fri, Mar 17, 2023, 14:48:10 - poikilotherm: Yeah, but T3a mean 20% baseline at 4GiB and 30% at 8GiB RAM. So worst case you've got like 0.3 CPU
Fri, Mar 17, 2023, 14:48:29 - poikilotherm: And as far as I can tell, Payara is doing all of the deployment on 1 CPU
Fri, Mar 17, 2023, 14:48:38 - Don Sizemore: some of AWS' hypervisors are not new - I learned when some hardware-specific security problems cropped up
Fri, Mar 17, 2023, 14:49:03 - Don Sizemore: well, I was waiting 15 then 30 seconds, not 86. so 120 will be a safe bet (and drive Phil crazy, to boot)
Fri, Mar 17, 2023, 14:52:47 - poikilotherm: Poor Phil
Fri, Mar 17, 2023, 14:53:02 - poikilotherm: Sounds like we should get ITs going in Github Runners
Fri, Mar 17, 2023, 14:53:11 - poikilotherm: Just to see how things perform
Fri, Mar 17, 2023, 14:55:48 - poikilotherm: WRT Github Runners: Azure doesn't say what CPU guarantees they give for this. https://learn.microsoft.com/en-us/azure/virtual-machines/dv2-dsv2-series#dsv2-series
Fri, Mar 17, 2023, 14:57:32 - poikilotherm: Just ACU 210-250, which should be a lot more than the 30% by AWS
Fri, Mar 17, 2023, 14:57:42 - poikilotherm: And that's for free...
Fri, Mar 17, 2023, 14:57:46 - poikilotherm: Folks, I gotta run
Fri, Mar 17, 2023, 14:57:51 - poikilotherm: Have a good one!
Fri, Mar 17, 2023, 14:58:44 - Don Sizemore: you too!
Fri, Mar 17, 2023, 15:00:38 - pdurbin: I'm confused by all the perf talk. I thought we were mad at Ansible.
Fri, Mar 17, 2023, 15:03:08 - Don Sizemore: We're gonna be mad at GitHub Runners once we overrun the free allotment
Fri, Mar 17, 2023, 15:04:38 - pdurbin: It's always somethin'.
Fri, Mar 17, 2023, 19:54:10 - dataversebot: @pdurbin:matrix.org: create issue
Fri, Mar 17, 2023, 21:04:13 - pdurbin: Bah. Maybe next week. Have a good weekend, everyone!
Mon, Mar 20, 2023, 07:35:23 - Don Sizemore: @pdurbin if dataversebot is telling you to create an issue on getting ITs going in GitHub Runners, I fully support this
Mon, Mar 20, 2023, 08:23:11 - pdurbin: heh
Mon, Mar 20, 2023, 08:47:44 - Don Sizemore: @pdurbin a 90-second sleep did the trick, BTW: https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/34/console
Mon, Mar 20, 2023, 12:29:29 - poikilotherm: Don Sizemore: do we need a build matrix for the base image? https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/base.20image.20build.20matrix/near/343167497
Mon, Mar 20, 2023, 13:14:19 - Don Sizemore: poikilotherm (CET,UTC+1): will we support multiples, or just flip like with OpenJDK-1.8->OpenJDK11?
Mon, Mar 20, 2023, 13:15:03 - poikilotherm: Well I'd say we should try to add multiple
Mon, Mar 20, 2023, 13:15:10 - poikilotherm: Support is a big word
Mon, Mar 20, 2023, 13:15:39 - poikilotherm: Build matrix would mean use different tags to make em avail
Mon, Mar 20, 2023, 13:15:48 - poikilotherm: At least to me
Mon, Mar 20, 2023, 13:16:36 - poikilotherm: So maybe end up with unstable, unstable-p6, unstable-j17, unstable-p6-j17 or sth like that
Mon, Mar 20, 2023, 13:17:34 - poikilotherm: Again, for the base image. Obviously might us the same for the app image once we settled the details
Mon, Mar 20, 2023, 16:55:45 - pdurbin: I'm commenting on details in that zulip link ^^ üòÑ
Mon, Mar 20, 2023, 23:50:55 - majestic64 joined the room
Tue, Mar 21, 2023, 10:28:18 - pdurbin: In half an hour we‚Äôll have the community call, where the main topic is the kickoff of the Containerization Working Group: https://groups.google.com/g/dataverse-community/c/U2LHWoNN-X8/m/OBP0dT6EAQAJ
Tue, Mar 21, 2023, 12:10:40 - pdurbin: Benjamin Poldrack: hi! Would you be able to start a topic on Zulip about the instance going down? Thanks for participating in the kickoff! ‚ù§Ô∏è
Tue, Mar 21, 2023, 12:13:20 - Benjamin Poldrack: <@pdurbin:matrix.org "Benjamin Poldrack: hi! Would you..."> Sure. Need to collect a bunch of the respective CI logs to make that informative.
Tue, Mar 21, 2023, 12:13:44 - pdurbin: Awesome, no rush! Thanks!
Tue, Mar 21, 2023, 12:16:58 - poikilotherm: <@bpoldrack:matrix.org "Sure. Need to collect a bunch of..."> Lemme know if you want to try out some nasty new stuff in your CI üòÑ
Wed, Mar 22, 2023, 12:46:29 - Don Sizemore: @pdurbin maybe I can finally write code for Dataverse? https://www.theverge.com/2023/3/22/23651456/github-copilot-x-gpt-4-code-chat-voice-support
Wed, Mar 22, 2023, 12:46:51 - pdurbin: heh
Wed, Mar 22, 2023, 12:47:06 - pdurbin: all that python counts!!
Thu, Mar 23, 2023, 11:52:59 - beep: Sorry, I missed today's container wg meeting. I am a bit lost now where to look for information: matrix, zulip, the google docs, etc. :-) Anyway, trying to be there next time.
Thu, Mar 23, 2023, 11:58:24 - pdurbin: beep: we recorded it! https://harvard.zoom.us/rec/share/kviiT4GO2zruomf0T-QHCWqDksK6jT525bPrENNGWf01MhLtZOS0mU3b6Gw-_usp.CnoqlfsFqvOhXEyY
Thu, Mar 23, 2023, 11:58:51 - beep: Great, thanks, I'm also reading the minutes.
Thu, Mar 23, 2023, 11:59:15 - beep: Is it suppposed to be every Thursday the same time?
Thu, Mar 23, 2023, 11:59:24 - pdurbin: Perfect. The minutes and the proposal doc are the two docs we edited.
Thu, Mar 23, 2023, 11:59:43 - pdurbin: Well, you're in Europe, right? I think it's an hour later next week? poikilotherm (CET,UTC+1) help!
Thu, Mar 23, 2023, 12:00:49 - beep: Yes, I'm in CET as well.
Thu, Mar 23, 2023, 12:04:17 - pdurbin: We plan to continue the discussion on Zulip. From the proposal doc ( https://docs.google.com/document/d/14DHDB24Cp_kzpYqhHCKCtnzOw8_WuLOOONyqJHSsaYM/edit?usp=sharing ) there are some Zulip links under "milestones". You are also welcome to create new topics under Zulip, of course!
Thu, Mar 23, 2023, 12:26:54 - poikilotherm: > <@beeppeeb:matrix.org> Yes, I'm in CET as well.

Heads up that we'll move to CEST as of next week. Which means it'll be at 1600 hours for us then
Thu, Mar 23, 2023, 12:27:18 - poikilotherm: There also is the GDCC Google Calendar
Thu, Mar 23, 2023, 12:27:22 - beep: Yes, OK, thanks!
Thu, Mar 23, 2023, 12:27:26 - poikilotherm: That one helps üôà
Thu, Mar 23, 2023, 12:28:10 - poikilotherm: pdurbin: do you feel like we should edit the next four appointments in it to change to the DC WG meeting?
Thu, Mar 23, 2023, 12:30:13 - beep: Where can I access the GDCC Google Calendar?
Thu, Mar 23, 2023, 12:38:10 - beep: Nevemind, I found it: https://calendar.google.com/calendar/u/0/embed?src=c_udn4tonm401kgjjre4jl4ja0cs@group.calendar.google.com&ctz=America/New_York
Thu, Mar 23, 2023, 13:50:31 - pdurbin: poikilotherm (CET,UTC+1): I'm confused. You want to `s/Containerization Working Group/DC WG/`?
Thu, Mar 23, 2023, 15:20:34 - poikilotherm: As if I'd know what I want
Thu, Mar 23, 2023, 15:20:53 - pdurbin: use your words! üòÑ
Thu, Mar 23, 2023, 15:26:16 - poikilotherm: I've used already a lot today, need to be a bit sparse with em. We again didn't put up a vote. Probably no one cares.
Thu, Mar 23, 2023, 15:26:30 - poikilotherm: "That WG 'bout containers"
Thu, Mar 23, 2023, 15:26:49 - pdurbin: You want to call it DC WG, right?
Thu, Mar 23, 2023, 15:27:00 - pdurbin: naming is hard!
Thu, Mar 23, 2023, 15:33:28 - poikilotherm: I simply don't care. I'm lazy. I like it short. I like gdcc.io because it associates the community. Anything else ü§∑‚Äç‚ôÇÔ∏è
Thu, Mar 23, 2023, 15:34:37 - pdurbin: Only Guillermo Portas and I have voted:

dc.wgs.gdcc.io or dc.wgs.dataverse.org
containers-wg.gdcc.io (PD) or containers-wg.dataverse.org
cwg.gdcc.io or cwg.dataverse.org
ct.gdcc.io or ct.dataverse.org (GP)
ct-wg.gdcc.io or ct-wg.dataverse.org
Thu, Mar 23, 2023, 15:35:00 - pdurbin: And that was before I explained that we will probably favor a gdcc.io domain.
Thu, Mar 23, 2023, 15:35:40 - poikilotherm: Then maybe let's just settle to CT.gdcc.io?
Thu, Mar 23, 2023, 15:35:51 - poikilotherm: Sorry autocorrection
Thu, Mar 23, 2023, 15:35:55 - pdurbin: maybe, can we move to https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/website ?
Thu, Mar 23, 2023, 15:35:57 - poikilotherm: Lowercase
Fri, Mar 24, 2023, 16:59:47 - pdurbin: Have a good weekend!
Sun, Mar 26, 2023, 12:45:29 - pdurbin: <@oliver:bertuch.name "Then maybe let's just settle to ..."> Yes! I made a pull request: https://github.com/gdcc/dc.wgs.gdcc.io/pull/1
Mon, Mar 27, 2023, 07:19:49 - beep: Hi! I'm looking for a way to query via the API what metadatablocks are enabled for a Dataverse. I tried this, but it didn't help:

https://guides.dataverse.org/en/latest/api/native-api.html#list-metadata-block-facets-configured-for-a-dataverse-collection
Mon, Mar 27, 2023, 07:20:45 - pdurbin: Ah. Enabled or available?
Mon, Mar 27, 2023, 07:21:27 - pdurbin: https://demo.dataverse.org/api/metadatablocks should show you available
Mon, Mar 27, 2023, 07:22:02 - pdurbin: I think Jan Range and I were talking recently about showing enabled per collection.
Mon, Mar 27, 2023, 07:22:02 - beep: Looking for those enabled
Mon, Mar 27, 2023, 07:23:12 - beep: https://demo.dataverse.org/api/metadatablocks seems to actually does that, thanks!
Mon, Mar 27, 2023, 07:23:33 - pdurbin: Oh, great!
Mon, Mar 27, 2023, 07:23:50 - pdurbin: Are the docs wrong? Wanna make a pull request? üòÑ
Mon, Mar 27, 2023, 07:24:44 - pdurbin: beep: here are the docs you were looking for, I think: https://guides.dataverse.org/en/5.13/api/native-api.html#show-info-about-all-metadata-blocks
Mon, Mar 27, 2023, 07:28:27 - beep: The docs seem to be OK, jsut have to look carefully. 

These are two separate calls. This one you listed last shows all the available mdbs

$SERVER_URL/api/metadatablocks

while this onw shows those of a specific DV:

$SERVER_URL/api/dataverses/$ID/metadatablocks




Mon, Mar 27, 2023, 07:29:00 - pdurbin: Yeah, if you want, you could make a PR cross linking those docs.
Mon, Mar 27, 2023, 07:29:08 - pdurbin: "if you're looking for this...?
Mon, Mar 27, 2023, 07:31:38 - Jan Range: <@pdurbin:matrix.org "I think Jan Range and I were tal..."> Yes, also had a talk with poikilotherm (CET,UTC+1) about retrieving a JSON schema for each collection to address custom required fields. Currently the "metadatablock/$id" endpoint only returns the default configuration of a block.
Mon, Mar 27, 2023, 07:32:52 - Jan Range: At least I can not find an endpoint that is equivalent to the "metadatablocks/$id" endpoint for a collection.
Mon, Mar 27, 2023, 07:38:44 - pdurbin: That sounds right.
Mon, Mar 27, 2023, 07:39:18 - pdurbin: I'm pretty sure the new frontend is going to need all these. If anyone wants to go ahead to create an issue for this or that, please go ahead!
Mon, Mar 27, 2023, 07:47:47 - Jan Range: Submitted an issue :-) 
Mon, Mar 27, 2023, 07:47:56 - pdurbin: link please
Mon, Mar 27, 2023, 07:48:24 - Jan Range: https://github.com/IQSS/dataverse/issues/9477
Mon, Mar 27, 2023, 07:49:35 - pdurbin: Looks great, might need more details later. Thanks!
Mon, Mar 27, 2023, 07:50:32 - Jan Range: I can work on a PR for this. Need to get better at Java anyway :-D 
Mon, Mar 27, 2023, 07:52:00 - pdurbin: Should we coordinate with the new, proposed npm module for the frontend? https://github.com/IQSS/dataverse-frontend/issues/28
Mon, Mar 27, 2023, 07:52:02 - beep: Someone also asked for exporting mdb-s (back) as tsv. But this issue targets something else, right?
Mon, Mar 27, 2023, 07:52:15 - pdurbin: yeah, different
Mon, Mar 27, 2023, 07:52:43 - beep: Anyway, we are preparing a PR for the TSV export. :-)
Mon, Mar 27, 2023, 07:53:18 - pdurbin: beep: right, I was excited to see you mention TSV export: https://groups.google.com/g/dataverse-community/c/soTm_1Muj5E/m/lBTU8rKKAQAJ
Mon, Mar 27, 2023, 07:54:34 - pdurbin: beep: you might be interested in this mbdtool thread poikilotherm (CET,UTC+1) started: https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/mdbtool
Mon, Mar 27, 2023, 07:57:24 - Don Sizemore: @pdurbin: Good morning. Are we to assume that the current containerization effort is focused on dev work?
Mon, Mar 27, 2023, 08:07:16 - Jan Range: <@pdurbin:matrix.org "Should we coordinate with the ne..."> Makes sense to me, would definitely be useful for the npm package. Effectively the new endpoint should mirror what the general export already does. One thing that is missing though is information whether a field is mandatory or not. Shall I put this too in the issue or create a separate one? 
Mon, Mar 27, 2023, 08:08:59 - Jan Range sent an image. (Media omitted)
Mon, Mar 27, 2023, 08:09:25 - Jan Range: Thats the current field info coming from the block export. Could be extended with a "required" property.
Mon, Mar 27, 2023, 09:08:09 - pdurbin: Don Sizemore: yes but we got fantastic input from Kris and Akio on production use. It's sort of like right to left languages... we'd love to know now the stuff we should keep in the back of our heads!
Mon, Mar 27, 2023, 09:08:55 - Don Sizemore: @pdurbin: well, you just approved the pull request. for dev exposing the console is fine; but in the past couple of years we've had an installation or two unintentionally expose the console (and all higher listening ports) because that's what Docker containers do
Mon, Mar 27, 2023, 09:09:39 - Don Sizemore: @pdurbin: it's truly up to the implementing party; but perhaps a note cautioning about exposing such things. I'm also curious about the seeming absence of `enable-secure-admin`
Mon, Mar 27, 2023, 09:09:56 - pdurbin: Jan Range: right. "required" is important. But there's an API that shows which facets are included. We should add that too, right? This: https://guides.dataverse.org/en/5.13/api/native-api.html#list-metadata-block-facets-configured-for-a-dataverse-collection
Mon, Mar 27, 2023, 09:10:42 - pdurbin: Don Sizemore: ah, I didn't even think of that. Can you please leave a comment at https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/Open.20Payara.20Admin.20Console.20port.20in.20docker-compose-dev ?
Mon, Mar 27, 2023, 09:11:17 - pdurbin: And a new topic for `enable-secure-admin` please! üòÑ
Mon, Mar 27, 2023, 09:13:13 - Don Sizemore: done and done.
Mon, Mar 27, 2023, 09:13:58 - pdurbin: Thank you!!
Mon, Mar 27, 2023, 09:15:17 - pdurbin: Jan Range: I'm sort of inclined to move the discussion about #9477 to Zulip too. What do you think, is it time for a #dev stream? https://dataverse.zulipchat.com/#narrow/stream/375876-zulip/topic/dev.20stream.3F
Mon, Mar 27, 2023, 09:18:09 - beep: Another API related question: how can I know, which Dataverse a Dataset is a part of?

When downloading the dataset json via https://guides.dataverse.org/en/latest/api/native-api.html#get-json-representation-of-a-dataset I couldn't find any field mentioning its dataverse. Is there some other call for this?

My use case is this: using the persistent ID I would like to download the dataset and figure out what are the possible metadatablocks that can be used with the dataset. The dataset JSON only lists the MDB-s where at least one field has been entered, but it doesnt include what other MDB-s are available to fill out. At least this is what I see so far.

Mon, Mar 27, 2023, 09:23:34 - pdurbin: beep: I'm looking at my dataset at https://dataverse.harvard.edu/api/datasets/:persistentId/?persistentId=doi:10.7910/DVN/TJCLKP and you're right, I don't see any field that shows the parent. However, the Search API should.
Mon, Mar 27, 2023, 09:24:09 - pdurbin: beep: please see https://dataverse.harvard.edu/api/search?q=dsPersistentId:%22doi:10.7910/DVN/TJCLKP%22
Mon, Mar 27, 2023, 09:24:38 - pdurbin:         "identifier_of_dataverse": "open-source-at-harvard",
        "name_of_dataverse": "Open Source at Harvard",
Mon, Mar 27, 2023, 09:25:02 - pdurbin: Probably a confusing example because the title of the dataset matches the name of the collection.
Mon, Mar 27, 2023, 09:25:08 - pdurbin: But hopefully that helps! üòÑ
Mon, Mar 27, 2023, 09:29:20 - beep: It did help, thanks!

```
        "identifier_of_dataverse": "balazsverse",
        "name_of_dataverse": "BalazsVerse",

```

:-)
Mon, Mar 27, 2023, 09:31:03 - beep: pdurbin: I strongly feel this should be part of the dataset JSON, though. Is it worth creating an issue to discuss it?
Mon, Mar 27, 2023, 09:43:50 - pdurbin: beep: yes! Please go ahead and create an issue. Thanks!
Mon, Mar 27, 2023, 09:51:57 - Jan Range: <@pdurbin:matrix.org "Jan Range: I'm sort of inclined ..."> Good idea, lets move it :-) 
Mon, Mar 27, 2023, 09:53:52 - beep: <@pdurbin:matrix.org "beep: yes! Please go ahead and c..."> Got it. The examples might be familiar. :-)
Mon, Mar 27, 2023, 09:58:58 - pdurbin: Jan Range: great. I just create a #dev stream. Please post it there. Thanks!
Mon, Mar 27, 2023, 09:59:21 - pdurbin: beep: examples? I'll take your word for it! üòÑ
Mon, Mar 27, 2023, 10:16:48 - poikilotherm: <@janrange:matrix.org "https://github.com/IQSS/datavers..."> Meh. This is now a duplication of what https://github.com/IQSS/dataverse/issues/9465 is about, which itself had been fleshed out of https://github.com/IQSS/dataverse-pm/issues/26 (which was an issue in the main repo but moved by Mike)
Mon, Mar 27, 2023, 11:01:20 - Jan Range: Sorry for that :-( I was thinking about the JSON Schema export but I wasnt sure how far this is from implementation. Indeed, that would be the best solution for the problem imo
Mon, Mar 27, 2023, 11:35:30 - poikilotherm: And it does need some preparation. Like agreeing a general JSON schema ;-)
Mon, Mar 27, 2023, 11:35:36 - poikilotherm: (See the other issues)
Tue, Mar 28, 2023, 16:06:28 - pdurbin: I'd say they're related but not quite the same.
Tue, Mar 28, 2023, 16:08:38 - pdurbin: What Jan Range is proposing is easier to implement, I think üòÑ
Tue, Mar 28, 2023, 16:14:48 - Jan Range: I guess the definitive goal should be the JSON schema. Maybe we could use the change that is  proposed in the issue as an intermediate solution since its just a small change. What do you think?
Tue, Mar 28, 2023, 16:19:10 - pdurbin: better than nuthin'!
Tue, Mar 28, 2023, 16:19:47 - pdurbin: Jan Range: you have an actual use case, right? If so, you could add that to the issue.
Tue, Mar 28, 2023, 16:52:30 - Jan Range: This would be very helpful for EasyDataverse and a first use case
Tue, Mar 28, 2023, 16:52:36 - Jan Range: Going to add it to the issue
Tue, Mar 28, 2023, 16:52:57 - pdurbin: Thanks!
Tue, Mar 28, 2023, 16:53:00 - pdurbin: :dataverseman:
Tue, Mar 28, 2023, 17:22:24 - Jan Range: Updated the issue 

https://github.com/IQSS/dataverse/issues/9477
Tue, Mar 28, 2023, 17:23:30 - Jan Range: When writing I was wondering if upon connection to a collection, given templates could also be respected. Is there an endpoint to gather a template if given?
Tue, Mar 28, 2023, 17:47:24 - pdurbin: I'm pretty sure dataset templates are UI-only. But they'll need to be supported by the API for the SPA, I would think.
Tue, Mar 28, 2023, 19:20:40 - pdurbin: Really nice use case write up. Thanks, Jan Range 
Wed, Mar 29, 2023, 06:48:45 - zbenta: I've setup a instance with the FAKE DOI but the server keeps connecting to datacite, is this normal?
Wed, Mar 29, 2023, 06:50:54 - zbenta: These settings in payara are the following:
Wed, Mar 29, 2023, 06:50:55 - zbenta: -Ddoi.username=dataciteuser
-Ddoi.password=${ALIAS=doi_password_alias}
-Ddoi.baseurlstring=https://mds.test.datacite.org
-Ddoi.dataciterestapiurlstring=https://api.test.datacite.org
Wed, Mar 29, 2023, 06:51:17 - pdurbin: how about the database settings?
Wed, Mar 29, 2023, 06:51:35 - zbenta: let me get it 
Wed, Mar 29, 2023, 06:52:24 - pdurbin: here's how we set FAKE in dev: https://guides.dataverse.org/en/5.13/developers/dev-environment.html#configure-your-development-environment-for-publishing
Wed, Mar 29, 2023, 06:52:35 - pdurbin: curl http://localhost:8080/api/admin/settings/:DoiProvider -X PUT -d FAKE
Wed, Mar 29, 2023, 06:52:59 - zbenta sent an image. (Media omitted)
Wed, Mar 29, 2023, 06:53:14 - pdurbin: yeah, that's why
Wed, Mar 29, 2023, 06:53:18 - zbenta: ok, now I see the issue
Wed, Mar 29, 2023, 06:53:28 - zbenta: thanks for the heads up
Wed, Mar 29, 2023, 06:53:59 - pdurbin: Sure, while you're here, I'm thinking back to your talk. You use OpenStack, right? Not Docker?
Wed, Mar 29, 2023, 06:54:37 - pdurbin: I'm asking because we started a little working group about Docker: https://ct.gdcc.io
Wed, Mar 29, 2023, 06:54:49 - zbenta: yes, we are using openstack
Wed, Mar 29, 2023, 06:55:05 - zbenta: and docker on top of it
Wed, Mar 29, 2023, 06:55:24 - pdurbin: Oh! Maybe we should interview you.
Wed, Mar 29, 2023, 06:55:52 - pdurbin: We got some great info from Kris at KU Leuven last time.
Wed, Mar 29, 2023, 06:56:04 - pdurbin: It's in the recording on that website.
Wed, Mar 29, 2023, 06:56:08 - pdurbin: near the beginning
Wed, Mar 29, 2023, 06:56:09 - zbenta: Sure, why not.
Wed, Mar 29, 2023, 06:56:29 - pdurbin: Basically we don't want to paint ourselves into a corner.
Wed, Mar 29, 2023, 06:56:56 - pdurbin: Even though our focus is dev usage right now: https://preview.guides.gdcc.io/en/develop/container/dev-usage.html ...
Wed, Mar 29, 2023, 06:57:07 - pdurbin: ... we want to keep in mind production usage
Wed, Mar 29, 2023, 06:57:20 - pdurbin: Not just keep in mind. Anticipate things.
Wed, Mar 29, 2023, 06:57:49 - pdurbin: Did you come to the kickoff? Lots of people were there and I lost track.
Wed, Mar 29, 2023, 06:58:19 - pdurbin: Johannes Darms was there. Asked a question or two. üëã
Wed, Mar 29, 2023, 06:58:40 - pdurbin: That recording is also on the website.
Wed, Mar 29, 2023, 06:59:18 - pdurbin: Anyway our next meeting is tomorrow. 27 hours from now, I guess? 10am Boston time.
Wed, Mar 29, 2023, 07:11:35 - zbenta: > Anyway our next meeting is tomorrow. 27 hours from now, I guess? 10am Boston time.

The next comunity call listed here(https://dataverse.org/community-calls) is on April 4th.
Wed, Mar 29, 2023, 07:12:22 - zbenta: Do you have any other place where I can find the meeting room for tomorrow?
Wed, Mar 29, 2023, 07:31:51 - pdurbin: Hmm, we should add it to the top of https://ct.gdcc.io , right?
Wed, Mar 29, 2023, 07:32:01 - pdurbin: poikilotherm (CET,UTC+1): ^^
Wed, Mar 29, 2023, 07:32:19 - pdurbin: For now, if you click on the notes link at "2023-03-30, 14:00 UTC meeting (notes, recording)"
Wed, Mar 29, 2023, 07:32:35 - pdurbin: this: https://docs.google.com/document/d/1Z1PUOp19zJVEGNcFsV7tqPErWQnkVV6qkDo5ZQUHMVM/edit?usp=sharing
Wed, Mar 29, 2023, 07:32:51 - pdurbin: you'll find the zoom link: https://harvard.zoom.us/j/91061519853?pwd=U1lQR1ExMlo3Ty9XUVJIM2ZPNW1mdz09
Wed, Mar 29, 2023, 07:33:25 - pdurbin: zbenta: do you want to make a pull request? üòÑ index.md at https://github.com/gdcc/ct.gdcc.io
Wed, Mar 29, 2023, 07:35:02 - pdurbin: Also, to be clear, community calls are on Tuesdays (every other week). The Containerization Working Group calls are on Thursdays (every week).
Wed, Mar 29, 2023, 07:39:27 - zbenta: See you guys tomorrow then.
Wed, Mar 29, 2023, 07:39:35 - pdurbin: Great!
Wed, Mar 29, 2023, 11:21:06 - analia.s joined the room
Wed, Mar 29, 2023, 11:23:55 - analia.s: Hello everyone! I have a question about MDC. I did a test and I can see correctly the metrics through the API. I will change upload_to_hub from False to True because I already have the JWT and I would like to know if I should run main.py normally or I should delete the tests I made and run main.py as if it was the first time. I clarify that the test was performed with real data and not with fake metrics. Thanks!
Wed, Mar 29, 2023, 11:34:37 - pdurbin: analia.s: wow! You are way ahead of us (at Harvard Dataverse). Real data! I would suggest deleting the tests. Somehow I have deja vu that we talked about this a long time ago. üòÑ
Wed, Mar 29, 2023, 11:35:25 - pdurbin: analia.s: also, do you know about the new DataCite Usage Tracker? https://dataverse.zulipchat.com/#narrow/stream/375707-community/topic/DataCite.20Usage.20Tracker
Wed, Mar 29, 2023, 11:46:48 - analia.s: Any help on what and how I should delete this data?
Wed, Mar 29, 2023, 12:02:27 - pdurbin: It
Wed, Mar 29, 2023, 12:03:11 - pdurbin: It's been a while since I played with Counter Processor. I think it keeps data in a little sqlite database and some flat files but my memory is foggy.
Wed, Mar 29, 2023, 12:05:00 - pdurbin: I wrote this in our dev guide:

The first thing to fix is to clear two files from Counter Processor state folder, statefile.json and counter_db_[yyyy-mm].sqlite3

https://guides.dataverse.org/en/5.13/developers/make-data-count.html#testing-make-data-count-and-your-dataverse-installation
Wed, Mar 29, 2023, 12:05:15 - pdurbin: not sure if that helps, analia.s ^^
Thu, Mar 30, 2023, 07:36:49 - analia.s: thanks!!
Thu, Mar 30, 2023, 10:21:14 - analia.s: Hi! I deleted the files and ran main.py again but I got an error. Counter processor was not register the IPs correctly but I already configured the proxy and now it does register them correctly, could it be that problem? the .json file was created

Traceback (most recent call last):
  File "main.py", line 45, in <module>
    upload.send_to_datacite()
  File "/usr/local/counter-processor-0.0.1/upload/upload.py", line 50, in send_to_datacite
    response = retry_if_500(method='post', url=my_url, data=data, headers=headers)
  File "/usr/local/counter-processor-0.0.1/upload/upload.py", line 28, in retry_if_500
    response = getattr(requests, method)(url, data=data.encode("utf-8"), headers=headers)
  File "/usr/local/lib/python3.8/dist-packages/requests/api.py", line 112, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/requests/api.py", line 58, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/requests/sessions.py", line 494, in request
    prep = self.prepare_request(req)
  File "/usr/local/lib/python3.8/dist-packages/requests/sessions.py", line 427, in prepare_request
    p.prepare(
  File "/usr/local/lib/python3.8/dist-packages/requests/models.py", line 305, in prepare
    self.prepare_url(url, params)
  File "/usr/local/lib/python3.8/dist-packages/requests/models.py", line 379, in prepare_url
    raise MissingSchema(error)
requests.exceptions.MissingSchema: Invalid URL 'reports': No schema supplied. Perhaps you meant http://reports?

Thu, Mar 30, 2023, 11:01:47 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Funny, I was just renewing my JWT token for all our envrironments when I see your message 
Thu, Mar 30, 2023, 11:02:30 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): look like url is broken do you have `hub_base_url: https://api.datacite.org` in config.yaml ?
Thu, Mar 30, 2023, 11:06:05 - analia.s: yes, hub_base_url: https://api.datacite.org
Thu, Mar 30, 2023, 11:07:32 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): what is your Dataverse version ?
Thu, Mar 30, 2023, 11:07:46 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): you should consider using counter processor v0.1.04
Thu, Mar 30, 2023, 11:11:38 - analia.s: dataverse version is 5.10.1
Thu, Mar 30, 2023, 11:13:02 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): arf, v0.1.04 is compatible with https://github.com/IQSS/dataverse/releases/tag/v5.11 
but the version can be an issue
Thu, Mar 30, 2023, 11:13:59 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): I don't know what to say, can you investigate why URL is 'reports' ?
Thu, Mar 30, 2023, 11:49:13 - pdurbin: analia.s: you could add a "print" before this line: https://github.com/CDLUC3/counter-processor/blob/v0.0.1/upload/upload.py#L50
Thu, Mar 30, 2023, 11:49:48 - pdurbin: `print("url: " + my_url)`
Thu, Mar 30, 2023, 12:03:03 - analia.s: yes, I added a print:
 my_id = config.current_id()
    if my_id is None:
        my_url = urljoin(config.hub_base_url, 'reports')
        print(my_url)
        # response = requests.post(my_url, data=data.encode("utf-8"), headers=headers)
        response = retry_if_500(method='post', url=my_url, data=data, headers=headers)

and this is the output:
Traceback (most recent call last):
  File "main.py", line 45, in <module>
    upload.send_to_datacite()
  File "/usr/local/counter-processor-0.0.1/upload/upload.py", line 50, in send_to_datacite
    response = retry_if_500(method='post', url=my_url, data=data, headers=headers)
  File "/usr/local/counter-processor-0.0.1/upload/upload.py", line 28, in retry_if_500
    response = getattr(requests, method)(url, data=data.encode("utf-8"), headers=headers)
  File "/usr/local/lib/python3.8/dist-packages/requests/api.py", line 112, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/requests/api.py", line 58, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/requests/sessions.py", line 494, in request
    prep = self.prepare_request(req)
  File "/usr/local/lib/python3.8/dist-packages/requests/sessions.py", line 427, in prepare_request
    p.prepare(
  File "/usr/local/lib/python3.8/dist-packages/requests/models.py", line 305, in prepare
    self.prepare_url(url, params)
  File "/usr/local/lib/python3.8/dist-packages/requests/models.py", line 379, in prepare_url
    raise MissingSchema(error)
requests.exceptions.MissingSchema: Invalid URL 'reports': No schema supplied. Perhaps you meant http://reports?
Thu, Mar 30, 2023, 12:06:20 - analia.s: Is it a valid option to create a cron job to do it with curl?
curl --header "Content-Type: application/json; Accept: application/json" -H "Authorization: Bearer $JSON_WEB_TOKEN" -X POST https://api.datacite.org/reports/ -d @sushi_report.json
Thu, Mar 30, 2023, 13:28:05 - pdurbin: analia.s: the output still shows line 50. Why? Shouldn't it show line 51 since you added a line?
Fri, Mar 31, 2023, 07:14:04 - zbenta: Hi guys, where can I find news about the upcoming dataverse changes? pdurbin, yesterday you mentioned that dataverse frontpage will use nodejs and that it will be a "single page app". Where can we find that information?
Fri, Mar 31, 2023, 07:57:30 - poikilotherm: zbenta: https://dataverse.org/blog/restructuring-dataverse-ui-single-page-application
Fri, Mar 31, 2023, 07:58:04 - zbenta: Thanks poikilotherm (CEST,UTC+2) 
Fri, Mar 31, 2023, 08:02:39 - zbenta: Is this a long term vision or a very near future?
Fri, Mar 31, 2023, 08:02:57 - poikilotherm: Work is underway
Fri, Mar 31, 2023, 08:03:13 - poikilotherm: https://github.com/IQSS/dataverse-frontend
Fri, Mar 31, 2023, 08:03:39 - pdurbin: very much underway
Fri, Mar 31, 2023, 08:03:42 - poikilotherm: But please, read the doc. It should get an update, too, as the feedback has been processed and the doc was updated
Fri, Mar 31, 2023, 08:04:21 - pdurbin: there are newer docs that haven't been announced yet but I'm happy to answer any questions
Fri, Mar 31, 2023, 08:04:41 - zbenta: But, are there any plans on delivering a restructured dataverse version in the near future? Let's say in the next 6 months.
Fri, Mar 31, 2023, 08:04:53 - pdurbin: not that fast
Fri, Mar 31, 2023, 08:05:06 - pdurbin: we plan to demo a little something at the community meeting in Braga
Fri, Mar 31, 2023, 08:05:18 - pdurbin: but just a POC I'd say
Fri, Mar 31, 2023, 08:05:29 - pdurbin: (though we call it an MVP)
Fri, Mar 31, 2023, 08:05:48 - pdurbin: would you like to help? üòÑ
Fri, Mar 31, 2023, 08:06:03 - zbenta: Nice, so we will, meet in person in Braga üëçÔ∏è
Fri, Mar 31, 2023, 08:06:30 - pdurbin: well, I hope to be there, I haven't been told to book my flights yet
Fri, Mar 31, 2023, 08:06:53 - zbenta: > would you like to help? üòÑ

I would, if I had the time, or even knowledge of nodejs.
Fri, Mar 31, 2023, 08:06:56 - pdurbin: thanks for joining the container meeting yesterday, by the way
Fri, Mar 31, 2023, 08:07:16 - poikilotherm: You need to spend some vacation anyway - last I checked Portugal is really great for that!
Fri, Mar 31, 2023, 08:07:24 - pdurbin: heh
Fri, Mar 31, 2023, 08:07:39 - pdurbin: zbenta: you could play around with Storybook. It's really neat
Fri, Mar 31, 2023, 08:07:48 - zbenta: Don't get me started on Portugal, or we'll be here the whole day.
Fri, Mar 31, 2023, 08:08:03 - pdurbin: One idea I have is that the community could contribute "stories" for the feature they want. That is, show us how it should look.
Fri, Mar 31, 2023, 08:08:28 - pdurbin: when I get a minute I'm going to suggest this here: https://github.com/IQSS/dataverse/issues/6691#issuecomment-1488733725
Fri, Mar 31, 2023, 08:10:25 - pdurbin: ok, left a very brief comment there
Fri, Mar 31, 2023, 08:10:32 - zbenta: > when I get a minute I'm going to suggest this here: https://github.com/IQSS/dataverse/issues/6691#issuecomment-1488733725

It looks like a very useful feature.
Fri, Mar 31, 2023, 08:11:12 - pdurbin: definitely but I'd love for the effort to go into the new frontend
Fri, Mar 31, 2023, 08:11:24 - pdurbin: hopefully we can figure out some code re-use
Fri, Mar 31, 2023, 08:11:41 - pdurbin: for both the old and new frontends
Fri, Mar 31, 2023, 08:35:52 - analia.s: <@pdurbin:matrix.org "analia.s: the output still shows..."> Sorry for the delay! I had copied the previous output, I ran it again:

Writing JSON report to /home/make-data-count-report/make-data-count-report.json
reports
Traceback (most recent call last):
  File "main.py", line 45, in <module>
    upload.send_to_datacite()
  File "/usr/local/counter-processor-0.0.1/upload/upload.py", line 52, in send_to_datacite
    response = retry_if_500(method='post', url=my_url, data=data, headers=headers)
  File "/usr/local/counter-processor-0.0.1/upload/upload.py", line 28, in retry_if_500
    response = getattr(requests, method)(url, data=data.encode("utf-8"), headers=headers)
  File "/usr/local/lib/python3.8/dist-packages/requests/api.py", line 112, in post
    return request('post', url, data=data, json=json, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/requests/api.py", line 58, in request
    return session.request(method=method, url=url, **kwargs)
  File "/usr/local/lib/python3.8/dist-packages/requests/sessions.py", line 494, in request
    prep = self.prepare_request(req)
  File "/usr/local/lib/python3.8/dist-packages/requests/sessions.py", line 427, in prepare_request
    p.prepare(
  File "/usr/local/lib/python3.8/dist-packages/requests/models.py", line 305, in prepare
    self.prepare_url(url, params)
  File "/usr/local/lib/python3.8/dist-packages/requests/models.py", line 379, in prepare_url
    raise MissingSchema(error)
requests.exceptions.MissingSchema: Invalid URL 'reports': No schema supplied. Perhaps you meant http://reports?
Fri, Mar 31, 2023, 09:02:17 - pdurbin: analia.s: great, new line numbers, but do you see the output from the extra "print" you added? I don't. ü§î
Fri, Mar 31, 2023, 10:00:49 - zbenta: We are thinking that there is something wrong with our dataverse installation.
Whenever we try to upload a 2 GB file, we get speeds of about 5MB/s if we use local storage.
If we use S3 like storage we get speeds of about 10MB/s.
The problem is that both of the uploads take the same time, since dataverse calculates the md5sum.
What is strange for us is that even with double the speed it takes the same time after we press the "save changes" button.
This is quite weird because the md5sum takes half of the time when we upload with speeds of 10MB/S(We see half of the progressbar being filled and no data is being sent from our machine to dataverse) and when we upload it with speeeds of 5MB/s the process somehow is done during the upload of the file.
It is taking us about 8 minutes to upload a 2GB file, from start to end, we think that there might me something wrong with the md5sum code.
We even tried dvuploader and it took us only 03:39 minutes using a S3 like storage on our dataverse.
Any thoughs on this one?
Fri, Mar 31, 2023, 10:29:01 - poikilotherm: Where are you storing your uploads?
Fri, Mar 31, 2023, 10:31:36 - zbenta: on an s3  bucket in minio
Fri, Mar 31, 2023, 10:33:53 - poikilotherm: That is a bad idea IMHO
Fri, Mar 31, 2023, 10:34:22 - poikilotherm: Checksum calculation means streaming data access.
Fri, Mar 31, 2023, 10:34:57 - poikilotherm: Doing that on a POSIX emulation filesystem mount of an S3 bucket might pose all sorts of interesting speed limits
Fri, Mar 31, 2023, 10:35:59 - poikilotherm: This is the important line https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/util/FileUtil.java#L1360-L1360
Fri, Mar 31, 2023, 10:36:43 - poikilotherm: It will take data files from the `<dataverse.files.directory/temp` folder and pipe them through the hash algorithm
Fri, Mar 31, 2023, 10:38:43 - poikilotherm: There might be some optimizations that one can apply to the Java code, yes. It's not very elegant and probably could be speed up by using NIO these days. https://github.com/IQSS/dataverse/blob/develop/src/main/java/edu/harvard/iq/dataverse/util/FileUtil.java#L718-L772
Fri, Mar 31, 2023, 10:38:58 - poikilotherm: But first and foremost, it is IO bound
Fri, Mar 31, 2023, 10:39:34 - zbenta: we are now using minio as a regular S3 bucket and adding it's endpoint to dataverse as a normal S3 instance we get the very fast speeds, but the hashing takes forever
Fri, Mar 31, 2023, 10:40:03 - poikilotherm: S3 as a storage backend is not your problem
Fri, Mar 31, 2023, 10:40:24 - poikilotherm: Wait a sec, I made a graph once (and maybe we should add this to the docs)
Fri, Mar 31, 2023, 10:41:28 - zbenta: Maybe the underlying disk is the bottleneck here.
Fri, Mar 31, 2023, 10:42:54 - poikilotherm sent an image. (Media omitted)
Fri, Mar 31, 2023, 10:42:54 - poikilotherm: Here you go. This is from https://github.com/IQSS/dataverse/issues/6656 
Fri, Mar 31, 2023, 10:44:56 - poikilotherm: So after you uploaded files via UI or API, the files will be stored at `<dataverse.files.directory>/temp` and processed from there for further analysis. Only after that is done, they will be uploaded to the backing file storage
Fri, Mar 31, 2023, 10:45:08 - poikilotherm: In your case, S3
Fri, Mar 31, 2023, 10:45:30 - zbenta: yep, we've seen that behavihour when we first tried the local storage
Fri, Mar 31, 2023, 10:46:30 - poikilotherm: I'd try using some ephemeral storage for that dir and try again.
Fri, Mar 31, 2023, 10:46:56 - poikilotherm: If that doesn't solve the speed limit, more analysis would be inbound üòâ
Fri, Mar 31, 2023, 10:48:34 - poikilotherm: BTW you might be interested in taking a look at https://github.com/seaweedfs/seaweedfs. It does have some interesting local mounting and caching options.
Fri, Mar 31, 2023, 10:48:57 - poikilotherm: Thanks for pointing us to it carlsonp !
Fri, Mar 31, 2023, 10:49:25 - zbenta: > I'd try using some ephemeral storage for that dir and try again.

What do you mean by this, we should use some kind of /tmp  dir and setup dataverse storage as having local storage?
Fri, Mar 31, 2023, 10:50:46 - poikilotherm: I don't know how you are running your Dataverse. Simply some kind of filesystem that is using a local thing, not necessarily a disk. Plenty of options around.
Fri, Mar 31, 2023, 10:52:34 - zbenta: Our dataverse is runnig inside  a docker container and we use minio as the S3 endpoint setup in payara as the default storage to be used in dataverse.
Fri, Mar 31, 2023, 10:54:17 - poikilotherm: You might try using a https://docs.docker.com/storage/tmpfs/ then
Fri, Mar 31, 2023, 10:54:45 - zbenta: I started looking into seaweedfs this morning, but the documentation is a little bit lacking, I have to explore it further.
Fri, Mar 31, 2023, 10:59:41 - zbenta: > You might try using a https://docs.docker.com/storage/tmpfs/ then

Thanks for the tip
Fri, Mar 31, 2023, 12:04:57 - pdurbin: zbenta: do you have an architecture diagram of your setup, maybe from the talk you gave last year?
Fri, Mar 31, 2023, 12:06:36 - pdurbin sent an image. (Media omitted)
Fri, Mar 31, 2023, 12:06:51 - pdurbin: found it ^^ from https://osf.io/fjw9t and https://www.youtube.com/watch?v=-Re_elg67e8&t=1733s
Fri, Mar 31, 2023, 13:45:52 - pdurbin: Huh, this might make a fun dataset-level external tool: https://github.com/jupyterlite/jupyterlite
Fri, Mar 31, 2023, 17:15:13 - pdurbin: Have a good weekend, all!
Tue, Apr 4, 2023, 10:45:45 - zbenta: Hi guys, I'm not sure if we'll be able to participate in the call today. Just wanted to know if there is any way we can increase the log verbosity in payara? 
Tue, Apr 4, 2023, 10:47:46 - zbenta: We've tried "asadmin set-log-levels edu.harvard.iq.dataverse.api.Datasets=FINE" but the logs continue at the same level of verbosity.
Tue, Apr 4, 2023, 10:51:20 - pdurbin: zbenta: hmm, should work
Tue, Apr 4, 2023, 10:51:36 - pdurbin: yes, the call is in ~10 minutes, all are welcome: https://dataverse.org/community-calls
Tue, Apr 4, 2023, 10:51:55 - pdurbin: we should even have a demo, which I'll record and put on DataverseTV
Tue, Apr 4, 2023, 17:52:47 - pdurbin: the demo is up: https://dataverse.org/dataversetv
Wed, Apr 5, 2023, 08:22:09 - pdurbin: just need a description
Wed, Apr 5, 2023, 11:32:56 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Hello there :) I just submitted an issue with a PR concerning CVOC, as you are working on CVOC/ROR for v5.14 maybe this can be taken aswell :) 
https://github.com/IQSS/dataverse/issues/9498
Wed, Apr 5, 2023, 11:34:03 - pdurbin: luddaniel: interesting! Can you please leave a comment about it on https://github.com/IQSS/dataverse/pull/9402 ?
Wed, Apr 5, 2023, 11:34:30 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Sure :)
Wed, Apr 5, 2023, 11:34:38 - pdurbin: thanks!
Wed, Apr 5, 2023, 12:49:09 - pdurbin: kuhlaid: psst
Wed, Apr 5, 2023, 20:08:43 - Harsh Kapadia (he/him) joined the room
Wed, Apr 5, 2023, 20:17:20 - Harsh Kapadia (he/him): Hey Philip, you wanted me to do something with Docker and Java on Windows, right? Let me know what I can do. I am on a Windows 11 laptop. pdurbin

Wed, Apr 5, 2023, 20:18:52 - Harsh Kapadia (he/him) set a profile picture
Wed, Apr 5, 2023, 21:28:44 - pdurbin: Harsh Kapadia (he/him): hi! Good news! A developer on Windows got back to me today and it worked! Running Dataverse in Docker. In short he followed https://preview.guides.gdcc.io/en/develop/container/dev-usage.html and here are his notes: https://groups.google.com/g/dataverse-dev/c/utqkZ7gYsf4/m/4IDtsvKSAwAJ

So! If you feel like trying this yourself, I would still appreciate it, but great progress was just made today!
Wed, Apr 5, 2023, 21:53:28 - pdurbin: üéâ
Thu, Apr 6, 2023, 00:35:00 - Harsh Kapadia (he/him): I'm glad it worked!
Thu, Apr 6, 2023, 07:18:46 - pdurbin: Me too. I also posted about it on the main thread here: https://groups.google.com/g/dataverse-community/c/Hs9j5rIxqPI/m/7KTK67JzBAAJ
Thu, Apr 6, 2023, 07:19:04 - pdurbin: Thanks Akio Sone !
Thu, Apr 6, 2023, 08:16:08 - zbenta: Hi guy, another one to keep you scratching your heads. We are trying to stress tests our interface, by doing a simple get to the platform with 50 users. The platform stalls and we get the following error on the payara server logs 'Unable to set ClientInfo for connection'. this is quite weird, since the database is still running, we can still connect to it, but the frontend shows the image bellow.
Thu, Apr 6, 2023, 08:16:13 - zbenta sent an image. (Media omitted)
Thu, Apr 6, 2023, 08:16:25 - zbenta sent an image. (Media omitted)
Thu, Apr 6, 2023, 08:17:20 - zbenta sent an image. (Media omitted)
Thu, Apr 6, 2023, 08:18:06 - zbenta: I can't upload the image, so I'm sending the text:
Thu, Apr 6, 2023, 08:18:32 - zbenta: "   HTTP Status 500 - Internal Server Error

type Exception report

messageInternal Server Error

descriptionThe server encountered an internal error that prevented it from fulfilling this request.

exception

javax.ejb.EJBException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.7.9.payara-p2): org.eclipse.persistence.exceptions.DatabaseException
Internal Exception: org.postgresql.util.PSQLException: Connection has been closed.
Error Code: 0
Call: SELECT ID, CONTENT, LANG, NAME FROM SETTING WHERE ((NAME = ?) AND (LANG IS NULL))
	bind => [1 parameter bound]
Query: ReadAllQuery(name="Setting.findByName" referenceClass=Setting sql="SELECT ID, CONTENT, LANG, NAME FROM SETTING WHERE ((NAME = ?) AND (LANG IS NULL))")

note The full stack traces of the exception and its root causes are available in the Payara Server 5.2022.3 #badassfish logs.
Payara Server 5.2022.3 #badassfish "
Thu, Apr 6, 2023, 08:49:03 - pdurbin: zbenta: would you be able to share the script you're using? You could even create an issue and attach it if you like.
Thu, Apr 6, 2023, 09:59:50 - pdurbin: containerization working group meeting in 1 minute: https://ct.gdcc.io
Thu, Apr 6, 2023, 17:07:12 - pdurbin: I'm taking tomorrow off to bring my daughter for a college visit. Have a good weekend! See you Monday.
Wed, Apr 12, 2023, 17:06:04 - pdurbin: wow, this week is flying by
Wed, Apr 12, 2023, 17:06:24 - pdurbin: containerization working group meeting tomorrow! https://ct.gdcc.io
Thu, Apr 13, 2023, 09:50:30 - pdurbin: in 10 minutes ^^
Thu, Apr 13, 2023, 10:11:38 - Pallinger P√©ter: We (Bal√°zs Pataki and me) are on a conference right now, so we will not be able to attend, sorry :(
Thu, Apr 13, 2023, 11:25:17 - pdurbin: no worries!
Thu, Apr 13, 2023, 13:35:08 - Santiago Soler (√©l/he/him) joined the room
Fri, Apr 14, 2023, 06:54:19 - aialves: Good morning. Can you please me answer me a question? When someone signs up the for first time in Dataverse he receives a mail from Dataverse. And Dataverse admin, shoudn't he receive also a mail? I am dataverse admin and I am not receiving a mail when someone signs up in dataverse. Thanks in advance :-) 
Fri, Apr 14, 2023, 07:47:29 - Don Sizemore: Good morning, to my knowledge Dataverse doesn't do this. I'd encourage opening a GitHub issue to request the feature?
Fri, Apr 14, 2023, 09:05:25 - aialves: Yes, I think this is an important issue.
Fri, Apr 14, 2023, 09:27:06 - aialves: Message deleted
Fri, Apr 14, 2023, 09:47:29 - Joe Gonzalez: Hi everyone... I'm getting an error when trying to deploy. I get "Exception while deploying the app: Index 12 is out of bounds for length 12"
Fri, Apr 14, 2023, 09:49:55 - Joe Gonzalez: Can you point me in the right direction so I can investigate?
Fri, Apr 14, 2023, 15:49:52 - Don Sizemore: I haven't seen that error before. Is this a new installation?
Fri, Apr 14, 2023, 17:07:41 - Joe Gonzalez: Yes, new install. I've installed it before successfully (versions 5.11, 5.12, 5.13) but I haven't seen this before
Fri, Apr 14, 2023, 17:08:12 - Joe Gonzalez: installing moves along smoothly until the war file deployment and then it blows up with that errorDeploying the application (dataverse.war)

remote failure: Error occurred during deployment: Exception while deploying the app [dataverse] : Index 12 out of bounds for length 12. Related annotation information: annotation [@javax.annotation.sql.DataSourceDefinition(databaseName="", maxStatements=-1, description="", serverName="localhost", maxIdleTime=300, url="jdbc:postgresql://${MPCONFIG=dataverse.db.host:localhost}:${MPCONFIG=dataverse.db.port:5432}/${MPCONFIG=dataverse.db.name:dataverse}?${MPCONFIG=dataverse.db.parameters:}", portNumber=-1, password="${MPCONFIG=dataverse.db.password}", minPoolSize=10, isolationLevel=-1, loginTimeout=0, user="${MPCONFIG=dataverse.db.user:dataverse}", initialPoolSize=-1, maxPoolSize=100, properties={"fish.payara.is-connection-validation-required=${MPCONFIG=dataverse.db.is-connection-validation-required:false}", "fish.payara.connection-validation-method=${MPCONFIG=dataverse.db.connection-validation-method:}", "fish.payara.validation-table-name=${MPCONFIG=dataverse.db.validation-table-name:}", "fish.payara.validation-classname=${MPCONFIG=dataverse.db.validation-classname:}", "fish.payara.validate-atmost-once-period-in-seconds=${MPCONFIG=dataverse.db.validate-atmost-once-period-in-seconds:0}", "fish.payara.connection-leak-timeout-in-seconds=${MPCONFIG=dataverse.db.connection-leak-timeout-in-seconds:0}", "fish.payara.connection-leak-reclaim=${MPCONFIG=dataverse.db.connection-leak-reclaim:false}", "fish.payara.statement-leak-timeout-in-seconds=${MPCONFIG=dataverse.db.statement-leak-timeout-in-seconds:0}", "fish.payara.statement-leak-reclaim=${MPCONFIG=dataverse.db.statement-leak-reclaim:false}", "fish.payara.statement-timeout-in-seconds=${MPCONFIG=dataverse.db.statement-timeout-in-seconds:-1}", "fish.payara.slow-query-threshold-in-seconds=${MPCONFIG=dataverse.db.slow-query-threshold-in-seconds:-1}", "fish.payara.log-jdbc-calls=${MPCONFIG=dataverse.db.log-jdbc-calls:false}"}, transactional=true, name="java:app/jdbc/dataverse", className="org.postgresql.ds.PGConnectionPoolDataSource")] on annotated element [class edu.harvard.iq.dataverse.util.DataSourceProducer] of type [TYPE]. Please see server.log for more details.

Command deploy failed.

Failed to deploy the application!
Sat, Apr 15, 2023, 12:13:33 - Miguel Silva: Hi everyone,
just to leave it here, for anyone with interest,
that is now available the first text document related to increased data validation and trustworthiness in an laboratory experiment
Sat, Apr 15, 2023, 12:13:41 - Miguel Silva: here's the link:
https://github.com/aeonSolutions/openScience-Smart-DAQ-to-Upload-Live-Experimental-Data-to-a-Data-Repository/wiki/Unique-FingerPrint-ID-(UFPID)
Sat, Apr 15, 2023, 12:15:05 - Miguel Silva: I'm coding a piece of code for a Custom Implementation of a UNF, one that includes additional verification for the data measurements themselves. In particular, the actual data origins from a specific Data Acquisition Device where measurements are collected and transformed into an experimental data record.
Sun, Apr 16, 2023, 08:01:15 - Don Sizemore: <@josephgonzalez:matrix.org "installing moves along smoothly ..."> that's a lot of complaint about the database connection pool and/or credentials. have you double-checked those settings?
Sun, Apr 16, 2023, 20:54:09 - Amanpreet Kaur joined the room
Sun, Apr 16, 2023, 20:54:25 - Amanpreet Kaur: hi @everyone
Sun, Apr 16, 2023, 20:54:43 - Amanpreet Kaur: How can I use dataverse in my umbraco website?
Sun, Apr 16, 2023, 22:00:57 - pdurbin: Are you looking to embed Dataverse datasets, like OpenScholar does? https://guides.dataverse.org/en/5.13/admin/integrations.html#embedding-data-on-websites
Sun, Apr 16, 2023, 22:02:22 - Amanpreet Kaur: what code do I need to write in c#
Mon, Apr 17, 2023, 02:40:14 - Benjamin Poldrack left the room
Mon, Apr 17, 2023, 09:45:24 - pdurbin: Amanpreet Kaur: when you say "use Dataverse" what do you mean? What is your goal?
Mon, Apr 17, 2023, 14:39:50 - Amanpreet Kaur: I need to implement the dataverse functionality inside my app like I need to fetch the datasets and display it into my site
Mon, Apr 17, 2023, 17:11:59 - pdurbin: Amanpreet Kaur: have you tried widgets? https://guides.dataverse.org/en/5.13/user/dataverse-management.html#widgets . They don't require any coding.
Mon, Apr 17, 2023, 20:10:18 - Amanpreet Kaur: thank you :)
Tue, Apr 18, 2023, 06:54:48 - pdurbin: sure!
Tue, Apr 18, 2023, 06:56:00 - pdurbin: aialves: yes, please feel free to open an issue
Tue, Apr 18, 2023, 06:56:16 - pdurbin: Joe Gonzalez: are you all set?
Tue, Apr 18, 2023, 06:56:28 - pdurbin: Miguel Silva: interesting stuff
Tue, Apr 18, 2023, 08:00:49 - Johannes Darms: Message deleted
Tue, Apr 18, 2023, 08:03:21 - Johannes Darms: Hey  poikilotherm (CEST,UTC+2) pdurbin finally I've got time to implement OIDC Bearer Token Auth. Tokens are still introspected, but the login works without much extra code. https://github.com/IQSS/dataverse/pull/9532
Tue, Apr 18, 2023, 08:03:57 - pdurbin: Johannes Darms: wow, nice! We were just talking about this yesterday!
Tue, Apr 18, 2023, 08:06:17 - pdurbin: I just gave is our smallest size (3) and put it at the top of the "auth" column at https://github.com/orgs/IQSS/projects/34/views/1
Tue, Apr 18, 2023, 08:08:37 - pdurbin: I also just talked it up in Slack. Thanks!
Tue, Apr 18, 2023, 08:33:18 - Johannes Darms: Great, I hope the PR helps
Tue, Apr 18, 2023, 09:05:26 - poikilotherm: Johannes Darms:  Looks good so far (I hope you copied some of my initial code over). There are some (minor) styling things though that would be nice to straighten out a bit.
Tue, Apr 18, 2023, 09:06:09 - Johannes Darms: sure did, I'm a lazy fool :)
Tue, Apr 18, 2023, 09:07:40 - pdurbin: In a couple hours we'll talk about the containerization proposal: https://groups.google.com/g/dataverse-community/c/zywdxx5LgvU/m/DjXJ9_DIAAAJ
Tue, Apr 18, 2023, 10:48:28 - poikilotherm: Now it's just 12 minutes to go! üòÉ
Tue, Apr 18, 2023, 10:50:46 - pdurbin: poikilotherm (CEST,UTC+2): I think I'll let you talk about the dcm abstract before I hit record and talk about the proposal. Any objections?
Tue, Apr 18, 2023, 10:51:14 - poikilotherm: Nope
Tue, Apr 18, 2023, 10:52:41 - pdurbin: I'll let you go before GDCC updates
Tue, Apr 18, 2023, 10:52:54 - pdurbin: because I added a section on dcm
Tue, Apr 18, 2023, 10:53:41 - poikilotherm: But I'm not IQSS?
Tue, Apr 18, 2023, 10:55:08 - pdurbin: don't worry about it üòÑ
Tue, Apr 18, 2023, 10:55:16 - pdurbin: I won't let you talk long anyway üòÑ
Tue, Apr 18, 2023, 10:55:23 - poikilotherm: haha no pressure
Tue, Apr 18, 2023, 10:56:04 - pdurbin: You want to invite others to be on the abstract? To help present the demo?
Tue, Apr 18, 2023, 10:56:49 - poikilotherm: Both
Tue, Apr 18, 2023, 10:57:14 - pdurbin: ok, sounds fine
Tue, Apr 18, 2023, 10:57:28 - poikilotherm: Shaping the demo might be good to do with more than one pair of eyes on it
Tue, Apr 18, 2023, 10:57:37 - pdurbin: ya
Tue, Apr 18, 2023, 10:57:59 - poikilotherm: Wondering what happens if we have less than 300 words.
Tue, Apr 18, 2023, 10:58:34 - poikilotherm: I'm not used to a minimum requirement in submissions ü•¥
Wed, Apr 19, 2023, 07:10:45 - pdurbin: I can only assume there's a minimum speed on the Autobahn.
Wed, Apr 19, 2023, 07:37:48 - poikilotherm: Yes! 51km/h
Wed, Apr 19, 2023, 07:38:04 - poikilotherm: If you can't, you're not allowed to drive there
Wed, Apr 19, 2023, 08:26:37 - my-user joined the room
Wed, Apr 19, 2023, 08:26:42 - my-user: hello all
Wed, Apr 19, 2023, 08:26:59 - my-user: i am trying to install dataverse 5.13
Wed, Apr 19, 2023, 08:27:28 - my-user: but failing with the below error
Wed, Apr 19, 2023, 08:27:46 - my-user: Installing additional configuration files (Jhove)...
done.
Deploying the application (dataverse.war)
remote failure: Error occurred during deployment: Exception while deploying the app [dataverse] : Index 12 out of bounds for length 12. Related annotation information: annotation [@javax.annotation.sql.DataSourceDefinition(databaseName="", maxStatements=-1, description="", serverName="localhost", maxIdleTime=300, url="jdbc:postgresql://${MPCONFIG=dataverse.db.host:localhost}:${MPCONFIG=dataverse.db.port:5432}/${MPCONFIG=dataverse.db.name:dataverse}?${MPCONFIG=dataverse.db.parameters:}", portNumber=-1, password="${MPCONFIG=dataverse.db.password}", minPoolSize=10, isolationLevel=-1, loginTimeout=0, user="${MPCONFIG=dataverse.db.user:dataverse}", maxPoolSize=100, initialPoolSize=-1, properties={"fish.payara.is-connection-validation-required=${MPCONFIG=dataverse.db.is-connection-validation-required:false}", "fish.payara.connection-validation-method=${MPCONFIG=dataverse.db.connection-validation-method:}", "fish.payara.validation-table-name=${MPCONFIG=dataverse.db.validation-table-name:}", "fish.payara.validation-classname=${MPCONFIG=dataverse.db.validation-classname:}", "fish.payara.validate-atmost-once-period-in-seconds=${MPCONFIG=dataverse.db.validate-atmost-once-period-in-seconds:0}", "fish.payara.connection-leak-timeout-in-seconds=${MPCONFIG=dataverse.db.connection-leak-timeout-in-seconds:0}", "fish.payara.connection-leak-reclaim=${MPCONFIG=dataverse.db.connection-leak-reclaim:false}", "fish.payara.statement-leak-timeout-in-seconds=${MPCONFIG=dataverse.db.statement-leak-timeout-in-seconds:0}", "fish.payara.statement-leak-reclaim=${MPCONFIG=dataverse.db.statement-leak-reclaim:false}", "fish.payara.statement-timeout-in-seconds=${MPCONFIG=dataverse.db.statement-timeout-in-seconds:-1}", "fish.payara.slow-query-threshold-in-seconds=${MPCONFIG=dataverse.db.slow-query-threshold-in-seconds:-1}", "fish.payara.log-jdbc-calls=${MPCONFIG=dataverse.db.log-jdbc-calls:false}"}, transactional=true, name="java:app/jdbc/dataverse", className="org.postgresql.ds.PGConnectionPoolDataSource")] on annotated element [class edu.harvard.iq.dataverse.util.DataSourceProducer] of type [TYPE]. Please see server.log for more details.
Command deploy failed.
Failed to deploy the application!

Wed, Apr 19, 2023, 08:27:51 - my-user: can someone pls help me here
Wed, Apr 19, 2023, 08:31:51 - pdurbin: Bhar gav: hi! This sounds a lot like the problem Joe Gonzalez reported above. Are you doing a traditional install (using the guides)? dataverse-docker? dataverse-ansiblle?
Wed, Apr 19, 2023, 08:32:49 - my-user: following this https://guides.dataverse.org/en/5.10.1/installation/prerequisites.html
Wed, Apr 19, 2023, 08:33:06 - my-user: using the guides
Wed, Apr 19, 2023, 08:34:20 - pdurbin: Ok, but 5.13 not 5.10.1 guides, right?
Wed, Apr 19, 2023, 08:36:06 - my-user: 5.13
Wed, Apr 19, 2023, 08:37:22 - pdurbin: Ok. I would recommend starting over with this quickstart: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible#quickstart
Wed, Apr 19, 2023, 08:37:48 - pdurbin: Don Sizemore has done an amazing job making it simple to install Dataverse with that playbook.
Wed, Apr 19, 2023, 08:52:31 - my-user: would u mind helping me with the error am facing.
Wed, Apr 19, 2023, 08:53:28 - my-user: the given link seems to be of ansible, i need to start it again
Wed, Apr 19, 2023, 09:31:01 - pdurbin: maybe?
Wed, Apr 19, 2023, 09:31:31 - pdurbin: Don Sizemore poikilotherm (CEST,UTC+2) any ideas on this one? Strange that we've seen two very similar reports of this issue.
Wed, Apr 19, 2023, 10:03:14 - poikilotherm: Just real quick: I see there are 12 elements in properties. I've never seen this error with recent versions of Payara 5. Maybe worth a shot to use a more recent version (which is always a good idea for new installations)
Wed, Apr 19, 2023, 10:15:22 - Don Sizemore: my-user: have you double-checked your specified DB credentials? do they work using the command line psql client?
Wed, Apr 19, 2023, 10:25:41 - Don Sizemore: @pdurbin @poikilotherm could these be the result of not having the pysco-pg2 python module installed?
Wed, Apr 19, 2023, 10:27:23 - poikilotherm: When the connection fails that should look differently, shouldn't it?
Wed, Apr 19, 2023, 12:43:25 - rehan-stack joined the room
Wed, Apr 19, 2023, 14:41:11 - pdurbin: poikilotherm (CEST,UTC+2): I had a similar thought.
Wed, Apr 19, 2023, 14:41:28 - pdurbin: my-user: can you please confirm which version of Payara you're using?
Wed, Apr 19, 2023, 17:01:45 - pdurbin: rehan-stack: it's late for Jan Range but he may have some Python for you to hack on
Wed, Apr 19, 2023, 18:00:05 - pdurbin: I'm off tomorrow and Friday. Parents visiting. Bringing my kid to visit colleges. Have a good rest of the week and weekend! See you Monday!
Thu, Apr 20, 2023, 05:11:09 - mih: Hi all, in datalad-dataverse we have been using the (now unmaintained) pydataverse to talk to the dataverse API. We have been noticing breakage of our test suite (runs against demo.dataverse.org). Dataset creation is rejected (HTTP403) with the following message

```
'{"status":"ERROR","message":"Validation Failed: Title is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ]), Author Name is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ]), Subject is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ]), Point of Contact E-mail is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ]), Description Text is required. (Invalid value:edu.harvard.iq.dataverse.DatasetField[ id=null ]).java.util.stream.ReferencePipeline$3@5cb6e811"}'
```

This suggests that the format of the require metadata was changed. The 5.13 changelog suggests some changes, but pretty much any keys change. The new format is shown here https://guides.dataverse.org/en/5.13/\_downloads/7af6e5068de0ac6a3cf6599fee1ca84e/dataset-create.jsonld

This change breaks the data model in pydataverse.
Thu, Apr 20, 2023, 09:54:00 - Jan Range: rehan-stack: You can hack around in the following Colab Notebook. It features the upcoming version, but behaves the same as the current version except a "connect" feature. 

https://colab.research.google.com/drive/1dbcrQphmcLCL3FQIUswlSSWFv8JRyyiS?usp=sharing

Feel free to contact me, when you have questions :-) 

Fri, Apr 21, 2023, 08:06:19 - Don Sizemore: poikilotherm (CEST,UTC+2): probably, but start from the physical layer...
Fri, Apr 21, 2023, 08:28:37 - poikilotherm: <@donsizemore:matrix.org "poikilotherm (CEST,UTC+2): proba..."> Context? üôèüòÖüôà
Fri, Apr 21, 2023, 08:30:33 - Don Sizemore: @poikilotherm on whether the connection failing should look different. I got a screwy Python installer failure due to an incorrect conditional check in Ansible, which resulting in the pyscopg2 package not getting installed. Checking from the ground up would've caught that.
Fri, Apr 21, 2023, 08:31:24 - poikilotherm: I see!
Fri, Apr 21, 2023, 08:31:29 - Don Sizemore: @poikilotherm similarly, a very smart programmer had trouble with a database setting, and frankly made fun of me in my process of asking initial basic questions. my next question would've been: "have you restarted the service to be certain the setting was applied?" which would've fixed his problem
Fri, Apr 21, 2023, 08:32:05 - Don Sizemore: @poikilotherm one can't check whether virtual machines are physically plugged in, but ... always check the power cable first.
Fri, Apr 21, 2023, 08:33:38 - poikilotherm sent an image. (Media omitted)
Fri, Apr 21, 2023, 08:35:02 - Don Sizemore: more like: is the power strip supplying the concealed USB hub switched off, preventing the wireless keyboard and mouse receivers from functioning?
Fri, Apr 21, 2023, 08:37:09 - poikilotherm: Message deleted
Fri, Apr 21, 2023, 08:37:28 - poikilotherm sent an image. (Media omitted)
Fri, Apr 21, 2023, 16:10:16 - sam joined the room
Fri, Apr 21, 2023, 16:11:01 - sam: If someone updates a dataset, does it get a new DOI or does the existing DOI get changed to point to the newest version of the dataset?
Fri, Apr 21, 2023, 17:02:20 - pdurbin: charmonium: it does not get a new DOI but poikilotherm (CEST,UTC+2) is actively working on this feature: https://github.com/IQSS/dataverse/pull/9462
Fri, Apr 21, 2023, 17:02:42 - sam: Thanks pdurbin !
Fri, Apr 21, 2023, 17:03:35 - pdurbin: sure
Mon, Apr 24, 2023, 08:00:50 - Don Sizemore: @pdurbin welcome back, sir.
Mon, Apr 24, 2023, 09:07:38 - pdurbin: Thanks!
Mon, Apr 24, 2023, 09:08:55 - pdurbin: mih: I hate it when our APIs break. üò† Can you please open an issue about this at https://github.com/IQSS/dataverse/issues so we can at least document the change properly? üôè
Mon, Apr 24, 2023, 09:30:41 - mih: <@pdurbin:matrix.org "Thanks!"> https://github.com/IQSS/dataverse/issues/9549

done
Mon, Apr 24, 2023, 09:30:54 - pdurbin: mih: thank you!!
Mon, Apr 24, 2023, 09:33:25 - pdurbin: Heh. üçª. So you switched to a different API? That's fine. Another fix might be this: https://github.com/gdcc/pyDataverse/pull/145 (adding application/json as a header)
Mon, Apr 24, 2023, 09:34:31 - pdurbin: But that was an old backward-incompaible change. It seems like yours might be newer. You're pretty sure it worked fine with 5.12?
Mon, Apr 24, 2023, 09:35:02 - pdurbin: I should see if Jan Range has time to take a look at this.
Mon, Apr 24, 2023, 10:06:32 - Don Sizemore: @pdurbin I have something of a conundrum if you have a minute at some point today
Mon, Apr 24, 2023, 13:15:35 - pdurbin: Don Sizemore: the node version thing?
Mon, Apr 24, 2023, 13:16:05 - Don Sizemore: @pdurbin yeah, I think I know how I'm going to work around it, I just wish things were cleaner.
Mon, Apr 24, 2023, 13:16:23 - pdurbin: what do they call that thing, curl shell
Mon, Apr 24, 2023, 13:16:40 - Don Sizemore: I was discouraged from using that in Dataverse-Ansible, many years ago ;)
Mon, Apr 24, 2023, 13:16:43 - Don Sizemore: shebang
Mon, Apr 24, 2023, 13:16:55 - pdurbin: yeah, but more specific
Mon, Apr 24, 2023, 13:17:04 - Don Sizemore: RCE?
Mon, Apr 24, 2023, 13:18:20 - pdurbin: curl pipe bash?
Mon, Apr 24, 2023, 13:18:36 - pdurbin: pipe installers?
Mon, Apr 24, 2023, 13:19:31 - pdurbin: anyway, yeah, probably an antipattern
Mon, Apr 24, 2023, 14:54:01 - sythemeta847 joined the room
Tue, Apr 25, 2023, 00:20:41 - prsridha joined the room
Tue, Apr 25, 2023, 00:25:33 - prsridha: Hello, I seem to be having an issue with delete - when I select less than a page of files and click "delete," the deletion is completed successfully. However, when I try to delete all 426 files in the dataset by selecting "Select all 426 files in this dataset" and clicking "delete," nothing happens. Could you let me know how to go about this?
Tue, Apr 25, 2023, 13:43:54 - pdurbin: prsridha: hmm. I'm asking in Slack. Not sure, to be honest. I suppose you could write a script to delete them in batches.
Tue, Apr 25, 2023, 17:24:55 - pdurbin: What version of Dataverse are you running?
Tue, Apr 25, 2023, 17:25:07 - pdurbin: And can you reproduce it at https://demo.dataverse.org ?
Wed, Apr 26, 2023, 05:44:56 - therucidlacey joined the room
Wed, Apr 26, 2023, 17:46:50 - Roy Pardee (KaPoW) joined the room
Wed, Apr 26, 2023, 18:53:08 - Roy Pardee (KaPoW): if I have a pretend dset in demo.dataverse.org, and click the 'contact owner' button, I should get an e-mail at the address I registered as owner of said data, right?
Wed, Apr 26, 2023, 19:03:51 - juliangautier: Heya Roy Pardee (KaPoW):  The email address in the metadata field called Point of Contact E-mail field will get any emails sent through that Contact Owner form
Wed, Apr 26, 2023, 19:06:54 - Roy Pardee (KaPoW) sent an image. (Media omitted)
Wed, Apr 26, 2023, 19:06:56 - Roy Pardee (KaPoW): Thanks juliangautier ! So that should be me. I wonder if it's getting caught in a spam-trap or something...
Wed, Apr 26, 2023, 19:09:22 - Roy Pardee (KaPoW): Mostly I just wanted to (dis)confirm that the demo site does indeed send e-mails.
Wed, Apr 26, 2023, 19:12:56 - juliangautier: Yeah it does. I just tried and got the email in my inbox. There's a known issue with emails sent through Dataverse being flagged as spam. But I'm not sure of the technical details enough to say if this is related 
Wed, Apr 26, 2023, 19:15:39 - juliangautier: At the Harvard Dataverse we seem to be reevaluating something related to what's described in https://github.com/IQSS/dataverse/issues/4580
Wed, Apr 26, 2023, 19:22:31 - Roy Pardee (KaPoW): Cool cool--thanks!
Wed, Apr 26, 2023, 19:25:36 - Roy Pardee (KaPoW): One other question--possibly out of scope here. If my org is super-paranoid about actually putting substantive data out of our local control, would it be acceptable use to use dataverse to register the existence & metadata of various potentially-shareable-under-the-right-circumstances datasets, but not actually upload that data? The idea being that candidate users will use the 'contact owner' function to direct requests to us for processing?
Wed, Apr 26, 2023, 20:34:54 - pdurbin: Roy Pardee (KaPoW): sure, an example is this dataset of Facebook URLs where the data itself is hosted at Facebook. We sometimes call this a "metadata only" dataset (or record): https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/TDOAPG
Thu, Apr 27, 2023, 01:51:37 - poikilotherm: Roy Pardee (KaPoW): to extend a bit on this: making data [FAIR](https://www.go-fair.org/fair-principles/) does not require public availability of data. Metadata publications are pretty common and one of the usual use cases of Dataverse. It usually is called a "registry" in these cases instead fof "repository". [In our installation](https://data.fz-juelich.de), we try to focus on the metadata and keep the data out - mostly not because of paranoia but because our institutes very often do not get storing the data longterm wrong and we see not much use in duplicating the data. Also, we have a lot of data that is rather large (TB/PB) and that is simply impossible to have a copy of. In these cases, metadata publications make up a pretty good alternative, as the data is at least FAIR and referencable.
Thu, Apr 27, 2023, 01:55:04 - poikilotherm: (We actually did take this one step further and added a new field type to allow real URLs. This is a fork... https://data.fz-juelich.de/guide/juelich/data-linking.html)
Thu, Apr 27, 2023, 04:15:21 - prsridha: image.png (Media omitted)
Thu, Apr 27, 2023, 04:15:39 - prsridha: Thanks for looking into it! This is how it's looking from my end. I have deleted the files manually for now.
Thu, Apr 27, 2023, 06:45:31 - pdurbin: prsridha: manually? In smaller batches? One at a time? Using the API? Sorry, I'm not sure what you mean. üòÖ Thanks for the screenshot! Is that from the demo server? Or your own installation?
Thu, Apr 27, 2023, 08:03:14 - Pallinger P√©ter: Hello! One of our test servers fails to run the dataverse installer (I tried to install v5.13), due to
"Internal Exception: java.sql.SQLException: Error in allocating a connection. Cause: Access denied to execute this method : setURL"
Thu, Apr 27, 2023, 08:04:22 - Pallinger P√©ter: I am a bit stumped to how to debug this issue. I could just reformat the whole VM, but I would like to know why this problem occurs...
Thu, Apr 27, 2023, 08:05:31 - Pallinger P√©ter: It would seem that the sql password is bad, but it is the same as on out other test server, which is working fine...
Thu, Apr 27, 2023, 08:09:59 - Pallinger P√©ter: First, I would like to know how the POSTGRES\_PASSWORD in the default.config is used... How can I check whether it is set correctly in payara? 
Thu, Apr 27, 2023, 08:20:51 - Pallinger P√©ter: Or could the cause possibly be that setURL is an sql function that is not defined in the current database?
Thu, Apr 27, 2023, 09:05:54 - pdurbin: I only see `setURL` once in the codebase and it's not a SQL thing:

```
$ ack setURL src
src/main/java/edu/harvard/iq/dataverse/DatasetVersion.java
1609:    public String getReturnToDatasetURL(String serverName, Dataset dset) {
```
Thu, Apr 27, 2023, 09:11:21 - Pallinger P√©ter: I think it is in eclipselink, org.eclipse.persistence. .... I dug somewhat into the source code after examining the stack trace...
Thu, Apr 27, 2023, 09:16:39 - Pallinger P√©ter: I would seem that I somehow misset the SQL connection parameters, but I am still not sure what parameters the server uses. The postgres server itself does not report any connection attempts in the log, although I dialed up the log level to DEBUG1... 
Thu, Apr 27, 2023, 09:18:24 - Pallinger P√©ter: Which would point to the server adress to be misset, but it seems correct in the domain.xml (is that the correct place for sql connection params like dataverse.db.host?).
Thu, Apr 27, 2023, 09:21:47 - Pallinger P√©ter: I can manually connect to postgres with psql, giving the apparently same parameters that dataverse is set to use...
Thu, Apr 27, 2023, 09:23:47 - pdurbin: Ok. So you're saying if I use the wrong password for postgres I should expect this error?
Thu, Apr 27, 2023, 09:26:54 - Pallinger P√©ter: maybe, I will try to set the wrong password on my other test server...
Thu, Apr 27, 2023, 09:40:04 - Pallinger P√©ter: Unfortunately, the password error is different:
FATAL: password authentication failed 
for user "dvnuser"
Thu, Apr 27, 2023, 09:41:04 - Pallinger P√©ter: so, I am again stumped about the cause of the above setURL error...
Thu, Apr 27, 2023, 09:49:01 - pdurbin: Any ideas, poikilotherm (CEST,UTC+2) ?
Thu, Apr 27, 2023, 09:53:25 - poikilotherm: setURL is coming from the underlying JDBC class and refers to some wrong JDBC URL
Thu, Apr 27, 2023, 09:53:35 - poikilotherm: Please check your credentials
Thu, Apr 27, 2023, 09:54:07 - poikilotherm: AFAIK the installer is battle tested to create the aliases etc
Thu, Apr 27, 2023, 09:54:18 - poikilotherm: But of course something might have gone wrong there
Thu, Apr 27, 2023, 09:55:13 - pdurbin: containerization working group meeting in 5 minutes: https://ct.gdcc.io
Thu, Apr 27, 2023, 14:30:16 - Miguel Silva: <@pdurbin:matrix.org "containerization working group m..."> As soon I finish prototyping my smart DAQ with swarm capabilities I intend to take a peak at the dataverse source code to propose some improvements in regards to live data acquisition and  open science ... Almost there 
Thu, Apr 27, 2023, 14:30:31 - Miguel Silva sent an image. (Media omitted)
Thu, Apr 27, 2023, 14:31:16 - Miguel Silva: Here's the newest smart DAQ with SWARM capabilities 
Thu, Apr 27, 2023, 14:31:45 - Miguel Silva: Available on my public  GitHub profile to anyone use 
Thu, Apr 27, 2023, 14:33:11 - Miguel Silva: ( Open hardware with CC licensing )
Fri, Apr 28, 2023, 09:18:41 - @archive:matrix.org joined the room
Fri, Apr 28, 2023, 09:19:25 - pdurbin: New logs for this channel! Check 'em out! https://archive.matrix.org/r/dataverse:matrix.org
Fri, Apr 28, 2023, 09:36:49 - pdurbin: I just switched us over: https://github.com/IQSS/chat.dataverse.org/pull/24
Fri, Apr 28, 2023, 09:55:34 - pdurbin changed the topic to "Dataverse is open source research data repository software: http://dataverse.org

Public logs at https://archive.matrix.org/r/dataverse:matrix.org".
Fri, Apr 28, 2023, 13:29:10 - poikilotherm: Fancy pants!
Fri, Apr 28, 2023, 13:51:39 - pdurbin: I know right
Fri, Apr 28, 2023, 15:57:53 - pdurbin: My daughter is stage crew for her 8th grade musical, Finding Nemo Jr., premiering two hours from now! I'm off! Have a great weekend! üêüÔ∏è
Sat, Apr 29, 2023, 06:34:34 - imlostlmao joined the room
Sun, Apr 30, 2023, 18:03:06 - Torsten Osigus joined the room
Mon, May 1, 2023, 10:57:17 - Don Sizemore: @poikilotherm `dataverse.files.directory` is only used for temporary files these days, correct? I'm asking because I ran across `target/classes/META-INF/microprofile-config.properties:dataverse.files.directory=/tmp/dataverse`
Mon, May 1, 2023, 11:08:44 - poikilotherm: No it's not!
Mon, May 1, 2023, 11:08:56 - poikilotherm: There is a list in the docs where this stuff is used
Mon, May 1, 2023, 11:09:19 - poikilotherm: (I asked myself the same thing when going for Mpconfig)
Mon, May 1, 2023, 11:09:38 - poikilotherm: This is a sane default for most installations and development
Mon, May 1, 2023, 11:10:16 - poikilotherm: Btw this directory is the default which had been present in the code before as well
Mon, May 1, 2023, 11:39:45 - pdurbin: a pre-existing condition ü§í
Mon, May 1, 2023, 14:22:17 - Don Sizemore: @poikilotherm if u hapi i'm hapi, just double-checking
Tue, May 2, 2023, 07:51:13 - pdurbin: Awesome thread about running Dataverse in containers for API testing: https://dataverse.zulipchat.com/#narrow/stream/377090-python/topic/containers.20for.20API.20testing
Tue, May 2, 2023, 08:15:21 - pdurbin: Community call in a little under 3 hours, including a demo of Pooch! https://dataverse.org/community-calls
Tue, May 2, 2023, 14:26:55 - pdurbin: Pooch is now on DataverseTV: https://groups.google.com/g/dataverse-community/c/GKJty_qNDbU/m/BtTnOrmCAwAJ
Wed, May 3, 2023, 05:09:25 - zbenta: Pooch looks promissing, it would be great if we could download all the files, metadata and permissions associated with a said dataset and upload them to a different dataverse instance.
Wed, May 3, 2023, 05:16:42 - zbenta: We asked our CERT team to do a blackbox security check of our dataverse installation, they found two vulnerabilities, one regarding the jQuery UI 1.13.0 version (https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2022-31160) and another regarding the absence of Anti-CSRF tokens. Should we create an issue pdurbin ? The version of dataverse we are using is v5.13.
Wed, May 3, 2023, 08:21:18 - pdurbin: zbenta: yuck. Can you please email our security address? https://guides.dataverse.org/en/5.13/installation/config.html#reporting-security-issues
Wed, May 3, 2023, 08:23:36 - pdurbin: zbenta: as for moving datasets from one installation to another, I believe this is now possible using the BagIt format.
Wed, May 3, 2023, 09:08:16 - pdurbin: Message deleted
Wed, May 3, 2023, 09:08:39 - pdurbin: zbenta: for more on round trip and BagIt, please see https://groups.google.com/g/dataverse-community/c/07h0Ca-Ai1I/m/19U7Xlt7AwAJ
Wed, May 3, 2023, 09:12:37 - zbenta: > zbenta: yuck. Can you please email our security address? https://guides.dataverse.org/en/5.13/installation/config.html#reporting-security-issues

I'll do so.
Wed, May 3, 2023, 10:22:10 - pdurbin: Thanks!
Wed, May 3, 2023, 11:07:37 - zbenta: Dataverse also has an issue with the session cookie being sent in cleartext, we tried using a session cookie from a coleague in my browser and I was able to impersonate him.
Wed, May 3, 2023, 11:52:58 - pdurbin: zbenta: please email security about that too
Wed, May 3, 2023, 11:53:36 - pdurbin: zbenta: also, this channel is logged so it's not the best place to talk about security üòÖ
Wed, May 3, 2023, 11:54:57 - zbenta: > Dataverse also has an issue with the session cookie being sent in cleartext, we tried using a session cookie from a coleague in my browser and I was able to impersonate him.

You can skip this one, it was a misunderstanding, as for the others, we have sent an email regarding the issues.
Wed, May 3, 2023, 11:56:48 - pdurbin: Thanks!
Wed, May 3, 2023, 11:57:34 - pdurbin: zbenta: I can also give you access to https://github.com/IQSS/dataverse-security/issues if you like. Please just let me know.
Wed, May 3, 2023, 12:01:04 - zbenta: Sure thing, why not
Wed, May 3, 2023, 13:09:34 - pdurbin: zbenta: done! Do you see an invite at https://github.com/IQSS ?
Thu, May 4, 2023, 16:47:48 - Santiago Florez joined the room
Thu, May 4, 2023, 17:04:21 - Santiago Florez: Hello everyone
I want to change the way to display the metadata citation in the subject field. I need the field to be displayed in URL format. I've been thinking about editing the tsv.
Thu, May 4, 2023, 17:08:00 - pdurbin: Santiago Florez: if you get it working, please open a pull request! ‚ù§Ô∏è
Thu, May 4, 2023, 17:08:51 - pdurbin: Do you have a screenshot or a mockup of how you would like it to look?
Thu, May 4, 2023, 17:09:48 - Santiago Florez: Yes, hold on a moment
Thu, May 4, 2023, 17:14:45 - Santiago Florez sent an image. (Media omitted)
Thu, May 4, 2023, 17:15:14 - pdurbin: Interesting. And where does "Chemistry" link to?
Thu, May 4, 2023, 17:16:16 - Santiago Florez: when I click on it, I search for that metadata in all Dataverses and datasets.
Thu, May 4, 2023, 17:17:38 - pdurbin: I see
Thu, May 4, 2023, 17:17:39 - Santiago Florez: i¬¥ve modified the displayFormat in the tsv to "<a href='/dataverse/#{dataverse.alias}?q=""#VALUE""' target=""_blank"" rel=""noopener"">#VALUE</a>"
Thu, May 4, 2023, 17:17:57 - pdurbin: And maybe the same for author. If you click an author, you see all the datasets by that author?
Thu, May 4, 2023, 17:19:11 - Santiago Florez: Noup, I just need to change that field
Thu, May 4, 2023, 17:21:31 - Santiago Florez: And I've tried running solr's update***.sh. I don't know if I need to do something else.
Thu, May 4, 2023, 17:24:57 - pdurbin: did you reload citation.tsv? with curl?
Thu, May 4, 2023, 17:26:59 - pdurbin: this: https://guides.dataverse.org/en/5.13/admin/metadatacustomization.html#reloading-a-metadata-block
Thu, May 4, 2023, 17:28:15 - Santiago Florez: jmmm no
Thu, May 4, 2023, 17:28:35 - Santiago Florez: I gonna try
Thu, May 4, 2023, 17:41:31 - Santiago Florez: Once I run the curl command, should I see changes to a new data set? or on all the datasets that I had created
Thu, May 4, 2023, 18:52:18 - pdurbin: both
Fri, May 5, 2023, 06:52:23 - Ramin joined the room
Fri, May 5, 2023, 07:06:41 - Ramin: Hello, I am trying to add a new metadatablock (for local contexts labels). I could add my tsv with the api endpoint. However whenever I want to save a dataset with some fields of that metadataset, I get: "The metadata could not be updated. If you believe this is an error, please contact Root Support for assistance.".  This is the tsv file that I started: https://github.com/RIDAGOP-IDS-Toolkit/tklabel/blob/main/localcontexts_dv_metadatablock.tsv
Fri, May 5, 2023, 07:13:50 - Ramin: Actually, I just notice, that with the latest version of the tsv, the metadata of a dataset DOES update, even tho it still shows the same error message 
Fri, May 5, 2023, 07:32:33 - poikilotherm: Did you adapt your Solr schema as described in the Metadata Customization Guide?
Fri, May 5, 2023, 07:35:25 - Ramin: No! I didnt read that section :) thanks!
Fri, May 5, 2023, 07:51:15 - pdurbin: Don't mind me, I'm just testing a Matrix threads thing: https://github.com/IQSS/chat.dataverse.org/issues/16
Fri, May 5, 2023, 08:23:46 - pdurbin: One more post. Still testing. Please ignore.
Fri, May 5, 2023, 08:43:32 - Ramin:  after updating schema, it cannot reload. I am getting a 500, and in the response trace I see (down in the trace): "...Duplicate field definition for 'accessToSources' [[[accessToSources{type=text_en,properties=indexed,tokenized,stored,useDocValuesAsStored,uninvertible}]]] and [[[accessToSources{type=text_en,properties=indexed,tokenized,stored,useDocValuesAsStored,uninvertible}]]]\n" the field "accessToSou" is not from me. its the very first field in the file. 
Fri, May 5, 2023, 08:45:12 - Ramin: luckily I have a backup of the schema :). I could reload that... I'm gonna try it again and look how the target-schema looks like after update-fields
Fri, May 5, 2023, 08:48:23 - pdurbin: Yeah, it sounds like your schema.xml file may have gotten trashed. üòÖ
Fri, May 5, 2023, 08:48:50 - Ramin: indeed that field (and probably all of them) are twice  in field and copyField
Fri, May 5, 2023, 08:49:21 - Ramin: well is it ok to just manully copy my new field into the schema file?
Fri, May 5, 2023, 08:49:42 - pdurbin: Oh! Just one field? Sure, I'd try just adding it to schema.xml
Fri, May 5, 2023, 08:50:04 - Ramin: no not one... but an overseeable number, for now :)
Fri, May 5, 2023, 08:50:26 - Ramin: sorry "fields" :)
Fri, May 5, 2023, 08:50:32 - pdurbin: You should see your new fields at curl http://localhost:8080/api/admin/index/solr/schema
Fri, May 5, 2023, 08:50:39 - pdurbin: You can copy and past from that output.
Fri, May 5, 2023, 08:50:47 - pdurbin: That's what the script does. It tries to automate this.
Fri, May 5, 2023, 08:51:15 - Ramin: yes, piping that file to the update-fields.sh trashed it. I am just copy over what I need. 
Fri, May 5, 2023, 08:51:16 - pdurbin: This is documented at https://guides.dataverse.org/en/5.13/admin/metadatacustomization.html#updating-the-solr-schema
Fri, May 5, 2023, 08:52:54 - pdurbin: Ramin: oh hey, would you be able to shoot me a description for your demo at https://dataverse.org/dataversetv ?
Fri, May 5, 2023, 09:09:45 - Ramin: sure! here you go: The RIDAGOP (Indigenous data sovereignty) toolkit (https://toolkit.ridagop.net/) allows developers to create generic data-management processes, connect them to data-repository systems. This demonstrates 2 processes; adding Local Contexts Labels to datasets and how to create a customizable data access application processes.

Fri, May 5, 2023, 09:11:18 - Ramin: ok. manually adding them worked. and saving the dataset goes through ! :)  I might write a python script to do the update in the future. not sure why the update-fields didnt work
Fri, May 5, 2023, 09:42:20 - pdurbin: Ramin: thanks! Are you slides online? If so, I can add a link.
Fri, May 5, 2023, 09:44:40 - pdurbin: Ramin: please feel free to open an issue about it: https://github.com/IQSS/dataverse/issues
Fri, May 5, 2023, 17:34:08 - pdurbin: Have a great weekend, everyone!
Sun, May 7, 2023, 04:12:55 - @p4addy:matrix.org joined the room
Sun, May 7, 2023, 06:44:41 - ralph joined the room
Sun, May 7, 2023, 07:22:32 - g-tenko-r joined the room
Mon, May 8, 2023, 08:27:35 - Ramin: Hi Phil,  I just uploaded it here: https://drive.google.com/file/d/1lnYVYsTdPwIjn-QY8hXOeaZ1BiAvbWsT/view?usp=share_link
Mon, May 8, 2023, 08:37:53 - Ramin: Hey, the metadatablock is almost done...
However I still have some issues with displayFormat.
this written into the cell only leads to showing the html as it is (with value, name properly inserted) 
<p>Label type: Seasonal<br/></p> LANG LABEL TEXT , and doesnt turn it into html
Mon, May 8, 2023, 08:38:11 - Ramin: <p>#NAME: #VALUE<br/></p>
Mon, May 8, 2023, 08:55:41 - Ramin: another question... :) nested compounds dont work so well do they? 
Mon, May 8, 2023, 09:09:29 - pdurbin: Thanks! Now there's a link to your slides on DataverseTV
Mon, May 8, 2023, 09:11:28 - pdurbin: Nope. You mean https://github.com/IQSS/dataverse/issues/9200 right?
Mon, May 8, 2023, 12:13:16 - pdurbin left the room
Mon, May 8, 2023, 12:13:26 - pdurbin joined the room
Mon, May 8, 2023, 17:27:58 - Ramin: nice!, thanks! I will present the metadatablock tmrw at the IDS symposium. I just need to loop it back to the folks of Local Contexts and then it would be ready soon. The repo I am currently using also contains a small sql script (https://github.com/RIDAGOP-IDS-Toolkit/tklabel/blob/main/metadata_clean.sql) that might be useful for as well. It helps removing rows in several databases related to metadatablocks. I used it to remove draft metadatablocks (I needed those, because the controlledVocabulary entries wouldn't go away, when I changed them.   
Tue, May 9, 2023, 11:48:09 - Gregor Middell left the room
Tue, May 9, 2023, 14:41:10 - Don Sizemore: @pdurbin for your review before submitting PR https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/compare/266_react_frontend?expand=1
Tue, May 9, 2023, 14:43:03 - pdurbin: Looks fine but I'm confused. I thought the version of node was too old or something.
Tue, May 9, 2023, 20:05:52 - Joe Gonzalez: <@donsizemore:matrix.org "that's a lot of complaint about ..."> I did, and while I'm not sure exactly what changed, I started over with a fresh server and didn't run into the issue again. So I must have introduced something that caused the issue the first time around. Thanks Don!
Tue, May 9, 2023, 23:21:14 - sam: Does Dataverse have a way to store the encoding of text files?
Wed, May 10, 2023, 06:59:23 - Don Sizemore: @pdurbin minimum of 16, README recommends 19, 20 introduces a potentially useful permissions model
Wed, May 10, 2023, 07:01:16 - pdurbin: charmonium: I don't believe so. I guess you could manually upload an auxiliary file describing the encoding. Or you could add it to the description. Please feel free to create an issue about this.
Wed, May 10, 2023, 07:01:28 - pdurbin: Don Sizemore: so you're using node 16?
Wed, May 10, 2023, 07:02:08 - Don Sizemore: @pdurbin appears to generate appropriate output using version 18. will bump to 20 once it's available as a module.
Wed, May 10, 2023, 07:02:51 - pdurbin: Cool, 18 is the LTS anyway. Seems reasonable.
Wed, May 10, 2023, 12:06:38 - sam: <@pdurbin:matrix.org "charmonium: I don't believe so. ..."> The GitHub issue (with example): https://github.com/IQSS/dataverse/issues/9587
Wed, May 10, 2023, 12:16:07 - pdurbin: charmonium: I love example files! Thank you! ‚ù§Ô∏è
Wed, May 10, 2023, 12:17:47 - sam: Glad to contribute!
Wed, May 10, 2023, 12:20:08 - poikilotherm: Johannes Darms: this is for you! https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/faster.20redeploy
Wed, May 10, 2023, 12:20:46 - poikilotherm: Come join us on Zulip Johannes Darms vera_c - latest and greatest dev talk. Jan Range is there, too.
Wed, May 10, 2023, 12:21:01 - poikilotherm: (Everyone else is welcome, too, of course)
Wed, May 10, 2023, 12:34:43 - pdurbin: Johannes Darms: this is also for you (so you can write your own exporter for the HL7 format): https://github.com/IQSS/dataverse/pull/9175
Wed, May 10, 2023, 17:20:12 - pdurbin: Johannes Darms: I just left you some initial feedback at https://github.com/IQSS/dataverse/pull/9532 (bearer token auth)
Thu, May 11, 2023, 07:23:58 - Don Sizemore: @pdurbin that dataverse-ansible/ / dataverse/ bit exists because of Ansible Galaxy. I'm not sure how many people use the role via Galaxy, if any.
Thu, May 11, 2023, 07:36:50 - pdurbin: sorry, which bit? about installing node?
Thu, May 11, 2023, 08:54:10 - pdurbin: Just a reminder that we switched to an earlier time. The CWG is meeting in a little over half an hour: https://ct.gdcc.io
Thu, May 11, 2023, 09:54:15 - @p4addy:matrix.org left the room
Thu, May 11, 2023, 11:34:53 - Johannes Darms: I followed the MR :) Happy to see that merged!
Thu, May 11, 2023, 11:35:04 - Johannes Darms: Many thanks!
Thu, May 11, 2023, 11:35:21 - Johannes Darms: I'll set it up. Is Zulip the new approach and matrix is deprecatad? 
Thu, May 11, 2023, 11:41:26 - pdurbin: Maybe? I left a note about this in the corner of Zulip.
Thu, May 11, 2023, 14:10:58 - Don Sizemore: @pdurbin quick Q about an _old_ issue?
Thu, May 11, 2023, 14:11:05 - pdurbin: hit me
Thu, May 11, 2023, 14:12:43 - Don Sizemore: I'm _finally_ looking at Oliver's Dataverse-Ansible issue: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/6
which I've mostly sat on in case someone wanted to install an older version of Dataverse. However, 3 years later (and now that we're moving to Payara6)
I'm just going to remove those two "standard" lines but leave the custom-JDBC option in place. Do you see any potential problem with that?
Thu, May 11, 2023, 14:14:48 - pdurbin: Hmm. Would you be able to go ahead and make a PR?
Thu, May 11, 2023, 14:15:38 - pdurbin: Also, what if I create an issue to enable the feature flag that lets the SPA auth against the backend?
Thu, May 11, 2023, 14:16:53 - Don Sizemore: üëçÔ∏è
Thu, May 11, 2023, 14:24:32 - pdurbin: Thanks, here you go: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/279
Thu, May 11, 2023, 14:24:55 - pdurbin: I used to ask for Ansible stuff all the time. Why did I stop?
Thu, May 11, 2023, 14:27:02 - pdurbin: Anyway, if I see the postgres PR, I think I'll have more context. I hope. üòÑ
Thu, May 11, 2023, 14:30:24 - Don Sizemore: hmmm. `log in and get the associated session cookie from the browser`
Thu, May 11, 2023, 14:33:11 - pdurbin: off by default, please üòÑ
Thu, May 11, 2023, 14:34:10 - pdurbin: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/pull/280 is helping. We put the postgres driver in the war these days?
Thu, May 11, 2023, 14:34:40 - pdurbin: I guess that's exactly what poikilotherm (CEST,UTC+2) said in issue 6.
Thu, May 11, 2023, 14:34:59 - pdurbin: So yeah, stop adding it again, I guess.
Thu, May 11, 2023, 14:37:05 - pdurbin: approved
Thu, May 11, 2023, 14:37:07 - pdurbin: (untested)
Thu, May 11, 2023, 14:38:35 - Don Sizemore: so, for Docker development one would set `DATAVERSE_FEATURE_API_SESSION_AUTH=1` as an env var.
looks like domain.xml ranks third in order of preference? https://docs.payara.fish/community/docs/Technical%20Documentation/MicroProfile/Config/Overview.html
Thu, May 11, 2023, 14:39:20 - Don Sizemore: we haven't distributed a PG JDBC driver for a while but I kept it in there to support installation of older versions. probably kept it far too long.
Thu, May 11, 2023, 14:39:46 - pdurbin: sure, an env var should work
Thu, May 11, 2023, 14:39:56 - pdurbin: many ways to skin that cat üê±
Thu, May 11, 2023, 14:40:13 - Don Sizemore: so, Ansible would need to set that for the service account user, in some dot file read by multiple shells
Thu, May 11, 2023, 14:40:33 - pdurbin: you could also use a JVM option
Thu, May 11, 2023, 14:40:56 - Don Sizemore: a config file would be preferable, if there's a preferred place to stash those. would the jvm-option be simply api.session.auth?
Thu, May 11, 2023, 14:46:22 - pdurbin: I'm pretty sure it's dataverse.api-session-auth but the docs aren't super clear
Thu, May 11, 2023, 14:46:53 - Don Sizemore: will test ^^. thanks
Thu, May 11, 2023, 14:47:11 - pdurbin: yep:

```
        <jvm-options>-Ddataverse.feature.api-session-auth=true</jvm-options>
```
from my dev1 server
Thu, May 11, 2023, 14:47:30 - pdurbin: oh, "feature" in there too ^^
Thu, May 11, 2023, 14:47:37 - pdurbin: glad I checked üòÖ
Thu, May 11, 2023, 14:47:40 - Don Sizemore: excellent. syntax is crucial
Thu, May 11, 2023, 14:47:51 - pdurbin: need better docs
Thu, May 11, 2023, 14:50:29 - Don Sizemore: I may enable it in the Jenkins YML and disabled it elsewhere
Thu, May 11, 2023, 14:50:56 - Don Sizemore: not that ITs can currently do anything with it, but it'll be there
Thu, May 11, 2023, 14:51:09 - pdurbin: sure, sounds fine
Thu, May 11, 2023, 14:51:43 - pdurbin: when I spun up dev1 a few months ago I believe I used the jenkins yml
Thu, May 11, 2023, 14:51:59 - pdurbin: I figure it gets tested a lot üòÑ
Thu, May 11, 2023, 14:52:08 - Don Sizemore: oh, BTW: I booked the Ibis north today, you saw. I also booked a hotel Thursday night within walking distance of the Porto airport. I am so relieved to have this stuff squared away.
Thu, May 11, 2023, 14:52:34 - Don Sizemore: so I can roll out of bed Friday morning and be on the plane by 1230
Thu, May 11, 2023, 14:53:14 - pdurbin: Hmm, that's smart, to spend the last night in Porto.
Thu, May 11, 2023, 14:53:34 - Don Sizemore: As long as my luggage makes it there, and I make it back, I'm good.
Thu, May 11, 2023, 14:54:01 - pdurbin: I just found out that three more people from IQSS are going, in addition to the original four.
Thu, May 11, 2023, 14:54:20 - Don Sizemore: excellent! y'all are going to need a Vrbo
Thu, May 11, 2023, 14:54:32 - pdurbin: ha, Sonia suggested that actually
Thu, May 11, 2023, 14:54:43 - pdurbin: I said it would bring us together like never before.
Thu, May 11, 2023, 14:54:43 - Don Sizemore: get one with a pool, I'll come visit
Thu, May 11, 2023, 14:55:24 - pdurbin: absolutely
Thu, May 11, 2023, 15:11:22 - poikilotherm: <@pdurbin:matrix.org "I used to ask for Ansible stuff ..."> Got a container now üòú
Thu, May 11, 2023, 15:12:10 - pdurbin: I was also told to stop spinning up so many EC2 instances. Too expensive. üí∞Ô∏è
Thu, May 11, 2023, 15:12:51 - pdurbin: Hey, who wants to help with a Keycloak thing? conf/keycloak/oidc-realm.json wasn't imported.
Thu, May 11, 2023, 15:12:56 - poikilotherm: <@donsizemore:matrix.org "so, for Docker development one w..."> No. Second. These are system properties, which are defined with ordinal 300 IIRC in the MPCOnFIg spec
Thu, May 11, 2023, 15:14:10 - poikilotherm: <@donsizemore:matrix.org "a config file would be preferabl..."> Please make use of the directory config source, that's why I extended it
Thu, May 11, 2023, 15:16:18 - poikilotherm: I do have that dream of a config file as well though
Thu, May 11, 2023, 15:16:48 - poikilotherm: Anyone keen on experimenting to write a simple JDBC driver backed by a TOML file? It only needs read ops and a file watcher to reload on changes 
Thu, May 11, 2023, 15:22:05 - poikilotherm: pdurbin: wrt to your ansible PR comment...
Thu, May 11, 2023, 15:22:09 - poikilotherm: Maybe this is a German language thing, but in this context saying

> now

is hilarious ü§£
Thu, May 11, 2023, 15:22:22 - poikilotherm: ü•∞
Thu, May 11, 2023, 15:24:54 - pdurbin: because it's been years?
Thu, May 11, 2023, 15:29:20 - pdurbin: bah, Keycloak. what am I doing?
Thu, May 11, 2023, 15:34:19 - pdurbin: ah, ha, maybe I found it
Thu, May 11, 2023, 15:37:00 - poikilotherm: Woo-hoo! Can't do much on my mobile I'm afraid
Thu, May 11, 2023, 15:37:25 - poikilotherm: Just rant, gossip and be a weirdo üôàüôâüôä
Thu, May 11, 2023, 15:37:34 - pdurbin: it was a confusing UI thing
Thu, May 11, 2023, 15:37:46 - poikilotherm: Oh?
Thu, May 11, 2023, 15:37:49 - pdurbin: I'm like, how do I list my realms?
Thu, May 11, 2023, 15:37:56 - pdurbin: but you're in a realm
Thu, May 11, 2023, 15:38:01 - pdurbin: the master realm
Thu, May 11, 2023, 15:38:09 - pdurbin: and you have to figure out how to switch to the other one
Thu, May 11, 2023, 15:38:10 - poikilotherm: D'Oh!
Thu, May 11, 2023, 15:38:20 - pdurbin: which I now (NOW I say) know how to do
Thu, May 11, 2023, 15:38:42 - poikilotherm: I have no idea how I'd do that
Thu, May 11, 2023, 15:39:39 - pdurbin: well now there's a handy screenshot: https://github.com/IQSS/dataverse/pull/9532#issuecomment-1544573402
Thu, May 11, 2023, 15:39:52 - poikilotherm: Up till now I found the Keycloak docs not holding up to our Dataverse standards. So I'd even have no clue where to look in thos
Thu, May 11, 2023, 15:40:41 - poikilotherm: Aha!
Thu, May 11, 2023, 16:14:18 - pdurbin: I added more screenshots and errors. Anything I'm doing obviously wrong? https://github.com/IQSS/dataverse/pull/9532#issuecomment-1544573402
Thu, May 11, 2023, 16:14:58 - Don Sizemore: @poikilotherm is "now" funny because I've sat on that issue for 3 years, or is there a double entendre?
Thu, May 11, 2023, 16:18:28 - pdurbin: must be a German thing
Thu, May 11, 2023, 17:20:17 - pdurbin: üçª
Fri, May 12, 2023, 10:01:54 - Vincent Arel-Bundock joined the room
Fri, May 12, 2023, 13:40:44 - Don Sizemore: poikilotherm (CEST,UTC+2): on directory config source. is the default `domain1/secrets/` sufficient? I ask because docker-compose-dev.yml uses `docker-dev-volumes/app/secrets/`
Fri, May 12, 2023, 14:55:55 - poikilotherm: Don Sizemore: it may be sufficient if you like it üòÖ
Fri, May 12, 2023, 14:56:30 - poikilotherm: I'm deliberately changing this in the container to /secrets so it becomes easier to use in that context
Fri, May 12, 2023, 14:57:12 - poikilotherm: (Usually secrets do become mounted as files, mapped from some place else, so making the path shorter is what folks love to see)
Fri, May 12, 2023, 15:06:49 - pdurbin: Our annual IT summit is back for the first time since the pandemic but it conflicts with #dataverse2023. Bummer. üò¢ https://itsummit.harvard.edu
Fri, May 12, 2023, 15:08:18 - pdurbin: "Self-directed option: choose your own topic" on the hackathon page. We could have had a hackathon for Dataverse!
Fri, May 12, 2023, 15:13:24 - poikilotherm: We still can. I'll be there on Saturday already. All Sunday for happy hacking!
Fri, May 12, 2023, 15:13:47 - pdurbin: And Thursday! Who's with me?!
Fri, May 12, 2023, 15:14:29 - poikilotherm: I have a suspicion that Johannes Darms might be there on the same days. He might be flying in from DUS just as me üòú
Fri, May 12, 2023, 15:25:44 - Don Sizemore: poikilotherm (CEST,UTC+2): I'm wrestling with using `secrets/` to include non-sensitive configuration bits, but happy to do so to keep it all in one directory.
Fri, May 12, 2023, 15:50:04 - poikilotherm: I'm not sure what your problem may be... ü§î 
Fri, May 12, 2023, 16:05:08 - pdurbin: "Hi Philip- I‚Äôll make a note to connect for next year‚Äôs planning, maybe we could even look into a challenge sponsored by Dataverse! -Amy"
Fri, May 12, 2023, 17:06:38 - pdurbin: Have a good weekend and Happy Mother's Day!
Sun, May 14, 2023, 06:11:54 - Omo Oaiya joined the room
Sun, May 14, 2023, 07:02:23 - Omo Oaiya left the room
Mon, May 15, 2023, 04:55:25 - Johannes Darms: My flight is on Monday, but if I'm not mistaken Vera is already there.
Mon, May 15, 2023, 04:57:52 - Johannes Darms: Im available for a meeting and discussion. We could use the time to discuss Auth and SPA roadmaps...  
Mon, May 15, 2023, 06:25:59 - bergs joined the room
Mon, May 15, 2023, 07:45:55 - pdurbin: Hmm. Maybe. Jan Range and I might walk around until our feet hurt (again). üòÑ
Mon, May 15, 2023, 08:19:44 - pdurbin: Johannes Darms: thanks for the new PR! There's some discussion about Keycloak and docker compose at https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/Keycloak
Tue, May 16, 2023, 04:29:23 - beep: Hi! Is there a way to automatically generate an api token for every registered user? I would like to avoid them having to go to the API Token tab to generate it manually.
Tue, May 16, 2023, 07:19:01 - bergs: Hi, I'm newbie exploring dataverse to be used as a RDM platform vs invenio or different alternatives. I've installled 'archive in a  box' dataverse with docker https://github.com/IQSS/dataverse-docker

Logged as dataverseAdmin, I cannot see 'dashboard menu item'. I am supposed to be a superuser, but I don't know how to check it, how to give superuser role to dataverseAdmin.

Any help would be greatly appreciated.
Tue, May 16, 2023, 07:29:56 - beep: <@beeppeeb:matrix.org "Hi! Is there a way to automatica..."> I found getValidApiTokenForUser(), that will do it!
Tue, May 16, 2023, 08:03:49 - pdurbin: bergs: hi! This might help: https://github.com/IQSS/dataverse-docker/issues/78#issuecomment-1338018226
Tue, May 16, 2023, 08:04:09 - pdurbin: Vyacheslav Tikhonov: should we re-open that issue? It seems to keep happening.
Tue, May 16, 2023, 08:05:08 - pdurbin: beep: oh good, I'm glad that will work for you.
Tue, May 16, 2023, 08:05:34 - pdurbin: community call in about 3 hours: https://groups.google.com/g/dataverse-community/c/OAkypfJiJBk/m/RU-VUVYxAgAJ
Tue, May 16, 2023, 08:12:37 - bergs: yess! it worked
Tue, May 16, 2023, 08:13:00 - bergs: thanks a lot
Tue, May 16, 2023, 08:22:37 - pdurbin: Sure. bergs can you please leave a comment on that issue to say that you had this issue as well (and which version, please).
Tue, May 16, 2023, 18:08:14 - prsridha: Hello, I'm trying to upload a large dataset and it's taking a lot of time. I have a script that will upload my dataset in chunks via multiple parallel processes. Can I use this script to upload to Dataverse? All processes will use the same API key.
Tue, May 16, 2023, 20:11:17 - pdurbin: prsridha: is your installation of Dataverse using S3 on the backend?
Wed, May 17, 2023, 00:23:01 - prsridha: Message deleted
Wed, May 17, 2023, 00:23:28 - prsridha: <@pdurbin:matrix.org "prsridha: is your installation o..."> No it's on our private NFS
Wed, May 17, 2023, 07:01:40 - g.sarigiannis: Hello, I just tried to upload my first dataset in a fresh dataverse installation, it's a small excel file and the upload process is stuck, won't complete. Any tips?
Wed, May 17, 2023, 07:23:17 - pdurbin: prsridha: ok. Have you tried your script already? Does it work with Dataverse?
Wed, May 17, 2023, 07:24:04 - pdurbin: g.sarigiannis: I would check for a dataset lock: https://guides.dataverse.org/en/5.13/admin/troubleshooting.html#a-dataset-is-locked-and-cannot-be-edited-or-published
Wed, May 17, 2023, 09:29:53 - Don Sizemore: @prsridha how large is this dataset? depending on filetype (ingest) Dataverse may make 2-3 copies of each file during upload.
Wed, May 17, 2023, 09:34:30 - g.sarigiannis: pdurbin: thanks, I just tried uploading different file types and apparently the problem occurs when trying to upload .xlsx files. Anything that could cause this?
Wed, May 17, 2023, 09:35:51 - pdurbin: g.sarigiannis: anything in server.log?
Wed, May 17, 2023, 09:48:52 - g.sarigiannis: This warning appears, can't say whether it's relevant: JSF1095: The response was already committed by the time we tried to set the outgoing cookie for the flash.  Any values stored to the flash will not be available on the next request.
Wed, May 17, 2023, 09:49:22 - pdurbin: yeah, we see that a lot and it's unrelated, I'd say, sorry for the noise
Wed, May 17, 2023, 09:49:54 - pdurbin: You could try uploading your Excel file to https://demo.dataverse.org
Wed, May 17, 2023, 09:49:59 - pdurbin: just to see if it works
Wed, May 17, 2023, 10:20:38 - g.sarigiannis: pdurbin: thanks, it seems the problem was down to that specific .xlsx file. Are there any limitations to the way files are supposed to be structured?
Wed, May 17, 2023, 10:35:03 - Vincent Kadar joined the room
Wed, May 17, 2023, 10:57:28 - pdurbin: g.sarigiannis: we've been meaning to document this better for a while. You might find some tips at https://github.com/IQSS/dataverse/issues/7452
Wed, May 17, 2023, 11:02:24 - g.sarigiannis: pdurbin: Thank you for this link. I just realized that the problem is not related to the file type, but to the file size(?). Any file with size over 1MB gets stuck and doesn't upload. I've set the file size limit to 2 GB. Any thoughts?
Wed, May 17, 2023, 11:07:08 - Vincent Kadar: Message deleted by pdurbin
Wed, May 17, 2023, 11:15:12 - pdurbin changed the power level of Vincent Kadar from Default to Custom (1).
Wed, May 17, 2023, 11:15:26 - pdurbin changed the power level of Vincent Kadar from Custom (1) to Default.
Wed, May 17, 2023, 11:15:28 - pdurbin banned Vincent Kadar
Thu, May 18, 2023, 00:23:08 - g-tenko-r left the room
Thu, May 18, 2023, 06:41:56 - pdurbin: g.sarigiannis: sorry, I just noticed this. 1 MB is obviously super small. Something must be misconfigured but I'm not sure what. How did you install Dataverse? By following the guides? Or with dataverse-ansible? Or dataverse-docker?
Thu, May 18, 2023, 16:01:42 - juanlopezur: Hello! If a researcher has some Files in One Drive can I harvest those Files in a dataset?
Thu, May 18, 2023, 16:07:45 - pdurbin: juanlopezur: Dataverse integrates with Dropbox and Globus but not OneDrive. You are welcome to create an issue for this: https://github.com/IQSS/dataverse/issues
Thu, May 18, 2023, 16:19:09 - juanlopezur: Thank you! I'll create the issue
Fri, May 19, 2023, 13:12:20 - g.sarigiannis: <@pdurbin:matrix.org "g.sarigiannis: sorry, I just not..."> It was a misconfiguration of nginx, all good! Thank you for your help!
Fri, May 19, 2023, 13:38:39 - pdurbin: phew! üòÖ thanks for letting us know!
Fri, May 19, 2023, 17:26:54 - pdurbin: Have a good weekend everyone!
Sat, May 20, 2023, 18:52:14 - ralph left the room
Mon, May 22, 2023, 03:15:49 - haker404 joined the room
Mon, May 22, 2023, 05:37:40 - reis.quarteu joined the room
Mon, May 22, 2023, 05:41:14 - reis.quarteu: Good morning. I work in a portuguese institution that makes research in agriculture topic. I am installing Dataverse in that institution but I  have an important question. How can I use an agriculture controlled vocabulary in keywords, is it possible?
Mon, May 22, 2023, 06:41:44 - pdurbin: reis.quarteu: do you mean a vocabulary like AGROVOC? It's mentioned here: https://github.com/gdcc/dataverse-external-vocab-support/blob/main/docs/readme.md

Also, will you be in Braga for #dataverse2023?
Mon, May 22, 2023, 06:45:57 - reis.quarteu: Yes, I will try to be present in #dataverse2023, at least for 1 day.
Mon, May 22, 2023, 06:48:02 - pdurbin: Nice! I'll be there.
Mon, May 22, 2023, 06:55:03 - reis.quarteu: üëçÔ∏è
Mon, May 22, 2023, 07:34:36 - pdurbin: reis.quarteu: so is AGROVOC what you want? Or some other vocabulary?
Mon, May 22, 2023, 07:39:17 - reis.quarteu: Yes I think AGROVOC is what I need, but I have a new doubt. 'skosterm' is not a datasetField name of a field defined in a metadata block file, is it? Can the 'skosterm' field-name be replaced by 'keyword' or the 'keyword' field must be be hidden and 'skosterm' must be used?
Mon, May 22, 2023, 07:43:31 - pdurbin: It's complicated. reis.quarteu can you please create a new issue in https://github.com/IQSS/dataverse/issues ? Something like "AGROVOC for keyword" would be a good title. I'd like to see what qqmyers thinks.
Mon, May 22, 2023, 07:44:52 - reis.quarteu: Yes, I will do it.
Mon, May 22, 2023, 08:41:18 - pdurbin: I see it: https://github.com/IQSS/dataverse/issues/9604 . Thanks!
Mon, May 22, 2023, 09:18:17 - reis.quarteu: Meanwhile, is it possible to have a simpler solution (a controlled vocabulary with agriculture terms defined by our organization) , something like an internal controlled vocabulary? 
Mon, May 22, 2023, 09:18:52 - pdurbin: For "keyword"?
Mon, May 22, 2023, 09:19:02 - reis.quarteu: Yes
Mon, May 22, 2023, 09:19:21 - pdurbin: (in the citation block?)
Mon, May 22, 2023, 09:20:05 - reis.quarteu: yes
Mon, May 22, 2023, 09:24:24 - pdurbin: That's what we'll want to ask qqmyers about in the issue you opened. I'm not sure.
Mon, May 22, 2023, 09:24:39 - pdurbin: An alternative would be to create your own custom metadata block.
Mon, May 22, 2023, 09:27:51 - pdurbin: (I'm asking qqmyers in Slack, by the way.)
Mon, May 22, 2023, 09:29:25 - reis.quarteu: <@pdurbin:matrix.org "An alternative would be to creat..."> Something similar to the Controlled Vocabulary used for 'Subject' datasetfield in 'citation' MetadataBlock.
Mon, May 22, 2023, 09:30:51 - pdurbin: Yes, exactly. With your own custom metadata block you could store the controlled vocabulary values in the database.
Mon, May 22, 2023, 09:31:48 - pdurbin: We do this all the time for Harvard Dataverse: https://github.com/IQSS/dataverse.harvard.edu/blob/3fc9bfe9a171b2f7546ad44b1114f5c3920907d1/metadatablocks/custom3d.tsv#L16
Mon, May 22, 2023, 09:39:43 - pdurbin: You could also attach an external controlled vocabulary (like AGROVOC) to your custom metadata block.
Mon, May 22, 2023, 09:40:24 - pdurbin: Anyway, various options. I'm just not sure about using an external vocab with the existing "Keyword" field in the citation block.
Mon, May 22, 2023, 13:33:45 - Don Sizemore: @pdurbin cowbox fix Q?
Mon, May 22, 2023, 13:55:24 - pdurbin: yee haw, whatchu got, Don Sizemore ?
Mon, May 22, 2023, 13:58:27 - Don Sizemore: @pdurbin I'm kludging up the ec2-create script for perpetuity, and can't remember why it installs nano
Mon, May 22, 2023, 14:00:01 - Don Sizemore: @pdurbin my kludge is to enable epel-testing ongoing to avoid Ansible package dependency gaps during release churn
Mon, May 22, 2023, 14:06:16 - pdurbin: I'm a vi guy. You can kill nano
Mon, May 22, 2023, 14:19:38 - Don Sizemore: @pdurbin good, 'cause I already did. see #dv-tech for a potential and easy fix for the NodeJS package installation failures, since we're back on that again.
Mon, May 22, 2023, 16:22:26 - pdurbin: luddaniel (or anyone): what does "Mo" mean at https://github.com/IQSS/dataverse/issues/9606 , please? My guess is m√©gaoctets.
Tue, May 23, 2023, 12:24:19 - pdurbin: I'm confused about #jupyterhub_binder:gitter.im vs. #binder:petrichor.me 
Wed, May 24, 2023, 04:40:42 - Miguel Silva: Hi everyone.
The next revision for the 12-bit Smart DAQ (open hardware) will add JTAG debugging capabilities to the PCB electronics. 

Connectivity
- 2.4GHz WIFI
- Bluetooth & BLE
- USB-C serial communication
- JTAG debugger connector
- Serial UART connector

See the full specifications list on the GitHub Wiki page here:
https://github.com/aeonSolutions/openScience-Smart-DAQ-to-Upload-Live-Experimental-Data-to-a-Data-Repository/wiki/12bit-Smart-DAQ--Hardware-Specifications
Wed, May 24, 2023, 04:40:46 - juliangautier: I think it's the French version of MB for megabytes 
Wed, May 24, 2023, 05:59:46 - Karol ZajƒÖc joined the room
Wed, May 24, 2023, 06:07:15 - Karol ZajƒÖc: Hello, I am trying my best with Dataverse fresh installation and I met a problem with logging as superuser. After prompting for password change, the loading icon shows and nothing happen (no redirect). After going to login page again - newly set password is incorrect, and old one still results with infinite loading. Same after submitting sign up form - but in this case the account is created, and I can log in after refreshing. Can you specify what this problem is connected with? I cannot see any logs related to this in server.log. 
Wed, May 24, 2023, 07:33:35 - pdurbin: Karol ZajƒÖc: sorry to hear about the trouble. Have you installed the latest version of Dataverse, 5.13? And did you install it manually by following the installation guide or by using a tool like dataverse-ansible or dataverse-docker?
Wed, May 24, 2023, 08:34:42 - Karol ZajƒÖc: Yes, I installed the latest version, following the installation guide and running the install.py script.
Wed, May 24, 2023, 08:52:13 - pdurbin: Anything in the browser console?
Wed, May 24, 2023, 15:29:58 - Don Sizemore: Karol ZajƒÖc: Hello, Leonid at IQSS asks if you've double-checked your dataverse.siteUrl jvm-option in /usr/local/payara5/glassfish/domains/domain1/config.xml? He's right, it sounds like Dataverse may be redirecting you to localhost.
Thu, May 25, 2023, 04:46:50 - reis.quarteu: Hello. I tried to use agrovoc on our dataverse but the URL is not known
Thu, May 25, 2023, 04:46:51 - reis.quarteu: Message deleted
Thu, May 25, 2023, 04:58:35 - reis.quarteu: https://skosmos.dev.finto.fi/rest/v1/search?unique=true&vocab=agrovoc&parent=&lang=en&&query=agr*
Thu, May 25, 2023, 05:11:13 - reis.quarteu: What can I do to fix it?
Thu, May 25, 2023, 06:01:27 - Karol ZajƒÖc: <@pdurbin:matrix.org "Anything in the browser console?"> Nothing in the browser console.
Thu, May 25, 2023, 06:05:04 - Karol ZajƒÖc: <@donsizemore:matrix.org "Karol ZajƒÖc: Hello, Leonid at IQ..."> If you meant: /usr/local/payara5/glassfish/domains/domain1/config/domain.xml, it contains:  
<jvm-options>-Ddataverse.siteUrl=http://${dataverse.fqdn}:8080</jvm-options>.
Thu, May 25, 2023, 06:53:30 - Don Sizemore: Karol ZajƒÖc: that's likely one problem, if not the. is your instance listening externally on port 80 instead of 8080 (or better yet, using https)?
Thu, May 25, 2023, 06:59:07 - Don Sizemore: @pdurbin you're correct that we don't grab setup-all.*.log but we can
Thu, May 25, 2023, 07:16:46 - pdurbin: Karol ZajƒÖc: please also verify what `<jvm-options>-Ddataverse.fqdn...` says
Thu, May 25, 2023, 07:16:56 - pdurbin: Don Sizemore: great! Should I open an issue?
Thu, May 25, 2023, 07:17:17 - Don Sizemore: @pdurbin you're welcome to, or I will.
Thu, May 25, 2023, 07:19:05 - pdurbin: done! https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/issues/289 thank you!
Thu, May 25, 2023, 08:03:39 - Karol ZajƒÖc: <@donsizemore:matrix.org "Karol ZajƒÖc: that's likely one p..."> it is http and 8080 port number
Thu, May 25, 2023, 08:07:37 - Karol ZajƒÖc: <@pdurbin:matrix.org "Karol ZajƒÖc: please also verify ..."> Ddataverse.fqdn value is a FQDN that I am passing during installation, and it is ported (DNAT) to our available IP address.  
Thu, May 25, 2023, 08:09:59 - Don Sizemore: Karol ZajƒÖc: can the Dataverse instance reach itself via the expanded dataverse.siteurl value?
Thu, May 25, 2023, 08:43:48 - pdurbin: Karol ZajƒÖc: like Don Sizemore is saying the siteUrl should be the final URL that users see, the one that you put on flyers around campus
Thu, May 25, 2023, 08:44:01 - pdurbin: container meeting in about 45 minutes: https://ct.gdcc.io
Thu, May 25, 2023, 08:47:49 - Don Sizemore: Karol ZajƒÖc: well, siteUrl needs to be correct, and it needs to be reachable by the Payara service over that URL. I'm wondering if your NAT setup doesn't allow this.
Thu, May 25, 2023, 08:48:37 - Karol ZajƒÖc: We will try to set up a reverse proxy to reach the instance on the proper URL. Thank you!
Thu, May 25, 2023, 08:49:26 - Don Sizemore: Karol ZajƒÖc: if you're using Shibboleth you'll need to use Apache (for mod_shib). otherwise you can just use nginx or traefik or whatever proxy you'd like.
Thu, May 25, 2023, 08:50:26 - Don Sizemore: @pdurbin I'm about to head to campus and will likely miss the container meeting. I'm therefore proxying to you to make decisions for me.
Thu, May 25, 2023, 08:56:17 - g.sarigiannis: hello pdurbin , is there a way to restrict Dataverse guests to only view datasets?
Thu, May 25, 2023, 09:21:52 - pdurbin: Don Sizemore: heh. Ok. I wish I was skipping. I'd go listen to Tom Hanks: https://www.thecrimson.com/article/2023/3/21/tom-hanks-commencement/
Thu, May 25, 2023, 09:22:34 - pdurbin: g.sarigiannis: you don't want guests to see collections (dataverses) or files?
Thu, May 25, 2023, 09:25:47 - g.sarigiannis: We want guests to be able to only view published datasets, not download them. In addition, we don't want them to be able to view unpublished datasets/dataverses
Thu, May 25, 2023, 09:27:47 - g.sarigiannis: Most important thing would be to not have the DownloadFile role permission as a default for non-registered users
Thu, May 25, 2023, 10:14:17 - Don Sizemore: g.sarigiannis: there is a "meta group" `:AllUsers` IIRC from which you may revoke downloading permissions? or perhaps `:unauthenticated-users` if that exists
Thu, May 25, 2023, 10:33:17 - pdurbin: g.sarigiannis: does restricting files help?
Thu, May 25, 2023, 11:42:04 - g.sarigiannis: pdurbin: yes that's what we are going to go with if there's no other option
Thu, May 25, 2023, 11:43:41 - pdurbin: Would this help?  Dataverse setting to restrict files by default #6158 - https://github.com/IQSS/dataverse/issues/6158
Thu, May 25, 2023, 11:46:12 - g.sarigiannis: That would be very helpful indeed
Thu, May 25, 2023, 11:52:48 - g.sarigiannis: Don Sizemore: the default permissions for AllUsers seem to be ViewPublishedDataset, ViewUnpublishedDataset and DownloadFile. I don't see any way to edit this, at least from the dashboard / dataverse roles + permissions. Perhaps this can be changed on the backend somewhere?
Thu, May 25, 2023, 11:56:32 - g.sarigiannis: So f.e. you could allow guests to keep the ViewUnpublishedDataset, ViewPublishedDataset and maybe redirect them to the login screen when they attempt to download a file, or just a produce a message stating that you need to be logged in to download files
Thu, May 25, 2023, 11:58:01 - Don Sizemore: g.sarigiannis: you can define a custom role: https://guides.dataverse.org/en/latest/api/native-api.html#create-a-new-role-in-a-dataverse-collection
Thu, May 25, 2023, 11:59:16 - g.sarigiannis: Yup, the issue with what you sent is that any role you create would be a subgroup of the guest role
Thu, May 25, 2023, 11:59:26 - Don Sizemore: you could assign that to the root collection, then apply inheritance: https://guides.dataverse.org/en/latest/api/native-api.html#inherit-dataverse-collection-role-assignments
Thu, May 25, 2023, 11:59:49 - Don Sizemore: if you want to edit the default role, you may have to tinker in the DB
Thu, May 25, 2023, 12:00:37 - g.sarigiannis: yup I thought so, just prompted to confirm this is the way to go and whether going this way will have any consequences that you are aware of
Thu, May 25, 2023, 12:00:54 - Don Sizemore: I would ask pdurbin to be certain
Thu, May 25, 2023, 13:40:49 - pdurbin: last I checked AllUsers was hard coded
Thu, May 25, 2023, 13:41:45 - pdurbin: related: https://github.com/IQSS/dataverse/issues/9119
Thu, May 25, 2023, 14:26:59 - Don Sizemore: @pdurbin 48 open issues. that dude's a real pain in the butt ;)
Thu, May 25, 2023, 14:28:28 - pdurbin: ha
Thu, May 25, 2023, 16:58:36 - poikilotherm: You referring to me? ü§® /me clicks nuckels (üòâ)
Thu, May 25, 2023, 17:00:54 - pdurbin: don't make me run my open issues by author script again
Fri, May 26, 2023, 09:09:52 - Kazi Al Refat Pranta joined the room
Fri, May 26, 2023, 09:18:14 - Kazi Al Refat Pranta: Hello. I hope you guys are doing well. I am not sure if this is the appropriate place to ask such questions. But I am trying to download a data set of "MoLa InCar AR: Dataset for Action Recognition" and it seems to stop and restart the download at around 77% for a file. It does say that the download is unresumable. But I have tried my best to download it using browser, download manager and GNU Wget in a command line terminal. I have again tried using different device with different internet connection. It would be much appreciated if anyone can guide me in this matter.
Fri, May 26, 2023, 09:19:30 - pdurbin: I think you mean this one: https://datarepositorium.uminho.pt/dataset.xhtml?persistentId=doi:10.34622/datarepositorium/1S8QVP . Have you tried the "Support" link at the top of the page?
Fri, May 26, 2023, 09:19:31 - Don Sizemore: Kazi Al Refat Pranta: can you send a link to the dataset? (I don't find it on Harvard DV)
Fri, May 26, 2023, 09:20:58 - Don Sizemore: Kazi Al Refat Pranta: if you're comfortable running Python, I have a silly little script to individually download all files within a dataset.
Fri, May 26, 2023, 09:23:30 - Kazi Al Refat Pranta: <@donsizemore:matrix.org "Kazi Al Refat Pranta: if you're ..."> Please do share. I will be much obliged.
Fri, May 26, 2023, 09:24:47 - Don Sizemore: Kazi Al Refat Pranta: it's just a script I wrote for our archivists who wanted all files in original format. if you're having timeouts with an individual file this may not help much, but if you're selecting multiple files, Dataverse will try to first generate a zip, then send you that, so individual files are the way to go if you suspect transfer problems.
Fri, May 26, 2023, 09:24:48 - Don Sizemore: https://github.com/OdumInstitute/dataverse-toolbox/blob/master/download_dataset_original_format.py
Fri, May 26, 2023, 09:25:35 - Kazi Al Refat Pranta: <@pdurbin:matrix.org "I think you mean this one: https..."> yes this is the link. I wasn't sure if it was a problem from my lack of knowledge or the surver.
Fri, May 26, 2023, 09:25:54 - Kazi Al Refat Pranta: <@donsizemore:matrix.org "https://github.com/OdumInstitute..."> Thank you very much
Fri, May 26, 2023, 09:26:03 - pdurbin: If you want, I could try downloading one file just to see if it works.
Fri, May 26, 2023, 09:26:09 - Don Sizemore: Kazi Al Refat Pranta: don't thank me until it works!
Fri, May 26, 2023, 09:26:55 - Kazi Al Refat Pranta: <@pdurbin:matrix.org "If you want, I could try downloa..."> If it won't bother you please do.
Fri, May 26, 2023, 09:29:47 - Don Sizemore: @pdurbin GeoIP sez 193.136.21.46 is in Braga; my traceroute starts timing out once it hits Level3 in DC
Fri, May 26, 2023, 09:36:11 - pdurbin: wget is showing about 2.68MB/s ... 10% done
Fri, May 26, 2023, 09:44:47 - pdurbin: Kazi Al Refat Pranta: I was able to download the file in 7m 31s. The md5 looks good. This file: https://datarepositorium.uminho.pt/file.xhtml?persistentId=doi:10.34622/datarepositorium/1S8QVP/BXXHPP&version=2.2
Fri, May 26, 2023, 10:17:04 - Kazi Al Refat Pranta: <@pdurbin:matrix.org "Kazi Al Refat Pranta: I was able..."> i am using this to download the file. Unfortunately this is my first time downloading from this serve. is there any thing wrong in the command?

wget "https://datarepositorium.uminho.pt/api/access/datafile/:persistentId?persistentId=doi:10.34622/datarepositorium/1S8QVP/BXXHPP" --no-check-certificate
Fri, May 26, 2023, 10:20:25 - pdurbin: Looks fine to me. It's almost exactly what I used: `wget --no-check-certificate 'https://datarepositorium.uminho.pt/api/access/datafile/:persistentId?persistentId=doi:10.34622/datarepositorium/1S8QVP/BXXHPP'`
Fri, May 26, 2023, 10:28:27 - Kazi Al Refat Pranta: <@pdurbin:matrix.org "Looks fine to me. It's almost ex..."> do you think it has to do anything with my country? I live in Bangladesh, a country in South Asia. Should I try using vpn? is it legal?
Fri, May 26, 2023, 10:29:31 - Don Sizemore: Kazi Al Refat Pranta: it sounds to me like you're having trouble with connectivity dropping during the file transfer. if anything using a VPN might exacerbate that problem.
Fri, May 26, 2023, 10:36:45 - pdurbin: Kazi Al Refat Pranta: have you tried `wget --continue`? We mention it here: https://guides.dataverse.org/en/5.13/api/native-api.html#view-dataset-files-and-folders-as-a-directory-index
Fri, May 26, 2023, 13:13:53 - Santiago Florez: Hi everyone 
Fri, May 26, 2023, 13:14:56 - Don Sizemore: Hello!
Fri, May 26, 2023, 13:15:59 - Santiago Florez: 
I have a developer mode dataverse installation and need to change a metadata block 
Fri, May 26, 2023, 13:16:07 - Santiago Florez: the citation metadata 
Fri, May 26, 2023, 13:18:12 - Santiago Florez: so i changed it and run the curl commands but i don't see the changes
Fri, May 26, 2023, 13:19:44 - Santiago Florez: The change is that when you select a Subject that is displayed in link format
Fri, May 26, 2023, 13:37:44 - pdurbin: right, I remember
Fri, May 26, 2023, 13:38:38 - pdurbin: https://archive.matrix.org/r/dataverse:matrix.org/date/2023/05/04
Fri, May 26, 2023, 13:41:48 - Santiago Florez: Yes pdurbin 
Fri, May 26, 2023, 13:42:54 - Santiago Florez: When I reload the citation metadata with curl, it's as if the change didn't take effect
Fri, May 26, 2023, 13:45:49 - Santiago Florez: Do I need to recompile something?
Fri, May 26, 2023, 13:47:09 - pdurbin: I think you'd need to write a SQL script. Please check this out: https://github.com/IQSS/dataverse/issues/3337#issuecomment-394481875
Fri, May 26, 2023, 13:47:56 - pdurbin: Please remind me, are you planning to create a pull request for this change?
Fri, May 26, 2023, 13:49:04 - Santiago Florez: no it's just for me 
Fri, May 26, 2023, 13:50:03 - Santiago Florez: but if anyone is interested...
Fri, May 26, 2023, 13:50:13 - pdurbin: maybe!
Fri, May 26, 2023, 13:50:36 - pdurbin: Here, I'll quote our disclaimer:

"Generally speaking it is safer to create your own custom metadata block rather than editing metadata blocks that ship with the Dataverse Software, because changes to these blocks may be made in future releases. If you‚Äôd like to make improvements to any of the metadata blocks shipped with the Dataverse Software, please open an issue at https://github.com/IQSS/dataverse/issues so it can be discussed before a pull request is made."

https://guides.dataverse.org/en/5.13/admin/metadatacustomization.html
Fri, May 26, 2023, 15:11:04 - Akash Yadav joined the room
Fri, May 26, 2023, 17:00:47 - pdurbin: Have a good weekend! It's a holiday in the US on Monday. See you Tuesday!
Fri, May 26, 2023, 17:09:12 - poikilotherm: Same in Germany! üòÑ
Mon, May 29, 2023, 07:59:27 - Karol ZajƒÖc: Message deleted
Mon, May 29, 2023, 07:59:32 - Karol ZajƒÖc: Hi, after setting reverse proxy i have still same problem: I installed dataverse instance, I can reach it on the provided FQDN. On login screen I am typing default superuser password and then I am prompted to change it. After submitting password change - loading icon shows and results after some time with: 504 Gateway Time-Out . When I try again default password i get: 
Mon, May 29, 2023, 07:59:46 - Karol ZajƒÖc sent an image. (Media omitted)
Mon, May 29, 2023, 08:01:24 - Karol ZajƒÖc: After filling sign up form It also time-outing, but then I am able to log in as created user. On which config phase should I look for the reason of this one?
Tue, May 30, 2023, 07:12:37 - pdurbin: Karol ZajƒÖc: I've only used Apache as a reverse proxy. What are you using?
Tue, May 30, 2023, 07:19:33 - Don Sizemore: Karol ZajƒÖc: from here, it looks like it's redirecting to itself?
```
< Location: https://isw-data.sano.science/
< 
<html>
<head><title>301 Moved Permanently</title></head>
<body>
<center><h1>301 Moved Permanently</h1></center>
<hr><center>nginx/1.18.0 (Ubuntu)</center>

```
Tue, May 30, 2023, 08:17:54 - pdurbin: community call in a little under 2 hours. Renku, a reproducibility platform, will be presenting! https://groups.google.com/g/dataverse-community/c/R1MgeeMJR7E/m/vvKgvV_7AQAJ
Tue, May 30, 2023, 08:19:08 - Karol ZajƒÖc: <@pdurbin:matrix.org "Karol ZajƒÖc: I've only used Apac..."> nginx
Tue, May 30, 2023, 09:14:15 - pdurbin: Karol ZajƒÖc: I don't know nginx but there's some config here: https://github.com/IQSS/dataverse-frontend/pull/87/files . Does that help?
Tue, May 30, 2023, 09:27:24 - Don Sizemore: nginx proxy config is pretty simple
Tue, May 30, 2023, 15:21:39 - Don Sizemore: or straightforward, I should say
Tue, May 30, 2023, 15:37:35 - pdurbin: simple vs easy üòÑ
Tue, May 30, 2023, 16:00:46 - poikilotherm: With the move to an SPA we might look into adding an NGINX config example to the guide. Anyone not using Shib would benefit
Tue, May 30, 2023, 16:08:16 - pdurbin: no objections
Wed, May 31, 2023, 07:23:05 - Don Sizemore: @pdurbin good morning. can you remind me whether the builtin user password hashes are these days? (still in builtinuser? why am I thinking that was no longer the case?)
Wed, May 31, 2023, 07:35:27 - pdurbin: yep, "encryptedpassword" at https://guides.dataverse.org/en/5.6/schemaspy/tables/builtinuser.html
Wed, May 31, 2023, 07:49:41 - Don Sizemore: @pdurbin sry 4 noize. after I posed this question I remembered to compare the email-verification timestamp to account creation timestamp (same, Shib)
Wed, May 31, 2023, 07:50:07 - Don Sizemore: I missed my calling as Elmer Fudd.
Wed, May 31, 2023, 07:50:15 - pdurbin: ha
Wed, May 31, 2023, 07:50:31 - pdurbin: we should publish a new schemaspy sometime
Wed, May 31, 2023, 07:50:50 - pdurbin: but I'm pretty sure we haven't moved that column
Wed, May 31, 2023, 07:58:16 - Don Sizemore: one of the releases dropped either a column or an entire table, but once I remembered I could just compare timestamps I was good
Thu, Jun 1, 2023, 03:56:12 - Karol ZajƒÖc: <@pdurbin:matrix.org "Karol ZajƒÖc: I don't know nginx ..."> I think there is everything ok with reverse proxy. Can the SMTP be the problem? I got this infinite loading after changing admin password, after signing up and after sending verification e-mail.
Thu, Jun 1, 2023, 07:06:49 - Don Sizemore: Karol ZajƒÖc: ooh, yes, Dataverse will block there.
Thu, Jun 1, 2023, 07:09:01 - Karol ZajƒÖc: I solved it by reconfiguring SMTP. Now I have another question: Where I can configure the e-mail confirmation URL because it is on port 8080 (we use reverse proxy, so it doesn't work).
Thu, Jun 1, 2023, 07:26:45 - Don Sizemore: Karol ZajƒÖc: that's probably using your dataverse.siteUrl jvm-option?
Thu, Jun 1, 2023, 08:45:15 - pdurbin: yes, should be siteUrl
Fri, Jun 2, 2023, 09:26:01 - pdurbin: juliangautier: any ideas about this one? https://dataverse.zulipchat.com/#narrow/stream/378866-troubleshooting/topic/compound.20metadata
Fri, Jun 2, 2023, 10:12:42 - pdurbin: Don Sizemore: look, we're using the troubleshooting stream ^^
Fri, Jun 2, 2023, 10:19:22 - zbenta: pdurbin, poikilotherm (CEST,UTC+2) and Don Sizemore will you guys be joining us next week at the Dataverse Community Meeting in Portugal?
Fri, Jun 2, 2023, 10:19:41 - Don Sizemore: @zbenta I'm obsessively packing now ;)
Fri, Jun 2, 2023, 10:19:49 - zbenta: :D
Fri, Jun 2, 2023, 10:19:53 - pdurbin: same
Fri, Jun 2, 2023, 10:20:21 - pdurbin: Don Sizemore: we'll out ourselves as Americans if we wear shorts üòÖ
Fri, Jun 2, 2023, 10:20:23 - zbenta: I hope you guys can manage to have some time to help us figure out some issues.
Fri, Jun 2, 2023, 10:21:07 - Don Sizemore: I check in to the Braga hotel on Sunday afternoon
Fri, Jun 2, 2023, 10:21:13 - zbenta: Specially regarding the way dataverse generates the UI according to the context.
Fri, Jun 2, 2023, 10:21:22 - Don Sizemore: and held Thursday morning for potential meetings after the conference
Fri, Jun 2, 2023, 10:22:09 - Don Sizemore: what issues are you seeing?
Fri, Jun 2, 2023, 10:23:46 - zbenta: We'll pick your brains next week. We want to manipulate some of the metadata fields and fill them in automatically according to the user's profile.
Fri, Jun 2, 2023, 10:25:17 - Don Sizemore: @zbenta you may need an Egyptian surgery hook to pick mine, but I've passed your idea along to two of our in-house programmers to see what they say
Fri, Jun 2, 2023, 10:25:18 - zbenta: We are looking at the source code, but can't seem to understand what kind of code voodoo you guys did to generate generate the UI according to the  context.
Fri, Jun 2, 2023, 10:26:06 - zbenta: These are the kind of stuff that makes my impostor syndrome go into overdrive
Fri, Jun 2, 2023, 10:26:28 - zbenta: üòµ‚Äçüí´
Fri, Jun 2, 2023, 10:26:33 - Don Sizemore: pdurbin: I think we'll be recognizably American regardless ;) For one, all my shirts are Carolina Blue.
Fri, Jun 2, 2023, 10:27:04 - Don Sizemore: @zbenta keep in mind that the new frontend will switch to React - how much work do you want to put into the current UI?
Fri, Jun 2, 2023, 10:27:11 - zbenta: Don't forget the sandal and white sock staple.
Fri, Jun 2, 2023, 10:27:13 - zbenta: :D
Fri, Jun 2, 2023, 10:27:56 - Don Sizemore: I'm wearing sandals due to airport security and temperature, but no socks. Do the Portuguese share the Japanese aversion to visible feet?
Fri, Jun 2, 2023, 10:28:44 - zbenta: We have no issues with showing some skin
Fri, Jun 2, 2023, 10:29:41 - zbenta: we just hate to see nasty, unclipped toe nails
Fri, Jun 2, 2023, 10:30:33 - zbenta: Just bring some rain jackets, because it's been raining in the past days. 
Fri, Jun 2, 2023, 10:31:41 - Don Sizemore: I'm bringing a rain jacket and a travel umbrella
Fri, Jun 2, 2023, 10:31:56 - Don Sizemore:  (and I'm clipping my toenails tomorrow morning)
Fri, Jun 2, 2023, 10:32:34 - zbenta: ü§£ü§£ü§£
Fri, Jun 2, 2023, 10:33:00 - pdurbin: I'm bringing rain pants
Fri, Jun 2, 2023, 10:34:13 - Don Sizemore: I can't promise my toes won't be nasty, though. No time for a pedicure.
Fri, Jun 2, 2023, 10:37:06 - zbenta: The temperature is quite good her we  have 23¬∫c and no rain and is looks like the temperature will be the same throughout the week.
Fri, Jun 2, 2023, 10:38:02 - Don Sizemore: @zbenta I was bummed I couldn't book the Meli√° and stay a few days
Fri, Jun 2, 2023, 10:38:11 - poikilotherm: I'll be arriving in Braga Saturday evening. (~2000) Happy to do some hacking while having a drink
Fri, Jun 2, 2023, 10:39:22 - poikilotherm: zbenta: using Bird eScooters any good in Braga? Looking for options to cut short the commute from Ibis Centro to Campus
Fri, Jun 2, 2023, 10:39:38 - akio-sone joined the room
Fri, Jun 2, 2023, 10:39:49 - Don Sizemore: @poikilotherm I was going to take the bus
Fri, Jun 2, 2023, 10:40:00 - zbenta: the scooters are aplague around town, you won't have any issues finding one
Fri, Jun 2, 2023, 10:40:10 - Don Sizemore: @poikilotherm or it looks like a 30-minute walk, which is about right for Chapel Hill
Fri, Jun 2, 2023, 10:40:55 - poikilotherm: Yeah, but I'm getting sweated easily, so eScooter sounded not too bad üòÖ
Fri, Jun 2, 2023, 10:41:09 - poikilotherm: Tromso was the perfect location. Not too warm üôà
Fri, Jun 2, 2023, 10:41:42 - Don Sizemore: just you wait for Dataverse Tropics. you would die in Key West
Fri, Jun 2, 2023, 10:41:58 - poikilotherm: Yes I would ü•µü•µü•µü•µ
Fri, Jun 2, 2023, 10:42:14 - Don Sizemore: the temperature is usually 36C with 98% humidity, year-round.
Fri, Jun 2, 2023, 10:42:36 - poikilotherm: Gotta go now, apply siccors to Gras on top of head.
Fri, Jun 2, 2023, 10:42:51 - poikilotherm: zbenta: let me know if you want to do some activities 
Fri, Jun 2, 2023, 10:43:12 - pdurbin: This is exactly why when school lets out we are taking the kids to Iceland
Fri, Jun 2, 2023, 10:43:31 - poikilotherm: pdurbin Don Sizemore: zbenta: maybe  we should have some announced channel for attendees to join and coordinate?
Fri, Jun 2, 2023, 10:44:01 - zbenta: In the weekend I have activities with the kids, so I won't be able to show you guys around.
Fri, Jun 2, 2023, 10:45:24 - pdurbin: poikilotherm (CEST,UTC+2): is this channel good enough? ü§î
Fri, Jun 2, 2023, 10:46:15 - zbenta: You guys should definitely chack out https://goo.gl/maps/JY4eYHGAJ77vWLfG7 and eat a "frigideira"
Fri, Jun 2, 2023, 10:47:53 - zbenta: and while you are at it, check out the roman ruins inside the building, they have a glass floor and you can see them.
Fri, Jun 2, 2023, 10:48:53 - zbenta: In portugal, if you guys like fish, you can never go wrong if you choose "bacalhau"
Fri, Jun 2, 2023, 10:49:06 - zbenta: we have 1001 ways of cooking it
Fri, Jun 2, 2023, 10:49:35 - zbenta: it is the national fish, despite it being caught on the north see, near norway
Fri, Jun 2, 2023, 10:49:52 - zbenta: Portuguese, being portuguese, go fgure.
Fri, Jun 2, 2023, 10:50:07 - pdurbin: yum https://tastebraga.com/en/comida/frigideiras-2/
Fri, Jun 2, 2023, 10:50:58 - pdurbin: I had some fisherman's soup or something in Lisbon a few years ago. Really good
Fri, Jun 2, 2023, 10:51:51 - Don Sizemore: zbenta: one of the IQSS programmers lives in the Canary Islands and recommended bacalhau to me
Fri, Jun 2, 2023, 10:52:23 - Don Sizemore: He was curious what I would think of the American barbecue places in Europe, but I'm not flying to Europe to eat American barbecue.
Fri, Jun 2, 2023, 10:54:04 - Don Sizemore: @zbenta you have many Japanese restaurants, and several vegetarian!
Fri, Jun 2, 2023, 10:55:55 - zbenta: In braga, the special dishes we have are Roj√µes(pork meat cooked in it's own fat) Arroz de cabidela(chicken with rice seasoned with the chicken blood, it sounds and looks nasty but is really tasty) and Bacalhau √† Braga(fried cod fish with fried potatoes, with caramelized onions, garlic and red peppers)
Fri, Jun 2, 2023, 10:57:10 - zbenta: When in doubt always choose cod fish(bacalhau) 
Fri, Jun 2, 2023, 10:58:16 - zbenta: "fancesinha" is also a good choice
Fri, Jun 2, 2023, 10:58:28 - * pdurbin is writing all this down
Fri, Jun 2, 2023, 10:58:30 - zbenta: https://goo.gl/maps/vZziu1BA9Kr4CWKu5
Fri, Jun 2, 2023, 10:58:41 - zbenta: the best place in town to eat "francesinha"
Fri, Jun 2, 2023, 10:59:02 - zbenta: but the line is very long, you have to arrive early
Fri, Jun 2, 2023, 10:59:09 - zbenta: the have amazing beer
Fri, Jun 2, 2023, 10:59:56 - zbenta: https://goo.gl/maps/K5N4NGyojHQn8JKf7
Fri, Jun 2, 2023, 11:00:13 - zbenta: cheap and tasty buffet
Fri, Jun 2, 2023, 11:03:27 - zbenta: pdurbin:  sorry for the spam
Fri, Jun 2, 2023, 11:03:29 - Don Sizemore: @zbenta if I have no helmet, do you simply recommend local transit between downtown and the university?
Fri, Jun 2, 2023, 11:03:43 - Don Sizemore: @zbenta we appreciate the information! 
Fri, Jun 2, 2023, 11:04:01 - zbenta: it depends on where you are staying
Fri, Jun 2, 2023, 11:04:13 - zbenta: but usually you can get around by bus quite easilly
Fri, Jun 2, 2023, 11:04:18 - Don Sizemore: Ibis Centro (same as poikilotherm)
Fri, Jun 2, 2023, 11:04:21 - pdurbin: zbenta: please keep going! I am literally putting these places in my calendar
Fri, Jun 2, 2023, 11:04:36 - zbenta: and can also use a scooter and ride to the university 
Fri, Jun 2, 2023, 11:08:34 - zbenta: turism spots
Fri, Jun 2, 2023, 11:08:37 - zbenta: https://goo.gl/maps/NhsbRewDaN5ZPwEK7
Fri, Jun 2, 2023, 11:09:44 - zbenta: take the water lift, it is a very interesting trip and you can brag back home that you rode one of the oldest water lifts in europe
Fri, Jun 2, 2023, 11:10:41 - Don Sizemore: @zbenta I saw that I missed Festival Internacional de √ìrg√£o de Braga by a month
Fri, Jun 2, 2023, 11:10:45 - zbenta: https://goo.gl/maps/kQb14eF7X62i6tsd6
Fri, Jun 2, 2023, 11:11:05 - zbenta: The best view in town
Fri, Jun 2, 2023, 11:11:34 - zbenta: Braga has loads of churchs and chapels
Fri, Jun 2, 2023, 11:11:56 - zbenta: it was the religious center of Portugal
Fri, Jun 2, 2023, 11:12:55 - Don Sizemore: I did a fair amount of reading. If I were independently wealthy I'd take a pipe organ tour of Europe.
Fri, Jun 2, 2023, 11:13:43 - zbenta:  https://goo.gl/maps/yHWyPSrVsyaHczTa6
Fri, Jun 2, 2023, 11:14:27 - zbenta: check the pipe organ at the man church of braga
Fri, Jun 2, 2023, 11:15:04 - pdurbin: zbenta: this is where I'm staying: https://goo.gl/maps/ghiBFJDnadLaQ5kp7 any recommendations for places to eat? üòÑ
Fri, Jun 2, 2023, 11:17:19 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): is th..."> Depends. Do we want people to join here or on Zulip?
Fri, Jun 2, 2023, 11:19:02 - pdurbin: In practice, I look at both. There is already a "community" stream at https://dataverse.zulipchat.com/#narrow/stream/375707-community
Fri, Jun 2, 2023, 11:20:50 - zbenta: https://goo.gl/maps/y23xTsEQ8Cbz81c78
Fri, Jun 2, 2023, 11:21:15 - zbenta: you can eat "francesinha" there too
Fri, Jun 2, 2023, 11:22:13 - zbenta: the beer is also nice
Fri, Jun 2, 2023, 11:23:21 - pdurbin: I'm not sure why people are so excited about ChatGPT when we have zbenta 
Fri, Jun 2, 2023, 11:35:32 - zbenta: I'm off for the day, hope to see you guys on monday, but let me leave you with this tip if the place you guys go to diner has this beer: https://cervejaletra.pt/en/ please order it, it was a spin of of some students from Universidade do Minho, it started as a "scientific project" back at the university and became a real company.
Fri, Jun 2, 2023, 11:37:30 - pdurbin: Nice! It should be the official beer of #dataverse2023 üòÑ üçª
Fri, Jun 2, 2023, 11:52:47 - poikilotherm: zbenta: recommendations for the best Pastel de Nata in town?
Sat, Jun 3, 2023, 01:01:43 - pdurbin: In Madrid 
Sat, Jun 3, 2023, 01:21:30 - pdurbin: Phew! Barely made my connection.
Sat, Jun 3, 2023, 02:09:58 - pdurbin: Stuck in this plane though, waiting to take off. I assume juliangautier made it on board. He got off our last flight ahead of me.
Sat, Jun 3, 2023, 02:33:24 - pdurbin: poikilotherm (CEST,UTC+2): at this rate you'll beat us to Braga 
Sat, Jun 3, 2023, 02:34:43 - pdurbin: Rolling! Wheels up soon I hope!
Sat, Jun 3, 2023, 03:41:59 - pdurbin: In Porto
Sat, Jun 3, 2023, 03:50:19 - pdurbin: Feels like 4am
Sat, Jun 3, 2023, 03:51:40 - juliangautier: Message deleted
Sat, Jun 3, 2023, 08:48:34 - poikilotherm: D√ºsseldorf Airport. Lines are packed. üò¨
Sat, Jun 3, 2023, 09:03:45 - pdurbin: I'm not planning on coming back to Porto tomorrow 
Sat, Jun 3, 2023, 11:54:09 - pdurbin: ... because Pedro took us all around today! Amazing!
Sat, Jun 3, 2023, 11:54:44 - pdurbin sent an image. (Media omitted)
Sat, Jun 3, 2023, 11:55:19 - pdurbin sent an image. (Media omitted)
Sat, Jun 3, 2023, 12:07:44 - pdurbin: Now we're on the train to Braga 
Sat, Jun 3, 2023, 12:52:48 - pdurbin sent an image. (Media omitted)
Sat, Jun 3, 2023, 12:53:01 - pdurbin: üöÇ
Sat, Jun 3, 2023, 14:03:01 - pdurbin sent an image. (Media omitted)
Sat, Jun 3, 2023, 14:03:41 - pdurbin: Made it to Braga! It's a party outside my hotel. I hope I can see sleep üòÖ
Sat, Jun 3, 2023, 14:56:34 - poikilotherm has shared their location
Sat, Jun 3, 2023, 15:00:41 - pdurbin has shared their location
Sat, Jun 3, 2023, 15:10:27 - pdurbin: Meeting up at Jardim de Santa B√°rbara shortly. Then finding food.
Sat, Jun 3, 2023, 15:11:05 - pdurbin: Please get in touch if you'd like to join us! Me and poikilotherm (CEST,UTC+2)
Sat, Jun 3, 2023, 15:17:53 - juliangautier: I'm gonna skip this one but have fun at the party! ü•≥
Sat, Jun 3, 2023, 15:21:47 - pdurbin: It's been a long day üòÖ
Sat, Jun 3, 2023, 15:24:57 - pdurbin sent an image. (Media omitted)
Sat, Jun 3, 2023, 15:33:14 - pdurbin sent an image. (Media omitted)
Sun, Jun 4, 2023, 03:27:54 - poikilotherm sent an image. (Media omitted)
Sun, Jun 4, 2023, 03:28:12 - poikilotherm: That's the dragon watching over that garden across the street... ü´£
Sun, Jun 4, 2023, 06:13:05 - pdurbin sent an image. (Media omitted)
Sun, Jun 4, 2023, 06:13:55 - pdurbin: The Francesinha Especial (Novilho) was amazing. Thanks for recommending that place, zbenta!!
Sun, Jun 4, 2023, 09:43:41 - pdurbin sent an image. (Media omitted)
Sun, Jun 4, 2023, 09:43:50 - pdurbin: bacalhau √† Braga
Sun, Jun 4, 2023, 12:51:51 - poikilotherm sent an image. (Media omitted)
Sun, Jun 4, 2023, 12:52:00 - poikilotherm: Greetings from Porto!
Sun, Jun 4, 2023, 13:13:51 - pdurbin sent an image. (Media omitted)
Mon, Jun 5, 2023, 06:59:47 - pdurbin sent an image. (Media omitted)
Mon, Jun 5, 2023, 07:00:07 - pdurbin: EOSC workshop 
Mon, Jun 5, 2023, 10:47:54 - pdurbin sent an image. (Media omitted)
Mon, Jun 5, 2023, 10:48:09 - pdurbin: Demo of new UI
Mon, Jun 5, 2023, 11:02:20 - pdurbin sent an image. (Media omitted)
Mon, Jun 5, 2023, 11:03:00 - pdurbin: "Hello Braga" deployed to applause üëè
Tue, Jun 6, 2023, 09:07:42 - pdurbin sent an image. (Media omitted)
Tue, Jun 6, 2023, 09:07:56 - pdurbin: Keynote by Merce
Tue, Jun 6, 2023, 09:41:15 - pdurbin: poikilotherm (CEST,UTC+2): you're in this tweet: https://twitter.com/bibliotecasUM/status/1666018302777339904
Tue, Jun 6, 2023, 09:45:32 - pdurbin: oh hey, here's me and Alfredo: https://twitter.com/orazio_nelson/status/1665795898289410052
Tue, Jun 6, 2023, 12:25:07 - pdurbin: container demo: https://twitter.com/bibliotecasUM/status/1666095093550563328
Tue, Jun 6, 2023, 12:25:44 - pdurbin: Jan Range: your EasyReview demo: https://twitter.com/bibliotecasUM/status/1666093678971199490
Tue, Jun 6, 2023, 12:26:10 - pdurbin: Johannes Darms: your custom frontend demo: https://twitter.com/bibliotecasUM/status/1666096431952965635
Wed, Jun 7, 2023, 04:38:29 - pdurbin: Shared notes doc: https://tinyurl.com/dvtech23 - for Panel: Sustainable Architecture Options for Dataverse
Wed, Jun 7, 2023, 04:48:54 - pdurbin: Also, this is Zulip: https://dataverse.zulipchat.com
Wed, Jun 7, 2023, 04:49:27 - pdurbin: We've been using it for the Containerization Working Group.
Wed, Jun 7, 2023, 04:49:47 - pdurbin: People are welcome to try it out. I'd suggest the "community" stream for now.
Wed, Jun 7, 2023, 04:53:53 - jmfc: For everyone who's interested.
Here's some videos from yesterdays 'Dataverse Cup'
https://photos.app.goo.gl/vbXs3wb8AHn7NDK58
Wed, Jun 7, 2023, 05:21:38 - loicsomting joined the room
Wed, Jun 7, 2023, 05:48:14 - pdurbin: poikilotherm (CEST,UTC+2): when you're off stage, what is Mycore? (sp)
Wed, Jun 7, 2023, 07:35:17 - Karol ZajƒÖc: Hi, Is it required to have access to DataCite services for DOI registering in order to publish anything in my instance ? Can this option be somehow disabled, or is it possible to use any "internal" identifiers? What are the options?
Wed, Jun 7, 2023, 07:36:03 - Karol ZajƒÖc: I saw that test account on DataCite works only 6 months. 
Wed, Jun 7, 2023, 07:38:06 - pdurbin: Karol ZajƒÖc: once we release Dataverse 5.14 you can use the new PermaLinks option: https://preview.guides.gdcc.io/en/develop/installation/config.html#configuring-your-dataverse-installation-for-permalinks
Wed, Jun 7, 2023, 07:44:06 - Karol ZajƒÖc: Okay, thank you! Can you estimate when more or less 5.14 version will be released? 
Wed, Jun 7, 2023, 07:44:51 - pdurbin: I think we're saying next month? Not sure.
Wed, Jun 7, 2023, 09:43:25 - pdurbin: poikilotherm (CEST,UTC+2): I just added a link to Zulip: https://github.com/IQSS/chat.dataverse.org/commit/5ac07ba
Wed, Jun 7, 2023, 09:44:07 - poikilotherm: I'm editing ct.gdcc.io
Wed, Jun 7, 2023, 09:44:18 - pdurbin: :dataverseman:
Wed, Jun 7, 2023, 13:12:20 - pdurbin: Locals recommended this Restaurant for dinner. We'll reserve for 20 people at 1900 local time.

Os Eus√©bios Braga
+351 253 714 010
https://maps.app.goo.gl/BfpjQNCK4gvZwcwH7
Wed, Jun 7, 2023, 19:47:04 - pdurbin sent an image. (Media omitted)
Thu, Jun 8, 2023, 05:37:08 - pdurbin: I put the videos from the two livestreams of #dataverse2023 on DataverseTV: https://dataverse.org/dataversetv
Thu, Jun 8, 2023, 13:38:10 - pdurbin sent an image. (Media omitted)
Fri, Jun 9, 2023, 02:53:25 - pdurbin sent an image. (Media omitted)
Fri, Jun 9, 2023, 02:53:43 - pdurbin: Free arcade games at the Porto airport 
Fri, Jun 9, 2023, 08:20:26 - pdurbin: I've forgotten all the moves üòî
Sat, Jun 10, 2023, 08:49:24 - Don Sizemore: I missed these!
Sat, Jun 10, 2023, 11:09:08 - @arg45dsfgf:matrix.org joined the room
Sat, Jun 10, 2023, 11:19:39 - Miguel Silva: those are from good old days 
Sat, Jun 10, 2023, 11:19:54 - Miguel Silva: Way back in high school 
Sat, Jun 10, 2023, 11:21:10 - Miguel Silva: <@pdurbin:matrix.org "sent an image."> I find this photo detrimental as a Portuguese.... 
Sat, Jun 10, 2023, 11:21:54 - Miguel Silva: <@pdurbin:matrix.org "sent an image."> How was "francesinha" ? Did you like it? 
Sat, Jun 10, 2023, 11:32:01 - pdurbin: It was good! Different üòú
Sat, Jun 10, 2023, 13:19:28 - Miguel Silva: Yes. It is different. 
Sat, Jun 10, 2023, 13:19:42 - Miguel Silva: Have a safe return 
Sun, Jun 11, 2023, 01:58:27 - @arg45dsfgf:matrix.org left the room
Mon, Jun 12, 2023, 07:09:27 - pdurbin: Should the topic of tomorrow's community call be "Braga braindump"?
Mon, Jun 12, 2023, 08:01:44 - Don Sizemore: I think it should be "Braga show-n-tell"!
Mon, Jun 12, 2023, 08:08:09 - pdurbin: Sure, I could show some pics: http://thedurbins.com/phil/blog/2023/06/10/my-trip-to-portugal.html
Mon, Jun 12, 2023, 08:11:02 - Don Sizemore: you went up in the belltower! I noped out on those steps.
Mon, Jun 12, 2023, 08:35:14 - poikilotherm: fdm.NRW added all Dataverse installations to Wikidata! https://query.wikidata.org/#%23defaultView%3AMap%7B%22hide%22%3A%22%3FgeoLocs%22%2C%20%22layer%22%3A%22%3FDataverse%22%7D%0ASELECT%20%3FInstitution%20%3FInstitutionLabel%20%28MIN%28%3FgeoLoc%29%20AS%20%3FgeoLocs%29%0AWHERE%20%7B%0A%20%20SERVICE%20wikibase%3Alabel%20%7B%20bd%3AserviceParam%20wikibase%3Alanguage%20%22%5BAUTO_LANGUAGE%5D%2Cen%22.%20%7D%20%20%20%20%20%20%0A%20%20wd%3AQ5227499%20wdt%3AP1535%20%3FInstitution%20.%0A%20%20OPTIONAL%20%7B%20%3FInstitution%20wdt%3AP625%20%3FgeoLoc%20.%7D%0A%20%20OPTIONAL%20%7B%20%3FInstitution%28wdt%3AP159%2Fwdt%3AP625%29%20%3FgeoHead.%20%7D%0A%20%20BIND%28COALESCE%28%3FgeoLoc%2C%20%3FgeoHead%29%20AS%20%3FgeoLoc%29%0A%7D%0AGROUP%20BY%20%20%3FInstitution%20%3FInstitutionLabel
Mon, Jun 12, 2023, 08:35:49 - poikilotherm: Message deleted
Mon, Jun 12, 2023, 08:36:45 - poikilotherm: They would prefer Wikidata over Google Spreadsheets ;-)
Mon, Jun 12, 2023, 09:09:45 - pdurbin sent an image. (Media omitted)
Mon, Jun 12, 2023, 09:10:10 - pdurbin: It's interesting but what am I looking at? 679 installations?
Mon, Jun 12, 2023, 09:12:07 - loicsomting: Well no.
Norway as only one installation. You are probably looking at the institution who uses dataverse.
Mon, Jun 12, 2023, 09:17:45 - pdurbin: Probably. Maybe. But how do I get from https://www.wikidata.org/wiki/Q30281487 (DairlyNZ) to Dataverse? How do I know they use Dataverse?
Mon, Jun 12, 2023, 09:42:34 - pdurbin: Is this fake news? üòÖ
Mon, Jun 12, 2023, 09:45:28 - loicsomting: <@pdurbin:matrix.org "Probably. Maybe. But how do I ge..."> I'm on my phone, sorry but I don't understand what I'm looking at. 
Is this supposed to ba an exaustive list of all dataverden installations?
Mon, Jun 12, 2023, 09:49:37 - pdurbin: I think we have to ask poikilotherm (CEST,UTC+2)  üòÑ
Mon, Jun 12, 2023, 09:51:33 - poikilotherm: Well I didn't do it. Let's have https://orcid.org/0000-0002-0248-8914 here or some place else to discuss this!
Mon, Jun 12, 2023, 09:52:41 - poikilotherm: BTW: Doro said https://s3-eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/5.2022.3/payara-5.2022.3.zip is dead. I pointed her to MVN Central to download distros via https://mvnrepository.com/artifact/fish.payara.distributions/payara
Mon, Jun 12, 2023, 09:57:46 - poikilotherm: BTW for the usages you might want to look at this Wikidata entry ;-) https://www.wikidata.org/wiki/Q5227499
Mon, Jun 12, 2023, 09:59:31 - pdurbin: I figured one of those numbers was for Dataverse
Mon, Jun 12, 2023, 10:00:13 - loicsomting sent an image. (Media omitted)
Mon, Jun 12, 2023, 10:01:42 - loicsomting: Ok so thats an institution list
(It's not up to date though, dataverden.no is used by 20+ institutions now)
Mon, Jun 12, 2023, 10:02:23 - poikilotherm: It actually means every institution might curate their usage, too. Would be great to see not just the installations but also all institutions using it. So an installation that hosts multiple institutions doesn't just hide all this
Mon, Jun 12, 2023, 10:57:43 - pdurbin: Yes, absolutely. Please feel free to create an issue about this: https://github.com/IQSS/dataverse-installations/issues
Mon, Jun 12, 2023, 13:05:05 - pdurbin sent an image. (Media omitted)
Mon, Jun 12, 2023, 14:27:17 - pdurbin: Expenses submitted. I still can't believe it only cost 3.75 euros to take the train from Porto to Braga.
Mon, Jun 12, 2023, 14:32:58 - loicsomting: 3.25
The card is 50 cent
Mon, Jun 12, 2023, 14:33:17 - pdurbin: Ah, right. üòÑ
Tue, Jun 13, 2023, 07:26:01 - Don Sizemore: how was the train? we had a... logistical incident in Porto, so Mr. Kraffmiller and I took an Uber on very short notice.
Tue, Jun 13, 2023, 07:32:00 - pdurbin: Quite comfortable!
Tue, Jun 13, 2023, 07:48:00 - loicsomting: I too took the train on the way there . It was very correct.
Tue, Jun 13, 2023, 08:04:38 - pdurbin: On the way back I took GetBus from Braga to the airport and that was also fine.
Tue, Jun 13, 2023, 16:05:46 - pdurbin: Don Sizemore: now I've got https://github.com/IQSS/dataverse-metrics on my mind. Are you happy with where it's hosted?
Tue, Jun 13, 2023, 17:05:46 - Don Sizemore: @pdurbin yes, it's in our GDCC AWS account
Tue, Jun 13, 2023, 17:13:33 - pdurbin: I'm heading out (vacation day tomorrow) but on Thursday please remind me to talk about https://iqss.github.io/iqss-metrics-dashboard/dataverse.html and how it's hosted on GitHub Pages.
Wed, Jun 14, 2023, 06:40:26 - reis.quarteu: Hello, good morning. I am looking for a crucial information: If I ask our Informatics Services to  make a backup of dataverse installation, what must I tell them: 1- Export postgresql database; 2- make a backup of the files. I need a checklist to give them, does such a checklist exist? Thank you in advance. :-)
Wed, Jun 14, 2023, 07:10:04 - Don Sizemore: reis.quarteu: yes on database dumps and your filesystem hierarchy. in particular pay attention to domain1/config/ and domain1/docroot/logos/
Wed, Jun 14, 2023, 07:10:22 - Don Sizemore:  (in addition to your datafiles, wherever they may live)
Wed, Jun 14, 2023, 09:50:45 - dszabo: Hello, hope everyone had a smooth travel back from Braga :)
I have a request for IQSS people, would it be possible to grant me (DS-INRA) the rights to have other persons to this project : https://github.com/orgs/IQSS/projects/15 ? If not, would it be possible to allow the following accounts to add/move cards to it ?
jeromeroucou
stevenferey
luddaniel
sirineREKIK

:)
Wed, Jun 14, 2023, 11:28:03 - poikilotherm: pdurbin can help you with that. He's out today, enjoying a day off. (I'm not an admin in the IQSS org)
Wed, Jun 14, 2023, 11:29:11 - poikilotherm: <@reis.quarteu:matrix.org "Hello, good morning. I am lookin..."> It certainly helps to have a backup of your Solr index. REbuilding these takes some time in larger installations
Wed, Jun 14, 2023, 11:35:30 - poikilotherm: <@donsizemore:matrix.org "reis.quarteu: yes on database du..."> Looks like you reminded me of sth: before we can declare the images stable, we need to take care of the docroot stuff... In code, but also within the image as a location. Seems like I forgot about that...
Wed, Jun 14, 2023, 11:35:49 - loicsomting: <@reis.quarteu:matrix.org "Hello, good morning. I am lookin..."> Here is the script we run every night to backup our installation.
Regenerating solr index is not very long for us so we don't back it up.
https://github.com/DataverseNO/dataverse-docker/blob/dataverse.no/distros/dataverse.no/init.d/cronjob/backupData.sh
Wed, Jun 14, 2023, 11:36:43 - loicsomting: You will also need those SQL functions.
https://github.com/DataverseNO/dataverse-docker/blob/dataverse.no/distros/dataverse.no/init.d/cronjob/backup-fuction.sql
Wed, Jun 14, 2023, 11:38:46 - loicsomting: At dataverse.no as a very statik docroot so we don't have any automatic prosses for it
Wed, Jun 14, 2023, 11:40:09 - poikilotherm: loicsomting: for what are you using these functions
Wed, Jun 14, 2023, 11:42:50 - loicsomting: Backup our S3 into an Azure blob.
The S3 instance we are using is not georeplicated
Wed, Jun 14, 2023, 11:44:21 - loicsomting: The sql function will grap the  location files added to dataverse in the last 48 hours 
Wed, Jun 14, 2023, 11:46:21 - poikilotherm: I *think* you might have pointed to the wrong SQL file then
Wed, Jun 14, 2023, 11:47:03 - poikilotherm: Ah wait you are reusing these functions in the backupfiles.sql
Wed, Jun 14, 2023, 11:47:05 - loicsomting: https://github.com/DataverseNO/dataverse-docker/blob/dataverse.no/distros/dataverse.no/init.d/cronjob/backupfiles.sql
Wed, Jun 14, 2023, 11:47:46 - loicsomting: I forgot to point out the intermediate file indeed.
Sorry 
Wed, Jun 14, 2023, 11:48:19 - poikilotherm: No worries.
Wed, Jun 14, 2023, 11:48:34 - loicsomting: And to be exact it's
(current_date - INTERVAL '1 day');
Wed, Jun 14, 2023, 11:48:34 - poikilotherm: Did you ever try to use Minio to copy from S3 to Azure blob directly?
Wed, Jun 14, 2023, 11:50:18 - loicsomting: Yes but Mino uses the sma monted connection.
So to avoid having more library we just decided to use awscli that dataverse already require
Wed, Jun 14, 2023, 11:51:07 - loicsomting: But minio client could inded be used for this 
Wed, Jun 14, 2023, 11:51:41 - poikilotherm: Note that the new images will not contain AWSCLI because it's not necessary for Dataverse anymore. (Actually that changed already with 5.10 or sth like that)
Wed, Jun 14, 2023, 11:52:13 - loicsomting: What do you use instead?
Wed, Jun 14, 2023, 11:53:15 - poikilotherm: Technically, the awscli was never part of Dataverse. Dataverse uses the AWS Java SDK which can load credentials from ~/.aws
Wed, Jun 14, 2023, 11:53:43 - poikilotherm: So the docs said use `awscli` to setup this stuff, but you could write those files on your own
Wed, Jun 14, 2023, 11:54:10 - loicsomting: <@oliver:bertuch.name "So the docs said use `awscli` to..."> Ho that's why we added it
Wed, Jun 14, 2023, 11:55:28 - loicsomting: Yes we should be able to use the java SDK 
Wed, Jun 14, 2023, 11:55:26 - poikilotherm: The only reason why these files where necessary was because the S3 client in Dataverse read the credentials from them.
Wed, Jun 14, 2023, 11:55:39 - poikilotherm: Nowadays you can just use MPCONFIG. https://guides.dataverse.org/en/latest/installation/config.html#credentials-via-microprofile-config
Wed, Jun 14, 2023, 11:56:08 - loicsomting: Ok thanks for pointing it out
Wed, Jun 14, 2023, 11:56:18 - poikilotherm: Both ways still work.
Wed, Jun 14, 2023, 11:56:25 - poikilotherm: So it was a backward compatible change
Wed, Jun 14, 2023, 11:57:47 - poikilotherm: I was asking because Minio can do the heavy lifting with bucket replication on server side.
Wed, Jun 14, 2023, 11:57:56 - poikilotherm: So when using one cluster for the local storage
Wed, Jun 14, 2023, 11:58:27 - poikilotherm: And having another "cluster" that is fronting the Azure blob, I was wondering if that makes the replication and disaster recovery easier
Wed, Jun 14, 2023, 12:00:44 - loicsomting: poikilotherm (CEST,UTC+2): 
While you are here I have a question for you( and others who are using Kubernetes).
The UiT will hopefully soon have access to a Kubernetes network for the purpose of testing dataverse in there.
What Kubernetes installation of dataverse would you recommend we start testing with?

Wed, Jun 14, 2023, 12:01:46 - poikilotherm: I'm not sure what you are referring to...?
Wed, Jun 14, 2023, 12:02:14 - poikilotherm: IIRC someone somewhere created a helm chart once. Dunno if that ever made it into public
Wed, Jun 14, 2023, 12:02:53 - poikilotherm: One could revamp the deployment descriptors I once created for dataverse-kubernetes. They should be adapted to the upstream containers etc
Wed, Jun 14, 2023, 12:03:13 - poikilotherm: I know that Slava did things for EOSC / CoronaWhy as well
Wed, Jun 14, 2023, 12:03:23 - poikilotherm: (Based on my work in dataverse-kubernetes)
Wed, Jun 14, 2023, 12:04:44 - loicsomting: <@oliver:bertuch.name "One could revamp the deployment ..."> I was referring to that more or less.
I don't know a lot about Kubernetes that's why i asked.
Wed, Jun 14, 2023, 12:04:51 - poikilotherm: Kubernetes is not necessarily what you really need for a small installation. K8s involves lots of overhead if you have to maintain it. If you can get it as a hosted service, that might be fine.
Wed, Jun 14, 2023, 12:05:09 - poikilotherm: Probably we should pick Johannes Darms brain, he runs his stuff on K8s
Wed, Jun 14, 2023, 12:05:33 - loicsomting: We get the Kubernetes network has an hosted service from the national infrastructure 
Wed, Jun 14, 2023, 12:05:33 - poikilotherm: He also has all the security related stuff in place regarding RBAC etc
Wed, Jun 14, 2023, 12:05:45 - poikilotherm: All this was never part of my small K8s project
Wed, Jun 14, 2023, 12:06:17 - loicsomting: Ok thank you very for all these information I will do so
Wed, Jun 14, 2023, 12:06:46 - poikilotherm: On the other hand the deployment descriptors I created at the time are probably simple enough to be easily adaptable
Wed, Jun 14, 2023, 12:07:33 - poikilotherm: I avoided using Helm as I was rather convinced that kustomize should be enough for a lot of scenarios and anything beyond that should probably involve creating an operator
Wed, Jun 14, 2023, 12:08:26 - poikilotherm: I know that Johannes Darms is using the Postgres Operator by Zalando and IIRC also the Apache Solr Operator. That should make a few things easier already
Wed, Jun 14, 2023, 12:08:48 - poikilotherm: (dv-k8s had its own set of deployment descriptors for these services)
Wed, Jun 14, 2023, 12:09:42 - poikilotherm: If you want to test SolrCloud be warned that the Java code needs tweaks for that - it has to use a different client. We could add that, it's no rocket science.
Wed, Jun 14, 2023, 12:15:59 - loicsomting: Ok I see 
Wed, Jun 14, 2023, 15:56:43 - Donald Sizemore II joined the room
Wed, Jun 14, 2023, 15:57:53 - Donald Sizemore II: <@oliver:bertuch.name "Looks like you reminded me of st..."> yeah, the logo location has always been a pesky one-off.
Thu, Jun 15, 2023, 08:23:20 - pdurbin sent an image. (Media omitted)
Thu, Jun 15, 2023, 08:24:24 - pdurbin: dszabo: you were already an admin so I think you had the ability already to add more people (see the screenshot above) but I went ahead and added the others. I'm at this URL: https://github.com/orgs/IQSS/projects/15/settings/users
Thu, Jun 15, 2023, 08:24:54 - pdurbin: And, yes, travel back was fairly smooth, thankfully. üòÑ
Thu, Jun 15, 2023, 08:25:30 - pdurbin: loicsomting: interesting about Kubernetes
Thu, Jun 15, 2023, 08:26:07 - pdurbin: Speaking of containers, our weekly meeting will be in one hour: https://ct.gdcc.io
Thu, Jun 15, 2023, 08:26:35 - pdurbin: "seen" by poikilotherm (CEST,UTC+2) already but I believe it's a looong weekend for him
Thu, Jun 15, 2023, 08:26:58 - poikilotherm: Sorry plasterers in da house
Thu, Jun 15, 2023, 08:27:00 - poikilotherm: Finally
Thu, Jun 15, 2023, 08:27:55 - pdurbin: poikilotherm (CEST,UTC+2): hey, during the container meeting next week I'll be brining my car to the shop. Do you want to run it? I can maybe try to join from my phone. Or we could cancel.
Thu, Jun 15, 2023, 08:28:33 - poikilotherm: Then we cancel. I'll be in Dresden at HZDR, Hermes hackathon/project meeting
Thu, Jun 15, 2023, 08:29:08 - pdurbin: Ok. After today the next meeting will be July 13 unless you want to run one. I'll be vacation.
Thu, Jun 15, 2023, 08:31:13 - poikilotherm: I might be as well
Thu, Jun 15, 2023, 08:31:31 - poikilotherm: Let's coordinate next week
Thu, Jun 15, 2023, 08:41:56 - pdurbin: For now I'm saying the next meetings are in ~45 minutes and then July 13, but sure, we can talk about adding back meetings if you or others can run them: https://ct.gdcc.io
Thu, Jun 15, 2023, 08:42:22 - pdurbin: I also added a üéÅ
Thu, Jun 15, 2023, 14:58:03 - pdurbin: re-arch docs released: https://groups.google.com/g/dataverse-community/c/2hfhWIHQddE/m/hATuWGGSAAAJ
Fri, Jun 16, 2023, 03:33:56 - dszabo: <@pdurbin:matrix.org "dszabo: you were already an admi..."> strange, the URL lands on a 404 for me (while logged in),both with the link and going to Settings via the interface ü§î. Thank you very much anyway for adding the others though :)
Fri, Jun 16, 2023, 06:47:07 - pdurbin: Huh. Strange 
Fri, Jun 16, 2023, 08:44:52 - pdurbin: dszabo: there's also https://github.com/orgs/IQSS/projects/15/settings/teams ... perhaps I could create a team and give you access to manage it? If you'd like to try just let me know.
Fri, Jun 16, 2023, 10:57:04 - Kir√°ly P√©ter: Hi, I haven't been here for a while, so Hello all!
Fri, Jun 16, 2023, 10:57:33 - Kir√°ly P√©ter: I have created an issue ticket, but I just found that maybe not in the best place: https://github.com/IQSS/dataverse-pm/issues/99
Fri, Jun 16, 2023, 10:58:58 - Kir√°ly P√©ter: I was searching for issues, and somehow I ended up at that repo, but this repo is not the main dataverse repos, but another one, which does not have a decription
Fri, Jun 16, 2023, 10:59:37 - pdurbin: Kir√°ly P√©ter: hey. We were in Europe last week. Where were you? üòÑ
Fri, Jun 16, 2023, 11:01:05 - pdurbin: I just moved it to https://github.com/IQSS/dataverse/issues/9650
Fri, Jun 16, 2023, 11:02:29 - Kir√°ly P√©ter: Great! Many thanks, and I am willing to work on it if I got a green light.
Conference: yes, I know, but I was not able to participate.
Fri, Jun 16, 2023, 11:02:58 - Kir√°ly P√©ter: I will check the presentations in the Dataverse TV
Fri, Jun 16, 2023, 11:03:36 - pdurbin: Hours and hours to watch
Fri, Jun 16, 2023, 11:03:49 - pdurbin: Sure, if you want to work on that issue about linking, please go ahead!
Fri, Jun 16, 2023, 11:05:40 - Kir√°ly P√©ter: OK, thanks!
Fri, Jun 16, 2023, 11:05:57 - Kir√°ly P√©ter: I hope you had a great time in Portugal!
Fri, Jun 16, 2023, 11:07:38 - pdurbin: It was really nice. Some pics: http://thedurbins.com/phil/blog/2023/06/10/my-trip-to-portugal.html
Fri, Jun 16, 2023, 11:24:03 - Kir√°ly P√©ter: Oh, wow, amazing! And lots of familiar faces. How was the bacalhau? I have read about it lots of times, but never had to taste it.
Fri, Jun 16, 2023, 11:32:56 - pdurbin: It was good but keep in mind that I live near Cape Cod üòÑ
Fri, Jun 16, 2023, 11:38:55 - Kir√°ly P√©ter: ;-)
Fri, Jun 16, 2023, 12:50:29 - Kir√°ly P√©ter: pdurbin: I have created the PR, but I forget to which column in the project should I put it, "Ready for review" or "In review"?
Fri, Jun 16, 2023, 12:55:04 - Kir√°ly P√©ter: I put it to the "Ready for review"
Fri, Jun 16, 2023, 12:55:18 - Kir√°ly P√©ter: cont. next week
Fri, Jun 16, 2023, 13:30:36 - ajae joined the room
Fri, Jun 16, 2023, 13:30:48 - ajae: how do i create a damn account?? üò≠
Fri, Jun 16, 2023, 13:33:07 - pdurbin: Kir√°ly P√©ter: merged! Thanks!
Fri, Jun 16, 2023, 13:33:37 - ajae: could someone link me the sign up url?
Fri, Jun 16, 2023, 13:34:11 - pdurbin: ajae: for https://dataverse.harvard.edu ?
Fri, Jun 16, 2023, 13:34:43 - ajae: nope for dataverse.org
Fri, Jun 16, 2023, 13:35:49 - pdurbin: for Slack?
Fri, Jun 16, 2023, 13:36:22 - pdurbin: only a few people log into dataverse.org to edit content there
Fri, Jun 16, 2023, 13:36:31 - pdurbin: to write a blog post or whatever
Fri, Jun 16, 2023, 13:37:37 - ajae: nope so i can create an api key
Fri, Jun 16, 2023, 13:38:07 - pdurbin: you could create an account at https://demo.dataverse.org and get an API token there
Fri, Jun 16, 2023, 13:39:41 - ajae: okay thanks
Fri, Jun 16, 2023, 13:39:51 - ajae: hqh68q.mp4 (Media omitted)
Mon, Jun 19, 2023, 09:08:03 - Kir√°ly P√©ter: I just found that in the Development Environment guide it is suggested to download Payara from AWS:
`sudo curl -O -L https://s3-eu-west-1.amazonaws.com/payara.fish/Payara+Downloads/5.2022.3/payara-5.2022.3.zip`
but it is no longer available there. From the Payara side I did not find a link to Payara 5, the download section contains only references to Payara 6, and suggest use the Enterprise edition if you would lke to keep using versionn 5: https://www.payara.fish/downloads/payara-platform-community-edition/
Mon, Jun 19, 2023, 09:12:00 - Donald Sizemore II: Kir√°ly P√©ter: whoops, I submitted a PR to update the guides but missed the development page. I updated the current link on the live guides server: https://guides.dataverse.org/en/latest/installation/prerequisites.html
Mon, Jun 19, 2023, 09:12:31 - Donald Sizemore II: They moved their downloads to nexus.payara.fish and also to maven.org
Mon, Jun 19, 2023, 09:13:40 - Kir√°ly P√©ter: Donald Sizemore II: Thanks!
Mon, Jun 19, 2023, 09:14:09 - Donald Sizemore II: Sorry I missed the development page; I could've sworn I grepped recursively through the Sphinx source.
Mon, Jun 19, 2023, 17:39:53 - Kir√°ly P√©ter: pdurbin: I have created two more PRs around the same tickets. One is documentation of the API for listing linked dataverses, the other is a UI change for the same purpose. 
Tue, Jun 20, 2023, 07:26:42 - pdurbin: Kir√°ly P√©ter: thanks! I approved the doc change. The UI change will need some more internal discussion (and prioritization).
Tue, Jun 20, 2023, 08:04:53 - Kir√°ly P√©ter: pdurbin: Thanks and sure. Take your time.
Tue, Jun 20, 2023, 08:06:17 - pdurbin: Kir√°ly P√©ter: can I ask you to work on items that are on our roadmap? üòÑ
Tue, Jun 20, 2023, 09:24:56 - Kir√°ly P√©ter: pdurbin: I have two things: 1) add the list of linked dataverses to metadata tab. But I am not 100% sure about it. This information is not the same type of metadata as the descriptive fields (title, author etc). I will do it, and you will decide if it is OK or not. 2) modify the list API. Here the question is if it should be executable only by the administrator. The link creation and deletion calls requires admin rights, however I do not see the reason. I would expect that the user can create/list/delete her own links.
Tue, Jun 20, 2023, 10:01:55 - pdurbin: Kir√°ly P√©ter: my preference would be for you to improve the API rather than change the UI. Are you aware that we are rewriting the entire UI? In React.
Tue, Jun 20, 2023, 10:32:14 - Kir√°ly P√©ter: OK. No, I was not aware of.
Tue, Jun 20, 2023, 10:33:08 - Kir√°ly P√©ter: Will it be ready in 5.14, or it is expected in a more future release?
Tue, Jun 20, 2023, 11:21:52 - pdurbin: Kir√°ly P√©ter: future. Please see "The Dataverse UI is being redesigned as a single-page application..." at https://www.iq.harvard.edu/roadmap-dataverse-project
Tue, Jun 20, 2023, 11:53:07 - Kir√°ly P√©ter: pdurbin: many thanks! Meantime: https://github.com/IQSS/dataverse/pull/9665.
Tue, Jun 20, 2023, 11:56:38 - pdurbin: Sure. And I just left a review.
Wed, Jun 21, 2023, 05:15:18 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Hello there, we just have a quick question about the "publicationDate" of a dataset.
As we can use this date or another for a citation, we would like to know why the "publicationDate" (dvobject) reflect the first publication (version 1.0) and not the last releasetime of last version ?
I was assuming that if publicationDate displayed in metadata was equal to last releasetime (datasetversion), citation using "publicationDate" would be more accurate.
Also, dataset landing page would display the releasetime of the viewed version as "publication date".
Wed, Jun 21, 2023, 05:24:35 - srekik_inrae (https://entrepot.recherche.data.gouv.fr/) joined the room
Wed, Jun 21, 2023, 08:38:36 - zxchen joined the room
Wed, Jun 21, 2023, 09:02:30 - Pallinger P√©ter: Hello, I have a question on login configuration. 
We have shibboleth by default, and use the EduId IdP federation, which has a lot of institutions, so it does not really make sense to select yours from a list. It would be better to have the search box by default.
I could not find a configuration option in dataverse for this. Is there one? I found src/main/webapp/resources/js/shib/idpselect*.js, but could not figure out if its behaviour is changed by any system setting or not...
Wed, Jun 21, 2023, 09:04:35 - Pallinger P√©ter: Hm, I found a 
    this.showListFirst = true;      // Do we start with a list of IdPs or just the dropdown
in the ./src/main/webapp/resources/js/shib/idpselect_config.js
Does this mean that I have to change this and redeploy if I want to use this setting. Is this even the right setting?
Wed, Jun 21, 2023, 09:11:38 - pdurbin: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): you are definitely not the first to think publication date is weird. Please check out this spreadsheet about dates: https://docs.google.com/spreadsheets/d/1kQz10tDH0dQJW_Dub1ljXcLg-40QuZyRENxtHLqZMmM/edit?usp=sharing . It's from this "Creating a better understanding of DV's Dates Fields" thread at https://groups.google.com/g/dataverse-community/c/n4I-bn1ukyQ/m/HWnt3FsSAgAJ
Wed, Jun 21, 2023, 09:13:41 - pdurbin: This thread is related as well: https://groups.google.com/g/dataverse-community/c/neijtUjq8fk/m/Svxl8A_DAwAJ
Wed, Jun 21, 2023, 09:14:49 - pdurbin: Pallinger P√©ter: I know you can toggle between "show a list" and "let me search". Yes, I think that config file you found is the right one to modify.
Wed, Jun 21, 2023, 09:15:35 - Pallinger P√©ter: I see that hardcoding the showListFirst in the git definitely works. I could also make a lineinfile hack at build time with ansible. Maybe I will go that route.
Wed, Jun 21, 2023, 09:16:39 - pdurbin: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): as a workaround, people often use this: https://guides.dataverse.org/en/5.13/api/native-api.html#set-citation-date-field-type-for-a-dataset
Wed, Jun 21, 2023, 09:16:51 - pdurbin: Pallinger P√©ter: cool, sounds like you're making progress!
Wed, Jun 21, 2023, 09:17:49 - Pallinger P√©ter: Or I could even do it in postinst time in ansible by modifying the deployed js file :-P That way it works when you do not build.
Wed, Jun 21, 2023, 09:20:13 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): pdurbin: thanks for the reply, just reading the documents atm. We did used the endpoint to have a better year of publication inside Citation, but if I'm right, when you have another datasetversion another year, you have to change the citation date from publicationDate to depositDate for example. That would concerns a looooot of datasets as it is publicationDate by default 
Wed, Jun 21, 2023, 09:21:22 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): pdurbin: I would expect in term of user experience to have citation year related to the last version published of the dataset by default
Wed, Jun 21, 2023, 09:22:25 - pdurbin: Yeah. Me too. It frustrates me that my dataset shows 2017 in the citation even though I published a new version in 2023.
Wed, Jun 21, 2023, 09:24:49 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Do you think it's a reasonnable feature to : make publicationDate (in citation and dataset metadata tab) match the viewed datasetversion (let's say 2.1) instead of "first publication date of dvobject" ?
Wed, Jun 21, 2023, 09:26:38 - pdurbin: Sure. "First publication of dvobject" might be interesting occasionally but right now it's too prominent, in my opinion.
Wed, Jun 21, 2023, 09:27:29 - pdurbin: I'm sure juliangautier has opinions on all this üòÑ
Wed, Jun 21, 2023, 09:27:34 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): dszabo: what do you think about it ? 
Wed, Jun 21, 2023, 11:24:53 - poikilotherm: Beware about OAI PMH handles this. Just to make sure we don't accidentally introduce breaking changes...
Wed, Jun 21, 2023, 11:25:57 - poikilotherm: If this is just about the UI, I fully agree. This is related to the version PID problem I have, which DOI do you present...
Wed, Jun 21, 2023, 21:43:51 - pdurbin: How long should we wait for dszabo to reply? I'm going to bed. üò¥
Thu, Jun 22, 2023, 01:28:15 - @archive:matrix.org set their display name to archive.matrix.org/faq
Thu, Jun 22, 2023, 05:04:38 - sood2608 joined the room
Thu, Jun 22, 2023, 05:05:35 - sood2608: I can't access the hilda data on dataverse and it is coming up with a 500 Internal Server Error. Does anyone know what this means?
Thu, Jun 22, 2023, 05:19:11 - sood2608: (or how to fix it?) - this is strangely just specifically happening for wave 21 
Thu, Jun 22, 2023, 05:21:18 - dszabo: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): pdurbin I think that would be a good solution, we can take that in INRAE developments in the coming months
Thu, Jun 22, 2023, 05:28:29 - dszabo: Sorry, only checking this now, I don't know if it is because there is no team yet but I also can't see this page. If think we can try to see if adding a team works, but it seems that the whole /settings is inaccessible currently :/
Thu, Jun 22, 2023, 06:32:36 - pdurbin: I don't know if this helps or confuses matters but the new React UI uses a new API endpoint at /api/datasets/{datasetId}/versions/{version}/citation to get the citation (including the year). See the release note at https://github.com/IQSS/dataverse/pull/9592/files at the top.
Thu, Jun 22, 2023, 06:33:08 - pdurbin: So maybe we should consider modifying that new endpoint?
Thu, Jun 22, 2023, 06:33:50 - pdurbin: Either way we need broader discussion than just here. An issue, maybe a google doc. We could even have a community call about it if we want.
Thu, Jun 22, 2023, 06:34:52 - pdurbin: sood2608: hilda? Are you talking about https://dataverse.ada.edu.au/dataverse/hilda ?
Thu, Jun 22, 2023, 06:35:57 - pdurbin: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/) dszabo : more discussion before anyone starts coding, I mean. I'm glad you're eager to contribute!
Thu, Jun 22, 2023, 06:37:39 - pdurbin: Oh! It looks like someone created an issue already! Change displayed 'publicationDate' in citation and metadata #9674 - https://github.com/IQSS/dataverse/issues/9674
Thu, Jun 22, 2023, 06:57:08 - sood2608: <@pdurbin:matrix.org "sood2608: hilda? Are you talking..."> hi, yes! that's the one
Thu, Jun 22, 2023, 06:57:19 - sood2608: It's just wave 21 that won't open for me
Thu, Jun 22, 2023, 06:58:31 - pdurbin: this one: https://dataverse.ada.edu.au/dataset.xhtml?persistentId=doi:10.26193/KXNEBO
Thu, Jun 22, 2023, 06:59:21 - pdurbin sent an image. (Media omitted)
Thu, Jun 22, 2023, 06:59:51 - pdurbin: sood2608: I would suggest using the "Support" button to get in touch with them ^^
Thu, Jun 22, 2023, 07:11:27 - sood2608: Message deleted
Thu, Jun 22, 2023, 07:11:40 - sood2608: pdurbin: thank you! I appreciate the help!
Thu, Jun 22, 2023, 07:20:35 - zbenta: Hi guys, I'm facing an issue here, we have the JdkHttpOaiClient.java class in version 5.0.0-RC2 and OaiHandler.java  in line 153 states that the method withCustomHeaders does not exist. 
Thu, Jun 22, 2023, 07:21:13 - zbenta sent an image. (Media omitted)
Thu, Jun 22, 2023, 07:22:41 - zbenta: Are we using the code from the release 5.13, are we using the correct version of JdkHttpOaiClient.java class?
Thu, Jun 22, 2023, 07:36:26 - pdurbin: poikilotherm (CEST,UTC+2)is at a conference today but when he gets a minute I suspect he'll know
Thu, Jun 22, 2023, 07:37:33 - zbenta: Thanks pdurbin 
Thu, Jun 22, 2023, 07:42:40 - zbenta: It looks like downgrading to version 5.0.0 solves the issue.
Thu, Jun 22, 2023, 08:09:16 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): the someone is our team member srekik_inrae (https://entrepot.recherche.data.gouv.fr/)  :D
Thu, Jun 22, 2023, 08:22:43 - srekik_inrae (https://entrepot.recherche.data.gouv.fr/): <@luddaniel:matrix.org "the someone is our team member s..."> Yes it was me, sorry for not introducing myself when creating the issue ( now it's updated )
Thu, Jun 22, 2023, 08:23:11 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Yes, I think each code displaying a publicationDate must be edited according to the need, it's hard to make something generic without risking bad behaviour.
So in the first place :
-Code of Dataverse without SPA on display of metadata tab and citation popin
-Code of citation endpoint
While reading the previous exchanges, I was thinking about changing the facet "Publication date" to "First publication date", but it's start to have a lot of implication... (SOLR, other facets...)
Thu, Jun 22, 2023, 08:25:06 - pdurbin: When you look at the native JSON for a dataset, does it have the date you want? (I can go check my dataset as an example.)
Thu, Jun 22, 2023, 08:26:15 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/):   "publicationDate": "2022-06-23" is equal to first published version 1.0
Thu, Jun 22, 2023, 08:26:25 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): this is 100% invalid on other version 
Thu, Jun 22, 2023, 08:26:30 - pdurbin: When I look at https://dataverse.harvard.edu/api/datasets/export?exporter=dataverse_json&persistentId=doi%3A10.7910/DVN/TJCLKP it have the newer date (2023 instead of 2017) in both releaseTime and lastUpdateTime.
Thu, Jun 22, 2023, 08:27:02 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "When I look at https://dataverse...">   "publicationDate": "2017-07-06",

Thu, Jun 22, 2023, 08:27:44 - pdurbin: Right, and the old date appears under "citation" (in the JSON): `'Durbin, Philip, 2017, "Open Source at Harvard",...`
Thu, Jun 22, 2023, 08:28:03 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): and in the research (facet publication date)
Thu, Jun 22, 2023, 08:28:10 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): and in metadata tab
Thu, Jun 22, 2023, 08:28:11 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): :D
Thu, Jun 22, 2023, 08:29:44 - pdurbin: Right, well, I'm thinking about the new React SPA. Generally, I'd like us to stop changing the old JSF UI and concentrate our efforts on the new React SPA UI. And any necessary API changes. But it seems like the API already exposes the new date separately, just not in the citation.
Thu, Jun 22, 2023, 08:30:14 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "Right, well, I'm thinking about ..."> I felt that :D
Thu, Jun 22, 2023, 08:30:25 - pdurbin: The facets come from Solr. We can reindex different dates. It's definitely related.
Thu, Jun 22, 2023, 08:30:51 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): I don't know if there is a usecase for this date, but I would hide this date everywhere and use "releaseTime" of the viewed version instead everytime and by default the last one.
Thu, Jun 22, 2023, 08:31:30 - pdurbin: How do you feel about starting a google doc that gives details about the proposed changes?
Thu, Jun 22, 2023, 08:32:48 - pdurbin: The new SPA uses the "citation" field from the JSON, by the way. So the same behavior (2017 instead of 2023) is there. The behavior we don't like.
Thu, Jun 22, 2023, 08:35:28 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): that's why I would remove each java code using "getPublicationDate() and replaced it with a function getting the viewed releasetime version or the newest one by default
I don't see why we need publicationDate atm
Thu, Jun 22, 2023, 08:40:54 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@luddaniel:matrix.org "that's why I would remove each j..."> this would not work for the current SOLR used date, it would need each version to be indexed independently.. complicated subject  
Thu, Jun 22, 2023, 08:42:07 - pdurbin: Do we think there are installations that like the current behavior? I worry about simply changing things. Maybe a setting could be added.
Thu, Jun 22, 2023, 08:42:14 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "How do you feel about starting a..."> We hope to do this in next days
Thu, Jun 22, 2023, 08:42:31 - pdurbin: Ok, great, no rush. It's an old problem.
Thu, Jun 22, 2023, 08:42:44 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "Do we think there are installati..."> you are right; this is why I came to you to understand :D
Thu, Jun 22, 2023, 08:43:38 - pdurbin: We've already talked about how for a single dataset, the date can be changed, right?
Thu, Jun 22, 2023, 08:43:52 - pdurbin: I've thought about doing this for my dataset, actually.
Thu, Jun 22, 2023, 08:44:21 - pdurbin: this: https://guides.dataverse.org/en/5.13/api/native-api.html#set-citation-date-field-type-for-a-dataset
Thu, Jun 22, 2023, 08:45:02 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): an idea : add a setting to set the default used date, so another field could be used without setting each dataset
Thu, Jun 22, 2023, 08:45:51 - pdurbin: Right and maybe the setting would be checked first but then for an individual dataset, it could be overridden (just like it can be now)?
Thu, Jun 22, 2023, 08:46:03 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): yes
Thu, Jun 22, 2023, 08:46:22 - pdurbin: Would you be able to poke around with that API and learn more about how it works?
Thu, Jun 22, 2023, 08:46:29 - pdurbin: Does it change the citation in the JSON, for example?
Thu, Jun 22, 2023, 08:46:32 - pdurbin: I have no idea.
Thu, Jun 22, 2023, 08:46:32 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): this is about changing the default value to set another value
Thu, Jun 22, 2023, 08:47:12 - pdurbin: And does it only affect the citation? Does it touch other fields? I don't know.
Thu, Jun 22, 2023, 08:47:17 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): I would say yes, if it's the same code
Thu, Jun 22, 2023, 08:47:36 - pdurbin: Yeah, I hope üòÑ
Thu, Jun 22, 2023, 08:47:39 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): this can be checked in java code
Thu, Jun 22, 2023, 08:48:13 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): it would be the most flexible option
Thu, Jun 22, 2023, 08:48:51 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): between what we don't know, each installation needs and be ready for SPA
Thu, Jun 22, 2023, 08:48:57 - pdurbin sent an image. (Media omitted)
Thu, Jun 22, 2023, 08:49:01 - pdurbin: Have you seen this? ^^
Thu, Jun 22, 2023, 08:49:17 - pdurbin: From "Dataverse 4.0 Dates (Creation Date, Publication Date, etc.) and Sorting" - https://docs.google.com/document/d/1DWsEqT8KfheKZmMB3n_VhJpl9nIxiUjai_AIQPAjiyA/edit?usp=sharing
Thu, Jun 22, 2023, 08:49:31 - pdurbin: "Publication Date: the date of first release, version 1, from draft to public"
Thu, Jun 22, 2023, 08:49:35 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): no but it confirms what I think :D
Thu, Jun 22, 2023, 08:49:36 - pdurbin: so it's all by design
Thu, Jun 22, 2023, 08:49:56 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): yes
Thu, Jun 22, 2023, 08:50:16 - pdurbin: Fri Apr 11 12:25:42 EDT 2014 (Merce, Gustavo, Stephen, Liz, Phil)
Thu, Jun 22, 2023, 08:50:24 - pdurbin: Sorry I didn't object back then!
Thu, Jun 22, 2023, 08:50:26 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): we cannot change this easily 
Thu, Jun 22, 2023, 08:50:50 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): it's used everywhere
Thu, Jun 22, 2023, 08:51:17 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): but there is another topic on citation...
Thu, Jun 22, 2023, 08:51:59 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): citation should be related to a DOI, a datasetversion must a different DOI, and citation would have by design the releasetime of the version
Thu, Jun 22, 2023, 08:56:09 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@luddaniel:matrix.org "citation should be related to a ..."> because citation should match a "version state" of a dataset according to the metadata and files of the version
citation targetting the whole dataset with many versions does not really make sense 
Thu, Jun 22, 2023, 08:56:59 - pdurbin: If what you want is DOIs per dataset version, poikilotherm (CEST,UTC+2) is coming to your rescue with https://github.com/IQSS/dataverse/pull/9462
Thu, Jun 22, 2023, 08:57:15 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): I come with heavy conclusion, but feel free to correct me :D 
Thu, Jun 22, 2023, 08:57:29 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): <@pdurbin:matrix.org "If what you want is DOIs per dat..."> I saw :D
Thu, Jun 22, 2023, 08:58:14 - pdurbin: should solve a lot of problems
Thu, Jun 22, 2023, 08:58:30 - pdurbin: right now you have to tell people "this DOI but v4"
Thu, Jun 22, 2023, 08:59:10 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): yes
Thu, Jun 22, 2023, 09:59:12 - pdurbin: zbenta: it's actually an upgrade, to move from a release candidate (5.0.0-RC2) to a final version (5.0.0). Are you all set?
Thu, Jun 22, 2023, 10:01:07 - poikilotherm: <@luddaniel:matrix.org "an idea : add a setting to set t..."> Please make that an MPCONFIG thing, thx
Thu, Jun 22, 2023, 10:05:37 - poikilotherm: Might be interesting to use the same approach as will be used for version PIDs and file PIDs to make the global default set by an admin overrideable by a collection
Thu, Jun 22, 2023, 10:05:59 - poikilotherm: And again: please make sure about the consequences for OAI-PMH harvesting
Thu, Jun 22, 2023, 10:08:31 - pdurbin: It'll all go in the doc üòÖ
Thu, Jun 22, 2023, 10:08:44 - pdurbin: I guess we need to decide how big of a chunk we want
Thu, Jun 22, 2023, 10:09:21 - pdurbin: I did add this date thing to the frontend meeting agenda. The meeting is in about an hour. Not sure if we'll get to it or not.
Thu, Jun 22, 2023, 10:10:04 - pdurbin: As I said, we've already copied this behavior people don't like into the new UI. All features go in. All bugs too. üòÑ
Thu, Jun 22, 2023, 10:25:38 - pdurbin: Although as discussed this date thing is by design üò¨
Thu, Jun 22, 2023, 11:58:03 - pdurbin: We touched on the date thing very briefly. It's on Guillermo Portas 's radar at least.
Thu, Jun 22, 2023, 13:36:01 - Donald Sizemore II: @pdurbin I have an institutional memory question, whenever you've got a minute?
Thu, Jun 22, 2023, 13:36:30 - pdurbin: Hit me 
Thu, Jun 22, 2023, 13:37:07 - Donald Sizemore II: there was a PR, not too long ago, concerning identifying junk files on local storage / in bucket not accounted for in the DB. I can't seem to turn it up?
Thu, Jun 22, 2023, 13:37:36 - Donald Sizemore II: found it
Thu, Jun 22, 2023, 13:37:42 - Donald Sizemore II: principle of maximum embarrassment!
Thu, Jun 22, 2023, 13:38:31 - pdurbin: Ha
Thu, Jun 22, 2023, 13:38:51 - pdurbin: Lots of good stuff in the next release 
Thu, Jun 22, 2023, 13:39:11 - pdurbin: Release notes as long as your arm
Thu, Jun 22, 2023, 16:56:32 - pdurbin: Ok, folks, have a good weekend. Mine starts now and then I'm on vacation (taking the kids to Iceland) until Monday, July 10th. Take care of this channel for me! Thanks! ‚ù§Ô∏è
Thu, Jun 22, 2023, 17:50:55 - juliangautier: Thanks for pinging me about the citation date discussion pdurbin. My only opinion is really to seek out opinions and behaviors from as much of the community as possible. For example I think there are existing GitHub issues related to the publication date that might have info to consider, there might be people who have reasons for wanting the first version's year to be used for all versions, and how embargoes affect a dataset's publication date might need to be considered.
Thu, Jun 22, 2023, 17:51:08 - juliangautier: I'm glad this is coming up again. A while back when some folks in the community were working on clarifying the definitions and uses of Dataverse's different date fields, I proposed research to learn what different types of users expect when they provide and see these dates. Maybe it'll be more feasible to for research to consider only the publication date and versioning.
Thu, Jun 22, 2023, 18:26:35 - juliangautier: How repositories handle certain dates and versioning has come up in our conversations with other generalist repositories, like Zenodo and figshare, as part of this NIH GREI competition. That might be a good chance to consider how other repository systems influence what certain types of users expect 
Fri, Jun 23, 2023, 17:33:01 - Andy Richardson joined the room
Tue, Jun 27, 2023, 08:56:07 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Hello there, just to let you now that the Google Doc for publicationDate matter is initiated : https://docs.google.com/document/d/1iKurLtDAp5koENXhKiCT9mPkcNSFZsMRMl3EVPLCoD8/edit
pdurbin poikilotherm (CEST,UTC+2) juliangautier dszabo srekik_inrae (https://entrepot.recherche.data.gouv.fr/)
Wed, Jun 28, 2023, 07:44:16 - Rolf: Greetings! Can anyone point me to information about governance of the Dataverse Project?

I assume there is a board or other governing body, but I have not been able to find information on the subject.
Wed, Jun 28, 2023, 07:47:08 - Donald Sizemore II: @Rolf there is a Consortium but it doesn't govern Dataverse in the way a board would. let me pass your question on to IQSS.
Wed, Jun 28, 2023, 07:47:35 - Rolf: <@don.sizemore:matrix.org "@Rolf there is a Consortium but ..."> Thank you! :-)
Wed, Jun 28, 2023, 07:49:47 - Rolf: <@don.sizemore:matrix.org "@Rolf there is a Consortium but ..."> I assume there must be a group of leadershipt that makes decision on the strategic direction of the code base, code guidelines etc.
Wed, Jun 28, 2023, 07:52:17 - Rolf: Aah I think I may have the answer here https://dataversecommunity.global/about, but it would be nice to know if that is the information available. :-)
Wed, Jun 28, 2023, 07:56:05 - Donald Sizemore II: @Rolf the Consortium exists to help member institutions pool their resources to pay programmers to contribute code / functionality to Dataverse, but it doesn't make policy decisions at the level you're describing.
Wed, Jun 28, 2023, 07:57:12 - Rolf: Ok, but who ultimately decides if a code contribution is merged with the Dataverse code base?
Wed, Jun 28, 2023, 07:58:35 - Donald Sizemore II: one of the core developers at IQSS
Wed, Jun 28, 2023, 07:59:12 - Donald Sizemore II:  (and, ultimately, their software tester)
Wed, Jun 28, 2023, 08:00:37 - Rolf: So there is an open community but IQSS has the final say and ownership of the code base?
Wed, Jun 28, 2023, 08:00:54 - Donald Sizemore II: I believe it belongs to the regents of Harvard
Wed, Jun 28, 2023, 08:01:29 - Donald Sizemore II: I'm wrong, it's straight Apache 2.0 https://github.com/IQSS/dataverse/blob/develop/LICENSE.md
Wed, Jun 28, 2023, 08:01:45 - Donald Sizemore II: but yes, IQSS has the final say.
Wed, Jun 28, 2023, 08:01:51 - Rolf: That would be my assumption as well.

Thank you for quick and informative answers!! :-)
Wed, Jun 28, 2023, 08:02:08 - Donald Sizemore II: well, I hope I'm telling you correctly. I posed your question in IQSS' Slack but it's a little early there.
Wed, Jun 28, 2023, 08:02:48 - Rolf: Thanks!
Wed, Jun 28, 2023, 09:42:49 - poikilotherm: Donald Sizemore II: I think you didn't make any false claims. IQSS has the final say right now and there are no formal governance processes aside from "IQSS says what goes into the codebase".
Wed, Jun 28, 2023, 10:21:40 - Donald Sizemore II: @Rolf the IQSS project manager points you to https://dataverse.org/about specifically the collaboration heading - that's all I got.
Wed, Jun 28, 2023, 10:22:21 - Donald Sizemore II: @poikilotherm that said, it's open source, and there's at least one known public fork
Wed, Jun 28, 2023, 19:49:05 - sam: Is there an API to list versions of a dataset in Dataverse?
Thu, Jun 29, 2023, 07:30:57 - Donald Sizemore II: @sam try https://guides.dataverse.org/en/latest/api/native-api.html#list-versions-of-a-dataset ?
Fri, Jun 30, 2023, 04:02:13 - Pallinger P√©ter: Hello! I am trying to use the swift storage driver. Is there a way to disable ssl certificate checking?
Fri, Jun 30, 2023, 07:16:00 - Donald Sizemore II: Pallinger P√©ter: hello sir! I don't see much in the Payara docs, I'm afraid.
Fri, Jun 30, 2023, 07:16:32 - Pallinger P√©ter: thanks, I will try to import the self-signer CA into the java CAs
Fri, Jun 30, 2023, 07:33:10 - Donald Sizemore II: I haven't forgotten the number of PRs and other stuff in the Ansible role, BTW. I need that Twilight Zone stopwatch so I can work for maybe a month straight, and cross everything off my list...
Fri, Jun 30, 2023, 07:43:36 - Pallinger P√©ter: Yea, a hyperbolic time chamber or similar would be useful too. The only problem would be that I would grow old way too fast.
Fri, Jun 30, 2023, 07:50:02 - loicsomting: <@pallinger:sztaki.hu "Yea, a hyperbolic time chamber o..."> A what?
https://www.youtube.com/watch?v=exoicsdAVKg
Fri, Jun 30, 2023, 12:10:07 - Miguel Silva: Hi everyone.
just to let everyone here know, I'll be programming in July, a C++ library specifically for Tensillica LXx MCUs (ESP32 ). Anyone can follow development on my GitHub 

(12-bit and 24-bit DAQ)

https://github.com/aeonSolutions/openScience-Smart-DAQ-to-Upload-Live-Experimental-Data-to-a-Data-Repository

Fri, Jun 30, 2023, 12:11:21 - Miguel Silva: <@loicsomting:matrix.org "A what?"> got to love dragon ball ZZZZzzzzzzzz......
Fri, Jun 30, 2023, 12:30:00 - poikilotherm: <@pallinger:sztaki.hu "Hello! I am trying to use the sw..."> On a related note: this driver is IMHO eligible for removal, as it is completely unmaintained and grossly untested. There are ideas to make storage drivers pluggable though, so the community could maintain one independently.
Fri, Jun 30, 2023, 12:30:32 - poikilotherm: Unless you are stuck with Swift, I strongly suggest S3 or one of the many options to create an S3 facade
Fri, Jun 30, 2023, 12:32:41 - poikilotherm: I know that recent versions of OpenStack Swift support an S3 API. https://docs.openstack.org/swift/rocky/s3_compat.html Suppose S3 is becoming a defacto standard protocol for object storage access.
Fri, Jun 30, 2023, 12:35:18 - Pallinger P√©ter: Thank you, I will take that into consideration!
Mon, Jul 3, 2023, 07:15:32 - Miguel Silva: Hi everyone
how was the weekend ?
Mon, Jul 3, 2023, 07:17:03 - Miguel Silva: I'll be performing, all day, a run test on the smart 12-bit data acquisition. Watch the LIVE stream on my YouTube. Link below:

https://www.youtube.com/watch?v=rRnROuzYYE8
Mon, Jul 3, 2023, 11:33:13 - zbenta: Hi guys, we are having an issue with regards to the blocking of the admin API. We are allowing only localhost access to the API, but it looks like it is not working as you guys can see in the picture bellow. We are runnig version 5.13 of dataverse that we've compiled ourselves and can't explain why we can still see the API endpoint. Did we miss any setting before compiling?
Mon, Jul 3, 2023, 11:33:20 - zbenta sent an image. (Media omitted)
Mon, Jul 3, 2023, 11:45:54 - Donald Sizemore II: @zbenta boa tarde! when I try on a 5.13 test server, I get `{ status:"error", message:"Endpoint available from localhost only. Please contact the dataverse administrator"}`
Mon, Jul 3, 2023, 11:47:42 - Donald Sizemore II: @zbenta at a glance, your settings look correct.
Tue, Jul 4, 2023, 04:21:56 - zbenta: Hi Donald Sizemore II it is kind of weird, since all settings also look ok to us, that's why we asked if there was some extra specific setting for version 5.13 that we should use.
Tue, Jul 4, 2023, 06:04:07 - pdurbin sent an image. (Media omitted)
Tue, Jul 4, 2023, 06:05:08 - pdurbin: Happy 4th of July from Iceland! Stay safe, America! üá∫üá≤
Tue, Jul 4, 2023, 07:49:44 - Donald Sizemore II: @zbenta are other actions which should be vetted by the permissions engine restricted?
Tue, Jul 4, 2023, 10:48:26 - thomasweiss set a profile picture
Thu, Jul 6, 2023, 03:33:10 - zbenta: <@don.sizemore:matrix.org "@zbenta are other actions which ..."> Sorry, I didn't understand your question.
Thu, Jul 6, 2023, 05:37:43 - poikilotherm: <@zbenta:matrix.org "Sorry, I didn't understand your ..."> He wants to know if you are also able to access other admin API endpoints from non-localhost origins, which should be blocked
Thu, Jul 6, 2023, 06:28:24 - zbenta: Thanks for the clarification poikilotherm (CEST,UTC+2).  Yes we can.
Thu, Jul 6, 2023, 06:36:49 - zbenta: Just another quick question, do we have to use the "sendNotification" method from the "UserNotificationServiceBean" in specific context? We are trying to use it and are getting some exceptions:
Thu, Jul 6, 2023, 06:36:52 - zbenta: [2023-07-06T10:51:23.484+0100] [Payara 5.2022.3] [SEVERE] [ejb.stateless_ejbcreate_exception] [javax.enterprise.ejb.container] [tid: _ThreadID=90 _ThreadName=http-thread-pool::http-listener-1(5)] [timeMillis: 1688637083484] [levelValue: 1000] [[
  EJB5070: Exception creating stateless session bean : [MailServiceBean]]]

[2023-07-06T10:51:23.491+0100] [Payara 5.2022.3] [WARNING] [AS-EJB-00056] [javax.enterprise.ejb.container] [tid: _ThreadID=90 _ThreadName=http-thread-pool::http-listener-1(5)] [timeMillis: 1688637083491] [levelValue: 900] [[
  A system exception occurred during an invocation on EJB MailServiceBean, method: public java.lang.Boolean edu.harvard.iq.dataverse.MailServiceBean.sendNotificationEmail(edu.harvard.iq.dataverse.UserNotification,java.lang.String,edu.harvard.iq.dataverse.authorization.users.AuthenticatedUser,boolean)]]

[2023-07-06T10:51:23.495+0100] [Payara 5.2022.3] [WARNING] [] [javax.enterprise.ejb.container] [tid: _ThreadID=90 _ThreadName=http-thread-pool::http-listener-1(5)] [timeMillis: 1688637083495] [levelValue: 900] [[
  Caused by: javax.ejb.EJBException: javax.ejb.CreateException: Could not create stateless EJB
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.create(StatelessSessionContainer.java:653)
	at com.sun.ejb.containers.util.pool.NonBlockingPool.getObject(NonBlockingPool.java:219)
	at com.sun.ejb.containers.StatelessSessionContainer.\_getContext(StatelessSessionContainer.java:395)
	... 136 more
Caused by: javax.ejb.CreateException: Could not create stateless EJB
	at com.sun.ejb.containers.StatelessSessionContainer.createStatelessEJB(StatelessSessionContainer.java:473)
	at com.sun.ejb.containers.StatelessSessionContainer.access$000(StatelessSessionContainer.java:100)
	at com.sun.ejb.containers.StatelessSessionContainer$SessionContextFactory.create(StatelessSessionContainer.java:651)
	... 138 more
Caused by: java.lang.IllegalStateException: Exception attempting to inject Res-Ref-Env-Property: mail/notifyMailSession@javax.mail.Session@ resolved as: jndi: mail/notifyMailSession@res principal: null@mail: null
Thu, Jul 6, 2023, 06:41:40 - zbenta: Our method looks like this: 
Thu, Jul 6, 2023, 06:41:44 - zbenta: public void notifyUsers(Long objectID){
        AuthenticatedUser loggedInUser =  authenticationSvc.getAuthenticatedUser(session.getUser().getIdentifier());
        userNotificationSvc.sendNotification(loggedInUser,new Timestamp(new Date().getTime()), UserNotification.Type.ASSIGNROLE,objectID,"Permission Granted");  
    }
Thu, Jul 6, 2023, 07:10:31 - Donald Sizemore II: poikilotherm (CEST,UTC+2): zbenta I was asking about pretty much any other action which should go through the permissions engine (try to edit a dataset to which one doesn't have rights, restrict a datafile not owned by you, etc)
Thu, Jul 6, 2023, 07:14:29 - Donald Sizemore II: zbenta: that's a new error to me, but what do you have set for `mail-resource` in domain.xml (is it responding, does it require smtp-auth, can mailx use it?)
Thu, Jul 6, 2023, 07:24:56 - zbenta: Thanks for the tip Donald Sizemore II , since I'm running dataverse locally I dind't bother to setup the smtp server settings, I'll take a look into it.
Thu, Jul 6, 2023, 09:17:34 - zbenta: Problem solved, thanks Donald Sizemore II ;-)
Thu, Jul 6, 2023, 13:08:09 - g.sarigiannis: Hey everyone, quick question:  As stated in the user guide: "Note that some Dataverse installations do not allow for file restrictions." Does version 5.13 support file restrictions?
Thu, Jul 6, 2023, 13:48:24 - juliangautier: Hey 
g.sarigiannis. Yup, v5.13 has the file restrictions feature. That line in the guides is saying that some installations might not allow the use of the feature
Thu, Jul 6, 2023, 14:22:12 - g.sarigiannis: juliangautier: The thing is, even when I restrict a file, it is listed as "Restricted with access granted" so it can be downloaded normally by anyone
Thu, Jul 6, 2023, 14:24:24 - juliangautier: Oh interesting. Is this a file in a dataset that you can post the link to here?
Mon, Jul 10, 2023, 15:19:14 - Donald Sizemore II: pdurbin: any chance you're around for a metadata block / Solr question? (if not, that's fine)
Mon, Jul 10, 2023, 15:22:45 - pdurbin: still catching up after that trip to Iceland (just got back yesterday) but hit me
Mon, Jul 10, 2023, 15:23:23 - pdurbin sent an image. (Media omitted)
Mon, Jul 10, 2023, 15:23:38 - pdurbin: come get some chocolate ^^
Mon, Jul 10, 2023, 15:23:42 - Donald Sizemore II: Mandy edited an existing custom metadata block (and things went fine)
Mon, Jul 10, 2023, 15:23:57 - Donald Sizemore II: I already sent a guy here a picture of the chocolate! He seems to have an endless supply of Swiss chocolate
Mon, Jul 10, 2023, 15:24:22 - pdurbin: actually, I still have some left from Portugal
Mon, Jul 10, 2023, 15:24:42 - Donald Sizemore II: Mandy added some controlled vocabulary entries in this custom metadata block (and things went fine)
Mon, Jul 10, 2023, 15:25:16 - Donald Sizemore II: but she used Microsoft Excel to edit the file, which put in smart quotes and other funsies. so she went back in Notepad, removed all the quotes and the strange UTF-8 character.
Mon, Jul 10, 2023, 15:25:43 - Donald Sizemore II: This afternoon I reloaded that metadata block for her, and now she's seeing duplicate entries of certain of the controlled vocabulary entries when she tries to create a new dataset
Mon, Jul 10, 2023, 15:26:22 - pdurbin: What do you see at the equivalent of https://demo.dataverse.org/api/metadatablocks/citation ? Duplicates?
Mon, Jul 10, 2023, 15:26:22 - Donald Sizemore II: She thinks if I drop and reload the DB (it's a test server) things should be fine, but... are we correct that Solr (or, perhaps, Dataverse) is treating these entries as strings when they're quoted?
Mon, Jul 10, 2023, 15:27:23 - pdurbin: Metadata customization is a sharp tool. It's easy to cut yourself.
Mon, Jul 10, 2023, 15:27:23 - Donald Sizemore II: thank you - I've sent that endpoint to Mandy for her to review.
Mon, Jul 10, 2023, 15:27:37 - pdurbin: Sure. I'm glad it's a test server.
Mon, Jul 10, 2023, 15:27:43 - Donald Sizemore II: I'm not worried about the test server - we can dump and reload its DB repeatedly. I don't want this to happen on our not-test server.
Mon, Jul 10, 2023, 15:27:54 - pdurbin: 100%
Mon, Jul 10, 2023, 15:29:14 - Donald Sizemore II: also, welcome back! you missed an apparent heat wave up there.
Mon, Jul 10, 2023, 15:29:57 - pdurbin: Nice. In most of our pics we're wearing coats and hats.
Mon, Jul 10, 2023, 15:31:39 - Donald Sizemore II: she says "No. The only duplicates showing are in the controlled vocabularies for factorsGratitude, interventionGratitude, and attributionGratitude."
Mon, Jul 10, 2023, 15:31:55 - Donald Sizemore II:  (this is the "Love" metadata block)
Mon, Jul 10, 2023, 15:32:31 - Donald Sizemore II: I can send the TSV in to support@dataverse.org if you think maybe Julian should take a look
Mon, Jul 10, 2023, 16:29:42 - pdurbin: Hmm, can you drop the database and see if that fixes it?
Mon, Jul 10, 2023, 16:33:08 - Donald Sizemore II: that's our plan for tomorrow. reload DB, head straight for the most recent copy of the TSV, test again
Mon, Jul 10, 2023, 16:34:14 - pdurbin: great
Mon, Jul 10, 2023, 16:36:22 - Donald Sizemore II: also Jim is sending me SQL to remove duplicate CVV should we need it
Mon, Jul 10, 2023, 16:37:41 - pdurbin: nice
Tue, Jul 11, 2023, 05:21:03 - Johannes Darms: has someone used the new configbaker image to update the solr schema? I get the following error:
```
# curl "http://${DATAVERSE_HOSTNAME}:8080/api/admin/index/solr/schema" | /scripts/update-fields.sh /template/conf/schema.xml
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100 23010    0 23010    0     0   313k      0 --:--:-- --:--:-- --:--:--  316k
ed: unimplemented command
ed: can't find string "SCHEMA-FIELDS::BEGIN"
ed: can't find string "SCHEMA-FIELDS::END"
ed: bad line range for delete
ed: unimplemented command
ed: can't find string "SCHEMA-COPY-FIELDS::BEGIN"
ed: can't find string "SCHEMA-COPY-FIELDS::END"
ed: bad line range for delete
```
Tue, Jul 11, 2023, 07:26:30 - pdurbin: Hmm. I haven't tried that yet.
Tue, Jul 11, 2023, 07:55:43 - Donald Sizemore II: I find one mention of "configbaker" in Zulip, but not much chatter about it there.
Tue, Jul 11, 2023, 08:11:48 - pdurbin: This is the main configbaker topic: https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/configuration.20.2F.20bootstrapping
Tue, Jul 11, 2023, 08:12:23 - pdurbin: But the dedicated topic that Johannes Darms created for his Solr issue is perfect (thanks): https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/configbaker.20to.20update.20solr.20schema/near/374241211
Tue, Jul 11, 2023, 11:11:30 - Donald Sizemore II: @pdurbin when you're done with your meetings and have a minute, may I ask a favor?
Tue, Jul 11, 2023, 11:13:46 - Donald Sizemore II: what I'm curious about: in today's community meeting you mentioned FlyWay scripts which IQSS uses alongside metadata block updates.
Tue, Jul 11, 2023, 11:14:03 - Donald Sizemore II: I'm grepping locally through https://github.com/IQSS/dataverse/tree/develop/src/main/resources/db/migration for keywords that come to mind, but don't see such an SQL update?
Tue, Jul 11, 2023, 11:14:27 - Donald Sizemore II: I did find a mention of "citation" in V5.10.1.1__8533-semantic-updates.sql which concerns multiple licenses
Tue, Jul 11, 2023, 11:17:45 - pdurbin: hmm, I'm looking
Tue, Jul 11, 2023, 11:19:09 - Donald Sizemore II: I ask because we're attempting to update a custom metadata block as well, and... SQL scripts to accompany TSV updates were news to me. Indifferent news, but news all the same.
Tue, Jul 11, 2023, 11:36:04 - pdurbin: I can't find a good example
Tue, Jul 11, 2023, 11:36:12 - pdurbin: Maybe there isn't one
Tue, Jul 11, 2023, 11:59:11 - Donald Sizemore II: Now that I re-read the docs, the "Reload a Metadata Block" section sez "The ability to reload metadata blocks means that SQL update scripts don‚Äôt need to be written for these changes."
Tue, Jul 11, 2023, 11:59:16 - Donald Sizemore II: I feel better now. Thanks.
Tue, Jul 11, 2023, 13:31:25 - poikilotherm: IIRC there where changes in the past when the schema changed in a non-additional way. I don't really it ATM, but probably greeting for "field" should reveal sth., as the table names are rather specific 
Tue, Jul 11, 2023, 13:32:25 - poikilotherm: Oh and I definitely had a change in the past where a controlled vicab value was to be deleted. That is not possible with schema reloads now.
Tue, Jul 11, 2023, 14:11:40 - Donald Sizemore II: @poikilotherm all I really found there is https://github.com/IQSS/dataverse/blob/develop/src/main/resources/db/migration/V5.3.0.3__7551-expanded-compound-datasetfield-validation.sql
Wed, Jul 12, 2023, 05:30:34 - zbenta: Hi guys, any idea where we can find the trigger for that little spinner when we create or save something in dataverse? We would like to trigger it while executing some code in the background. 
Wed, Jul 12, 2023, 07:33:55 - pdurbin: This? https://github.com/IQSS/dataverse/blob/v5.13/src/main/webapp/resources/images/ajax-loading.gif
Wed, Jul 12, 2023, 07:38:47 - zbenta: Exactly pdurbin.
Wed, Jul 12, 2023, 07:41:16 - pdurbin: I would suggest looking in the code for how it's used. I'm not sure myself
Wed, Jul 12, 2023, 07:42:29 - zbenta: it look like it is bieng use in an iframe
Wed, Jul 12, 2023, 07:42:31 - zbenta: document.write('<iframe id="dataverse-widget" src="' + params.dvUrl + '/dataverse/' + params.alias + '?widget=dataverse@' + params.alias + '" width="100%" height="' + params.heightPx + '" style="border:0; background:url(' + params.dvUrl + '/resources/images/ajax-loading.gif) no-repeat 50% 50%;"></iframe><script>var widgetScope = "' + params.alias + '"; var dvUrl = "' + params.dvUrl + '";</script><script src="' + params.dvUrl + '/resources/js/widgets-host.js"></script>');
Wed, Jul 12, 2023, 08:38:54 - Donald Sizemore II: is it this? https://github.com/IQSS/dataverse/blob/dae1484e92ef37f84f9d7ba0c3241798392d42a0/src/main/webapp/resources/js/nunjucks.js#L4643
Wed, Jul 12, 2023, 08:50:31 - pdurbin: Hmm, maybe it's ajaxStatusPanel
Wed, Jul 12, 2023, 08:52:36 - pdurbin: https://github.com/IQSS/dataverse/commit/22d11be
Thu, Jul 13, 2023, 07:39:08 - pdurbin: containerization meeting in a couple of hours, all are welcome! https://ct.gdcc.io
Thu, Jul 13, 2023, 17:17:33 - pdurbin: Phew! I think I'm caught up on everything but the backlog of messages here. I'll scroll back but please let me know if I missed anything!
Fri, Jul 14, 2023, 09:11:20 - pdurbin: Rolf: one thing I'll add from the technical perspective is that while IQSS sets the roadmap ( https://www.iq.harvard.edu/roadmap-dataverse-project , with input from the community, of course), core developers (and there are three that don't work for IQSS) are authorized to approve pull requests on our project board ( https://github.com/orgs/IQSS/projects/2 ) and send them to QA (to be tested and merged). So core developers, some of whom don't work for IQSS, actually have a lot of say on what code gets into the codebase.
Fri, Jul 14, 2023, 09:13:42 - pdurbin: This was added for the one installation that was using rsync but they are no longer using Dataverse and we're thinking about deprecating the rsync feature: https://github.com/IQSS/dataverse/issues/8985
Fri, Jul 14, 2023, 11:56:58 - poikilotherm: <@pdurbin:matrix.org "Rolf: one thing I'll add from th..."> I do?
Fri, Jul 14, 2023, 11:58:54 - Donald Sizemore II: <@oliver:bertuch.name "I do?"> rite?
Fri, Jul 14, 2023, 11:59:46 - Donald Sizemore II: @pdurbin I'm already gaming my supervisor for Kit Kats ;)
Fri, Jul 14, 2023, 12:00:22 - pdurbin: That was the whole point! So that IQSS devs aren't a bottle neck for code reviews! üòÑ
Fri, Jul 14, 2023, 12:00:40 - Donald Sizemore II: I thought y'all were just being gracious
Fri, Jul 14, 2023, 12:00:48 - pdurbin: nope
Fri, Jul 14, 2023, 12:00:50 - pdurbin: get to work!
Fri, Jul 14, 2023, 12:00:54 - pdurbin: go review some code!
Fri, Jul 14, 2023, 12:01:33 - Donald Sizemore II: I mean, I suggested some things to Guillermo this week
Fri, Jul 14, 2023, 12:20:36 - poikilotherm: My clarification on Mpconfig spec was merged, but that doesn't count,  aye?
Fri, Jul 14, 2023, 13:48:41 - pdurbin: heh. you both contribute constantly. go enjoy your weekend!
Fri, Jul 14, 2023, 13:49:39 - Donald Sizemore II: @pdurbin I'm in the midst of upgrading metrics.dataverse.org ‚Äî fingers crossed for a clean run!
Fri, Jul 14, 2023, 13:50:18 - pdurbin: Nice. When should we rip out the non-global code (now that it's been moved to the new repo)?
Fri, Jul 14, 2023, 13:51:11 - Donald Sizemore II: That's up to you all. As best I can tell the global/ code still wants to reference ../ so I'm just doing an HTML 301 redirect within index.html to global/index.html
Fri, Jul 14, 2023, 14:06:27 - Donald Sizemore II: I was going to copy the previous version's generated TSV and JSON files into place so the page would load until this run completes, but I'm not certain if they'll use the same format.
Fri, Jul 14, 2023, 14:29:19 - pdurbin: Ok. And do we still like having this on a server? Another option might be running a GitHub Action every night and updating a static site on GitHub Pages.
Fri, Jul 14, 2023, 14:29:52 - pdurbin: Not that I'm very good with GitHub Actions but I'm sure collectively we can figure it out. üòÖ
Fri, Jul 14, 2023, 14:30:42 - pdurbin: I would do something like this: https://github.com/harvard/harvard.github.io/blob/b2ebdd9bec30dd8bc6dea56f4f39877eff8ef2ea/.github/workflows/main.yml
Fri, Jul 14, 2023, 14:30:54 - pdurbin: but without the Jekyll
Fri, Jul 14, 2023, 14:31:03 - Donald Sizemore II: we can run it in GitHub if you like
Fri, Jul 14, 2023, 14:31:16 - Donald Sizemore II: I think dataverse.org loads it in an iframe, so as long as that still works
Fri, Jul 14, 2023, 14:31:31 - pdurbin: yeah, iframe
Fri, Jul 14, 2023, 14:31:49 - Donald Sizemore II: but I'm fine running the server. it only requires occasional care and feeding
Fri, Jul 14, 2023, 14:31:52 - pdurbin: I mean, if you're making good progress and want to keep at it, don't let me slow you down.
Fri, Jul 14, 2023, 14:32:08 - pdurbin: Who knows what problems we'll see with GitHub Actions and Pages
Fri, Jul 14, 2023, 14:32:17 - Donald Sizemore II: I think we're in good shape; we're about half-way through the list, then it will write out its aggregate TSV and JSON files and ... Jenga?
Fri, Jul 14, 2023, 14:32:32 - pdurbin: Jenga
Fri, Jul 14, 2023, 14:33:04 - Donald Sizemore II: even if I have to fiddle with the HTML or JS for some odd reason, we'll have the cached data, that's the time-consuming part
Fri, Jul 14, 2023, 14:33:57 - pdurbin: yeah
Fri, Jul 14, 2023, 14:34:34 - pdurbin: I appreciate you running the metrics server for so long
Fri, Jul 14, 2023, 14:35:30 - Donald Sizemore II: it's one of the more rewarding, less adventuresome servers we run ;)
Fri, Jul 14, 2023, 15:22:31 - Donald Sizemore II: @pdurbin I think we can remove that disclaimer about INRAE. https://metrics.dataverse.org/global/index.html
Fri, Jul 14, 2023, 15:51:52 - pdurbin: This? https://github.com/IQSS/dataverse-metrics/issues/93
Fri, Jul 14, 2023, 15:53:08 - Donald Sizemore II: yis. I'll submit a PR if you approve of my mangling of the live copy of plots.js
Fri, Jul 14, 2023, 15:53:25 - Donald Sizemore II: there's still something weird going on, which may still be INRAE, but the charts look a lot better.
Fri, Jul 14, 2023, 15:53:59 - Donald Sizemore II: Message deleted
Fri, Jul 14, 2023, 16:02:38 - pdurbin: Any, ok, I assumed you made some live edits. Another advantage of running on our own server, I guess. üòÑ
Fri, Jul 14, 2023, 16:02:45 - pdurbin sent an image. (Media omitted)
Fri, Jul 14, 2023, 16:03:03 - pdurbin: Do we know where this dip comes from? People always ask about these dips.
Fri, Jul 14, 2023, 16:03:53 - Donald Sizemore II: INRAE, I suspect. Maybe I need to keep the disclaimer. It's just... so much less of a dip than it used to be
Fri, Jul 14, 2023, 16:04:02 - pdurbin: ha
Fri, Jul 14, 2023, 16:04:11 - pdurbin: incremental improvement
Fri, Jul 14, 2023, 16:04:20 - Donald Sizemore II: they moved all of their datasets from one installation to another, and their cached numbers in the DB are wonky
Fri, Jul 14, 2023, 16:04:42 - Donald Sizemore II: I didn't carry any cached data from the previous version of dataverse-metrics, that's a fresh copy ^^
Fri, Jul 14, 2023, 16:04:44 - pdurbin: should we remove them entirely until they fix their database? ü§î
Fri, Jul 14, 2023, 16:05:01 - Donald Sizemore II: Jim added that API endpoint that will let them fix their numbers without manually editing the DB
Fri, Jul 14, 2023, 16:05:17 - Donald Sizemore II: I think I wrote to them, or if I didn't, I'll write to them (possibly again)
Fri, Jul 14, 2023, 16:05:48 - Donald Sizemore II: I'll close the issue and put the disclaimer back up.... it just looked so much better.
Fri, Jul 14, 2023, 16:22:55 - Donald Sizemore II: disclaimer is back
Fri, Jul 14, 2023, 16:34:13 - pdurbin: heh, that's fine
Fri, Jul 14, 2023, 16:34:43 - pdurbin: yeah, sounds like we should get them to fix their db
Fri, Jul 14, 2023, 16:34:47 - pdurbin: were they in Braga?
Fri, Jul 14, 2023, 17:03:05 - pdurbin: anyway, it's quittin time. Have a good weekend, all!
Sat, Jul 15, 2023, 08:14:26 - Donald Sizemore II: yes, Dmitri was there. you have a great weekend (belatedly!)
Mon, Jul 17, 2023, 08:03:38 - Donald Sizemore II: pdurbin: good morning, sir. Could I pester you for enough access to dataverse-metrics to assign myself issues?
Mon, Jul 17, 2023, 08:14:41 - pdurbin: Sure, I just gave you read access. That should do it. Happy to give you write or admin of course but I know you're a least privilege guy üòÑ 
Mon, Jul 17, 2023, 08:16:08 - pdurbin: just published: https://www.fossjobs.net/job/11275/software-developers-3-positions-for-dataverse-at-harvard/
Mon, Jul 17, 2023, 08:16:59 - Donald Sizemore II: @pdurbin thank you!
Mon, Jul 17, 2023, 09:01:39 - pdurbin: Sure. Does anyone else want to assign issues to themselves? Let me know! üòú
Mon, Jul 17, 2023, 10:09:33 - Donald Sizemore II: @pdurbin I don't seem to be able to assign metrics issues to myself (I tried signing out/in, and a separate browser). not important, whenever you have a minute?
Mon, Jul 17, 2023, 10:15:57 - pdurbin: I just bumped you up from "read" to "write". Please try again.
Mon, Jul 17, 2023, 10:18:05 - Donald Sizemore II: that did it! thank you
Mon, Jul 17, 2023, 11:02:52 - pdurbin: phew
Mon, Jul 17, 2023, 12:53:49 - andresdiazh joined the room
Mon, Jul 17, 2023, 12:56:29 - andresdiazh: Hi, I am trying to install dataverse via install.py, I modified the default.config file for security but it generates the error "Can't connect to PostgresQL as the admin user.

Is the server running, have you adjusted pg_hba.conf, etc?" Is it necessary to create the DB and users first or is it not necessary. Thank you for your help
Mon, Jul 17, 2023, 13:00:12 - Donald Sizemore II: andresdiazh: the Dataverse installer, by default, likes to create the DB and users, but if you've already done so you can tell it --skip-db-setup
Mon, Jul 17, 2023, 13:00:25 - Donald Sizemore II: @andresdiazh there is also a --force option
Mon, Jul 17, 2023, 13:02:26 - andresdiazh: Thank you, I have not created the DB, nor users. But I always get the error. install.py is running with the user dataverse.
Mon, Jul 17, 2023, 13:04:22 - Donald Sizemore II: andresdiazh: the solution outlined in the docs is to temporarily set Postgres' authentication to `trust` long enough to run the installer
Mon, Jul 17, 2023, 13:04:39 - Donald Sizemore II:  (or, if you'd rather not do that, you may create the DB and users, then run the installer with --skip-db-setup or --force)
Mon, Jul 17, 2023, 13:05:59 - Donald Sizemore II: @pdurbin promise you won't kill me, but I'm now un-assigning myself an issue ;) even my web programmer boss is having to sit and think about this one.
Mon, Jul 17, 2023, 13:07:53 - andresdiazh: <@don.sizemore:matrix.org "andresdiazh: the solution outlin..."> This is configured in the pg_hba.conf file, is this correct?
Mon, Jul 17, 2023, 13:17:59 - Donald Sizemore II: depending on the operating system, probably
Mon, Jul 17, 2023, 13:20:41 - andresdiazh: My OS is a RedHat9
Mon, Jul 17, 2023, 13:23:24 - Donald Sizemore II: then yes, it's probably /var/lib/pgsql/<version>/data/pg_hba.conf
Mon, Jul 17, 2023, 14:03:41 - pdurbin: Donald Sizemore II: how dare you
Mon, Jul 17, 2023, 14:06:28 - Donald Sizemore II: @pdurbin well, it's only temporary, just in case somebody else grabs the issue before I figure it out (which may be never)
Mon, Jul 17, 2023, 14:42:25 - pdurbin: ok üòÑ
Tue, Jul 18, 2023, 05:58:13 - jmfc: Hi all.
I've been trying to get our users to define which metadata standards they actually need to document their data.
However before I start creating new metadata blocks left and right, I wanted to ask if there's an existing repository where I can look for metadata blocks.
Tue, Jul 18, 2023, 05:59:16 - jmfc changed their profile picture
Tue, Jul 18, 2023, 07:08:09 - Donald Sizemore II: @jmfc Hello, the ones which are "included" in Dataverse (@pdurbin please correct me if I'm wrong) are here: https://github.com/IQSS/dataverse/tree/develop/scripts/api/data/metadatablocks
Tue, Jul 18, 2023, 07:08:38 - Donald Sizemore II: I don't remember seeing a community metadatablock repository, but I like the idea of having one.
Tue, Jul 18, 2023, 07:55:01 - pdurbin: There has been talk of putting TSVs for metadata blocks in a dedicated repository. Harvard Dataverse started putting theirs here: https://github.com/IQSS/dataverse.harvard.edu/tree/master/metadatablocks
Tue, Jul 18, 2023, 07:55:34 - pdurbin: If you go to https://demo.dataverse.org/api/metadatablocks for example you can see the blocks that are installed
Tue, Jul 18, 2023, 07:56:41 - pdurbin: We could iterated through all the installationsn in https://iqss.github.io/dataverse-installations/data/data.json and see what metadata blocks they have installed. Could be interesting. Could be a metric, even
Tue, Jul 18, 2023, 07:56:42 - Donald Sizemore II: @pdurbin OoooOooooOoooo
Tue, Jul 18, 2023, 08:04:22 - juliangautier: That's one of the things in the dataset at https://doi.org/10.7910/DVN/DCDKZQ, although it's from last October
Tue, Jul 18, 2023, 08:09:13 - Donald Sizemore II: juliangautier: this is amazing! (note that UNC Dataverse just updated its sole custom metadata block; I can send you the TSV if you like
Tue, Jul 18, 2023, 08:47:58 - pdurbin: Nice! If I knew about this, I forgot about it. This looks promising: https://dataverse.harvard.edu/file.xhtml?fileId=6570377&version=12.0
Tue, Jul 18, 2023, 08:49:34 - pdurbin: The top 20:

```
4876 "citation"
1854 "socialscience"
1725 "astrophysics"
 857 "biomedical"
 679 "geospatial"
 300 "journal"
 228 "darwincoretest"
 228 "darwincore"
  72 "process"
  64 "Urcitation"
  63 "customLtCitation"
  63 "EngMeta"
  39 "keendexpi101"
  39 "enzymeML"
  37 "cmm-cessda"
  35 "ProMetaSSensor"
  33 "ProMetaSTimeseries"
  32 "daoist"
  30 "ProMetaSImage"
  27 "software"
```
Tue, Jul 18, 2023, 08:50:27 - pdurbin: from `curl https://dataverse.harvard.edu/api/access/datafile/6570377 | cut -f2 | sort | uniq -c | sort -nr | head -20`
Tue, Jul 18, 2023, 08:51:48 - pdurbin: oh but there's a row for each field, hmm, well, it gives you a sense of other blocks besides the ones that ship with Dataverse
Tue, Jul 18, 2023, 10:11:43 - lucasog joined the room
Tue, Jul 18, 2023, 10:12:47 - lucasog: hello, how do I set a default language in my system?
for example set spanish as the main language.
I have already installed the language I need to change it from the navigation bar. 
Tue, Jul 18, 2023, 10:15:16 - Donald Sizemore II: if you've used the zip method described in the guide, there should be a "languages" drop-down in the header? (I haven't tinkered with this, myself)
Tue, Jul 18, 2023, 10:43:26 - Karol ZajƒÖc: Hello, I have installed the dataverse instance and everything works fine except the generated links for downloading files, account verification links as well as a registered DOI's URL. It is because this links contain :8080 port suffixes, but when I remove the port from the url, it works. What should I do? Is it because of incorrect configuration or can I change it somewhere?
Tue, Jul 18, 2023, 10:47:56 - Donald Sizemore II: Karol ZajƒÖc: hello, check your dataverse.siteUrl setting in /usr/local/payara5/glassfish/domains/domain1/config/domain.xml ? You'll want to restart Payara to pick up any changes.
Tue, Jul 18, 2023, 10:55:16 - Karol ZajƒÖc: <@don.sizemore:matrix.org "Karol ZajƒÖc: hello, check your d..."> Should I remove :8080 from here ?  <jvm-options>-Ddataverse.siteUrl=http://${dataverse.fqdn}:8080</jvm-options>
Tue, Jul 18, 2023, 10:56:22 - Donald Sizemore II: yes (and maybe add https if your site uses it?
Tue, Jul 18, 2023, 10:59:42 - Karol ZajƒÖc: Okay, I will change that. I thought this jvm option was set by default to same as passed FQDN. But this will probably solve my problems. Appreciate your help, thank you.
Tue, Jul 18, 2023, 11:05:01 - Pallinger P√©ter: Hello! In the v5.6 release notes, there is a section about "Anonymized Access in Support of Double Blind Review"
Tue, Jul 18, 2023, 11:05:41 - Pallinger P√©ter: how can that be enabled? Are private access URLs always anonymized?
Tue, Jul 18, 2023, 11:10:20 - Donald Sizemore II: Pallinger P√©ter: reading the docs, I'd wager that the private URL is as private as the number of users with which it is shared? (I do see lots of log entries in UNC Dataverse when private URLs are created/accessed)
Tue, Jul 18, 2023, 14:14:30 - lucasog: <@don.sizemore:matrix.org "if you've used the zip method de..."> yes it works but my question is if there is a way to set a default language other than English üòÖ thanks
Tue, Jul 18, 2023, 16:08:54 - pdurbin: Pallinger P√©ter: it should be an option when you create the Private URL. Regular vanilla private url or anon.
Tue, Jul 18, 2023, 16:28:21 - Pallinger P√©ter: Theoretically there is a way to define other default languages. You can define the available languages with a json list sent to an admin address, the first specified language should be the default.
Tue, Jul 18, 2023, 16:49:56 - poikilotherm: <@pdurbin:matrix.org "There has been talk of putting T..."> I once had this crazy idea: https://github.com/IQSS/dataverse/issues/6700
Also, our FZJ specific schemas are here: https://jugit.fz-juelich.de/fdm/schemas
Tue, Jul 18, 2023, 16:58:21 - pdurbin: Maybe on the map we could record where installations keep their TSV files.
Wed, Jul 19, 2023, 04:09:48 - Pallinger P√©ter: Hello, after some testing I still do not know how I can create an anonymous private URL. Does anyone have a link to relevant documentation? I will try to read the source code, but that will take quite some time...
Wed, Jul 19, 2023, 04:12:58 - Pallinger P√©ter: the documentation says

> select ‚ÄúCreate Private URL‚Äù or ‚ÄúCreate URL for Anonymized Access‚Äù.

but there is no ‚ÄúCreate URL for Anonymized Access‚Äù button...
I am using v.5.13
Wed, Jul 19, 2023, 06:08:04 - Kir√°ly P√©ter: dataverse-private-link.png (Media omitted)
Wed, Jul 19, 2023, 06:09:18 - Kir√°ly P√©ter: You should have edit dataset right for the dataset. Then "Edit Dataset" > "Private URL" (see the screenshot)
Wed, Jul 19, 2023, 06:11:43 - Kir√°ly P√©ter: Is anybody know if there is an automatic cleanup on the `/usr/local/payara5/glassfish/domains/domain1/uploads` (`${dataverse.files.uploads}`) directory? We have lots of files there, however I thought it is only a temporary space.
Wed, Jul 19, 2023, 06:13:09 - Kir√°ly P√©ter: And if there is no automatic cleanup, is it OK to clean it manually? The Dataverse documentation does not tell anything about it.
Wed, Jul 19, 2023, 06:39:16 - Pallinger P√©ter: > You should have edit dataset right for the dataset. Then "Edit Dataset" > "Private URL" (see the screenshot)

But in the popup, there is no ‚ÄúCreate URL for Anonymized Access‚Äù button

Only a button to create non-anonymized URL
Wed, Jul 19, 2023, 06:59:22 - Kir√°ly P√©ter: I see. The source of the button says:  `rendered="#{DatasetPage.anonymizedAccessEnabled and empty(DatasetPage.privateUrl)}"`
Wed, Jul 19, 2023, 07:01:27 - Kir√°ly P√©ter: So it will be displayed if DatasetPage.anonymizedAccessEnabled, and that happens if you set the `:AnonymizedFieldTypeNames` JVM parameter
Wed, Jul 19, 2023, 07:02:11 - Kir√°ly P√©ter: see https://guides.dataverse.org/en/5.13/installation/config.html?highlight=anonymizedfieldtypenames#anonymizedfieldtypenames
Wed, Jul 19, 2023, 07:21:56 - Donald Sizemore II: Message deleted
Wed, Jul 19, 2023, 07:49:54 - Donald Sizemore II: Kir√°ly P√©ter: I've had more coffee now. You may want to pile on to this issue https://github.com/IQSS/dataverse/issues/2140
Wed, Jul 19, 2023, 08:59:45 - Kir√°ly P√©ter: <@don.sizemore:matrix.org "Kir√°ly P√©ter: I've had more coff..."> Many thanks! So it seems to be save to delete old files there.
Wed, Jul 19, 2023, 09:08:08 - Donald Sizemore II: Kir√°ly P√©ter: Gustavo always told me "as long as Dataverse is done with the file" so my rule of thumb is "once the file has outlived a Payara restart"
Wed, Jul 19, 2023, 09:08:37 - dszabo: Hello, I'm seeing this only today, I didnt see your mail which address did yu use ?
Wed, Jul 19, 2023, 09:09:00 - dszabo: You can reach out again at dimitri.szabo at inrae.fr
Wed, Jul 19, 2023, 09:09:28 - Kir√°ly P√©ter: Donald Sizemore II: Does it also mean that a Payara restart tries to clean this directory?
Wed, Jul 19, 2023, 09:09:56 - Donald Sizemore II: I doubt it. Just means that Payara will have let go of it (and ostensibly won't try again)
Wed, Jul 19, 2023, 09:10:12 - Donald Sizemore II: `dataverse.files.uploads` doesn't show up in the docs, BTW
Wed, Jul 19, 2023, 09:12:46 - Kir√°ly P√©ter: The search functionality of the docs is not good, but the some description is there: https://guides.dataverse.org/en/5.13/installation/config.html#dataverse-files-uploads
Wed, Jul 19, 2023, 09:13:03 - Donald Sizemore II: you're right, just found it with a local grep
Wed, Jul 19, 2023, 09:13:24 - Donald Sizemore II: I remember dealing with this for a member installation.
Wed, Jul 19, 2023, 09:13:54 - pdurbin: Kir√°ly P√©ter: you could try searching the PDF: http://preview.guides.gdcc.io/_/downloads/en/develop/pdf/
Wed, Jul 19, 2023, 09:24:16 - pdurbin: Donald Sizemore II: did you see dszabo replied above about the metrics?
Wed, Jul 19, 2023, 09:34:28 - Donald Sizemore II: @pdurbin I did not (and I'm too hopped up on Sudafed to find it, even with a search)
Wed, Jul 19, 2023, 09:36:49 - dszabo: Hey, I was just saying I didn't see your message and proposed you to send it again at dimitri.szabo at inrae.fr to see what we can do
Wed, Jul 19, 2023, 09:37:45 - dszabo: Hope you get better btw :(
Wed, Jul 19, 2023, 09:38:00 - pdurbin: dszabo: I have an idea for you. Have you considered setting up https://github.com/gdcc/dv-metrics ? I think this will illustrate the problem nicely
Wed, Jul 19, 2023, 09:38:22 - pdurbin: In short we'd like to to fix up your database a bit
Wed, Jul 19, 2023, 09:39:01 - dszabo: we do have metrics set at https://entrepot.recherche.data.gouv.fr/stats/
Wed, Jul 19, 2023, 09:39:25 - pdurbin: Oh! So the dip in datasets is already clear
Wed, Jul 19, 2023, 09:39:35 - dszabo: We don't have the dip as a temporary thing though
Wed, Jul 19, 2023, 09:39:54 - pdurbin: From 03 to 04 in 2022
Wed, Jul 19, 2023, 09:42:42 - Donald Sizemore II: you don't have a dip, but you have a cliff
Wed, Jul 19, 2023, 09:43:20 - dszabo: yes, we did move the 82k datasets hence the cliff
Wed, Jul 19, 2023, 09:43:40 - Donald Sizemore II: @dszabo I nuked our global cache when I upgraded metrics.dataverse.org last week; it's fresh from the installation DBs. I can live with the dip but everybody asks about it
Wed, Jul 19, 2023, 09:44:34 - dszabo: So is there anything else we can do apart from the hint you already put ?
Wed, Jul 19, 2023, 09:46:19 - dszabo: We found it weird to make as these datasets never existed so we let the difference before/after march appear but maybe it shoud be revised
Wed, Jul 19, 2023, 09:49:55 - Donald Sizemore II: on Friday I identified 7 or so installations which need to be added to config.json, so the dip will become less noticeable over time until it falls off
Wed, Jul 19, 2023, 09:57:32 - pdurbin: dszabo: ah, I didn't know if it was intentional or not. I imagine people sometimes ask what's going on if they don't know the history.
Wed, Jul 19, 2023, 09:57:57 - pdurbin sent an image. (Media omitted)
Wed, Jul 19, 2023, 09:58:12 - pdurbin: ... when they look at that plot ^^
Wed, Jul 19, 2023, 09:58:37 - pdurbin: It looks sort of like a mitten üòÑ
Wed, Jul 19, 2023, 09:59:03 - pdurbin: ‚úã
Wed, Jul 19, 2023, 09:59:04 - dszabo: Yes, I think we should also add a disclaimer
Wed, Jul 19, 2023, 10:03:50 - pdurbin sent an image. (Media omitted)
Wed, Jul 19, 2023, 10:03:59 - pdurbin: This is the disclaimer we have right now ^^
Wed, Jul 19, 2023, 10:04:34 - pdurbin: Anyway, it's not the most important issue, of course. üòÑ People just always ask us what's going on.
Wed, Jul 19, 2023, 10:04:56 - dszabo: Shouldn't it also be changed to say that it's not an aggregation issue but a dataset migration ?
Wed, Jul 19, 2023, 10:05:26 - dszabo: Well as you said it's understandable to wonder why the gap :)
Wed, Jul 19, 2023, 10:05:35 - pdurbin: Probably. It's hard coded in https://github.com/IQSS/dataverse-metrics . We could change it. Pull requests welcome. üòÑ
Wed, Jul 19, 2023, 10:06:03 - Donald Sizemore II: @dszabo I can make it say whatever you'd like ;)
Wed, Jul 19, 2023, 10:06:48 - dszabo: I'll make a suggestion in PR then :)
Wed, Jul 19, 2023, 10:13:44 - pdurbin sent an image. (Media omitted)
Wed, Jul 19, 2023, 10:14:02 - pdurbin: sometimes bugs make the best artwork. from https://github.com/gdcc/dv-metrics/pull/10
Wed, Jul 19, 2023, 11:29:14 - Donald Sizemore II: @pdurbin with the React front-end on the Horizon, how useful are persnickety front-end usability bug reports?
Wed, Jul 19, 2023, 11:31:04 - pdurbin: good question
Wed, Jul 19, 2023, 11:31:15 - pdurbin: I say go ahead and add them
Wed, Jul 19, 2023, 11:31:52 - Donald Sizemore II: I'll be sure to produce an appropriate visual for the issue ;) (I noticed it in poking around the dataset Keven posted during stand-up)
Wed, Jul 19, 2023, 11:32:24 - pdurbin: A while ago I started adding a label called "Hackathon: JSF" to issues like these. Someday I'll probably rename that label to something like "Unlikely to fix: JSF-specific".
Wed, Jul 19, 2023, 11:32:57 - Donald Sizemore II: oh, this one's going to be fun
Thu, Jul 20, 2023, 09:17:17 - pdurbin: https://ct.gdcc.io meeting in ~15 minutes
Thu, Jul 20, 2023, 11:59:02 - pdurbin: "What is the preferred OS (RHEL 8, RHEL 9, etc) that will best suit the future dataverse developments and is preferred by the community." -- https://groups.google.com/g/dataverse-community/c/50k9E-8gadQ/m/tKgntt4JBQAJ
Fri, Jul 21, 2023, 09:50:35 - Donald Sizemore II: @pdurbin woo woo, Kevin merged your PR! (I used my "review" powers for good)
Fri, Jul 21, 2023, 09:56:34 - pdurbin: heh, love live the docs only fast track
Fri, Jul 21, 2023, 09:56:38 - pdurbin: thanks for approving!
Fri, Jul 21, 2023, 09:56:56 - pdurbin: be careful, those powers can be used for evil
Fri, Jul 21, 2023, 16:33:11 - pdurbin: have a good weekend, y'all!
Sun, Jul 23, 2023, 12:10:37 - pacian: Dear Community,

I have a question about opening ports and the limitation on functionality.

I will try my best to explain our current test environment.

The Dataverse Test VM Server is situated behind the firewall and only accessible via the VPN (with MFA enabled); Access to the server is via an external VPN group. I am challenged twice. Challenged at the internal environment and challenged at the server level.
We are running a load-balanced environment.
We have redirected traffic to port 443.
the only open ports are 443 and 8080
What are our options to run Payara in a highly secure environment?
With this environment, how does this affect  DOI's

I look forward to hearing back from you. Right now, we are still waiting to make progress.

Regards,

Richard
Sun, Jul 23, 2023, 13:25:17 - poikilotherm: pacian: your question is tricky to answer as we don't know all the specific details...
Sun, Jul 23, 2023, 13:25:39 - poikilotherm: First: there is no need to expose Payara Port 8080 - you only need to expose the load balancer, port 443, serving HTTPS
Sun, Jul 23, 2023, 13:26:44 - poikilotherm: For minting DOIs it is important Dataverse can talk to DataCite servers. In a highly secured DMZ you might have restricted outbound traffic? (I would)
Sun, Jul 23, 2023, 13:27:39 - poikilotherm: DOIs itself are on their own - you register some URL and if that one is not reachable from outside your network that is technically no violation of how DOIs work
Sun, Jul 23, 2023, 13:28:14 - poikilotherm: But it definitely against how DOIs are meant to be - they should send you to some resolvable, public access landing page
Sun, Jul 23, 2023, 13:28:53 - poikilotherm: You might consider two options here: a) use local PIDs (AFAIK avail as of next release which will be out soon)
Sun, Jul 23, 2023, 13:29:50 - poikilotherm: Or b) use DataCite DOIs (and all the benefits that come with them) and simply make request from the outside network land on some catchall proxy landing page telling people this is a correct URL but only accessible under certain conditions and how to get in touch maybe
Sun, Jul 23, 2023, 13:31:11 - poikilotherm: If you want to go fancy, you could even create some simple website builder that crawls your internal Dataverse and creates nice landing pages, maybe even with metadata so the datasets are FAIR already (even though hidden behind curtains). Those can be HTML pages, which is virtually impossible to hack.
Sun, Jul 23, 2023, 13:32:16 - poikilotherm: It is however possible (but a violation of FAIR) to hide the metadata on such a landing page. But if you use DataCite in Dataverse, there currently is no option to hide the metadata anyway... ;-)
Sun, Jul 23, 2023, 13:33:57 - poikilotherm: These are very general tips, ideas and thoughts. Again, I don't know all the deets and reqs of your installation
Sun, Jul 23, 2023, 13:34:22 - poikilotherm: Hope this helps üôÇ
Sun, Jul 23, 2023, 15:31:39 - pacian: Thank you for your respond, it has been awhile but I had at one point used port 4848 for Payara, I would like to use the web front end to use Payara, can you suggest a point of entry give the fact that I have both port 443 and 8080 opened. I can give you any detail that yout like so that I can create an environment that is both secure and easy to administer.
Sun, Jul 23, 2023, 15:34:56 - pacian: my network knowledge is very rusty so please forgive me. I was ask to return to the project to install and configure Dataverse. I guess my question would be if you were advising someone or installing Dataverse how would you install DV in a secure environment and what ports would you request open and how would you admister DV? I am truly at a stone wall here.  I should say this is the Danish Nation Trusted Dataverse solution.
Sun, Jul 23, 2023, 15:39:25 - pacian: <@oliver:bertuch.name "Hope this helps üôÇ"> poikilotherm (CEST,UTC+2):  I don't have any restrictions except for the details above regarding the network environment
Sun, Jul 23, 2023, 15:42:33 - pacian: I should say this will be a Trusted Data Repository some compliance with ALL CTS requirements are important to us.
Sun, Jul 23, 2023, 15:44:12 - pacian: any advice would be greatly appreciated, I have been spinning my wheels on this for 2 weeks, the old test environment I builted was inside an Cloud Environment with no port restrictions.
Sun, Jul 23, 2023, 15:48:05 - pacian: Port 8080 is not exposed, on a previous installation implemented by a consultanted he complained that he was unable to sucessfully publish a dataset and the wheel continued to spin with the dataset being minted with a DOI. 
Sun, Jul 23, 2023, 18:18:03 - pacian: I am actually looking for a secure way to use the Payara Interface in this environment with only port 443 and 8080
Mon, Jul 24, 2023, 07:15:23 - Donald Sizemore II: @pacian I'm running two Dataverse instances in a protected, egress-restricted VPC. we're using FAKE DOIs (as the data will never be exposed publicly) as that DOI provider doesn't need to call out or back
Mon, Jul 24, 2023, 07:16:00 - Donald Sizemore II: @pacian if you're concerned about sensitive contents, be sure to disable tabular ingest, as that feature may populate the DB with (sensitive) variable-level metadata
Mon, Jul 24, 2023, 07:17:51 - pdurbin: Yes, the next release (5.14) will include PermaLinks as a better alternative to the FAKE DOI provider: https://preview.guides.gdcc.io/en/develop/installation/config.html#configuring-your-dataverse-installation-for-permalinks
Mon, Jul 24, 2023, 07:20:49 - Donald Sizemore II: @pdurbin how did I miss this?
Mon, Jul 24, 2023, 07:36:25 - pacian: When do yo uexpect version 5.14 to be released? I am just getting into 5.13
Mon, Jul 24, 2023, 07:46:13 - pacian: @Donald Sizemore II pdurbin poikilotherm (CEST,UTC+2)  thank you for all of your help.  I think I have sorted out the port issues. I will use ssh -N -f -L localhost:4848:localhost:4848  https://localhost:4848 to access Payara. We have NO concerns regarding sensitive data. The security folks prefer NOT to open ports to the outside or in this particular network segment. so I am making sure that everything can work in this test environment.
Mon, Jul 24, 2023, 07:49:08 - Donald Sizemore II: @pacian just out of curiosity, what are you doing which requires graphical access to the Payara console that you can't do at the command line?
Mon, Jul 24, 2023, 07:49:50 - Donald Sizemore II:  (I personally never use it)
Mon, Jul 24, 2023, 07:53:57 - pacian: Donald Sizemore II: I am not a huge fan of the command line, I am a librarian turn Dataverse geek and not a full fledge system admin.
Mon, Jul 24, 2023, 07:54:44 - pdurbin: 5.14 is close but we need to address a performance problem before we release: https://github.com/IQSS/dataverse/issues/9725
Mon, Jul 24, 2023, 08:08:40 - Donald Sizemore II: @pacian if you're interested, I and my co-workers presented posters on secure and compliant repositories (in our case US FDA / 21CFR Part 11). The Dataverse Global Community Consortium offers both consultation and project-based installation / management services for such repositories: https://dataversecommunity.global/services
Mon, Jul 24, 2023, 08:12:01 - pacian: Donald Sizemore II: I am definitely interested, can you checked to see if University of Copenhagen joined as a GDCC member. I was recently reassigned to the project and have been away from the project for 9 months.
Mon, Jul 24, 2023, 08:13:17 - Donald Sizemore II: @pacian I've asked our admin guy (I'm also not sure whether you'd need to be a member to contract work from the consortium - interesting question)
Mon, Jul 24, 2023, 08:16:20 - pacian: Donald Sizemore II: I have looked at the website you rpovided and it does not lis University of Copenhagen as a member. I will recify this ASAP. I had strong√¶y suggested that they become a memeber before I left the project.
Mon, Jul 24, 2023, 08:17:55 - Donald Sizemore II: @pacian the Consortium does a lot of contract work for member institutions, either in the form of installation/upgrades, total service management, or programming work on new features
Mon, Jul 24, 2023, 08:19:33 - pacian: Hmmmm, this is good to know. If I were to use you for an installation or to complete an installation, what would the cost be?
Mon, Jul 24, 2023, 08:21:30 - Donald Sizemore II: That I don't know - my boss handles the negotiations :) If you'd like, you might drop a note to Jonathan_Crabtree@unc.edu including your archive's requirements?
Mon, Jul 24, 2023, 08:23:54 - pacian: Okay can do, I have to say that I am almost completed with the installation, but would pay to have him come behind me and trip check my footsteps.
Mon, Jul 24, 2023, 08:25:24 - Donald Sizemore II: @pacian the CTS requirement checklist may be the big thing - for our FDA Dataverse, the validation process took several months
Mon, Jul 24, 2023, 08:26:48 - pacian: Donald Sizemore II: The server I am building is a test environment so we are a few steps away from focusing on CTS.
Mon, Jul 24, 2023, 08:29:48 - pdurbin: pacian: do you know Falco? We met him at #dataverse2023 in Portugal
Mon, Jul 24, 2023, 08:30:59 - pacian: Yes I know falco, we were colleagues, but he works for the Library, I work for the University, two separate entities 
Mon, Jul 24, 2023, 08:31:44 - pacian: I was initially attached to the project and left the library and move to the the Univ of CPH, 
Mon, Jul 24, 2023, 08:32:07 - pacian: They asked me to come back after being away for 9 months
Mon, Jul 24, 2023, 08:34:50 - pdurbin: Gotcha. We don't have any installations in Denmark on our map but it sounds like you've helped with two that might be there someday. üòÑ Thanks!
Mon, Jul 24, 2023, 08:39:08 - pacian: I helped kick start it with the help of Philip Conzett, he helped me a lot in the beginning stages.  I did the initial installation in a Cloud Development Enviornment and now trying to implement in a more restrictive environment which closely resembles the production enviornment.
Mon, Jul 24, 2023, 08:39:51 - pacian: So I am focusing on best practices a little more than the cloud environment setup.
Mon, Jul 24, 2023, 08:42:17 - Donald Sizemore II: @pacian the big finding in my poster was that, for our sensitive data Dataverse, our security group by and large ignored Dataverse itself but focused on visibility into and scrutiny of the network security controls
Mon, Jul 24, 2023, 08:49:37 - pacian: Donald Sizemore II: That seems to be a disaease that is spreading, our network team focused on network security and controls and we don't have any sensitive data and will not have sensitive data on Dataverse.
Mon, Jul 24, 2023, 08:50:12 - pacian: Donald Sizemore II: where can I get a copy of your posters Don?
Mon, Jul 24, 2023, 08:53:28 - Donald Sizemore II: @pacian even without sensitive data, the information security interest is on threat prevention / access tracking, just more relaxed
Mon, Jul 24, 2023, 08:54:23 - Donald Sizemore II: @pacian I don't know that they're up anywhere, but if you drop a note to dls@email.unc.edu I'll be happy to send you a copy of mine?
Mon, Jul 24, 2023, 08:54:46 - Donald Sizemore II: @pacian my boss presented the poster on functional validation; he's out until Wednesday but I can try to scare up a digital copy of their poster as well
Mon, Jul 24, 2023, 09:02:11 - pacian: Donald Sizemore II: email sent
Mon, Jul 24, 2023, 09:02:32 - pdurbin: We've been discussing https://groups.google.com/g/dataverse-community/c/llXNKYjPu_Q/m/4fheEcb9BQAJ here but we should probably reply there with a summary. Any volunteers? üòÖ
Mon, Jul 24, 2023, 09:03:36 - pdurbin: Donald Sizemore II: is this your poster? https://osf.io/85pny
Mon, Jul 24, 2023, 09:09:32 - pacian: yes that is me.
Mon, Jul 24, 2023, 09:11:25 - Donald Sizemore II: @pdurbin that is my poster!
Mon, Jul 24, 2023, 09:11:38 - Donald Sizemore II:  (and also my new boss as Carol Beer)
Mon, Jul 24, 2023, 09:14:07 - pacian: meaning I have osf
Mon, Jul 24, 2023, 09:14:39 - pacian: <@pdurbin:matrix.org "We've been discussing https://gr..."> meaning this is me, my posting. 
Mon, Jul 24, 2023, 09:15:26 - pdurbin: pacian: right. Would you be able to summarize for the list?
Mon, Jul 24, 2023, 09:16:51 - pacian: it would be a very technical response, but if that is okay, i can post the response.
Mon, Jul 24, 2023, 09:17:03 - pdurbin: I love technical responses
Mon, Jul 24, 2023, 09:17:13 - pdurbin: My favorite replies are when I link to a line of code
Mon, Jul 24, 2023, 09:17:37 - pacian: sure no problem, as soon as I test it out, I will post the response.
Mon, Jul 24, 2023, 09:17:48 - pdurbin: sure, whenever you're satisfied and ready
Mon, Jul 24, 2023, 09:18:08 - pdurbin: OSF? Do you know about the new OSF integration?
Mon, Jul 24, 2023, 09:18:44 - pacian: Actually, I read that, though admittedly, I have not tried it.
Mon, Jul 24, 2023, 09:19:09 - pdurbin: me neither
Mon, Jul 24, 2023, 09:19:15 - pdurbin: I just tried it with local files
Tue, Jul 25, 2023, 07:22:38 - Donald Sizemore II: forgive me @pdurbin for I spent my time fiddling with podman support (and got decently close)
Tue, Jul 25, 2023, 07:46:17 - pdurbin: Nice! A friend of mine is working on Podman Desktop if you'd like to give feedback on that.
Tue, Jul 25, 2023, 07:53:16 - pacian: Donald Sizemore II: pdurbin progress : https://u-dataverse.ku.dk/
Tue, Jul 25, 2023, 08:00:10 - pdurbin: pacian: looking good!
Tue, Jul 25, 2023, 08:00:23 - pdurbin: Donald Sizemore II: I see you opened https://github.com/IQSS/dataverse/issues/9731 . Great
Tue, Jul 25, 2023, 08:07:05 - pdurbin: Community call in two hours: https://groups.google.com/g/dataverse-community/c/fgrVhqunt8c/m/APYwosD9AgAJ - Erwan B√©guin from INRAE on connectors between Dataverse and several research tools such as JupyterHub and D4science
Tue, Jul 25, 2023, 10:42:03 - Donald Sizemore II: @pdurbin serving as backup host is fun! though Blue Mountain State got an entire episode out of backup QB Alex's woes when Thad was injured
Tue, Jul 25, 2023, 10:56:19 - pdurbin: thanks for backing me up!
Tue, Jul 25, 2023, 12:11:25 - Donald Sizemore II: @pdurbin also, I was on the call the entire time and heard zero barking dogs
Tue, Jul 25, 2023, 12:31:53 - pdurbin: oh good. the mute button works
Tue, Jul 25, 2023, 14:59:09 - Donald Sizemore II: the mute button has saved me during many a Zoom caal
Wed, Jul 26, 2023, 11:40:38 - pdurbin: Who wants to try a brand new tool? https://github.com/IQSS/dataverse/issues/9663#issuecomment-1651862901
Wed, Jul 26, 2023, 12:09:28 - pdurbin sent an image. (Media omitted)
Wed, Jul 26, 2023, 12:09:39 - pdurbin: https://askdataverse.shinyapps.io/askdata/?fileid=6867331&datasetPid=doi:10.7910/DVN/TJCLKP&siteUrl=https://dataverse.harvard.edu
Thu, Jul 27, 2023, 06:35:11 - pdurbin: 3 hours until the container meeting: https://ct.gdcc.io
Thu, Jul 27, 2023, 06:45:42 - cesarferreira: > Hi guys, we are having an issue with regards to the blocking of the admin API. We are allowing only localhost access to the API, but it looks like it is not working as you guys can see in the picture bellow. We are runnig version 5.13 of dataverse that we've compiled ourselves and can't explain why we can still see the API endpoint. Did we miss any setting before compiling?

Hi everyone, a few weeks back my colleague zbenta reported an issue we found in our installation regarding API access. In a few words, we are using a .war file compiled using a branch forked from commit  79d6e57b1232cf07faccb6e0fbbe529812770e03 from branch develop and with the tag v5.13. Besides that we also added some custom code but nothing related to the API access. After deploying this .war file our API endpoints for admin and builtin-users are accessible from outside localhost even tho we have configured the following settings ":BlockedApiEndpoints": "admin,builtin-users" and ":BlockedApiPolicy": "localhost-only". We have another installation working correctly and the only difference between them is the war file. Any suggestions for what is causing this and how to solve it?
Thu, Jul 27, 2023, 07:13:19 - pdurbin: cesarferreira: yikes! That sounds scary. üò± Maybe I can help you increase the logging level or something. Generally, here's how to do it: https://guides.dataverse.org/en/5.13/admin/troubleshooting.html#increasing-payara-logging
Thu, Jul 27, 2023, 07:14:31 - pdurbin: If you deploy the war file to a different server, do you get the same behavior?
Thu, Jul 27, 2023, 07:24:24 - cesarferreira: pdurbin: thank you, I will try to increase payara logging level. For now I don't have another free instance to try that out, but I can try it later and check if the behavior persists.
Thu, Jul 27, 2023, 07:26:07 - pdurbin: Ok. Is the fork on GitHub?
Thu, Jul 27, 2023, 07:27:09 - cesarferreira: No, we have it on a private GitLab.
Thu, Jul 27, 2023, 07:39:46 - cesarferreira: Tried to change payara logging level with "asadmin set-log-levels edu.harvard.iq.dataverse.api.admin=FINEST" but nothing comes up in the logs when try a GET request for /api/admin/settings
Thu, Jul 27, 2023, 07:42:15 - pdurbin: Have you tried setting :BlockedApiKey? https://guides.dataverse.org/en/5.13/installation/config.html#blockedapikey
Thu, Jul 27, 2023, 07:55:08 - cesarferreira: With that setting it blocks correctly but it also blocks localhost access unless we use the block key, and that would imply for us to make changes in our deployment scripts. The commit we forked from is this one https://github.com/IQSS/dataverse/commit/79d6e57b1232cf07faccb6e0fbbe529812770e03 and we haven't change any files related to the API.
Thu, Jul 27, 2023, 08:14:17 - pdurbin: Right. I was just thinking that it would protect you from the outside, at least.
Thu, Jul 27, 2023, 08:15:53 - pdurbin: That commit... I missed that you're running code from develop. I hope this isn't a bug in develop.
Thu, Jul 27, 2023, 08:28:39 - pdurbin: Oh, but that commit shows 5.13 and develop. That's normal. That just means the commit was in both. So you should be getting behavior as of 5.13.
Thu, Jul 27, 2023, 08:28:59 - pdurbin: So probably not anything new from develop, I mean.
Thu, Jul 27, 2023, 08:35:21 - pdurbin: Since you're running your own fork, I would suggest adding lots of println debugging
Thu, Jul 27, 2023, 09:07:48 - pdurbin: Especially in ApiBlockingFilter.java where the settings are looked up.
Thu, Jul 27, 2023, 09:30:19 - cesarferreira: Thank you we will add some loggers in that file to help debug
Thu, Jul 27, 2023, 09:40:47 - cesarferreira: We just confirmed what we were suspecting, our installation is treating all requests as if the origin IP is always localhost. Thanks for the help üòÄ
Thu, Jul 27, 2023, 09:56:12 - pdurbin: Sure! I'm glad you figured it out!
Fri, Jul 28, 2023, 06:47:38 - cesarferreira: Hi guys, just a heads up of the problem we found. It is solved, we did not have this setting https://guides.dataverse.org/en/5.13/installation/config.html?highlight=useripaddresssourceheader#dataverse-useripaddresssourceheader configured and the behavior described never happened before because in our nginx load balancer, for the upstream we were using the private ip address for the payara server, but then we recently switched to localhost and thats when the problem started. Conclusion, we either have to use the private ip address or if we use localhost we need to configure the setting dataverse-useripaddresssourceheader.
Fri, Jul 28, 2023, 09:02:53 - pdurbin: cesarferreira: yikes, could you please create an issue at https://github.com/IQSS/dataverse/issues to better document this?
Fri, Jul 28, 2023, 09:36:02 - cesarferreira: <@pdurbin:matrix.org "cesarferreira: yikes, could you ..."> Done https://github.com/IQSS/dataverse/issues/9742
Fri, Jul 28, 2023, 09:38:34 - pdurbin: cesarferreira: looks great! Thank you! Now... would you like to make a pull request? I'm happy to help answer any questions. üòÑ
Fri, Jul 28, 2023, 09:47:05 - pdurbin: Here are some suggestions for getting started: https://guides.dataverse.org/en/5.13/developers/documentation.html
Fri, Jul 28, 2023, 11:01:13 - Don Sizemore: @pdurbin have you ever seen an enabled authentication provider _not_ display on the loginpage? version 5.13 (as of yesterday)
Fri, Jul 28, 2023, 11:05:26 - Don Sizemore: @pdurbin I enabled local signup (formerly disabled) and the link points to libwizard.com, which may be related to why the builtin login box isn't displaying
Fri, Jul 28, 2023, 11:08:03 - pdurbin: I can't remember if that enabled boolean works consistently or not. I think it used to not always work but these days it does? Not sure. Sorry.
Fri, Jul 28, 2023, 11:10:07 - Don Sizemore: the "authenticationProviders" endpoint says it's enabled
Fri, Jul 28, 2023, 11:16:38 - pdurbin: right, but can we trust it? is restarting Payara required? that's what I'm not sure about
Fri, Jul 28, 2023, 11:17:54 - Don Sizemore: this endpoint `PUT http://$SERVER/api/admin/authenticationProviders/$id/enabled` returns an error (wants true or false)
Fri, Jul 28, 2023, 11:18:34 - Don Sizemore: and says it's already enabled. for some reason the form doesn't show up in the login page. this is so strange.
Fri, Jul 28, 2023, 11:39:23 - Don Sizemore: I worked around the problem by re-enabling the Shibboleth provider (even though the service isn't yet set up) - once one dismisses the complaint about DiscoFeed, the builtin provider shows up
Fri, Jul 28, 2023, 11:39:30 - Don Sizemore: oh, it was the default provider setting.
Fri, Jul 28, 2023, 12:16:38 - pdurbin: so, there are bugs to fix? üòÑ
Fri, Jul 28, 2023, 13:30:32 - Donald Sizemore II: well, I _guess_ you could call it a bug, but only as a result of user error
Fri, Jul 28, 2023, 13:48:47 - pdurbin: thanks for creating https://github.com/IQSS/dataverse/issues/9744
Fri, Jul 28, 2023, 16:12:32 - pdurbin: Not quite quittin' time but getting there. Busy day. Busy week.
Fri, Jul 28, 2023, 17:01:36 - pdurbin: ok, officially quittin' time, have a good weekend, all!
Mon, Jul 31, 2023, 04:28:08 - cesarferreira: <@pdurbin:matrix.org "cesarferreira: looks great! Than..."> pdurbin: Sure, I can make a pull request üòÄ I think zbenta made a pull request before so he can also help me with that.
Mon, Jul 31, 2023, 06:25:29 - pdurbin: That sounds right. Thanks!
Mon, Jul 31, 2023, 09:46:45 - pdurbin: Any ideas on this? https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/Solr.20not.20set.20up.20in.20GitHub.20Actions.3F
Mon, Jul 31, 2023, 15:54:08 - Donald Sizemore II: @pdurbin today has been kinetic but I'll take a look tomorrow
Mon, Jul 31, 2023, 16:35:16 - pdurbin: what a positive way to put it üòÑ
Tue, Aug 1, 2023, 10:11:49 - Donald Sizemore II: @pdurbin quick Q? if you've got a second
Tue, Aug 1, 2023, 10:15:41 - pdurbin: hit me
Tue, Aug 1, 2023, 10:26:21 - Donald Sizemore II: in your Dataverse-Ansible PR, those lines are redundant, aren't they? I think I'm going to nuke the first one.
Tue, Aug 1, 2023, 10:27:35 - Donald Sizemore II: I'm not certain why the first one is even there though I like that it's a greedier match than the second.
Tue, Aug 1, 2023, 10:33:48 - Donald Sizemore II:  (I'll merge it, then fix, I just wanted to run that by you. probably should've done so in the PR, sorry)
Tue, Aug 1, 2023, 14:54:15 - pdurbin: Yes, I do think they are redundant. Thanks for merging and fixing!
Wed, Aug 2, 2023, 08:57:01 - pacian: Hello 
Wed, Aug 2, 2023, 08:58:54 - pacian: Message deleted
Wed, Aug 2, 2023, 09:00:50 - pacian: pdurbin: Donald Sizemore II We are exploring potential solutions to backup our test environment. After finally getting everything to work (fingers crossed) we would like to back upi DV, what folders/files/applications/ dependecies should we backup? is rsync a viable option?
Wed, Aug 2, 2023, 09:27:27 - pdurbin: Last I knew, at Harvard Dataverse use a script mentioned at https://guides.dataverse.org/en/5.13/admin/backups.html
Wed, Aug 2, 2023, 10:12:16 - pacian: pdurbin: thank you 
Wed, Aug 2, 2023, 10:13:44 - pdurbin: We should improve that page to explain what to back up. The database, obviously. Uploaded files. Custom headers, etc.
Wed, Aug 2, 2023, 10:32:48 - pdurbin: There might be a thread on the mailing list about backups.
Wed, Aug 2, 2023, 10:43:45 - Donald Sizemore II: @pacian yes, rsync to another filesystem should suffice, depending on your retention requirements
Wed, Aug 2, 2023, 10:44:31 - Donald Sizemore II: for Payara, you want /usr/local/payara5/glassfish/domains/domain1 (minus generated/ and osgi-cache/)
for Apache, you want your config files and certs
for Postgres, you want to take nightly dumps and archive those (the Postgres wiki offers a nice BASH script)
Wed, Aug 2, 2023, 10:44:50 - Donald Sizemore II: you'll also want your datastore (files.dir) hierarchies, of course.
Wed, Aug 2, 2023, 14:38:15 - Donald Sizemore II: @pdurbin /usr/pgsql-13/lib/libpq.so.5 is provided by the postgresql13-libs package. Something isn't right with that PG installation.
Wed, Aug 2, 2023, 14:44:47 - pdurbin: ya
Wed, Aug 2, 2023, 14:45:07 - pdurbin: ooo, I could have had him do rpm -qf
Wed, Aug 2, 2023, 14:45:08 - pdurbin: oh well
Wed, Aug 2, 2023, 14:45:28 - pdurbin: maybe he'll join us here
Wed, Aug 2, 2023, 14:48:48 - pdurbin: <@pacian:matrix.org "it would be a very technical res..."> pacian: just a reminder about this. ^^ Handy link to the thread: https://groups.google.com/g/dataverse-community/c/llXNKYjPu_Q/m/4fheEcb9BQAJ
Thu, Aug 3, 2023, 03:24:33 - pacian: Ahhh yes, I will update today.
Thu, Aug 3, 2023, 07:09:43 - pdurbin: Thanks!
Thu, Aug 3, 2023, 07:10:16 - pdurbin: I was going through messages for July before sending the community news.
Thu, Aug 3, 2023, 07:10:30 - pdurbin: And I like it when threads are answered. üòÑ
Thu, Aug 3, 2023, 08:32:41 - pacian: pdurbin: https://groups.google.com/g/dataverse-community/c/llXNKYjPu_Q
Thu, Aug 3, 2023, 08:47:56 - pdurbin: pacian: looks great! Thanks and thanks for the shout out!
Thu, Aug 3, 2023, 08:49:45 - DJUNIOR joined the room
Thu, Aug 3, 2023, 08:56:35 - DJUNIOR: Hello everyone, maybe you have had the experience of migrating dataverse from on premise to cloud, what steps should I do, can you share me with, I'm using CentOS in our existing DV
Thu, Aug 3, 2023, 10:19:34 - pdurbin: Philipp did this recently
Thu, Aug 3, 2023, 10:19:44 - pdurbin: DJUNIOR: which cloud?
Thu, Aug 3, 2023, 10:21:14 - pdurbin: There's a checklist Harvard Dataverse used to move to AWS at https://github.com/IQSS/dataverse/issues/4309#issuecomment-347717996
Thu, Aug 3, 2023, 13:11:10 - gst8230 joined the room
Thu, Aug 3, 2023, 14:56:02 - pdurbin: last 5.14 PR merged
Thu, Aug 3, 2023, 14:56:09 - pdurbin: well, except for release notes
Thu, Aug 3, 2023, 14:56:15 - pdurbin: and a version bump
Thu, Aug 3, 2023, 21:23:58 - DJUNIOR: thank pdurbin for your knowledge sharing üòä
Thu, Aug 3, 2023, 22:39:25 - DJUNIOR: I'm going to use azure
Fri, Aug 4, 2023, 10:04:32 - pdurbin: releases notes in "ready for QA": https://github.com/IQSS/dataverse/pull/9688
Fri, Aug 4, 2023, 10:04:56 - pdurbin: Ah, then you should talk to Vyacheslav Tikhonov 
Fri, Aug 4, 2023, 10:43:11 - pdurbin: merged
Fri, Aug 4, 2023, 11:31:24 - pdurbin: version bump PR in "ready for QA": https://github.com/IQSS/dataverse/pull/9753
Fri, Aug 4, 2023, 11:32:13 - pdurbin: Donald Sizemore II: I made a PR to bump ansible as well: https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/pull/309
Fri, Aug 4, 2023, 13:25:34 - pdurbin: merged
Fri, Aug 4, 2023, 13:25:55 - pdurbin: 5.14 is out! https://github.com/IQSS/dataverse/releases/tag/v5.14
Fri, Aug 4, 2023, 13:58:51 - poikilotherm: Alpha Tag has been pushed to Hub as well from automation
Fri, Aug 4, 2023, 14:36:30 - pdurbin: yep, I started a topic about that: https://dataverse.zulipchat.com/#narrow/stream/375812-containers/topic/alpha.20tag.20from.205.2E14 üòÑ
Fri, Aug 4, 2023, 14:37:10 - pdurbin: and I have the alpha tag on the agenda for next week's container meeting: https://docs.google.com/document/d/1c3_LVAwtDncK6GS1AsVG62gLIkgyZX0gCJC792pw8Rs/edit?usp=sharing
Fri, Aug 4, 2023, 14:40:38 - pdurbin: yes, https://github.com/IQSS/dataverse/releases/tag/v5.14 is a 404 now, sorry üò¨
Fri, Aug 4, 2023, 14:40:54 - pdurbin: details in #dv-tech
Fri, Aug 4, 2023, 15:17:37 - pdurbin: send it back to the kitchen
Fri, Aug 4, 2023, 15:17:43 - pdurbin: cook it a little more
Fri, Aug 4, 2023, 15:23:45 - pdurbin: need to change one character
Fri, Aug 4, 2023, 15:26:09 - pdurbin: https://github.com/IQSS/dataverse/pull/9756
Fri, Aug 4, 2023, 16:53:36 - pdurbin: merged
Fri, Aug 4, 2023, 16:54:01 - pdurbin: re-release of https://github.com/IQSS/dataverse/releases/tag/v5.14
Fri, Aug 4, 2023, 16:54:04 - pdurbin: phew!
Fri, Aug 4, 2023, 16:54:16 - pdurbin: Have a good weekend, folks!
Mon, Aug 7, 2023, 02:10:15 - poikilotherm: Hello fellow Dataversians! I'm officially back to desk today :-)
Mon, Aug 7, 2023, 06:13:15 - pdurbin: poikilotherm (CEST,UTC+2): welcome back!
Mon, Aug 7, 2023, 06:15:17 - poikilotherm: And away again... Off to lunch üòâ
Mon, Aug 7, 2023, 07:17:22 - Donald Sizemore II: poikilotherm (CEST,UTC+2): Welcome back. We have insistent hospitality.
Mon, Aug 7, 2023, 07:36:43 - Miguel Silva: Hi everyone,
today I'll be writing all day the most important part for my upcoming scientific research paper sub-titled 

"Experimental Data Authenticity and Trustworthiness" 

using #dataverse's UNF .
Anyone is invited to follow my work, on my GitHub repository of the project. Here's the link:
https://tinyurl.com/ValidationDataOrigins
Mon, Aug 7, 2023, 07:38:33 - Miguel Silva sent an image. (Media omitted)
Mon, Aug 7, 2023, 07:42:23 - poikilotherm: <@don.sizemore:matrix.org "poikilotherm (CEST,UTC+2): Welco..."> "Insistent"? ü´£üò≥üò±üôäüôâüôà
Mon, Aug 7, 2023, 07:57:25 - pdurbin: I had a roommate in college that I called aggressively nice.
Mon, Aug 7, 2023, 08:50:15 - Donald Sizemore II: @poikilotherm it's a line from Stephen King's Rose Red, spoken when one of the protagonists tried to escape the mansion.
Mon, Aug 7, 2023, 08:59:58 - pdurbin: Miguel Silva: I mis-read that as "new dad swarm" üòÑ
Mon, Aug 7, 2023, 09:50:55 - Miguel Silva: is possible you may find spelling mistakes and even grammar errors ... still writing the document. Plus I want all those errors to be and appear in the revision history .... for me to later infer a greater authenticity and trustworthiness of my work.  If not for anything else, to show I'm still a human typing on my laptop !!!

Got to adjust to these automation times. And to me, a history of records showing document edits is what makes total sense in 2023 and onwards

By the time the document is ready for submission to a journal all those grammar errors and misspells will be corrected.
Mon, Aug 7, 2023, 09:51:50 - pdurbin: Oh, I just meant in that screenshot above.
Mon, Aug 7, 2023, 09:52:23 - pdurbin: I think it really says "the new LDAD swarm"
Mon, Aug 7, 2023, 09:52:44 - Miguel Silva: <@pdurbin:matrix.org "Oh, I just meant in that screens..."> the screenshot ? ü§î let me see it again..
Mon, Aug 7, 2023, 09:53:11 - pdurbin: It's clear enough. I'm just messing with you üòú
Mon, Aug 7, 2023, 09:56:16 - Miguel Silva: yes. it says "the new LDAD SWARM". Is just a doodle I made a few weeks back on that photo. Trying out a new name for the device....

BTW, that piece of hardware is all open hardware, with PCB design and circuit schematics available on that GitHub repository to anyone to use and edit on KiCad EDA
Mon, Aug 7, 2023, 09:57:22 - Miguel Silva: time for me here in Belgium to stop working and do something else outside ....
Mon, Aug 7, 2023, 09:57:30 - Miguel Silva: keep up the good open work 
Mon, Aug 7, 2023, 13:23:49 - pdurbin: enjoy the fresh air!
Mon, Aug 7, 2023, 13:25:43 - Miguel Silva: <@aeonlabs:matrix.org "is possible you may find spellin..."> you know ...it may well be a ...new DAD 
Mon, Aug 7, 2023, 13:25:57 - Miguel Silva: üòçüòçüòçüòçüòçüòçüòçüòçüòçüòçüòç
Mon, Aug 7, 2023, 15:03:27 - pdurbin: üòÑ
Tue, Aug 8, 2023, 09:51:37 - pdurbin: working away on upgrades to Payara 6 and Java 17
Tue, Aug 8, 2023, 09:51:49 - pdurbin: There are branches on GitHub if anyone wants to try them out! üòÑ
Tue, Aug 8, 2023, 14:22:38 - poikilotherm: Sure. What should I do pdurbin 
Tue, Aug 8, 2023, 14:24:17 - pdurbin: Well top of mind is https://github.com/IQSS/dataverse/issues/9340 because I just tried to migrate my data from Payara 5 to 6 and it didn't just work. üòû
Tue, Aug 8, 2023, 14:24:39 - pdurbin: However, there are failing API tests you could look at.
Tue, Aug 8, 2023, 14:25:44 - poikilotherm: OK what's the easiest way to run these tests ATM
Tue, Aug 8, 2023, 14:25:46 - poikilotherm: Docker?
Tue, Aug 8, 2023, 14:26:01 - poikilotherm: I "just" need a custom base image, right?
Tue, Aug 8, 2023, 14:26:16 - poikilotherm: BTW - failing API tests in J17 branch, right?
Tue, Aug 8, 2023, 14:27:00 - pdurbin: Yeah, Java 17, but maybe we should focus on Payara 6 first. It's in QA. Would be nice to resolve enough issues to merge it.
Tue, Aug 8, 2023, 14:27:11 - poikilotherm: Right.
Tue, Aug 8, 2023, 14:27:14 - poikilotherm: Fine by me
Tue, Aug 8, 2023, 14:27:31 - pdurbin: So we should probably ask Kevin for any showstoppers.
Tue, Aug 8, 2023, 14:27:35 - poikilotherm: What is the scope of the P6 PR. Is it OK to still have issues?
Tue, Aug 8, 2023, 14:27:45 - pdurbin: And migrating data is important, obviously.
Tue, Aug 8, 2023, 14:27:54 - poikilotherm: Would it be alright to merge and squash bugs coming from the migration after the fact?
Tue, Aug 8, 2023, 14:28:19 - pdurbin: Merge the Payara 6 branch early? And then fix small bugs?
Tue, Aug 8, 2023, 14:28:36 - poikilotherm: Yeah, that's what I'm wondering about
Tue, Aug 8, 2023, 14:28:53 - pdurbin: That's what Gustavo suggested at standup but he met with some resistance.
Tue, Aug 8, 2023, 14:29:01 - poikilotherm: It seems to be such an ever growing branch. And probably we will find new bugs after merging anyway
Tue, Aug 8, 2023, 14:29:19 - pdurbin: yeah
Tue, Aug 8, 2023, 14:29:28 - pdurbin: So it seems like the goal should be to merge the branch
Tue, Aug 8, 2023, 14:29:34 - pdurbin: Fix whatever we need to
Tue, Aug 8, 2023, 14:29:40 - pdurbin: in order to get it merged
Tue, Aug 8, 2023, 14:30:12 - poikilotherm: Make it deploy ok, have basic functionality running so we can start a bug hunt
Tue, Aug 8, 2023, 14:30:38 - poikilotherm: It's not like we caused these bugs - we're not introducing them by code changes. The platform changes.
Tue, Aug 8, 2023, 14:31:13 - pdurbin: I think we're close to that. I hope.
Tue, Aug 8, 2023, 14:31:24 - pdurbin: basic functionality working
Tue, Aug 8, 2023, 14:32:06 - pdurbin changed their profile picture
Tue, Aug 8, 2023, 14:32:18 - pdurbin: but we should figure out what's left
Tue, Aug 8, 2023, 14:32:23 - poikilotherm: So, the P6 branch has no failing API tests anymore, aye?
Tue, Aug 8, 2023, 14:32:24 - pdurbin: what we need to do before we can merge
Tue, Aug 8, 2023, 14:32:52 - pdurbin: well, not failing from my new "second opinion" test runner üòÑ
Tue, Aug 8, 2023, 14:33:24 - pdurbin: Jenkins was passing as recently as yesterday: https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/63/testReport/
Tue, Aug 8, 2023, 14:33:26 - poikilotherm: Ha!
Tue, Aug 8, 2023, 14:34:24 - poikilotherm: That's not too bad!
Tue, Aug 8, 2023, 14:34:31 - pdurbin: I'm not sure why it started failing here: https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/64/consoleFull
Tue, Aug 8, 2023, 14:35:06 - poikilotherm: BTW [6.2023.8-RC1](https://github.com/payara/Payara/releases/tag/payara-server-6.2023.8.RC1) tagged yesterday
Tue, Aug 8, 2023, 14:35:16 - pdurbin: nice
Tue, Aug 8, 2023, 14:35:46 - pdurbin: tests passing from Second Opinion: https://github.com/pdurbin/dataverse-api-test-runner/actions/runs/5766382968
Tue, Aug 8, 2023, 14:36:22 - pdurbin: I just kicked off runs from both.
Tue, Aug 8, 2023, 14:37:14 - pdurbin: But the data migration failure... that should be a showstopper, right? We need a solution.
Tue, Aug 8, 2023, 14:37:55 - poikilotherm: Not sure I can really help with that... I'm doing containers you know üòâ
Tue, Aug 8, 2023, 14:38:35 - poikilotherm: Could you enlighten me why we need a data migration?
Tue, Aug 8, 2023, 14:39:31 - poikilotherm: What - aside from JVM options in domain.xml - is there to migrate?
Tue, Aug 8, 2023, 14:40:06 - poikilotherm: (Sorry - I really have no idea, because in my container world I'm always using a fresh domain)
Tue, Aug 8, 2023, 14:40:43 - poikilotherm: One thing that comes to mind is copying over old log files and the log config
Tue, Aug 8, 2023, 14:44:30 - poikilotherm: From build 64 I see some errors in the unit tests already:

```
Exception caught trying to instantiate PrivateUrlRedirectData: PrivateUrlUser cannot be null
java.lang.Exception: PrivateUrlUser cannot be null
edu.harvard.iq.dataverse.privateurl.PrivateUrlRedirectData.<init>(PrivateUrlRedirectData.java:22)
edu.harvard.iq.dataverse.privateurl.PrivateUrlUtil.getPrivateUrlRedirectData(PrivateUrlUtil.java:112)
edu.harvard.iq.dataverse.privateurl.PrivateUrlUtilTest.testGetPrivateUrlRedirectDataFail(PrivateUrlUtilTest.java:173)
...
getPrivateUrlFromRoleAssignment\nINFO: dataverseSiteUrl was null. Can not instantiate a PrivateUrl object.
```
Tue, Aug 8, 2023, 14:52:31 - pdurbin: Yes, I think it's mostly the config in domain.xml. Not exactly sure.
Tue, Aug 8, 2023, 14:54:12 - pdurbin: Most of the 100 installations are not in the container world.
Tue, Aug 8, 2023, 17:12:00 - poikilotherm: So I reviewed the error log from that Jenkins run #64
Tue, Aug 8, 2023, 17:12:59 - poikilotherm: pdurbin: it's really hard to track down these errors. Our tests spit out way to much unnecessary logs and when sth goes wrong, it's just saying "went wrong" but you can't really see the response. Not very great
Tue, Aug 8, 2023, 17:16:30 - poikilotherm: Yet again it would be so nice if we change our tests and the output to be more like this: https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html#surefire-extensions-and-reports-configuration-for-displayname
Tue, Aug 8, 2023, 17:50:46 - pdurbin: Sure, let's try it.
Tue, Aug 8, 2023, 17:51:14 - pdurbin: 65 passed: https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/65/testReport/
Tue, Aug 8, 2023, 17:51:32 - pdurbin: so did 66: https://jenkins.dataverse.org/job/IQSS-Dataverse-Payara6/66/testReport/
Tue, Aug 8, 2023, 17:51:44 - pdurbin: So maybe we shouldn't worry too much about 64
Tue, Aug 8, 2023, 18:04:20 - pacian sent an image. (Media omitted)
Tue, Aug 8, 2023, 18:04:21 - pacian: pdurbin: Donald Sizemore II 

I ran the backup please see the errors 
Tue, Aug 8, 2023, 19:10:06 - pdurbin: Hmm, does it work on Python 2?
Wed, Aug 9, 2023, 01:21:09 - poikilotherm: Definitely looks like a Python 2 vs 3 issue. üôà
Wed, Aug 9, 2023, 01:21:29 - poikilotherm: Py3 installed and an old script...
Wed, Aug 9, 2023, 05:24:52 - pacian: Dataverse uses version 3.9
Wed, Aug 9, 2023, 05:25:14 - pacian: We are using version 3.9
Wed, Aug 9, 2023, 07:08:47 - pdurbin: I could check with the team if we'd like a pull request. I'm not even 100% sure if we're still using it. üò¨ pacian let me know if you'd be interested in converting it to Python 3.
Wed, Aug 9, 2023, 07:09:24 - Donald Sizemore II: @pdurbin if that's what I think it is, y'all still use it. @poikilotherm is correct on Python2/3 compatibility
Wed, Aug 9, 2023, 07:15:48 - pdurbin: Ok. But I'll probably check with Leonid anyway. Thanks.
Wed, Aug 9, 2023, 07:25:11 - pdurbin: I thought you were away on a retreat. üòÑ
Wed, Aug 9, 2023, 08:46:11 - pacian: pdurbin: We are interested in converting it to Python 3 
Wed, Aug 9, 2023, 09:42:45 - Donald Sizemore II: @pdurbin our retreat begins at 1000, and I'm told I'm allowed to have my laptop for retreat purposes
Wed, Aug 9, 2023, 09:43:59 - pdurbin: pacian: I just checked with Leonid and we'd love a PR. Thanks!
Wed, Aug 9, 2023, 10:03:53 - pacian: Hmmmm. PR  ????
Wed, Aug 9, 2023, 10:16:13 - pdurbin: Oh, pull request, sorry. But if you would start by creating an issue, that would be great.
Wed, Aug 9, 2023, 10:18:37 - pdurbin: And the script is still very much in use, though we've made a Harvard-specific tweak here or there.
Wed, Aug 9, 2023, 10:24:23 - pacian: Can do thanks.
Thu, Aug 10, 2023, 06:34:12 - pdurbin: Containerization Working Group meeting in 3 hours: https://ct.gdcc.io
Thu, Aug 10, 2023, 08:57:23 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Hello there :) I would like to have information on DvWebLoader, and the use of Api Token vs Signed Url. What are the risks regarding the `&key={api_token}` in querystring url. Do you guys have any informations ? (ping qqmyers)
Thu, Aug 10, 2023, 10:44:22 - pdurbin: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): can you please ping qqmyers in https://dataversecommunity.slack.com ?
Thu, Aug 10, 2023, 12:20:37 - pdurbin: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): actually, I'd say you can just open an issue at https://github.com/gdcc/dvwebloader/issues
Fri, Aug 11, 2023, 05:24:43 - pdurbin: Once we merge the Payara 6 branch, we'll email the dev list and ask developers to upgrade.
Fri, Aug 11, 2023, 05:25:21 - pdurbin: If anyone wants to try BEFORE we merge, the branch is here: https://github.com/IQSS/dataverse/pull/9685
Fri, Aug 11, 2023, 05:27:04 - pdurbin: The "dev environment" page has been rewritten to suggest using Docker. Here's the quickstart: https://dataverse-guide--9685.org.readthedocs.build/en/9685/developers/dev-environment.html#quickstart
Fri, Aug 11, 2023, 06:11:39 - Ahmad Hesam joined the room
Fri, Aug 11, 2023, 06:16:45 - Ahmad Hesam: Hi everyone! I was wondering if there is someone in this channel with some more knowledge on the "Cloud Storage and Compute" aspect of Dataverse (as mentioned briefly here in the user guide: https://guides.dataverse.org/en/latest/user/dataset-management.html#cloud-storage-access)

I understand that this is experimental, but I was wondering what it takes for a "cloud computing environment [to be] integrated with a Dataverse installation"? 
Fri, Aug 11, 2023, 06:18:05 - pdurbin: Hi. Welcome. There's a little more info here: https://guides.dataverse.org/en/5.14/installation/config.html#computebaseurl
Fri, Aug 11, 2023, 06:18:33 - pdurbin: But this is an old-ish feature from an old collaboration. We don't use it at Harvard Dataverse. I'm not sure if other installations use it or not.
Fri, Aug 11, 2023, 06:20:33 - Ahmad Hesam: Thanks for the reference! That's good to know. Does Harvard Dataverse integrate with compute infra in any other way? Any refs that I could explore on this topic :) ? 
Fri, Aug 11, 2023, 06:20:39 - pdurbin: And here: https://guides.dataverse.org/en/5.14/installation/config.html#setting-up-compute-with-swift
Fri, Aug 11, 2023, 06:21:33 - pdurbin: Harvard Dataverse integrates with Binder: https://groups.google.com/g/dataverse-community/c/yl31eO-uHUA/m/h0JSC0vWAQAJ
Fri, Aug 11, 2023, 06:21:48 - pdurbin: https://demo.dataverse.org integrates with Whole Tale
Fri, Aug 11, 2023, 06:22:12 - pdurbin: and a brand new ChatGPT based tool my boss invented called "Ask the Data"
Fri, Aug 11, 2023, 06:22:45 - pdurbin: which you can read about at https://github.com/IQSS/dataverse/releases/tag/v5.14
Fri, Aug 11, 2023, 06:23:09 - pdurbin: we'll put that on Harvard Dataverse once we upgrade it to 5.14
Fri, Aug 11, 2023, 06:23:10 - Ahmad Hesam: Cool! I've used Binder in the past to set up some notebooks for public use before. That's great to see! I'll definitely look into this.
Fri, Aug 11, 2023, 06:23:39 - pdurbin: Renku is another option: https://guides.dataverse.org/en/5.14/admin/integrations.html#renku
Fri, Aug 11, 2023, 06:24:34 - pdurbin: It might be a good question for the mailing list. You could just ask if anyone is integrating with compute and how. I'm sure you'd get some stories.
Fri, Aug 11, 2023, 06:24:45 - pdurbin: And you'd reach a lot more people there.
Fri, Aug 11, 2023, 06:25:47 - Ahmad Hesam: I assume these implementations enable researchers that have access to public (non-sensitive data)? Has there been any efforts spent on working with sensitive data (i.e. data that might be stationed at a data provider that will only share within certain conditions  / working within certain environments)? If this goes to far out of scope of this channel, I'd be happy to ask this in the mailing list of course!
Fri, Aug 11, 2023, 06:26:05 - Ahmad Hesam: (Many thanks for sharing the links btw!)
Fri, Aug 11, 2023, 06:31:20 - pdurbin: Yes, various efforts but I think the public ones have gotten more traction.
Fri, Aug 11, 2023, 06:31:49 - pdurbin: That said, I'm mostly aware of what Harvard Dataverse is doing but there are 100 installations out there.
Fri, Aug 11, 2023, 06:32:16 - pdurbin: There are probably stories on https://dataverse.org/dataversetv
Fri, Aug 11, 2023, 06:32:34 - pdurbin: "Connectors between Dataverse and several research tools such as JupyterHub and D4science"
Fri, Aug 11, 2023, 06:32:41 - pdurbin: "Renku: a platform for sustainable data science"
Fri, Aug 11, 2023, 06:34:00 - pdurbin: This one sounded promising but I think the funding ran out: "Confirmable Reproducible Research Environment - CORE2"
Fri, Aug 11, 2023, 06:34:43 - pdurbin: etc
Fri, Aug 11, 2023, 06:34:48 - Ahmad Hesam: Very helpful! I will start digging into these. I skimmed through the Youtube recordings of this year's Community meeting in Minho, but I didn't hear much about about the actual data transfer proces from Dataverse repository to compute environments as I had hoped to. I'll look in to these ones you mentioned!
Fri, Aug 11, 2023, 06:37:25 - Ahmad Hesam: Just to give you context of my curiosity in this topic. I recently started working on efforts to support working with sensitive data (previewed) in Dataverse instances within the Netherlands (currently focusing on the humanities and social sciences domain). I'm trying to gather as much info on what's already done on this topic 
Fri, Aug 11, 2023, 06:38:00 - pdurbin: Ah, from Portugal, I'd recommend this talk from the last day:  Streamlining Data Sharing in Machine Learning with Dataverse and Customized Metadata. Lincoln Sherpa, TU Dresden 
Fri, Aug 11, 2023, 06:39:12 - pdurbin: sensitive data is a perennial topic
Fri, Aug 11, 2023, 06:39:40 - pdurbin: You could definitely kick off a thread on the mailing list about that too
Fri, Aug 11, 2023, 06:40:18 - pdurbin: " Develop the capability to handle sensitive data and big data " is #3 on goals at https://www.iq.harvard.edu/roadmap-dataverse-project
Fri, Aug 11, 2023, 06:41:10 - pdurbin: " Supporting the sharing and discovery of sensitive data using privacy-preserving tools such as those from the OpenDP project at IQSS; " -- https://www.iq.harvard.edu/news/dataverse-joins-nih-data-repository-initiative (linked from the roadmap)
Fri, Aug 11, 2023, 06:43:54 - Ahmad Hesam: Many thanks for helping me navigate through existing work! 
Fri, Aug 11, 2023, 06:45:34 - pdurbin: Oh, sure. I'm going to get some breakfast. Please let me know if you have any questions.
Fri, Aug 11, 2023, 08:28:11 - pdurbin: luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): thanks for opening https://github.com/gdcc/dvwebloader/issues/20
Fri, Aug 11, 2023, 14:28:58 - pdurbin: Payara 6 branch merged! https://groups.google.com/g/dataverse-dev/c/54AFJ_m8yXU/m/v4_UFNanAAAJ üéâ
Fri, Aug 11, 2023, 16:59:47 - pdurbin: Have a good weekend, all!
Mon, Aug 14, 2023, 06:49:55 - poikilotherm: Anyone else @here having problems on Mac M1/M2 or Windoze building images? Please see my comment https://github.com/IQSS/dataverse/issues/9771#issuecomment-1676687360. Would be great if you'd give it a go!
Mon, Aug 14, 2023, 07:20:51 - Donald Sizemore II: poikilotherm (CEST,UTC+2): I have an M2 and it's been on my back-burner to-do list to test this out for ... a week or two? (sigh)
Mon, Aug 14, 2023, 07:23:34 - poikilotherm: Full disclosure: sekmiller is having this problem on an M1
Mon, Aug 14, 2023, 08:56:08 - Donald Sizemore II: correct, but you asked about M1/M2
Mon, Aug 14, 2023, 13:22:29 - Santiago Florez: Hello everyone. I'm having trouble installing Dataverse in a development environment. when i put my root directory payara responds that it is not valid
Mon, Aug 14, 2023, 13:23:45 - pdurbin: Santiago Florez: hi! Are you using the new Docker-based approach? http://preview.guides.gdcc.io/en/develop/developers/dev-environment.html
Mon, Aug 14, 2023, 13:26:19 - Santiago Florez: I'm following this guide https://guides.dataverse.org/en/5.13/developers/dev-environment.html#
Mon, Aug 14, 2023, 13:26:45 - pdurbin: I see. We now refer to that as the "classic" approach: http://preview.guides.gdcc.io/en/develop/developers/classic-dev-env.html
Mon, Aug 14, 2023, 13:27:49 - Santiago Florez: yes that right 
Mon, Aug 14, 2023, 13:28:32 - Santiago Florez: <@santiago_florez:matrix.org "Hello everyone. I'm having troub..."> And i have that problem
Mon, Aug 14, 2023, 13:29:21 - pdurbin: So... do you want to try the Docker approach? üòÑ
Mon, Aug 14, 2023, 13:30:29 - Santiago Florez: I don't have much knowledge about docker.
Mon, Aug 14, 2023, 13:30:54 - pdurbin: No worries. The classic approach is still valid.
Mon, Aug 14, 2023, 13:31:13 - pdurbin: You want to get the "develop" branch working, right? The latest code?
Mon, Aug 14, 2023, 13:32:42 - Santiago Florez: Yes 
Mon, Aug 14, 2023, 13:33:22 - pdurbin: Ok, please be aware that as of Friday you must run Payara 6: https://groups.google.com/g/dataverse-dev/c/54AFJ_m8yXU/m/v4_UFNanAAAJ
Mon, Aug 14, 2023, 13:33:48 - Santiago Florez: I forked this repository https://github.com/IQSS/dataverse/tree/develop
Mon, Aug 14, 2023, 13:34:22 - Santiago Florez: So I need to update my payara from 5 to 6
Mon, Aug 14, 2023, 13:34:35 - pdurbin: yes
Mon, Aug 14, 2023, 13:34:44 - pdurbin: I mean, I always start fresh.
Mon, Aug 14, 2023, 13:35:05 - pdurbin: With a newly unzipped Payara. Empty database. Empty Solr.
Mon, Aug 14, 2023, 13:35:32 - Santiago Florez: ok ok 
Mon, Aug 14, 2023, 13:35:35 - Santiago Florez: thanks 
Mon, Aug 14, 2023, 13:35:48 - Santiago Florez: I¬¥m gonna update 
Mon, Aug 14, 2023, 13:36:27 - pdurbin: Another thing to be aware of is that we're making big changes to the develop branch right now in preparation for Dataverse 6. We upgrade Payara already. Next in an upgrade to Java 17: https://github.com/IQSS/dataverse/pull/9764
Mon, Aug 14, 2023, 13:36:36 - pdurbin: Then we'll upgrade Solr.
Mon, Aug 14, 2023, 13:36:56 - pdurbin: So it might be a somewhat challenging time to set up a dev environment üòÖ
Mon, Aug 14, 2023, 13:37:38 - Santiago Florez: Awesome 
Mon, Aug 14, 2023, 13:37:54 - pdurbin: That's the spirit! üòÑ
Mon, Aug 14, 2023, 13:40:26 - pdurbin: You'll want to follow http://preview.guides.gdcc.io/en/develop/developers/classic-dev-env.html
Mon, Aug 14, 2023, 13:40:55 - pdurbin: The preview version. It shows Payara 6
Mon, Aug 14, 2023, 13:41:57 - Santiago Florez: Thanks that¬¥s all that I need 
Mon, Aug 14, 2023, 13:42:25 - pdurbin: You're welcome. Let us know if you have any trouble!
Mon, Aug 14, 2023, 14:46:48 - Santiago Florez: Hi pdurbin 
Mon, Aug 14, 2023, 14:49:11 - pdurbin: Did you hit a snag?
Mon, Aug 14, 2023, 14:49:59 - Santiago Florez: I got this trouble when I started payara 
Mon, Aug 14, 2023, 14:50:38 - Santiago Florez: payara_trouble.txt (Media omitted)
Mon, Aug 14, 2023, 14:51:50 - pdurbin: What does `java --version` show for you, please?
Mon, Aug 14, 2023, 14:52:31 - Santiago Florez: openjdk 11.0.20 2023-07-18
OpenJDK Runtime Environment (build 11.0.20+8-post-Ubuntu-1ubuntu122.04)
OpenJDK 64-Bit Server VM (build 11.0.20+8-post-Ubuntu-1ubuntu122.04, mixed mode, sharing)
Mon, Aug 14, 2023, 14:52:36 - Santiago Florez: Java 11
Mon, Aug 14, 2023, 14:54:03 - pdurbin: I believe you are suffering from https://github.com/payara/Payara/issues/6344
Mon, Aug 14, 2023, 14:54:36 - pdurbin: It's funny, just this morning Donald Sizemore II was asking if we should document our workaround. We definitely should!
Mon, Aug 14, 2023, 14:55:17 - pdurbin: This is the workaround we're using in our "base" Docker image: https://github.com/IQSS/dataverse/commit/da5193ffd3523a274feab8a083016b68e80202bd
Mon, Aug 14, 2023, 14:55:34 - pdurbin: ... which is copied straight from that issue
Mon, Aug 14, 2023, 14:56:48 - pdurbin: Does that help?
Mon, Aug 14, 2023, 15:05:55 - Santiago Florez: I'm gonna see it 
Mon, Aug 14, 2023, 15:29:48 - Santiago Florez: <@pdurbin:matrix.org "I believe you are suffering from..."> that fixed my problem, Thankspdurbin 
Mon, Aug 14, 2023, 15:47:21 - pdurbin: Great news!
Mon, Aug 14, 2023, 15:56:56 - pdurbin: Santiago Florez: what feature or bug do you want to work on? I'm just curious. üòÑ
Mon, Aug 14, 2023, 19:22:03 - Santiago Florez: I want to try adding new fields in some citations and metadata revisions. My boss is very interested in it.
Mon, Aug 14, 2023, 19:23:16 - Santiago Florez: Maybe modify it 
Mon, Aug 14, 2023, 19:23:43 - Santiago Florez: And have the source code can be more easier 
Mon, Aug 14, 2023, 19:24:50 - Santiago Florez: I want to know what you thing pdurbin 
Tue, Aug 15, 2023, 02:24:59 - poikilotherm: Santiago Florez note that it is advised to not edit citation.tsv to maintain upstream compatibility. Makes upgrading a lot easier...
Tue, Aug 15, 2023, 02:27:30 - poikilotherm: Also, if you want to make Java code changes and not create a fork you have to maintain on your own, it's probably a good idea to describe your ideas in more detail. Depending on what you're trying to do, it might be possible to make your code changes upstream. Just keep them ideas coming and talk to us. üòÉ
Tue, Aug 15, 2023, 07:45:15 - pdurbin: Yes. This is how we explain it in the guides:
Tue, Aug 15, 2023, 07:45:17 - pdurbin: "Generally speaking it is safer to create your own custom metadata block rather than editing metadata blocks that ship with the Dataverse Software, because changes to these blocks may be made in future releases. If you‚Äôd like to make improvements to any of the metadata blocks shipped with the Dataverse Software, please open an issue at https://github.com/IQSS/dataverse/issues so it can be discussed before a pull request is made."
Tue, Aug 15, 2023, 07:45:24 - pdurbin: From https://guides.dataverse.org/en/5.14/admin/metadatacustomization.html
Tue, Aug 15, 2023, 07:45:29 - pdurbin: Santiago Florez: ^^
Tue, Aug 15, 2023, 07:47:26 - pdurbin: https://dataverse.harvard.edu has been upgraded to 5.14
Tue, Aug 15, 2023, 07:57:38 - Donald Sizemore II: @pdurbin Jon and Thu-Mai long for the UI-editable custom metadata blocks of Dataverse 3
Tue, Aug 15, 2023, 10:25:27 - pdurbin: I keep forgetting that was a feature. Yes, we get this a lot. People like CEDAR for this reason.
Wed, Aug 16, 2023, 07:08:43 - prsridha sent an image. (Media omitted)
Wed, Aug 16, 2023, 07:09:18 - prsridha: Hello,
I have a docker installation of Dataverse on my server. It was working fine all these days, but now it throws up this error when I try to publish my Dataverse. Would you happen to know how I can fix this? (Refer screenshot)

The setup was done before I was involved with this project, so I'm not very sure where to look for logs. I verified that I have enough permissions to create and publish a Dataverse. It fails even from the admin account. 

Grateful for any help on this!


Wed, Aug 16, 2023, 07:12:39 - Donald Sizemore II: @prsridha you want server.log, wherever Docker may be sending it. If it's inside the Payara container, it may be /opt/payara5/glassfish/domains/domain1/logs/server.log or possibly /usr/local/payara5/glassfish/domains/domain1/logs/server.log depending on who built/configured the container.
Wed, Aug 16, 2023, 07:21:37 - prsridha: server.log (Media omitted)
Wed, Aug 16, 2023, 07:21:44 - prsridha: Thank you for the quick reply! I was able to locate the server.log file. But I don't see any errors in it.
Wed, Aug 16, 2023, 08:17:46 - pdurbin: prsridha: because Dataverse/Payara is running in Docker, the output is probably redirected. I would try something like `docker ps` followed by `docker logs <dataverse container name>`
Wed, Aug 16, 2023, 08:18:00 - pdurbin: This is how we document it for developers: https://preview.guides.gdcc.io/en/develop/container/dev-usage.html#viewing-logs
Wed, Aug 16, 2023, 09:02:18 - prsridha: out.log (Media omitted)
Wed, Aug 16, 2023, 09:02:21 - prsridha: pdurbin: Got it. My setup uses docker compose. I was able to extract the log file. This one does have quite a few errors.

Wed, Aug 16, 2023, 09:05:47 - prsridha: <@prsridha:matrix.org "pdurbin: Got it. My setup uses d..."> Is my issue occurring because "/opt/payara/appserver/glassfish/domains/domain1/config/jhove.conf" file is missing?
Wed, Aug 16, 2023, 09:07:46 - prsridha: <@prsridha:matrix.org "Is my issue occurring because "/..."> It also says that an Exception occurred while calling "publish dataverse command" because it "Could not create stateless EJB"
Wed, Aug 16, 2023, 09:13:54 - pdurbin: Maybe? It seems like there's quite a bit going on in that log
Wed, Aug 16, 2023, 09:14:39 - pdurbin: prsridha: was your installation working fine for a while? Did something change? Any clue what caused the breakage?
Wed, Aug 16, 2023, 09:15:38 - pdurbin: And do you know Tanay Karve ? üòÑ
Wed, Aug 16, 2023, 10:38:39 - prsridha: The installation was going fine all this while. The docker instance restarted because the server was in maintenance and I think it's not working post restart.
Wed, Aug 16, 2023, 10:39:40 - prsridha: Yes, Tanay was managing this deployment prior to me taking over! I see he's quite popular? üòÖ
Wed, Aug 16, 2023, 10:41:33 - prsridha: Any ideas on where I can begin to be able to fix this?
Wed, Aug 16, 2023, 10:43:18 - pdurbin: Ok, so the server itself that is hosting the Docker images was also restarted?
Wed, Aug 16, 2023, 10:43:58 - prsridha: Yes, the server also restarted. Would you recommend redoing a clean install?
Wed, Aug 16, 2023, 10:45:36 - pdurbin: Yes, a clean install sounds like a good idea. Someone on my team suggested this when I brought up your situation.
Wed, Aug 16, 2023, 10:46:58 - prsridha: Okay great! I'll go ahead and do that. Thanks for all the help!
Wed, Aug 16, 2023, 10:47:38 - pdurbin: Sure! By the way, you might be interested in this: https://ct.gdcc.io
Wed, Aug 16, 2023, 10:50:59 - prsridha: <@pdurbin:matrix.org "Sure! By the way, you might be i..."> Sounds exciting! Will check it out :)
Wed, Aug 16, 2023, 11:02:37 - pdurbin: Nice. Always happy for new people to join.
Wed, Aug 16, 2023, 11:18:52 - pdurbin sent an image. (Media omitted)
Wed, Aug 16, 2023, 11:19:33 - pdurbin: Ask the Data is now enabled for Harvard Dataverse. The dataset above is mine and not particularly interesting, but the AI is right, it's about open source software repos: https://dataverse.harvard.edu/file.xhtml?fileId=6867331&version=4.0
Wed, Aug 16, 2023, 11:22:31 - pdurbin sent an image. (Media omitted)
Wed, Aug 16, 2023, 11:23:18 - pdurbin sent an image. (Media omitted)
Wed, Aug 16, 2023, 13:37:54 - pdurbin: See also https://groups.google.com/g/dataverse-community/c/L9M48Z3GDq4/m/QzWyXnSXBQAJ
Wed, Aug 16, 2023, 13:38:01 - pdurbin: And https://twitter.com/iacus/status/1691861045705339251
Thu, Aug 17, 2023, 00:27:24 - prsridha sent an image. (Media omitted)
Thu, Aug 17, 2023, 00:27:25 - prsridha: Hello pdurbin Continuing the issue from yesterday, I removed the docker containers and recreated them. I am able to login via the dataverseAdmin superuser account and it takes me to the password reset page. Here, nothing happens when I change the password. In the logs, I get the same error from yesterday - "javax.ejb.EJBException: javax.ejb.CreateException: Could not create stateless EJB". I've attached a screenshot of the error

Could you let me know what this error is about?
Thu, Aug 17, 2023, 00:29:38 - prsridha: EJBException.log (Media omitted)
Thu, Aug 17, 2023, 00:29:39 - prsridha: I've added the full log here - 
Thu, Aug 17, 2023, 02:08:11 - prsridha: I had another question - the postgresql database container resides on a volume mount, so that the data persists even if the container goes down. When I do a clean install, how do I get Dataverse to recover all my account information from this volume?

When I mount postgresql on the same volume with the new install, Dataverse throws up a lot of errors saying that the tables it tries to create already exist. When the webpage finally does come up, it says my user accounts aren't found.
Thu, Aug 17, 2023, 06:47:51 - pdurbin: prsridha: how are you recreating the docker containers?
Thu, Aug 17, 2023, 07:23:30 - prsridha: I have Dockerfiles with configuration for each of the services. I scale them down, clear out the containers and scale it back up using docker compose.
Thu, Aug 17, 2023, 07:32:38 - pdurbin: (to all) container meeting in 2 hours: https://ct.gdcc.io
Thu, Aug 17, 2023, 07:32:56 - pdurbin: prsridha: are your Dockerfiles on GitHub?
Thu, Aug 17, 2023, 07:42:00 - poikilotherm: prsridha: where are those container images coming from? I see Payara 5.2021.1 in there.
Thu, Aug 17, 2023, 07:56:48 - prsridha: docker-compose-ssl.yml (Media omitted)
Thu, Aug 17, 2023, 07:56:54 - prsridha: This is the main docker file I'm using
Thu, Aug 17, 2023, 08:44:13 - Johannes Darms: pdurbin: Is there a nice way to get the all dataverses a dataset is part of (i.e. defined + the set of linked ones)
Thu, Aug 17, 2023, 08:53:18 - poikilotherm: prsridha: oh wow the coronawhy dataverse images... I don't know how they built 'em. And they are pretty outdated. Maybe you can upload the log files here, so we can have a look? Very often an exception is not enough information about what is going on, it needs more context.
Thu, Aug 17, 2023, 08:54:33 - poikilotherm: Apart from that if you're willing to experiment, you could take a look at the images we're currently developing: http://preview.guides.gdcc.io/en/develop/container/index.html There is an alpha tag on Docker Hub now with 5.14 :-)
Thu, Aug 17, 2023, 09:44:12 - prsridha: out.log (Media omitted)
Thu, Aug 17, 2023, 09:44:24 - prsridha: poikilotherm (CEST,UTC+2): Thanks for the link! I'll be sure to check it out. We'll definitely move to a newer version ASAP. But for now, our top priority is getting our Dataverse deployment up and running again. I've attached the  complete log.
Thu, Aug 17, 2023, 09:45:14 - poikilotherm: Feel free to join us - we're on now. Zoom link is on ct.gdcc.io
Thu, Aug 17, 2023, 09:45:36 - poikilotherm: (Although we have an agenda and will not directly jump into your topic... üòâ )
Thu, Aug 17, 2023, 09:48:07 - prsridha: Sure! I'd be happy to. Also, big thanks to this open-source community for being super responsive!
Thu, Aug 17, 2023, 10:33:26 - poikilotherm: Thx for coming prsridha !
Thu, Aug 17, 2023, 10:34:16 - poikilotherm: You're also very welcome to join us on Zulip, where we hang out in a much more structured way to get work done. https://dataverse.zulipchat.com/join/casd4ecvrdmyuvesxcpsk4ed/
Thu, Aug 17, 2023, 10:53:28 - pdurbin: Good meeting. We covered a lot. If anyone would like to watch the recording: https://harvard.zoom.us/rec/share/JgYLz3w-_IFUpCrFG7Rba5i1rykQx2687M8cvuY8G0zwUQq2_ZL6WtrIg9tTg4gJ.kYS1kKATrIDkUs2g
Thu, Aug 17, 2023, 10:55:12 - pdurbin: <@johannes.darms:matrix.org "pdurbin: Is there a nice way to ..."> Johannes Darms: please try this: https://guides.dataverse.org/en/5.14/admin/dataverses-datasets.html#list-collections-that-are-linked-from-a-dataset
Thu, Aug 17, 2023, 11:57:45 - pdurbin: prsridha: CoronaWhy images probably means you're using https://github.com/IQSS/dataverse-docker . Can you please open an issue there?
Thu, Aug 17, 2023, 12:19:43 - prsridha: Yes, I'm using this. Will do!
Thu, Aug 17, 2023, 12:21:32 - prsridha: Also, any thoughts on my previous question regarding postgresql?
Thu, Aug 17, 2023, 12:45:49 - andresdiazh: Message deleted
Thu, Aug 17, 2023, 12:46:06 - andresdiazh: Hello, please help me, could you tell me from which file I can mitigate the vulnerability of Cabecera Content Security Policy, I tried to activate it from payara but it still appears.
Thu, Aug 17, 2023, 13:26:13 - pdurbin: What does cabecera mean? Headboard?
Thu, Aug 17, 2023, 14:35:27 - pdurbin: andresdiazh: we probably need some more information, please. Is there a CVE number? Do you have a link? Which versions of Payara are affected?
Thu, Aug 17, 2023, 14:48:49 - poikilotherm: Ah just a thought: if this is serious business about a zero day or similar, please don't discuss this here...
Thu, Aug 17, 2023, 14:49:06 - poikilotherm: This is an open, publicly logged channel
Thu, Aug 17, 2023, 14:49:37 - poikilotherm: Hot as in urgent security things are not a good fit IMHO... üôàüôâüôä
Thu, Aug 17, 2023, 14:50:09 - pdurbin: Yeah, I had that thought.
Thu, Aug 17, 2023, 14:50:24 - pdurbin: This channel is publicly logged, like you said.
Thu, Aug 17, 2023, 14:50:36 - pdurbin: andresdiazh: what if you shoot an email to security@dataverse.org ?
Thu, Aug 17, 2023, 14:51:28 - poikilotherm: Or you guys go for a private chatroom with e2e enc
Thu, Aug 17, 2023, 14:51:35 - poikilotherm: Matrix does that
Thu, Aug 17, 2023, 14:51:46 - poikilotherm: Even with PFS
Thu, Aug 17, 2023, 14:53:36 - pdurbin: hey, get a room
Thu, Aug 17, 2023, 14:59:28 - poikilotherm: Inappropriate? üòã
Thu, Aug 17, 2023, 15:02:22 - pdurbin: prsridha: thanks for opening https://github.com/IQSS/dataverse-docker/issues/91 . I just pinged Vyacheslav Tikhonov about it. Would you want to join https://dataversecommunity.slack.com ? That's where he hangs out.
Thu, Aug 17, 2023, 15:08:01 - andresdiazh: <@pdurbin:matrix.org "andresdiazh: what if you shoot a..."> Perfect, thaks for you help!!!
Thu, Aug 17, 2023, 15:11:29 - pdurbin: andresdiazh: sure, did you send the email already? I don't see it.
Thu, Aug 17, 2023, 15:12:01 - pdurbin: You should get a ticket number back. If you tell me the number I can look it up.
Thu, Aug 17, 2023, 16:23:44 - pdurbin: poikilotherm (CEST,UTC+2): where do you want this on the backlog board? https://github.com/IQSS/dataverse/issues/9775 . Currently it's in the "no status" column. Or do you want that issue on that board at all?
Thu, Aug 17, 2023, 16:28:22 - andresdiazh: <@pdurbin:matrix.org "You should get a ticket number b..."> Yes, I already have a number 
Thu, Aug 17, 2023, 16:29:30 - poikilotherm: <@pdurbin:matrix.org "poikilotherm (CEST,UTC+2): where..."> I have no idea... not sure how much priority it should have.
Thu, Aug 17, 2023, 16:30:04 - poikilotherm: We probably should put it on the Board though 
Thu, Aug 17, 2023, 16:30:09 - pdurbin: andresdiazh: Thanks. I found it. Donald Sizemore II if you'd like to take a look: https://help.hmdc.harvard.edu/Ticket/Display.html?id=346907
Thu, Aug 17, 2023, 16:32:24 - pdurbin: poikilotherm (CEST,UTC+2): thanks I put it in the container column
Thu, Aug 17, 2023, 16:39:43 - andresdiazh: <@pdurbin:matrix.org "andresdiazh: Thanks. I found it...."> Sorry, I don't have an account at Harvard
Thu, Aug 17, 2023, 16:40:22 - pdurbin: andresdiazh: that's our internal ticketing system. You can ignore that link. Sorry.
Thu, Aug 17, 2023, 16:40:28 - pdurbin: We're discussing internally
Thu, Aug 17, 2023, 16:40:57 - pdurbin: However, maybe we can even discuss here. I'd want to know what Donald Sizemore II and poikilotherm (CEST,UTC+2) think.
Thu, Aug 17, 2023, 16:42:09 - poikilotherm: andresdiazh: most important question: you have a reverse proxy in your setup, like Apache/NGINX/Traefik/..., right?
Thu, Aug 17, 2023, 16:57:38 - andresdiazh: No, is a newly installed environment
Thu, Aug 17, 2023, 16:59:33 - andresdiazh: But the security area scans the URL to check that the installed software or applications do not have vulnerabilities, if everything does not have vulnerabilities, the service (URL) is published.
Thu, Aug 17, 2023, 17:00:33 - pdurbin: andresdiazh: if you don't have a proxy like Apache or nginx in front of Payara, does this mean you've reconfigured Payara to run on ports 80 and 443?
Thu, Aug 17, 2023, 17:01:42 - andresdiazh: Not only is payara available on port 8080.
Thu, Aug 17, 2023, 17:04:01 - andresdiazh: the payara version is  5.2022.3 #badassfish (build 308)
Thu, Aug 17, 2023, 17:09:07 - pdurbin: Is your security team scanning port 8080? It's common for a production Dataverse installation to only expose 80 and 443 to the outside world. And 80 and 443 are typically served by a proxy like Apache or nginx.
Thu, Aug 17, 2023, 17:14:18 - andresdiazh: Ok, the URL is behind an F5, it switches the traffic to the ip of the production server. From F5 they made adjustments, but we see that what is being reported is from the application.
Thu, Aug 17, 2023, 17:15:22 - pdurbin: Is there anything stopping you from running Apache or nginx in between the F5 and Payara?
Thu, Aug 17, 2023, 17:25:36 - pdurbin: Some policy or something?
Thu, Aug 17, 2023, 17:26:22 - pdurbin: Or maybe the F5 handles HTTPS certificates for you or something?
Thu, Aug 17, 2023, 17:33:44 - andresdiazh: Is it necessary to install apache and payara, or just payara is enough?
Thu, Aug 17, 2023, 17:34:33 - andresdiazh: I ask this because it emphasizes apache a lot, but I don't have it installed in the productive environment.
Fri, Aug 18, 2023, 00:37:55 - prsridha: <@pdurbin:matrix.org "prsridha: thanks for opening htt..."> pdurbin: Sure, I'll reach out to Vyacheslav via slack. If I want to move to the lastest stable docker image of Dataverse, where can I find it?
Fri, Aug 18, 2023, 00:38:57 - prsridha: pdurbin: Also, if I restart my Docker container, but want to use an existing postgresql database to recover my account information and settings, how do I go about it? Does Dataverse support this?
Fri, Aug 18, 2023, 01:45:21 - Johannes Darms: Thanks, I've only searched in the native API section of the documentation...
Fri, Aug 18, 2023, 06:25:49 - pdurbin: prsridha: I see you joined! I just sent Vyacheslav Tikhonov (Slava) a DM asking him to check out the thread you started
Fri, Aug 18, 2023, 09:21:08 - prsridha: <@pdurbin:matrix.org "prsridha: I see you joined! I ju..."> Great. Thanks!
Fri, Aug 18, 2023, 09:38:39 - pdurbin: prsridha: I've never actually used that dataverse-docker stuff so I'm not much help. Sorry.
Fri, Aug 18, 2023, 09:39:38 - pdurbin: I think you were running Dataverse 5.8? You could maybe try a traditional (non-Docker) install and move your data into it?
Fri, Aug 18, 2023, 10:43:57 - prsridha: pdurbin: Yes, that's a good idea. I'll try exploring that option.

I had another quick question - 
If I have access to the postgresql db and all Dataverse files, is there any way to recover the superuser password? The reset password option does show up on the webpage, but I don't have any mailrelay setup.
Fri, Aug 18, 2023, 10:47:17 - pdurbin: Well, you could grab the password reset link out of the database
Fri, Aug 18, 2023, 10:47:45 - pdurbin: This table: https://guides.dataverse.org/en/5.6/schemaspy/tables/passwordresetdata.html
Fri, Aug 18, 2023, 10:48:26 - pdurbin: Are you able to trigger a password reset?
Fri, Aug 18, 2023, 11:08:03 - poikilotherm: Or use a mailchatcher. See the docker compose file for dev in upstream.
Fri, Aug 18, 2023, 11:09:05 - pdurbin: You could create a new user and make it a superuser.
Fri, Aug 18, 2023, 11:55:43 - loicsomting: <@prsridha:matrix.org "pdurbin: Yes, that's a good idea..."> Maybe this helps
https://github.com/DataverseNO/dataverse-docker/blob/dataverse.no/doc/maintenance.rst#change-dataverse-admin-password
Fri, Aug 18, 2023, 12:09:45 - prsridha: Thank you so much for all these options! I'll see what works.
Fri, Aug 18, 2023, 12:10:44 - pdurbin: prsridha: so Dataverse is sort of up but broken in some ways? You can't publish collections (dataverses) for example.
Fri, Aug 18, 2023, 13:06:05 - Santiago Florez: Hi everyone 
Fri, Aug 18, 2023, 13:09:28 - Santiago Florez: I am installing Dataverse 5.14 by following this guide https://guides.dataverse.org/en/latest/installation/prerequisites.html. I am in the Payara section and I downloaded payara.service, when I try to run systemctl start payara.service with user dataverse I get this error:
==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===
Authentication is required to start 'payara.service'.
Authenticating as: root
Password: 
polkit-agent-helper-1: pam_authenticate failed: Authentication failure
==== AUTHENTICATION FAILED ===
Failed to start payara.service: Access denied
See system logs and 'systemctl status payara.service' for details.
Fri, Aug 18, 2023, 13:12:18 - poikilotherm: Santiago Florez: Go try `sudo systemctl`.
Fri, Aug 18, 2023, 13:13:33 - Santiago Florez: or maybe I need to download the payara.init.service ? I flow the guide to Set service account 
Fri, Aug 18, 2023, 13:51:34 - Donald Sizemore II: @pdurbin https://aws.amazon.com/bugbust/
Fri, Aug 18, 2023, 13:53:02 - Donald Sizemore II: Santiago Florez: is SELinux enabled? if you downloaded the systemd unit file and moved it into place, try: `$ sudo restorecon -v /usr/lib/systemd/system/payara.service`
Fri, Aug 18, 2023, 13:55:33 - Santiago Florez: I added the dataverse user to the sudoers and that solved. It is a good practice ?
Fri, Aug 18, 2023, 13:56:37 - Santiago Florez: I moved the file into /etc/systemd/system/
Fri, Aug 18, 2023, 13:57:31 - Donald Sizemore II: the location is fine, though in the long run you probably don't want your service account to have sudo?
Fri, Aug 18, 2023, 14:01:56 - Santiago Florez: It's correct, I try with the init file, I moved into /etc/init.d/, but I got this trouble when I run "sudo /etc/init.d/payara.init.service":
Starting Payara/etc/init.d/payara.init.service: 18: cannot create /proc/sys/vm/overcommit_memory: Read-only file system

Fri, Aug 18, 2023, 14:27:25 - @archive:matrix.org left the room
Fri, Aug 18, 2023, 16:04:40 - pdurbin: Hmm, I wonder what archive.matrix.org/faq left the room means
Fri, Aug 18, 2023, 16:05:27 - pdurbin: Santiago Florez: read only file system doesn't sound good üò¨
Fri, Aug 18, 2023, 16:22:35 - Santiago Florez: Where can I move the file?
Fri, Aug 18, 2023, 16:23:32 - pdurbin: The file is in the right place
Fri, Aug 18, 2023, 16:23:46 - pdurbin: But why is /proc read only?
Fri, Aug 18, 2023, 16:23:55 - pdurbin: Is this a new server?
Fri, Aug 18, 2023, 16:24:07 - Santiago Florez: yes 
Fri, Aug 18, 2023, 16:24:25 - pdurbin: everything else works fine on it? üòÑ
Fri, Aug 18, 2023, 16:24:45 - Santiago Florez: yes everything 
Fri, Aug 18, 2023, 16:24:57 - pdurbin: ü§î
Fri, Aug 18, 2023, 16:25:26 - pdurbin: I might need to punt to Donald Sizemore II or poikilotherm (CEST,UTC+2) but it's getting pretty late for us.
Fri, Aug 18, 2023, 16:42:16 - Santiago Florez sent an image. (Media omitted)
Fri, Aug 18, 2023, 16:42:20 - Santiago Florez: I commented this line in the init file
Fri, Aug 18, 2023, 16:43:19 - Santiago Florez: and I run the script again and it runs successfully
Fri, Aug 18, 2023, 16:46:14 - Santiago Florez: do you approve?
Fri, Aug 18, 2023, 16:50:49 - pdurbin: Sure, but I don't run Dataverse in production. I think Donald Sizemore II added that.
Fri, Aug 18, 2023, 16:52:54 - pdurbin: Huh, nope I added it way back in 4.2.4: https://github.com/IQSS/dataverse/commit/bdbe60702c813020a7988923cca1a270cfaa9e5f
Fri, Aug 18, 2023, 16:54:15 - pdurbin: Wow, it goes all the way back to 3.6.2: https://guides.dataverse.org/en/3.6.2/dataverse-installer-main.html#redhat-startup-file-for-glassfish-example
Fri, Aug 18, 2023, 16:56:11 - pdurbin: Is this Rocky? Ubuntu? Just curious.
Fri, Aug 18, 2023, 16:56:19 - pdurbin: Your server I mean
Fri, Aug 18, 2023, 16:56:27 - Santiago Florez: Ubuntu Server 
Fri, Aug 18, 2023, 16:58:39 - pdurbin: It works on my Ubuntu 22.04.3 server. Not sure why it's read only for you. Anyway, I guess don't worry about it. Life's too short.
Fri, Aug 18, 2023, 16:58:58 - pdurbin: That reminds me, I'd better get started on my weekend. See you all Monday!
Fri, Aug 18, 2023, 16:59:59 - Santiago Florez: Have a good weekend pdurbin, thanks for all 
Fri, Aug 18, 2023, 19:42:32 - Partime joined the room
Sat, Aug 19, 2023, 18:24:06 - Partime left the room
Sun, Aug 20, 2023, 07:01:19 - Sergio Massa joined the room
Mon, Aug 21, 2023, 10:30:41 - Donald Sizemore II: @pdurbin morning, sir, at the risk of pestering you again?
Mon, Aug 21, 2023, 10:34:10 - pacian sent an image. (Media omitted)
Mon, Aug 21, 2023, 10:34:11 - pacian sent an image. (Media omitted)
Mon, Aug 21, 2023, 10:34:11 - pacian sent an image. (Media omitted)
Mon, Aug 21, 2023, 10:34:12 - pacian sent an image. (Media omitted)
Mon, Aug 21, 2023, 10:35:18 - pacian: Hello,

I've encountered a challenge with accessing our Dataverse and seek assistance. 

For a more comprehensive understanding, I've attached the following:
1. A screenshot illustrating the issue. (I log in, but the system just cycles)
2. Relevant log files.

To give you an overview of our current test environment:
- The Dataverse Test VM Server is positioned behind a load balancer.
- We are operating on version 5.13.
- Our setup is on a single VM environment.
- Traffic has been redirected to port 443.
- The active ports currently are 443 and 8080.

Any insights or guidance on resolving this matter would be greatly appreciated.

Best regards,  Richard
Mon, Aug 21, 2023, 10:35:50 - Donald Sizemore II: @pacian hello - the first one means your (unauthenticated) session has expired. a page reload in your browser should clear that up.
Mon, Aug 21, 2023, 10:36:42 - Donald Sizemore II: if you'd like to configure the unauthenticated session timeout: "For the anonymous user sessions, the timeout is set to the default value, configured in the web.xml file of the Dataverse installation."
Mon, Aug 21, 2023, 10:37:09 - Donald Sizemore II: I'd try to reproduce the second error after resolving the first with a page reload?
Mon, Aug 21, 2023, 10:37:57 - Donald Sizemore II: the third one looks like Postfix configuration. https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/develop/templates/main.cf.j2 isn't perfect but may help, for reference?
Mon, Aug 21, 2023, 10:40:02 - pacian: here is the link: https://u-dataverse.ku.dk/
Mon, Aug 21, 2023, 10:44:17 - pacian: <@don.sizemore:matrix.org "@pacian hello - the first one me..."> I have tried a fresh browser and I still have the same issue.
Mon, Aug 21, 2023, 10:45:40 - Donald Sizemore II: pacian: which load balancer are you using?
Mon, Aug 21, 2023, 10:46:20 - pacian: I don't know, this falls under the IT department, I am not in the IT department, why do you ask?
Mon, Aug 21, 2023, 11:10:44 - pacian: Message deleted
Mon, Aug 21, 2023, 11:48:26 - pacian: pdurbin: Donald Sizemore II based on the infomation, logs and screen shot I have provided is there anything else I can do to resolve my issue?
Mon, Aug 21, 2023, 12:00:43 - pdurbin: Sorry, meetings all morning. Let me scroll and catch up.
Mon, Aug 21, 2023, 12:02:45 - pdurbin: pacian: are you saying you can't log in at all?
Mon, Aug 21, 2023, 12:06:35 - pdurbin: pacian: can you please create a ticket by emailing support@dataverse.org (and let know the number, please)
Mon, Aug 21, 2023, 12:07:02 - pdurbin: pacian: if you can attach more of server.log it will be helpful
Mon, Aug 21, 2023, 12:15:34 - Donald Sizemore II: yes, server.log would be most helpful.
Mon, Aug 21, 2023, 12:47:15 - pacian: <@pdurbin:matrix.org "pacian: can you please create a ..."> Correct, I can not log in. I am logging in for the first time using dataverseAdmin  and trying to change the password and the wheel spins continuosly.
Mon, Aug 21, 2023, 12:48:35 - pacian: <@pdurbin:matrix.org "pacian: can you please create a ..."> I don't have access to the server now, I will be able sedn the server.log tomorrow morning (I am located in Denmark)
Mon, Aug 21, 2023, 12:54:23 - pacian: A side question, do you know who the developer/ person responsible for adding Signposting in Dataverse version 5.14?
Mon, Aug 21, 2023, 13:11:47 - pacian: pdurbin: Donald Sizemore II Support ID #347081
Mon, Aug 21, 2023, 13:34:45 - poikilotherm: <@pacian:matrix.org "A side question, do you know who..."> That was qqmyers IIRC. You should be able to find put more by looking at the PR
Mon, Aug 21, 2023, 13:44:29 - pdurbin: pacian: I believe the primary author of Signposting support was https://github.com/vicding-mi but poikilotherm (CEST,UTC+2) is right, if you look at the commits in the PR you can see who contributed: https://github.com/IQSS/dataverse/pull/8981/commits
Mon, Aug 21, 2023, 13:45:57 - poikilotherm: IIRC vicding-mi left DANS and Jim took over. But my memory is old and potentially fried, so take it with a grain of salt
Tue, Aug 22, 2023, 07:04:03 - pdurbin: In about three hours Vyacheslav Tikhonov will be giving a talk on Dataverse datasets as graph ingested in triple store and queryable with SPARQL endpoint. Come one, come all! https://dataverse.org/community-calls
Tue, Aug 22, 2023, 16:58:41 - pacian: Message deleted
Tue, Aug 22, 2023, 16:59:09 - pacian: Message deleted
Tue, Aug 22, 2023, 17:11:21 - poikilotherm: Did you purge while Dataverse app was still running?
Tue, Aug 22, 2023, 17:11:41 - pacian: problemed solved, thanks
Tue, Aug 22, 2023, 17:11:55 - poikilotherm: The JPA ORM will keep things in memory and only start to complain once you try to read sth again or write to the DB
Tue, Aug 22, 2023, 17:12:11 - poikilotherm: Direct DB changes are not instantly propagated
Tue, Aug 22, 2023, 17:14:10 - pacian: Dude, it is late why are you still awake?
Tue, Aug 22, 2023, 17:17:01 - poikilotherm: Crazy hacker
Tue, Aug 22, 2023, 17:17:29 - poikilotherm: I hate and disbelieve in timezones. But they keep annoying me
Tue, Aug 22, 2023, 17:18:11 - poikilotherm: pacian: glad you could work it out.
Tue, Aug 22, 2023, 17:27:13 - pdurbin: nothing like a reinstall üòÑ
Tue, Aug 22, 2023, 17:48:33 - poikilotherm: Go nuke that DB and everything else!
Wed, Aug 23, 2023, 14:17:36 - Santiago Florez: Hi everyone
Wed, Aug 23, 2023, 14:17:53 - Santiago Florez: I got and error when I installed Dataverse 
Wed, Aug 23, 2023, 14:18:06 - Santiago Florez: errorDataverse.txt (Media omitted)
Wed, Aug 23, 2023, 14:18:58 - Santiago Florez: That file has the trouble, someone know why I got this trouble?
Wed, Aug 23, 2023, 14:20:30 - pdurbin: This error is normal when you first install Dataverse but the installer has not yet created the root collection/dataverse: https://github.com/IQSS/dataverse/issues/3148
Wed, Aug 23, 2023, 14:22:04 - pdurbin: Santiago Florez: here are some files to look at (and maybe send us): https://guides.dataverse.org/en/5.14/installation/intro.html#information-to-send-to-support-when-installation-fails
Wed, Aug 23, 2023, 14:24:55 - Santiago Florez: What service can generate this error?
Wed, Aug 23, 2023, 15:05:08 - Santiago Florez: I solved 
Wed, Aug 23, 2023, 15:07:30 - Santiago Florez: In the installation process, I got an error when the file setup-all.sh was executed. The user dataverse don't had permissions, so I run the file setup-all.sh with root 
Wed, Aug 23, 2023, 15:19:05 - pdurbin: Great! Good job, Santiago Florez 
Wed, Aug 23, 2023, 15:43:04 - prsridha: pdurbin: We decided to do away with docker and setup the native Dataverse installation on our server. Things are much more stable now. Thank you for this suggestion!

As part of this installation, I'm trying to configure Permalinks as the Persistent Identifier provider. I'm running into this issue:

"java.lang.IllegalArgumentException: Failed to parse identifier: perma:20.data/MyData/DHVMY5"

I'm setting the values like this (I'm trying it out on an AWS instance)-

/usr/local/payara5/glassfish/bin/asadmin create-jvm-options '-Ddataverse.pid.permalink.base-url=https://ec2-35-183-39-250.ca-central-1.compute.amazonaws.com'

curl -X PUT -d perma http://localhost:8080/api/admin/settings/:Protocol

curl -X PUT -d 20.data http://localhost:8080/api/admin/settings/:Authority

curl -X PUT -d "MyData/" http://localhost:8080/api/admin/settings/:Shoulder

Could you help me to resolve this issue? Where am i going wrong?
Wed, Aug 23, 2023, 16:03:01 - pdurbin: prsridha: as a sanity check, which version of Dataverse are you using?
Wed, Aug 23, 2023, 16:04:51 - Santiago Florez: pdurbin: I got this error when I try to download a .tab file with RData [2023-08-23T14:57:55.588-0500] [Payara 5.2022.3] [SEVERE] [] [edu.harvard.iq.dataverse.rserve] [tid: _ThreadID=78 _ThreadName=http-thread-pool::http-listener-1(3)] [timeMillis: 1692820675588] [levelValue: 1000] [[
  login failed, request status: authorization failed]]
Wed, Aug 23, 2023, 16:05:51 - Santiago Florez: I do not know what it could be
Wed, Aug 23, 2023, 16:06:04 - pdurbin: Is this a dev environment?
Wed, Aug 23, 2023, 16:06:11 - Santiago Florez: noup 
Wed, Aug 23, 2023, 16:06:20 - pdurbin: Did you install R and RServe?
Wed, Aug 23, 2023, 16:06:52 - Santiago Florez: yes r-base and r-base-dev and I install the package RServe 
Wed, Aug 23, 2023, 16:10:43 - pdurbin: We've talked about removing the download RData feature: https://github.com/IQSS/dataverse/issues/7249
Wed, Aug 23, 2023, 16:10:55 - pdurbin: But meanwhile I guess we should get it working. üòÑ
Wed, Aug 23, 2023, 16:11:19 - pdurbin: I'm not sure why it says auth failed. Can you provide more of the server.log, please?
Wed, Aug 23, 2023, 16:12:40 - Santiago Florez: <@pdurbin:matrix.org "I'm not sure why it says auth fa..."> This is the only that shows server.log when I download with RData option
23T14:57:55.588-0500] [Payara 5.2022.3] [SEVERE] [] [edu.harvard.iq.dataverse.rserve] [tid: _ThreadID=78 _ThreadName=http-thread-pool::http-listener-1(3)] [timeMillis: 1692820675588] [levelValue: 1000] [[
login failed, request status: authorization failed]]
Wed, Aug 23, 2023, 16:17:20 - pdurbin: I can't find that error in the code. ü§î
Wed, Aug 23, 2023, 16:18:37 - Santiago Florez: This is the other error that I got when I download the file 

{"status":"ERROR","code":404,"message":"datafile access error: requested optional service (image scaling, format conversion, etc.) could not be performed on this datafile."}
Wed, Aug 23, 2023, 16:19:33 - pdurbin: Huh. Can you please show a screenshot of the file?
Wed, Aug 23, 2023, 16:20:32 - Santiago Florez sent an image. (Media omitted)
Wed, Aug 23, 2023, 16:21:34 - Santiago Florez: I took it from here https://dataverse.harvard.edu/file.xhtml?persistentId=doi:10.7910/DVN/7QYFLI/Z85PLA
Wed, Aug 23, 2023, 16:39:09 - prsridha: <@pdurbin:matrix.org "prsridha: as a sanity check, whi..."> the latest one - 5.14
Wed, Aug 23, 2023, 17:14:55 - pdurbin: prsridha: I'm looking at https://guides.dataverse.org/en/5.14/installation/config.html#configuring-your-dataverse-installation-for-permalinks ... what you've tried makes sense. Huh.
Wed, Aug 23, 2023, 17:15:56 - pdurbin: I gotta run but maybe I can try this myself tomorrow. I had it working at one point.
Wed, Aug 23, 2023, 17:16:34 - pdurbin: Santiago Florez: thanks. I'm a little confused. When do you see the "requested optional service" error?
Wed, Aug 23, 2023, 17:17:21 - Santiago Florez: When I try to download a file in RData format 
Wed, Aug 23, 2023, 18:36:13 - pdurbin: ok, thanks
Thu, Aug 24, 2023, 06:14:30 - pdurbin: prsridha: oh, one thing occurs to me... Did you restart Payara?
Thu, Aug 24, 2023, 06:15:27 - pdurbin: The next Containerization Working Group meeting is in a little over three hours. All are welcome: https://ct.gdcc.io
Thu, Aug 24, 2023, 15:18:44 - prsridha: <@pdurbin:matrix.org "prsridha: oh, one thing occurs t..."> Ahh this is exactly what was missing! It's working now. Thanks!
Thu, Aug 24, 2023, 15:18:59 - pdurbin: Phew! üòå
Thu, Aug 24, 2023, 15:19:22 - pdurbin: prsridha: do you want to make a pull request to add that to the guides?
Thu, Aug 24, 2023, 15:20:33 - prsridha: <@pdurbin:matrix.org "prsridha: do you want to make a ..."> Sure! Is there any instructions I can follow for creating the PR? 
Thu, Aug 24, 2023, 15:21:00 - pdurbin: Yes! https://guides.dataverse.org/en/5.14/developers/documentation.html#quick-fix
Thu, Aug 24, 2023, 15:23:17 - prsridha: Will check it out!
Thu, Aug 24, 2023, 15:23:49 - pdurbin: awesome, thanks!
Fri, Aug 25, 2023, 12:51:37 - Santiago Florez: Hi everyone 
Fri, Aug 25, 2023, 12:53:28 - Santiago Florez: I have created my own metadablock, I run this command curl http://localhost:8080/api/admin/datasetfield/load -H "Content-type: text/tab-separated-values" -X POST --upload- file /tmp /new-metadata-block.tsv. So I need to do something else.
Fri, Aug 25, 2023, 12:54:25 - pdurbin: Yes you need to update your Solr schema.xml now.
Fri, Aug 25, 2023, 13:38:09 - Santiago Florez: With this comand? curl "http://localhost:8080/api/admin/index/solr/schema"


Fri, Aug 25, 2023, 13:51:44 - Santiago Florez: Thanks pdurbin my new metadatablock updated successfully
Fri, Aug 25, 2023, 14:02:20 - pdurbin: great to hear
Fri, Aug 25, 2023, 15:46:49 - Santiago Florez: I got other trouble hhahahahaha 
Fri, Aug 25, 2023, 15:48:32 - Santiago Florez: when i created a new dataset with the new metadablock and published it, it doesn't show on the Dataverse page
Fri, Aug 25, 2023, 17:12:20 - Santiago Florez: I find the mistake. In solr the schema.xml is not updated
Fri, Aug 25, 2023, 17:13:41 - Santiago Florez: but when i do a curl command i see the new field 
Fri, Aug 25, 2023, 17:14:15 - pdurbin: sorry which curl command?
Fri, Aug 25, 2023, 17:14:40 - Santiago Florez: curl "http://localhost:8080/api/admin/index/solr/schema" 
Fri, Aug 25, 2023, 17:15:49 - pdurbin: you can copy from http://localhost:8080/api/admin/index/solr/schema into schema.xml
Fri, Aug 25, 2023, 17:16:32 - Santiago Florez: How?
Fri, Aug 25, 2023, 17:17:23 - pdurbin: In schema.xml do you see a lot of copyField lines?
Fri, Aug 25, 2023, 17:18:16 - Santiago Florez: yes, so I need to do it manually?
Fri, Aug 25, 2023, 17:18:23 - pdurbin: well
Fri, Aug 25, 2023, 17:18:28 - pdurbin: there is a script you can use
Fri, Aug 25, 2023, 17:18:36 - pdurbin: but before the script existed I did it manually
Fri, Aug 25, 2023, 17:18:38 - pdurbin: still works
Fri, Aug 25, 2023, 17:19:03 - pdurbin: If it's only one field it's probably easier to copy it over manually
Fri, Aug 25, 2023, 17:19:31 - Santiago Florez: OK, I gonna try
Fri, Aug 25, 2023, 17:19:35 - Santiago Florez: Thanks 
Fri, Aug 25, 2023, 17:27:55 - pdurbin: sure, good luck
Fri, Aug 25, 2023, 17:40:50 - Santiago Florez: pdurbin: I solved my trouble, Thanks
Fri, Aug 25, 2023, 17:44:34 - pdurbin: Great!
Fri, Aug 25, 2023, 17:44:56 - pdurbin: A good start to the weekend. See you all Monday! üëã
Mon, Aug 28, 2023, 09:27:25 - Karol ZajƒÖc: Hi, I saw in dataverse guide that :CustomizationLogoFile should be 160x50px. Unfortunately, it makes our logo not sharp enough. The Harvard's instance has a bigger image limited by 50px height in stylesheet - how can we easily change the height attribute of our logo image to scale it down?
Mon, Aug 28, 2023, 09:28:24 - pdurbin: Huh. I don't believe Harvard Dataverse uses a custom style sheet. Were on version 5.14. How about you?
Mon, Aug 28, 2023, 09:29:34 - Karol ZajƒÖc: I have already upgraded to 5.14. And we still got, the following style:
Mon, Aug 28, 2023, 09:29:47 - Karol ZajƒÖc sent an image. (Media omitted)
Mon, Aug 28, 2023, 09:30:08 - Karol ZajƒÖc: while on Harvard's instance it looks like this:
Mon, Aug 28, 2023, 09:30:30 - Karol ZajƒÖc sent an image. (Media omitted)
Mon, Aug 28, 2023, 09:32:51 - pdurbin: I was wrong. We do use custom CSS and now I see that `50px !important` line. Here's our stylesheet: https://github.com/IQSS/dataverse.harvard.edu/blob/92479809d3cca5614096d50cdc4810a36d2858dc/customization/harvard-dataverse-stylesheet.css
Mon, Aug 28, 2023, 09:39:21 - Karol ZajƒÖc: Is it enough to put this into http://localhost:8080/api/admin/settings/:StyleCustomizationFile?
Mon, Aug 28, 2023, 09:39:41 - pdurbin: Yes, should be
Mon, Aug 28, 2023, 09:50:09 - Karol ZajƒÖc: The put command executed successfully, but it didn't change the style of our logo
Mon, Aug 28, 2023, 09:50:35 - Karol ZajƒÖc: I cannot see any changes in webpage styles
Mon, Aug 28, 2023, 09:53:51 - pdurbin: Hmm. You might need to restart Payara.
Tue, Aug 29, 2023, 05:07:21 - h.zalabany joined the room
Tue, Aug 29, 2023, 05:09:31 - h.zalabany: Message deleted
Tue, Aug 29, 2023, 08:39:50 - pacian: Hello, I'm a member of the EOSC FAIR Assessment Task Force, and so is Mark Wilkinson, one of the authors of the FAIR Principles. He is keen on connecting with the individual or team responsible for implementing Signposting in Dataverse version 5.14. If anyone has this information, kindly reach out to me. Thank you.
Tue, Aug 29, 2023, 08:52:33 - pdurbin: pacian: hi! Overall I'd say it was a team effort. If you check out https://github.com/IQSS/dataverse/issues/5962 (where Mark left comments), you'll see that Richard van Heest and Herbert Van de Sompel figured out the design. Then in https://github.com/IQSS/dataverse/pull/8981 you'll see early commits by Vic Ding, Eko Indarto, Jan van Mansum, Paul Boon. All these folks are from DANS, I believe. Then the work was finished off by Jim Myers (GDCC) with a few contributions by yours truly (Harvard). Does that help?
Tue, Aug 29, 2023, 10:32:39 - pacian: Yes it does, I will pass along the message. Thanks
Tue, Aug 29, 2023, 13:21:39 - Santiago Florez: Hi everyone 
Tue, Aug 29, 2023, 13:24:03 - Santiago Florez: I want to create a new personalization metadata block, but using the Datacite 4.4 schema, so I want to know your suggestions on that.
Tue, Aug 29, 2023, 13:25:59 - Santiago Florez: maybe you know what I have to do or keep in mind
Tue, Aug 29, 2023, 13:46:47 - pdurbin: Santiago Florez: hmm. Can you please ask at https://groups.google.com/g/dataverse-community ?
Tue, Aug 29, 2023, 13:47:29 - Santiago Florez: Ok thanks 
Tue, Aug 29, 2023, 14:22:36 - prsridha: Hello,
I had a couple of questions on data recovery in Dataverse. Specifically, how Dataverse works with PostgreSQL db.

I had an earlier installation of Dataverse via Docker which stopped working. So now, we have moved to a native Dataverse installation that is currently empty. We managed to recover the old PostgreSQL database, but not all of the informaton was saved - some of the more recent metadata is missing. We're not sure about the Permalinks/DOIs either.

However, the actual datasets that were stored (2.5TB on our NAS mount) is intact and in Dataverse's binary format. We want to recover this data.

1. Can I recover the existing datasets and attach it to the new Dataverse? We don't mind creating new user accounts and adding metadata, etc. What information will I need to extract from the old PostgreSQL db for this?
2. Is there an option/configuration to store the datasets uploaded by the users as is, in raw format, instead of Dataverse's binary format? This is with the goal of recovering the datasets without the Dataverse/PostgreSQL dependency.
3. In case my Dataverse installation goes down in the future and I want to reinstall everything, is it possible to migrate metadata from the previous installation of PostgreSQL db and have the new Dataverse use this?

Thanks for your time!
Tue, Aug 29, 2023, 14:31:10 - pdurbin: It's strange that recent metadata is missing. It shouldn't be. The Postgres database is the source of truth (as opposed to Solr, which is derived from Postgres data).
Tue, Aug 29, 2023, 14:32:26 - pdurbin: Weren't you on 5.8 or something? Did you switch to non-Docker Dataverse 5.8 and then step through all the upgrades until you're on Dataverse 5.14? The database will be upgraded by Flyway.
Tue, Aug 29, 2023, 14:33:27 - pdurbin: Metadata should also be stored as export files in various formats (JSON and XML). Worst case, you can perhaps recover some metadata from there for published datasets.
Tue, Aug 29, 2023, 14:34:10 - pdurbin: I think I need more examples of the raw format question. Dataverse does already store the raw/original format for files.
Tue, Aug 29, 2023, 14:34:55 - pdurbin: In the future, yes, you should be able to copy your database around. We moved Harvard Dataverse to AWS RDS, for example, from local hardware.
Tue, Aug 29, 2023, 14:35:32 - pdurbin: I hope this helps. This is also a good question for the mailing list where you'll get additional perspectives, I would think.
Tue, Aug 29, 2023, 15:01:26 - Donald Sizemore II: Phil is correct - a pg_dump and pg_restore should copy your database in its entirety. If you have access to the filesystem, you can look at some of the missing datasets in for instance the export_Dataverse.json and other cached files?
Tue, Aug 29, 2023, 15:03:58 - prsridha: Okay got it. Things are way more clear now!

Yes, the data loss was strange indeed. Maybe there was some issue with our Docker Dataverse installation. 

Yes, we were on 5.8 and I directly installed the latest version now. Will try upgrading all the way from 5.8 and check if that works for us.

Where can I find the metadata in these file formats? Is there a datapath available?

I think I hadn't understood the Dataverse storage format correctly earlier. You can ignore my question.

How was the Harvard Dataverse migration done? Did you use the upgrade feature here too or If I just do a pg\_dump and pg\_restore on the previous db copy, will that reflect in my new Dataverse installation?

Tue, Aug 29, 2023, 15:05:55 - Donald Sizemore II: Phil points out that the exported metadata files will only exist for published datasets, but it's another place to look. They'll show up wherever your dataverse.files.<id>.directory is storing dataset files
Tue, Aug 29, 2023, 15:07:22 - Donald Sizemore II: On migrating, it's a pretty standard Postgres migration: https://www.postgresql.org/docs/13/app-pgdump.html
Tue, Aug 29, 2023, 15:08:14 - Donald Sizemore II: In theory you can upgrade directly from 5.8 to the latest version, but you have to be certain to perform every change in each release along the way: https://github.com/IQSS/dataverse/releases/
Tue, Aug 29, 2023, 15:08:46 - Donald Sizemore II: if perhaps you missed a step with TSV updates or the Solr upgrade, that may explain the missing metadata
Tue, Aug 29, 2023, 15:09:35 - prsridha: Right. That makes sense. I will try based on these inputs. Thanks once again!
Thu, Aug 31, 2023, 05:31:40 - pdurbin: Like usual, we'll have the weekly Containerization Working Group meeting in about 4 hours: https://docs.google.com/document/d/1rYoYSi7skPBZEsOtddp4YIDpY5IIfcIkglV6yHwuyIM/edit?usp=sharing
Thu, Aug 31, 2023, 06:12:09 - Mark Wilkinson joined the room
Thu, Aug 31, 2023, 06:23:23 - Mark Wilkinson: hi all!  @pdurbin - is this a good place to engage with you?  I have some questions about the Signposting implementation in the recent DV release...
Thu, Aug 31, 2023, 06:23:32 - Mark Wilkinson left the room
Thu, Aug 31, 2023, 06:23:34 - poikilotherm: Go ahead
Thu, Aug 31, 2023, 06:23:55 - poikilotherm: And... he's gone?
Thu, Aug 31, 2023, 06:28:57 - pdurbin: Whoops, missed him, I guess.
Thu, Aug 31, 2023, 06:40:31 - pdurbin: Anyway, yes, it's a perfect place to engage. üòÑ
Thu, Aug 31, 2023, 06:41:42 - pdurbin: I asked the Matrix guy for an update on public logs: https://github.com/IQSS/chat.dataverse.org/issues/22#issuecomment-1699413316
Thu, Aug 31, 2023, 06:42:39 - pdurbin: It's driving me crazy that I can't easily link to logs here. Links anyone can follow without having an account, I mean. So frustrating. Makes me miss my old IRC logging bot. üò¢
Thu, Aug 31, 2023, 07:35:38 - poikilotherm: <@pdurbin:matrix.org "It's driving me crazy that I can..."> There there!
Thu, Aug 31, 2023, 07:35:51 - poikilotherm: By 6 minutes... ü§∑
Thu, Aug 31, 2023, 16:43:14 - Santiago Florez: Hi everyone 
Thu, Aug 31, 2023, 16:44:33 - Santiago Florez: How can I configure my dataverse installation to log in only with an institutional email?
Thu, Aug 31, 2023, 16:45:04 - pdurbin: Santiago Florez: please see https://guides.dataverse.org/en/5.14/installation/config.html#remote-only-auth
Thu, Aug 31, 2023, 16:45:58 - Santiago Florez: Thanks pdurbin :)
Thu, Aug 31, 2023, 16:46:23 - pdurbin: if you prompt, I answer ü§ñ
Fri, Sep 1, 2023, 07:26:25 - Donald Sizemore II: Santiago Florez: note that it is possible to remove an authentication provider while forgetting to point the _default_ authentication provider at the one you haven't deleted. not that i've ever done that, ever.
Fri, Sep 1, 2023, 08:01:18 - pdurbin: poikilotherm (CEST,UTC+2): you're in this screenshot: https://github.com/matrix-org/matrix-viewer/issues/284
Fri, Sep 1, 2023, 15:04:17 - prsridha: pdurbin:  Donald Sizemore II
I was able to restore the published datasets by using the JSON metadata stored along with files. Also, the PostgreSQL dump and restore is working as expected! Thanks!

Some of the datasets weren't published yet and I'd like to recover those too. Could you let me know what tables I should look into in the PostgreSQL db to find the complete metadata for unpublished datasets? Is this information spread across multiple tables and I need to use JOINs to get the metadata?
Fri, Sep 1, 2023, 15:32:23 - pdurbin: Oh, yes, many tables. 5.8, right? This MIGHT help: https://guides.dataverse.org/en/5.6/schemaspy/relationships.html
Fri, Sep 1, 2023, 15:34:08 - pdurbin: If I were you I think I would take your database dump from 5.8, install Dataverse 5.8, restore the old database, export as JSON, and then try to import that JSON into your 5.14 instance.
Fri, Sep 1, 2023, 16:39:44 - pdurbin: You'll probably get a more authoritative answer if you email support@dataverse.org
Fri, Sep 1, 2023, 16:39:57 - pdurbin: prsridha: ^^
Fri, Sep 1, 2023, 17:45:24 - pdurbin: Have a good long weekend for everyone who celebrates Labor Day on Monday! See you Tuesday!
Sat, Sep 2, 2023, 06:32:16 - Miguel Silva: Hi everyone
Sat, Sep 2, 2023, 06:32:26 - Miguel Silva sent an image. (Media omitted)
Sat, Sep 2, 2023, 06:32:44 - Miguel Silva: It was exactly two years ago that I manufactured and assembled the first prototype for acquiring experimental data with the ability to send it to a data repository in the cloud and show the values ‚Äã‚Äãdirectly in Excel.
Sat, Sep 2, 2023, 06:33:30 - Miguel Silva: more info about it on the link below:
https://github.com/aeonSolutions/openScience-Smart-DAQ-to-Upload-Live-Experimental-Data-to-a-Data-Repository/wiki
Sat, Sep 2, 2023, 06:34:10 - Miguel Silva: to all those living in the US , enjoy the long weekend 
Sat, Sep 2, 2023, 07:54:45 - Donald Sizemore II: @prsridha what @pdurbin said about unpublished metadata. re-assembling dataset metadata from the database is... fun.
Mon, Sep 4, 2023, 11:00:57 - prsridha: pdurbin: Donald Sizemore II  Thanks. That worked! I installed Dataverse 5.8 on an EC2 instance and restored the old PSQL db. I was able to recover some of the metadata via API calls. The db schema was a bit complex for me. üòÖ
Tue, Sep 5, 2023, 06:48:37 - pdurbin: prsridha: great to hear! Well done!
Tue, Sep 5, 2023, 06:49:19 - pdurbin: Do you want a job? https://groups.google.com/g/dataverse-community/c/-sh5_rQqDiQ/m/GIVF-qtqAAAJ üòÑ
Tue, Sep 5, 2023, 06:50:47 - pdurbin: I just posted the community news: https://groups.google.com/g/dataverse-community/c/s0px7zY-7Q4/m/fSDPs2SaAwAJ
Tue, Sep 5, 2023, 07:16:23 - Donald Sizemore II: @poikilotherm just curious if you've seen https://github.com/cuber-cloud/cuber-gem
Tue, Sep 5, 2023, 08:29:53 - jorge ramirez matus joined the room
Tue, Sep 5, 2023, 08:30:53 - jorge ramirez matus: Hello, good morning, I have an installation of dataverse 5.12.1 and I am carrying out security tests and the result shows that I have SQL injection problems. I would like to know if it is a false positive or indeed there is a security patch for this vulnerability. I would appreciate your help. Regards
Tue, Sep 5, 2023, 08:32:57 - brandon sandoval joined the room
Tue, Sep 5, 2023, 08:41:54 - Donald Sizemore II: jorge ramirez matus: please drop a note to security@dataverse.org
Tue, Sep 5, 2023, 08:42:30 - Donald Sizemore II: jorge ramirez matus: they would likely appreciate a copy of the security report if you're willing to share it.
Tue, Sep 5, 2023, 09:51:49 - pdurbin: jorge ramirez matus: yes, please email security@dataverse.org when you get a chance
Tue, Sep 5, 2023, 11:32:54 - Mark Wilkinson joined the room
Tue, Sep 5, 2023, 11:36:09 - Mark Wilkinson: Hi Philip!  I got news from Richard Dennis that the latest Dataverse has implemented FAIR Signposting.   I will be giving a couple of presentations about signposting over the next few weeks, and I'd like to chat with whoever was responsible for implementing it to get some feedback and opinions.  Can you link me to the right person?
Tue, Sep 5, 2023, 11:39:57 - pdurbin: Mark Wilkinson: hi! Let's see. Jim Myers helped out for sure. He might be the best person from the core team. Otherwise, several developers from DANS worked on it.
Tue, Sep 5, 2023, 11:45:11 - pdurbin: Mark Wilkinson: I just emailed your gmail account and cc'd Jim
Tue, Sep 5, 2023, 11:49:09 - pdurbin: He's happy to help
Tue, Sep 5, 2023, 11:49:23 - Mark Wilkinson: thanks!
Tue, Sep 5, 2023, 11:50:14 - pdurbin: Sure, I reviewed the code a bit and I think the feature is cool, but I don't have much to say about it. I would like to update https://dataverse.org/software-features soon to mention that we support Signposting now.
Tue, Sep 5, 2023, 13:24:48 - poikilotherm: <@don.sizemore:matrix.org "@poikilotherm just curious if yo..."> No I have not. Bookmarked for later.
Tue, Sep 5, 2023, 14:01:00 - Donald Sizemore II: @pdurbin so, metrics.dataverse.org is a CNAME for star.dataverse.org, which uses the new cert. We should've been on the new metrics.dataverse.org for like a week now. Especially since the old metrics.dataverse.org instance is powered off.
Tue, Sep 5, 2023, 14:01:36 - pdurbin: juliangautier: ^^
Tue, Sep 5, 2023, 14:02:06 - nightowlasu: hi all .. asking this here because I think this is the group that would know (or may know who would know)?? I am trying to implement autoscaling for our production dataverse installation. I have the autoscaling configured and it works (when CPU reaches a milestone), but the problem is with shibboleth and sessions when a new instance is launched. If I connect to the server and login, the next time I refresh I am logged out when/if it hits the second instance. I enabled stickiness on the target group using the load balancer generated cookie, but not sure how long to set the duration, as whatever I set it to, that's when the logout then occurs. Does dataverse have a shib-related cookie that handles keeping the user logged in no matter which instance is being accessed? (did i say that right?). You all know me, I'm always trying to do something I don't quite know enough about.
Tue, Sep 5, 2023, 14:04:30 - pdurbin: Autoscaling. Fancy! üßê At Harvard we have two web servers, both configured with Payara/Dataverse and Apache/shibd. I think the key to making Shib work is sticky sessions in the load balancer (AWS ELB last I knew). This is a static setup, of course. Not autoscaled at all.
Tue, Sep 5, 2023, 14:05:00 - Donald Sizemore II: @pdurbin I see what happened. Cert is fixed.
Tue, Sep 5, 2023, 14:05:33 - Donald Sizemore II: nightowlasu: hi! how are you handling the Shibboleth SP-generated certs? (are they all the same?)
Tue, Sep 5, 2023, 14:07:29 - nightowlasu: uhhhh .. well the autoscaling uses an AMI so automatically generates the instance from that and so the certs are the same on all instances, right?
Tue, Sep 5, 2023, 14:08:25 - nightowlasu: i think it would be the same as far as stickiness with autoscaling, but just not sure how to configure it? do i use load balancer generated cookie, or application-based cookie?
Tue, Sep 5, 2023, 14:08:37 - pdurbin: Yes, same cert on both SPs. This is important for us because we publish the cert in InCommon.
Tue, Sep 5, 2023, 14:09:30 - nightowlasu: we could just use two instances, with no autoscaling .. i think .. we were trying the autoscaling because we keep getting hammered with spambots .. which crash our server .. so we thought setting up autoscaling would help with that
Tue, Sep 5, 2023, 14:10:34 - nightowlasu: but maybe we don't need it, and can just run with actual "load balancing" .. but still have the issue with how to configure stickiness .. i think
Tue, Sep 5, 2023, 14:15:50 - Donald Sizemore II: nightowlasu: when Shibboleth is first installed, if it doesn't find two pre-existing .pem files in /etc/shibboleth the RPM installer for instance will generate them. if you're running two Shibboleth services you'll want them to be the same, though this sounds like sessions bouncing between the two nodes
Tue, Sep 5, 2023, 14:18:28 - nightowlasu: sorry if i interrupted another conversation! :-) 
the second instance is just an image of the first, so i think it has the same certs as the first .. but i could be wrong about that;  
seems like the latter because whatever i set the duration of the stickiness to, it logs me out at that particular time (ie: 5 min .. so when it changes instances)
Tue, Sep 5, 2023, 14:19:10 - pdurbin: Yeah, the first thing I'd do is get them using the same cert.
Tue, Sep 5, 2023, 14:19:31 - pdurbin: And no worries, Donald Sizemore II and I talk all day. We're happy to have a guest! üòÑ
Tue, Sep 5, 2023, 14:20:54 - Donald Sizemore II: @pdurbin can I get a little context on why we're calling config.json from either the document root or global? (a symlink will address the symptom, but... global officially disappeared, so?)
Tue, Sep 5, 2023, 14:21:47 - Donald Sizemore II: nightowlasu: this is the pain of sessions in a cluster. set the stickiness too small, and you get signed out. make it too long, and you lose the benefit of a cluster.
Tue, Sep 5, 2023, 14:22:20 - nightowlasu: ‚òùÔ∏è
Tue, Sep 5, 2023, 14:22:27 - Donald Sizemore II: nightowlasu: I wonder how much of that stuff Shibboleth stores beneath `/var/cache/shibboleth` (and whether the SP supports running over a shared cache directory
Tue, Sep 5, 2023, 14:24:41 - Donald Sizemore II: looks like it supports ODBC and MemCache https://shibboleth.atlassian.net/wiki/spaces/SP3/pages/2065334626/StorageService
Tue, Sep 5, 2023, 14:25:45 - nightowlasu: so i would need to configure that on my server(s)?
Tue, Sep 5, 2023, 14:31:12 - pdurbin: I think Don is suggesting it as a way to keep files in sync between the two (or more) servers. No, I don't think it's a hard requirement or anything. I'm not aware of similar problems on Harvard Dataverse with Shibboleth users getting logged out.
Tue, Sep 5, 2023, 14:35:14 - nightowlasu: okay .. i'm going to check to make sure the .pem files are the same once a new instance is launched, and test just setting the stickiness (load balancer generated cookie) to .. like .. 2 hours .. and see how that goes .. just working on the qa installation for now ..  thanks for the info!
Tue, Sep 5, 2023, 14:37:29 - pdurbin: Sure! Hope it helps. I worked a bit with some interns from Red Hat on scaling Dataverse. We made some progress but nothing that reached production. I assume you're willing to be a guinea pig if we ever circle back to it. üòÑ üêπ
Tue, Sep 5, 2023, 14:37:56 - nightowlasu: absolutely!! üòÉ
Tue, Sep 5, 2023, 14:38:22 - pdurbin: The project video is here, if you're interested: https://github.com/BU-NU-CLOUD-SP18/Dataverse-Scaling
Tue, Sep 5, 2023, 14:38:52 - nightowlasu: cool! will watch it! 
Tue, Sep 5, 2023, 14:39:19 - nightowlasu: i'm also trying to get dataverse running in docker .. i watched the last couple containerization group videos .. but i'm just learning docker so will take quite some time
Tue, Sep 5, 2023, 14:39:50 - pdurbin: We need more guinea pigs there too üêπüêπüêπ
Tue, Sep 5, 2023, 14:40:29 - nightowlasu: count me in .. i don't feel smart enough to attend the group, but i watch the vides after and try to make progress! üòÅ
Tue, Sep 5, 2023, 14:40:37 - pdurbin: Do you have the hello world of Docker working?
Tue, Sep 5, 2023, 14:40:55 - nightowlasu: yes, and i have done a few little tests of other small projects
Tue, Sep 5, 2023, 14:41:51 - pdurbin: ok, Dataverse *should* work then: https://preview.guides.gdcc.io/en/develop/developers/dev-environment.html#container-dev-quickstart
Tue, Sep 5, 2023, 14:42:18 - pdurbin: although actually, you probably want what Akio Sone wants, just a way to run it without needing Maven or Java ü§î
Tue, Sep 5, 2023, 14:42:33 - nightowlasu: oh i was looking at that guide last week but hadn't actually tried it! 
Tue, Sep 5, 2023, 14:43:03 - pdurbin: You could try this: `docker compose -f docker-compose-dev.yml up`
Tue, Sep 5, 2023, 14:43:17 - pdurbin: That's from https://preview.guides.gdcc.io/en/develop/container/dev-usage.html#running
Tue, Sep 5, 2023, 14:43:38 - nightowlasu: I will try it!! Thanks!! Exciting!
Tue, Sep 5, 2023, 14:44:19 - pdurbin: Sure, please lemme know if you hit any snags. Also, for container stuff we can move over to https://dataverse.zulipchat.com if you want.
Tue, Sep 5, 2023, 14:45:55 - nightowlasu: okay let me give that a try and then i will get on zulip .. thank you so much1
Tue, Sep 5, 2023, 14:47:28 - pdurbin: any time
Tue, Sep 5, 2023, 15:05:14 - pdurbin: Donald Sizemore II: so should we talk more about metrics?
Tue, Sep 5, 2023, 16:17:15 - Santiago Florez: Hi everyone
Tue, Sep 5, 2023, 16:19:08 - Santiago Florez: I would like to know if anyone knows how I can install Shibboleth on Ubuntu server?
Tue, Sep 5, 2023, 16:28:29 - pdurbin: Hmm, I've never done it but I THINK it's possible.
Tue, Sep 5, 2023, 16:38:44 - pdurbin: Santiago Florez: does this help? https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/blob/b409c6aa9aa4a29c1e9660a221f19f06adca8338/tasks/shibboleth.yml#L37
Tue, Sep 5, 2023, 16:40:01 - Santiago Florez: pdurbin: thanks i¬¥m gonna try it 
Tue, Sep 5, 2023, 16:40:29 - pdurbin: Santiago Florez: sure. Hey, did you see that juliangautier replied to your question about metadata blocks? He had some questions for you.
Tue, Sep 5, 2023, 16:42:12 - Santiago Florez: pdurbin:  Yes, I saw it, I have many things on my mind. maybe i'll go crazy
Tue, Sep 5, 2023, 16:44:13 - Santiago Florez: <@pdurbin:matrix.org "Santiago Florez: does this help?..."> I need execute it with docker ?
Tue, Sep 5, 2023, 16:45:50 - pdurbin: Ansible? No, you don't need Docker for Ansible.
Tue, Sep 5, 2023, 16:46:25 - Santiago Florez: ok ok, i was confused
Tue, Sep 5, 2023, 16:50:43 - pdurbin: maybe I'll go crazy too üòÑ
Tue, Sep 5, 2023, 17:06:20 - Santiago Florez: pdurbin I have installed shibboleth-sp-utils from the ubuntu packages
Tue, Sep 5, 2023, 17:06:58 - Santiago Florez: it's time to set it up
Wed, Sep 6, 2023, 07:34:48 - Donald Sizemore II: @pdurbin sure thing - regarding config.json, why aren't we pulling the copy from the github repo? it will have to be the local copy, as global/ has been deleted
Wed, Sep 6, 2023, 07:53:24 - pdurbin: I think I've lost track of what goes where. And what used to be where. I'm definitely open to changing the code on the map side. The idea was to indicate if an installation has metrics being tracked. It shows up in the map popup when you click.
Wed, Sep 6, 2023, 07:54:08 - pdurbin sent an image. (Media omitted)
Wed, Sep 6, 2023, 07:56:09 - pdurbin: At the time I probably figured that the live config.json would be more up to date than whatever is in GitHub, which is just a sample.
Wed, Sep 6, 2023, 10:08:38 - Donald Sizemore II: metrics.dataverse.org runs the "global" app which has now been deleted from GitHub. its config.json.sample is different from the single-installation config.json.sample (and I've submitted a couple of PRs to keep the global version current with the one we're running)
Wed, Sep 6, 2023, 10:08:51 - Donald Sizemore II: poikilotherm (CEST,UTC+2): you around for some thoughts on the Postgres JDBC driver?
Wed, Sep 6, 2023, 10:10:45 - pdurbin: Donald Sizemore II: should we work on https://github.com/IQSS/dataverse-metrics/issues/92 first? Basically, delete all the local app stuff and move the global stuff to the root (where it was originally).
Wed, Sep 6, 2023, 10:11:58 - Donald Sizemore II: @pdurbin well, parts of the global app are hard-coded to look in ../ for bits of the local app, but yes I support splitting the two (or re-merging the code in some way that allows for one repo?)
Wed, Sep 6, 2023, 10:18:52 - poikilotherm: <@don.sizemore:matrix.org "poikilotherm (CEST,UTC+2): you a..."> Busy but hit me.
Wed, Sep 6, 2023, 10:19:05 - poikilotherm: Expect long RTT
Wed, Sep 6, 2023, 10:20:45 - Donald Sizemore II: poikilotherm (CEST,UTC+2): you had liked the idea of offering Postgres 15 but not requiring an upgrade. I'm wondering about the `<postgresql.server.version>` element in pom.xml (currently set to 13, though Dataverse has always been known to work on multiple major versions of PG. bump it to 15 and hope for backwards compatibility?)
Wed, Sep 6, 2023, 10:22:34 - Donald Sizemore II: poikilotherm (CEST,UTC+2): the Postgres project has always, either in its released client binaries or in the JDBC driver, claimed backwards compatibility to the extent feasible
Wed, Sep 6, 2023, 10:28:05 - pdurbin: Donald Sizemore II: no rush but when you get a chance, please check out https://github.com/IQSS/dataverse-metrics/pull/101
Wed, Sep 6, 2023, 10:32:34 - poikilotherm: I would prefer to keep these versions aligned with what we claim is tested.
Wed, Sep 6, 2023, 10:32:55 - poikilotherm: It's easy to override for testing with a Maven property
Wed, Sep 6, 2023, 10:42:36 - Donald Sizemore II: poikilotherm (CEST,UTC+2): 10/4. I hadn't pushed that change yet, anyway.
Wed, Sep 6, 2023, 15:20:13 - poikilotherm: In my head, this property one day moves to the normal profile, maybe even parent. So we can use it in Testcontainers based tests.
Wed, Sep 6, 2023, 15:20:58 - poikilotherm: <@don.sizemore:matrix.org "poikilotherm (CEST,UTC+2): 10/4...."> 10/4? ü§î
Wed, Sep 6, 2023, 15:21:51 - pdurbin: 10 4 good buddy
Wed, Sep 6, 2023, 15:23:16 - pdurbin: https://en.wikipedia.org/wiki/Ten-code#In_popular_culture
Wed, Sep 6, 2023, 15:43:22 - Donald Sizemore II: poikilotherm (CEST,UTC+2): I'm still on the fence regarding backwards compatibility. Postgres has always maintained backwards compatibility through their clients, and with any database you want the client to be equal with or newer than the server version. I don't want to bump the version specified in pom.xml, on the client side?
Wed, Sep 6, 2023, 15:46:19 - pdurbin: Does bumping the pom simply mean the client supports newer postgres server versions?
Wed, Sep 6, 2023, 16:05:49 - poikilotherm: Me confused now.
Wed, Sep 6, 2023, 16:06:08 - poikilotherm: Didn't we talk about -Dpostgres.server.version?
Wed, Sep 6, 2023, 16:06:41 - poikilotherm: The JDBC driver is a different story...
Wed, Sep 6, 2023, 16:07:13 - poikilotherm: That server version is used to determine which image variant to pull for, well, the database itself
Wed, Sep 6, 2023, 16:08:07 - pdurbin: See https://github.com/IQSS/dataverse/pull/9877/files
Wed, Sep 6, 2023, 16:09:47 - poikilotherm: Well as long as the minor version increase doesn't mean breaking stuff for us - sure, have a driver update. It's chores but we shall keep these things updated anyway
Wed, Sep 6, 2023, 16:10:19 - poikilotherm: And yes, so far the client lib folks have done a very good job at keeping things compatible with different DB versions
Wed, Sep 6, 2023, 16:11:00 - poikilotherm: The major versions released on the server side have been mire disruptive AFAIK, but hey, it's major versions for a reason 
Wed, Sep 6, 2023, 16:48:49 - pdurbin: Yeah, it would be a separate effort to test, document, and recommend that installations move to a newer version than Postgres 13. In that PR above the idea is to let installations play with 15.
Wed, Sep 6, 2023, 16:49:54 - pdurbin: Though I'll hasten to add that I tested 15 in the Docker image and it worked fine. I bumped the version in .env, not -Dpostgresql.server.version
Wed, Sep 6, 2023, 16:50:54 - poikilotherm: Is that PR intended to sit for a while and play or shall it be merged?
Wed, Sep 6, 2023, 17:06:52 - pdurbin: We're debating whether we want it in 6.0 or not. Please feel free to add a review!
Thu, Sep 7, 2023, 06:40:59 - pdurbin: Containerization Working Group meeting in a little under 3 hours. All are welcome! https://ct.gdcc.io
Thu, Sep 7, 2023, 07:21:24 - Donald Sizemore II: poikilotherm (CEST,UTC+2): yes, thoughts welcome, and yes, I suppose I'm primarily asking about -Dpostgres.server.version, particularly in view of 15's new permissions model and what that might (not) mean for the client
Thu, Sep 7, 2023, 08:01:23 - poikilotherm: 10-4 Donald Sizemore II  üòÑ
Thu, Sep 7, 2023, 08:06:30 - poikilotherm: Message deleted
Thu, Sep 7, 2023, 08:07:49 - poikilotherm: Donald Sizemore II: from https://github.com/pgjdbc/pgjdbc/actions/runs/6101252619 I see they are testing in CI with up to v14
Thu, Sep 7, 2023, 09:02:42 - pdurbin: poikilotherm (CEST,UTC+2): where is -Dpostgresql.server.version used? Does the POSTGRES\_VERSION value in .env win? (It seems to.)
Thu, Sep 7, 2023, 09:25:18 - poikilotherm: Depends on when and where you set it. It can win, yes, when given via the docker compose mechanics.
Thu, Sep 7, 2023, 09:25:35 - poikilotherm: As it is a Maven property anyway, it makes sense that docker compose wins ;-)
Thu, Sep 7, 2023, 09:26:10 - pdurbin: But if I change it in the pom, and not in the .env file, what happens?
Thu, Sep 7, 2023, 12:18:26 - Asbj√∏rn Sk√∏dt joined the room
Thu, Sep 7, 2023, 15:28:28 - prsridha: Oh Thanks! üòÖ Dataverse does sound like something I'd enjoy! I'd jump ship, but my current job has me in its grip üòá

I had a quick question -
I managed to integrate my installation with Apache. So it's running on port 80/443 with HTTPS right now. But the links in the email say http and still point to 8080. Is there any way to change this?
Similarly for the links in the bibtext of my dataset citation, it has HTTP:// and :8080. Is there a way to change this too?
Thu, Sep 7, 2023, 15:29:14 - pdurbin: Yes! You should stop Payara and edit dataverse.siteUrl and start again
Thu, Sep 7, 2023, 15:29:35 - prsridha: Okay got it. Let me try that out. Thanks!
Thu, Sep 7, 2023, 15:29:48 - pdurbin: sure, it trips a lot of people up, believe me
Thu, Sep 7, 2023, 16:04:28 - dozed joined the room
Fri, Sep 8, 2023, 04:46:37 - Pallinger P√©ter set a profile picture
Fri, Sep 8, 2023, 07:30:41 - pdurbin: Wow, I wonder if we'll release 6.0 today. We're down to just release notes and version bump: https://github.com/IQSS/dataverse/milestone/109
Fri, Sep 8, 2023, 07:34:42 - poikilotherm: It's Friday! Good day for a release
Fri, Sep 8, 2023, 07:47:28 - pdurbin: Sure, it's DEPLOYMENT on a Friday that can be scary üò±
Fri, Sep 8, 2023, 07:48:12 - Donald Sizemore II: @pdurbin I had a note on my notepad that said "Merge Phil's" and then my boss came to talk, but I did merge your postgres15.yml file yesterday and will duplicate the Jenkins job today. I've already run the tests manually; we were pleased to discover the failure list matched what we were seeing in Jenkins at the time.
Fri, Sep 8, 2023, 07:51:29 - pdurbin: Awesome. This is the only diff from develop? I though you said there was a GRANT or two to change.

```
266c266
<     version: 13
---
>     version: 15
379c379
< dataverse_branch: develop
---
> dataverse_branch: 9717_postgres_15
```
Fri, Sep 8, 2023, 08:11:17 - pdurbin: Something Ansible does or something. Maybe I dreamt it.
Fri, Sep 8, 2023, 09:36:24 - pdurbin: Oh, it was in Slack. Replied to Don there.
Fri, Sep 8, 2023, 09:53:28 - pdurbin: This (for idempotence): https://github.com/GlobalDataverseCommunityConsortium/dataverse-ansible/commit/660c8aae2c71557aabeb2c2f9d8d632ac4084e54#diff-c4276daedf5153cbf4a8d92448f6d9b1374e6d5fdbfba3a14d4ed3d159d063a9R133
Fri, Sep 8, 2023, 10:24:32 - poikilotherm: > <@pdurbin:matrix.org> Wow, I wonder if we'll release 6.0 today. We're down to just release notes and version bump: https://github.com/IQSS/dataverse/milestone/109

In reply to @pdurbin:matrix.org
Wow, I wonder if we'll release 6.0 today. We're down to just release notes and version bump: https://github.com/IQSS/dataverse/milestone/109

Is this something worth looking at for fixing before releasing? https://github.com/IQSS/dataverse/issues/9889
Fri, Sep 8, 2023, 10:30:04 - pdurbin: The problem is we'll never release if we keep adding just one more bug fix.
Fri, Sep 8, 2023, 12:08:39 - poikilotherm: I was at the stage of triage. Is it important enough to deal with it now or can it be postponed
Fri, Sep 8, 2023, 12:09:40 - poikilotherm: I was not asking to make it a part of 6.0 no matter what üòÖ I completely agree we should focus on releasing.
Fri, Sep 8, 2023, 12:26:57 - pdurbin: Sure, I understand. And maybe you were reacting to comments this morning from Philipp and Dieuwertje. I missed those until just now.
Fri, Sep 8, 2023, 14:42:31 - Donald Sizemore II: @pdurbin I mean, maybe a 5.14.1 to fix #9889 and the dataset creation bug? the latter is a fairly small patch.
Fri, Sep 8, 2023, 14:46:15 - pdurbin: No objection. I hate bugs.
Fri, Sep 8, 2023, 14:46:34 - Donald Sizemore II: unless they're deep-fried and dipped in chocolate
Fri, Sep 8, 2023, 15:50:50 - pdurbin: mmm, I'd try it
Fri, Sep 8, 2023, 15:51:10 - pdurbin sent an image. (Media omitted)
Fri, Sep 8, 2023, 15:51:21 - pdurbin: lots of good merging today!
Fri, Sep 8, 2023, 15:51:48 - pdurbin: I took that pic this morning while walking the dog.
Fri, Sep 8, 2023, 16:04:20 - * pdurbin does a drumroll ü•Å
Fri, Sep 8, 2023, 16:04:28 - pdurbin: Dataverse 6.0 is here! https://github.com/IQSS/dataverse/releases/tag/v6.0
Fri, Sep 8, 2023, 16:46:40 - poikilotherm: Let's see how long it takes before the first of our beloved users finds a üêõ we missed with Payara 6! üê†
Fri, Sep 8, 2023, 16:47:21 - poikilotherm: But yeah! Big step forward! ü¶∂
Fri, Sep 8, 2023, 16:47:44 - pdurbin: Yeah, I wouldn't be surprised if we need to release a 6.0.1 üò¨
Fri, Sep 8, 2023, 16:47:55 - pdurbin: Oh well, let the bug hunting begin!
Fri, Sep 8, 2023, 16:48:16 - pdurbin: A friend of mine says, "I'm German. I always find the hair in my soup." üòÑ
Fri, Sep 8, 2023, 16:48:24 - poikilotherm: üêõ üêõ üêõ üêõ üêõ üî®üí•
Fri, Sep 8, 2023, 16:49:25 - poikilotherm: > <@pdurbin:matrix.org> A friend of mine says, "I'm German. I always find the hair in my soup." üòÑ

In reply to pdurbin
A friend of mine says, "I'm German. I always find the hair in my soup." üòÑ


In reply to @pdurbin:matrix.org
A friend of mine says, "I'm German. I always find the hair in my soup." üòÑ

Sounds like me but I don't say that. Still true. Germans. Look at those nerds.

Fri, Sep 8, 2023, 16:49:48 - pdurbin: Dutch too, I think.
Fri, Sep 8, 2023, 16:50:22 - pdurbin: Anyway, time to celebrate I say. poikilotherm (CEST,UTC+2) let's be honest, you and I did a lot of PRs for 6.0. üòÑ
Fri, Sep 8, 2023, 16:50:47 - pdurbin: And massive kudos to Donald Sizemore II for the Postgres 15 fix and probably other stuff I'm forgetting.
Fri, Sep 8, 2023, 16:51:39 - poikilotherm: I can't think of any commit. I solemnly pledge wasn't me
Fri, Sep 8, 2023, 16:52:21 - pdurbin: Huh? You did all the legwork for Payara and Java upgrades.
Fri, Sep 8, 2023, 16:52:53 - poikilotherm: Psst. I don't want people blame me for doing upgrade chores
Fri, Sep 8, 2023, 16:54:00 - poikilotherm: <@pdurbin:matrix.org "And massive kudos to Donald Size..."> Lots of Jenkins!
Fri, Sep 8, 2023, 16:54:10 - pdurbin: absolutely
Fri, Sep 8, 2023, 16:54:25 - pdurbin: Oh, I kicked off the alpha and develop runners.
Fri, Sep 8, 2023, 16:54:35 - pdurbin: Since we have a new alpha.
Fri, Sep 8, 2023, 16:55:38 - poikilotherm: Hey here's a thougt: have you ever seen Gitlab announcing the MVP for releases? Maybe our fellow community devs would benefit from such a mention. (So the core team would not be in for that)
Fri, Sep 8, 2023, 16:55:48 - poikilotherm: Mvp = most valuable person
Fri, Sep 8, 2023, 17:00:01 - pdurbin: No, I hadn't heard they did that but it works in football üèà
Fri, Sep 8, 2023, 17:02:48 - pdurbin: Trying to fix alpha: https://github.com/gdcc/api-test-runner/commit/87563e56aa50243996cde58a4df757a6f50251dc
Fri, Sep 8, 2023, 17:03:18 - pdurbin: Anyway, it's 5 o'clock. Quittin' time. Have a good weekend, everyone! Go give Dataverse 6.0 a spin!
Sun, Sep 10, 2023, 08:18:41 - Donald Sizemore II: poikilotherm (CEST,UTC+2): at first I thought you were proposing a Minimum Viable Product for releases ;)
Sun, Sep 10, 2023, 08:20:51 - Donald Sizemore II: poikilotherm (CEST,UTC+2): one of my dad's favorite jokes: "excuse me, waiter, what's this fly doing in my soup?" "looks like the backstroke."
Sun, Sep 10, 2023, 08:53:05 - poikilotherm: Ha! Just like this one: Sir, there's a fly in my soup! Not for long, see the spider at the edge of your plate?
Mon, Sep 11, 2023, 06:59:53 - pdurbin: The official announcement for Dataverse 6.0 should come out today
Mon, Sep 11, 2023, 07:17:27 - pdurbin: Is anyone comfortable replying to this question about dataverse_files/temp? https://groups.google.com/g/dataverse-community/c/zxTw8sQPXek/m/A03wQ3puAgAJ
Mon, Sep 11, 2023, 07:18:32 - pdurbin: Actually, I'm gaining confidence as I read https://github.com/IQSS/dataverse/issues/2140 via https://github.com/IQSS/dataverse/issues/2848
Mon, Sep 11, 2023, 07:20:26 - pdurbin: But I'd better get some breakfast and walk the dog. Lemme know! üòÑ
Mon, Sep 11, 2023, 08:26:29 - Donald Sizemore II: @pdurbin Gustavo always told me temp/ was safe to clean out provided one is certain Dataverse had completed any operations on said file. A payara restart or perhaps an `ls -au` would verify.
Mon, Sep 11, 2023, 09:34:09 - Miguel Silva: Hi everyone
Mon, Sep 11, 2023, 09:34:21 - Miguel Silva: The Smart Data Acquisition with 16-bit data resolution is now available¬†on¬†my¬†Github
Mon, Sep 11, 2023, 09:34:34 - Miguel Silva: here's the link to GitHub:
https://github.com/aeonSolutions/PCB-Prototyping-Catalogue/blob/main/Laboratory%20Automation/readme.md 
Mon, Sep 11, 2023, 09:34:53 - Miguel Silva sent an image. (Media omitted)
Mon, Sep 11, 2023, 09:46:59 - pdurbin: nice
Mon, Sep 11, 2023, 09:48:10 - pdurbin: Miguel Silva: oh hey, over the weekend I mentioned https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library to someone who is looking for an open source C project to contribute to.
Mon, Sep 11, 2023, 09:48:48 - Miguel Silva: <@pdurbin:matrix.org "nice"> hi . how are you today?
Mon, Sep 11, 2023, 09:48:57 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: oh hey, over the w..."> great! awesome !
Mon, Sep 11, 2023, 09:49:16 - pdurbin: I told him we're both active here in this chat room if he has any questions.
Mon, Sep 11, 2023, 09:50:35 - Miguel Silva: <@pdurbin:matrix.org "I told him we're both active her..."> ok. I'll be more "around" and active here.... in case anyone may need some support 
Mon, Sep 11, 2023, 09:50:47 - Miguel Silva: üëçÔ∏è
Mon, Sep 11, 2023, 09:51:55 - pdurbin: Cool. He might be shopping around for other projects though. Not sure üòÑ
Mon, Sep 11, 2023, 09:52:11 - Miguel Silva: alright
Mon, Sep 11, 2023, 09:53:15 - pdurbin: heh
Mon, Sep 11, 2023, 13:19:56 - Richard Valdivia joined the room
Mon, Sep 11, 2023, 13:20:09 - Richard Valdivia: Hello all!!!
Mon, Sep 11, 2023, 13:21:38 - Richard Valdivia: I dont know if I do the right thing, but I open an new issue (Feature / Request) in a Dataverse GitHub
Mon, Sep 11, 2023, 13:23:49 - Richard Valdivia: My question is about how what is the right way to change Handle to a record that was previously assigned with DOI FAKE...
Mon, Sep 11, 2023, 13:24:33 - Richard Valdivia: pdurbin: can you help me about that?
Mon, Sep 11, 2023, 13:24:34 - Richard Valdivia: rs
Mon, Sep 11, 2023, 13:24:40 - pdurbin: Oh hey, I just replied üòÑ
Mon, Sep 11, 2023, 13:24:52 - pdurbin: https://github.com/IQSS/dataverse/issues/9899
Mon, Sep 11, 2023, 13:25:07 - Richard Valdivia: <@pdurbin:matrix.org "Oh hey, I just replied üòÑ"> oww... very fast...!! rs
Mon, Sep 11, 2023, 13:26:15 - Richard Valdivia: pdurbin: this type of question can I send from Feature / Request method?
Mon, Sep 11, 2023, 13:27:20 - pdurbin: Are you asking if it's ok that you created an issue? Yes, it's ok. üòÑ
Mon, Sep 11, 2023, 13:28:36 - pdurbin: How many FAKE datasets do you have?
Mon, Sep 11, 2023, 13:28:59 - Justin Lim joined the room
Mon, Sep 11, 2023, 13:31:02 - Richard Valdivia: pdurbin: Reading your response I found this curl comand: curl -H "X-Dataverse-key: $API_TOKEN" -X POST http://$SERVER/api/admin/$dataset-id/reregisterHDLToPID
Mon, Sep 11, 2023, 13:31:38 - Richard Valdivia: I have to use this parameter to made the new register? reregisterHDLToPID
Mon, Sep 11, 2023, 13:32:45 - Richard Valdivia: Message deleted
Mon, Sep 11, 2023, 13:33:34 - Richard Valdivia: I must put the ID that must be reregistered instead of reregisterHDLToPID
Mon, Sep 11, 2023, 13:33:55 - Richard Valdivia: ????
Mon, Sep 11, 2023, 13:35:53 - Richard Valdivia: <@pdurbin:matrix.org "How many FAKE datasets do you ha..."> more and less 300 to 350 registers
Mon, Sep 11, 2023, 13:36:57 - pdurbin: Richard Valdivia: that reregisterHDLToPID won't work for you. Sorry.
Mon, Sep 11, 2023, 13:39:05 - Justin Lim: Hello Miguel and Philip! I am interested in contributing to the C API. If there is some area of the project that you think would be good place to start I would happy to look into it.
Mon, Sep 11, 2023, 13:39:32 - Richard Valdivia: <@pdurbin:matrix.org "Richard Valdivia: that reregiste..."> hummmm... this is not good üòÅüòÅ!!! You say this because, in this case, I would do one by one?
Mon, Sep 11, 2023, 13:40:31 - pdurbin: Miguel Silva: ^^
Mon, Sep 11, 2023, 13:41:30 - pdurbin: 300-350 is a lot. You'll probably want to write a script
Mon, Sep 11, 2023, 13:42:32 - pdurbin: Richard Valdivia: I would suggest writing to https://groups.google.com/g/dataverse-community to explain your situation and ask if anyone has written a script
Mon, Sep 11, 2023, 13:43:07 - Richard Valdivia: <@pdurbin:matrix.org "Richard Valdivia: I would sugges..."> Perfect... tanks Phill,
Mon, Sep 11, 2023, 13:44:59 - pdurbin: Justin Lim: thanks for stopping by! I was talking to Miguel Silva just this morning! He gave a üòç when I said you might want to start contributing!
Mon, Sep 11, 2023, 13:49:27 - pdurbin: Justin Lim: I see a TODO about HTTP POST requests here: https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library/wiki
Wed, Sep 13, 2023, 07:30:24 - pdurbin: Justin Lim: you might want to just send Miguel Silva an email. Do you see his gmail address at https://github.com/aeonSolutions ? (I have to be logged into GitHub to see it.)
Wed, Sep 13, 2023, 07:51:02 - Miguel Silva: <@pdurbin:matrix.org "Justin Lim: you might want to ju..."> easier this way. Here it is: mtpsilva@gmail.com
Wed, Sep 13, 2023, 07:53:34 - Miguel Silva: Hi Justin Lim  I maintain a C++ library to expedite connectivity to a #dataverse. It is hosted on GitHub. You are welcome to join me in improving the code.

Here's the link to the repository:
https://github.com/aeonSolutions/OpenScience-Dataverse-API-C-library
Wed, Sep 13, 2023, 08:00:03 - pdurbin: Ha! Thanks! I'm glad you two are connecting.
Wed, Sep 13, 2023, 08:01:48 - pdurbin: Miguel Silva: is there a small hello world example with a Makefile? I was a little confused by the idea of simply copying the .h and .cpp files into a project. C/C++ is a different world, I guess, and it's been 20+ years since I took a class in it! üòÖ
Wed, Sep 13, 2023, 08:40:40 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: is there a small h..."> unfortunately no.  Not for now. 
I've been coding it for "embedded devices". Those Smart Data Acquisition Devices I've been posting about. 

So if anyone has some spare time, write a simpler "hello world" example. It is greatly appreciated. 

In the meantime, there's a firmware code, fully working and running  on this GitHub repository here

https://github.com/aeonSolutions/openScience-Smart-DAQ-to-Upload-Live-Experimental-Data-to-a-Data-Repository

folder "Firmware Code"
Wed, Sep 13, 2023, 08:41:53 - Miguel Silva: ... Anyone can use it as a study reference to learn how the code works and how it can be implemented on any other project
Wed, Sep 13, 2023, 08:44:44 - Miguel Silva: else, as soon as I find some time, I'll add one or two examples to the c++ library on Github
Wed, Sep 13, 2023, 09:04:45 - pdurbin: Ok. Maybe Justin Lim could contribute that, if it makes sense. üòÑ
Wed, Sep 13, 2023, 16:48:10 - pdurbin: prsridha: https://github.com/IQSS/dataverse/pull/9833 has been merged! Thanks again!
Wed, Sep 13, 2023, 17:00:27 - Justin Lim: <@aeonlabs:matrix.org "easier this way. Here it is: mtp..."> Thanks for the responses. I sent you an email. I had some trouble getting used to the way Element displays replies haha
Wed, Sep 13, 2023, 17:01:09 - pdurbin: Matrix/Element takes some getting used to. We also have https://dataverse.zulipchat.com if you are interested.
Wed, Sep 13, 2023, 17:07:42 - Justin Lim: <@pdurbin:matrix.org "Matrix/Element takes some gettin..."> cool! I will take a look
Thu, Sep 14, 2023, 08:04:32 - Donald Sizemore II: @pdurbin I think I fixed it! still testing.
Thu, Sep 14, 2023, 09:06:22 - pdurbin: Donald Sizemore II: go go go!
Thu, Sep 14, 2023, 09:20:59 - Donald Sizemore II: @pdurbin I lied and didn't fix it and am terrible. The installer _says_ it's doing what I want it to, but it doesn't. The same commands issued manually on the same DB as the same user work.
Thu, Sep 14, 2023, 09:22:13 - pdurbin: Hmm, we must be missing something.
Thu, Sep 14, 2023, 09:22:23 - pdurbin: I spun down my ec2 instance.
Thu, Sep 14, 2023, 09:22:28 - pdurbin: Someday we'll fix it.
Thu, Sep 14, 2023, 09:22:41 - pdurbin: Or the community will.
Thu, Sep 14, 2023, 09:23:05 - Donald Sizemore II: I have a vagrant instance up; I'm happy to screen-share. Debugging statements show up in the installer output at the appropriate place, no errors in Postgres log, just... no permissions. Until I try it manually.
Thu, Sep 14, 2023, 09:24:47 - pdurbin: Can you print the exception?
Thu, Sep 14, 2023, 09:25:10 - Donald Sizemore II: that's the thing. the exception should show up in the postgres log (or STDERR)
Thu, Sep 14, 2023, 09:25:16 - pdurbin: with `except Exception as e:` I think: https://stackoverflow.com/questions/1483429/how-do-i-print-an-exception-in-python
Thu, Sep 14, 2023, 09:25:24 - pdurbin: and then `print(e)`
Thu, Sep 14, 2023, 09:25:43 - Donald Sizemore II: I'm using this branch https://github.com/OdumInstitute/dataverse/blob/postgres15_install_fix/scripts/installer/install.py#L424
Thu, Sep 14, 2023, 09:26:15 - pdurbin: right, so please try changing `except:` to `except Exception as e:`
Thu, Sep 14, 2023, 09:26:27 - pdurbin: and then `print(e)` later
Thu, Sep 14, 2023, 09:26:29 - Donald Sizemore II: it's not logging any exception, but I'll absolutely make that change.
Thu, Sep 14, 2023, 09:26:44 - pdurbin: thanks!
Thu, Sep 14, 2023, 09:26:58 - pdurbin: https://ct.gdcc.io meeting in a few minutes!
Thu, Sep 14, 2023, 09:27:04 - Donald Sizemore II: yes
Thu, Sep 14, 2023, 09:27:11 - pdurbin: I've even less prepared than usual üòÖ
Thu, Sep 14, 2023, 09:27:23 - Donald Sizemore II: normal is a setting on the dryer.
Thu, Sep 14, 2023, 10:08:49 - luddaniel (INRAE : https://entrepot.recherche.data.gouv.fr/): Message deleted
Thu, Sep 14, 2023, 10:31:19 - Donald Sizemore II: pdurbin: a) the containerization working group meeting is so much more relaxed when I'm not gunning to make it to campus on time! b) still no exception with `Exception as e`
Thu, Sep 14, 2023, 11:11:00 - Donald Sizemore II: @pdurbin I learned a thing, thanks to Matthew: psycopg2 opens transaction blocks by default, and I wasn't setting AUTOCOMMIT - this would explain everything
Thu, Sep 14, 2023, 11:22:43 - Donald Sizemore II: @pdurbin the installer succeeded :)
Thu, Sep 14, 2023, 12:31:54 - pdurbin: Whoa! I just saw https://github.com/IQSS/dataverse/compare/develop...OdumInstitute:dataverse:postgres15_install_fix ! That's great!
Thu, Sep 14, 2023, 15:00:41 - Donald Sizemore II: AUTOCOMMIT
Thu, Sep 14, 2023, 16:00:43 - pdurbin: heh
Fri, Sep 15, 2023, 02:10:03 - Miguel Silva: <@moistbread:matrix.org "Thanks for the responses. I sent..."> Hi Justin . Already replied . If you need any additional explanation,  drop me a message 
Fri, Sep 15, 2023, 08:02:15 - pdurbin: Hmm, we still don't have a topic for the next community call. I could talk about chat. IRC, Slack, Matrix, and Zulip. What do you think?
Fri, Sep 15, 2023, 08:03:39 - poikilotherm: Should we talk about containers? Or is this too much a niche?
Fri, Sep 15, 2023, 08:03:56 - pdurbin: We absolutely could give a container update.
Fri, Sep 15, 2023, 08:04:13 - pdurbin: Or we could talk about 6.0
Fri, Sep 15, 2023, 08:07:30 - poikilotherm: Maybe both at the same time? üôÄ
Fri, Sep 15, 2023, 08:07:51 - poikilotherm: Use containers to fire up Dataverse 6.0 ü§Ø
Fri, Sep 15, 2023, 08:08:51 - pdurbin: Sure. Not much new to play with feature-wise, though. ü§î
Fri, Sep 15, 2023, 14:20:34 - Miguel Silva: <@pdurbin:matrix.org "Hmm, we still don't have a topic..."> How about this topic for the next community call in an #agile story format:
"Add the functionality to receive live, real-time, experimental data directly from a smart data acquisition device"
Fri, Sep 15, 2023, 14:21:49 - Miguel Silva: And even
"Increase data trustworthiness with the increase in the number of smart Data Acquisition devices uploading experimental data to a dataverse in real-time "
Fri, Sep 15, 2023, 14:23:23 - Miguel Silva: I have another
"Increase data trustworthiness by implementing a blockchain  to the unique fingerprint identification on a dataset "
Fri, Sep 15, 2023, 14:23:41 - pdurbin: Hmm, how much time would you like?
Fri, Sep 15, 2023, 14:24:09 - Miguel Silva: You mean, for me to do a presentation ?
Fri, Sep 15, 2023, 14:24:15 - Miguel Silva: ü§î
Fri, Sep 15, 2023, 14:24:27 - pdurbin: Yes. I thought you were offering. üòÑ
Fri, Sep 15, 2023, 14:25:00 - Miguel Silva: 15min .20min ....I can do an afternoon talking about it 
Fri, Sep 15, 2023, 14:25:30 - pdurbin: Would 15 minutes be ok? The next call is on Tuesday.
Fri, Sep 15, 2023, 14:25:42 - Miguel Silva: Yes. Is fine .
Fri, Sep 15, 2023, 14:26:01 - Miguel Silva: Tuesday. Consider it scheduled on my part .
Fri, Sep 15, 2023, 14:26:53 - pdurbin: Great! I'll update https://dataverse.org/community-calls and on Monday I'll send a reminder about the call to the Google Group.
Fri, Sep 15, 2023, 14:28:54 - pdurbin: Miguel Silva: does this look ok? I added "into Dataverse":

"Miguel Silva on adding functionality to receive live, real-time, experimental data directly from a smart data acquisition device into Dataverse"
Fri, Sep 15, 2023, 14:30:01 - Miguel Silva: <@pdurbin:matrix.org "Great! I'll update https://datav..."> Ok! Great. Have an awesome weekend üòé 
Fri, Sep 15, 2023, 14:32:56 - pdurbin: you too!
Fri, Sep 15, 2023, 14:33:00 - Miguel Silva: ( 10AM Boston time or 16h Brussels time) 
Fri, Sep 15, 2023, 16:30:28 - pdurbin: Yes, exactly. Thanks again!
Fri, Sep 15, 2023, 16:30:42 - pdurbin: I'm heading out pretty soon. Have a good weekend, everyone!
Mon, Sep 18, 2023, 06:47:35 - pdurbin changed the topic to "Please try https://dataverse.zulipchat.com instead of Matrix/Element.

Dataverse is open source research data repository software: http://dataverse.org

Public logs at https://archive.matrix.org/r/dataverse:matrix.org".
Mon, Sep 18, 2023, 06:49:53 - pdurbin: Happy Monday! I just updated the topic. Can folks please try https://dataverse.zulipchat.com instead of this channel? Feedback is very welcome in the "zulip" stream. Thanks!! ‚ù§Ô∏è
Mon, Sep 18, 2023, 07:18:01 - Donald Sizemore II: if we're no longer in the Matrix, does this mean we've taken the blue pill? ‚Äî K. Reeves
Mon, Sep 18, 2023, 09:41:32 - pdurbin: Take the orange pill! üü† https://dataverse.zulipchat.com üü†
Tue, Sep 19, 2023, 05:20:36 - Pallinger P√©ter: Currently, dataverse 5.13 and 5.14 is unbuildable due to the UNF jar on maven central is built with java17 and class file version 61.0.
I see that there is a fresh commit for UNF that should fix this issue ( https://github.com/IQSS/UNF/commit/dfa4be3c457d886b265d4e0dcac42af8fc8a6339 ), does anyone know when this will go out to maven central? poikilotherm (CEST,UTC+2) ?
Tue, Sep 19, 2023, 05:22:03 - Pallinger P√©ter: At least it is unbuildable on a server that has no maven cache yet of the old version of this jar. I managed to work this around by copying the jar file manually from another server, but that is not an ideal solution.
Tue, Sep 19, 2023, 07:23:49 - dozed: Do Dataverse records have a notion of `open access`/`closed access`?
Zenodo records for example have an `access_right` field, which can be `open`, `embargoed`, `restricted` or `closed`
Tue, Sep 19, 2023, 07:24:41 - Pallinger P√©ter: another, more generic question: can you force the (re)creation of an API access token for a different user, e.g. as a superadmin?
Tue, Sep 19, 2023, 07:43:07 - poikilotherm: <@pallinger:sztaki.hu "Currently, dataverse 5.13 and 5...."> Hi! Can we move the discussion to this place? Thx! https://dataverse.zulipchat.com/#narrow/stream/379673-dev/topic/UNF.206.2E0.20breaks.20builds
Tue, Sep 19, 2023, 08:05:05 - poikilotherm: <@dozed:matrix.org "Do Dataverse records have a noti..."> Hi! Could you take the discussion to Zulip please? The [community stream](https://dataverse.zulipchat.com/#narrow/stream/375707-community) is probably a good place for a new topic on this. Thx!
Tue, Sep 19, 2023, 11:01:08 - Miguel Silva: pdurbin: in regards to the presentation, in particular, the customization I propose to the UNF
the hardware revision 04-2023 , from April 2023, already includes a luminosity sensor that can be used when hashing a measurement data record with its Unique Fingerprint Identification  (UFPID)
Tue, Sep 19, 2023, 15:18:15 - pdurbin: Miguel Silva: cool but don't forget! Zulip is the new Matrix! https://dataverse.zulipchat.com . Please feel free to start a topic under "community"!
Wed, Sep 20, 2023, 06:24:21 - Miguel Silva: <@pdurbin:matrix.org "Miguel Silva: cool but don't for..."> alright.  let's do this!
Wed, Sep 20, 2023, 14:54:17 - Santiago Florez: Hi all, I don't remember if I had asked this, but it doesn't matter. How can I enable a message field when returning a review dataset?
Thu, Sep 21, 2023, 07:28:40 - pdurbin: Santiago Florez: hi! Can you please join us in Zulip? https://dataverse.zulipchat.com
Tue, Sep 26, 2023, 10:14:07 - Santiago Florez: Hi everyone 
Tue, Sep 26, 2023, 10:25:12 - Santiago Florez: I have been asking in the Google Groups community about customizing the new metadata block (this is the "https://groups.google.com/g/dataverse-community/c/VFMoX9G-D60" thread). I want to create a selected element as "authorIdentifierScheme" in the citation block. I share with you my .tvs file and my .properties file. Furthermore, I got help from Julian, but what he told me to do didn't work.   
Tue, Sep 26, 2023, 10:26:00 - Santiago Florez sent an image. (Media omitted)
Tue, Sep 26, 2023, 10:26:00 - Santiago Florez sent an image. (Media omitted)
Tue, Sep 26, 2023, 14:21:04 - pdurbin: I replied at https://dataverse.zulipchat.com/#narrow/stream/375707-community/topic/Custom.20metadata.20block
Wed, Oct 4, 2023, 07:40:12 - pdurbin: Just a reminder that we've switched from Matrix/Element to Zulip: https://dataverse.zulipchat.com
Wed, Feb 7, 2024, 04:11:10 - Kir√°ly P√©ter: dszabo: Hi, I try to upgrade Dataverse in a test machine from 5.13 to 5.14 under Ubuntu 20.04 and Java 17 OpenJDK. I run into an issue:

```
$ sudo -u glassfish /usr/local/payara5/bin/asadmin deploy dataverse-5.14.war
```
remote failure: Error occurred during deployment: Exception while preparing the app : class com.sun.enterprise.security.provider.PolicyConfigurationImpl (in unnamed module @0x4317d116) cannot access class sun.net.www.ParseUtil (in module java.base) because module java.base does not export sun.net.www to unnamed module @0x4317d116. Please see server.log for more details.
Command deploy failed.
Have you seen similar message, and do you probably have any suggestion how to solve it?
Wed, Feb 7, 2024, 04:46:19 - Kir√°ly P√©ter: An update: the solution was to use Java 11 instead of Java 17.
Mon, Mar 18, 2024, 08:17:42 - pdurbin: Kir√°ly P√©ter (and everyone): we've moved to Zulip: https://chat.dataverse.org
